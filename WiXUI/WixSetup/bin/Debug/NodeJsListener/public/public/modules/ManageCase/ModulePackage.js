Komodo.Models.InteractionDetailsModel=Ember.Object.extend({init:function(){this.queryType=void 0,this.category=void 0,this.subCategory=void 0,this.outcome=void 0,this.device=void 0,this.deviceType=void 0,this.deviceSubCategory=void 0,this.loaderVersion=void 0,this.priority=void 0,this.status=void 0,this.linkedCases=void 0,this.caseOwner=void 0,this.teamLead=void 0,this.escalatedTo=void 0,this.notes=void 0,this.resolveReason=void 0,this.UID=void 0,this.isResolved=void 0,this.customerUID=void 0,this.caseHistoryLog=[],this.isNoCaseHistoryFound=!0,this.contentPagerPageContent=Ember.A(),this.isCaseViewed=!1,this.caseDocuments=[],this.caseDocPagerPageContent=Ember.A(),this.noDocumentsUploaded=!0,this.messagingFrameworkResponse=!0,this._super()}}),Komodo.UI.Validators.compositeTelephoneValidator=function(e,t,a){var s=Ember.A();return e.telephoneCode&&e.telephoneNumber||s.push("Please specify both the code and number."),s};var CommonFunctions={init:function(){},isNullOrEmpty:function(e){return void 0==e||null==e||""==e},getHyphenIfEmpty:function(e){return this.isNullOrEmpty(e)?"-":e},isArrayNullOrEmpty:function(e){return!(e&&e.length&&e.length>0)},showProperties:function(e,t){var a="";if(e)if(e.length&&e.length>0)for(var s=0;s<e.length;s++)a+="  Object"+s+":"+this.getCommaSeparatedProperties(e[s]);else for(var s=0;s<t.length;s++)a+=e.get(t[s]);return a},getCommaSeparatedProperties:function(e,t){for(var a=0;a<t.length;a++)str+=getBlankIfNull(e.get(t[a]))},getBlankIfNull:function(e){return e&&""!=e.toString().trim()?e.toString().trim()+", ":""},containsDuplicateItems:function(e,t,a,s){if(void 0==t||null==t)throw"item should not be null or undefined.";if(void 0==e||null==e)throw"collections should not be null or undefined";if(void 0==a||null==a)throw"properties should not be null or undefined";if(!a.length)throw"properties should be array";if(!(a.length>0))throw"properties should have minimum 1 entry.";if(!(e.length&&e.length>0))return!1;for(var o=0;o<e.length;o++){var i=e[o];if(!s||s!=i)for(var r=0;r<a.length;r++){for(var n=a[r],l=!0,d=0;d<n.length;d++){var c=n[d];if(c&&!(l&=i.get(c.toString())==t.get(c.toString())))break}if(l)return!0}}return!1},validatePropertiesIfChanged:function(e,t,a){if(a&&a.length&&a.length>0)for(var s=0;s<a.length;s++){var o=a[s],i=t.get(o.toString()),r=e.get(o.toString());if(i=null==i||""==i?void 0:i,(r=null==r||""==r?void 0:r)instanceof Date&&i instanceof Date){if(0!=this.compareDate(r,i))return Komodo.log(o+" DateProperty Changed from "+r+" to "+i),!1}else if(r!=i)return Komodo.log(o+" Property Changed from "+r+" to "+i),!1}return!0},cloneProperties:function(e,t,a){if(a&&a.length&&a.length>0)for(var s=0;s<a.length;s++){var o=a[s];Ember.set(t,o,Ember.get(e,o))}},areItemFieldsEmpty:function(e,t){if(!(void 0!=t&&t.length&&t.length>0))return!0;if(void 0==e||null==e)return!0;for(var a=0;a<t.length;a++){var s=Ember.get(e,t[a]);if(void 0==s||null==s||""==s)return!0}return!1},compareDate:function(e,t){return isFinite(e=this.convert(e).valueOf())&&isFinite(t=this.convert(t).valueOf())?(e>t)-(e<t):NaN},convert:function(e){return e.constructor===Date?e:e.constructor===Array?new Date(e[0],e[1],e[2]):e.constructor===Number?new Date(e):e.constructor===String?new Date(e):"object"==typeof e?new Date(e.year,e.month,e.date):NaN}};Ember.TEMPLATES.InteractionDetailsView=Ember.Handlebars.template(function(e,t,a,s,o){function i(e,t){var s,o,i;return t.buffer.push('\r\n\r\n  <table width="100%">\r\n    <tr class="retrieve-records" >\r\n      <td colspan="5" style="min-height:30px;">\r\n        &nbsp;\r\n        '),s=a.if.call(e,"isRetrievingDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(2,r,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  \r\n  <table width="80%" class="table table-bordered komodo-datagrid">\r\n    <tr>\r\n      <th width="90%">'),t.buffer.push(p((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.attachedDocument",i):f.call(e,"loc","locale.manageCase:caseHistory.attachedDocument",i)))),t.buffer.push("</th>\r\n    </tr>\r\n    "),s=a.if.call(e,"isShowingDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:m.program(7,d,t),fn:m.program(4,n,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.if.call(e,"view.context.data.isNoDocumentsUploaded",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(9,c,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  </table>\r\n  "),t.buffer.push(p(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"view.context.data.caseDocuments",pageContentBinding:"view.context.data.caseDocPagerPageContent",itemsPerPage:"5",visiblePageCount:"7"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),s=a.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.caseHist~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:e,isCollapsed:e},inverse:m.noop,fn:m.program(11,u,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  "),""}function r(e,t){return t.buffer.push("\r\n        "),t.buffer.push(p(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.busyRetrivingCaseDocs~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function n(e,t){var s;return t.buffer.push("\r\n    "),s=a.each.call(e,"itemdoc","in","view.context.data.caseDocPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(5,l,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function l(e,t){return t.buffer.push('\r\n    <tr style="height:auto;">\r\n      <td>'),t.buffer.push(p(a.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"25",target:"_blank",hrefBinding:"itemdoc.documentUrl",textBinding:"itemdoc.documentName"},hashTypes:{tabindex:"STRING",target:"STRING",hrefBinding:"STRING",textBinding:"STRING"},hashContexts:{tabindex:e,target:e,hrefBinding:e,textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</td>\r\n    </tr>\r\n    "),""}function d(e,t){return t.buffer.push('\r\n    <tr class="retrieve-records" >\r\n      <td colspan="9" style="min-height:30px;">\r\n        &nbsp;\r\n        '),t.buffer.push(p(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.errAttachedDocs~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n    "),""}function c(e,t){var s,o;return t.buffer.push('\r\n    <tr>\r\n      <td colspan="7" class="sub-heading" style="text-align: center;">\r\n        '),t.buffer.push(p((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.noDocumentsUploaded",o):f.call(e,"loc","locale.manageCase:caseHistory.noDocumentsUploaded",o)))),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n    "),""}function u(e,t){var s,o,i;return t.buffer.push('\r\n  \x3c!--This is to show the case history grid--\x3e\r\n  <table id="caseHistoryTable" class="table table-bordered komodo-datagrid">\r\n    <tr>\r\n      <th width="11%">'),t.buffer.push(p((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.modifiedDate",i):f.call(e,"loc","locale.manageCase:caseHistory.modifiedDate",i)))),t.buffer.push('</th>\r\n      <th width="11%">'),t.buffer.push(p((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.category",i):f.call(e,"loc","locale.manageCase:caseHistory.category",i)))),t.buffer.push('</th>\r\n      <th width="15%">'),t.buffer.push(p((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.sub-Category",i):f.call(e,"loc","locale.manageCase:caseHistory.sub-Category",i)))),t.buffer.push('</th>\r\n      <th width="20%">'),t.buffer.push(p((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.outcome",i):f.call(e,"loc","locale.manageCase:caseHistory.outcome",i)))),t.buffer.push('</th>\r\n      <th width="8%">'),t.buffer.push(p((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.status",i):f.call(e,"loc","locale.manageCase:caseHistory.status",i)))),t.buffer.push('</th>\r\n      <th width="10%">'),t.buffer.push(p((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.assignedTo",i):f.call(e,"loc","locale.manageCase:caseHistory.assignedTo",i)))),t.buffer.push('</th>\r\n      <th width="25%">'),t.buffer.push(p((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.notes",i):f.call(e,"loc","locale.manageCase:caseHistory.notes",i)))),t.buffer.push("</th>\r\n    </tr>\r\n    "),s=a.each.call(e,"item","in","view.context.data.contentPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(12,h,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.if.call(e,"view.context.data.isNoCaseHistoryFound",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(14,C,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  </table>\r\n  "),t.buffer.push(p(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"view.context.data.caseHistoryLog",pageContentBinding:"view.context.data.contentPagerPageContent",itemsPerPage:"5",visiblePageCount:"7"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function h(e,t){var s;return t.buffer.push("\r\n    <tr>\r\n      <td>"),s=a._triageMustache.call(e,"item.ModifiedDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.category",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.subCategory",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.outcome",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.caseOwner",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.notes",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n    </tr>\r\n    "),""}function C(e,t){var s,o;return t.buffer.push('\r\n    <tr>\r\n      <td colspan="7" class="sub-heading" style="text-align: center;">\r\n        '),t.buffer.push(p((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.noCaseHistoryFoundError",o):f.call(e,"loc","locale.manageCase:caseHistory.noCaseHistoryFoundError",o)))),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n    "),""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),o=o||{};var g,p=this.escapeExpression,m=this,f=a.helperMissing;return o.buffer.push('<div class="modal-max-size">\r\n  <table width="100%">\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Query Type method label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.queryType~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.queryType"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Catgory method label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.catgory~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.category"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--SubCatgory label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.subCategory~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.subCategory"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Outcome label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.outcome~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.outcome"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Device label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.device~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.device"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Device Category  label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.deviceType~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.deviceType"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Device Sub Category label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.softwareVersion~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.softwareVersion"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Loader Version  label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.loaderVersion~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.loaderVersion"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Priority label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.priority~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.priority"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Status label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.status~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.status"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Linked Cases label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.linkedCases~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.linkedCases"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Case Owner label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.caseOwner~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.caseOwner"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Team Lead label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.teamLead~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.teamLead"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Escalated To label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.escalatedTo~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.escalatedTo"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Notes label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.notes~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.notes"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n        \x3c!--Resolve Reason label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.resolveReason~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.resolveReason"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%" valign="top">\r\n        \x3c!--MessagingFrameworkResponse label--\x3e\r\n        '),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.messagingFrameworkResponse~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n        <br/>\r\n        "),o.buffer.push(p(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.messagingFrameworkResponse"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push('\r\n        <br/><br/>\r\n      </td>\r\n      <td width="50%" valign="top">\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  '),g=a.if.call(t,"view.context.data.isCaseViewed",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,i,o),contexts:[t],types:["ID"],data:o}),(g||0===g)&&o.buffer.push(g),o.buffer.push("\r\n</div>"),""}),Ember.TEMPLATES.GeneralNotesView=Ember.Handlebars.template(function(e,t,a,s,o){function i(e,t){return t.buffer.push('\r\n\r\n  <table width="100%">\r\n    <tr>\r\n      <td width="50%" colspan="2">\r\n        '),t.buffer.push(u(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:generalNotes.customerNumber~",tabindex:"1",valueBinding:"generalNotesModel.customerNumber",validatorBinding:"validators.customerNumberValidator",class:"info-heading",validatorBinding:"validators.customerNumberValidator",maxlength:"10"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"ID",class:"STRING",validatorBinding:"ID",maxlength:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,class:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%">\r\n        '),t.buffer.push(u(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:generalNotes.interactionType~",tabindex:"2",prompt:"~locale.manageCase:generalNotes.sinteractionType~",valueBinding:"generalNotesModel.interactionType",contentBinding:"interactionTypelst",optionLabelPath:"content.value",optionValuePath:"content.key",validatorBinding:"validators.interactionTypeValidator",class:"info-heading"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"ID",class:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n      <td width="50%">\r\n        '),t.buffer.push(u(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:generalNotes.queryType~",tabindex:"3",prompt:"~locale.manageCase:generalNotes.sQueryType~",valueBinding:"generalNotesModel.queryType",contentBinding:"queryTypelst",optionLabelPath:"content.value",optionValuePath:"content.key",validatorBinding:"validators.queryTypeValidator",class:"info-heading"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"ID",class:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%">\r\n        '),t.buffer.push(u(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:generalNotes.category~",tabindex:"4",prompt:"~locale.manageCase:generalNotes.sCategory~",valueBinding:"generalNotesModel.category",contentBinding:"categorylst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",validatorBinding:"validators.categoryValidator",class:"info-heading"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"ID",class:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n      <td width="50%">\r\n        '),t.buffer.push(u(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:generalNotes.subCategory~",tabindex:"5",prompt:"~locale.manageCase:generalNotes.sSub-Category~",valueBinding:"generalNotesModel.subCategory",contentBinding:"subCategorylst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",validatorBinding:"validators.subCategoryValidator",class:"info-heading"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"ID",class:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n    </tr>\r\n  </table>\r\n\r\n\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        '),t.buffer.push(u(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:generalNotes.notes~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(u(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{tabindex:"6",valueBinding:"generalNotesModel.notes",rows:"5",class:"col-xs-9",validatorBinding:"validators.notesValidator",maxlength:"1000"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",rows:"STRING",class:"STRING",validatorBinding:"STRING",maxlength:"STRING"},hashContexts:{tabindex:e,valueBinding:e,rows:e,class:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        <br/><br/><br/><br/><br/>\r\n        "),t.buffer.push(u(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.notesValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  "),""}function r(e,t){var s,o;t.buffer.push(u((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:generalNotes.saveNotes",o):h.call(e,"loc","locale.manageCase:generalNotes.saveNotes",o))))}function n(e,t){var s,o;t.buffer.push(u((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:generalNotes.cancel",o):h.call(e,"loc","locale.manageCase:generalNotes.cancel",o))))}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),o=o||{};var l,d,c,u=this.escapeExpression,h=a.helperMissing,C=this;return o.buffer.push('<div class="no-banner-padding">\r\n  <div width="90%">\r\n    <span class="komodo-heading">'),o.buffer.push(u((d=a.loc||t&&t.loc,c={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},d?d.call(t,"locale.manageCase:generalNotes.generalNotesTitle",c):h.call(t,"loc","locale.manageCase:generalNotes.generalNotesTitle",c)))),o.buffer.push('</span>\r\n    <span class="float-right">\r\n      <b>\r\n        <a href="#/caseHistory">&lt; '),o.buffer.push(u((d=a.loc||t&&t.loc,c={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},d?d.call(t,"locale.manageCase:generalNotes.back",c):h.call(t,"loc","locale.manageCase:generalNotes.back",c)))),o.buffer.push("</a>\r\n      </b>\r\n    </span>\r\n  </div>\r\n  <hr/>\r\n  "),l=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:generalNotes.notes~",isCollapsed:!1},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:t,isCollapsed:t},inverse:C.noop,fn:C.program(1,i,o),contexts:[t],types:["ID"],data:o}),(l||0===l)&&o.buffer.push(l),o.buffer.push('\r\n\r\n  <br/>\r\n  <div style="float:right;">\r\n    '),l=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"saveNotesCase",disabledBinding:"generalNotesModel.isDisableSaveNotesButton",tabindex:"7"},hashTypes:{action:"STRING",disabledBinding:"STRING",tabindex:"STRING"},hashContexts:{action:t,disabledBinding:t,tabindex:t},inverse:C.noop,fn:C.program(3,r,o),contexts:[t],types:["ID"],data:o}),
(l||0===l)&&o.buffer.push(l),o.buffer.push("\r\n    "),l=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"cancelCase",disabledBinding:"generalNotesModel.isDisableCancelButton",tabindex:"8",class:"btn-inverse"},hashTypes:{action:"STRING",disabledBinding:"STRING",tabindex:"STRING",class:"STRING"},hashContexts:{action:t,disabledBinding:t,tabindex:t,class:t},inverse:C.noop,fn:C.program(5,n,o),contexts:[t],types:["ID"],data:o}),(l||0===l)&&o.buffer.push(l),o.buffer.push("\r\n  </div>\r\n</div>\r\n"),""}),Ember.TEMPLATES.EditCaseView=Ember.Handlebars.template(function(e,t,a,s,o){function i(e,t){var s;return t.buffer.push("\r\n        "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"refreshCaseInformation"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:He.noop,fn:He.program(2,r,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n        "),""}function r(e,t){var s,o;t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.refresh",o):ke.call(e,"loc","locale.manageCase:editCase.refresh",o))))}function n(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(5,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function l(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(6,d,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(8,c,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function d(e,t){return t.buffer.push("\r\n    \x3c!--Customer Number label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.customerNumber~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"editCaseModel.customerNumber"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/><br/>\r\n    \x3c!--Contact Person label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.contactPerson~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"editCaseModel.contactPerson"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/><br/>\r\n    \x3c!--Interaction Type label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.interactionType~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"editCaseModel.interactionType"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/><br/>\r\n    "),""}function c(e,t){return t.buffer.push("\r\n    \x3c!--Customer Name label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.customerName~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"editCaseModel.customerName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/><br/>\r\n    \x3c!--Phone Number label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.phoneNumber~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"editCaseModel.phoneNumber"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/><br/>\r\n    \x3c!--Query Type method label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.queryType~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"editCaseModel.queryType"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/><br/>\r\n    "),""}function u(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:editCase.caseAssignTitle~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:e,isCollapsed:e},inverse:He.noop,fn:He.program(11,h,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function h(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(12,C,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function C(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(13,g,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(15,p,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function g(e,t){return t.buffer.push("\r\n    \x3c!--Customer Number label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:editCase.assigncustomerNumber~",valueBinding:"editCaseModel.assigncustomerNumber",class:"info-heading",validatorBinding:"validators.assigncustomerNumberValidator",maxlength:"10"},hashTypes:{label:"STRING",valueBinding:"STRING",class:"STRING",validatorBinding:"STRING",maxlength:"STRING"},hashContexts:{label:e,valueBinding:e,class:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \r\n        "),""}function p(e,t){var s;return t.buffer.push("   \r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("    \r\n    "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"assignCasetoCustomer",tabindex:"18"},hashTypes:{action:"STRING",tabindex:"STRING"},hashContexts:{action:e,tabindex:e},inverse:He.noop,fn:He.program(16,m,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("   \r\n    \r\n   \r\n    "),""}function m(e,t){var s,o;t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.assignCustomer",o):ke.call(e,"loc","locale.manageCase:editCase.assignCustomer",o))))}function f(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(19,v,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup1",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(25,T,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup2",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(31,M,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup3",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(37,G,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup4",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(39,w,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup5",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(45,P,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup6",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(49,H,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup7",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(55,U,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup8",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(59,_,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n\r\n    "),s=a.if.call(e,"editCaseModel.isGroup9",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(65,z,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(71,X,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function v(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(20,b,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(22,y,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function b(e,t){return t.buffer.push("\r\n    \x3c!--category method label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"editCaseModel.category",contentBinding:"categorylst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",label:"~locale.manageCase:editCase.category~",tabindex:"1",prompt:"~locale.manageCase:editCase.categoryprompt~",validatorBinding:"validators.categoryValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",label:"STRING",tabindex:"STRING",prompt:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,label:e,tabindex:e,prompt:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    \x3c!--Outcome label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"editCaseModel.outcome",contentBinding:"outcomelst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",label:"~locale.manageCase:editCase.outcome~",tabindex:"3",prompt:"~locale.manageCase:editCase.outcomeprompt~",validatorBinding:"validators.outcomeValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",label:"STRING",tabindex:"STRING",prompt:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,label:e,tabindex:e,prompt:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    \x3c!--Status Dropdown--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"editCaseModel.status",disabledBinding:"editCaseModel.isDisableStatus",contentBinding:"statuslst",optionLabelPath:"content.value",optionValuePath:"content.key",label:"~locale.manageCase:editCase.status~",tabindex:"5",prompt:"~locale.manageCase:editCase.selectStatus~",validatorBinding:"validators.statusValidator"},hashTypes:{valueBinding:"STRING",disabledBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",label:"STRING",tabindex:"STRING",prompt:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,disabledBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,label:e,tabindex:e,prompt:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),""}function y(e,t){var s;return t.buffer.push("\r\n    \x3c!--SubCatgory label--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"editCaseModel.subCategory",contentBinding:"subCategorylst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",label:"~locale.manageCase:editCase.subCategory~",tabindex:"2",prompt:"~locale.manageCase:editCase.subCategoryprompt~",validatorBinding:"validators.subCategoryValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",label:"STRING",tabindex:"STRING",prompt:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,label:e,tabindex:e,prompt:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    \x3c!--Assigned To--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:editCase.assignedTo~",prompt:"~locale.manageCase:editCase.sAssignedTo~",disabledBinding:"editCaseModel.isAssigneeVisible",valueBinding:"editCaseModel.assignedTo",tabindex:"4",contentBinding:"assignedToList",optionLabelPath:"content.Value",optionValuePath:"content.Key",validatorBinding:"validators.assignedToValidator"},hashTypes:{label:"STRING",prompt:"STRING",disabledBinding:"STRING",valueBinding:"STRING",tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,prompt:e,disabledBinding:e,valueBinding:e,tabindex:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    \x3c!--Resolve Reason--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:editCase.resolveReason~",tabindex:"7",valueBinding:"caseHistoryModel.resolveReason",disabledBinding:"editCaseModel.isDisableResolveReasonDropDown",class:"info-heading",visibleBinding:"editCaseModel.isVisibleResolutionReason"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING",class:"STRING",visibleBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e,class:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--Other Resolve Reason--\x3e\r\n    "),s=a.if.call(e,"editCaseModel.isVisibleOtherReason",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(23,x,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function x(e,t){return t.buffer.push("\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.resolveReason~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"editCaseModel.otherReason",disabledBinding:"editCaseModel.isDisableOtherReason",rows:"5",tabindex:"6",validatorBinding:"validators.otherReasonValidator"},hashTypes:{valueBinding:"STRING",disabledBinding:"STRING",rows:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,disabledBinding:e,rows:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.otherReasonValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),""}function T(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(26,I,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function I(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(27,S,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(29,D,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function S(e,t){return t.buffer.push("\r\n    \x3c!--method of Payment--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.methodofPayment~",tabindex:"8",prompt:"~locale.manageCase:createCase.sMethodofPayment~",valueBinding:"editCaseModel.methodofPayment",contentBinding:"methodofPaymentlst",optionLabelPath:"content.value",optionValuePath:"content.key",validatorBinding:"validators.methodofPaymentValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--payment Date--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.DatePicker",{hash:{label:"~locale.manageCase:createCase.paymentDate~",tabindex:"10",class:"info-heading",valueBinding:"editCaseModel.paymentDate",validatorBinding:"validators.paymentDateValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,class:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--amount Paid--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.amountPaid~",tabindex:"13",valueBinding:"editCaseModel.amountPaid",validatorBinding:"validators.amountPaidValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function D(e,t){return t.buffer.push("\r\n    \x3c!--place Payment was Made--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.placePaymentwasMade~",tabindex:"9",valueBinding:"editCaseModel.placePaymentwasMade",validatorBinding:"validators.placePaymentwasMadeValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--Payment Time--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:createCase.paymentTime~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <Br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",valueBinding:"editCaseModel.Hours",tabindex:"11",maxlength:"2",validatorBinding:"validators.HoursValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{class:"STRING",valueBinding:"STRING",tabindex:"STRING",maxlength:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{class:e,valueBinding:e,tabindex:e,maxlength:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.HoursValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(":"),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",valueBinding:"editCaseModel.Minutes",tabindex:"12",maxlength:"2",validatorBinding:"validators.MinutesValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{class:"STRING",valueBinding:"STRING",tabindex:"STRING",maxlength:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{class:e,valueBinding:e,tabindex:e,maxlength:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.MinutesValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--payment Reference Number--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.paymentReferenceNumber~",tabindex:"14",valueBinding:"editCaseModel.paymentReferenceNumber",validatorBinding:"validators.paymentReferenceNumberValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function M(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(32,N,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function N(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(33,R,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(35,B,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function R(e,t){return t.buffer.push("\r\n    \x3c!--device--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.device~",tabindex:"8",valueBinding:"editCaseModel.device",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--smartcard Number--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.smartcardNumber~",tabindex:"10",valueBinding:"editCaseModel.SCNumber",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--software Version--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.softwareVersion~",tabindex:"12",valueBinding:"editCaseModel.softwareVersion",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--bouquet--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.bouquet~",tabindex:"14",valueBinding:"editCaseModel.bouquet",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function B(e,t){return t.buffer.push("\r\n    \x3c!--device Type--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.deviceType~",tabindex:"9",valueBinding:"editCaseModel.deviceType",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--channel Name--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.channelName~",tabindex:"11",valueBinding:"editCaseModel.channelName",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--loader Version--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.loaderVersion~",tabindex:"13",valueBinding:"editCaseModel.loaderVersion",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    <br/>\r\n    "),""}function G(e,t){t.buffer.push('\r\n    <table width="100%">\r\n    </table>\r\n    ')}function w(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(40,E,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function E(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(41,K,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(43,V,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function K(e,t){return t.buffer.push("\r\n    \x3c!--device--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.device~",tabindex:"8",valueBinding:"editCaseModel.device",validatorBinding:"validators.deviceValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--smartcard Number--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.smartcardNumber~",tabindex:"10",valueBinding:"editCaseModel.SCNumber",validatorBinding:"validators.SCNumberValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--place Payment was Made--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.placePaymentwasMade~",tabindex:"12",valueBinding:"editCaseModel.placePaymentwasMade",validatorBinding:"validators.placePaymentwasMadeValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--payment Reference Number--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.paymentReferenceNumber~",tabindex:"14",valueBinding:"editCaseModel.paymentReferenceNumber",validatorBinding:"validators.paymentReferenceNumberValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function V(e,t){return t.buffer.push("\r\n    \x3c!--device Type--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.deviceType~",tabindex:"9",valueBinding:"editCaseModel.deviceType",validatorBinding:"validators.deviceTypeValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--method of Payment--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.methodofPayment~",tabindex:"11",prompt:"~locale.manageCase:createCase.sMethodofPayment~",valueBinding:"editCaseModel.methodofPayment",contentBinding:"methodofPaymentlst",optionLabelPath:"content.value",
optionValuePath:"content.key",validatorBinding:"validators.methodofPaymentValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--amount Paid--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.amountPaid~",tabindex:"13",valueBinding:"editCaseModel.amountPaid",validatorBinding:"validators.amountPaidValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function P(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(46,k,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function k(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(47,O,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function O(e,t){return t.buffer.push("\r\n    \x3c!--reason--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.reason~",tabindex:"8",valueBinding:"editCaseModel.reason",validatorBinding:"validators.reasonValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function H(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(50,L,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function L(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(51,F,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(53,A,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function F(e,t){return t.buffer.push("\r\n    \x3c!--amount Customer Listed For--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.amountCustomerListedFor~",tabindex:"8",valueBinding:"editCaseModel.amountCustomerListedFor",validatorBinding:"validators.amountCustomerListedForValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function A(e,t){return t.buffer.push("\r\n    \x3c!--bad Debt Written Amount--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.badDebtWrittenAmount~",tabindex:"9",valueBinding:"editCaseModel.badDebtWrittenAmount",validatorBinding:"validators.badDebtWrittenAmountValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function U(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(56,j,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function j(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(57,q,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function q(e,t){return t.buffer.push("\r\n    \x3c!--accused Party Name--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.accusedPartyName~",tabindex:"8",valueBinding:"editCaseModel.accusedPartyName",validatorBinding:"validators.accusedPartyNameValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function _(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(60,$,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function $(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(61,Y,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(63,Q,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function Y(e,t){return t.buffer.push("\r\n    \x3c!--amount--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.amount~",valueBinding:"editCaseModel.amount",tabindex:"8",validatorBinding:"validators.amountValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",valueBinding:"STRING",tabindex:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,valueBinding:e,tabindex:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function Q(e,t){return t.buffer.push("\r\n    \x3c!--reason--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.reason~",tabindex:"9",valueBinding:"editCaseModel.reason",validatorBinding:"validators.reasonValidator",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function z(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(66,J,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function J(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(67,W,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(69,Z,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function W(e,t){return t.buffer.push("\r\n    \x3c!--device--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.device~",tabindex:"8",valueBinding:"editCaseModel.device",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--smartcard Number--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.smartcardNumber~",tabindex:"10",valueBinding:"editCaseModel.SCNumber",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function Z(e,t){return t.buffer.push("\r\n    \x3c!--device Type--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.deviceType~",tabindex:"9",valueBinding:"editCaseModel.deviceType",disabledBinding:"editCaseModel.isDisableStatus"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    <br/>\r\n    "),""}function X(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(72,ee,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function ee(e,t){return t.buffer.push("\r\n    \x3c!--Notes--\x3e\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.notes~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"editCaseModel.notes",disabledBinding:"editCaseModel.isDisableNotes",rows:"5",class:"col-xs-9",tabindex:"15",validatorBinding:"validators.notesValidator",maxlength:"1000"},hashTypes:{valueBinding:"STRING",disabledBinding:"STRING",rows:"STRING",class:"STRING",tabindex:"STRING",validatorBinding:"STRING",maxlength:"STRING"},hashContexts:{valueBinding:e,disabledBinding:e,rows:e,class:e,tabindex:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/><br/><br/><br/><br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.notesValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function te(e,t){var s,o,i;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(75,ae,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n    <br/>\r\n    <br/>\r\n    <div class="table-responsive">\r\n      <table width="100%" '),t.buffer.push(Oe(a["bind-attr"].call(e,{hash:{class:":table :table-bordered :komodo-datagrid"},hashTypes:{class:"STRING"},hashContexts:{class:e},contexts:[],types:[],data:t}))),t.buffer.push('>\r\n        <thead>\r\n          <tr>\r\n            <th width="50%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.document",i):ke.call(e,"loc","locale.manageCase:editCase.document",i)))),t.buffer.push('</th>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.size",i):ke.call(e,"loc","locale.manageCase:editCase.size",i)))),t.buffer.push('</th>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.percentage",i):ke.call(e,"loc","locale.manageCase:editCase.percentage",i)))),t.buffer.push('</th>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.status",i):ke.call(e,"loc","locale.manageCase:editCase.status",i)))),t.buffer.push('</th>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.action",i):ke.call(e,"loc","locale.manageCase:editCase.action",i)))),t.buffer.push("</th>\r\n          </tr>\r\n        </thead>\r\n        "),s=a.each.call(e,"row","in","editCaseModel.caseDocPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(79,ie,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      </table>\r\n      "),s=a.if.call(e,"isCaseDocumentsAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(86,ce,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),""}function ae(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(76,se,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function se(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{id:"pickfiles"},hashTypes:{id:"STRING"},hashContexts:{id:e},inverse:He.noop,fn:He.program(77,oe,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n\r\n    <span class="retrieve-records" style="min-height:30px;" >\r\n      '),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:createCase.documentsSupportedNote~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    </span>\r\n    "),""}function oe(e,t){var s,o;return t.buffer.push("\r\n    "),t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.addDocuments",o):ke.call(e,"loc","locale.manageCase:editCase.addDocuments",o)))),t.buffer.push("\r\n    "),""}function ie(e,t){var s;return t.buffer.push("\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"row.documentName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n            </td>\r\n            <td>\r\n              "),s=a._triageMustache.call(e,"row.documentSize",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n            </td>\r\n            <td>\r\n              "),s=a._triageMustache.call(e,"row.uploadPercentage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n            </td>\r\n            <td>\r\n              "),s=a._triageMustache.call(e,"row.uploadStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n            </td>\r\n            <td>\r\n              "),s=a.if.call(e,"row.documentAlreadyUploaded",{hash:{},hashTypes:{},hashContexts:{},inverse:He.program(83,le,t),fn:He.program(80,re,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n        "),""}function re(e,t){var s;return t.buffer.push("\r\n              "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"viewDocument",size:"xs",type:"success",tabindex:"25"},hashTypes:{action:"STRING",size:"STRING",type:"STRING",tabindex:"STRING"},hashContexts:{action:e,size:e,type:e,tabindex:e},inverse:He.noop,fn:He.program(81,ne,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n              "),""}function ne(e,t){var s,o;return t.buffer.push("\r\n              "),t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.view",o):ke.call(e,"loc","locale.manageCase:editCase.view",o)))),t.buffer.push("\r\n              "),""}function le(e,t){var s;return t.buffer.push("\r\n              "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"removeDocument",size:"xs",type:"danger",tabindex:"24"},hashTypes:{action:"STRING",size:"STRING",type:"STRING",tabindex:"STRING"},hashContexts:{action:e,size:e,type:e,tabindex:e},inverse:He.noop,fn:He.program(84,de,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n              "),""}function de(e,t){var s,o;return t.buffer.push("\r\n              "),t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.delete",o):ke.call(e,"loc","locale.manageCase:editCase.delete",o)))),t.buffer.push("\r\n              "),""}function ce(e,t){return t.buffer.push("\r\n      "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"editCaseModel.caseDocuments",pageContentBinding:"editCaseModel.caseDocPagerPageContent",itemsPerPage:"5",visiblePageCount:"7"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),""}function ue(e,t){var s,o,i;return t.buffer.push('\r\n    <div class="table-responsive">\r\n      \x3c!--This is to show the case history grid--\x3e\r\n      <table id="caseHistoryTable" class="table table-bordered komodo-datagrid">\r\n        <thead>\r\n          <tr>\r\n            <th width="11%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.modifiedDate",i):ke.call(e,"loc","locale.manageCase:caseHistory.modifiedDate",i)))),t.buffer.push('</th>\r\n            <th width="11%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.category",i):ke.call(e,"loc","locale.manageCase:caseHistory.category",i)))),t.buffer.push('</th>\r\n            <th width="15%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.sub-Category",i):ke.call(e,"loc","locale.manageCase:caseHistory.sub-Category",i)))),t.buffer.push('</th>\r\n            <th width="20%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.outcome",i):ke.call(e,"loc","locale.manageCase:caseHistory.outcome",i)))),t.buffer.push('</th>\r\n            <th width="8%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.status",i):ke.call(e,"loc","locale.manageCase:caseHistory.status",i)))),t.buffer.push('</th>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.assignedTo",i):ke.call(e,"loc","locale.manageCase:caseHistory.assignedTo",i)))),t.buffer.push('</th>\r\n            <th width="25%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.notes",i):ke.call(e,"loc","locale.manageCase:caseHistory.notes",i)))),t.buffer.push("</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          "),s=a.each.call(e,"item","in","contentPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(89,he,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n        </tbody>\r\n        "),s=a.if.call(e,"isNoCaseHistoryFound",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(91,Ce,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      </table>\r\n    </div>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"editCaseModel.caseHistoryLog",pageContentBinding:"contentPagerPageContent",itemsPerPage:"5",visiblePageCount:"7"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function he(e,t){var s;return t.buffer.push("\r\n          <tr>\r\n            <td>"),s=a._triageMustache.call(e,"item.ModifiedDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.category",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.subCategory",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.outcome",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.caseOwner",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.notes",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          </tr>\r\n          "),""}function Ce(e,t){var s,o;return t.buffer.push('\r\n        <tr>\r\n          <td colspan="7" class="sub-heading" style="text-align: center;">\r\n            '),t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.noCaseHistoryFoundError",o):ke.call(e,"loc","locale.manageCase:caseHistory.noCaseHistoryFoundError",o)))),t.buffer.push("\r\n          </td>\r\n        </tr>\r\n        "),""}function ge(e,t){var s;return t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.linkedCases~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:e,isCollapsed:e},inverse:He.noop,fn:He.program(94,pe,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n  </div>\r\n  "),s=a.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.emailHistory~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:e,isCollapsed:e},inverse:He.noop,fn:He.program(100,be,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  \x3c!--Buttons--\x3e\r\n  "),""}function pe(e,t){var s,o,i;return t.buffer.push('\r\n    <div class="table-responsive">\r\n      <table id="linkedCasesTable" class="table table-bordered komodo-datagrid">\r\n        <thead>\r\n          <tr>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.customerUID",i):ke.call(e,"loc","locale.manageCase:caseHistory.customerUID",i)))),t.buffer.push('</th>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.caseNumber",i):ke.call(e,"loc","locale.manageCase:caseHistory.caseNumber",i)))),t.buffer.push('</th>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.date",i):ke.call(e,"loc","locale.manageCase:caseHistory.date",i)))),t.buffer.push('</th>\r\n            <th width="17%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.userGroup",i):ke.call(e,"loc","locale.manageCase:caseHistory.userGroup",i)))),t.buffer.push('</th>\r\n            <th width="33%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.description",i):ke.call(e,"loc","locale.manageCase:caseHistory.description",i)))),t.buffer.push('</th>\r\n            <th width="10%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.status",i):ke.call(e,"loc","locale.manageCase:caseHistory.status",i)))),t.buffer.push('</th>\r\n            <th width="5%">'),t.buffer.push(Oe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.action",i):ke.call(e,"loc","locale.manageCase:caseHistory.action",i)))),t.buffer.push("</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          "),s=a.each.call(e,"item","in","editCaseModel.linkedCasePagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(95,me,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n        </tbody>\r\n        "),s=a.if.call(e,"isNoLinkedCasesFound",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(98,ve,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      </table>\r\n    </div>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"editCaseModel.linkedCaseLog",pageContentBinding:"editCaseModel.linkedCasePagerPageContent",itemsPerPage:"5",visiblePageCount:"7"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function me(e,t){var s;return t.buffer.push("\r\n          <tr>\r\n            <td>"),s=a._triageMustache.call(e,"item.customerUID",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.UID",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.ModifiedDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.caseOwner",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.notesToDisplay",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a._triageMustache.call(e,"item.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n            <td>"),s=a.view.call(e,"Komodo.Controls.Button",{hash:{contentBinding:"item",action:"actionViewSelectedCaseFromEditCase",size:"xs"},hashTypes:{contentBinding:"STRING",action:"STRING",size:"STRING"},hashContexts:{contentBinding:e,action:e,size:e},inverse:He.noop,fn:He.program(96,fe,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          </tr>\r\n          "),""}function fe(e,t){var s,o;t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.actionView",o):ke.call(e,"loc","locale.manageCase:caseHistory.actionView",o))))}function ve(e,t){var s,o;return t.buffer.push('\r\n        <tr>\r\n          <td colspan="7" class="sub-heading" style="text-align: center;">\r\n            '),t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.noLinkedCasesFoundError",o):ke.call(e,"loc","locale.manageCase:caseHistory.noLinkedCasesFoundError",o)))),t.buffer.push("\r\n          </td>\r\n        </tr>\r\n        "),""}function be(e,t){var s;return t.buffer.push("\r\n  "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(101,ye,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n  "),s=a.if.call(e,"editCaseModel.isEmailHistoryPresent",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(114,Re,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"editCaseModel.caseHistoryEmail",pageContentBinding:"editCaseModel.caseEmailPagerPageContent",itemsPerPage:"3",visiblePageCount:"5"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function ye(e,t){var s;return t.buffer.push("\r\n\r\n  "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Link",{hash:{action:"composeEmail",text:"~locale.manageCase:editCase.composeEmail~",visibleBinding:"composeEmailVisible"},hashTypes:{action:"STRING",text:"STRING",visibleBinding:"STRING"},hashContexts:{action:e,text:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('<br/><br/>\r\n  <div id="divComposeEmail" style="display:none">\r\n\r\n    '),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.from~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),
t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"editCaseModel.from",disable:"false",rows:"1",class:"textarea-large"},hashTypes:{valueBinding:"STRING",disable:"STRING",rows:"STRING",class:"STRING"},hashContexts:{valueBinding:e,disable:e,rows:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("<br/>\r\n\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.to~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"editCaseModel.to",disable:"false",rows:"1",class:"textarea-large",validatorBinding:"validators.toValidator"},hashTypes:{valueBinding:"STRING",disable:"STRING",rows:"STRING",class:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,disable:e,rows:e,class:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.toValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("<br/>\r\n\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.subject~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"editCaseModel.subject",disable:"false",rows:"1",class:"textarea-large"},hashTypes:{valueBinding:"STRING",disable:"STRING",rows:"STRING",class:"STRING"},hashContexts:{valueBinding:e,disable:e,rows:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("<br/><br/>\r\n\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.attachment~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n    <div class="table-responsive">\r\n      \x3c!--This is to show the case email attachments--\x3e\r\n      <table id="caseEmailAttachmentsTable" class="table table-bordered komodo-datagrid">\r\n        <tbody>\r\n          '),s=a.each.call(e,"row","in","editCaseModel.emailAttachments",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(102,xe,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <br/>\r\n    "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"editCaseModel.emailBody",disable:"false",rows:"5",class:"textarea-large"},hashTypes:{valueBinding:"STRING",disable:"STRING",rows:"STRING",class:"STRING"},hashContexts:{valueBinding:e,disable:e,rows:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("<br/>\r\n    "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"sendCaseEmail",disabledBinding:"false",tabindex:"16"},hashTypes:{action:"STRING",disabledBinding:"STRING",tabindex:"STRING"},hashContexts:{action:e,disabledBinding:e,tabindex:e},inverse:He.noop,fn:He.program(105,Ie,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"discardCaseEmail",disabledBinding:"false",tabindex:"17"},hashTypes:{action:"STRING",disabledBinding:"STRING",tabindex:"STRING"},hashContexts:{action:e,disabledBinding:e,tabindex:e},inverse:He.noop,fn:He.program(107,Se,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{id:"pickfiles1"},hashTypes:{id:"STRING"},hashContexts:{id:e},inverse:He.noop,fn:He.program(109,De,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("<br/><br/>\r\n\r\n  </div>\r\n\r\n  "),s=a.each.call(e,"item","in","editCaseModel.caseEmailPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(111,Me,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  "),""}function xe(e,t){var s;return t.buffer.push("\r\n          <tr>\r\n            <td>\r\n              "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"row.documentName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n              "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"row.uploadStatus"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n              "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"removeEmailAttachment",size:"xs",type:"danger",tabindex:"24",contentBinding:"row.documentName"},hashTypes:{action:"STRING",size:"STRING",type:"STRING",tabindex:"STRING",contentBinding:"STRING"},hashContexts:{action:e,size:e,type:e,tabindex:e,contentBinding:e},inverse:He.noop,fn:He.program(103,Te,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n            </td>\r\n          </tr>\r\n          "),""}function Te(e,t){var s,o;return t.buffer.push("\r\n              "),t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.deleteEmailAttachments",o):ke.call(e,"loc","locale.manageCase:editCase.deleteEmailAttachments",o)))),t.buffer.push("\r\n              "),""}function Ie(e,t){var s,o;t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.sendEmail",o):ke.call(e,"loc","locale.manageCase:editCase.sendEmail",o))))}function Se(e,t){var s,o;t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.discardEmail",o):ke.call(e,"loc","locale.manageCase:editCase.discardEmail",o))))}function De(e,t){var s,o;return t.buffer.push("\r\n    "),t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.addEmailAttachments",o):ke.call(e,"loc","locale.manageCase:editCase.addEmailAttachments",o)))),t.buffer.push("\r\n    "),""}function Me(e,t){var s;return t.buffer.push("\r\n  "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.from~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s=a._triageMustache.call(e,"item.From",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("<br/>\r\n  "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.sent~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s=a._triageMustache.call(e,"item.CreatedOn",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("<br/>\r\n  "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.to~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s=a._triageMustache.call(e,"item.To",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("<br/>\r\n  "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.subject~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s=a._triageMustache.call(e,"item.Subject",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("<br/>\r\n  "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.attachment~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n  <div class="table-responsive">\r\n    \x3c!--This is to show the case email attachments--\x3e\r\n    <table id="caseEmailAttachments" class="table table-bordered komodo-datagrid">\r\n      <tbody>\r\n        '),s=a.each.call(e,"row","in","item.AbsoluteUrl",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(112,Ne,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"item.Body",disable:"true",rows:"5",class:"textarea-large"},hashTypes:{valueBinding:"STRING",disable:"STRING",rows:"STRING",class:"STRING"},hashContexts:{valueBinding:e,disable:e,rows:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("<br/>\r\n  "),""}function Ne(e,t){return t.buffer.push("\r\n        <tr>\r\n          <td>\r\n            "),t.buffer.push(Oe(a.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"25",target:"_blank",hrefBinding:"row.FileLink",textBinding:"row.FileName"},hashTypes:{tabindex:"STRING",target:"STRING",hrefBinding:"STRING",textBinding:"STRING"},hashContexts:{tabindex:e,target:e,hrefBinding:e,textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n        </tr>\r\n        "),""}function Re(e,t){var s,o;return t.buffer.push("\r\n  <b>"),t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.noEmailHistoryFoundError",o):ke.call(e,"loc","locale.manageCase:caseHistory.noEmailHistoryFoundError",o)))),t.buffer.push("</b>\r\n  "),""}function Be(e,t){var s,o;t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.save",o):ke.call(e,"loc","locale.manageCase:editCase.save",o))))}function Ge(e,t){var s,o;t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.cancel",o):ke.call(e,"loc","locale.manageCase:editCase.cancel",o))))}function we(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"exportEmailHistoryToPDF",disabledBinding:"editCaseModel.isEmailHistoryPresent",tabindex:"18"},hashTypes:{action:"STRING",disabledBinding:"STRING",tabindex:"STRING"},hashContexts:{action:e,disabledBinding:e,tabindex:e},inverse:He.noop,fn:He.program(121,Ee,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function Ee(e,t){var s,o;t.buffer.push(Oe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.exportEmailHistory",o):ke.call(e,"loc","locale.manageCase:editCase.exportEmailHistory",o))))}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),o=o||{};var Ke,Ve,Pe,ke=a.helperMissing,Oe=this.escapeExpression,He=this;return o.buffer.push('<div class="no-banner-padding">\r\n  <div width="90%">\r\n    <span class="komodo-heading">\r\n      '),o.buffer.push(Oe((Ve=a.loc||t&&t.loc,Pe={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},Ve?Ve.call(t,"locale.manageCase:editCase.editCaseTitle",Pe):ke.call(t,"loc","locale.manageCase:editCase.editCaseTitle",Pe)))),o.buffer.push('\r\n    </span>\r\n    <span class="float-right">\r\n      <b>\r\n        <a href="#/caseHistory">&lt; '),o.buffer.push(Oe((Ve=a.loc||t&&t.loc,Pe={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},Ve?Ve.call(t,"locale.manageCase:editCase.back",Pe):ke.call(t,"loc","locale.manageCase:editCase.back",Pe)))),o.buffer.push("</a>\r\n        "),Ke=a.if.call(t,"iseGainFunctionalityEnabled",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(1,i,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n      </b>\r\n    </span>\r\n    <hr/>\r\n    \x3c!-- ************************************* --\x3e\r\n\r\n    "),Ke=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:editCase.caseDetailsTitle~",linksBinding:"collapsibleEditLinks"},hashTypes:{title:"STRING",linksBinding:"STRING"},hashContexts:{title:t,linksBinding:t},inverse:He.noop,fn:He.program(4,n,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n\r\n\r\n    "),Ke=a.if.call(t,"iseGainFunctionalityEnabled",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(10,u,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n\r\n    "),Ke=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:editCase.caseUpdateTitle~",linksBinding:"collapsibleEditLinks"},hashTypes:{title:"STRING",linksBinding:"STRING"},hashContexts:{title:t,linksBinding:t},inverse:He.noop,fn:He.program(18,f,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n\r\n\r\n    "),Ke=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.uploadCaseDocuments~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:t,isCollapsed:t},inverse:He.noop,fn:He.program(74,te,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n    </div>\r\n\r\n\r\n    "),Ke=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.caseHist~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:t,isCollapsed:t},inverse:He.noop,fn:He.program(88,ue,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n\r\n    "),Ke=a.if.call(t,"iseGainFunctionalityEnabled",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(93,ge,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push('\r\n\r\n  <br/>\r\n  <div style="float:right;">\r\n    '),Ke=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"updateCaseInformation",disabledBinding:"isDisableSubmitButton",tabindex:"16"},hashTypes:{action:"STRING",disabledBinding:"STRING",tabindex:"STRING"},hashContexts:{action:t,disabledBinding:t,tabindex:t},inverse:He.noop,fn:He.program(116,Be,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n    "),Ke=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"cancelEditCase",disabledBinding:"isDisableCancelButton",class:"btn-inverse",tabindex:"17"},hashTypes:{action:"STRING",disabledBinding:"STRING",class:"STRING",tabindex:"STRING"},hashContexts:{action:t,disabledBinding:t,class:t,tabindex:t},inverse:He.noop,fn:He.program(118,Ge,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n    "),Ke=a.if.call(t,"iseGainFunctionalityEnabled",{hash:{},hashTypes:{},hashContexts:{},inverse:He.noop,fn:He.program(120,we,o),contexts:[t],types:["ID"],data:o}),(Ke||0===Ke)&&o.buffer.push(Ke),o.buffer.push("\r\n  </div>\r\n\r\n</div>\r\n\x3c!--</div>--\x3e"),""}),Ember.TEMPLATES.CustomerInteractionHistoryView=Ember.Handlebars.template(function(e,t,a,s,o){function i(e,t){var s,o;return t.buffer.push('\r\n      <a href="#/customerProfile">&lt;'),t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.customerprofile.customerinformation:general.back",o):K.call(e,"loc","locale.customerprofile.customerinformation:general.back",o)))),t.buffer.push("</a>\r\n      "),""}function r(e,t){var s;return t.buffer.push("\r\n      "),s=a.if.call(e,"isSpecialist",{hash:{},hashTypes:{},hashContexts:{},inverse:P.program(6,l,t),fn:P.program(4,n,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),""}function n(e,t){var s,o;return t.buffer.push('\r\n      <a href="#/specialistCustomerProfile">&lt;'),t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.customerprofile.customerinformation:general.back",o):K.call(e,"loc","locale.customerprofile.customerinformation:general.back",o)))),t.buffer.push("</a>\r\n      "),""}function l(e,t){var s;return t.buffer.push("\r\n      "),s=a.if.call(e,"isCommercial",{hash:{},hashTypes:{},hashContexts:{},inverse:P.program(9,c,t),fn:P.program(7,d,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),""}function d(e,t){var s,o;return t.buffer.push('\r\n      <a href="#/commercialCustomerProfile">&lt;'),t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.customerprofile.customerinformation:general.back",o):K.call(e,"loc","locale.customerprofile.customerinformation:general.back",o)))),t.buffer.push("</a>\r\n      "),""}function c(e,t){var s;return t.buffer.push("\r\n      "),s=a.if.call(e,"isDealer",{hash:{},hashTypes:{},hashContexts:{},inverse:P.program(12,h,t),fn:P.program(10,u,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),""}function u(e,t){var s,o;return t.buffer.push('\r\n      <a href="#/dealerManageCustomer">&lt;'),t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.customerprofile.customerinformation:general.back",o):K.call(e,"loc","locale.customerprofile.customerinformation:general.back",o)))),t.buffer.push("</a>\r\n      "),""}function h(e,t){var s;return t.buffer.push("\r\n      "),s=a.if.call(e,"isCSI",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(13,C,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),""}function C(e,t){var s,o;return t.buffer.push('\r\n      <a href="#/csiCustomerProfile">&lt;'),t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.customerprofile.customerinformation:general.back",o):K.call(e,"loc","locale.customerprofile.customerinformation:general.back",o)))),t.buffer.push("</a>\r\n      "),""}function g(e,t){var s,o,i;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(16,p,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(23,b,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n  <br/>\r\n\r\n  <table width="100%">\r\n    <tr class="retrieve-records" >\r\n      <td colspan="5" style="min-height:30px;">\r\n        &nbsp;\r\n        '),s=a.if.call(e,"isSearching",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(31,S,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n      </td>\r\n    </tr>\r\n  </table>\r\n\r\n  \x3c!--Case History Grid --\x3e\r\n  <div class="table-responsive">\r\n    <table id="interationInfo" class="table table-bordered komodo-datagrid" width="100%">\r\n      <tbody>\r\n        <tr style="font-size:11px;">\r\n       \r\n        <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.interactionID",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.interactionID",i)))),t.buffer.push('</th>\r\n        <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.dateOpen",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.dateOpen",i)))),t.buffer.push('</th>\r\n        <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.dateClosed",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.dateClosed",i)))),t.buffer.push('</th>\r\n        <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.category",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.category",i)))),t.buffer.push('</th>\r\n        <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.subCategory",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.subCategory",i)))),t.buffer.push('</th>\r\n        <th width="13%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.outcome",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.outcome",i)))),t.buffer.push('</th>\r\n        <th width="22%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.description",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.description",i)))),t.buffer.push('</th>\r\n        <th width="8%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.status",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.status",i)))),t.buffer.push('</th>\r\n        <th width="6%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:customerInteractionHistory.actionView",i):K.call(e,"loc","locale.manageCase:customerInteractionHistory.actionView",i)))),t.buffer.push("</th>\r\n        </tr>\r\n        "),s=a.if.call(e,"isShowInterationItems",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(33,D,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      </tbody>\r\n    </table>\r\n    "),s=a.if.call(e,"isShowInterationItems",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(39,B,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  </div>\r\n  "),""}function p(e,t){var s;return t.buffer.push("\r\n\r\n      "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:P.noop,fn:P.program(17,m,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n      "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:P.noop,fn:P.program(19,f,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n      "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:P.noop,fn:P.program(21,v,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function m(e,t){return t.buffer.push("\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:customerInteractionHistory.filterlistOfInteractions~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      \x3c!--StartDate Datepicker--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.DatePicker",{hash:{label:"~locale.manageCase:customerInteractionHistory.dateOpened~",tabindex:"1",class:"info-heading",valueBinding:"customerInteractionHistoryModel.startDate",validatorBinding:"validators.startDateValidator",disabledBinding:"isSearching"},hashTypes:{label:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,class:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),""}function f(e,t){return t.buffer.push("\r\n      \x3c!--EndDate Datepicker--\x3e\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.DatePicker",{hash:{label:"~locale.manageCase:customerInteractionHistory.dateClosed~",tabindex:"2",class:"info-heading",valueBinding:"customerInteractionHistoryModel.endDate",validatorBinding:"validators.endDateValidator",disabledBinding:"isSearching"},hashTypes:{label:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,class:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),""}function v(e,t){return t.buffer.push("\r\n      \x3c!--Status DropDown--\x3e\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:customerInteractionHistory.status~",prompt:"~locale.manageCase:customerInteractionHistory.selectStatus~",tabindex:"3",class:"info-heading",valueBinding:"customerInteractionHistoryModel.status",contentBinding:"lstCaseStatus",optionLabelPath:"content.value",optionValuePath:"content.key",disabledBinding:"isSearching"},hashTypes:{label:"STRING",prompt:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,prompt:e,tabindex:e,class:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),""}function b(e,t){var s;return t.buffer.push("\r\n      "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:P.noop,fn:P.program(24,y,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:P.noop,fn:P.program(24,y,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:P.noop,fn:P.program(26,x,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function y(e,t){t.buffer.push("\r\n      ")}function x(e,t){var s;return t.buffer.push("\r\n      \x3c!--Search Button--\x3e\r\n      "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"actionFilterInteractions",tabindex:"4",disabledBinding:"isSearching"},hashTypes:{action:"STRING",tabindex:"STRING",disabledBinding:"STRING"},hashContexts:{action:e,tabindex:e,disabledBinding:e},inverse:P.noop,fn:P.program(27,T,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      \x3c!--Clear Button--\x3e\r\n      "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"actionClearSearchParameters",tabindex:"5",disabledBinding:"isSearching"},hashTypes:{action:"STRING",tabindex:"STRING",disabledBinding:"STRING"},hashContexts:{action:e,tabindex:e,disabledBinding:e},inverse:P.noop,fn:P.program(29,I,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),""}function T(e,t){var s,o;t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:customerInteractionHistory.search",o):K.call(e,"loc","locale.manageCase:customerInteractionHistory.search",o))))}function I(e,t){var s,o;t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:customerInteractionHistory.clear",o):K.call(e,"loc","locale.manageCase:customerInteractionHistory.clear",o))))}function S(e,t){return t.buffer.push("\r\n        "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:customerInteractionHistory.busyLabel~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function D(e,t){var s;return t.buffer.push("\r\n        "),s=a.each.call(e,"interactionItem","in","_virtualPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(34,M,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n        "),""}function M(e,t){var s;return t.buffer.push("\r\n        <tr>\r\n          "),s=a.with.call(e,"interactionItem",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(35,N,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n          <td>\r\n            "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{contentBinding:"interactionItem",action:"actionViewSelectedInteraction",size:"xs"},hashTypes:{contentBinding:"STRING",action:"STRING",size:"STRING"},hashContexts:{contentBinding:e,action:e,size:e},inverse:P.noop,fn:P.program(37,R,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n          </td>\r\n        </tr>\r\n        "),""}function N(e,t){var s;return t.buffer.push("\r\n          <td>"),s=a._triageMustache.call(e,"interactionItem.UID",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"interactionItem.dateOpen",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"interactionItem.dateClosed",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"interactionItem.category",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"interactionItem.subCategory",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"interactionItem.outcome",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"interactionItem.descriptionToDisplay",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"interactionItem.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],
data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          "),""}function R(e,t){var s,o;t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:customerInteractionHistory.actionView",o):K.call(e,"loc","locale.manageCase:customerInteractionHistory.actionView",o))))}function B(e,t){return t.buffer.push("\r\n    "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"virtual",contentLengthBinding:"contentLength",pageSelectedAction:"actionInteractionPageSelected",itemsPerPage:"10",visiblePageCount:"4"},hashTypes:{mode:"STRING",contentLengthBinding:"STRING",pageSelectedAction:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentLengthBinding:e,pageSelectedAction:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),o=o||{};var G,w,E,K=a.helperMissing,V=this.escapeExpression,P=this;return o.buffer.push("<div "),o.buffer.push(V(a["bind-attr"].call(t,{hash:{class:"Komodo.Services.customerProfileService.isBannerOpen:customer-page-padding:no-banner-padding"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:o}))),o.buffer.push('>\r\n  <div width="90%">\r\n  <span class="komodo-heading">'),o.buffer.push(V((w=a.loc||t&&t.loc,E={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},w?w.call(t,"locale.manageCase:customerInteractionHistory.customerInteractionHistoryTitle",E):K.call(t,"loc","locale.manageCase:customerInteractionHistory.customerInteractionHistoryTitle",E)))),o.buffer.push('</span>\r\n  <span class="float-right">\r\n    <b>\r\n      '),G=a.if.call(t,"isGeneral",{hash:{},hashTypes:{},hashContexts:{},inverse:P.program(3,r,o),fn:P.program(1,i,o),contexts:[t],types:["ID"],data:o}),(G||0===G)&&o.buffer.push(G),o.buffer.push("\r\n    </b>\r\n  </span>\r\n  </div>\r\n  <hr/>\r\n\r\n  "),G=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:customerInteractionHistory.interactionHistoryTitle~",isCollapsed:!1},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:t,isCollapsed:t},inverse:P.noop,fn:P.program(15,g,o),contexts:[t],types:["ID"],data:o}),(G||0===G)&&o.buffer.push(G),o.buffer.push("\r\n</div>\r\n"),""}),Ember.TEMPLATES.CreateCaseView=Ember.Handlebars.template(function(e,t,a,s,o){function i(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(2,r,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function r(e,t){var s;return t.buffer.push("\r\n    "),s=a.if.call(e,"createCaseModel.isUnderCaseGroup",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.program(10,u,t),fn:Te.program(3,n,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function n(e,t){var s;return t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(4,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(6,d,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(8,c,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function l(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.customerNumber~",valueBinding:"createCaseModel.customerUID"},hashTypes:{label:"STRING",valueBinding:"STRING"},hashContexts:{label:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function d(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.name~",valueBinding:"createCaseModel.customerName"},hashTypes:{label:"STRING",valueBinding:"STRING"},hashContexts:{label:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.surname~",valueBinding:"createCaseModel.customerSurname"},hashTypes:{label:"STRING",valueBinding:"STRING"},hashContexts:{label:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function c(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.contactPerson~",valueBinding:"createCaseModel.contactPerson"},hashTypes:{label:"STRING",valueBinding:"STRING"},hashContexts:{label:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:createCase.phoneNumber~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br />\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",optionLabelPath:"content.value",optionValuePath:"content.key",valueBinding:"createCaseModel.contactType",contentBinding:"contactTypeLst"},hashTypes:{class:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING",contentBinding:"STRING"},hashContexts:{class:e,optionLabelPath:e,optionValuePath:e,valueBinding:e,contentBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" + "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",valueBinding:"createCaseModel.telephoneCode",validatorBinding:"validators.telephoneCodeValidator",maxlength:"4"},hashTypes:{class:"STRING",valueBinding:"STRING",validatorBinding:"STRING",maxlength:"STRING"},hashContexts:{class:e,valueBinding:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.telephoneCodeValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-number",valueBinding:"createCaseModel.telephoneNumber",validatorBinding:"validators.telephoneNumberValidator",maxlength:"10"},hashTypes:{class:"STRING",valueBinding:"STRING",validatorBinding:"STRING",maxlength:"STRING"},hashContexts:{class:e,valueBinding:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.telephoneNumberValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function u(e,t){var s;return t.buffer.push("\r\n\r\n    \x3c!--House hold drop down--\x3e\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(11,h,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(13,C,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function h(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.householdMember~",prompt:"~locale.manageCase:createCase.sHouseholdMember~",tabindex:"1",class:"info-heading",valueBinding:"createCaseModel.householdMember",contentBinding:"householdMembersList",optionLabelPath:"content.Value",optionValuePath:"content.Key"},hashTypes:{label:"STRING",prompt:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{label:e,prompt:e,tabindex:e,class:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.contactPerson~",tabindex:"2",valueBinding:"createCaseModel.contactPerson",validatorBinding:"validators.contactPersonValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function C(e,t){return t.buffer.push("\r\n    <br />\r\n    <br />\r\n    <br />\r\n    <br />\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:createCase.phoneNumber~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br />\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",tabindex:"3",optionLabelPath:"content.value",optionValuePath:"content.key",valueBinding:"createCaseModel.contactType",contentBinding:"contactTypeLst"},hashTypes:{class:"STRING",tabindex:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING",contentBinding:"STRING"},hashContexts:{class:e,tabindex:e,optionLabelPath:e,optionValuePath:e,valueBinding:e,contentBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" + "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",tabindex:"4",valueBinding:"createCaseModel.telephoneCode",validatorBinding:"validators.telephoneCodeValidator",maxlength:"4"},hashTypes:{class:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",maxlength:"STRING"},hashContexts:{class:e,tabindex:e,valueBinding:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.telephoneCodeValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-number",tabindex:"5",valueBinding:"createCaseModel.telephoneNumber",validatorBinding:"validators.telephoneNumberValidator",maxlength:"10"},hashTypes:{class:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",maxlength:"STRING"},hashContexts:{class:e,tabindex:e,valueBinding:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.telephoneNumberValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function g(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(16,p,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(19,f,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(22,b,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isPriorityLabel",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.program(84,ne,t),fn:Te.program(27,T,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n\r\n    "),""}function p(e,t){var s;return t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(17,m,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n\r\n\r\n\r\n    "),""}function m(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{contentBinding:"caseOrInteraction",displayPath:"title",valuePath:"value",valueBinding:"createCaseModel.isCase"},hashTypes:{contentBinding:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{contentBinding:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function f(e,t){var s;return t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(20,v,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function v(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.interacteeName~",valueBinding:"createCaseModel.interacteeName",validatorBinding:"validators.interacteeNameValidator"},hashTypes:{label:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function b(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(23,y,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(25,x,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function y(e,t){return t.buffer.push("\r\n\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.interactionType~",tabindex:"6",prompt:"~locale.manageCase:createCase.sinteractionType~",valueBinding:"createCaseModel.interactionType",contentBinding:"interactionTypelst",optionLabelPath:"content.value",optionValuePath:"content.key",validatorBinding:"validators.interactionTypeValidator"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.category~",tabindex:"8",prompt:"~locale.manageCase:createCase.sCategory~",valueBinding:"createCaseModel.category",contentBinding:"categorylst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",validatorBinding:"validators.categoryValidator"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.outcome~",tabindex:"10",prompt:"~locale.manageCase:createCase.sOutcome~",valueBinding:"createCaseModel.outcome",contentBinding:"outcomelst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",validatorBinding:"validators.outcomeValidator"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function x(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.queryType~",prompt:"~locale.manageCase:createCase.sQuertType~",tabindex:"7",valueBinding:"createCaseModel.queryType",contentBinding:"queryTypelst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",validatorBinding:"validators.queryTypeValidator"},hashTypes:{label:"STRING",prompt:"STRING",tabindex:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,prompt:e,tabindex:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.sub-Category~",tabindex:"9",prompt:"~locale.manageCase:createCase.sSub-Category~",valueBinding:"createCaseModel.subCategory",contentBinding:"subCategorylst",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",validatorBinding:"validators.subCategoryValidator"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.status~",tabindex:"11",prompt:"~locale.manageCase:createCase.sStatus~",valueBinding:"createCaseModel.statusID",contentBinding:"caseStatuslst",optionLabelPath:"content.value",optionValuePath:"content.key",disabledBinding:"createCaseModel.isDisableStatusDropdown"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{visibleBinding:"createCaseModel.isPriorityLabel",text:"~locale.manageCase:createCase.priority~",class:"info-heading"},hashTypes:{visibleBinding:"STRING",text:"STRING",class:"STRING"},hashContexts:{visibleBinding:e,text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("<br />\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"createCaseModel.priority"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function T(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(28,I,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup1",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(31,D,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup2",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(37,B,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup3",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(43,K,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup4",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(47,k,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup5",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(53,F,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup6",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(57,j,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup7",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(63,Y,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup8",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(67,J,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.if.call(e,"createCaseModel.isGroup9",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(75,te,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(81,ie,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function I(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(29,S,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function S(e,t){var s,o;return t.buffer.push('\r\n    <p class="sub-heading">'),t.buffer.push(xe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:createCase.optional",o):Ie.call(e,"loc","locale.manageCase:createCase.optional",o)))),t.buffer.push("</p>\r\n    "),""}function D(e,t){var s;return t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(32,M,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function M(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(33,N,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(35,R,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function N(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.methodofPayment~",tabindex:"12",prompt:"~locale.manageCase:createCase.sMethodofPayment~",valueBinding:"createCaseModel.methodofPayment",contentBinding:"methodofPaymentlst",optionLabelPath:"content.value",optionValuePath:"content.key",validatorBinding:"validators.methodofPaymentValidator"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.DatePicker",{hash:{label:"~locale.manageCase:createCase.paymentDate~",tabindex:"14",class:"info-heading",valueBinding:"createCaseModel.paymentDate",validatorBinding:"validators.paymentDateValidator"},hashTypes:{label:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,class:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.amountPaid~",tabindex:"17",valueBinding:"createCaseModel.amountPaid",validatorBinding:"validators.amountPaidValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function R(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.placePaymentwasMade~",tabindex:"13",valueBinding:"createCaseModel.placePaymentwasMade",validatorBinding:"validators.placePaymentwasMadeValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:createCase.paymentTime~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",valueBinding:"createCaseModel.Hours",tabindex:"15",maxlength:"2",validatorBinding:"validators.HoursValidator"},hashTypes:{class:"STRING",valueBinding:"STRING",tabindex:"STRING",maxlength:"STRING",validatorBinding:"STRING"},hashContexts:{class:e,valueBinding:e,tabindex:e,maxlength:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.HoursValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(":"),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",valueBinding:"createCaseModel.Minutes",tabindex:"16",maxlength:"2",validatorBinding:"validators.MinutesValidator"},hashTypes:{class:"STRING",valueBinding:"STRING",tabindex:"STRING",maxlength:"STRING",validatorBinding:"STRING"},hashContexts:{class:e,valueBinding:e,tabindex:e,maxlength:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.MinutesValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.paymentReferenceNumber~",tabindex:"18",valueBinding:"createCaseModel.paymentReferenceNumber",validatorBinding:"validators.paymentReferenceNumberValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function B(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(38,G,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function G(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(39,w,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(41,E,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function w(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.device~",tabindex:"12",valueBinding:"createCaseModel.device"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.smartcardNumber~",tabindex:"14",valueBinding:"createCaseModel.SCNumber"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.softwareVersion~",tabindex:"16",valueBinding:"createCaseModel.softwareVersion"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.bouquet~",tabindex:"18",valueBinding:"createCaseModel.bouquet"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function E(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.deviceType~",tabindex:"13",valueBinding:"createCaseModel.deviceType"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.channelName~",tabindex:"15",valueBinding:"createCaseModel.channelName"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.loaderVersion~",tabindex:"17",valueBinding:"createCaseModel.loaderVersion"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function K(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(44,V,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function V(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(45,P,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function P(e,t){t.buffer.push("\r\n    <br />\r\n    ")}function k(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(48,O,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function O(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(49,H,t),
contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(51,L,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function H(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.device~",tabindex:"12",valueBinding:"createCaseModel.device",validatorBinding:"validators.deviceValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.smartcardNumber~",tabindex:"14",valueBinding:"createCaseModel.SCNumber",validatorBinding:"validators.SCNumberValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.placePaymentwasMade~",tabindex:"16",valueBinding:"createCaseModel.placePaymentwasMade",validatorBinding:"validators.placePaymentwasMadeValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.paymentReferenceNumber~",tabindex:"18",valueBinding:"createCaseModel.paymentReferenceNumber",validatorBinding:"validators.paymentReferenceNumberValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function L(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.deviceType~",tabindex:"13",valueBinding:"createCaseModel.deviceType",validatorBinding:"validators.deviceTypeValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:createCase.methodofPayment~",tabindex:"15",prompt:"~locale.manageCase:createCase.sMethodofPayment~",valueBinding:"createCaseModel.methodofPayment",contentBinding:"methodofPaymentlst",optionLabelPath:"content.value",optionValuePath:"content.key",validatorBinding:"validators.methodofPaymentValidator"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.amountPaid~",tabindex:"17",valueBinding:"createCaseModel.amountPaid",validatorBinding:"validators.amountPaidValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function F(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(54,A,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function A(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(55,U,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function U(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.reason~",tabindex:"12",valueBinding:"createCaseModel.reason",validatorBinding:"validators.reasonValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function j(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(58,q,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function q(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(59,_,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(61,$,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function _(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.amountCustomerListedFor~",tabindex:"12",valueBinding:"createCaseModel.amountCustomerListedFor",validatorBinding:"validators.amountCustomerListedForValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function $(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.badDebtWrittenAmount~",tabindex:"13",valueBinding:"createCaseModel.badDebtWrittenAmount",validatorBinding:"validators.badDebtWrittenAmountValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function Y(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(64,Q,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function Q(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(65,z,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function z(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.accusedPartyName~",tabindex:"12",valueBinding:"createCaseModel.accusedPartyName",validatorBinding:"validators.accusedPartyNameValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function J(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(68,W,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function W(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(69,Z,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(71,X,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(73,ee,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function Z(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.amount~",valueBinding:"createCaseModel.amount",tabindex:"12",validatorBinding:"validators.amountValidator"},hashTypes:{label:"STRING",valueBinding:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,valueBinding:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function X(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.reason~",tabindex:"13",valueBinding:"createCaseModel.reason",validatorBinding:"validators.reasonValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function ee(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.supportingDocs~",tabindex:"14",valueBinding:"createCaseModel.supportingDocs",validatorBinding:"validators.supportingDocsValidator"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function te(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(76,ae,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function ae(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(77,se,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(79,oe,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function se(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.device~",tabindex:"12",valueBinding:"createCaseModel.device"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.smartcardNumber~",tabindex:"14",valueBinding:"createCaseModel.SCNumber"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function oe(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:createCase.deviceType~",tabindex:"13",valueBinding:"createCaseModel.deviceType"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function ie(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(82,re,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function re(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:createCase.notes~",class:"info-heading",validatorBinding:"validators.notesValidator"},hashTypes:{text:"STRING",class:"STRING",validatorBinding:"STRING"},hashContexts:{text:e,class:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br />\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"createCaseModel.notes",rows:"5",validatorBinding:"validators.notesValidator",class:"col-xs-9",maxlength:"1000",tabindex:"19"},hashTypes:{valueBinding:"STRING",rows:"STRING",validatorBinding:"STRING",class:"STRING",maxlength:"STRING",tabindex:"STRING"},hashContexts:{valueBinding:e,rows:e,validatorBinding:e,class:e,maxlength:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br /><br /><br /><br /><br />\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"validators.notesValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function ne(e,t){var s;return t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(85,le,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),""}function le(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(82,re,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function de(e,t){var s,o,i;return t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(88,ce,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n    <br />\r\n    <br />\r\n    <div class="table-responsive">\r\n        <table width="100%" class="table table-bordered komodo-datagrid">\r\n            <thead>\r\n                <tr>\r\n                    <th width="50%">'),t.buffer.push(xe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.document",i):Ie.call(e,"loc","locale.manageCase:editCase.document",i)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(xe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.size",i):Ie.call(e,"loc","locale.manageCase:editCase.size",i)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(xe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.percentage",i):Ie.call(e,"loc","locale.manageCase:editCase.percentage",i)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(xe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.status",i):Ie.call(e,"loc","locale.manageCase:editCase.status",i)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(xe((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:editCase.action",i):Ie.call(e,"loc","locale.manageCase:editCase.action",i)))),t.buffer.push("</th>\r\n                </tr>\r\n            </thead>\r\n            "),s=a.each.call(e,"row","in","caseDocumentModel.caseDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(94,ge,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n        </table>\r\n    </div>\r\n\r\n    "),""}function ce(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(89,ue,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Te.noop,fn:Te.program(92,Ce,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function ue(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{id:"addfiles"},hashTypes:{id:"STRING"},hashContexts:{id:e},inverse:Te.noop,fn:Te.program(90,he,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function he(e,t){var s,o;return t.buffer.push("\r\n    "),t.buffer.push(xe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:createCase.addDocuments",o):Ie.call(e,"loc","locale.manageCase:createCase.addDocuments",o)))),t.buffer.push("\r\n    "),""}function Ce(e,t){return t.buffer.push("\r\n    "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:createCase.documentsSupportedNote~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function ge(e,t){var s;return t.buffer.push("\r\n            <tbody>\r\n                <tr>\r\n                    <td>\r\n                        "),t.buffer.push(xe(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"row.documentName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n                    </td>\r\n                    <td>\r\n                        "),s=a._triageMustache.call(e,"row.documentSize",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n                    </td>\r\n                    <td>\r\n                        "),s=a._triageMustache.call(e,"row.uploadPercentage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n                    </td>\r\n                    <td>\r\n                        "),s=a._triageMustache.call(e,"row.uploadStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n                    </td>\r\n                    <td>\r\n                        "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"removeDocument",size:"xs",type:"danger",tabindex:"24"},hashTypes:{action:"STRING",size:"STRING",type:"STRING",tabindex:"STRING"},hashContexts:{action:e,size:e,type:e,tabindex:e},inverse:Te.noop,fn:Te.program(95,pe,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n            "),""}function pe(e,t){var s,o;return t.buffer.push("\r\n                        "),t.buffer.push(xe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:editCase.delete",o):Ie.call(e,"loc","locale.manageCase:editCase.delete",o)))),t.buffer.push("\r\n                        "),""}function me(e,t){var s,o;t.buffer.push(xe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:createCase.cretaeCase",o):Ie.call(e,"loc","locale.manageCase:createCase.cretaeCase",o))))}function fe(e,t){var s,o;t.buffer.push(xe((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:createCase.cancel",o):Ie.call(e,"loc","locale.manageCase:createCase.cancel",o))))}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),o=o||{};var ve,be,ye,xe=this.escapeExpression,Te=this,Ie=a.helperMissing;return o.buffer.push("<div "),o.buffer.push(xe(a["bind-attr"].call(t,{hash:{class:"Komodo.Services.customerProfileService.isBannerOpen:customer-page-padding:no-banner-padding"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:o}))),o.buffer.push('>\r\n\r\n    <div>\r\n        <span class="komodo-heading">'),o.buffer.push(xe((be=a.loc||t&&t.loc,ye={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},be?be.call(t,"locale.manageCase:createCase.cretaeCase",ye):Ie.call(t,"loc","locale.manageCase:createCase.cretaeCase",ye)))),o.buffer.push('</span>\r\n        <span class="float-right">\r\n            <b>\r\n                <a href="#/customerInformation">&lt; '),o.buffer.push(xe((be=a.loc||t&&t.loc,ye={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},be?be.call(t,"locale.manageCase:editCase.back",ye):Ie.call(t,"loc","locale.manageCase:editCase.back",ye)))),o.buffer.push("</a>\r\n            </b>\r\n        </span>\r\n        <br />\r\n    </div>\r\n\r\n    "),ve=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:createCase.customerInfoTitle~",isCollapsed:!1},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:t,isCollapsed:t},inverse:Te.noop,fn:Te.program(1,i,o),contexts:[t],types:["ID"],data:o}),(ve||0===ve)&&o.buffer.push(ve),o.buffer.push("\r\n    \x3c!-- End of Collapsible --\x3e\r\n    "),ve=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:createCase.caseDetails~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:t,isCollapsed:t},inverse:Te.noop,fn:Te.program(15,g,o),contexts:[t],types:["ID"],data:o}),(ve||0===ve)&&o.buffer.push(ve),o.buffer.push("\r\n\r\n    "),ve=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:createCase.caseDocumentList~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:t,isCollapsed:t},inverse:Te.noop,fn:Te.program(87,de,o),contexts:[t],types:["ID"],data:o}),(ve||0===ve)&&o.buffer.push(ve),o.buffer.push('\r\n    <br />\r\n    <div style="float:right;">\r\n        '),ve=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"submitCreateCase",tabindex:"20",disabledBinding:"createCaseModel.isDisableSubmitButton"},hashTypes:{action:"STRING",tabindex:"STRING",disabledBinding:"STRING"},hashContexts:{action:t,tabindex:t,disabledBinding:t},inverse:Te.noop,fn:Te.program(97,me,o),contexts:[t],types:["ID"],data:o}),(ve||0===ve)&&o.buffer.push(ve),o.buffer.push("\r\n        "),ve=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"cancelCase",tabindex:"21",disabledBinding:"createCaseModel.isDisableCancelButton",class:"btn-inverse"},hashTypes:{action:"STRING",tabindex:"STRING",disabledBinding:"STRING",class:"STRING"},hashContexts:{action:t,tabindex:t,disabledBinding:t,class:t},inverse:Te.noop,fn:Te.program(99,fe,o),contexts:[t],types:["ID"],data:o}),(ve||0===ve)&&o.buffer.push(ve),o.buffer.push("\r\n    </div>\r\n</div>"),""});var KomodoManageConfiguration={CRMRules:{CRMRules:{CRMRule:[{Category:"2",subcategory:"3",OutCome:"3",field:"Device"},{Category:"2",subcategory:"3",OutCome:"4",field:"Device"},{Category:"2",subcategory:"3",OutCome:"5",field:"Device"},{Category:"2",subcategory:"3",OutCome:"6",field:"Device"},{Category:"2",subcategory:"3",OutCome:"7",field:"Device,SmartCardNumber"},{Category:"2",subcategory:"4",OutCome:"13",field:"Device"},{Category:"2",subcategory:"5",OutCome:"3",field:"Device"},{Category:"2",subcategory:"5",OutCome:"4",field:"Device"},{Category:"2",subcategory:"5",OutCome:"5",field:"Device"},{Category:"2",subcategory:"5",OutCome:"8",field:"Device"},{Category:"2",subcategory:"5",OutCome:"9",field:"Device"},{Category:"2",subcategory:"5",OutCome:"14",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"2",subcategory:"5",OutCome:"16",field:"Device"},{Category:"4",subcategory:"1",OutCome:"60",field:"Device"},{Category:"4",subcategory:"12",OutCome:"45",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"2",subcategory:"3",OutCome:"47",field:"Device"},{Category:"2",subcategory:"4",OutCome:"48",field:"Device"},{Category:"2",subcategory:"4",OutCome:"49",field:"Device"},{Category:"3",subcategory:"14",OutCome:"54",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"3",subcategory:"7",OutCome:"50",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"3",subcategory:"7",OutCome:"58",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"2",subcategory:"20",OutCome:"88",field:"PoliceCaseNumber,PoliceStationName,CaseDate,StolenDeviceSerialNumber"},{Category:"2",subcategory:"20",OutCome:"89",field:"PoliceCaseNumber,PoliceStationName,CaseDate,StolenDeviceSerialNumber"},{Category:"2",subcategory:"20",OutCome:"90",field:"PoliceCaseNumber,PoliceStationName,CaseDate,StolenDeviceSerialNumber"},{Category:"4",subcategory:"12",OutCome:"45",field:"DateOfPayment,MethodOfPayment,AmountPaid,PaymentReferenceNumber"},{Category:"3",subcategory:"7",OutCome:"18",field:"Device,DeviceType,SmartCardNumber,MethodOfPayment,AmountPaid,PaymentReferenceNumber,PlaceOfPayment"},{Category:"3",subcategory:"7",OutCome:"57",field:"Reason"},{Category:"3",subcategory:"7",OutCome:"58",field:"AmountCustomerListedFor,BadDebtWrittenOffAmount"},{Category:"3",subcategory:"8",OutCome:"22",field:"AccusedPartyName"},{Category:"3",subcategory:"8",OutCome:"23",field:"AccusedPartyName"},{Category:"3",subcategory:"8",OutCome:"24",field:"AccusedPartyName"},{Category:"3",subcategory:"8",OutCome:"25",field:"AccusedPartyName"},{Category:"5",subcategory:"15",OutCome:"66",field:"Amount,Reason"}]}},ConditionalGroups:{ConditionalGroups:{ConditionalGroup:[{Category:"4",subcategory:"12",OutCome:"45",Group:"Group1"},{Category:"2",subcategory:"5",OutCome:"14",Group:"Group2"},{Category:"3",subcategory:"14",OutCome:"54",Group:"Group3"},{Category:"3",subcategory:"7",OutCome:"18",Group:"Group4"},{Category:"3",subcategory:"7",OutCome:"57",Group:"Group5"},{Category:"3",subcategory:"7",OutCome:"58",Group:"Group6"},{Category:"3",subcategory:"8",OutCome:"22,23,24,25",Group:"Group7"},{Category:"5",subcategory:"15",OutCome:"66",Group:"Group8"}]}}},KomodoManageConfiguration={CRMRules:{CRMRules:{CRMRule:[{Category:"2",subcategory:"3",OutCome:"3",field:"Device"},{Category:"2",subcategory:"3",OutCome:"4",field:"Device"},{Category:"2",subcategory:"3",OutCome:"5",field:"Device"},{Category:"2",subcategory:"3",OutCome:"6",field:"Device"},{Category:"2",subcategory:"3",OutCome:"7",field:"Device,SmartCardNumber"},{Category:"2",subcategory:"4",OutCome:"13",field:"Device"},{Category:"2",subcategory:"5",OutCome:"3",field:"Device"},{Category:"2",subcategory:"5",OutCome:"4",field:"Device"},{Category:"2",subcategory:"5",OutCome:"5",field:"Device"},{Category:"2",subcategory:"5",OutCome:"8",field:"Device"},{Category:"2",subcategory:"5",OutCome:"9",field:"Device"},{Category:"2",subcategory:"5",OutCome:"14",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"2",subcategory:"5",OutCome:"16",field:"Device"},{Category:"4",subcategory:"1",OutCome:"60",field:"Device"},{Category:"4",subcategory:"12",OutCome:"45",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"2",subcategory:"3",OutCome:"47",field:"Device"},{Category:"2",subcategory:"4",OutCome:"48",field:"Device"},{Category:"2",subcategory:"4",OutCome:"49",field:"Device"},{Category:"3",subcategory:"14",OutCome:"54",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"3",subcategory:"7",OutCome:"50",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"3",subcategory:"7",OutCome:"58",field:"EscalatedTo,CaseOwner,TeamLead"},{Category:"2",subcategory:"20",OutCome:"88",field:"PoliceCaseNumber,PoliceStationName,CaseDate,StolenDeviceSerialNumber"},{Category:"2",subcategory:"20",OutCome:"89",field:"PoliceCaseNumber,PoliceStationName,CaseDate,StolenDeviceSerialNumber"},{Category:"2",subcategory:"20",OutCome:"90",field:"PoliceCaseNumber,PoliceStationName,CaseDate,StolenDeviceSerialNumber"},{Category:"4",subcategory:"12",OutCome:"45",field:"DateOfPayment,MethodOfPayment,AmountPaid,PaymentReferenceNumber"},{Category:"3",subcategory:"7",OutCome:"18",field:"Device,DeviceType,SmartCardNumber,MethodOfPayment,AmountPaid,PaymentReferenceNumber,PlaceOfPayment"},{Category:"3",subcategory:"7",OutCome:"57",field:"Reason"},{Category:"3",subcategory:"7",OutCome:"58",field:"AmountCustomerListedFor,BadDebtWrittenOffAmount"},{Category:"3",subcategory:"8",OutCome:"22",field:"AccusedPartyName"},{Category:"3",subcategory:"8",OutCome:"23",field:"AccusedPartyName"},{Category:"3",subcategory:"8",OutCome:"24",field:"AccusedPartyName"},{Category:"3",subcategory:"8",OutCome:"25",field:"AccusedPartyName"},{Category:"5",subcategory:"15",OutCome:"66",field:"Amount,Reason"}]}},ConditionalGroups:{ConditionalGroups:{ConditionalGroup:[{Category:"4",subcategory:"12",OutCome:"45",Group:"Group1"},{Category:"2",subcategory:"5",OutCome:"14",Group:"Group2"},{Category:"3",subcategory:"14",OutCome:"54",Group:"Group3"},{Category:"3",subcategory:"7",OutCome:"18",Group:"Group4"},{Category:"3",subcategory:"7",OutCome:"57",Group:"Group5"},{Category:"3",subcategory:"7",OutCome:"58",Group:"Group6"},{Category:"3",subcategory:"8",OutCome:"22,23,24,25",Group:"Group7"},{Category:"5",subcategory:"15",OutCome:"66",Group:"Group8"},{Category:"12",subcategory:"28",OutCome:"94",Group:"Group9"},{Category:"12",subcategory:"29",OutCome:"96",Group:"Group9"},{Category:"12",subcategory:"30",OutCome:"94",Group:"Group9"},{Category:"12",subcategory:"31",OutCome:"94",Group:"Group9"},{Category:"12",subcategory:"10",OutCome:"95",Group:"Group9"},{Category:"12",subcategory:"76",OutCome:"95",Group:"Group9"}]}}};Ember.TEMPLATES.CaseHistoryView=Ember.Handlebars.template(function(e,t,a,s,o){function i(e,t){var s,o,i;return t.buffer.push("\r\n  "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:D.noop,fn:D.program(2,r,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n\r\n  \x3c!-- ************************************* --\x3e\r\n  <table width="100%">\r\n    <tbody>\r\n      <tr class="retrieve-records" >\r\n        <td colspan="3" style="min-height:30px;">\r\n          &nbsp;\r\n          '),s=a.if.call(e,"isSearching",{hash:{},hashTypes:{},hashContexts:{},inverse:D.noop,fn:D.program(12,h,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  \r\n  <div id="divCaseData" class="table-responsive">\r\n  \x3c!--Case History Grid --\x3e\r\n  <table id="caseInfo" class="table table-bordered komodo-datagrid" width="100%">\r\n    <tbody>\r\n      <tr>\r\n        <th width="10%">'),t.buffer.push(I((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.customerUID",i):S.call(e,"loc","locale.manageCase:caseHistory.customerUID",i)))),t.buffer.push('</th>\r\n        <th width="10%">'),t.buffer.push(I((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.caseNumber",i):S.call(e,"loc","locale.manageCase:caseHistory.caseNumber",i)))),t.buffer.push('</th>\r\n        <th width="10%">'),t.buffer.push(I((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},
o?o.call(e,"locale.manageCase:caseHistory.date",i):S.call(e,"loc","locale.manageCase:caseHistory.date",i)))),t.buffer.push('</th>\r\n        <th width="17%">'),t.buffer.push(I((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.userGroup",i):S.call(e,"loc","locale.manageCase:caseHistory.userGroup",i)))),t.buffer.push('</th>\r\n        <th width="28%">'),t.buffer.push(I((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.description",i):S.call(e,"loc","locale.manageCase:caseHistory.description",i)))),t.buffer.push('</th>\r\n        <th width="10%">'),t.buffer.push(I((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.status",i):S.call(e,"loc","locale.manageCase:caseHistory.status",i)))),t.buffer.push('</th>\r\n        <th width="10%">'),t.buffer.push(I((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.action",i):S.call(e,"loc","locale.manageCase:caseHistory.action",i)))),t.buffer.push("</th>\r\n      </tr>\r\n      "),s=a.if.call(e,"isShowCaseItems",{hash:{},hashTypes:{},hashContexts:{},inverse:D.program(22,v,t),fn:D.program(14,C,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n    </tbody>\r\n  </table>\r\n  </div>\r\n  \r\n  "),s=a.if.call(e,"isShowCaseItems",{hash:{},hashTypes:{},hashContexts:{},inverse:D.noop,fn:D.program(24,b,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  "),""}function r(e,t){var s;return t.buffer.push("\r\n  "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:D.noop,fn:D.program(3,n,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n  "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:D.noop,fn:D.program(5,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n  "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:D.noop,fn:D.program(7,d,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  "),""}function n(e,t){return t.buffer.push("\r\n  "),t.buffer.push(I(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.filterlistOfCases~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(I(a.view.call(e,"Komodo.Controls.DatePicker",{hash:{label:"~locale.manageCase:caseHistory.startDate~",tabindex:"1",class:"info-heading",valueBinding:"caseHistoryModel.startDate",validatorBinding:"validators.startDateValidator",disabledBinding:"isSearching"},hashTypes:{label:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,class:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(I(a.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.manageCase:caseHistory.customerNumber~",tabindex:"4",valueBinding:"caseHistoryModel.customerUID",class:"info-heading",disabledBinding:"isSearching",validatorBinding:"validators.customerUIDValidator",maxlength:"10"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING",class:"STRING",disabledBinding:"STRING",validatorBinding:"STRING",maxlength:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e,class:e,disabledBinding:e,validatorBinding:e,maxlength:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function l(e,t){return t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(I(a.view.call(e,"Komodo.Controls.DatePicker",{hash:{label:"~locale.manageCase:caseHistory.endDate~",tabindex:"2",class:"info-heading",valueBinding:"caseHistoryModel.endDate",validatorBinding:"validators.endDateValidator",disabledBinding:"isSearching"},hashTypes:{label:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,class:e,valueBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(I(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:caseHistory.assignee~",tabindex:"5",prompt:"~locale.manageCase:caseHistory.selectassignee~",class:"info-heading",valueBinding:"caseHistoryModel.assignee",contentBinding:"assigneeList",optionLabelPath:"content.Value",optionValuePath:"content",disabledBinding:"isSearching"},hashTypes:{label:"STRING",tabindex:"STRING",prompt:"STRING",class:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,tabindex:e,prompt:e,class:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function d(e,t){var s;return t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(I(a.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.manageCase:caseHistory.status~",prompt:"~locale.manageCase:caseHistory.selectStatus~",tabindex:"3",class:"info-heading",valueBinding:"caseHistoryModel.status",contentBinding:"statusList",optionLabelPath:"content.value",optionValuePath:"content.key",disabledBinding:"isSearching"},hashTypes:{label:"STRING",prompt:"STRING",tabindex:"STRING",class:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disabledBinding:"STRING"},hashContexts:{label:e,prompt:e,tabindex:e,class:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"actionFilterCases",tabindex:"6",disabledBinding:"isSearching"},hashTypes:{action:"STRING",tabindex:"STRING",disabledBinding:"STRING"},hashContexts:{action:e,tabindex:e,disabledBinding:e},inverse:D.noop,fn:D.program(8,c,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("   "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"actionClearSearchParameters",tabindex:"7",disabledBinding:"isSearching"},hashTypes:{action:"STRING",tabindex:"STRING",disabledBinding:"STRING"},hashContexts:{action:e,tabindex:e,disabledBinding:e},inverse:D.noop,fn:D.program(10,u,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" \r\n  "),""}function c(e,t){var s,o;t.buffer.push(I((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.search",o):S.call(e,"loc","locale.manageCase:caseHistory.search",o))))}function u(e,t){var s,o;t.buffer.push(I((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.clear",o):S.call(e,"loc","locale.manageCase:caseHistory.clear",o))))}function h(e,t){return t.buffer.push("\r\n          "),t.buffer.push(I(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.busyLabel~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),""}function C(e,t){var s;return t.buffer.push("\r\n      "),s=a.each.call(e,"item","in","_virtualPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:D.noop,fn:D.program(15,g,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      "),""}function g(e,t){var s;return t.buffer.push("\r\n      <tr>\r\n        "),s=a.with.call(e,"item",{hash:{},hashTypes:{},hashContexts:{},inverse:D.noop,fn:D.program(16,p,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n        <td>\r\n          "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{contentBinding:"item",action:"actionViewSelectedCase",size:"xs"},hashTypes:{contentBinding:"STRING",action:"STRING",size:"STRING"},hashContexts:{contentBinding:e,action:e,size:e},inverse:D.noop,fn:D.program(18,m,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n          "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{contentBinding:"item",action:"actionEditSelectedCase",class:"btn-success",size:"xs",visibleBinding:"item.displayEditBtn"},hashTypes:{contentBinding:"STRING",action:"STRING",class:"STRING",size:"STRING",visibleBinding:"STRING"},hashContexts:{contentBinding:e,action:e,class:e,size:e,visibleBinding:e},inverse:D.noop,fn:D.program(20,f,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n        </td>\r\n      </tr>\r\n      "),""}function p(e,t){var s;return t.buffer.push("\r\n        <td>"),s=a._triageMustache.call(e,"item.customerUID",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n        <td>"),s=a._triageMustache.call(e,"item.UID",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n        <td>"),s=a._triageMustache.call(e,"item.ModifiedDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n        <td>"),s=a._triageMustache.call(e,"item.caseOwner",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n        <td>"),s=a._triageMustache.call(e,"item.notesToDisplay",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n        <td>"),s=a._triageMustache.call(e,"item.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n        "),""}function m(e,t){var s,o;t.buffer.push(I((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.actionView",o):S.call(e,"loc","locale.manageCase:caseHistory.actionView",o))))}function f(e,t){var s,o;t.buffer.push(I((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.actionEdit",o):S.call(e,"loc","locale.manageCase:caseHistory.actionEdit",o))))}function v(e,t){return t.buffer.push('\r\n      <tr>\r\n        <td colspan="7" class="sub-heading" style="text-align: center;">\r\n          <i>'),t.buffer.push(I(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.searchCaseMessage~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</i>\r\n        </td>\r\n      </tr>\r\n      "),""}function b(e,t){return t.buffer.push('\r\n  <div class="table-responsive">\r\n    '),t.buffer.push(I(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"virtual",contentLengthBinding:"contentLength",pageSelectedAction:"actionCasePageSelected",itemsPerPage:"10",visiblePageCount:"4"},hashTypes:{mode:"STRING",contentLengthBinding:"STRING",pageSelectedAction:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentLengthBinding:e,pageSelectedAction:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  </div>\r\n  "),""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),o=o||{};var y,x,T,I=this.escapeExpression,S=a.helperMissing,D=this;return o.buffer.push('<div class="no-banner-padding">\r\n  <div width="90%">\r\n    <span class="komodo-heading">'),o.buffer.push(I((x=a.loc||t&&t.loc,T={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},x?x.call(t,"locale.manageCase:caseHistory.caseHistoryTitle",T):S.call(t,"loc","locale.manageCase:caseHistory.caseHistoryTitle",T)))),o.buffer.push('</span>\r\n    <span class="float-right">\r\n      <b>\r\n        <a href="#/home">&lt; '),o.buffer.push(I((x=a.loc||t&&t.loc,T={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},x?x.call(t,"locale.manageCase:caseHistory.back",T):S.call(t,"loc","locale.manageCase:caseHistory.back",T)))),o.buffer.push("</a>\r\n      </b>\r\n    </span>\r\n  </div>\r\n  <hr/>\r\n  \x3c!-- ************************************* --\x3e\r\n\r\n  "),y=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.caseDetailsTitle~",linksBinding:"collapsibleExporttoExcelLink"},hashTypes:{title:"STRING",linksBinding:"STRING"},hashContexts:{title:t,linksBinding:t},inverse:D.noop,fn:D.program(1,i,o),contexts:[t],types:["ID"],data:o}),(y||0===y)&&o.buffer.push(y),o.buffer.push("\r\n\r\n</div >"),""}),Komodo.Services.ManageCaseService=Ember.Object.create({customerCases:void 0,retrieveCasesError:void 0,customerInteractions:void 0,retrieveInteractionsError:void 0,customerCase:void 0,retrieveCaseError:void 0,updateCaseReferenceID:void 0,updatedCaseError:void 0,editCaseId:void 0,NotifyCasemsg:void 0,NotifyCaseErrorMsg:void 0,householdMembersList:void 0,householdMembersErrMsg:void 0,AssigneeList:void 0,AssigneeListError:void 0,groupMembers:void 0,groupMemebersError:void 0,userSecurityRole:void 0,userSecurityRoleError:void 0,userGroupsByUserName:void 0,userGroupsByUserNameError:void 0,caseHistoryLog:void 0,caseHistoryLogError:void 0,caseHistoryEmail:void 0,caseHistoryEmailError:void 0,caseDocuments:void 0,caseDocumentsError:void 0,exportCasesError:void 0,setRetrieveCasesResult:function(e){this.set("customerCases",e)},setRetrieveCasesError:function(e){this.set("retrieveCasesError",e)},setExportCasesError:function(e){this.set("exportCasesError",e)},setRetrieveInteractionsResult:function(e){this.set("customerInteractions",e)},setRetrieveInteractionsError:function(e){this.set("retrieveInteractionsError",e)},setRetrieveEditCaseResult:function(e){this.set("customerCase",e)},setRetrieveEditCaseError:function(e){this.set("retrieveCaseError",e)},setupdatedCaseResult:function(e){this.set("updateCaseReferenceID",e)},setUpdatedCaseError:function(e){this.set("updatedCaseError",e)},setNotifyCasemsg:function(e){this.set("NotifyCasemsg",e)},setNotifyCaseErrorMsg:function(e){this.set("NotifyCaseErrorMsg",e)},setGetHouseholdMembersResult:function(e){this.set("householdMembersList",e)},setGetHouseholdMembersError:function(e){this.set("householdMembersErrMsg",e)},setGetAssigneeListResult:function(e){this.set("AssigneeList",e)},setGetAssigneeListError:function(e){this.set("AssigneeListError",e)},setGroupMembersResult:function(e){this.set("groupMembers",e)},setGroupMembersError:function(e){this.set("groupMemebersError",e)},setUserSecurityRole:function(e){this.set("userSecurityRole",e)},setUserSecurityRoleError:function(e){this.set("userSecurityRoleError",e)},messageGetGroupMembersError:function(e){this.set("groupMemebersError",e)},setGetUserGroupsByUserNameResult:function(e){this.set("userGroupsByUserName",e)},setGetUserGroupsByUserNameError:function(e){this.set("userGroupsByUserNameError",e)},setEditCaseId:function(e){this.set("editCaseId",e)},setCaseHistoryLog:function(e){this.set("caseHistoryLogError",void 0),this.set("caseHistoryLog",e)},setCaseHistoryLogError:function(e){this.set("caseHistoryLogError",e),this.set("caseHistoryLog",void 0)},getCaseHistoryLog:function(){return this.get("caseHistoryLog")},getCaseHistoryLogError:function(){return this.get("caseHistoryLogError")},setLinkedCasesLog:function(e){this.set("linkedCaseLogError",void 0),this.set("linkedCaseLog",e)},setLinkedCasesLogError:function(e){this.set("linkedCaseLogError",e),this.set("linkedCaseLog",void 0)},getLinkedCasesLog:function(){return this.get("linkedCaseLog")},getLinkedCasesLogError:function(){return this.get("linkedCaseLogError")},setCaseDocuments:function(e){this.set("caseDocumentsError",void 0),this.set("caseDocuments",e)},setCaseDocumentsError:function(e){this.set("caseDocumentsError",e),this.set("caseDocuments",void 0)},getCaseDocuments:function(){return this.get("caseDocuments")},getCaseDocumentsError:function(){return this.get("caseDocumentsError")},getCDMDataByKey:function(e,t){var a="";return Komodo.Services.cachedDataService.fetch(t).done(function(t){$.each(t,function(t,s){if(e==s.key)return a=s.value,!1})}),a},setCaseHistoryEmails:function(e){this.set("caseHistoryEmailError",void 0),this.set("caseHistoryEmail",e)},setCaseHistoryEmailsError:function(e){this.set("caseHistoryEmailError",e),this.set("caseHistoryEmail",void 0)},getCaseHistoryEmails:function(){return this.get("caseHistoryEmail")},getCaseHistoryEmailsError:function(){return this.get("caseHistoryEmailError")},getExportCasesError:function(){return this.get("exportCasesError")},publishEvent:function(e,t,a,s){var o=$.Deferred(),i={eventName:a,eventVersion:s,eventValidityInMinutes:0,eventPriority:null};return e.sendMessage(t,i).done(function(){o.resolve()}).fail(function(e){o.fail(e)}),o}}),Komodo.Models.CaseDocumentsModel=Ember.Object.extend({init:function(){this.documentName="",this.documentSize="",this.uploadPercentage="",this.uploadStatus="",this.documentUrl="",this.documentAlreadyUploaded=!1,this.documentType="",this._super()}}),Komodo.Application.ManageCaseRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"manageCase",useCaseDisplayName:void 0,init:function(){this._super()}}),Komodo.Application.CreateCaseRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"createCase",useCaseDisplayName:void 0,renderTemplate:function(){"manage-case"!==Komodo.Services.navigationService._activeGroup&&this.render("customerProfileContainer",{outlet:"summaryDetails",controller:"customerProfileContainer"}),this.render("createCase",{controller:"createCase"})},init:function(){this.useCaseDisplayName=kl.value("locale.manageCase:createCase.createCase"),this._super()}}),Komodo.Application.EditCaseRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"editCase",useCaseDisplayName:void 0,renderTemplate:function(){this.render("editCase",{controller:"editCase"})},init:function(){this.useCaseDisplayName=kl.value("locale.manageCase:editCase.editCaseTitle"),this._super()}}),Komodo.Application.CustomerInteractionHistoryRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"customerInteractionHistory",useCaseDisplayName:void 0,renderTemplate:function(){this.render("customerProfileContainer",{outlet:"summaryDetails",controller:"customerProfileContainer"}),this.render("customerInteractionHistory",{controller:"customerInteractionHistory"})},init:function(){this.useCaseDisplayName=kl.value("locale.manageCase:customerInteractionHistory.customerHistory"),this._super()}}),Komodo.Application.CaseHistoryRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"caseHistory",renderTemplate:function(){this.render("caseHistory",{controller:"caseHistory"})},useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.manageCase:caseHistory.caseHist"),this._super()}}),Komodo.Application.ViewCaseRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"viewCase",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.manageCase:caseHistory.view"),this._super()}}),Komodo.Application.GeneralNotesRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"generalNotes",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.manageCase:generalNotes.generalNotesTitle"),Komodo.Services.eventAggregator.subscribe("SaveNotes",function(){Komodo.Services.navigationService.activateGroup({groupName:Komodo.NavigationGroupNames.ManageCase,useCaseName:"caseHistory"}),Komodo.Services.uiService.getRoute("application").transitionTo("caseHistory")}),this._super()}}),Komodo.Application.SearchCaseRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"searchCase",useCaseDisplayName:void 0,init:function(){this._super()},beforeModel:function(e){var t=e.queryParams;if(t&&t.caseid)return void Komodo.Services.eventAggregator.publish("PublishCustomerCaseUID",t.caseid);Komodo.Services.uiService.transitionTo("home")},model:function(e){}}),Komodo.UI.Route.registerRoutes(function(){this.resource("manageCase"),this.resource("caseHistory"),this.resource("editCase"),this.resource("viewCase"),this.resource("customerInteractionHistory"),this.resource("generalNotes"),this.resource("searchCase"),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.ManageCase,routeName:"caseHistory",title:kl.value("locale.manageCase:caseHistory.caseHistoryTitle"),type:Komodo.NavigationTypes.HomeTile,imageurl:"Content/Images/Home/manageCase.svg",desiredLocation:4}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.ManageCase,routeName:"generalNotes",title:kl.value("locale.manageCase:generalNotes.generalNotesTitle"),type:Komodo.NavigationTypes.Normal}),Komodo.Services.eventAggregator.subscribe("PublishCustomerCaseUID",function(e){var t=Komodo.Services.uiService.getController("caseHistory");t.isElasticSearch=!0,Komodo.Services.uiService.transitionTo("caseHistory"),t.selectedCaseId=e,t.getSelectedCase(e)})}),Komodo.Models.CreateCaseModel=Ember.Object.extend({init:function(){this.interactionType=void 0,this.queryType=void 0,this.category=void 0,this.subCategory=void 0,this.outcome=void 0,this.deviceType=void 0,this.device=void 0,this.methodofPayment=void 0,this.assignedTo=void 0,this.priority=void 0,this.status="",this.paymentReferenceNumber=void 0,this.amountPaid=void 0,this.placePaymentwasMade=void 0,this.notes=void 0,this.priorityID=void 0,this.statusID=void 0,this.customerUID=void 0,this.contactType=void 0,this.contactPerson=void 0,this.customerSurname=void 0,this.customerName=void 0,this.telephoneCode=void 0,this.telephoneNumber=void 0,this.isUnderCaseGroup=!0,this.channelName=void 0,this.softwareVersion=void 0,this.loaderVersion=void 0,this.bouquet=void 0,this.contactType=void 0,this.paymentDate=void 0,this.paymentTime=void 0,this.Hours=void 0,this.Minutes=void 0,this.supportingDocs=void 0,this.reason=void 0,this.accusedPartyName=void 0,this.amountCustomerListedFor=void 0,this.badDebtWrittenAmount=void 0,this.householdMember=void 0,this.amount=void 0,this.SCNumber=void 0,this.existTelephoneNo=void 0,this.isDisableSubmitButton=!0,this.isDisableCancelButton=!1,this.isPriority=void 0,this.isPriorityLabel=void 0,this.interacteeName=void 0,this.isGroup1=void 0,this.isGroup2=void 0,this.isGroup3=void 0,this.isGroup4=void 0,this.isGroup5=void 0,this.isGroup6=void 0,this.isGroup7=void 0,this.isGroup8=void 0,this.isGroup9=void 0,this._super(),this.isCase=void 0}}),Komodo.Models.CustomerInteractionHistoryModel=Ember.Object.extend({selectedCaseInformationGridItem:void 0,init:function(){this.startDate=void 0,this.endDate=void 0,this.status=void 0,this.caseInformation=[],this.customerUID=void 0,this._super()}}),Komodo.Models.InteractionInformation=Ember.Object.extend({init:function(){this.dateOpen=void 0,this.dateClosed=void 0,this.category=void 0,this.subCategory=void 0,this.outcome=void 0,this.description=void 0,this.status=void 0,this.device=void 0,this.deviceType=void 0,this.deviceSubCategory=void 0,this.priority=void 0,this.queryType=void 0,this.caseOwner=void 0,this.teamLead=void 0,this.escalatedTo=void 0,this.resolveReason=void 0,this.softwareVersion=void 0,this.loaderVersion=void 0,this.linkedCases=void 0,this.UID=void 0,this.messagingFrameworkResponse=void 0,this.linkedCases=void 0,this._super()},descriptionToDisplay:function(){var e=this.get("description");return void 0==e||null==e||""==e?"-":(e=e.toString(),e.length>100?e.substring(0,100)+"...":e)}.property("description")}),Komodo.Models.EditCaseModel=Ember.Object.extend({init:function(){this.uID=void 0,this.customerNumber,this.assigncustomerNumber=void 0,this.customerName,this.contactPerson,this.phoneNumber,this.interactionType,this.queryType,this.category,this.subCategory,this.outcome,this.status=void 0,this.resolveReason=void 0,this.otherReason=void 0,this.escalatedTo,this.assignedTo=void 0,this.notes,this.caseInformation=[],this.isAssigneeVisible=!0,this.caseDocPagerPageContent=Ember.A(),this.emailAttachmentDocPagerPageContent=Ember.A(),this.isVisibleOtherReason=void 0,this.isDisableSubmitButton=void 0,this.isDisableStatus=void 0,this.isDisableResolveReasonDropDown=void 0,this.isDisableOtherReason=void 0,this.isDisableEscalatedTo=void 0,this.isDisableNotes=void 0,this.isDisableSubmitButton=void 0,this.isDisableCancelButton=void 0,this.isVisibleResolutionReason=!1,this.methodofPayment=void 0,this.paymentReferenceNumber=void 0,this.amountPaid=void 0,this.placePaymentwasMade=void 0,this.accusedPartyName=void 0,this.amountCustomerListedFor=void 0,this.badDebtWrittenAmount=void 0,this.paymentDate=void 0,this.Hours=void 0,this.Minutes=void 0,this.deviceType=void 0,this.device=void 0,this.SCNumber=void 0,this.channelName=void 0,this.softwareVersion=void 0,this.loaderVersion=void 0,this.bouquet=void 0,this.reason=void 0,this.amountCustomerListedFor=void 0,this.badDebtWrittenAmount=void 0,this.amount=void 0,this.priority=void 0,this.priorityID=void 0,this.isGroup1=void 0,this.isGroup2=void 0,this.isGroup3=void 0,this.isGroup4=void 0,this.isGroup5=void 0,this.isGroup6=void 0,this.isGroup7=void 0,this.isGroup8=void 0,this.isGroup9=void 0,this.caseHistoryLog=[],this.linkedCaseLog=[],this.caseDocuments=[],this.emailAttachments=[],this.caseHistoryEmail=[],this.NoCaseEmailHistoryFound=void 0,this.from=void 0,this.to=[],this.subject=void 0,this.emailBody=void 0,this.isComposeClicked=!1,this.isEmailHistoryPresent=!0,this.caseEmailPagerPageContent=Ember.A(),this.isEmailAttachment=void 0,this.linkedCasePagerPageContent=Ember.A(),this._super()}}),Komodo.Models.GeneralNotesModel=Ember.Object.extend({init:function(){this.customerNumber=void 0,this.interactionType=void 0,this.queryType=void 0,this.category=void 0,this.subCategory=void 0,this.outcome=void 0,this.notes=void 0,this.isDisableSaveNotesButton=void 0,this.isDisableCancelButton=void 0,this._super()}}),Komodo.Models.ViewCaseModel=Ember.Object.extend({init:function(){this.queryType=void 0,this.category=void 0,this.subCategory=void 0,this.outcome=void 0,this.device=void 0,this.deviceType=void 0,this.status=void 0,this.escalatedTo=void 0,this.notes=void 0,this.UID=void 0,this.isResolved=void 0,this.customerUID=void 0,this.caseHistoryLog=[],this.contentPagerPageContent=Ember.A(),this.isNoCaseHistoryFound=!0,this.caseDocuments=[],this.caseDocPagerPageContent=Ember.A(),this.noDocumentsUploaded=!0,this.caseEmailHistoryLog=[],this.caseEmailPagerPageContent=Ember.A(),this.linkedCasePagerPageContent=Ember.A(),this.NoCaseEmailHistoryFound=void 0,this.OtherResolutionReason=void 0,this.NoLinkedCasesFoundFound=void 0,this.linkedCaseLog=[],this.isNoLinkedCasesFound=!0,this.iseGainFunctionalityEnabled=!0,this.isNotRequired=void 0,this._super()}}),Ember.TEMPLATES.ViewCaseView=Ember.Handlebars.template(function(e,t,a,s,o){function i(e,t){var s;return t.buffer.push("\r\n      "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(2,r,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n      "),s=a.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(4,n,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function r(e,t){return t.buffer.push("\r\n      \x3c!--Query Type method label--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.queryType~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.queryType"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/><br/>\r\n      \x3c!--SubCatgory label--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.subCategory~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.subCategory"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/><br/>\r\n      \x3c!--Device label--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.device~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.device"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/><br/>\r\n      \x3c!--Status label--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.status~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.status"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/><br/>\r\n      "),""}function n(e,t){return t.buffer.push("\r\n       \x3c!--Catgory method label--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.catgory~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.category"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/><br/>\r\n      \x3c!--Outcome label--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.outcome~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.outcome"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/><br/>\r\n      \x3c!--Device Category  label--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.deviceType~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.deviceType"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t
}))),t.buffer.push("\r\n      <br/><br/>\r\n       \x3c!--Escalated To label--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.escalatedTo~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/>\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.context.data.escalatedTo"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br/><br/>\r\n      "),""}function l(e,t){var s;return t.buffer.push("\r\n  \x3c!--Resolution Reason--\x3e\r\n  "),s=a.if.call(e,"view.context.data.isResolved",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(7,d,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("    \r\n  \x3c!--Notes--\x3e\r\n      "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.notes~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" \r\n      <br/>\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"view.context.data.notes",disabledBinding:"view.context.data.isResolved",rows:"5",class:"textarea-large",validatorBinding:"view.context.parent.validators.notesValidator",tabindex:"1"},hashTypes:{valueBinding:"STRING",disabledBinding:"STRING",rows:"STRING",class:"STRING",validatorBinding:"STRING",tabindex:"STRING"},hashContexts:{valueBinding:e,disabledBinding:e,rows:e,class:e,validatorBinding:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"view.context.parent.validators.notesValidator"},hashTypes:{validatorBinding:"STRING"},hashContexts:{validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function d(e,t){return t.buffer.push("\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:viewCase.resolveReason~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"view.context.data.OtherResolutionReason",disabledBinding:"view.context.data.isResolved",rows:"5",class:"textarea-large",tabindex:"1"},hashTypes:{valueBinding:"STRING",disabledBinding:"STRING",rows:"STRING",class:"STRING",tabindex:"STRING"},hashContexts:{valueBinding:e,disabledBinding:e,rows:e,class:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n  "),""}function c(e,t){return t.buffer.push("\r\n        "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.busyRetrivingCaseDocs~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function u(e,t){var s;return t.buffer.push("\r\n    "),s=a.each.call(e,"itemdoc","in","view.context.data.caseDocPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(12,h,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function h(e,t){return t.buffer.push('\r\n    <tr style="height:auto;">\r\n      <td>'),t.buffer.push(V(a.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"25",target:"_blank",hrefBinding:"itemdoc.documentUrl",textBinding:"itemdoc.documentName"},hashTypes:{tabindex:"STRING",target:"STRING",hrefBinding:"STRING",textBinding:"STRING"},hashContexts:{tabindex:e,target:e,hrefBinding:e,textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</td>\r\n    </tr>\r\n    "),""}function C(e,t){return t.buffer.push('\r\n    <tr class="retrieve-records" >\r\n      <td colspan="9" style="min-height:30px;">\r\n        &nbsp;\r\n        '),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.errAttachedDocs~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n    "),""}function g(e,t){var s,o;return t.buffer.push('\r\n    <tr>\r\n      <td colspan="7" class="sub-heading" style="text-align: center;">\r\n        '),t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.noDocumentsUploaded",o):k.call(e,"loc","locale.manageCase:caseHistory.noDocumentsUploaded",o)))),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n    "),""}function p(e,t){return t.buffer.push('\r\n  <div class="table-responsive" >\r\n  '),t.buffer.push(V(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"view.context.data.caseDocuments",pageContentBinding:"view.context.data.caseDocPagerPageContent",itemsPerPage:"5",visiblePageCount:"7"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  </div>\r\n  "),""}function m(e,t){var s,o,i;return t.buffer.push('\r\n  <div class="table-responsive">\r\n  <table id="caseHistoryTable" class="table table-bordered komodo-datagrid">\r\n    <tr>\r\n      <th width="11%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.modifiedDate",i):k.call(e,"loc","locale.manageCase:caseHistory.modifiedDate",i)))),t.buffer.push('</th>\r\n      <th width="11%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.category",i):k.call(e,"loc","locale.manageCase:caseHistory.category",i)))),t.buffer.push('</th>\r\n      <th width="15%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.sub-Category",i):k.call(e,"loc","locale.manageCase:caseHistory.sub-Category",i)))),t.buffer.push('</th>\r\n      <th width="20%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.outcome",i):k.call(e,"loc","locale.manageCase:caseHistory.outcome",i)))),t.buffer.push('</th>\r\n      <th width="8%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.status",i):k.call(e,"loc","locale.manageCase:caseHistory.status",i)))),t.buffer.push('</th>\r\n      <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.assignedTo",i):k.call(e,"loc","locale.manageCase:caseHistory.assignedTo",i)))),t.buffer.push('</th>\r\n      <th width="25%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.notes",i):k.call(e,"loc","locale.manageCase:caseHistory.notes",i)))),t.buffer.push("</th>\r\n    </tr>\r\n    "),s=a.each.call(e,"item","in","view.context.data.contentPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(21,f,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),s=a.if.call(e,"view.context.data.isNoCaseHistoryFound",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(23,v,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('\r\n  </table>\r\n</div>\r\n  <div class="table-responsive">\r\n    '),t.buffer.push(V(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"view.context.data.caseHistoryLog",pageContentBinding:"view.context.data.contentPagerPageContent",itemsPerPage:"5",visiblePageCount:"7"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  </div>\r\n  "),""}function f(e,t){var s;return t.buffer.push("\r\n    <tr>\r\n      <td>"),s=a._triageMustache.call(e,"item.ModifiedDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.category",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.subCategory",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.outcome",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.caseOwner",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n      <td>"),s=a._triageMustache.call(e,"item.notes",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n    </tr>\r\n    "),""}function v(e,t){var s,o;return t.buffer.push('\r\n    <tr>\r\n      <td colspan="7" class="sub-heading" style="text-align: center;">\r\n        '),t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.noCaseHistoryFoundError",o):k.call(e,"loc","locale.manageCase:caseHistory.noCaseHistoryFoundError",o)))),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n    "),""}function b(e,t){var s;return t.buffer.push(" \r\n \r\n  "),s=a.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.linkedCases~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:e,isCollapsed:e},inverse:P.noop,fn:P.program(26,y,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n  "),s=a.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.emailHistory~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:e,isCollapsed:e},inverse:P.noop,fn:P.program(31,I,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  \r\n  "),""}function y(e,t){var s,o,i;return t.buffer.push('\r\n  <div class="table-responsive">\r\n    <table id="linkedCasesTable" class="table table-bordered komodo-datagrid">\r\n      <thead>\r\n        <tr>\r\n          <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.customerUID",i):k.call(e,"loc","locale.manageCase:caseHistory.customerUID",i)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.caseNumber",i):k.call(e,"loc","locale.manageCase:caseHistory.caseNumber",i)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.date",i):k.call(e,"loc","locale.manageCase:caseHistory.date",i)))),t.buffer.push('</th>\r\n          <th width="22%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.userGroup",i):k.call(e,"loc","locale.manageCase:caseHistory.userGroup",i)))),t.buffer.push('</th>\r\n          <th width="33%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.description",i):k.call(e,"loc","locale.manageCase:caseHistory.description",i)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(V((o=a.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.manageCase:caseHistory.status",i):k.call(e,"loc","locale.manageCase:caseHistory.status",i)))),t.buffer.push("</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        "),s=a.each.call(e,"item","in","view.context.data.linkedCasePagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(27,x,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n      </tbody>\r\n      "),s=a.if.call(e,"view.context.data.isNoLinkedCasesFound",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(29,T,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    </table>\r\n  </div>\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"view.context.data.linkedCaseLog",pageContentBinding:"view.context.data.linkedCasePagerPageContent",itemsPerPage:"5",visiblePageCount:"7"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function x(e,t){var s;return t.buffer.push("\r\n        <tr>\r\n          <td>"),s=a._triageMustache.call(e,"item.customerUID",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"item.UID",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"item.ModifiedDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"item.caseOwner",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"item.notesToDisplay",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n          <td>"),s=a._triageMustache.call(e,"item.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</td>\r\n        </tr>\r\n        "),""}function T(e,t){var s,o;return t.buffer.push('\r\n      <tr>\r\n        <td colspan="7" class="sub-heading" style="text-align: center;">\r\n          '),t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:caseHistory.noLinkedCasesFoundError",o):k.call(e,"loc","locale.manageCase:caseHistory.noLinkedCasesFoundError",o)))),t.buffer.push("\r\n        </td>\r\n      </tr>\r\n      "),""}function I(e,t){var s;return t.buffer.push("\r\n  "),s=a.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(32,S,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n\r\n  <b>"),s=a._triageMustache.call(e,"view.context.data.NoCaseEmailHistoryFound",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</b>\r\n\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"content",contentBinding:"view.context.data.caseEmailHistoryLog",pageContentBinding:"view.context.data.caseEmailPagerPageContent",itemsPerPage:"3",visiblePageCount:"5"},hashTypes:{mode:"STRING",contentBinding:"STRING",pageContentBinding:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentBinding:e,pageContentBinding:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function S(e,t){var s;return t.buffer.push("\r\n  "),s=a.each.call(e,"item","in","view.context.data.caseEmailPagerPageContent",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(33,D,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n  "),""}function D(e,t){var s;return t.buffer.push("\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.from~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s=a._triageMustache.call(e,"item.From",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("<br/>\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.to~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s=a._triageMustache.call(e,"item.To",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("<br/>\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:caseHistory.subject~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s=a._triageMustache.call(e,"item.Subject",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("<br/>\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.manageCase:editCase.attachment~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n    <div class="table-responsive">\r\n        \x3c!--This is to show the case email attachments--\x3e\r\n        <table id="caseEmailAttachments" class="table table-bordered komodo-datagrid">\r\n            <tbody>\r\n                '),s=a.each.call(e,"row","in","item.AbsoluteUrl",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(34,M,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n  "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.CoreTextArea",{hash:{valueBinding:"item.Body",disable:"true",rows:"5",class:"textarea-large"},hashTypes:{valueBinding:"STRING",disable:"STRING",rows:"STRING",class:"STRING"},hashContexts:{valueBinding:e,disable:e,rows:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("<br/>\r\n  "),""}function M(e,t){return t.buffer.push("\r\n                <tr>\r\n                    <td>\r\n                        "),t.buffer.push(V(a.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"25",target:"_blank",hrefBinding:"row.FileLink",textBinding:"row.FileName"},hashTypes:{tabindex:"STRING",target:"STRING",hrefBinding:"STRING",textBinding:"STRING"},hashContexts:{tabindex:e,target:e,hrefBinding:e,textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n                    </td>\r\n                </tr>\r\n                "),""}function N(e,t){var s,o;t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:viewCase.notifyOwner",o):k.call(e,"loc","locale.manageCase:viewCase.notifyOwner",o))))}function R(e,t){var s,o;t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:viewCase.close",o):k.call(e,"loc","locale.manageCase:viewCase.close",o))))}function B(e,t){var s;return t.buffer.push("\r\n    "),s=a.view.call(e,"Komodo.Controls.Button",{hash:{action:"exportEmailHistoryToPDF",disabledBinding:"view.context.data.NoCaseEmailHistoryFound",tabindex:"4"},hashTypes:{action:"STRING",disabledBinding:"STRING",tabindex:"STRING"},hashContexts:{action:e,disabledBinding:e,tabindex:e},inverse:P.noop,fn:P.program(41,G,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\r\n    "),""}function G(e,t){var s,o;t.buffer.push(V((s=a.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"locale.manageCase:viewCase.exportEmailHistory",o):k.call(e,"loc","locale.manageCase:viewCase.exportEmailHistory",o))))}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),o=o||{};var w,E,K,V=this.escapeExpression,P=this,k=a.helperMissing;return o.buffer.push('<div class="modal-max-size" style="width:700px;">\r\n  \x3c!--This is case information view--\x3e\r\n    '),w=a.view.call(t,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(1,i,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push("\r\n\r\n    "),w=a.view.call(t,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(6,l,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push('\r\n\r\n  <table width="100%">\r\n    <tr class="retrieve-records" >\r\n      <td colspan="5" style="min-height:30px;">\r\n        &nbsp;\r\n        '),w=a.if.call(t,"isRetrievingDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(9,c,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push('\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  \r\n  <div class="table-responsive">\r\n  <table width="50%" class="table table-bordered komodo-datagrid">\r\n    <tr>\r\n      <th width="90%">'),o.buffer.push(V((E=a.loc||t&&t.loc,K={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:o},E?E.call(t,"locale.manageCase:caseHistory.attachedDocument",K):k.call(t,"loc","locale.manageCase:caseHistory.attachedDocument",K)))),o.buffer.push("</th>\r\n    </tr>\r\n    "),w=a.if.call(t,"isShowingDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:P.program(14,C,o),fn:P.program(11,u,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push("\r\n    "),w=a.if.call(t,"view.context.data.isNoDocumentsUploaded",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(16,g,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push("\r\n  </table>\r\n  </div>\r\n  "),w=a.if.call(t,"isShowingDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(18,p,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push("\r\n\r\n\r\n  "),w=a.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.manageCase:caseHistory.caseHist~",isCollapsed:!0},hashTypes:{title:"STRING",isCollapsed:"BOOLEAN"},hashContexts:{title:t,isCollapsed:t},inverse:P.noop,fn:P.program(20,m,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push("\r\n  \r\n "),w=a.if.call(t,"view.context.data.iseGainFunctionalityEnabled",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(25,b,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push('\r\n  \r\n  <br/>\r\n  <div style="float:right;">\r\n    '),w=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"notifyOwner",disabledBinding:"view.context.data.isNotRequired",tabindex:"2"},hashTypes:{action:"STRING",disabledBinding:"STRING",tabindex:"STRING"},hashContexts:{action:t,disabledBinding:t,tabindex:t},inverse:P.noop,fn:P.program(36,N,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push("\r\n    "),w=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"cancel",tabindex:"3"},hashTypes:{action:"STRING",tabindex:"STRING"},hashContexts:{action:t,tabindex:t},inverse:P.noop,fn:P.program(38,R,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push("\r\n    "),w=a.if.call(t,"view.context.data.iseGainFunctionalityEnabled",{hash:{},hashTypes:{},hashContexts:{},inverse:P.noop,fn:P.program(40,B,o),contexts:[t],types:["ID"],data:o}),(w||0===w)&&o.buffer.push(w),o.buffer.push("\r\n  </div>\r\n  \r\n</div>"),""}),Komodo.Application.GeneralNotesController=Komodo.UI.Controller.extend({localeGeneralNote:"locale.manageCase:generalNotes.",localeCaseHistory:"locale.manageCase:caseHistory.",localeEditCase:"locale.manageCase:editCase.",interactionTypelst:[],categorylst:[],queryTypelst:[],subCategorylst:[],outcomelst:[],isSaveInProgress:!1,countryCanonicalId:void 0,compeleteStatusId:void 0,init:function(){this._super(),Komodo.log("Constructing General Notes controller"),this.set("processVersion","v1.1"),this.set("processName","General Notes service")},start:function(){this.getCDMData(),this.set("generalNotesModel",Komodo.Models.GeneralNotesModel.create()),this.registerValidation(),this.fillCaseCategory(),this.fillInteractionMedium(),this.fillQueryType(),this.generalNotesModel.set("isDisableSaveNotesButton",!0),this.generalNotesModel.set("isDisableCancelButton",!0),this.isSaveInProgress=!1,this._super()},registerValidation:function(){this.registerValidator(this.get("generalNotesModel"),"interactionType",{isRequired:!0}),this.registerValidator(this.get("generalNotesModel"),"category",{isRequired:!0}),this.registerValidator(this.get("generalNotesModel"),"queryType",{isRequired:!0}),this.registerValidator(this.get("generalNotesModel"),"subCategory",{isRequired:!0}),this.registerValidator(this.get("generalNotesModel"),"notes",{isRequired:!0,maxLength:1e3,displayName:kl.value(this.localeGeneralNote+"notes")}),this.registerValidator(this.get("generalNotesModel"),"customerNumber",{isRequired:!1,type:"number",maxLength:10,limitValueToType:!0,displayName:kl.value(this.localeCaseHistory+"customerValidationMsgMsg")})},getCDMData:function(){var e=this,t=void 0;Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(a){t=a.data,Komodo.Services.cachedDataService.fetch("Country").done(function(a){$.each(a,function(a,s){t.countryDescription==s.value&&e.set("countryCanonicalId",s.key)})})}),Komodo.Services.cachedDataService.fetch("CaseStatus").done(function(t){$.each(t,function(t,a){"1"===a.key&&e.set("compeleteStatusId",a.key)})})},fillCaseCategory:function(){var e=this;Komodo.Services.cachedDataService.fetch("caseDetail").done(function(t){var a=JSON.parse(t);e.get("categorylst").clear();var s=a.CaseCategories.CaseCategory.sort(function(e,t){var a=e.CanonicalValue.toUpperCase(),s=t.CanonicalValue.toUpperCase();return a<s?-1:a>s?1:0});$.each(s,function(t,a){e.chkCaseOrActivity(a,"Category")&&e.get("categorylst").addObject(a)})}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeGeneralNote+"generalNotesTitle"),"<strong>"+kl.value(e.localeGeneralNote+"filedLoadCategories")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},enableSaveIfNotInProgress:function(){this.isSaveInProgress||this.generalNotesModel.set("isDisableSaveNotesButton",!1)},CategoryChanged:function(){var e=this;this.set("subCategorylst",[]),this.set("outcomelst",[]),e.generalNotesModel.set("subCategory",void 0),e.generalNotesModel.get("category")&&$.each(e.get("categorylst"),function(t,a){if(a.CanonicalKey==e.generalNotesModel.get("category"))if(a.CaseSubCategories&&a.CaseSubCategories.CaseSubCategory)if($.isArray(a.CaseSubCategories.CaseSubCategory)){var s=a.CaseSubCategories.CaseSubCategory.sort(function(e,t){var a=e.CanonicalValue.toUpperCase(),s=t.CanonicalValue.toUpperCase();return a<s?-1:a>s?1:0});$.each(s,function(t,a){e.chkCaseOrActivity(a,"SubCategory")&&e.get("subCategorylst").addObject(a)})}else e.chkCaseOrActivity(a.CaseSubCategories.CaseSubCategory,"SubCategory")&&e.get("subCategorylst").addObject(a.CaseSubCategories.CaseSubCategory);else e.generalNotesModel.set("subCategory","")})}.observes("generalNotesModel.category"),SubCategoryChanged:function(){var e=this;e.generalNotesModel.get("subCategory")?(e.enableSaveIfNotInProgress(),e.generalNotesModel.set("isDisableCancelButton",!1)):(e.generalNotesModel.set("isDisableSaveNotesButton",!0),e.generalNotesModel.set("isDisableCancelButton",!0))}.observes("generalNotesModel.subCategory"),fillInteractionMedium:function(){var e=this;Komodo.Services.cachedDataService.fetch("InteractionMedium").done(function(t){t=t.sort(function(e,t){var a=e.value.toUpperCase(),s=t.value.toUpperCase();return a<s?-1:a>s?1:0}),e.set("interactionTypelst",t)}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeGeneralNote+"generalNotesTitle"),"<strong>"+kl.value(e.localeGeneralNote+"filedLoadInteractions")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},fillQueryType:function(){var e=this;Komodo.Services.cachedDataService.fetch("CaseQueryType").done(function(t){t=t.sort(function(e,t){var a=e.value.toUpperCase(),s=t.value.toUpperCase();return a<s?-1:a>s?1:0}),e.set("queryTypelst",t)}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeGeneralNote+"generalNotesTitle"),"<strong>"+kl.value(e.localeGeneralNote+"filedLoadQuery")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},chkCaseOrActivity:function(e,t){var a=this;if("Category"==t)for(var s=$.makeArray(e.CaseSubCategories.CaseSubCategory),o=0;o<s.length;o++){var i=s[o],r=a.chkSubcategoryForCaseOrActivity(i);if(r)return!0}else if("SubCategory"==t)return a.chkSubcategoryForCaseOrActivity(e);return!1},chkSubcategoryForCaseOrActivity:function(e){if(e&&e.CaseOutcomes.CaseOutcome)for(var t=$.makeArray(e.CaseOutcomes.CaseOutcome),a=0;a<t.length;a++){var s=t[a];if(s&&s.CaseStatuses&&s.CaseStatuses.CaseStatus){var o=$.makeArray(s.CaseStatuses.CaseStatus);if(o&&o[0]&&1==o[0].CanonicalKey)return!0}}return!1},clearControls:function(){this.generalNotesModel.set("interactionType",void 0),this.generalNotesModel.set("category",void 0),this.generalNotesModel.set("subCategory",void 0),this.generalNotesModel.set("queryType",void 0),this.generalNotesModel.set("customerNumber",void 0),this.generalNotesModel.set("notes",void 0),this.set("isSaveInProgress",!1)},stop:function(){this._super()},actions:{saveNotesCase:function(){this.validateAndPublishGeneralNotes()},cancelCase:function(){this.clearControls()}},validateAndPublishGeneralNotes:function(){var e=this.get("generalNotesModel");this.canSubmitData(e,kl.value(this.localeGeneralNote+"generalNotesTitle"),{showInModal:!0})&&this.validateNotes()&&(this.generalNotesModel.set("isDisableSaveNotesButton",!0),this.generalNotesModel.set("isDisableCancelButton",!0),this.set("isSaveInProgress",!0),this.publishGeneralNotes())},validateNotes:function(){return void 0!=this.generalNotesModel.get("notes")&&""!=this.generalNotesModel.get("notes").trim()||(Komodo.Controls.MessageBoxController.show(kl.value(this.localeGeneralNote+"generalNotesTitle"),kl.value(this.localeEditCase+"notesRequiredMessage"),null,this,"id123456","warning"),!1)},
publishGeneralNotes:function(){var e=Komodo.Models.CreateInteraction.create(),t=Komodo.Models.Case.create(),a=Komodo.canonicalFacadeFactory(e,["Country","Case"]);t.set("Type","Case"),void 0!==this.generalNotesModel.get("customerNumber")&&t.set("CustomerUID",this.generalNotesModel.get("customerNumber")),t.set("InteractionMedium",this.generalNotesModel.get("interactionType")),t.set("QueryType",this.generalNotesModel.get("queryType")),t.set("Category",this.generalNotesModel.get("category")),t.set("SubCategory",this.generalNotesModel.get("subCategory")),t.set("Notes",this.generalNotesModel.get("notes")),t.set("IsGeneralNote","true"),t.set("Status",this.compeleteStatusId),a.set("Country",this.countryCanonicalId),a.set("Case",t),this.publishRequestOnBus(e,"CreateInteraction","v1"),Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,6e4,"blocking",this)},publishRequestOnBus:function(e,t,a){var s=Komodo.Services.ManageCaseService,o="Event Message for "+t+" ";s.publishEvent(this,e,t,a).done(function(){Komodo.log(o+" has been published successfully")}).fail(function(e){Komodo.log(o+" has been failed"),Komodo.Controls.MessageBoxController.show(o,e)})},messageCaseCreatedReceived:function(e){if(Komodo.Services.busyService.stop(this.get("processId"),"blocking"),void 0!==e.ResponseMessage.Payload.Case.UID){var t=this;Komodo.Controls.MessageBoxController.show(kl.value(t.localeGeneralNote+"generalNotesTitle"),kl.value(t.localeGeneralNote+"generalNote")+" - "+e.ResponseMessage.Payload.Case.UID+" "+kl.value(t.localeGeneralNote+"generalNoteCreated"),Komodo.Controls.MessageBoxOkButton,t,"id5446673","success").response=function(e){"ok"==e&&(t.set("isSaveInProgress",!1),t.generalNotesModel.set("isDisableSaveNotesButton",!1),t.clearControls(),t.generalNotesModel.set("isDisableSaveNotesButton",!0))}}},messageFailureMessageEventReceived:function(e){Komodo.Services.busyService.stop(this.get("processId"),"blocking");var t=this;Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButtons,t,"id5446673","danger"),t.set("isSaveInProgress",!1),t.generalNotesModel.set("isDisableSaveNotesButton",!1),t.generalNotesModel.set("isDisableCancelButton",!1)}}),Komodo.Models.CaseHistoryModel=Ember.Object.extend({init:function(){this.startDate=void 0,this.endDate=void 0,this.status=void 0,this.customerUID=void 0,this.assignee=void 0,this.caseInformation=[],this._super()},assigneeName:function(){var e=this.get("assignee");return e?e.Key:e}.property("assignee")}),Komodo.Models.CaseInformation=Ember.Object.extend({init:function(){this.queryType=void 0,this.category=void 0,this.subCategory=void 0,this.outcome=void 0,this.device=void 0,this.deviceType=void 0,this.status=void 0,this.escalatedTo=void 0,this.notes=void 0,this.UID=void 0,this.isResolved=void 0,this.customerUID=void 0,this.ModifiedDate=void 0,this.ModifiedBy=void 0,this.assignee=void 0,this.displayEditBtn=!1,this.caseOwner=void 0,this.type=void 0,this.OtherResolutionReason=void 0,this._super()},notesToDisplay:function(){var e=this.get("notes");return void 0==e||null==e||""==e?"-":(e=e.toString(),e.length>100?e.substring(0,100)+"...":e)}.property("notes")}),Komodo.Application.ViewCaseController=Komodo.UI.Controller.extend({localeEditCase:"locale.manageCase:viewCase.",init:function(){this._super(),Komodo.log("Constructing View Case controller"),this.set("processVersion","v1.1"),this.set("processName","View Case service")},start:function(){this._super()},stop:function(){this._super()}}),Komodo.Application.CaseHistoryView=Komodo.UI.View.extend({viewKey:"CaseHistoryView",templateName:"CaseHistoryView"}),Komodo.Application.ManageCaseSharedObjectController=Komodo.UI.Controller.extend({sessionId:void 0,domainUserName:void 0,self:void 0,country:void 0,countryDescription:void 0,localeCreateCase:"locale.manageCase:createCase.",localeCaseHistoryAPIParameters:"locale.manageCase:caseHistoryAPIParameters.",init:function(){Komodo.log("Shared Object for the Customer Case Management"),this.set("processVersion","v1.1"),this.set("processName","Manage Cases"),this._super(),sessionId=Komodo.Services.securityService.get("sessionToken"),domainUserName=Komodo.Services.securityService.get("domainUserName"),self=this;var e=this;Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(t){e.set("country",t.data.countryId),e.set("countryDescription",t.data.countryDescription)}),this.start()},createParameter:function(e,t){return e+"="+t},isValuePresent:function(e){return null!==e&&void 0!==e&&""!=e},retrieveInteractionsByFilter:function(e,t,a,s,o,i,r,n,l,d,c,u,h,C,g){try{var p="";if(this.isValuePresent(a)&&(p+="&"+this.createParameter("uid",a)),this.isValuePresent(s)&&(p+="&"+this.createParameter("escalationNumber",s)),this.isValuePresent(o)&&(p+="&"+this.createParameter("customerUid",o)),this.isValuePresent(i)&&(p+="&"+this.createParameter("customerId",i)),this.isValuePresent(r)&&(p+="&"+this.createParameter("caseStatus",r)),this.isValuePresent(n)&&(p+="&"+this.createParameter("startDate",n.toLocaleDateString("sv-SE"))),this.isValuePresent(l)&&(p+="&"+this.createParameter("endDate",l.toLocaleDateString("sv-SE"))),this.isValuePresent(d)&&(p+="&"+this.createParameter("deviceNumber",d)),null!==c&&void 0!==c&&(p+="&"+this.createParameter("type",c)),this.isValuePresent(u)&&(p+="&"+this.createParameter("userName",u)),this.isValuePresent(h)&&(p+="&"+this.createParameter("assignee",h)),p.length<=0)return Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"error"),kl.value(this.localeCreateCase+"recordFetchMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1;Komodo.Services.queryService.getJSON("CustomerInteraction/GetInteractionByFilters?pageNumber="+e+"&pageSize="+t+p,!0).done(function(e){switch(g){case"CaseHistory":self.messageCustomerCasesRetrieved(e);break;case"CustomerInteraction":self.messageCustomerInteractionsRetrieved(e);break;case"EditCase":self.messageEditCaseRetrieved(e)}}).error(function(e){var t=JSON.stringify(e),a=self.getMessageFromError(e);switch(g){case"CaseHistory":self.messageCustomerCasesRetrievedError(a),Komodo.log("Retrieve Customer Cases by Filter ajax call failed. Error: "+t);break;case"CustomerInteraction":self.messageCustomerInteractionsRetrievedError(a),Komodo.log("Retrieve Customer Interactions by Filter ajax call failed. Error: "+t);break;case"EditCase":self.messageEditCaseRetrievedError(a),Komodo.log("Retrieve Edit Customer Case by Filter ajax call failed. Error: "+t)}})}catch(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"error"),kl.value(this.localeCreateCase+"technicalErrorMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}},messageCustomerCasesRetrieved:function(e){Komodo.Services.ManageCaseService.setRetrieveCasesResult(e),Komodo.Services.eventAggregator.publish("CustomerCasesRetrievedReceived")},messageCustomerCasesRetrievedError:function(e){Komodo.Services.ManageCaseService.setRetrieveCasesError(e),Komodo.Services.eventAggregator.publish("CustomerCasesRetrievedError")},messageCaseExportRetrieved:function(e){Komodo.Services.ManageCaseService.setRetrieveCasesResult(e),Komodo.Services.eventAggregator.publish("GetCaseHistoryExportReceived")},messageCaseExportError:function(e){Komodo.Services.ManageCaseService.setExportCasesError(e),Komodo.Services.eventAggregator.publish("GetCaseHistoryExportError")},messageCustomerInteractionsRetrieved:function(e){Komodo.Services.ManageCaseService.setRetrieveInteractionsResult(e),Komodo.Services.eventAggregator.publish("CustomerInteractionsRetrievedReceived")},messageCustomerInteractionsRetrievedError:function(e){Komodo.Services.ManageCaseService.setRetrieveInteractionsError(e),Komodo.Services.eventAggregator.publish("CustomerInteractionsRetrievedError")},messageEditCaseRetrieved:function(e){Komodo.Services.ManageCaseService.setRetrieveEditCaseResult(e),Komodo.Services.eventAggregator.publish("EditCaseRetrievedReceived")},messageEditCaseRetrievedError:function(e){Komodo.Services.ManageCaseService.setRetrieveEditCaseError(e),Komodo.Services.eventAggregator.publish("EditCaseRetrievedError")},getHouseHoldMembers:function(e){try{Komodo.Services.queryService.getJSON("CustomerProfile/GetHouseholdMemberDetailsForCustomer?customerUId="+e,!0).done(function(e){self.messageGetHouseholdMemberReceived(e)}).error(function(e){var t=JSON.stringify(e);self.messageGetHouseholdMemberError(self.getMessageFromError(e)),Komodo.log("Retrieve Household Members for Customer ajax call failed. Error: "+t)})}catch(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"danger"),kl.value(this.localeCreateCase+"technicalErrorMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}},messageGetHouseholdMemberReceived:function(e){Komodo.Services.ManageCaseService.setGetHouseholdMembersResult(e),Komodo.Services.eventAggregator.publish("HouseholdMembersResultReceived")},messageGetHouseholdMemberError:function(e){Komodo.Services.ManageCaseService.setGetHouseholdMembersError(e),Komodo.Services.eventAggregator.publish("HouseholdMembersResultError")},getAssigneeList:function(){try{Komodo.Services.queryService.getJSON("CrmUserManagement/GetTeams",!0).done(function(e){self.messageGetAssigneeListReceived(e)}).error(function(e){var t=JSON.stringify(e);self.messageGetAssigneeListError(self.getMessageFromError(e)),Komodo.log("Retrieve Assignee List ajax call failed. Error: "+t)})}catch(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"error"),kl.value(this.localeCreateCase+"technicalErrorMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}},messageGetAssigneeListReceived:function(e){Komodo.Services.ManageCaseService.setGetAssigneeListResult(e),Komodo.Services.eventAggregator.publish("AssigneeListResultReceived")},messageGetAssigneeListError:function(e){Komodo.Services.ManageCaseService.setGetAssigneeListError(e),Komodo.Services.eventAggregator.publish("AssigneeListResultError")},getGroupMembers:function(e,t){var a=this;try{Komodo.Services.queryService.getJSON("CrmUserManagement/GetUsers?userName="+e,!0).done(function(e){a.messageGetGroupMembersReceived(e,t)}).error(function(e){var s=JSON.stringify(e);a.messageGetGroupMembersError(a.getMessageFromError(e),t),Komodo.log("Retrieve Group Members ajax call failed. Error: "+s)})}catch(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"error"),kl.value(this.localeCreateCase+"technicalErrorMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}},messageGetGroupMembersReceived:function(e,t){Komodo.Services.ManageCaseService.setGroupMembersResult(e),Komodo.Services.eventAggregator.publish("GroupMembersResultReceived",t)},messageGetGroupMembersError:function(e,t){Komodo.Services.ManageCaseService.setGroupMembersError(e),Komodo.Services.eventAggregator.publish("GroupMembersResultError",t)},getUserSecurityRole:function(e){try{Komodo.Services.queryService.getJSON("CrmUserManagement/GetUserSecurityRoles?strUserName="+e,!0).done(function(e){self.messageUserSecurityRoleReceived(e)}).error(function(e){var t=JSON.stringify(e);self.messageUserSecurityRoleError(self.getMessageFromError(e)),Komodo.log("Retrieve User Security Role ajax call failed. Error: "+t)})}catch(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"error"),kl.value(this.localeCreateCase+"technicalErrorMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}},messageUserSecurityRoleReceived:function(e){Komodo.Services.ManageCaseService.setUserSecurityRole(e),Komodo.Services.eventAggregator.publish("UserSecurityRoleResultReceived")},messageUserSecurityRoleError:function(e){Komodo.Services.ManageCaseService.setUserSecurityRoleError(e),Komodo.Services.eventAggregator.publish("UserSecurityRoleResultError")},getUserGroupsByUserName:function(e){try{var t=this;Komodo.Services.queryService.getJSON("CrmUserManagement/GetTeams?userName="+e,!0).done(function(e){t.messageGetUserGroupsByUserNameReceived(e)}).error(function(e){var a=JSON.stringify(e);t.messageGetUserGroupsByUserNameError(t.getMessageFromError(e)),Komodo.log("getUserGroupsByUserName ajax call failed. Error: "+a)})}catch(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"error"),kl.value(this.localeCreateCase+"technicalErrorMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}},messageGetUserGroupsByUserNameReceived:function(e){Komodo.Services.ManageCaseService.setGetUserGroupsByUserNameResult(e),Komodo.Services.eventAggregator.publish("GetUserGroupsByUserNameResultReceived")},messageGetUserGroupsByUserNameError:function(e){Komodo.Services.ManageCaseService.setGetUserGroupsByUserNameError(e),Komodo.Services.eventAggregator.publish("GetUserGroupsByUserNameErrorReceived")},retrieveCaseHistoryLog:function(e,t,a,s){var o=this;Komodo.Services.queryService.getJSON("CustomerInteraction/retrieveCaseHistory?pageNumber="+t+"&pageSize="+a+"&caseNumber="+e,!0).done(function(e){o.messageRetrieveCaseHistoryLogReceived(e,s)}).error(function(e){var t=JSON.stringify(e);o.messageRetrieveCaseHistoryLogError(o.getMessageFromError(e),s),Komodo.log("retrieveCaseHistoryLog ajax call failed. Error: "+t)})},messageRetrieveCaseHistoryLogReceived:function(e,t){Komodo.Services.ManageCaseService.setCaseHistoryLog(e.Case),"editCase"==t?Komodo.Services.eventAggregator.publish("RetrieveCaseHistoryLogResultReceived"):"manageCase"==t?Komodo.Services.eventAggregator.publish("ManageCaseRetrieveCaseHistoryLogResultReceived"):"viewCase"==t?Komodo.Services.eventAggregator.publish("ViewCaseRetrieveCaseHistoryLogResultReceived"):"customerInteractionHistory"==t?Komodo.Services.eventAggregator.publish("CustomerInteractionCaseHistoryLogResultReceived"):Komodo.Services.eventAggregator.publish("RetrieveCaseHistoryLogResultReceived")},messageRetrieveCaseHistoryLogError:function(e,t){Komodo.Services.ManageCaseService.setCaseHistoryLogError(e),"editCase"==t?Komodo.Services.eventAggregator.publish("RetrieveCaseHistoryLogErrorReceived"):"manageCase"==t?Komodo.Services.eventAggregator.publish("ManageCaseRetrieveCaseHistoryLogErrorReceived"):"viewCase"==t?Komodo.Services.eventAggregator.publish("ViewCaseRetrieveCaseHistoryLogErrorReceived"):"customerInteractionHistory"==t?Komodo.Services.eventAggregator.publish("CustomerInteractionCaseHistoryLogErrorReceived"):Komodo.Services.eventAggregator.publish("RetrieveCaseHistoryLogErrorReceived")},retrieveCaseDocuments:function(e,t){Komodo.log("["+t+"]: retrieveCaseDocuments for "+e);var a=this;Komodo.Services.queryService.getJSON("ConfigurationQuery/GetCaseDocuments?caseId="+e).done(function(s){a.messageRetrieveCaseDocumentsReceived(s,e,t)}).error(function(s){var o=JSON.stringify(s);a.messageRetrieveCaseDocumentsError(a.getMessageFromError(s),e,t),Komodo.log("retrieveCaseDocuments ajax call failed. Error: "+o)})},messageRetrieveCaseDocumentsReceived:function(e,t,a){switch(Komodo.Services.ManageCaseService.setCaseDocuments(e),a){case"manageCase":Komodo.Services.eventAggregator.publish("ManageCaseCaseDocumentsRetrievedReceived",t);break;case"editCase":Komodo.Services.eventAggregator.publish("EditCaseDocumentsRetrievedReceived",t);break;case"customerInteractionHistory":Komodo.Services.eventAggregator.publish("CustomerInteractionCaseDocumentsRetrievedReceived",t);break;default:Komodo.Services.eventAggregator.publish("CaseDocumentsRetrievedReceived",t)}},messageRetrieveCaseDocumentsError:function(e,t,a){switch(Komodo.Services.ManageCaseService.setCaseDocumentsError(e),a){case"manageCase":Komodo.Services.eventAggregator.publish("ManageCaseCaseDocumentsRetrievedError",t);break;case"customerInteractionHistory":Komodo.Services.eventAggregator.publish("CustomerInteractionCaseDocumentsRetrievedError",t);break;default:Komodo.Services.eventAggregator.publish("CaseDocumentsRetrievedError",t)}},getMessageFromError:function(e){var t=(JSON.stringify(e),void 0);if(void 0!=e.responseJSON)t=e.responseJSON.Message?e.responseJSON.Message:e.responseJSON;else switch(e.status){case 404:default:t=kl.value(this.localeCreateCase+"technicalErrAdmin"),t=e.statusText?t+" Status : "+e.statusText:t}return t},getFormattedDate:function(e){var t="";if("0001-01-01T00:00:00"===e)return"";if(e){var a=e.split("T"),s=new Date(a[0]),o=s.getDate();o=o<10?"0"+o.toString():o.toString();var i=s.getMonth()+1;i=i<10?"0"+i.toString():i.toString();t=o+"-"+i+"-"+s.getFullYear()}return t},formatDateTimeToDDMMYYYY_HHmm:function(e){var t=new Date(e),a=t.getHours(),s=t.getMinutes();a=a<10?"0"+a:a,s=s<10?"0"+s:s;var o=a+":"+s;return t.getDate()+"-"+parseInt(parseInt(t.getMonth())+parseInt(1))+"-"+t.getFullYear()+"  "+o},getHyphenIfEmpty:function(e){return this.isNullOrEmpty(e)?"-":e},isNullOrEmpty:function(e){return void 0==e||null==e||""==e},isEqual:function(e,t,a){for(var s=0;s<a.length;s++)if(Ember.get(e,a[s])!=Ember.get(t,a[s]))return!1;return!0},getFilteredItems:function(e,t,a,s){for(var o=[],i=void 0,r=void 0,n=0;n<e.length;n++){r=e[n];for(var l=!1,d=0;d<t.length;d++)if("-"!=this.getHyphenIfEmpty(Ember.get(r,t[d]))){l=!0;break}a&&l&&void 0!=i&&this.isEqual(r,i,null==s?t:s)?l=!1:(l&&o.addObject(r),i=r)}return o},propListCaseHistory:["category","subCategory","outcome","status","caseOwner","notes"],propListForDuplicateCheck:["category","subCategory","outcome","status","caseOwner","notes","ModifiedDate"],getFilteredCaseHistory:function(e){return this.getFilteredItems(e,this.propListCaseHistory,!0,this.propListForDuplicateCheck)},fetchCaseEmail:function(e,t){var a=this;Komodo.Services.queryService.getJSON("/CustomerInteraction/GetCaseEmails?caseNumber="+e).done(function(s){null!=s&&null!=s.EmailMessages&&s.EmailMessages.length>0&&(s=a.parseHTMLToText(s),a.messageFetchCaseEmailReceived(s,e,t))}).error(function(s){var o=JSON.stringify(s);a.messageFetchCaseEmailError(a.getMessageFromError(s),e,t),Komodo.log("fetchCaseEmail ajax call failed. Error: "+o)})},messageFetchCaseEmailReceived:function(e,t,a){switch(Komodo.Services.ManageCaseService.setCaseHistoryEmails(e),a){case"editCase":Komodo.Services.eventAggregator.publish("EditCaseFetchCaseHistoryEmailsReceived",t);break;case"manageCase":Komodo.Services.eventAggregator.publish("ManageCaseFetchCaseHistoryEmailsReceived",t);break;case"viewCase":Komodo.Services.eventAggregator.publish("ViewCaseFetchCaseHistoryEmailsReceived",t);break;default:Komodo.Services.eventAggregator.publish("FetchCaseHistoryEmailsReceived",t)}},messageFetchCaseEmailError:function(e,t,a){switch(Komodo.Services.ManageCaseService.setCaseHistoryEmailsError(e),a){case"editCase":Komodo.Services.eventAggregator.publish("EditCaseFetchCaseHistoryEmailsErrorReceived",t);break;case"manageCase":Komodo.Services.eventAggregator.publish("ManageCaseFetchCaseHistoryEmailsErrorReceived",t);break;case"viewCase":Komodo.Services.eventAggregator.publish("ViewCaseFetchCaseHistoryEmailsErrorReceived",t);break;default:Komodo.Services.eventAggregator.publish("FetchCaseHistoryEmailsErrorReceived",t)}},parseHTMLToText:function(e){for(var t=0;t<e.EmailMessages.length;t++)/<[a-z][\s\S]*>/i.test(e.EmailMessages[t].Body)&&(e.EmailMessages[t].Body=$($(e.EmailMessages[t].Body).children()).text().trim()),e.EmailMessages[t].Body=e.EmailMessages[t].Body.replace(/&amp;|_/g,"&").replace(/&lt;|_/g,"<").replace(/&gt;|_/g,">").replace(/&quot;|_/g,'"').replace(/&apos;|_/g,"'"),e.EmailMessages[t].Subject=e.EmailMessages[t].Subject.replace(/&amp;|_/g,"&").replace(/&lt;|_/g,"<").replace(/&gt;|_/g,">").replace(/&quot;|_/g,'"').replace(/&apos;|_/g,"'");return e},retrieveLinkedCasesLog:function(e,t,a,s){var o=this;Komodo.Services.queryService.getJSON("CustomerInteraction/RetrieveLinkedCases?pageNumber="+t+"&pageSize="+a+"&caseNumber="+e,!0).done(function(e){o.messageRetrieveLinkedCasesLogReceived(e,s)}).error(function(e){var t=JSON.stringify(e);o.messageRetrieveLinkedCasesLogError(o.getMessageFromError(e),s),Komodo.log("retrieveLinkedCasesLog ajax call failed. Error: "+t)})},messageRetrieveLinkedCasesLogReceived:function(e,t){Komodo.Services.ManageCaseService.setLinkedCasesLog(e.Case),"editCase"==t?Komodo.Services.eventAggregator.publish("EditCaseRetrieveLinkedCasesLogResultReceived"):"manageCase"==t?Komodo.Services.eventAggregator.publish("ManageCaseRetrieveLinkedCasesLogResultReceived"):"viewCase"==t?Komodo.Services.eventAggregator.publish("ViewCaseRetrieveLinkedCasesLogResultReceived"):Komodo.Services.eventAggregator.publish("RetrieveLinkedCasesLogResultReceived")},messageRetrieveLinkedCasesLogError:function(e,t){Komodo.Services.ManageCaseService.setLinkedCasesLogError(e),"editCase"==t?Komodo.Services.eventAggregator.publish("EditCaseRetrieveLinkedCasesLogErrorReceived"):"manageCase"==t?Komodo.Services.eventAggregator.publish("ManageCaseRetrieveLinkedCasesLogErrorReceived"):"viewCase"==t?Komodo.Services.eventAggregator.publish("ViewCaseRetrieveLinkedCasesLogErrorReceived"):Komodo.Services.eventAggregator.publish("RetrieveLinkedCasesLogErrorReceived")},stop:function(){this._super()},exportToPdfConvertor:function(e,t){var a=this;t=void 0==t||""==t?"download":t.replace(/ /g,"_");var s=t+"_"+a.formatDateForFileName(new Date)+".pdf",o=window.open("",s,"height=600,width=600");o.document.write(e),o.document.title=s,o.document.close(),o.focus(),o.print(),o.close()},formatDateForFileName:function(e){var t="";if("0001-01-01T00:00:00"===e)return"";if(e){var a=new Date(e),s=a.getDate();s=s<10?"0"+s.toString():s.toString();var o=a.getMonth()+1;o=o<10?"0"+o.toString():o.toString();t=s+"-"+o+"-"+a.getFullYear()}return t},retrieveCaseHistoryExport:function(e,t,a,s,o,i,r,n,l,d,c,u,h,C,g,p,m){var f=this,v=new Object;f.isValuePresent(o)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"uid"),Value:o}),f.isValuePresent(i)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"escalationNumber"),Value:i}),f.isValuePresent(r)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"customerUid"),Value:r}),f.isValuePresent(n)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"customerId"),Value:n}),f.isValuePresent(l)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"caseStatus"),Value:l}),f.isValuePresent(d)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"startDate"),Value:d.toLocaleDateString("sv-SE")}),f.isValuePresent(c)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"endDate"),Value:c.toLocaleDateString("sv-SE")}),f.isValuePresent(u)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"deviceNumber"),Value:u}),s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"interactionType"),Value:h}),f.isValuePresent(C)&&s.push({Field:kl.value(f.localeCaseHistoryAPIParameters+"userName"),Value:C}),f.isValuePresent(g)&&s.push({Field:"Assignee",Value:g}),s=f.addStatusList(s,p),f.isValuePresent(m)&&(s=f.addUserGroupList(s,m)),v.ExportDictionary=s,Komodo.Services.busyService.start(!0,f.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,7e4,"blocking",f),Komodo.Services.queryService.postJSON("/ExportData/ExportAllRecords?apiName="+e+"&fileName="+t+"&fileFormat="+a,{data:v}).done(function(e){Komodo.Services.busyService.stop(f.get("processId"),"blocking"),t=t.replace(/ /g,"_");var a="data:application/vnd.ms-excel,"+encodeURIComponent(e),s=document.createElement("a");s.href=a,s.style="visibility:hidden",s.download=t+"_"+f.formatDateForFileName(new Date)+".xls",document.body.appendChild(s),s.click(),document.body.removeChild(s)}).error(function(e){Komodo.Services.busyService.stop(f.get("processId"),"blocking");var t=f.getMessageFromError(e);f.messageCaseExportError(t)})},addStatusList:function(e,t){return e.push({Field:"CustomList1",Value:"StatusList "}),t.forEach(function(t){e.push({Field:t.key,Value:t.value})}),e},addUserGroupList:function(e,t){return e.push({Field:"CustomList2",Value:"IsGroup "}),e.push({Field:"IsGroup",Value:t.IsGroup}),e},getFormattedDateTime:function(e){var t="";if("0001-01-01T00:00:00"===e)return"";if(e){var a=e.split("T"),s=new Date(a[0]),o=s.getDate();o=o<10?"0"+o.toString():o.toString();var i=s.getMonth()+1;i=i<10?"0"+i.toString():i.toString();var r=s.getFullYear(),n=new Date(e),l=n.getUTCHours(),d=n.getMinutes();l=l<10?"0"+l:l,d=d<10?"0"+d:d;t=o+"-"+i+"-"+r+" "+(l+":"+d)}return t}}),Komodo.Application.ViewCaseView=Komodo.UI.View.extend({viewKey:"ViewCaseView",templateName:"ViewCaseView"}),Komodo.Application.InteractionDetailsController=Komodo.UI.Controller.extend({init:function(){this._super(),Komodo.log("Constructing Interaction Details Controller"),this.set("processVersion","v1.1"),this.set("processName","Interaction Details")},start:function(){this._super()},stop:function(){this._super()}}),Komodo.Application.CustomerInteractionHistoryView=Komodo.UI.View.extend({viewKey:"CustomerInteractionHistoryView",templateName:"CustomerInteractionHistoryView"}),Komodo.Application.InteractionDetailsView=Komodo.UI.View.extend({viewKey:"InteractionDetailsView",templateName:"InteractionDetailsView"}),Komodo.Application.GeneralNotesView=Komodo.UI.View.extend({viewKey:"GeneralNotesView",templateName:"GeneralNotesView"}),Komodo.Application.EditCaseController=Komodo.UI.Controller.extend({localeEditCase:"locale.manageCase:editCase.",localeCreateCase:"locale.manageCase:createCase.",localeCaseHistory:"locale.manageCase:caseHistory.",localeViewCase:"locale.manageCase:viewCase.",statuslst:[],escalatedTolst:[],resolveReasonlst:[],categorylst:[],subCategorylst:[],outcomelst:[],assignedToList:[],methodofPaymentlst:[],caseEmailMessages:[],caseQueryTypelst:void 0,editCaseUID:void 0,isSupervisor:void 0,retrivedCase:void 0,countryCanonicalId:void 0,isDataLoading:!0,actualPaymentDate:void 0,isDisableSubmitButton:!0,isDisableCancelButton:!0,loggedInCountryName:void 0,subcategorylstAll:[],outcomelstAll:[],isNoCaseHistoryFound:!0,contentPagerPageContent:Ember.A(),isCaseDocumentsAvailable:!0,isGroupPresent:void 0,composeEmailVisible:!0,EmailAttachmentDocUploader:void 0,caseOwner:void 0,teamName:void 0,sendMailClicked:!1,isNoLinkedCasesFound:!0,selectedCaseId:void 0,isCaseFeatureEnabled:!1,iseGainFunctionalityEnabled:!1,previousCaseData:void 0,excludedCaseStatus:["Complete","Cancelled"],init:function(){Komodo.log("Constructing Edit Case controller"),this.set("processVersion","v1.1"),this.set("processName","Edit Case service"),this.set("sharedObject",Komodo.Application.ManageCaseSharedObjectController.create()),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.subscribeEditCaseRetrievedReceived(),this.subscribeEditCaseRetrievedError(),this.subscribeGroupMembersResultReceived(),this.subscribeGroupMembersResultError(),this.subscribeRetrieveCaseHistoryLogReceived(),this.subscribeRetrieveCaseHistoryLogErrorReceived(),this.subscribeCaseDocumentsRetrievedReceived(),this.subscribeCaseDocumentsRetrievedError(),this._super()},start:function(){this.set("editCaseModel",Komodo.Models.EditCaseModel.create());var e=this;this.set("editCaseModel.caseHistoryLog",Ember.A()),this.editCaseModel.set("linkedCaseLog",Ember.A()),this.editCaseModel.set("caseHistoryEmail",Ember.A()),this.registerValidation(),this.clearControls(),this.clearConditionalControls(),this.visibleControls(),this.disableControls(!0),this.clearDropDowns(),Komodo.Services.ManageCaseService.setGroupMembersResult(Ember.A()),this.set("assignedToList",Ember.A()),this.editCaseModel.set("isAssigneeVisible",!(1==this.isSupervisor)),Komodo.Services.featureToggleService.isEnabled("ManageCase","CreateCase").done(function(t){switch(t){case!0:e.set("isCaseFeatureEnabled",!0);break;case!1:e.set("isCaseFeatureEnabled",!1);break;default:e.set("isCaseFeatureEnabled",!0)}}).fail(function(e){Komodo.Services.log("Error while checking case enabling feature. Error Details:"+e)}),e.get("isCaseFeatureEnabled")&&Komodo.Services.featureToggleService.isEnabled("ManageCase","eGainFunctionality").done(function(t){switch(t){case!0:e.set("iseGainFunctionalityEnabled",!0);break;case!1:e.set("iseGainFunctionalityEnabled",!1);break;default:e.set("iseGainFunctionalityEnabled",!0)}}).fail(function(e){Komodo.Services.log("Error while checking eGain Functionality feature. Error Details:"+e)}),e.get("iseGainFunctionalityEnabled")&&(this.subscribeFetchCaseHistoryEmailsReceived(),this.subscribeFetchCaseEmailErrorReceived(),this.subscribeRetrieveLinkedCasesLogReceived(),this.subscribeRetrieveLinkedCasesLogErrorReceived());e.getStaticCDMData().done(function(){e.getCase(),e.getCaseHistoryLog(),e.getCaseDocuments(),e.get("iseGainFunctionalityEnabled")&&(e.fetchCaseEmail(),e.getLinkedCasesLog())});this._super()},registerValidation:function(){this.registerValidator(this.get("editCaseModel"),"category",{isRequired:!0}),this.registerValidator(this.get("editCaseModel"),"outcome",{isRequired:!0}),this.registerValidator(this.get("editCaseModel"),"subCategory",{isRequired:!0}),this.registerValidator(this.get("editCaseModel"),"otherReason",{isRequired:!1,displayName:kl.value(this.localeEditCase+"resolveReason")}),this.registerValidator(this.get("editCaseModel"),"notes",{isRequired:!0,maxLength:1e3,displayName:kl.value(this.localeEditCase+"notes")}),this.registerValidator(this.get("editCaseModel"),"status",{isRequired:!0,displayName:kl.value(this.localeEditCase+"status")}),this.registerValidator(this.get("editCaseModel"),"device",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"device")}),this.registerValidator(this.get("editCaseModel"),"methodofPayment",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"methodofPayment")}),this.registerValidator(this.get("editCaseModel"),"placePaymentwasMade",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"placePaymentMade")}),this.registerValidator(this.get("editCaseModel"),"paymentDate",{isRequired:!1,type:"date",displayName:"Payment Date",maxDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+1)}),this.registerValidator(this.get("editCaseModel"),"Hours",{isRequired:!1,limitValueToType:!0,type:"number",isRequired:!1,displayName:kl.value(this.localeCreateCase+"paymentTime")}),this.registerValidator(this.get("editCaseModel"),"Minutes",{isRequired:!1,limitValueToType:!0,type:"number",isRequired:!1,displayName:kl.value(this.localeCreateCase+"paymentTime")}),this.registerValidator(this.get("editCaseModel"),"amountPaid",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"amountPaid")}),this.registerValidator(this.get("editCaseModel"),"paymentReferenceNumber",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"paymentRefNum")}),this.registerValidator(this.get("editCaseModel"),"SCNumber",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"smartcardNumber")}),this.registerValidator(this.get("editCaseModel"),"deviceType",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"deviceType")}),this.registerValidator(this.get("editCaseModel"),"reason",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"reason")}),this.registerValidator(this.get("editCaseModel"),"amountCustomerListedFor",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"amountCustomerListedFor")}),this.registerValidator(this.get("editCaseModel"),"badDebtWrittenAmount",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"badDebtAmt")}),this.registerValidator(this.get("editCaseModel"),"accusedPartyName",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"accusedPartyName")}),this.registerValidator(this.get("editCaseModel"),"amount",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"amount")}),this.registerValidator(this.get("editCaseModel"),"to",{type:"string",functions:this.registerCustomValidation,displayName:kl.value(this.localeCaseHistory+"toEmailValidationError")}),
this.registerValidator(this.get("editCaseModel"),"assigncustomerNumber",{type:"number",limitValueToType:!0,maxLength:10,displayName:kl.value(this.localeEditCase+"assigncustomerValidatorMsg")})},registerCustomValidation:function(e,t,a){var s=Ember.A();e[Object.keys(e)[0]];a=a||{};var o=a.displayName;if(e.hasOwnProperty("to")&&t.hasOwnProperty("to")){var i=t.get("to").toString(),r=new Array;r=i.search(",")>-1?i.split(","):i.split(";");for(var n=0;n<r.length;n++)if(""!=r[n]){var l=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,5}$/;l.test(r[n])||(1==r.length?s.addObject(kl.value("locale.manageCase:caseHistory.invalidEmail",{displayName:o})):s.addObject(kl.value("locale.manageCase:caseHistory.toEmailValidationError",{displayName:o})))}}return s},stop:function(){this.editCaseModel.set("isAssigneeVisible",!0),this.editCaseModel.set("resolveReason",void 0),this.isDataLoading=!0,this.clearControls(),this.clearDropDowns(),this.clearConditionalControls(),this.caseOwner=void 0,this._super()},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getStaticCDMData:function(){var e=this,t=$.Deferred();Komodo.Services.cachedDataService.fetch("caseDetail").done(function(a){var s=JSON.parse(a);e.get("categorylst").clear();var o=$.makeArray(s.CaseCategories.CaseCategory);o=o.sort(function(e,t){var a=e.CanonicalValue.toUpperCase(),s=t.CanonicalValue.toUpperCase();return a<s?-1:a>s?1:0});for(var i=0;i<o.length;i++)e.chkCaseOrActivity(o[i],"Category")&&e.get("categorylst").addObject(o[i]);Komodo.Services.cachedDataService.fetch("caseStatus").done(function(a){e.set("statuslst",[]),$.each(a,function(t,a){e.isExcludedCaseStatus(a.value)||e.get("statuslst").addObject(a)}),e.editCaseModel.set("status",e.statuslst),Komodo.Services.cachedDataService.fetch("CaseSubCategory").done(function(a){e.set("subcategorylstAll",a),Komodo.Services.cachedDataService.fetch("CaseOutcome").done(function(a){e.set("outcomelstAll",a),t.resolve(!0)})})}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"errorGroupListNotFound"),"<strong>"+kl.value(e.localeEditCase+"errorFailedLoadCase")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"editCaseTitle"),"<strong>"+kl.value(e.localeEditCase+"failedLoadCategories")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")});var a=void 0;Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(t){a=t.data,Komodo.Services.cachedDataService.fetch("Country").done(function(t){for(var s=0;s<t.length;s++)if(a.countryDescription==t[s].value){e.set("countryCanonicalId",t[s].key),e.set("loggedInCountryName",t[s].value);break}e.set("methodofPaymentlst",[]),Komodo.Services.cachedDataService.fetch("MethodOfPayment").done(function(t){$.each(t,function(t,a){e.get("methodofPaymentlst").addObject(a)}),Komodo.Services.cachedDataService.fetch("CaseQueryType").done(function(t){e.set("caseQueryTypelst",t)})}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"editCaseTitle"),"<strong>"+kl.value(e.localeCreateCase+"mopFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})})}),e.set("resolveReasonlst",[]);var s={Key:"2",Value:"Test"};return e.resolveReasonlst.push(s),s={Key:"1",Value:"Other"},e.resolveReasonlst.push(s),e.set("isDisableSubmitButton",!0),e.set("isDisableCancelButton",!0),t},isExcludedCaseStatus:function(e){for(var t=0;t<this.excludedCaseStatus.length;t++)if(e===this.excludedCaseStatus[t])return!0;return!1},caseCategoryChanged:function(){if(this.editCaseModel.set("subCategory",void 0),this.editCaseModel.set("outcome",void 0),this.set("subCategorylst",[]),this.set("outcomelst",[]),this.editCaseModel.get("category"))for(var e=this.get("categorylst"),t=0;t<e.length;t++){var a=e[t];if(a.CanonicalKey==this.editCaseModel.get("category")){if(a.CaseSubCategories&&a.CaseSubCategories.CaseSubCategory){var s=$.makeArray(a.CaseSubCategories.CaseSubCategory);s=s.sort(function(e,t){var a=e.CanonicalValue.toUpperCase(),s=t.CanonicalValue.toUpperCase();return a<s?-1:a>s?1:0});for(var o=0;o<s.length;o++){var i=s[o];this.chkCaseOrActivity(i,"SubCategory")&&this.get("subCategorylst").addObject(i)}}break}}}.observes("editCaseModel.category"),caseSubCategoryChanged:function(){if(this.editCaseModel.set("outcome",void 0),this.set("outcomelst",Ember.A()),this.editCaseModel.get("subCategory"))for(var e=this.get("subCategorylst"),t=0;t<e.length;t++){var a=e[t];if(a.CanonicalKey==this.editCaseModel.get("subCategory")){var s=$.makeArray(a.CaseOutcomes.CaseOutcome);s=s.sort(function(e,t){var a=e.CanonicalValue.toUpperCase(),s=t.CanonicalValue.toUpperCase();return a<s?-1:a>s?1:0});for(var o=0;o<s.length;o++){var i=s[o],r=$.makeArray(i.CaseStatuses.CaseStatus);r[0].CanonicalKey>1&&this.get("outcomelst").addObject(i)}break}}}.observes("editCaseModel.subCategory"),caseOutcomeChanged:function(){var e=this;if(this.isDataLoading||(this.actualPaymentDate=void 0),e.clearConditionalControls(),e.editCaseModel.get("outcome")){for(var t=e.get("outcomelst"),a=0;a<t.length;a++){var s=t[a];if(s.CanonicalKey==e.editCaseModel.get("outcome")&&s.CaseStatuses&&s.CaseStatuses.CaseStatus){var o=$.makeArray(s.CaseStatuses.CaseStatus),i=o[0];void 0!==i.CasePriorityValue&&(e.editCaseModel.set("priority",i.CasePriorityValue),e.editCaseModel.set("priorityID",i.CasePriorityKey));break}}e.enableConditionalGroup(),e.enableValidators()}}.observes("editCaseModel.outcome"),enableConditionalGroup:function(){var e=this,t=void 0,a=KomodoManageConfiguration.ConditionalGroups;$.each(a.ConditionalGroups.ConditionalGroup,function(a,s){var o=s.Category,i=s.subcategory,r=s.OutCome.split(",");$.each(r,function(a,r){o==e.editCaseModel.get("category")&&i==e.editCaseModel.get("subCategory")&&r==e.editCaseModel.get("outcome")&&(t=s.Group)})}),this.editCaseModel.set("is"+t,!0),void 0==t?this.set("isGroupPresent",!1):this.set("isGroupPresent",!0)},enableValidators:function(){var e=this.getCRMRules();if(void 0!==e&&""!=e){var t=e.split(","),a=this;$.each(t,function(e,t){switch(t){case"Device":a.createDependentProperty("deviceValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"SmartCardNumber":a.createDependentProperty("SCNumberValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"DateOfPayment":a.createDependentProperty("paymentDateValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.DatePickerValidator]);break;case"MethodOfPayment":a.createDependentProperty("methodofPaymentValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"AmountPaid":a.createDependentProperty("amountPaidValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"Amount":a.createDependentProperty("amountValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"PaymentReferenceNumber":a.createDependentProperty("paymentReferenceNumberValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"DeviceType":a.createDependentProperty("deviceTypeValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"PlaceOfPayment":a.createDependentProperty("placePaymentwasMadeValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"Reason":a.createDependentProperty("reasonValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"AccusedPartyName":a.createDependentProperty("accusedPartyNameValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"BadDebtWrittenOffAmount":a.createDependentProperty("badDebtWrittenAmountValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"AmountCustomerListedFor":a.createDependentProperty("amountCustomerListedForValidator",[Komodo.UI.Validators.RequiredValidator])}})}},getCRMRules:function(){var e,t=this,a=KomodoManageConfiguration.CRMRules;return $.each(a.CRMRules.CRMRule,function(a,s){s.Category==t.editCaseModel.get("category")&&s.subcategory==t.editCaseModel.get("subCategory")&&s.OutCome==t.editCaseModel.get("outcome")&&(e=s.field)}),e},chkCaseOrActivity:function(e,t){if("Category"==t)for(var a=$.makeArray(e.CaseSubCategories.CaseSubCategory),s=0;s<a.length;s++){var o=a[s],i=this.chkSubcategoryForCaseOrActivity(o);if(i)return!0}else if("SubCategory"==t)return this.chkSubcategoryForCaseOrActivity(e);return!1},chkSubcategoryForCaseOrActivity:function(e){if(e&&e.CaseOutcomes.CaseOutcome)for(var t=$.makeArray(e.CaseOutcomes.CaseOutcome),a=0;a<t.length;a++){var s=t[a];if(s&&s.CaseStatuses&&s.CaseStatuses.CaseStatus){var o=$.makeArray(s.CaseStatuses.CaseStatus);if(o&&o[0]&&o[0].CanonicalKey>1)return!0}}return!1},requireFields:function(){if(null==this.editCaseModel.get("status"))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"statusRequiredMessage"),null,this,"id123456","warning"),!1;if("6"==this.editCaseModel.get("status")&&(this.editCaseModel.set("resolveReason","1"),void 0==this.editCaseModel.get("otherReason")||""==this.editCaseModel.get("otherReason").trim()))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"otherReasonRequiredMessage"),null,this,"id123456","warning"),!1;if("6"!=this.editCaseModel.get("status")&&(void 0==this.editCaseModel.get("notes")||""==this.editCaseModel.get("notes").trim()))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"notesRequiredMessage"),null,this,"id123456","warning"),!1;var e="";return void 0!=this.editCaseModel.get("Hours")&&""!=this.editCaseModel.get("Hours")&&(isNaN(this.editCaseModel.get("Hours"))?e+=""!=e?","+kl.value(this.localeCreateCase+"validHrsMsg"):kl.value(this.localeCreateCase+"validHrsMsg"):(this.editCaseModel.get("Hours")>23||this.editCaseModel.get("Hours")<0||-1!=this.editCaseModel.get("Hours").indexOf("."))&&(e+=""!=e?","+kl.value(this.localeCreateCase+"hrsRangeMsg"):kl.value(this.localeCreateCase+"hrsRangeMsg"))),void 0!==this.editCaseModel.get("Minutes")&&""!=this.editCaseModel.get("Minutes")&&(isNaN(this.editCaseModel.get("Minutes"))?e+=""!=e?","+kl.value(this.localeCreateCase+"validMinuitsMsg"):kl.value(this.localeCreateCase+"validMinuitsMsg"):(this.editCaseModel.get("Minutes")>59||this.editCaseModel.get("Minutes")<0||-1!=this.editCaseModel.get("Minutes").indexOf("."))&&(e+=""!=e?","+kl.value(this.localeCreateCase+"minuitsRangeMsg"):kl.value(this.localeCreateCase+"minuitsRangeMsg"))),""==e||(Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),e,null,this,"id123456","warning"),!1)},createDependentProperty:function(e,t){var a=this;t.forEach(function(t){void 0!==a.get("validators."+e)&&a.get("validators."+e).functions.addObject(t)}),void 0!==a.get("validators."+e)&&a.get("validators."+e).validate()},removeDependentProperty:function(e){var t=this;void 0!==t.get("validators."+e)&&void 0!==t.get("validators."+e)&&(t.get("validators."+e).functions.clear(),t.get("validators."+e).validate())},isSearching:!1,getCase:function(){this.editCaseModel.set("uID",this.editCaseUID),this.set("retrievedCustomerCase",void 0);var e=this.get("sharedObject");this.set("isSearching",!0),this.retrievedCustomerCase=e.retrieveInteractionsByFilter(0,5,this.editCaseModel.get("uID"),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"EditCase")},subscribeEditCaseRetrievedReceived:function(){Komodo.Services.eventAggregator.subscribe("EditCaseRetrievedReceived",function(){var e=Komodo.Services.uiService.getController("editCase");e.set("isSearching",!1),e&&(e.bindCaseResponseToModel(),e.fillGroupMembers())})},subscribeEditCaseRetrievedError:function(e){var t=this;Komodo.Services.eventAggregator.subscribe("EditCaseRetrievedError",function(){t.set("isSearching",!1);var e=Komodo.Services.ManageCaseService.retrieveCaseError;Komodo.Controls.MessageBoxController.show(kl.value(t.localeEditCase+"technicalError"),kl.value(t.localeEditCase+"errorCaseDetails")+e,Komodo.Controls.MessageBoxOkButtons,t,"id5446673","danger")})},tempOutcome:void 0,bindCaseResponseToModel:function(){var e=Komodo.Services.ManageCaseService.customerCase;if(void 0==e)Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"technicalError"),kl.value(this.localeEditCase+"errorRetriveCase"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");else if(e.Case.length>0){var t=this;t.set("previousCaseData",e),this.isDataLoading=!0;var a=(Komodo.Services.ManageCaseService,this.get("sharedObject"));if(this.retrivedCase=e.Case[0],null!==e.Case[0].InteracteeName)if("za\\"==e.Case[0].InteracteeName.substring(0,3)){var s=null;s=e.Case[0].InteracteeName.substring(3).split("."),2==s.length?t.editCaseModel.set("customerName",s[0]+" "+s[1]):t.editCaseModel.set("customerName",e.Case[0].InteracteeName)}else t.editCaseModel.set("customerName",e.Case[0].InteracteeName);t.editCaseModel.set("customerNumber",e.Case[0].CustomerUID),t.editCaseModel.set("contactPerson",a.getHyphenIfEmpty(e.Case[0].ContactPerson)),t.editCaseModel.set("phoneNumber",e.Case[0].ContactPersonNumber),$.each(t.caseQueryTypelst,function(a,s){s.key==e.Case[0].QueryType&&t.editCaseModel.set("queryType",s.value)}),t.getCDMInteractionMedium(e.Case[0].InteractionMedium,"interactionMedium"),t.editCaseModel.set("category",e.Case[0].Category),t.editCaseModel.set("subCategory",e.Case[0].SubCategory),t.editCaseModel.set("outcome",e.Case[0].Outcome),t.iseGainFunctionalityEnabled||t.editCaseModel.set("notes",e.Case[0].Notes),t.editCaseModel.set("status",e.Case[0].Status),"6"==e.Case[0].Status?this.disableControls(!0):(this.disableControls(!1),t.editCaseModel.set("isDisableResolveReasonDropDown",!0),t.editCaseModel.set("isDisableOtherReason",!0)),null!=e.Case[0].OtherResolutionReason&&""!=e.Case[0].OtherResolutionReason.trim()&&t.editCaseModel.set("otherReason",e.Case[0].OtherResolutionReason),this.caseOwner=e.Case[0].CaseOwner,this.mapListOfCaseData(),t.set("isDisableSubmitButton",!0),t.set("isDisableCancelButton",!0),this.isDataLoading=!1}else 0==e.Case.length&&Komodo.Controls.MessageBoxController.show(kl.value(t.localeEditCase+"technicalError"),kl.value(t.localeEditCase+"retriveCaseNoCaseFound"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")},caseOwner:void 0,bindAssignedToOnly:function(e){e&&e.toString().toLowerCase().indexOf("\\")>=0?this.editCaseModel.set("assignedTo",e):this.editCaseModel.set("assignedTo",void 0)},getCaseHistoryLog:function(){this.get("sharedObject").retrieveCaseHistoryLog(this.editCaseModel.get("uID"),1,10,"editCase")},getLinkedCasesLog:function(){this.get("sharedObject").retrieveLinkedCasesLog(this.editCaseModel.get("uID"),1,10,"editCase")},subscribeRetrieveCaseHistoryLogReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("RetrieveCaseHistoryLogResultReceived",function(){e.bindCaseHistoryLog()})},subscribeRetrieveCaseHistoryLogErrorReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("RetrieveCaseHistoryLogErrorReceived",function(){var t=Komodo.Services.ManageCaseService.getCaseHistoryLogError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),kl.value(e.localeEditCase+"errorCaseHistoryLog")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeCaseDocumentsRetrievedReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("EditCaseDocumentsRetrievedReceived",function(){e.set("isCaseDocumentsAvailable",!0),e.bindCaseDocuments(),Komodo.log("[Edit Case]:Case documents retreived.")})},subscribeCaseDocumentsRetrievedError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("EditCaseDocumentsRetrievedError",function(){e.set("isCaseDocumentsAvailable",!1);var t=Komodo.Services.ManageCaseService.getCaseDocumentsError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),kl.value(e.localeEditCase+"errorGetCaseDocuments")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeFetchCaseEmailErrorReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("EditCaseFetchCaseHistoryEmailsErrorReceived",function(){var t=Komodo.Services.ManageCaseService.getCaseHistoryEmailsError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),kl.value(e.localeEditCase+"errorGetCaseDocuments")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeFetchCaseHistoryEmailsReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("EditCaseFetchCaseHistoryEmailsReceived",function(){var t=Komodo.Services.ManageCaseService.caseHistoryEmail;$(t.EmailMessages).each(function(e,t){$(t.AbsoluteUrl).each(function(e,a){var s=a;if(void 0===s.FileName){var o=new Object;o.FileName=s.substring(s.indexOf(">")+1,s.lastIndexOf("<")),o.FileLink=s.substring(s.indexOf("'")+1,s.lastIndexOf("'")),t.AbsoluteUrl[e]=new Object,t.AbsoluteUrl[e]=o}})}),null!=t&&t.EmailMessages.length>0&&(e.set("editCaseModel.caseHistoryEmail",t.EmailMessages),e.set("editCaseModel.isEmailHistoryPresent",!1)),Komodo.log("[Edit Case]:Case History Emails retreived.")})},subscribeRetrieveLinkedCasesLogReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("EditCaseRetrieveLinkedCasesLogResultReceived",function(){e.bindLinkedCasesLog()})},subscribeRetrieveLinkedCasesLogErrorReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("EditCaseRetrieveLinkedCasesLogErrorReceived",function(){var t=Komodo.Services.ManageCaseService.getLinkedCasesLogError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),kl.value(e.localeEditCase+"errorLinkedCasesLog")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},bindSendEmailFields:function(e){var t=this;e[0].OutBoundStatus?t.set("editCaseModel.to",e[0].To):t.set("editCaseModel.to",e[0].From),e[0].Subject.match("^RE:")?t.set("editCaseModel.subject",e[0].Subject):t.set("editCaseModel.subject","RE:"+e[0].Subject)},bindCaseHistoryLog:function(){currentObject=this;var e=Komodo.Services.ManageCaseService.getCaseHistoryLog(),t=this.get("sharedObject"),a=[];this.isArrayEmpty(e)||(currentObject.set("isNoCaseHistoryFound",!1),a=e.map(function(e){var a=Komodo.Models.CaseInformation.create();return currentObject.isNullOrEmpty(e.ModifiedDate)?a.set("ModifiedDate","-"):currentObject.isNullOrEmpty(t.getFormattedDate(e.ModifiedDate))?currentObject.get("iseGainFunctionalityEnabled")?a.set("ModifiedDate",t.formatDateTimeToDDMMYYYY_HHmm(e.CreatedDate)):a.set("ModifiedDate",t.getFormattedDate(e.CreatedDate)):currentObject.get("iseGainFunctionalityEnabled")?a.set("ModifiedDate",t.getHyphenIfEmpty(t.formatDateTimeToDDMMYYYY_HHmm(e.ModifiedDate))):a.set("ModifiedDate",t.getHyphenIfEmpty(t.getFormattedDate(e.ModifiedDate))),a.set("category",currentObject.getItemValueIfExists(currentObject.categorylst,e,"Category","CanonicalKey","CanonicalValue")),a.set("subCategory",currentObject.getItemValueIfExists(currentObject.subcategorylstAll,e,"SubCategory","key","value")),a.set("outcome",currentObject.getItemValueIfExists(currentObject.outcomelstAll,e,"Outcome","key","value")),a.set("caseOwner",t.getHyphenIfEmpty(e.CaseOwner)),a.set("notes",t.getHyphenIfEmpty(e.Notes)),a.set("status",currentObject.getItemValueIfExists(currentObject.statuslst,e,"Status","key","value")),a})),a=t.getFilteredCaseHistory(a),this.set("editCaseModel.caseHistoryLog",a)},bindLinkedCasesLog:function(){currentObject=this;var e=Komodo.Services.ManageCaseService.getLinkedCasesLog(),t=this.get("sharedObject"),a=[];this.isArrayEmpty(e)?currentObject.set("isNoLinkedCasesFound",!0):(currentObject.set("isNoLinkedCasesFound",!1),a=e.map(function(e){var a=Komodo.Models.CaseInformation.create();CommonFunctions.isNullOrEmpty(e.ModifiedDate)?a.set("ModifiedDate","-"):CommonFunctions.isNullOrEmpty(t.getFormattedDate(e.ModifiedDate))?currentObject.get("iseGainFunctionalityEnabled")?a.set("ModifiedDate",t.formatDateTimeToDDMMYYYY_HHmm(e.CreatedDate)):a.set("ModifiedDate",t.getFormattedDate(e.CreatedDate)):currentObject.get("iseGainFunctionalityEnabled")?a.set("ModifiedDate",t.getHyphenIfEmpty(t.formatDateTimeToDDMMYYYY_HHmm(e.ModifiedDate))):a.set("ModifiedDate",t.getHyphenIfEmpty(t.getFormattedDate(e.ModifiedDate))),a.set("UID",t.getHyphenIfEmpty(e.UID)),a.set("customerUID",t.getHyphenIfEmpty(e.CustomerUID)),a.set("category",currentObject.getItemValueIfExists(currentObject.categorylst,e,"Category","CanonicalKey","CanonicalValue")),a.set("subCategory",currentObject.getItemValueIfExists(currentObject.subcategorylstAll,e,"SubCategory","key","value")),a.set("outcome",currentObject.getItemValueIfExists(currentObject.outcomelstAll,e,"Outcome","key","value")),a.set("caseOwner",t.getHyphenIfEmpty(e.CaseOwner)),a.set("notes",t.getHyphenIfEmpty(e.Notes)),a.set("status",currentObject.getItemValueIfExists(currentObject.statuslst,e,"Status","key","value")),a.set("escalatedTo",t.getHyphenIfEmpty(e.EscalatedTo)),a.set("queryType",t.getHyphenIfEmpty(e.QueryType)),$.each(currentObject.caseQueryTypelst,function(t,s){s.key==e.QueryType&&a.set("queryType",s.value)});for(var s=0;s<e.ListOfCaseData.CaseData.length;s++)"Device"==e.ListOfCaseData.CaseData[s].CaseDataValueUri?a.set("device",e.ListOfCaseData.CaseData[s].Value):"Device type"==e.ListOfCaseData.CaseData[s].CaseDataValueUri&&a.set("deviceType",e.ListOfCaseData.CaseData[s].Value);return a.set("device",t.getHyphenIfEmpty(a.get("device"))),a.set("deviceType",t.getHyphenIfEmpty(a.get("deviceType"))),a})),this.set("editCaseModel.linkedCaseLog",a)},bindCaseDocuments:function(){var e=this,t=Komodo.Services.ManageCaseService.caseDocuments;if(null!=t.DocumentPayload){e.get("editCaseModel").caseDocuments.clear();var a=e.get("editCaseModel"),s=t.DocumentPayload.map(function(t){var a=t.DocumentURL,s=Komodo.Models.CaseDocumentsModel.create(),o=a.split("/"),i=o[o.length-1],r="_"+e.get("editCaseUID"),n=i.replace(r,"");return s.set("documentName",n),s.set("documentUrl",a),s.set("documentSize","-"),s.set("uploadPercentage","-"),s.set("uploadStatus","UPLOADED"),s.set("documentAlreadyUploaded",!0),s});a.set("caseDocuments",s)}},isNullOrEmpty:function(e){return void 0==e||null==e||""==e.toString()},isArrayEmpty:function(e){return void 0==e||null==e||void 0==e.length||null==e.length||e.length<=0},getItemValueIfExists:function(e,t,a,s,o){var i=this.getItemIfExists(e,t,a,s);return null!=i?Ember.get(i,o):"-"},getItemIfExists:function(e,t,a,s){if(!this.isArrayEmpty(e))for(var o=0;o<e.length;o++)if(Ember.get(e[o],s)==Ember.get(t,a))return e[o];return null},setBlankForConditionalFields:function(){this.editCaseModel.set("device",""),this.editCaseModel.set("deviceType",""),this.editCaseModel.set("channelName",""),this.editCaseModel.set("softwareVersion",""),this.editCaseModel.set("loaderVersion",""),this.editCaseModel.set("bouquet",""),this.editCaseModel.set("SCNumber",""),this.editCaseModel.set("placePaymentwasMade","")},mapListOfCaseData:function(){var e=this.retrivedCase.ListOfCaseData,t=this;t.setBlankForConditionalFields();for(var a=0;a<this.retrivedCase.ListOfCaseData.CaseData.length;a++){var s=e.CaseData[a];if("Device"==s.CaseDataValueUri)t.editCaseModel.set("device",s.Value);else if("Device type"==s.CaseDataValueUri)t.editCaseModel.set("deviceType",s.Value);else if("ChannelName"==s.CaseDataValueUri)t.editCaseModel.set("channelName",s.Value);else if("SoftwareVersion"==s.CaseDataValueUri)t.editCaseModel.set("softwareVersion",s.Value);else if("LoaderVersion"==s.CaseDataValueUri)t.editCaseModel.set("loaderVersion",s.Value);else if("Bouquet"==s.CaseDataValueUri)t.editCaseModel.set("bouquet",s.Value);else if("Smartcard number"==s.CaseDataValueUri)t.editCaseModel.set("SCNumber",s.Value);else if("Method of payment"==s.CaseDataValueUri)t.editCaseModel.set("methodofPayment",s.Value);else if("Place payment was made"==s.CaseDataValueUri)t.editCaseModel.set("placePaymentwasMade",s.Value);else if("Date of payment"==s.CaseDataValueUri){var o=s.Value.split(" "),i=o[1].split(":"),r=new Date(o[0]);t.actualPaymentDate=XDates.getformatedDateforDatepicker(r),r=XDates.getDateObjectFromString(XDates.getformatedDateforDatepicker(r)),t.editCaseModel.set("paymentDate",r),t.editCaseModel.set("Hours",i[0]),t.editCaseModel.set("Minutes",i[1])}else"Amount paid"==s.CaseDataValueUri?t.editCaseModel.set("amountPaid",s.Value):"Payment reference number"==s.CaseDataValueUri?t.editCaseModel.set("paymentReferenceNumber",s.Value):"Reason"==s.CaseDataValueUri?t.editCaseModel.set("reason",s.Value):"Amount customer listed for"==s.CaseDataValueUri?t.editCaseModel.set("amountCustomerListedFor",s.Value):"Bad debt written-off amount"==s.CaseDataValueUri?t.editCaseModel.set("badDebtWrittenAmount",s.Value):"Bad debt written-off amount"==s.CaseDataValueUri?t.editCaseModel.set("badDebtWrittenAmount",s.Value):"Accused Party Name"==s.CaseDataValueUri?t.editCaseModel.set("accusedPartyName",s.Value):"Amount"==s.CaseDataValueUri&&t.editCaseModel.set("amount",s.Value)}},subscribeGroupMembersResultReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("GroupMembersResultReceived",function(t){if("editCase"==t){var a=Komodo.Services.ManageCaseService.customerCase;if(void 0!=a&&a.Case.length>0){var s=e;s.editCaseModel.set("category",a.Case[0].Category),s.editCaseModel.set("subCategory",a.Case[0].SubCategory),s.editCaseModel.set("outcome",a.Case[0].Outcome),s.editCaseModel.set("status",a.Case[0].Status),s.bindGroupMembers(),s.bindAssignedToOnly(s.caseOwner)}}})},subscribeGroupMembersResultError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("GroupMembersResultError",function(t){var a=Komodo.Services.ManageCaseService.groupMemebersError;Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),kl.value(e.localeEditCase+"errorGroupMembers")+a,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},updateCaseInfo:function(){var e=this,t=Komodo.Models.CreateInteraction.create(),a=Komodo.Models.Case.create(),s=Komodo.canonicalFacadeFactory(t,["Country","Case","ListOfCaseData_CaseData"]);a.set("UID",this.editCaseModel.get("uID")),a.set("Category",this.editCaseModel.get("category")),a.set("SubCategory",this.editCaseModel.get("subCategory")),a.set("Outcome",this.editCaseModel.get("outcome")),a.set("Status",this.editCaseModel.get("status")),a.set("Notes",this.editCaseModel.get("notes")),void 0==this.editCaseModel.get("assignedTo")?this.iseGainFunctionalityEnabled&&"6"===this.editCaseModel.get("status")?a.set("CaseOwner",Komodo.Services.securityService.get("domainUserName").toString()):a.set("CaseOwner",this.retrivedCase.CaseOwner):a.set("CaseOwner",this.editCaseModel.get("assignedTo")),void 0==this.editCaseModel.get("resolveReason")?a.set("ResolutionReason",this.retrivedCase.ResolutionReason):a.set("ResolutionReason",this.editCaseModel.get("resolveReason")),void 0==this.editCaseModel.get("otherReason")?a.set("OtherResolutionReason",this.retrivedCase.OtherResolutionReason):a.set("OtherResolutionReason",this.editCaseModel.get("otherReason")),this.iseGainFunctionalityEnabled&&"6"===this.editCaseModel.get("status")&&a.set("Notes",this.editCaseModel.get("otherReason")),a.set("Type",this.retrivedCase.Type),a.set("InteracteeName",this.retrivedCase.InteracteeName),a.set("InteractionLocation",this.retrivedCase.InteractionLocation),a.set("InteractionMedium",this.retrivedCase.InteractionMedium),a.set("CustomerUID",this.retrivedCase.CustomerUID),a.set("HouseholdMemberUID",this.retrivedCase.HouseholdMemberUID),a.set("ContactPerson",this.retrivedCase.ContactPerson),a.set("ContactPersonNumber",this.retrivedCase.ContactPersonNumber),a.set("QueryType",this.retrivedCase.QueryType),a.set("Priority",this.editCaseModel.get("priorityID")),a.set("LinkedCaseUID",this.retrivedCase.LinkedCaseUID),a.set("ModifiedBy",this.retrivedCase.ModifiedBy),a.set("ModifiedDate",this.retrivedCase.ModifiedDate),a.set("TeamLead",this.retrivedCase.TeamLead),a.set("EscalationLevel",this.retrivedCase.EscalationLevel),a.set("SLADeadline",this.retrivedCase.SLADeadline),a.set("EscalationNumber",this.retrivedCase.EscalationNumber),a.set("EscalatedTo",this.retrivedCase.EscalatedTo),a.set("CreatedBy",this.retrivedCase.CreatedBy),a.set("CreatedDate",this.retrivedCase.CreatedDate),a.set("IsGeneralNote",!1);var o=[["methodofPayment","Method of payment"],["placePaymentwasMade","Place payment was made"],["paymentDate","Date of payment"],["amountPaid","Amount paid"],["paymentReferenceNumber","Payment reference number"],["device","Device"],["deviceType","Device type"],["SCNumber","Smartcard number"],["channelName","ChannelName"],["amount","Amount"],["softwareVersion","SoftwareVersion"],["loaderVersion","LoaderVersion"],["bouquet","Bouquet"],["reason","Reason"],["amountCustomerListedFor","Amount customer listed for"],["badDebtWrittenAmount","Bad debt written-off amount"],["accusedPartyName","Accused Party Name"]],i=[];if(this.get("isGroupPresent"))i=this.addListOfCaseDataPayload(this.editCaseModel,o);else if(this.isArrayEmpty(i)&&!this.isArrayEmpty(this.retrivedCase.ListOfCaseData.CaseData))for(var r=this.retrivedCase.ListOfCaseData.CaseData,n=0;n<r.length;n++){var l=Komodo.Models.CaseData.create(),d=Komodo.canonicalFacadeFactory(l,["CaseDataValueUri","Value"]);d.set("CaseDataValueUri",r[n].CaseDataValueUri),d.set("Value",r[n].Value),i.push(l)}s.set("Country",this.countryCanonicalId),s.set("Case",a),s.set("ListOfCaseData_CaseData",i),Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"confirmChanges"),kl.value(this.localeEditCase+"confirmMessage"),Komodo.Controls.MessageBoxYesNoButtons,this,"id5446673","warning").response=function(a){"yes"==a&&(e.publishRequestOnBus(t,"UpdateCase","v1"),Komodo.Services.busyService.start(!0,e.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,9e4,"blocking",e),e.set("isDisableCancelButton",!0),e.set("isDisableSubmitButton",!0))}},addListOfCaseDataPayload:function(e,t){for(var a=[],s=0;s<t.length;s++){var o=t[s];if(this.isValuePresent(e.get(o[0]))){var i=Komodo.Models.CaseData.create(),r=Komodo.canonicalFacadeFactory(i,["CaseDataValueUri","Value"]);if(r.set("CaseDataValueUri",o[1]),"paymentDate"==o[0]){var n=void 0;n=void 0!==e.get("Hours")&&""!=e.get("Hours")&&void 0!==e.get("Minutes")&&""!=e.get("Minutes")?e.get("paymentDate").toLocaleDateString("sv-SE")+" "+e.get("Hours")+":"+e.get("Minutes"):void 0!==e.get("Hours")&&""!=e.get("Hours")?e.get("paymentDate").toLocaleDateString("sv-SE")+" "+e.get("Hours")+":00":void 0!==e.get("Minutes")&&""!=e.get("Minutes")?e.get("paymentDate").toLocaleDateString("sv-SE")+" 00:"+e.get("Minutes"):e.get("paymentDate").toLocaleDateString("sv-SE")+" 00:00",r.set("Value",n)}else r.set("Value",e.get(o[0]));a.push(i)}}return a},isValuePresent:function(e){return void 0!=e&&null!=e&&""!=e},publishRequestOnBus:function(e,t,a){var s=Komodo.Services.ManageCaseService,o="Event Message for "+t+" ";s.publishEvent(this,e,t,a).done(function(){Komodo.log(o+" has been published successfully")}).fail(function(e){Komodo.log(o+" has been failed"),Komodo.Controls.MessageBoxController.show(o,e)})},messageCaseUpdatedReceived:function(e){var t=this,a=t.get("editCaseModel"),s=!1;if($(a.caseDocuments).each(function(e,t){t.get("documentAlreadyUploaded")||(s=!0)}),s)t.uploadDocuments();else if(this.sendMailClicked)this.set("sendMailClicked",!1);else{var o=kl.value(t.localeEditCase+"editCaseSuccess")+e.ResponseMessage.Payload.Case.UID;this.showCaseUpdatedMessage(o)}},messageFailureMessageEventReceived:function(e){Komodo.Services.busyService.stop(this.get("processId"),"blocking");var t=this;void 0==e&&(e=Ember.Object.create());var a=Ember.get(e,"ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription"),s=Ember.get(e,"ResponseMessage.Payload.OriginatedEventName"),o=Ember.get(e,"ResponseMessage.Payload.ListOfErrorDetails.ErrorType")
;switch(a=void 0==a?kl.value(t.localeEditCase+"technicalErrAdmin"):a,o=void 0==o?kl.value(t.localeEditCase+"editCaseTitle"):o,s){case"UpdateCase":Komodo.Controls.MessageBoxController.show(o,a,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");break;case"SaveCustomerDocumentEvent":Komodo.Controls.MessageBoxController.show(kl.value(t.localeEditCase+"editCaseTitle"),kl.value(t.localeCreateCase+"saveDocFailMsg")+a+"</br><b>"+kl.value(t.localeCreateCase+"successfulUpdateNote")+"</b>"+kl.value(t.localeEditCase+"editCaseSuccess")+t.editCaseUID,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");break;default:Komodo.Controls.MessageBoxController.show(kl.value(t.localeEditCase+"editCaseTitle"),a,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}},bindData:function(){var e=this;e.set("resolveReasonlst",[]);var t={Key:"2",Value:"Test"};e.resolveReasonlst.push(t),t={Key:"1",Value:"Other"},e.resolveReasonlst.push(t),this.fillStatus(),e.set("isDisableSubmitButton",!0),e.set("isDisableCancelButton",!0)},bindGroupMembers:function(){var e=this,t=Komodo.Services.ManageCaseService.groupMembers;if(e.iseGainFunctionalityEnabled&&"31"!=e.editCaseModel.get("category")&&"115"!=e.editCaseModel.get("subCategory")&&("2"!=e.editCaseModel.get("status")&&"4"!=e.editCaseModel.get("status")||e.getTeamfromSubjectTree(e.editCaseModel.get("category"),e.editCaseModel.get("subCategory"),e.editCaseModel.get("outcome"))),void 0==t)Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"technicalError"),kl.value(this.localeEditCase+"errorGroupListNotFound"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");else if(t.UserInfo.length>0)for(var a=0;a<t.UserInfo.length;a++)if(!e.isSupervisor&&e.iseGainFunctionalityEnabled){if(t.UserInfo[a].DomainName.toLowerCase()==Komodo.Services.securityService.get("domainUserName").toString().toLowerCase()){var s={Key:t.UserInfo[a].DomainName,Value:t.UserInfo[a].FullName,IsGroup:!1};e.assignedToList.pushObject(s);break}}else{var o={Key:t.UserInfo[a].DomainName,Value:t.UserInfo[a].FullName,IsGroup:!1};e.assignedToList.pushObject(o)}},fillStatus:function(){var e=this;Komodo.Services.cachedDataService.fetch("caseStatus").done(function(t){e.set("statuslst",[]),$.each(t,function(t,a){e.isExcludedCaseStatus(a.value)||e.get("statuslst").addObject(a)}),e.editCaseModel.set("status",e.statuslst)}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"errorGroupListNotFound"),"<strong>"+kl.value(e.localeEditCase+"errorFailedLoadCase")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},statusChanged:function(){var e=this;void 0!=e.editCaseModel.get("status")&&(e.editCaseModel.set("otherReason",void 0),"6"==e.editCaseModel.get("status")?(e.editCaseModel.set("isDisableResolveReasonDropDown",!1),e.editCaseModel.set("isDisableOtherReason",!1),e.editCaseModel.set("resolveReason",null),e.createDependentProperty("otherReasonValidator",[Komodo.UI.Validators.RequiredValidator]),e.iseGainFunctionalityEnabled&&(e.editCaseModel.set("notes",null),e.editCaseModel.set("isDisableNotes",!0),e.removeDependentProperty("notesValidator"))):(e.editCaseModel.set("isDisableResolveReasonDropDown",!0),e.editCaseModel.set("isDisableOtherReason",!0),e.editCaseModel.set("resolveReason",null),e.set("isDisableSubmitButton",!0),e.removeDependentProperty("otherReasonValidator"),e.iseGainFunctionalityEnabled&&(e.editCaseModel.set("notes",null),e.editCaseModel.set("isDisableNotes",!1),e.createDependentProperty("notesValidator",[Komodo.UI.Validators.RequiredValidator]))))}.observes("editCaseModel.status"),fillGroupMembers:function(){var e=Komodo.Application.ManageCaseSharedObjectController.create(),t=Komodo.Services.securityService.get("domainUserName");e.getGroupMembers(t,"editCase")},visibleControls:function(){this.editCaseModel.set("isVisibleOtherReason",!0),this.set("composeEmailVisible",!0)},invisibleControls:function(){this.editCaseModel.set("isVisibleOtherReason",!1)},disableControls:function(e){var t=this;t.editCaseModel.set("isDisableStatus",e),t.editCaseModel.set("isDisableResolveReasonDropDown",e),t.editCaseModel.set("isDisableOtherReason",e),t.editCaseModel.set("isDisableEscalatedTo",e),t.editCaseModel.set("isDisableNotes",e),t.set("isDisableSubmitButton",e),t.set("isDisableCancelButton",e),t.editCaseModel.set("isAssigneeVisible",e)},hideSaveDetailsButton:function(){this.isDataLoading||(this.set("isDisableSubmitButton",!1),this.set("isDisableCancelButton",!1))}.observes("editCaseModel.status","editCaseModel.notes","editCaseModel.category","editCaseModel.outcome","editCaseModel.subCategory","editCaseModel.methodofPayment","editCaseModel.placePaymentwasMade","editCaseModel.Hours","editCaseModel.Minutes","editCaseModel.amountPaid","editCaseModel.paymentReferenceNumber","editCaseModel.device","editCaseModel.SCNumber","editCaseModel.softwareVersion","editCaseModel.loaderVersion","editCaseModel.bouquet","editCaseModel.deviceType","editCaseModel.reason","editCaseModel.amountCustomerListedFor","editCaseModel.badDebtWrittenAmount","editCaseModel.accusedPartyName","editCaseModel.amount","editCaseModel.channelName","editCaseModel.assignedTo"),hideSaveDetailsButtonOnPaymentDate:function(){this.isDataLoading||this.actualPaymentDate&&this.editCaseModel.paymentDate&&this.actualPaymentDate==XDates.getformatedDateforDatepicker(this.editCaseModel.paymentDate)||(this.set("isDisableSubmitButton",!1),this.set("isDisableCancelButton",!1))}.observes("editCaseModel.paymentDate"),getCDMInteractionMedium:function(e,t){var a=this;Komodo.Services.cachedDataService.fetch(t).done(function(t){$.each(t,function(t,s){e==s.key&&a.editCaseModel.set("interactionType",s.value)})})},getCaseDocuments:function(){this.get("sharedObject").retrieveCaseDocuments(this.editCaseModel.get("uID"),"editCase")},actions:{updateCaseInformation:function(){var e=this.get("editCaseModel"),t=this;if(this.canSubmitData(e,kl.value(this.localeEditCase+"editCaseTitle"),{showInModal:!0})&&this.requireFields()){if("11"===t.editCaseModel.get("status"))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"archiveStatusMessage"),null,this,"id123456","warning"),!1;if("5"===t.previousCaseData.Case[0].Status&&"2"===t.editCaseModel.get("status"))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"invalidStatusMessage"),null,this,"id123456","warning"),!1;if(("3"===t.previousCaseData.Case[0].Status||"5"===t.previousCaseData.Case[0].Status||"11"===t.previousCaseData.Case[0].Status)&&"4"===t.editCaseModel.get("status"))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"pendingStatusMessage"),null,this,"id123456","warning"),!1;if(("4"===t.previousCaseData.Case[0].Status||"11"===t.previousCaseData.Case[0].Status)&&"5"===t.editCaseModel.get("status"))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"invalidPRStatusMessage"),null,this,"id123456","warning"),!1;if(("5"===t.previousCaseData.Case[0].Status||"11"===t.previousCaseData.Case[0].Status)&&"6"===t.editCaseModel.get("status"))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"resolvedStatusMessage"),null,this,"id123456","warning"),!1;if("3"==t.editCaseModel.get("status")&&void 0==t.editCaseModel.get("assignedTo"))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"escalatedStatusMessage"),null,this,"id123456","warning"),!1;if(t.iseGainFunctionalityEnabled){if((t.previousCaseData.Case[0].Category!=t.editCaseModel.get("category")||t.previousCaseData.Case[0].SubCategory!=t.editCaseModel.get("subCategory")||t.previousCaseData.Case[0].Outcome!=t.editCaseModel.get("outcome"))&&"2"!=t.editCaseModel.get("status"))return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"unresolvedStatusMessage"),null,this,"id123456","warning"),!1;this.updateCaseInfo()}else this.updateCaseInfo()}},cancelEditCase:function(){this.cancelEditCase()},removeDocument:function(e){var t=e._parentView._parentView._childViews[0].text,a=this.get("editCaseModel"),s=-1,o=-1;$(a.caseDocuments).each(function(e,a){a.documentName===t&&(s=e)}),s>-1&&a.caseDocuments.removeAt(s),$(a.fileUploader.files).each(function(e,a){a.name===t&&(o=e)}),o>-1&&a.fileUploader.files.removeAt(o)},viewDocument:function(e){var t=e._parentView._parentView._childViews[0].text,a=this.get("editCaseModel");$(a.caseDocuments).each(function(e,a){a.documentName===t&&window.open(a.documentUrl,"","_blank")})},removeEmailAttachment:function(e){var t=e.content,a=this.get("editCaseModel"),s=-1,o=-1;$(a.emailAttachments).each(function(e,a){a.documentName===t&&(s=e)}),s>-1&&a.emailAttachments.removeAt(s),$(a.fileuploader1.files).each(function(e,a){a.name===t&&(o=e)}),o>-1&&a.fileuploader1.files.removeAt(o)},refreshCaseInformation:function(){var e=this;Komodo.Services.busyService.start(!0,e.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,1e4,"blocking",e),Komodo.Services.ManageCaseService.setGroupMembersResult(Ember.A()),this.set("assignedToList",Ember.A()),e.refreshCaseInfo(),e.getCase(),e.getCaseHistoryLog(),e.getCaseDocuments(),e.get("iseGainFunctionalityEnabled")&&(e.fetchCaseEmail(),e.getLinkedCasesLog())},sendCaseEmail:function(){if(void 0==this.editCaseModel.get("notes")||""==this.editCaseModel.get("notes").trim())return Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"notesRequiredMessage"),null,this,"id123456","warning"),!1;var e=this;if(e.set("sendMailClicked",!0),e.get("editCaseModel.emailAttachments").length>0)e.uploadEmailAttachments();else{var t=new Object;t.Body=e.editCaseModel.get("emailBody");var a=new Object;a.Body=e.editCaseModel.get("emailBody"),a.Subject=e.editCaseModel.get("subject"),t.Body=t.Body.replace(/&|_/g,"&amp;").replace(/<|_/g,"&lt;").replace(/>|_/g,"&gt;").replace(/\"|_/g,"&quot;").replace(/\'|_/g,"&apos;"),t.From=e.editCaseModel.get("from"),null!=e.editCaseModel.get("to")&&e.editCaseModel.get("to").length>0&&(t.To=new Array,e.editCaseModel.get("to").toString().search(",")>-1?t.To=e.editCaseModel.get("to").toString().split(","):t.To=e.editCaseModel.get("to").toString().split(";")),t.Subject=e.editCaseModel.get("subject"),t.Subject=t.Subject.replace(/&|_/g,"&amp;"),t.CaseNumber=e.editCaseModel.get("uID"),t.CreatedOn=Komodo.Services.dateTimeFormatterService.convertDateFromSystemDateToLocalTimeZone(new Date),t.OutBoundStatus=!0;var s=t;Komodo.Services.busyService.start(!0,e.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,6e4,"blocking",e),Komodo.Services.queryService.postJSON("/CustomerInteraction/CreateEmailActivity",{data:t}).done(function(t){s.AbsoluteUrl=[],$(s.Attachments).each(function(e,t){var a=t,o=new Object;o.FileName=a.substring(a.lastIndexOf("/")+1,a.length),o.FileLink=a,s.AbsoluteUrl[e]=new Object,s.AbsoluteUrl[e]=o}),s.Body=a.Body,s.Subject=a.Subject,e.editCaseModel.get("caseHistoryEmail").unshift(s),e.editCaseModel.set("caseHistoryEmail",e.editCaseModel.get("caseHistoryEmail").slice(0)),Komodo.Services.busyService.stop(e.get("processId"),"blocking"),Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"editCaseTitle"),kl.value(e.localeEditCase+"emailSentSuccessMessage"),Komodo.Controls.MessageBoxOkButton,e,"id5446683","success").response=function(t){"ok"==t&&e.caseEmailSuccessfullySent()}}).error(function(t){Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),"<strong>"+kl.value(e.localeEditCase+"sendEmailFailedMessage")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446873","danger")})}},composeEmail:function(){var e=this;$("#divComposeEmail").show(),e.set("editCaseModel.isEmailHistoryPresent",!1),e.set("editCaseModel.emailAttachments",[]);var t=this.get("editCaseModel.caseHistoryEmail");null!=e.get("editCaseModel.caseHistoryEmail")&&e.get("editCaseModel.caseHistoryEmail").length>0?e.bindSendEmailFields(t):(Komodo.Services.busyService.start(!0,e.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,6e4,"blocking",e),Komodo.Services.queryService.getJSON("/CustomerProfile?customerId="+e.editCaseModel.get("customerNumber")).done(function(t){if(t&&t.CustomerDetail&&null!=t.CustomerDetail.ListOfEmail&&null!=t.CustomerDetail.ListOfEmail.Email&&t.CustomerDetail.ListOfEmail.Email.length>0)for(var a=0;a<t.CustomerDetail.ListOfEmail.Email.length;a++)t.CustomerDetail.ListOfEmail.Email[a].IsPrimary&&e.set("editCaseModel.to",t.CustomerDetail.ListOfEmail.Email[a].Value);Komodo.Services.busyService.stop(e.get("processId"),"blocking")}).error(function(e){var t=JSON.stringify(e);Komodo.log("retrieveCustomer ajax call failed. Error: "+t)})),e.set("composeEmailVisible",!1),e.set("editCaseModel.from",this.getKomodoConfiguration().sendCaseEmail.from)},discardCaseEmail:function(){this.set("sendMailClicked",!1),this.discardCaseEmail()},popupViewCase:void 0,actionViewSelectedCaseFromEditCase:function(e){var t=this,a=Komodo.Models.ViewCaseModel.create();a.UID=e.get("content").UID,t.set("selectedCaseId",a.UID);var s=t.get("sharedObject");s.retrieveCaseHistoryLog(a.UID,1,10,"viewCase"),s.retrieveCaseDocuments(a.UID,"viewCase"),s.fetchCaseEmail(a.UID,"viewCase"),s.retrieveLinkedCasesLog(a.UID,1,10,"viewCase"),void 0!==e.get("content").category&&$.each(t.categorylst,function(t,s){s.CanonicalValue==e.get("content").category&&(a.category=s.CanonicalValue)}),void 0!==e.get("content").subCategory&&$.each(t.subcategorylstAll,function(t,s){s.value==e.get("content").subCategory&&(a.subCategory=s.value)}),void 0!==e.get("content").outcome&&$.each(t.outcomelstAll,function(t,s){s.value==e.get("content").outcome&&(a.outcome=s.value)}),a.queryType=e.get("content").queryType,a.device=e.get("content").device,a.deviceType=e.get("content").deviceType,a.status=e.get("content").status,a.escalatedTo=e.get("content").escalatedTo,a.notes=e.get("content").notes,a.customerUID=e.get("content").customerUID,"Complete"==a.status||"Resolved"==a.status||"Invalid"==a.status||"Cancelled"==a.status?(a.isResolved=!0,a.OtherResolutionReason=e.get("content").OtherResolutionReason):a.isResolved=!1,t.checkPermissionsToViewCase(a),t.set("viewCaseModel",a),t.set("viewCaseModel.NoCaseEmailHistoryFound",kl.value(t.localeCaseHistory+"noEmailHistoryFoundError")),t.set("viewCaseModel.NoLinkedCasesFoundFound",kl.value(t.localeCaseHistory+"noLinkedCasesFoundError")),t.popupViewCase=Komodo.Services.uiService.showModalPopup(kl.value(t.localeViewCase+"caseDetailsTitle"),null,{view:Komodo.Application.ViewCaseView,context:{data:t.get("viewCaseModel"),isRetrievingDocuments:!0,isShowingDocuments:!0,notifyOwner:function(){t.set("popupaction","Submit"),t.popupViewCase.close()},cancel:function(){t.set("popupaction","Cancel"),t.popupViewCase.close()}},closeCallback:function(){var e=t.get("popupaction");t.set("popupaction",""),"Submit"==e&&t.notifyCaseOwner()},canUserClose:!0,shouldStartAndStopController:!1})},exportEmailHistoryToPDF:function(){var e=this,t=e.get("previousCaseData"),a=e.get("editCaseModel.caseHistoryEmail"),s=new Object;s.CaseDetails=t.Case[0],s.CaseEmails=a,e.FormatJsonData(s)},assignCasetoCustomer:function(){var e=this;e.editCaseModel.get("assigncustomerNumber")===e.editCaseModel.get("uID").split("-")[0]?Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"checkcustwithcasecust"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","warning"):void 0===e.editCaseModel.get("assigncustomerNumber")||""===e.editCaseModel.get("assigncustomerNumber")?Komodo.Controls.MessageBoxController.show(kl.value(this.localeEditCase+"editCaseTitle"),kl.value(this.localeEditCase+"assigncustomerrequire"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","warning"):e.assignCasetoCustomer()}},FormatJsonData:function(e){var t=this,a=this.get("sharedObject"),s="object"!=typeof e?JSON.parse(e):e,o=new Object,i=s.CaseEmails.length,r="";$.each(t.caseQueryTypelst,function(e,t){t.key==s.CaseDetails.QueryType&&(r=t.value)});var n=[];n.push({CustomerNumber:t.chkEmptyValue(s.CaseDetails.CustomerUID),CustomerName:t.chkEmptyValue(s.CaseDetails.InteracteeName),CaseNumber:t.chkEmptyValue(s.CaseDetails.UID),CaseStatus:t.chkEmptyValue(t.getItemValueIfExists(t.statuslst,s.CaseDetails,"Status","key","value")),QueryType:t.chkEmptyValue(r),InteractionMedium:t.chkEmptyValue(t.editCaseModel.get("interactionType")),ModifiedDate:t.chkEmptyValue(a.getFormattedDate(s.CaseDetails.ModifiedDate)),Category:t.chkEmptyValue(t.getItemValueIfExists(t.categorylst,s.CaseDetails,"Category","CanonicalKey","CanonicalValue")),SubCategory:t.chkEmptyValue(t.getItemValueIfExists(t.subcategorylstAll,s.CaseDetails,"SubCategory","key","value")),Outcome:t.chkEmptyValue(t.getItemValueIfExists(t.outcomelstAll,s.CaseDetails,"Outcome","key","value")),AssignedTo:t.chkEmptyValue(s.CaseDetails.CaseOwner).replace(/ZA\\/g,"")});for(var l=[],d=0;d<i;d++){for(var c="",u=0;u<s.CaseEmails[d].To.length;u++)c+=s.CaseEmails[d].To[d]+", ";c=c.substring(0,c.length-2),l.push({From:t.chkEmptyValue(s.CaseEmails[d].From),Sent:t.chkEmptyValue(a.getFormattedDateTime(s.CaseEmails[d].CreatedOn)),To:t.chkEmptyValue(c),Subject:t.chkEmptyValue(s.CaseEmails[d].Subject),Body:t.chkEmptyValue(s.CaseEmails[d].Body)})}o.CaseDetails=n,o.CaseEmails=l,a.exportToPdfConvertor(t.convertToHTMLFormatttedData(o),s.CaseDetails.UID+" Email Report")},chkEmptyValue:function(e){return null==e||""==e||void 0==e?"-":e},convertToHTMLFormatttedData:function(e){var t="<html>";t+="<body>",t+="<div>",t+="<div font-family='Calibri' >",t+="<table BORDER=1 width='100%'>",t+="<tr><th  colspan='4' align='center' bgcolor='A9BCF5'>Case Details</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Customer Number</th><th align='left'>"+e.CaseDetails[0].CustomerNumber+"</th><th align='left' bgcolor='f2f2f2'>Customer Name</th><th align='left'>"+e.CaseDetails[0].CustomerName+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Case Number</th><th align='left'>"+e.CaseDetails[0].CaseNumber+"</th><th align='left' bgcolor='f2f2f2'>Case Status</th><th align='left'>"+e.CaseDetails[0].CaseStatus+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Query Type</th><th align='left'>"+e.CaseDetails[0].QueryType+"</th><th align='left' bgcolor='f2f2f2'>Interaction Medium</th><th align='left'>"+e.CaseDetails[0].InteractionMedium+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Modified Date</th><th align='left'>"+e.CaseDetails[0].ModifiedDate+"</th><th align='left' bgcolor='f2f2f2'>Assigned To</th><th align='left'>"+e.CaseDetails[0].AssignedTo+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Category</th><th align='left'>"+e.CaseDetails[0].Category+"</th><th align='left' bgcolor='f2f2f2'>Sub Category</th><th align='left'>"+e.CaseDetails[0].SubCategory+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Outcome</th><th align='left'>"+e.CaseDetails[0].Outcome+"</th> <th> </th><th> </th> </tr>",t+="</table>",t+="</br></br>",t+="<table width='100%'>",t+="<tr ><th colspan=2 bgcolor='A9BCF5'>Emails</th></tr>";for(var a=e.CaseEmails.length,s=0;s<a;s++){var o="";o+="<tr><td align=left bgcolor=f2f2f2>From</td><td>"+e.CaseEmails[s].From+"</td></tr>",o+="<tr><td align=left bgcolor=f2f2f2>Sent</td><td>"+e.CaseEmails[s].Sent+"</td></tr>",o+="<tr><td align=left bgcolor=f2f2f2>To</td><td>"+e.CaseEmails[s].To+"</td></tr>",o+="<tr><td align=left bgcolor=f2f2f2>Subject</td><td>"+e.CaseEmails[s].Subject+"</td></tr>",o+="<tr><td colspan=2>"+e.CaseEmails[s].Body+"</td></tr>",o+="</br>",t+=o}return t+="</table>",t+="</div>",t+="</body>",t+="</html>",""==t?void alert("Invalid data"):t},checkPermissionsToViewCase:function(e){!0===Komodo.Services.securityService.hasPermission("clarity://manageCase/viewOnly")&&(e.isResolved=!0)},discardCaseEmail:function(){var e=this;$("#divComposeEmail").hide(),e.set("composeEmailVisible",!0),e.set("editCaseModel.emailAttachments",[]),null!=e.editCaseModel.get("caseHistoryEmail")&&0!=e.editCaseModel.get("caseHistoryEmail").length||e.set("editCaseModel.isEmailHistoryPresent",!0),e.sendMailClicked&&(e.updateCaseStatus(),"3"!==e.editCaseModel.get("status")&&e.editCaseModel.set("status","4"))},caseEmailSuccessfullySent:function(){var e=this;$("#divComposeEmail").hide(),e.set("composeEmailVisible",!0),null!=e.editCaseModel.get("caseHistoryEmail")&&0!=e.editCaseModel.get("caseHistoryEmail").length||e.set("editCaseModel.isEmailHistoryPresent",!0),e.sendMailClicked&&(e.updateCaseStatus(),"3"!==e.editCaseModel.get("status")&&e.editCaseModel.set("status","4"))},sendCaseEmailWithAttachments:function(){var e=this,t=new Object;t.Body=e.editCaseModel.get("emailBody");var a=new Object;a.Body=e.editCaseModel.get("emailBody"),a.Subject=e.editCaseModel.get("subject"),t.Body=t.Body.replace(/&|_/g,"&amp;").replace(/<|_/g,"&lt;").replace(/>|_/g,"&gt;").replace(/\"|_/g,"&quot;").replace(/\'|_/g,"&apos;"),t.From=e.editCaseModel.get("from"),null!=e.editCaseModel.get("to")&&e.editCaseModel.get("to").length>0&&(t.To=new Array,e.editCaseModel.get("to").toString().search(",")>-1?t.To=e.editCaseModel.get("to").toString().split(","):t.To=e.editCaseModel.get("to").toString().split(";")),t.Subject=e.editCaseModel.get("subject"),t.Subject=t.Subject.replace(/&|_/g,"&amp;"),t.CaseNumber=e.editCaseModel.get("uID"),t.CreatedOn=Komodo.Services.dateTimeFormatterService.convertDateFromSystemDateToLocalTimeZone(new Date),t.OutBoundStatus=!0,t.Attachments=[],$(e.get("editCaseModel.emailAttachments")).each(function(e,a){""!=a.documentUrl&&t.Attachments.pushObject(a.documentUrl)});var s=t;Komodo.Services.busyService.start(!0,e.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,6e4,"blocking",e),Komodo.Services.queryService.postJSON("/CustomerInteraction/CreateEmailActivity",{data:t}).done(function(t){s.AbsoluteUrl=[],$(s.Attachments).each(function(e,t){var a=t,o=new Object;o.FileName=a.substring(a.lastIndexOf("/")+1,a.length),o.FileLink=a,s.AbsoluteUrl[e]=new Object,s.AbsoluteUrl[e]=o}),s.Body=a.Body,s.Subject=a.Subject,e.editCaseModel.get("caseHistoryEmail").unshift(s),e.editCaseModel.set("caseHistoryEmail",e.editCaseModel.get("caseHistoryEmail").slice(0)),Komodo.Services.busyService.stop(e.get("processId"),"blocking"),Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"editCaseTitle"),kl.value(e.localeEditCase+"emailSentSuccessMessage"),Komodo.Controls.MessageBoxOkButton,e,"id5446683","success").response=function(t){"ok"==t&&e.caseEmailSuccessfullySent()}}).error(function(t){Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),"<strong>"+kl.value(e.localeEditCase+"sendEmailFailedMessage")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446873","danger")})},cancelEditCase:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"cancelCaseInfo"),kl.value(e.localeEditCase+"enteredDataCancel")+"<br/><center> "+kl.value(e.localeEditCase+"confirmContinue")+"</center>",Komodo.Controls.MessageBoxYesNoButtons,e,"id123Confirm","warning").response=function(t){"yes"==t&&e.refreshCaseInfo()}},refreshCaseInfo:function(){var e=this;e.clearControls(),e.disableControls(!0),setTimeout(function(){e.bindCaseResponseToModel(),e.bindCaseDocuments()},100)},clearControls:function(){this.editCaseModel.set("status",void 0),this.editCaseModel.set("resolveReason",void 0),this.editCaseModel.set("assignedTo",void 0),this.editCaseModel.set("otherReason",void 0),this.editCaseModel.set("notes",void 0),this.editCaseModel.set("outcome",void 0),this.editCaseModel.set("subCategory",void 0),this.editCaseModel.set("category",void 0)},clearDropDowns:function(){this.set("statuslst",[]),this.set("escalatedTolst",[]),this.set("resolveReasonlst",[]),this.set("subCategorylst",[]),this.set("outcomelst",[])},clearConditionalControls:function(){this.editCaseModel.set("device",void 0),this.editCaseModel.set("deviceType",void 0),this.editCaseModel.set("methodofPayment",void 0),this.editCaseModel.set("amountPaid",void 0),this.editCaseModel.set("paymentReferenceNumber",void 0),this.editCaseModel.set("placePaymentwasMade",void 0),this.editCaseModel.set("priority",void 0),this.editCaseModel.set("channelName",void 0),this.editCaseModel.set("softwareVersion",void 0),this.editCaseModel.set("loaderVersion",void 0),this.editCaseModel.set("bouquet",void 0),this.editCaseModel.set("reason",void 0),this.editCaseModel.set("supportingDocs",void 0),this.editCaseModel.set("amountCustomerListedFor",void 0),this.editCaseModel.set("badDebtWrittenAmount",void 0),this.editCaseModel.set("accusedPartyName",void 0),this.editCaseModel.set("paymentDate",void 0),this.editCaseModel.set("Hours",void 0),this.editCaseModel.set("Minutes",void 0),this.editCaseModel.set("amount",void 0),this.editCaseModel.set("SCNumber",void 0),this.removeDependentProperty("deviceValidator"),this.removeDependentProperty("SCNumberValidator"),this.removeDependentProperty("paymentDateValidator"),this.removeDependentProperty("methodofPaymentValidator"),this.removeDependentProperty("amountPaidValidator"),this.removeDependentProperty("amountValidator"),this.removeDependentProperty("paymentReferenceNumberValidator"),this.removeDependentProperty("deviceTypeValidator"),this.removeDependentProperty("placePaymentwasMadeValidator"),this.removeDependentProperty("reasonValidator"),this.removeDependentProperty("accusedPartyNameValidator"),this.removeDependentProperty("badDebtWrittenAmountValidator"),this.removeDependentProperty("amountCustomerListedForValidator"),this.editCaseModel.set("isGroup1",void 0),this.editCaseModel.set("isGroup2",void 0),this.editCaseModel.set("isGroup3",void 0),this.editCaseModel.set("isGroup4",void 0),this.editCaseModel.set("isGroup5",void 0),this.editCaseModel.set("isGroup6",void 0),this.editCaseModel.set("isGroup7",void 0),this.editCaseModel.set("isGroup8",void 0),this.editCaseModel.set("isGroup9",void 0)},uploadDocuments:function(){var e=this,t=e.get("editCaseModel"),a=t.get("fileUploader");$(a.files).each(function(e,t){2!==t.status&&4!==t.status||(t.status=1)}),a.uploadCanceled=!1,a.start(),Komodo.log("[Edit Case]:uploading case documents....")},uploadEmailAttachments:function(){var e=this,t=e.get("editCaseModel"),a=t.get("fileuploader1");$(a.files).each(function(e,t){2!==t.status&&4!==t.status||(t.status=1)}),a.uploadCanceled=!1,a.start(),Komodo.log("[Edit Case]:uploading email attachments....")},fetchCaseEmail:function(){var e=this;this.set("editCaseModel.NoCaseEmailHistoryFound",kl.value(this.localeCaseHistory+"noEmailHistoryFoundError")),e.get("sharedObject").fetchCaseEmail(e.editCaseUID,"editCase")},updateCaseStatus:function(){var e=this,t=Komodo.Models.CreateInteraction.create(),a=Komodo.Models.Case.create(),s=Komodo.canonicalFacadeFactory(t,["Country","Case","ListOfCaseData_CaseData"]);a.set("UID",this.editCaseModel.get("uID")),a.set("Category",this.editCaseModel.get("category")),a.set("SubCategory",this.editCaseModel.get("subCategory")),a.set("Outcome",this.editCaseModel.get("outcome")),"3"!==this.editCaseModel.get("status")?a.set("Status","4"):a.set("Status","3"),a.set("Notes",this.editCaseModel.get("notes")),void 0==this.editCaseModel.get("assignedTo")?a.set("CaseOwner",this.retrivedCase.CaseOwner):a.set("CaseOwner",this.editCaseModel.get("assignedTo")),void 0==this.editCaseModel.get("resolveReason")?a.set("ResolutionReason",this.retrivedCase.ResolutionReason):a.set("ResolutionReason",this.editCaseModel.get("resolveReason")),void 0==this.editCaseModel.get("otherReason")?a.set("OtherResolutionReason",this.retrivedCase.OtherResolutionReason):a.set("OtherResolutionReason",this.editCaseModel.get("otherReason")),a.set("Type",this.retrivedCase.Type),a.set("InteracteeName",this.retrivedCase.InteracteeName),a.set("InteractionLocation",this.retrivedCase.InteractionLocation),a.set("InteractionMedium",this.retrivedCase.InteractionMedium),a.set("CustomerUID",this.retrivedCase.CustomerUID),a.set("HouseholdMemberUID",this.retrivedCase.HouseholdMemberUID),a.set("ContactPerson",this.retrivedCase.ContactPerson),a.set("ContactPersonNumber",this.retrivedCase.ContactPersonNumber),a.set("QueryType",this.retrivedCase.QueryType),a.set("Priority",this.editCaseModel.get("priorityID")),a.set("LinkedCaseUID",this.retrivedCase.LinkedCaseUID),a.set("ModifiedBy",this.retrivedCase.ModifiedBy),a.set("ModifiedDate",this.retrivedCase.ModifiedDate),a.set("TeamLead",this.retrivedCase.TeamLead),a.set("EscalationLevel",this.retrivedCase.EscalationLevel),a.set("SLADeadline",this.retrivedCase.SLADeadline),a.set("EscalationNumber",this.retrivedCase.EscalationNumber),a.set("EscalatedTo",this.retrivedCase.EscalatedTo),a.set("CreatedBy",this.retrivedCase.CreatedBy),a.set("CreatedDate",this.retrivedCase.CreatedDate),a.set("IsGeneralNote",!1);var o=[["methodofPayment","Method of payment"],["placePaymentwasMade","Place payment was made"],["paymentDate","Date of payment"],["amountPaid","Amount paid"],["paymentReferenceNumber","Payment reference number"],["device","Device"],["deviceType","Device type"],["SCNumber","Smartcard number"],["channelName","ChannelName"],["amount","Amount"],["softwareVersion","SoftwareVersion"],["loaderVersion","LoaderVersion"],["bouquet","Bouquet"],["reason","Reason"],["amountCustomerListedFor","Amount customer listed for"],["badDebtWrittenAmount","Bad debt written-off amount"],["accusedPartyName","Accused Party Name"]],r=[];if(this.get("isGroupPresent"))r=this.addListOfCaseDataPayload(this.editCaseModel,o);else if(this.isArrayEmpty(r)&&!this.isArrayEmpty(this.retrivedCase.ListOfCaseData.CaseData)){var n=this.retrivedCase.ListOfCaseData.CaseData;for(i=0;i<n.length;i++){var l=Komodo.Models.CaseData.create(),d=Komodo.canonicalFacadeFactory(l,["CaseDataValueUri","Value"]);d.set("CaseDataValueUri",n[i].CaseDataValueUri),d.set("Value",n[i].Value),r.push(l)}}s.set("Country",this.countryCanonicalId),s.set("Case",a),s.set("ListOfCaseData_CaseData",r),e.publishRequestOnBus(t,"UpdateCase","v1"),e.set("isDisableCancelButton",!0),e.set("isDisableSubmitButton",!0)},createParameter:function(e,t){return e+"="+t},assignCasetoCustomer:function(){var e=this;Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,6e4,"blocking",this),Komodo.Services.queryService.getJSON("CustomerInteraction/AssignCaseToCustomer?custNumber="+this.editCaseModel.get("assigncustomerNumber")+"&uid="+this.editCaseModel.get("uID")).done(function(t){if(t){var a=void 0;a=Komodo.Controls.MessageBoxController.show(kl.value("Edit Case"),kl.value(kl.value(e.localeEditCase+"casetrasfermessage")+t),Komodo.Controls.MessageBoxOkButton,e,"id5446673","success"),a.response=function(t){"ok"==t&&e.transitionToRoute("/caseHistory")}}}).error(function(t){var a=(JSON.stringify(t),JSON.stringify(t));Komodo.log("Case not transfered to customer. Error: "+a),Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"editCaseTitle"),kl.value(e.localeEditCase+"casenottrasfer"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning")})},getTeamfromSubjectTree:function(e,t,a){var s=this;Komodo.Services.queryService.getJSON("CrmUserManagement/GetTeamFromSubjectTree?category="+e+"&subCategory="+t+"&outcome="+a).done(function(e){if(e){var t={Key:e,Value:e,IsGroup:!0};s.assignedToList.pushObject(t)}}).error(function(e){var t=JSON.stringify(e);Komodo.log("retrieveCustomer ajax call failed. Error: "+t)})},showCaseUpdatedMessage:function(e,t){Komodo.Services.busyService.stop(this.get("processId"),"blocking");var a=this,s=void 0
;s=t?Komodo.Controls.MessageBoxController.show(kl.value(a.localeEditCase+"editCaseTitle"),e,Komodo.Controls.MessageBoxOkButton,a,"id5446675","warning"):Komodo.Controls.MessageBoxController.show(kl.value(a.localeEditCase+"editCaseTitle"),e,Komodo.Controls.MessageBoxOkButton,a,"id5446673","success"),s.response=function(e){"ok"==e&&Komodo.Services.eventAggregator.publish("PublishCustomerCaseUID",a.editCaseUID)}}}),Komodo.Application.EditCaseView=Komodo.UI.View.extend({viewKey:"EditCaseView",templateName:"EditCaseView",didInsertElement:function(){this._super();var e=this.get("controller"),t=e.get("editCaseUID"),a=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:"pickfiles",url:KomodoConfiguration.ibsApiUrl+e.get("loggedInCountryName")+"/UploadDownload/UploadCaseDocuments?caseNumber="+t+"&documentType=",headers:{"komodo-sessiontoken":Komodo.Services.securityService.get("sessionToken")},filters:{max_file_size:"10mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png,jpeg,JPG,GIF,PNG,JPEG"},{title:"Adobe And Document Files",extensions:"pdf,doc,xls,docx,xlsx"}]},init:{PostInit:function(){},FilesAdded:function(e,t){var a=this.editCaseController,s=this.editCaseController.get("editCaseModel");plupload.each(t,function(t){var o=!1;if($(s.caseDocuments).each(function(e,a){a.get("documentName")===t.name&&(o=!0)}),o)e.removeFile(t);else{var i=Komodo.Models.CaseDocumentsModel.create();i.set("documentName",t.name),i.set("documentSize",plupload.formatSize(t.size)),i.set("uploadPercentage",""),i.set("documentType","Copy of ID"),i.set("uploadStatus","QUEUED"),i.set("documentAlreadyUploaded",!1),s.get("caseDocuments").pushObject(i),a.set("isDisableSubmitButton",!1),a.set("isDisableCancelButton",!1),a.set("isCaseDocumentsAvailable",!0)}})},UploadProgress:function(e,t){e.changeFileStatus(this.editCaseController.get("editCaseModel"),t)},FileUploaded:function(e,t,a){var s=JSON.parse(a.response)[0];e.changeFileStatus(this.editCaseController.get("editCaseModel"),t,s)},Error:function(e,t){e.changeFileStatus(this.editCaseController.get("editCaseModel"),t.file)},BeforeUpload:function(e,a){var s=this.editCaseController;e.settings.url=KomodoConfiguration.ibsApiUrl+s.get("loggedInCountryName")+"/UploadDownload/UploadCaseDocuments?caseNumber="+t+"&documentType=",Komodo.log("[Edit Case]:beforeUpload called for the document."+a.name)},UploadComplete:function(e,a){var s=Komodo.Models.SaveDocument.create(),o=Komodo.canonicalFacadeFactory(s,["ListOfDocument"]),i=[],r="",n=!1;$(this.editCaseController.get("editCaseModel.caseDocuments")).each(function(e,a){if(0==a.get("documentAlreadyUploaded"))if("FAILED"!==a.get("uploadStatus")){var s=Komodo.Models.Document.create();s.set("FileType",a.get("documentType")),s.set("DocumentURL",a.get("documentUrl"));var o=[],l=Komodo.Models.DocumentMetaData.create();l.set("DocumentMetaDataValueUri","CaseId"),l.set("Value",t),o.pushObject(l);var d=Komodo.Models.DocumentMetaData.create();d.set("DocumentMetaDataValueUri","DocumentType"),d.set("Value",a.get("documentType")),o.pushObject(d);var c=Komodo.Models.DocumentMetaData.create();c.set("DocumentMetaDataValueUri","DocumentSerial"),c.set("Value",t),o.pushObject(c),s.set("ListOfDocumentMetaData",o),i.pushObject(s),r+="</br>"+a.get("documentName")+" - "+a.get("uploadStatus")}else n=!0,r+="</br>"+a.get("documentName")+" - "+a.get("uploadStatus")}),i.length>0&&(s.set("Country",this.editCaseController.get("countryCanonicalId")),o.set("ListOfDocument",i),this.editCaseController.publishRequestOnBus(s,"SaveCustomerDocumentEvent","v2"),Komodo.log("[Edit Case]:UploadComplete called for all documents"));var l=kl.value(this.editCaseController.localeEditCase+"editCaseSuccess")+this.editCaseController.get("editCaseUID")+"</br><b>"+kl.value(this.editCaseController.localeEditCase+"caseUpdatedSuccessfullyMessage")+"</b>"+r;this.editCaseController.showCaseUpdatedMessage(l,n)}}});a.editCaseController=this.get("controller"),this.get("controller.editCaseModel").set("fileUploader",a),a.changeFileStatus=this.fileUploadStatus,a.init();var s=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:"pickfiles1",url:KomodoConfiguration.ibsApiUrl+e.get("loggedInCountryName")+"/UploadDownload/UploadCaseDocuments?caseNumber="+t+"&documentType=",headers:{"komodo-sessiontoken":Komodo.Services.securityService.get("sessionToken")},filters:{max_file_size:"10mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png,jpeg,JPG,GIF,PNG,JPEG"},{title:"Adobe And Document Files",extensions:"pdf,doc,xls,docx,xlsx"}]},init:{PostInit:function(){},FilesAdded:function(e,t){var a=this.editCaseController,s=this.editCaseController.get("editCaseModel");plupload.each(t,function(t){var o=!1;if($(s.emailAttachments).each(function(e,a){a.get("documentName")===t.name&&(o=!0)}),o)e.removeFile(t);else{var i=Komodo.Models.CaseDocumentsModel.create();i.set("documentName",t.name),i.set("uploadStatus","QUEUED"),i.set("documentAlreadyUploaded",!1),s.get("emailAttachments").pushObject(i),a.set("isEmailAttachment",!0)}})},UploadProgress:function(e,t){e.changeFileStatus(this.editCaseController.get("editCaseModel"),t)},FileUploaded:function(e,t,a){var s=JSON.parse(a.response)[0];e.changeFileStatus(this.editCaseController.get("editCaseModel"),t,s)},Error:function(e,t){e.changeFileStatus(this.editCaseController.get("editCaseModel"),t.file)},BeforeUpload:function(e,a){var s=this.editCaseController;e.settings.url=KomodoConfiguration.ibsApiUrl+s.get("loggedInCountryName")+"/UploadDownload/UploadCaseDocuments?caseNumber="+t+"&documentType=",Komodo.log("[Edit Case]:beforeUpload called for the document."+a.name)},UploadComplete:function(e,a){var s=[],o="",i=!1;$(this.editCaseController.get("editCaseModel.emailAttachments")).each(function(e,a){if(0==a.get("documentAlreadyUploaded"))if("FAILED"!==a.get("uploadStatus")){var r=Komodo.Models.Document.create();r.set("FileType",a.get("documentType")),r.set("DocumentURL",a.get("documentUrl"));var n=[],l=Komodo.Models.DocumentMetaData.create();l.set("DocumentMetaDataValueUri","CaseId"),l.set("Value",t),n.pushObject(l);var d=Komodo.Models.DocumentMetaData.create();d.set("DocumentMetaDataValueUri","DocumentType"),d.set("Value",a.get("documentType")),n.pushObject(d);var c=Komodo.Models.DocumentMetaData.create();c.set("DocumentMetaDataValueUri","DocumentSerial"),c.set("Value",t),n.pushObject(c),r.set("ListOfDocumentMetaData",n),s.pushObject(r),o+="</br>"+a.get("documentName")+" - "+a.get("uploadStatus")}else i=!0,o+="</br>"+a.get("documentName")+" - "+a.get("uploadStatus")}),s.length>0&&this.editCaseController.get("editCaseModel.emailAttachments").length===s.length&&!1===i&&this.editCaseController.sendCaseEmailWithAttachments();kl.value(this.editCaseController.localeEditCase+"editCaseSuccess"),this.editCaseController.get("editCaseUID"),kl.value(this.editCaseController.localeEditCase+"caseUpdatedSuccessfullyMessage")}}});s.editCaseController=this.get("controller"),this.get("controller.editCaseModel").set("fileuploader1",s),s.changeFileStatus=this.attachmentUploadStatus,s.init()},fileUploadStatus:function(e,t,a){$(e.caseDocuments).each(function(e,s){s.get("documentName")===t.name&&(s.set("uploadPercentage",t.percent+" %"),2===t.status?s.set("uploadStatus","UPLOADING"):4===t.status?(s.set("uploadStatus","FAILED"),s.set("uploadPercentage","0 %")):5===t.status&&(s.set("uploadStatus","DONE"),s.set("documentUrl",a)))})},attachmentUploadStatus:function(e,t,a){$(e.emailAttachments).each(function(e,s){s.get("documentName")===t.name&&(s.set("uploadPercentage",t.percent+" %"),2===t.status?s.set("uploadStatus","UPLOADING"):4===t.status?(s.set("uploadStatus","FAILED"),s.set("uploadPercentage","0 %")):5===t.status&&(s.set("uploadStatus","DONE"),s.set("documentUrl",a)))})}}),Komodo.Application.CreateCaseView=Komodo.UI.View.extend({viewKey:"CreateCaseView",templateName:"CreateCaseView",loggedInCountryName:void 0,fileuploader:void 0,didInsertElement:function(){this._super(),Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(e){loggedInCountryName=e.data.countryDescription});var e=this.get("controller");fileuploader=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:"addfiles",url:KomodoConfiguration.ibsApiUrl+loggedInCountryName+"/uploaddownload/UploadCaseDocuments?caseNumber="+e.get("caseNumber"),headers:{"komodo-sessiontoken":Komodo.Services.securityService.get("sessionToken")},filters:{max_file_size:"10mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png,jpeg,JPG,GIF,PNG,JPEG"},{title:"Adobe And Document Files",extensions:"pdf,doc,xls,docx,xlsx"}]},init:{PostInit:function(){$("#filelist > tbody").html("")},FilesAdded:function(e,t){var a=(this.createCaseController,this.createCaseController.get("caseDocumentModel"));plupload.each(t,function(t){var s=!1;if($(a.caseDocuments).each(function(e,a){a.get("documentName")===t.name&&(s=!0)}),s)e.removeFile(t);else{var o=Komodo.Models.CaseDocumentsModel.create();o.set("documentName",t.name),o.set("documentSize",plupload.formatSize(t.size)),o.set("uploadPercentage",""),o.set("documentType",void 0),o.set("uploadStatus","QUEUED"),a.get("caseDocuments").pushObject(o)}})},UploadProgress:function(e,t){e.changeFileStatus(this.createCaseController.get("caseDocumentModel"),t)},FileUploaded:function(e,t,a){var s=JSON.parse(a.response)[0];e.changeFileStatus(this.createCaseController.get("caseDocumentModel"),t,s)},Error:function(e,t){e.changeFileStatus(this.createCaseController.get("caseDocumentModel"),t.file)},BeforeUpload:function(e,t){var a=this.createCaseController.get("caseNumber");e.settings.url=KomodoConfiguration.ibsApiUrl+loggedInCountryName+"/uploaddownload/UploadCaseDocuments?caseNumber="+a},UploadComplete:function(e,t){var a=this.createCaseController.get("caseNumber"),s=Komodo.Models.SaveDocument.create(),o=Komodo.canonicalFacadeFactory(s,["ListOfDocument"]),i=[];this.createCaseController.set("isSaveDocPublished",!1);var r="",n=!0;$(this.createCaseController.get("caseDocumentModel.caseDocuments")).each(function(e,t){if("FAILED"!=t.uploadStatus){var s=Komodo.Models.Document.create();s.set("FileType",t.get("documentType")),s.set("DocumentURL",t.get("documentUrl"));var o=[],l=Komodo.Models.DocumentMetaData.create();l.set("DocumentMetaDataValueUri","CaseId"),l.set("Value",a),o.pushObject(l);var d=Komodo.Models.DocumentMetaData.create();d.set("DocumentMetaDataValueUri","DocumentType"),d.set("Value","Copy Of Id"),o.pushObject(d);var c=Komodo.Models.DocumentMetaData.create();c.set("DocumentMetaDataValueUri","DocumentSerial"),c.set("Value",a),o.pushObject(c),s.set("ListOfDocumentMetaData",o),i.pushObject(s),Komodo.log("[Create Case]:Document -"+t.documentName+"is sucessfully uploaded to server")}else n=!1,Komodo.log("[Create Case]:Document -"+t.documentName+"is failed to upload on server");r=r+t.documentName+" - "+t.uploadStatus+"<br/>"}),i.length>0&&(s.set("Country",this.createCaseController.get("countryCanonicalId")),o.set("ListOfDocument",i),this.createCaseController.publishRequestOnBus(s,"SaveCustomerDocumentEvent","v2"),Komodo.log("[Create Case]:SaveDocument Event Processing....."),this.createCaseController.set("isSaveDocPublished",!0)),this.createCaseController.displayCaseCreatedMessage(r,n)}}}),fileuploader.createCaseController=this.get("controller"),this.get("controller.caseDocumentModel").set("fileUploader",fileuploader),fileuploader.changeFileStatus=this.fileUploadStatus,fileuploader.createCaseController.caseFileUploader=fileuploader,fileuploader.init()},fileUploadStatus:function(e,t,a){$(e.caseDocuments).each(function(e,s){s.get("documentName")===t.name&&(s.set("uploadPercentage",t.percent+" %"),2===t.status?s.set("uploadStatus","UPLOADING"):4===t.status?(s.set("uploadStatus","FAILED"),s.set("uploadPercentage","0 %")):5===t.status&&(s.set("uploadStatus","DONE"),s.set("documentUrl",a)))})}}),Komodo.Application.CaseHistoryController=Komodo.UI.Controller.extend({localeCaseHistory:"locale.manageCase:caseHistory.",localeEditCase:"locale.manageCase:editCase.",localeViewCase:"locale.manageCase:viewCase.",localeColumnHeaderForExport:"locale.manageCase:columnHeaderForExport.",localeExportFields:"locale.manageCase:exportFields.",statusList:[],lstCategory:void 0,lstSubcategory:void 0,lstOutcome:void 0,lstCaseQueryType:void 0,selectedCaseId:void 0,caseData:[],assigneeList:[],isSupervisor:!1,isSearching:!1,countryCanonicalId:void 0,caseSearchVia:void 0,configInterations:0,isCaseHistoryControllerActive:!1,_virtualPagerPageContent:Ember.A(),isEmptyNodeExists:!1,actualPageNumber:1,emptyObject:void 0,maxCountReached:!1,currentFilterParameters:void 0,propToCheck:["startDate","endDate","status","customerUID","assignee"],isShowCaseItems:!1,contentLength:0,lastOffsetPage:1,iseGainFunctionalityEnabled:!1,isCaseFeatureEnabled:!1,isElasticSearch:!1,checkCaseData:0,isFirstLoadAndNormalSearch:!1,init:function(){Komodo.log("Constructing Case History controller"),this.set("processVersion","v1.1"),this.set("processName","Case History service"),this.configInterations=KomodoConfiguration.interactionCount,this.toPageNo=KomodoConfiguration.exportToExcelCallCount,this.set("sharedObject",Komodo.Application.ManageCaseSharedObjectController.create()),this.subscribeUserSecurityRoleResultReceived(),this.subscribeUserSecurityRoleResultError(),this.subscribeCustomerCasesRetrievedReceived(),this.subscribeCustomerCasesRetrievedError(),this.subscribeNotifyCaseToOwner(),this.subscribeNotifyCaseToOwnerError(),this.subscribeGroupMembersResultReceived(),this.subscribeGroupMembersResultError(),this.subscribeGetUserGroupsByUserNameResultReceived(),this.subscribeGetUserGroupsByUserNameResultError(),this.subscribeRetrieveCaseHistoryLogReceived(),this.subscribeRetrieveCaseHistoryLogErrorReceived(),this.subscribeCaseDocumentsRetrievedReceived(),this.subscribeCaseDocumentsRetrievedError(),this.subscribeRetrieveCaseEmailHistoryLogResultReceived(),this.subscribeCaseEmailHistoryLogErrorReceived(),this.subscribeRetrieveLinkedCasesLogReceived(),this.subscribeRetrieveLinkedCasesLogErrorReceived(),this.subscribeGetCaseHistoryExportReceived(),this.subscribeGetCaseHistoryExportError(),void 0==this.emptyObject&&(this.emptyObject=Komodo.Models.CaseInformation.create(),this.emptyObject.set("UID",0)),this._super()},start:function(){this.isCaseHistoryControllerActive=!0,this.set("isSupervisor",!1),this.getUserRoles();var e=this;this.resetPagerData(),this.set("caseHistoryModel",Komodo.Models.CaseHistoryModel.create()),this.set("currentFilterParameters",Komodo.Models.CaseHistoryModel.create()),this.caseHistoryModel.set("caseInformation",[]),this.set("caseInformation",Komodo.Models.CaseInformation.create()),Komodo.Services.featureToggleService.isEnabled("ManageCase","CreateCase").done(function(t){e.set("isCaseFeatureEnabled",t)}).fail(function(e){Komodo.Services.log("Error while checking case enabling feature. Error Details:"+e)}),e.get("isCaseFeatureEnabled")&&Komodo.Services.featureToggleService.isEnabled("ManageCase","eGainFunctionality").done(function(t){e.set("iseGainFunctionalityEnabled",t)}).fail(function(e){Komodo.Services.log("Error while checking eGain Functionality feature. Error Details:"+e)}),this.registerValidator("caseHistoryModel","startDate",{type:"date",maxDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+1)}),this.registerValidator("caseHistoryModel","endDate",{type:"date",maxDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+1)}),this.registerValidator("caseHistoryModel","customerUID",{type:"number",limitValueToType:!0,maxLength:10,displayName:kl.value(this.localeCaseHistory+"customerValidationMsgMsg")}),Komodo.Models.CaseHistoryModel.create().caseInformation=[],this.registerModel("caseHistoryData",Komodo.Models.CaseHistoryModel),this.getCDMdata(),this.getGroupMembers(),setTimeout(function(){e.get("iseGainFunctionalityEnabled")&&!e.isElasticSearch&&e.loadAllCases()},100),this._super()},getCDMdata:function(){this.set("statusList",[]);var e=this;Komodo.Services.cachedDataService.fetch("caseCategory").done(function(t){e.set("lstCategory",t)}),Komodo.Services.cachedDataService.fetch("CaseSubCategory").done(function(t){e.set("lstSubcategory",t)}),e=this,Komodo.Services.cachedDataService.fetch("CaseOutcome").done(function(t){e.set("lstOutcome",t)}),Komodo.Services.cachedDataService.fetch("CaseQueryType").done(function(t){e.set("lstCaseQueryType",t)}),Komodo.Services.cachedDataService.fetch("CaseStatus").done(function(t){e.get("statusList").clear(),$.each(t,function(t,a){"Complete"!=a.value&&e.get("statusList").addObject(a)}),e.caseHistoryModel.set("status",void 0)}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"caseHistoryTitle"),"<strong>"+kl.value(e.localeCaseHistory+"failedLoadingCategories")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")});var t=void 0;Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(a){t=a.data,Komodo.Services.cachedDataService.fetch("Country").done(function(a){$.each(a,function(a,s){t.countryDescription==s.value&&e.set("countryCanonicalId",s.key)})})})},getUserRoles:function(){var e=this;Komodo.Services.featureToggleService.isEnabled("ManageCase","checkClaritySupervisorForCase").done(function(t){switch(t){case!0:e.getClarityUserRoles();break;case!1:e.getCRMUserRoles()}}).fail(function(e){Komodo.log("Error while checking feature toggle. Error Details:"+e)})},bindCasesListResponseToModel:function(){var e=Komodo.Services.ManageCaseService.customerCases;if(void 0==e)Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"technicalError"),kl.value(this.localeCaseHistory+"errorRetriveCases"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),this.set("checkCaseData",1);else if(0==e.Case.length)this.maxCountReached=!0,this.showNoCaseFoundMessage(),0==this.get("_virtualPagerPageContent").length&&this.set("checkCaseData",0);else if(e.Case.length>0){this.set("checkCaseData",2);var t=[],a=this.get("caseHistoryModel.assigneeName");if(CommonFunctions.isNullOrEmpty(a))t=this.mapInteractions(e.Case);else{var s=[];if(1==this.get("caseHistoryModel").assignee.IsGroup)for(var o=0;o<e.Case.length;o++)s.push(e.Case[o]);else for(var o=0;o<e.Case.length;o++)e.Case[o].CaseOwner==a&&s.push(e.Case[o]);s.length>0&&(t=this.mapInteractions(s))}t&&this.pushCaseData(t),e.Case.length%KomodoConfiguration.interactionCount!=0?this.maxCountReached=!0:!CommonFunctions.isNullOrEmpty(a)&&20==e.Case.length&&t.length<KomodoConfiguration.interactionCount&&this.searchCases()}},showNoCaseFoundMessage:function(){this.actualPageNumber<=1&&("FILTER"==this.caseSearchVia?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"retriveCaseHeader"),kl.value(this.localeCaseHistory+"noCaseFoundFilter")):"CASEID"==this.caseSearchVia?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"retriveCaseHeader"),kl.value(this.localeCaseHistory+"noCaseFoundCaseId")):Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"retriveCaseHeader"),kl.value(this.localeCaseHistory+"noCaseFound")))},showNoCaseFoundForExportMessage:function(){if(0==this.get("checkCaseData")){var e=this.get("caseHistoryModel").startDate,t=this.get("caseHistoryModel").endDate,a=this.get("caseHistoryModel").status,s=this.get("caseHistoryModel").customerUID,o=CommonFunctions.isNullOrEmpty(this.get("caseHistoryModel.assigneeName"))?this.assignee:this.get("caseHistoryModel.assigneeName");CommonFunctions.isNullOrEmpty(e)&&CommonFunctions.isNullOrEmpty(t)&&CommonFunctions.isNullOrEmpty(a)&&CommonFunctions.isNullOrEmpty(s)&&CommonFunctions.isNullOrEmpty(o)?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"caseHistoryTitle"),kl.value(this.localeCaseHistory+"selectCriteria"),null,this,"id123456","warning"):"FILTER"==this.caseSearchVia?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"retriveCaseHeader"),kl.value(this.localeCaseHistory+"noCaseFoundFilter")):"CASEID"==this.caseSearchVia?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"retriveCaseHeader"),kl.value(this.localeCaseHistory+"noCaseFoundCaseId")):Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"retriveCaseHeader"),kl.value(this.localeCaseHistory+"noCaseFound"))}},bindGroupMembers:function(){this.fillAsigneeGroupsByUser()},fillAsigneeGroupsByUser:function(){var e=Komodo.Application.ManageCaseSharedObjectController.create(),t=Komodo.Services.securityService.get("domainUserName");e.getUserGroupsByUserName(t)},bindGetUserGroupsByUserName:function(){var e=Komodo.Services.ManageCaseService.userGroupsByUserName,t=Komodo.Services.ManageCaseService.groupMembers,s=0;if(this.set("assigneeList",[]),t&&t.UserInfo.length>0)for(s=0;s<t.UserInfo.length;s++)a={Key:t.UserInfo[s].DomainName,Value:t.UserInfo[s].FullName,IsGroup:!1},this.assigneeList.push(a);if(void 0==e)return void Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"technicalError"),kl.value(this.localeCaseHistory+"errorGroupListNotFound"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");if(e.Team&&e.Team.length>0)for(s=0;s<e.Team.length;s++)a={Key:e.Team[s].TeamName,Value:e.Team[s].TeamName,IsGroup:!0},this.assigneeList.push(a)},mapInteractions:function(e){var t=this;return e&&e.length&&e.length>0?e.map(function(e){var a=Komodo.Models.CaseInformation.create();a.set("UID",t.chkEmptyValue(e.UID)),a.set("category",t.chkEmptyValue(e.Category)),a.set("subCategory",t.chkEmptyValue(e.SubCategory)),a.set("outcome",t.chkEmptyValue(e.Outcome)),a.set("escalatedTo",t.chkEmptyValue(e.EscalatedTo)),$.each(t.statusList,function(t,s){s.key==e.Status&&a.set("status",s.value)}),a.set("notes",t.chkEmptyValue(e.Notes)),a.set("queryType",t.chkEmptyValue(e.QueryType)),$.each(t.lstCaseQueryType,function(t,s){s.key==e.QueryType&&a.set("queryType",s.value)});for(var s=0;s<e.ListOfCaseData.CaseData.length;s++)"Device"==e.ListOfCaseData.CaseData[s].CaseDataValueUri?a.set("device",e.ListOfCaseData.CaseData[s].Value):"Device type"==e.ListOfCaseData.CaseData[s].CaseDataValueUri&&a.set("deviceType",e.ListOfCaseData.CaseData[s].Value);return a.set("device",t.chkEmptyValue(a.get("device"))),a.set("deviceType",t.chkEmptyValue(a.get("deviceType"))),a.set("customerUID",t.chkEmptyValue(e.CustomerUID)),void 0!==e.ModifiedDate||""!=e.ModifiedDate?t.get("iseGainFunctionalityEnabled")?a.set("ModifiedDate",t.formatDateTimeToDDMMYYYY_HHmm(e.ModifiedDate)):a.set("ModifiedDate",t.getFormattedDate(e.ModifiedDate)):a.set("ModifiedDate","-"),a.set("caseOwner",t.chkEmptyValue(e.CaseOwner)),a.set("interacteeName",t.chkEmptyValue(e.InteracteeName)),a.set("interactionMedium",t.chkEmptyValue(e.InteractionMedium)),1==t.isSupervisor&&"Resolved"!=a.get("status")?a.set("displayEditBtn",!0):e.CaseOwner.toLowerCase().replace("\\","\\\\")==Komodo.Services.securityService.get("domainUserName").toLowerCase().replace("\\","\\\\")&&"Resolved"!=a.get("status")?a.set("displayEditBtn",!0):t.get("iseGainFunctionalityEnabled")?e.CaseOwner.toString().indexOf("\\")<0&&"Resolved"!=a.get("status")&&(t.isElasticSearch||a.set("displayEditBtn",!0)):a.set("displayEditBtn",!1),t.get("iseGainFunctionalityEnabled")&&("Invalid"!=a.get("status")&&"Archive"!=a.get("status")||a.set("displayEditBtn",!1)),"Resolved"==a.get("status")&&a.set("OtherResolutionReason",t.chkEmptyValue(e.OtherResolutionReason)),a}):[]},chkEmptyValue:function(e){return null==e||""==e||void 0==e?"-":e},getAllCases:function(){this.resetPagerData(),this.caseSearchVia="DEFAULT"},getSelectedCase:function(e){this.resetPagerData();var t=this.get("sharedObject");this.set("isSearching",!0),this.caseSearchVia="CASEID",t.retrieveInteractionsByFilter(1,this.configInterations,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"CaseHistory")},subscribeCustomerCasesRetrievedReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("CustomerCasesRetrievedReceived",function(){e.set("isSearching",!1);var t=Komodo.Services.uiService.getController("caseHistory");t&&t.bindCasesListResponseToModel()})},subscribeCustomerCasesRetrievedError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("CustomerCasesRetrievedError",function(){if(e.set("isSearching",!1),"caseHistory"==Komodo.Services.uiService.getCurrentRouteName()){var t=Komodo.Services.ManageCaseService.retrieveCasesError;Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),kl.value(e.localeCaseHistory+"errorRetriveCases")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}})},subscribeNotifyCaseToOwner:function(){Komodo.Services.eventAggregator.subscribe("NotifyCaseToOwner",function(){var e=Komodo.Services.ManageCaseService.NotifyCasemsg;Komodo.Controls.MessageBoxController.show(kl.value(me.localeCaseHistory+"notifyOwnerHeader"),e)})},subscribeNotifyCaseToOwnerError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("NotifyCaseToOwnerError",function(){var t=Komodo.Services.ManageCaseService.NotifyCaseErrorMsg;Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),kl.value(e.localeCaseHistory+"errorNotifyOwner")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeGroupMembersResultReceived:function(){Komodo.Services.eventAggregator.subscribe("GroupMembersResultReceived",function(){var e=Komodo.Services.uiService.getController("caseHistory");e&&e.bindGroupMembers()})},subscribeGroupMembersResultError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("GroupMembersResultError",function(){var t=Komodo.Services.ManageCaseService.groupMemebersError;Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),kl.value(e.localeCaseHistory+"errorUserGroup")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeUserSecurityRoleResultReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("UserSecurityRoleResultReceived",function(){var t=Komodo.Services.ManageCaseService.userSecurityRole;if(void 0!=t&&t.UserInfo.length>0)for(var a=0;a<t.UserInfo.length;a++)if(e.isSupervisorRole(t.UserInfo[a].SecurityRole)){e.set("isSupervisor",!0);break}e.retrieveCases()})},isSupervisorRole:function(e){return void 0!=e&&null!=e&&("paytv central csr"==(e=e.toLowerCase())||"campaign approver user"==e||"campaign in-country master user"==e||"supervisor"==e)},subscribeUserSecurityRoleResultError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("UserSecurityRoleResultError",function(){var t=Komodo.Services.ManageCaseService.userSecurityRoleError;Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeGetUserGroupsByUserNameResultReceived:function(){Komodo.Services.eventAggregator.subscribe("GetUserGroupsByUserNameResultReceived",function(){var e=Komodo.Services.uiService.getController("caseHistory");e&&e.bindGetUserGroupsByUserName()})},subscribeGetUserGroupsByUserNameResultError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("GetUserGroupsByUserNameErrorReceived",function(){var t=Komodo.Services.ManageCaseService.GetUserGroupsByUserNameError;Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),kl.value(e.localeCaseHistory+"errorUserGroup")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeRetrieveCaseHistoryLogReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("ManageCaseRetrieveCaseHistoryLogResultReceived",function(){e.bindCaseHistory()})},subscribeRetrieveCaseHistoryLogErrorReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("ManageCaseRetrieveCaseHistoryLogErrorReceived",function(){var t=Komodo.Services.ManageCaseService.getCaseHistoryLogError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),kl.value(e.localeCaseHistory+"errorCaseHistoryLog")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeCaseDocumentsRetrievedReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("ManageCaseCaseDocumentsRetrievedReceived",function(t){e.bindCaseDocuments(t),void 0!=e.get("popupViewCase")&&e.get("popupViewCase.context.isRetrievingDocuments")&&e.set("popupViewCase.context.isRetrievingDocuments",!1)})},subscribeCaseDocumentsRetrievedError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("ManageCaseCaseDocumentsRetrievedError",function(){Komodo.Services.ManageCaseService.getCaseDocumentsError();void 0!=e.get("popupViewCase")&&(e.set("popupViewCase.context.isRetrievingDocuments",!1),e.set("popupViewCase.context.isShowingDocuments",!1))})},subscribeRetrieveCaseEmailHistoryLogResultReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("ManageCaseFetchCaseHistoryEmailsReceived",function(){e.bindCaseEmailHistory()})},subscribeCaseEmailHistoryLogErrorReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("ManageCaseFetchCaseHistoryEmailsErrorReceived",function(){var t=Komodo.Services.ManageCaseService.getCaseEmailHistoryLogError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),kl.value(e.localeCaseHistory+"errorCaseEmailHistoryLog")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeRetrieveLinkedCasesLogReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("ManageCaseRetrieveLinkedCasesLogResultReceived",function(){e.bindLinkedCasesLog()})},subscribeRetrieveLinkedCasesLogErrorReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("ManageCaseRetrieveLinkedCasesLogErrorReceived",function(){var t=Komodo.Services.ManageCaseService.getLinkedCasesLogError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),kl.value(e.localeEditCase+"errorLinkedCasesLog")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeGetCaseHistoryExportReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("GetCaseHistoryExportReceived",function(){e.set("isSearching",!1)})},subscribeGetCaseHistoryExportError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("GetCaseHistoryExportError",function(){var t=Komodo.Services.ManageCaseService.getExportCasesError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeEditCase+"technicalError"),t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},bindCaseHistory:function(){var e=this,t=(e.get("viewCaseModel"),void 0),a=e.get("sharedObject"),s=Komodo.Services.ManageCaseService.getCaseHistoryLog(),o=[];if(!e.isArrayEmpty(s)){var t=s.filter(function(t){return t.UID==e.get("selectedCaseId")});t.length>0&&null!==t[0].UID&&""!=t[0].UID&&void 0!==t[0].UID&&(e.set("viewCaseModel.isNoCaseHistoryFound",!1),o=s.map(function(t){var s=Komodo.Models.CaseInformation.create();return CommonFunctions.isNullOrEmpty(t.ModifiedDate)?s.set("ModifiedDate","-"):CommonFunctions.isNullOrEmpty(a.getFormattedDate(t.ModifiedDate))?e.get("iseGainFunctionalityEnabled")?s.set("ModifiedDate",a.formatDateTimeToDDMMYYYY_HHmm(t.CreatedDate)):s.set("ModifiedDate",a.getFormattedDate(t.CreatedDate)):e.get("iseGainFunctionalityEnabled")?s.set("ModifiedDate",a.formatDateTimeToDDMMYYYY_HHmm(t.ModifiedDate)):s.set("ModifiedDate",a.getHyphenIfEmpty(a.getFormattedDate(t.ModifiedDate))),s.set("category",e.getItemValueIfExists(e.lstCategory,t,"Category","key","value")),s.set("subCategory",e.getItemValueIfExists(e.lstSubcategory,t,"SubCategory","key","value")),s.set("outcome",e.getItemValueIfExists(e.lstOutcome,t,"Outcome","key","value")),s.set("caseOwner",a.getHyphenIfEmpty(t.CaseOwner)),s.set("notes",a.getHyphenIfEmpty(t.Notes)),
s.set("status",e.getItemValueIfExists(e.statusList,t,"Status","key","value")),s}),o=a.getFilteredCaseHistory(o),e.set("viewCaseModel.caseHistoryLog",o))}},bindCaseDocuments:function(e){var t=this,a=Komodo.Services.ManageCaseService.caseDocuments;if(void 0==a||void 0==a.DocumentPayload||t.isArrayEmpty(a.DocumentPayload))return void this.set("viewCaseModel.isNoDocumentsUploaded",!0);var s=t.get("viewCaseModel");if(t.get("selectedCaseId")==e){s.caseDocuments.clear();var o=[];o=a.DocumentPayload.map(function(e){var a=Komodo.Models.CaseDocumentsModel.create(),s=e.DocumentURL,o=s.split("/"),i=o[o.length-1],r="_"+t.get("selectedCaseId"),n=i.replace(r,"");return a.set("documentName",n),a.set("documentUrl",s),a}),this.set("viewCaseModel.caseDocuments",o)}},bindCaseEmailHistory:function(e){var t=this,a=Komodo.Services.ManageCaseService.caseHistoryEmail;$(a.EmailMessages).each(function(e,t){$(t.AbsoluteUrl).each(function(e,a){var s=a;if(void 0===s.FileName){var o=new Object;o.FileName=s.substring(s.indexOf(">")+1,s.lastIndexOf("<")),o.FileLink=s.substring(s.indexOf("'")+1,s.lastIndexOf("'")),t.AbsoluteUrl[e]=new Object,t.AbsoluteUrl[e]=o}})}),void 0==a||void 0==a.EmailMessages||t.isArrayEmpty(a.EmailMessages)||this.set("viewCaseModel.NoCaseEmailHistoryFound",void 0),t.set("viewCaseModel.caseEmailHistoryLog",a.EmailMessages)},bindLinkedCasesLog:function(){currentObject=this;var e=(currentObject.get("viewCaseModel"),this.get("sharedObject")),t=Komodo.Services.ManageCaseService.getLinkedCasesLog(),a=[];this.isArrayEmpty(t)?currentObject.set("viewCaseModel.isNoLinkedCasesFound",!0):(currentObject.set("viewCaseModel.isNoLinkedCasesFound",!1),a=t.map(function(t){var a=Komodo.Models.CaseInformation.create();CommonFunctions.isNullOrEmpty(t.ModifiedDate)?a.set("ModifiedDate","-"):CommonFunctions.isNullOrEmpty(e.getFormattedDate(t.ModifiedDate))?currentObject.get("iseGainFunctionalityEnabled")?a.set("ModifiedDate",e.formatDateTimeToDDMMYYYY_HHmm(t.CreatedDate)):a.set("ModifiedDate",e.getFormattedDate(t.CreatedDate)):currentObject.get("iseGainFunctionalityEnabled")?a.set("ModifiedDate",e.getHyphenIfEmpty(e.formatDateTimeToDDMMYYYY_HHmm(t.ModifiedDate))):a.set("ModifiedDate",e.getHyphenIfEmpty(e.getFormattedDate(t.ModifiedDate))),a.set("UID",e.getHyphenIfEmpty(t.UID)),a.set("customerUID",e.getHyphenIfEmpty(t.CustomerUID)),a.set("category",currentObject.getItemValueIfExists(currentObject.lstCategory,t,"Category","CanonicalKey","CanonicalValue")),a.set("subCategory",currentObject.getItemValueIfExists(currentObject.lstSubcategory,t,"SubCategory","key","value")),a.set("outcome",currentObject.getItemValueIfExists(currentObject.lstOutcome,t,"Outcome","key","value")),a.set("caseOwner",e.getHyphenIfEmpty(t.CaseOwner)),a.set("notes",e.getHyphenIfEmpty(t.Notes)),a.set("status",currentObject.getItemValueIfExists(currentObject.statusList,t,"Status","key","value")),a.set("escalatedTo",e.getHyphenIfEmpty(t.EscalatedTo)),a.set("queryType",e.getHyphenIfEmpty(t.QueryType)),$.each(currentObject.lstCaseQueryType,function(e,s){s.key==t.QueryType&&a.set("queryType",s.value)});for(var s=0;s<t.ListOfCaseData.CaseData.length;s++)"Device"==t.ListOfCaseData.CaseData[s].CaseDataValueUri?a.set("device",t.ListOfCaseData.CaseData[s].Value):"Device type"==t.ListOfCaseData.CaseData[s].CaseDataValueUri&&a.set("deviceType",t.ListOfCaseData.CaseData[s].Value);return a.set("device",e.getHyphenIfEmpty(a.get("device"))),a.set("deviceType",e.getHyphenIfEmpty(a.get("deviceType"))),a})),currentObject.set("viewCaseModel.linkedCaseLog",a)},actions:{actionClearSearchParameters:function(){var e=this.get("caseHistoryModel");e.set("startDate",void 0),e.set("endDate",void 0),e.set("status",null),e.set("customerUID",void 0),e.set("assignee",void 0);var t=this.get("currentFilterParameters");t.set("startDate",void 0),t.set("endDate",void 0),t.set("status",null),t.set("customerUID",void 0),t.set("assignee",void 0),this.caseSearchVia=void 0,this.assignee=void 0,this.getAllCases()},actionFilterCases:function(){var e=this.get("caseHistoryModel");this.canSubmitData(e,kl.value(this.localeCaseHistory+"caseHistoryTitle"),{showInModal:!0})&&(this.resetPagerData(),this.caseSearchVia="FILTER",CommonFunctions.cloneProperties(this.get("caseHistoryModel"),this.get("currentFilterParameters"),this.propToCheck),this.isFirstLoadAndNormalSearch=!0,this.isElasticSearch=!1,this.searchCases())},actionEditSelectedCase:function(e){e.get("content").Status;try{var t=this,a=e.get("content").UID;t.get("iseGainFunctionalityEnabled")&&e.get("content").caseOwner.toString().indexOf("\\")<0&&!this.isSupervisor&&"31"!=e.get("content").category&&"115"!=e.get("content").subCategory?t.updateCaseOwner(a):t.redirectToEditCase(a)}catch(e){this.handleException("editSelectedCase",e,!0,!0)}},popupViewCase:void 0,actionViewSelectedCase:function(e){var t=this,a=Komodo.Models.ViewCaseModel.create();a.UID=e.get("content").UID,t.set("selectedCaseId",a.UID);var s=t.get("sharedObject");s.retrieveCaseHistoryLog(a.UID,1,10,"manageCase"),s.retrieveCaseDocuments(a.UID,"manageCase"),s.fetchCaseEmail(a.UID,"manageCase"),t.get("iseGainFunctionalityEnabled")&&s.retrieveLinkedCasesLog(a.UID,1,10,"manageCase"),void 0!==e.get("content").category&&$.each(this.lstCategory,function(t,s){s.key==e.get("content").category&&(a.category=s.value)}),void 0!==e.get("content").subCategory&&$.each(this.lstSubcategory,function(t,s){s.key==e.get("content").subCategory&&(a.subCategory=s.value)}),void 0!==e.get("content").outcome&&$.each(this.lstOutcome,function(t,s){s.key==e.get("content").outcome&&(a.outcome=s.value)}),a.queryType=e.get("content").queryType,a.device=e.get("content").device,a.deviceType=e.get("content").deviceType,a.status=e.get("content").status,a.escalatedTo=e.get("content").escalatedTo,a.customerUID=e.get("content").customerUID,a.interacteeName=e.get("content").interacteeName,a.caseOwner=e.get("content").caseOwner,a.ModifiedDate=e.get("content").ModifiedDate,t.get("iseGainFunctionalityEnabled")?a.notes="":a.notes=e.get("content").notes,"Resolved"==a.status?(a.isResolved=!0,a.OtherResolutionReason=e.get("content").OtherResolutionReason):a.isResolved=!1,"Resolved"==a.status||"Invalid"==a.status||"Cancelled"==a.status||"Archive"==a.status?a.isNotRequired=!0:a.isNotRequired=!1,t.get("iseGainFunctionalityEnabled")?a.iseGainFunctionalityEnabled=!0:a.iseGainFunctionalityEnabled=!1,this.checkPermissionsToViewCase(a),this.set("viewCaseModel",a),t.getCDMInteractionMedium(e.get("content").interactionMedium,"interactionMedium"),t.set("viewCaseModel.NoCaseEmailHistoryFound",kl.value(this.localeCaseHistory+"noEmailHistoryFoundError")),t.set("viewCaseModel.NoLinkedCasesFoundFound",kl.value(this.localeCaseHistory+"noLinkedCasesFoundError")),t.popupViewCase=Komodo.Services.uiService.showModalPopup(kl.value(this.localeViewCase+"caseDetailsTitle"),null,{view:Komodo.Application.ViewCaseView,context:{data:this.get("viewCaseModel"),parent:t,isRetrievingDocuments:!0,isShowingDocuments:!0,notifyOwner:function(){if(t.get("iseGainFunctionalityEnabled")){var e=t.get("validators"),a=e.notesValidator;a.identifier===t&&a.model===this.data&&(a.validate(),a.errors.length<=0&&(t.set("popupaction","Submit"),t.popupViewCase.close()))}else t.set("popupaction","Submit"),t.popupViewCase.close()},cancel:function(){t.set("popupaction","Cancel"),t.popupViewCase.close()},exportEmailHistoryToPDF:function(){t.set("popupaction","ExportEmailHistory"),t.popupViewCase.close()},initializeComponents:function(){!a.isNotRequired&&t.get("iseGainFunctionalityEnabled")&&t.registerValidator(this.data,"notes",{isRequired:!0,maxLength:4e3,displayName:kl.value(t.localeViewCase+"notes")})}},closeCallback:function(){t.deregisterValidator("notesValidator");var e=t.get("popupaction");t.set("popupaction",""),"Submit"==e&&t.notifyCaseOwner(t),"ExportEmailHistory"==e&&t.exportCaseEmailHistoryToPDF()},canUserClose:!0,shouldStartAndStopController:!1}),setTimeout(function(){t.popupViewCase.context.initializeComponents()},100)},actionCasePageSelected:function(e){var t=this.get("caseData");if(t&&t.length&&(this.set("_virtualPagerPageContent",t.slice(e.from,e.to)),!this.get("isSearching")&&!this.maxCountReached)){var a=(e.pageNumber+this.lastOffsetPage)*e.itemsPerPage,s=t.length%e.itemsPerPage;a>=t.length&&0==s&&(this.isElasticSearch=!1,this.searchCases())}},exportToExcel:function(){var e=this;if(0==e.get("checkCaseData"))e.showNoCaseFoundForExportMessage();else if(1==e.get("checkCaseData"))Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),kl.value(e.localeCaseHistory+"errorRetriveCases"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");else{var t="",a=e.get("caseHistoryModel").startDate,s=e.get("caseHistoryModel").endDate,o=e.get("caseHistoryModel").status,i=e.get("caseHistoryModel").customerUID,r=e.get("caseHistoryModel.assigneeName");if(!CommonFunctions.isNullOrEmpty(a)&&!CommonFunctions.isNullOrEmpty(s)){var n=a.toLocaleDateString("sv-SE").split("-"),l=s.toLocaleDateString("sv-SE").split("-"),d=new Date;d.setFullYear(n[0],n[1]-1,n[2]);var c=new Date;c.setFullYear(l[0],l[1]-1,l[2]),c<d&&(t+=kl.value(e.localeCaseHistory+"errorEndDate"))}if(!CommonFunctions.isNullOrEmpty(a)&&!CommonFunctions.isNullOrEmpty(s)&&t.length>0)Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"caseHistoryTitle"),t,null,e,"id123456","warning");else if(CommonFunctions.isNullOrEmpty(a)&&CommonFunctions.isNullOrEmpty(s)&&CommonFunctions.isNullOrEmpty(o)&&CommonFunctions.isNullOrEmpty(i)&&CommonFunctions.isNullOrEmpty(e.assignee))Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"caseHistoryTitle"),kl.value(e.localeCaseHistory+"selectCriteria"),null,e,"id123456","warning");else if(CommonFunctions.validatePropertiesIfChanged(e.get("currentFilterParameters"),e.get("caseHistoryModel"),e.propToCheck)){var u=ColumnHeaderForExportConfiguration.BasicConfiguration,h=kl.value(e.localeExportFields+u.CaseHistoryApi[0].ApiName),C=kl.value(e.localeExportFields+u.CaseHistoryApi[0].FileName),g=kl.value(e.localeExportFields+u.CaseHistoryApi[0].FileFormat);exportDictionary=e.getCaseHistoryColumnHeaderForExport();var p=e.get("statusList"),m=e.get("caseHistoryModel").assignee;e.sharedObject.retrieveCaseHistoryExport(h,C,g,exportDictionary,void 0,void 0,i,void 0,o,a,s,void 0,"Case",e.assignee,r,p,m)}else Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"caseHistoryTitle"),kl.value(e.localeCaseHistory+"caseParameterChanged"),null,e,"id123456","warning")}}},getCaseHistoryColumnHeaderForExport:function(){var e=this;exportDictionary=new Array;var t=ColumnHeaderForExportConfiguration.BasicConfiguration;return $.each(t.CaseHistory,function(t,a){exportDictionary.push({Field:kl.value(e.localeColumnHeaderForExport+a.Field),Value:kl.value(e.localeColumnHeaderForExport+a.Value)})}),exportDictionary},checkPermissionsToViewCase:function(e){!0===Komodo.Services.securityService.hasPermission("clarity://manageCase/viewOnly")&&(e.isResolved=!0)},notifyToOwner:function(){var e=this.get("viewCaseModel");this.get("sharedObject").notifyCaseOwner(e.UID)},notifyCaseOwner:function(e){var t=Komodo.Models.InformCaseOwner.create(),a=this.get("viewCaseModel"),s=Komodo.canonicalFacadeFactory(t,["Country","CaseUID","Notes"]);s.set("Country",this.countryCanonicalId),s.set("CaseUID",a.UID),s.set("Notes",a.notes),this.publishRequestOnBus(t,"InformCaseOwner","v1"),setTimeout(function(){e.iseGainFunctionalityEnabled&&e.loadAllCases()},100)},exportCaseEmailHistoryToPDF:function(){var e=this,t=e.get("viewCaseModel"),a=e.get("viewCaseModel.caseEmailHistoryLog"),s=new Object;s.CaseDetails=t,s.CaseEmails=a,e.FormatJsonDataForPDF(s)},FormatJsonDataForPDF:function(e){var t=this,a=this.get("sharedObject"),s="object"!=typeof e?JSON.parse(e):e,o=new Object,i=s.CaseEmails.length,r=[];r.push({CustomerNumber:t.chkEmptyValue(s.CaseDetails.customerUID),CustomerName:t.chkEmptyValue(s.CaseDetails.interacteeName),CaseNumber:t.chkEmptyValue(s.CaseDetails.UID),CaseStatus:t.chkEmptyValue(s.CaseDetails.status),QueryType:t.chkEmptyValue(s.CaseDetails.queryType),InteractionMedium:t.chkEmptyValue(s.CaseDetails.interactionType),ModifiedDate:t.chkEmptyValue(s.CaseDetails.ModifiedDate),Category:t.chkEmptyValue(s.CaseDetails.category),SubCategory:t.chkEmptyValue(s.CaseDetails.subCategory),Outcome:t.chkEmptyValue(s.CaseDetails.outcome),AssignedTo:t.chkEmptyValue(s.CaseDetails.caseOwner).replace(/ZA\\/g,"")});for(var n=[],l=0;l<i;l++){for(var d="",c=0;c<s.CaseEmails[l].To.length;c++)d+=s.CaseEmails[l].To[l]+", ";d=d.substring(0,d.length-2),n.push({From:t.chkEmptyValue(s.CaseEmails[l].From),Sent:t.chkEmptyValue(a.getFormattedDateTime(s.CaseEmails[l].CreatedOn)),To:t.chkEmptyValue(d),Subject:t.chkEmptyValue(s.CaseEmails[l].Subject),Body:t.chkEmptyValue(s.CaseEmails[l].Body)})}o.CaseDetails=r,o.CaseEmails=n,a.exportToPdfConvertor(t.convertToHTMLFormatttedData(o),s.CaseDetails.UID+" Email Report")},convertToHTMLFormatttedData:function(e){var t="<html>";t+="<body>",t+="<div>",t+="<div font-family='Calibri' >",t+="<table BORDER=1 width='100%'>",t+="<tr><th  colspan='4' align='center' bgcolor='A9BCF5'>Case Details</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Customer Number</th><th align='left'>"+e.CaseDetails[0].CustomerNumber+"</th><th align='left' bgcolor='f2f2f2'>Customer Name</th><th align='left'>"+e.CaseDetails[0].CustomerName+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Case Number</th><th align='left'>"+e.CaseDetails[0].CaseNumber+"</th><th align='left' bgcolor='f2f2f2'>Case Status</th><th align='left'>"+e.CaseDetails[0].CaseStatus+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Query Type</th><th align='left'>"+e.CaseDetails[0].QueryType+"</th><th align='left' bgcolor='f2f2f2'>Interaction Medium</th><th align='left'>"+e.CaseDetails[0].InteractionMedium+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Modified Date</th><th align='left'>"+e.CaseDetails[0].ModifiedDate+"</th><th align='left' bgcolor='f2f2f2'>Assigned To</th><th align='left'>"+e.CaseDetails[0].AssignedTo+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Category</th><th align='left'>"+e.CaseDetails[0].Category+"</th><th align='left' bgcolor='f2f2f2'>Sub Category</th><th align='left'>"+e.CaseDetails[0].SubCategory+"</th></tr>",t+="<tr><th align='left' bgcolor='f2f2f2'>Outcome</th><th align='left'>"+e.CaseDetails[0].Outcome+"</th> <th> </th><th> </th> </tr>",t+="</table>",t+="</br></br>",t+="<table width='100%'>",t+="<tr ><th colspan=2 bgcolor='A9BCF5'>Emails</th></tr>";for(var a=e.CaseEmails.length,s=0;s<a;s++){var o="";o+="<tr><td align=left bgcolor=f2f2f2>From</td><td>"+e.CaseEmails[s].From+"</td></tr>",o+="<tr><td align=left bgcolor=f2f2f2>Sent</td><td>"+e.CaseEmails[s].Sent+"</td></tr>",o+="<tr><td align=left bgcolor=f2f2f2>To</td><td>"+e.CaseEmails[s].To+"</td></tr>",o+="<tr><td align=left bgcolor=f2f2f2>Subject</td><td>"+e.CaseEmails[s].Subject+"</td></tr>",o+="<tr><td colspan=2>"+e.CaseEmails[s].Body+"</td></tr>",o+="</br>",t+=o}return t+="</table>",t+="</div>",t+="</body>",t+="</html>",""==t?void alert("Invalid data"):t},getCDMInteractionMedium:function(e,t){var a=this;Komodo.Services.cachedDataService.fetch(t).done(function(t){$.each(t,function(t,s){e==s.key&&a.set("viewCaseModel.interactionType",s.value)})})},publishRequestOnBus:function(e,t,a){var s=Komodo.Services.ManageCaseService,o="Event Message for "+t+" ";s.publishEvent(this,e,t,a).done(function(){Komodo.log(o+" has been published successfully")}).fail(function(e){Komodo.log(o+" has been failed"),Komodo.Controls.MessageBoxController.show(o,e)})},messageCaseOwnerInformedReceived:function(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"notifyOwnerHeader"),kl.value(this.localeCaseHistory+"notifyOwnerSuccess"),Komodo.Controls.MessageBoxOkButton,this,"id5446673","success")},messageFailureMessageEventReceived:function(e){Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")},editCase:function(){Komodo.Services.eventAggregator.publish("editCaseDetails",null)},getFormattedDate:function(e){var t="";if("0001-01-01T00:00:00"===e)return"";if(e){var a=e.split("T"),s=new Date(a[0]),o=s.getDate();o=o<10?"0"+o.toString():o.toString();var i=s.getMonth()+1;i=i<10?"0"+i.toString():i.toString();t=o+"-"+i+"-"+s.getFullYear()}return t},formatDateTimeToDDMMYYYY_HHmm:function(e){var t=new Date(e),a=t.getHours(),s=t.getMinutes();a=a<10?"0"+a:a,s=s<10?"0"+s:s;var o=t.getSeconds(),i=a>=12?"PM":"AM",r=a+":"+s+":"+o+" "+i;return t.getDate()+"-"+parseInt(parseInt(t.getMonth())+parseInt(1))+"-"+t.getFullYear()+" "+r},isArrayEmpty:function(e){return void 0==e||null==e||void 0==e.length||null==e.length||e.length<=0},getItemValueIfExists:function(e,t,a,s,o){var i=this.getItemIfExists(e,t,a,s);return null!=i?Ember.get(i,o):"-"},getItemIfExists:function(e,t,a,s){if(!this.isArrayEmpty(e))for(var o=0;o<e.length;o++)if(Ember.get(e[o],s)==Ember.get(t,a))return e[o];return null},stop:function(){this.isCaseHistoryControllerActive=!0,this.set("isSupervisor",!1),this.set("selectedCaseId",void 0),this.set("actualPageNumber",void 0),this.set("isEmptyNodeExists",!1),this.set("assignee",void 0),Komodo.log("Current Route Name: "+Komodo.Services.uiService.getCurrentRouteName()),this.isElasticSearch=!1,this._super()},getCRMUserRoles:function(){Komodo.Application.ManageCaseSharedObjectController.create().getUserSecurityRole(Komodo.Services.securityService.get("domainUserName"))},getClarityUserRoles:function(){Komodo.Services.securityService.hasPermission("clarity://managecase/supervisor")&&this.set("isSupervisor",!0),this.retrieveCases()},retrieveCases:function(){void 0==this.selectedCaseId?this.getAllCases():this.getSelectedCase(this.selectedCaseId)},getGroupMembers:function(){this.assigneeList=[];var e=Komodo.Application.ManageCaseSharedObjectController.create(),t=Komodo.Services.securityService.get("domainUserName");e.getGroupMembers(t)},clearCaseObject:function(){this.set("caseData",Ember.A())},addEmptyObjectToCase:function(){this.get("caseData").addObject(this.emptyObject)},pushCaseData:function(e){"CASEID"==this.caseSearchVia&&this.resetPagerData();for(var t=0;t<e.length;t++)this.get("caseData").addObject(e[t]),this.isEmptyNodeExists||(this.get("caseData").removeObject(this.emptyObject),this.set("isEmptyNodeExists",!0),1==e.length&&this.set("_virtualPagerPageContent",this.get("caseData")))},assignee:void 0,searchCases:function(){var e=this,t=this.get("sharedObject");switch(CommonFunctions.isNullOrEmpty(this.assignee)&&(this.assignee=Komodo.Services.securityService.get("domainUserName")),e.caseSearchVia){case"DEFAULT":this.set("isSearching",!0),this.actualPageNumber++,t.retrieveInteractionsByFilter(this.actualPageNumber,this.configInterations,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"Case",this.assignee,void 0,void 0,"CaseHistory");break;case"FILTER":var a="",s=this.get("caseHistoryModel").startDate,o=this.get("caseHistoryModel").endDate,i=this.get("caseHistoryModel").status,r=this.get("caseHistoryModel").customerUID,n=this.get("caseHistoryModel.assigneeName");if(e.iseGainFunctionalityEnabled&&this.isFirstLoadAndNormalSearch&&null===i&&(i="2,3,4"),"11"===i&&(i=10),!CommonFunctions.isNullOrEmpty(s)&&!CommonFunctions.isNullOrEmpty(o)){var l=s.toLocaleDateString("sv-SE").split("-"),d=o.toLocaleDateString("sv-SE").split("-"),c=new Date;c.setFullYear(l[0],l[1]-1,l[2]);var u=new Date;u.setFullYear(d[0],d[1]-1,d[2]),u<c&&(a+=kl.value(this.localeCaseHistory+"errorEndDate"))}!CommonFunctions.isNullOrEmpty(s)&&!CommonFunctions.isNullOrEmpty(o)&&a.length>0?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"caseHistoryTitle"),a,null,this,"id123456","warning"):CommonFunctions.isNullOrEmpty(s)&&CommonFunctions.isNullOrEmpty(o)&&CommonFunctions.isNullOrEmpty(i)&&CommonFunctions.isNullOrEmpty(r)&&CommonFunctions.isNullOrEmpty(this.assignee)?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"caseHistoryTitle"),kl.value(this.localeCaseHistory+"selectCriteria"),null,this,"id123456","warning"):CommonFunctions.validatePropertiesIfChanged(this.get("currentFilterParameters"),this.get("caseHistoryModel"),this.propToCheck)?(this.set("isSearching",!0),this.actualPageNumber++,t.retrieveInteractionsByFilter(this.actualPageNumber,this.configInterations,void 0,void 0,r,void 0,i,s,o,void 0,"Case",this.assignee,n,void 0,"CaseHistory")):Komodo.Controls.MessageBoxController.show(kl.value(this.localeCaseHistory+"caseHistoryTitle"),kl.value(this.localeCaseHistory+"caseParameterChanged"),null,this,"id123456","warning")}},collapsibleExporttoExcelLink:function(){return[{action:"exportToExcel",title:kl.value(this.localeCaseHistory+"export"),disabledBinding:"isSearching"}]}.property(),resetPagerData:function(){this.set("_virtualPagerPageContent",Ember.A()),this.set("isEmptyNodeExists",!1),this.clearCaseObject(),this.actualPageNumber=0,this.maxCountReached=!1,this.set("isShowCaseItems",!1)},onCaseDataLengthChanged:function(){var e=this.get("caseData.length");e&&e>0?(this.set("contentLength",e),this.set("isShowCaseItems",!0)):(this.set("contentLength",1),this.set("isShowCaseItems",!1))}.observes("caseData.length"),loadAllCases:function(){var e=this.get("caseHistoryModel");this.canSubmitData(e,kl.value(this.localeCaseHistory+"caseHistoryTitle"),{showInModal:!0})&&(this.resetPagerData(),this.caseSearchVia="FILTER",CommonFunctions.cloneProperties(this.get("caseHistoryModel"),this.get("currentFilterParameters"),this.propToCheck),this.isFirstLoadAndNormalSearch=!0,this.searchCases())},updateCaseOwner:function(e){var t=this,a=Komodo.Models.Case.create();a.set("UID",e),a.set("CaseOwner",Komodo.Services.securityService.get("domainUserName")),Komodo.Services.queryService.postJSON("/CustomerInteraction/AssignCaseToOwner",{data:a}).done(function(a){a&&t.redirectToEditCase(e)}).error(function(e){})},redirectToEditCase:function(e){var t=this;Komodo.Services.ManageCaseService.setEditCaseId(e);var a=Komodo.Services.uiService.getController("editCase");a.set("editCaseUID",e),a.set("isSupervisor",this.isSupervisor),t.transitionToRoute("/editCase")}}),Komodo.Application.CreateCaseController=Komodo.UI.Controller.extend({localeCreateCase:"locale.manageCase:createCase.",localeEditCase:"locale.manageCase:editCase.",interactionTypelst:[],interactionTypelstMaster:[],categorylst:[],interactioncategorylst:[],casecategorylst:[],subCategorylst:[],outcomelst:[],assignedTolst:[],methodofPaymentlst:[],customerInfo:void 0,queryTypelst:[],caseQueryTypelst:[],contactTypeLst:[],householdMembersList:[],caseStatuslst:[],unresolvedKey:void 0,completedKey:void 0,enteredNumber:void 0,countriesWithCodes:[],country:void 0,countryCanonicalId:void 0,caseFileUploader:void 0,caseNumber:void 0,isSaveDocPublished:void 0,isCase:!1,isCaseFeatureEnabled:!1,isInteractionFeatureEnabled:!0,isCaseSelected:!1,isInteractionSelected:!0,dataSetName:void 0,contactDetailType:void 0,init:function(){Komodo.log("Constructing Create Case controller"),this.set("processVersion","v1.1"),this.set("processName","Create Case"),this.set("caseOrInteraction",[]),this._super()},start:function(){var e=this;this.set("createCaseModel",Komodo.Models.CreateCaseModel.create()),this.set("caseDocumentModel",Komodo.Models.CaseDocumentsModel.create()),this.caseDocumentModel.set("caseDocuments",[]),this.registerValidation(),this.createCaseModel.set("interacteeName",""),this.clearDropDowns(),this.clearControls(),Komodo.Services.featureToggleService.isEnabled("ManageCase","CreateCase").done(function(t){e.isCaseFeatureEnabled=t}).fail(function(e){Komodo.Services.log("Error while checking case enabling feature. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("ManageCase","CreateInteraction").done(function(t){e.isInteractionFeatureEnabled=t}).fail(function(e){Komodo.Services.log("Error while checking interaction enabling feature. Error Details:"+e)}),this.getHierachicalCDMData(),this.createCaseModel.set("isDisableSubmitButton",!0),this.createCaseModel.set("isDisableStatusDropdown",!0),this.createCaseModel.set("customerUID",void 0),this.createCaseModel.set("contactPerson",void 0),this.createCaseModel.set("customerSurname",void 0),this.createCaseModel.set("customerName",void 0),this.createCaseModel.set("isUnderCaseGroup",void 0),this.subscribeHouseholdMembersResultError(),this.subscribeHouseholdMembersResultReceived(),this.subscribeAssigneeListResultError(),this.subscribeAssigneeListResultReceived();var t=Komodo.Services.ProductAndServiceMaintenanceHelper.create(),a=t.isCustomerIdIsAvailableToRetriveData(),s=t.getCustomerIdToRetrieveData(),o=t.getCustomerDetails();if("manage-case"===Komodo.Services.navigationService._activeGroup)this.createCaseModel.set("isUnderCaseGroup",!0),this.createCaseModel.set("interactionType",void 0),this.invisibleControls(),this.getCDMdata(),this.setCaseOrInteractionArray(),this.fillAssigneeList(),this.createCaseModel.set("isDisableSubmitButton",!0);else{if(this.createCaseModel.set("isUnderCaseGroup",!1),!a)return void Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"customerUnavailable"),kl.value(this.localeCreateCase+"customerUnavailableMsg"));var i=this.get("createCaseModel");i.set("customerUID",s),i.set("existTelephoneNo",o.mobileNo),i.set("interacteeName",this.getInteracteeName(o)),this.getCDMdata(),this.setCaseOrInteractionArray(),this.invisibleControls(),this.fillHouseholdMemberDetails(),this.fillAssigneeList()}this._super()},getInteracteeName:function(e){var t=this.get("createCaseModel"),a="";return Ember.isEmpty(e.firstName)||(firstName=!0,t.set("customerName",e.firstName),a=e.firstName),Ember.isEmpty(e.lastName)?a=e.lastName:(t.set("customerSurname",e.lastName),a+=" "+e.lastName),a},setCaseOrInteractionArray:function(){var e=this;this.get("caseOrInteraction").clear(),e.get("isInteractionFeatureEnabled")&&this.get("caseOrInteraction").addObject({title:kl.value(this.localeCreateCase+"interaction"),value:"false"}),e.get("isCaseFeatureEnabled")&&this.get("caseOrInteraction").addObject({title:kl.value(this.localeCreateCase+"case"),value:"true"}),e.get("isInteractionFeatureEnabled")&&e.get("isCaseFeatureEnabled")?this.set("createCaseModel.isCase","false"):e.get("isCaseFeatureEnabled")?this.set("createCaseModel.isCase","true"):this.set("createCaseModel.isCase","false")},stop:function(){this.clearControls(),this.clearDropDowns(),this._super()},registerValidation:function(){this.registerValidator(this.get("createCaseModel"),"interacteeName",{isRequired:!0,minLength:1,maxLength:60,functions:Komodo.UI.Validators.firstNameAndLastNameValidator}),this.registerValidator(this.get("createCaseModel"),"queryType",{isRequired:!0}),this.registerValidator(this.get("createCaseModel"),"interactionType",{isRequired:!0}),this.registerValidator(this.get("createCaseModel"),"category",{isRequired:!0}),this.registerValidator(this.get("createCaseModel"),"subCategory",{isRequired:!0}),this.registerValidator(this.get("createCaseModel"),"outcome",{isRequired:!0}),this.registerValidator(this.get("createCaseModel"),"amountPaid",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"amountPaid")}),this.registerValidator(this.get("createCaseModel"),"amountCustomerListedFor",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"amountCustomerListedFor")}),this.registerValidator(this.get("createCaseModel"),"amount",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"amount")}),this.registerValidator(this.get("createCaseModel"),"paymentDate",{isRequired:!1,type:"date",displayName:"Payment Date",maxDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+1)}),this.registerValidator(this.get("createCaseModel"),"Hours",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"paymentTime")}),this.registerValidator(this.get("createCaseModel"),"Minutes",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"paymentTime")}),this.registerValidator(this.get("createCaseModel"),"device",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"device")}),this.registerValidator(this.get("createCaseModel"),"SCNumber",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"smartcardNumber")}),this.registerValidator(this.get("createCaseModel"),"methodofPayment",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"methodofPayment")}),this.registerValidator(this.get("createCaseModel"),"paymentReferenceNumber",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"paymentRefNum")}),this.registerValidator(this.get("createCaseModel"),"deviceType",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"deviceType")}),this.registerValidator(this.get("createCaseModel"),"placePaymentwasMade",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"placePaymentMade")}),this.registerValidator(this.get("createCaseModel"),"accusedPartyName",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"accusedPartyName")}),this.registerValidator(this.get("createCaseModel"),"badDebtWrittenAmount",{isRequired:!1,limitValueToType:!0,type:"number",displayName:kl.value(this.localeCreateCase+"badDebtAmt")}),this.registerValidator(this.get("createCaseModel"),"reason",{isRequired:!1,displayName:kl.value(this.localeCreateCase+"reason")}),this.registerValidator(this.get("createCaseModel"),"notes",{isRequired:!0,maxLength:1e3,displayName:kl.value(this.localeCreateCase+"notes")}),this.registerValidator(this.get("createCaseModel"),"telephoneCode",{isRequired:!1,limitValueToType:!0,minlength:2,maxLength:4,type:"number",displayName:kl.value(this.localeCreateCase+"code")}),this.registerValidator(this.get("createCaseModel"),"telephoneNumber",{isRequired:!1,limitValueToType:!0,minlength:7,maxLength:10,type:"number",displayName:kl.value(this.localeCreateCase+"phoneNumber")})},createDependentProperty:function(e,t){var a=this;t.forEach(function(t){void 0!==a.get("validators."+e)&&a.get("validators."+e).functions.addObject(t)}),void 0!==a.get("validators."+e)&&a.get("validators."+e).validate()},removeDependentProperty:function(e){var t=this;void 0!==t.get("validators."+e)&&(t.get("validators."+e).functions.clear(),t.get("validators."+e).validate())},userName:function(){return Komodo.Services.securityService.get("currentUser").substring(3)},getHierachicalCDMData:function(){var e=$.Deferred(),t=this,a=void 0;return Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(s){a=s.data,t.set("countryCanonicalId",a.countryId),Komodo.Services.cachedDataService.fetch("Country").done(function(e){$.each(e,function(e,s){a.countryDescription===s.value&&t.set("countryCanonicalId",s.key)})}),e.resolve()}),Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(e){Komodo.Services.cachedDataService.fetch("CountryDetail",{domain:e.data.countryId,qualifier:Komodo.Services.localizationService.getCurrentLanguage()}).done(function(e){var s=JSON.parse(e);$.each(s.Countries.Country,function(e,s){a.countryDescription===s.CanonicalValue&&s.DialingCode.length>0&&t.createCaseModel.set("telephoneCode",s.DialingCode)})}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for "+dataSet)})}),e},getCDMdata:function(){var e=this,t=$.Deferred();"zaf"===e.countryCanonicalId?(Komodo.Services.cachedDataService.fetch("restrictedCaseDetail").done(function(a){var s=JSON.parse(a);e.get("casecategorylst").clear(),e.get("interactioncategorylst").clear();var o=s.CaseCategories.CaseCategory.sort(this.sortString);$.each(o,function(t,a){e.chkCaseOrActivityForCase(a,"Category")&&e.get("casecategorylst").addObject(a),
e.chkCaseOrActivityForInteraction(a,"Category")&&e.get("interactioncategorylst").addObject(a)}),t.resolve()}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"createCase"),"<strong>"+kl.value(e.localeCreateCase+"caseCategoryFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}),Komodo.Services.cachedDataService.fetch("CaseQueryType").done(function(t){t=t.sort(this.sortString);var a=[];if($.isArray(t))$.each(t,function(e,t){var s={CanonicalKey:t.key,CanonicalValue:t.value};a.addObject(s)});else if(null!==t&&void 0!==t&&""!==t){var s={CanonicalKey:t.key,CanonicalValue:t.value};a.addObject(s)}e.set("queryTypelst",a)}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"createCase"),"<strong>"+kl.value(e.localeCreateCase+"queryTypeFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})):Komodo.Services.cachedDataService.fetch("interactionDetail").done(function(a){var s=JSON.parse(a);e.get("casecategorylst").clear(),e.get("interactioncategorylst").clear(),e.get("caseQueryTypelst").clear();var o=s.CaseQueryTypes.CaseQueryType.sort(this.sortString);$.each(o,function(t,a){e.chkQueryTypeCaseOrActivityForCase(a,"QueryType")&&e.get("caseQueryTypelst").addObject(a)}),Komodo.Services.cachedDataService.fetch("caseDetail").done(function(a){var s=JSON.parse(a);e.get("casecategorylst").clear(),e.get("interactioncategorylst").clear();var o=s.CaseCategories.CaseCategory.sort(this.sortString);$.each(o,function(t,a){e.chkCaseOrActivityForCase(a,"Category")&&e.get("casecategorylst").addObject(a)}),t.resolve()}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"createCase"),"<strong>"+kl.value(e.localeCreateCase+"caseCategoryFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"createCase"),"<strong>"+kl.value(e.localeCreateCase+"caseCategoryFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}),Komodo.Services.cachedDataService.fetch("ContactDetailType").done(function(t){var a=t.sort(this.sortString);$.each(a,function(t,a){"4"!==a.key&&e.get("contactTypeLst").addObject(a)})}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"createCase"),"<strong>"+kl.value(e.localeCreateCase+"queryTypeFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}),Komodo.Services.cachedDataService.fetch("InteractionMedium").done(function(t){t=t.sort(this.sortString),e.set("interactionTypelst",t),e.set("interactionTypelstMaster",t)}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"createCase"),"<strong>"+kl.value(e.localeCreateCase+"interactionTypeFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}),Komodo.Services.cachedDataService.fetch("CaseStatus").done(function(t){e.get("caseStatuslst").clear(),$.each(t,function(t,a){e.get("isInteractionFeatureEnabled")&&"1"===a.key&&(e.get("caseStatuslst").addObject(a),e.completedKey=a.key,e.createCaseModel.set("statusID",a.key)),e.get("isCaseFeatureEnabled")&&"2"==a.key&&(e.get("caseStatuslst").addObject(a),e.unresolvedKey=a.key,e.createCaseModel.set("statusID",a.key))})}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"createCase"),"<strong>"+kl.value(e.localeCreateCase+"statusFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")});var e=this;return this.set("methodofPaymentlst",[]),Komodo.Services.cachedDataService.fetch("MethodOfPayment").done(function(t){e.get("methodofPaymentlst").clear(),$.each(t,function(t,a){e.get("methodofPaymentlst").addObject(a)})}).fail(function(){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"createCase"),"<strong>"+kl.value(e.localeCreateCase+"mopFailMsg")+"</strong>",Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}),t},sortString:function(e,t){var a=e.CanonicalValue.toUpperCase(),s=t.CanonicalValue.toUpperCase();return a<s?-1:a>s?1:0},caseQueryTypeChanged:function(){if("zaf"!==this.countryCanonicalId&&this.get("isInteractionSelected")){var e=this;this.set("categorylst",[]),this.set("subCategorylst",[]),this.set("outcomelst",[]),e.createCaseModel.get("queryType")&&$.each(e.get("queryTypelst"),function(t,a){if($.isArray(a.CaseCategories.CaseCategory)&&e.createCaseModel.get("queryType")===a.CanonicalKey){var s=a.CaseCategories.CaseCategory.sort(this.sortString);$.each(s,function(t,a){e.get("categorylst").addObject(a)})}else e.createCaseModel.get("queryType")===a.CanonicalKey&&e.get("categorylst").addObject(a.CaseCategories.CaseCategory)})}}.observes("createCaseModel.queryType"),caseCategoryChanged:function(){var e=this;this.set("subCategorylst",[]),this.set("outcomelst",[]),e.invisibleControls(),e.createCaseModel.set("subCategory",void 0),e.createCaseModel.set("outcome",void 0),e.get("isCaseSelected")?e.createCaseModel.get("category")&&$.each(e.get("categorylst"),function(t,a){if(a.CanonicalKey===e.createCaseModel.get("category")&&a.CaseSubCategories&&a.CaseSubCategories.CaseSubCategory)if($.isArray(a.CaseSubCategories.CaseSubCategory)){var s=a.CaseSubCategories.CaseSubCategory.sort(this.sortString);$.each(s,function(t,a){e.chkCaseOrActivityForCase(a,"SubCategory")&&e.get("subCategorylst").addObject(a)})}else e.chkCaseOrActivityForCase(a.CaseSubCategories.CaseSubCategory,"SubCategory")&&e.get("subCategorylst").addObject(a.CaseSubCategories.CaseSubCategory)}):e.get("isInteractionSelected")&&e.createCaseModel.get("category")&&$.each(e.get("categorylst"),function(t,a){if(a.CanonicalKey===e.createCaseModel.get("category")&&a.CaseSubCategories&&a.CaseSubCategories.CaseSubCategory)if($.isArray(a.CaseSubCategories.CaseSubCategory)){var s=a.CaseSubCategories.CaseSubCategory.sort(this.sortString);$.each(s,function(t,a){e.chkCaseOrActivityForInteraction(a,"SubCategory")&&e.get("subCategorylst").addObject(a)})}else e.chkCaseOrActivityForInteraction(a.CaseSubCategories.CaseSubCategory,"SubCategory")&&e.get("subCategorylst").addObject(a.CaseSubCategories.CaseSubCategory)})}.observes("createCaseModel.category"),caseSubCategoryChanged:function(){var e=this;e.invisibleControls(),e.createCaseModel.set("outcome",void 0),this.set("outcomelst",[]),e.createCaseModel.get("subCategory")&&$.each(e.get("subCategorylst"),function(t,a){if(a.CanonicalKey===e.createCaseModel.get("subCategory")&&a.CaseOutcomes&&a.CaseOutcomes.CaseOutcome)if($.isArray(a.CaseOutcomes.CaseOutcome)){var s=a.CaseOutcomes.CaseOutcome.sort(this.sortString);$.each(s,function(t,a){$.isArray(a.CaseStatuses.CaseStatus)?(e.get("isInteractionFeatureEnabled")&&"1"===a.CaseStatuses.CaseStatus[0].CanonicalKey&&e.get("isInteractionSelected")||e.get("isCaseFeatureEnabled")&&a.CaseStatuses.CaseStatus[0].CanonicalKey>1&&e.get("isCaseSelected"))&&e.get("outcomelst").addObject(a):null!=a.CaseStatuses.CaseStatus&&(e.get("isInteractionFeatureEnabled")&&"1"===a.CaseStatuses.CaseStatus.CanonicalKey&&e.get("isInteractionSelected")||e.get("isCaseFeatureEnabled")&&a.CaseStatuses.CaseStatus.CanonicalKey>1&&e.get("isCaseSelected"))&&e.get("outcomelst").addObject(a)})}else $.isArray(a.CaseOutcomes.CaseOutcome.CaseStatuses.CaseStatus)?(e.get("isInteractionFeatureEnabled")&&"1"===a.CaseOutcomes.CaseOutcome.CaseStatuses.CaseStatus[0].CanonicalKey&&e.get("isInteractionSelected")||e.get("isCaseFeatureEnabled")&&a.CaseOutcomes.CaseOutcome.CaseStatuses.CaseStatus[0].CanonicalKey>1&&e.get("isCaseSelected"))&&e.get("outcomelst").addObject(a.CaseOutcomes.CaseOutcome):null!=a.CaseOutcomes.CaseOutcome.CaseStatuses.CaseStatus&&(e.get("isInteractionFeatureEnabled")&&"1"===a.CaseOutcomes.CaseOutcome.CaseStatuses.CaseStatus.CanonicalKey&&e.get("isInteractionSelected")||e.get("isCaseFeatureEnabled")&&a.CaseOutcomes.CaseOutcome.CaseStatuses.CaseStatus.CanonicalKey>1&&e.get("isCaseSelected"))&&e.get("outcomelst").addObject(a.CaseOutcomes.CaseOutcome);else if(a.CanonicalKey===e.createCaseModel.get("subCategory")&&void 0!==a.CaseOutcomeKey&&""!==a.CaseOutcomeKey){var o={CanonicalKey:a.CaseOutcomeKey,CanonicalValue:a.CaseOutcomeValue};e.get("outcomelst").addObject(o)}})}.observes("createCaseModel.subCategory"),caseOutcomeChanged:function(){var e=this;e.invisibleControls(),e.createCaseModel.get("outcome")?(e.clearControls(),e.createCaseModel.set("isDisableSubmitButton",!1),$.each(e.get("outcomelst"),function(t,a){if(a.CanonicalKey===e.createCaseModel.get("outcome"))if(a.CaseStatuses&&a.CaseStatuses.CaseStatus)if($.isArray(a.CaseStatuses.CaseStatus))$.each(a.CaseStatuses.CaseStatus,function(t,a){var s=a.CanonicalKey;$.each(e.get("caseStatuslst"),function(t,a){a.key===s&&e.createCaseModel.set("statusID",a.key)}),e.visibleControls(),e.isCase=!1,"1"!==s&&(e.isCase=!0,Ember.isEmpty(a.CasePriorityValue)||(e.createCaseModel.set("priority",a.CasePriorityValue),e.createCaseModel.set("priorityID",a.CasePriorityKey)),e.enableConditionalGroup(),e.enableValidators())});else{var s=a.CaseStatuses.CaseStatus.CanonicalKey;$.each(e.get("caseStatuslst"),function(t,a){a.key===s&&e.createCaseModel.set("statusID",a.key)}),e.invisibleControls(),e.isCase=!1,"1"!==s&&(e.visibleControls(),e.isCase=!0,Ember.isEmpty(a.CaseStatuses.CaseStatus.CasePriorityValue)||(e.createCaseModel.set("priority",a.CaseStatuses.CaseStatus.CasePriorityValue),e.createCaseModel.set("priorityID",a.CaseStatuses.CaseStatus.CasePriorityKey)),e.enableConditionalGroup(),e.enableValidators())}else e.clearControls(),e.invisibleControls()})):(e.createCaseModel.set("isDisableSubmitButton",!0),e.clearControls())}.observes("createCaseModel.outcome"),clearControls:function(){this.createCaseModel.set("device",void 0),this.createCaseModel.set("deviceType",void 0),this.createCaseModel.set("methodofPayment",void 0),this.createCaseModel.set("smartcardNumber",void 0),this.createCaseModel.set("amountPaid",void 0),this.createCaseModel.set("paymentReferenceNumber",void 0),this.createCaseModel.set("placePaymentwasMade",void 0),this.createCaseModel.set("notes",void 0),this.createCaseModel.set("priority",void 0),this.createCaseModel.set("priorityID",void 0),this.createCaseModel.set("channelName",void 0),this.createCaseModel.set("softwareVersion",void 0),this.createCaseModel.set("loaderVersion",void 0),this.createCaseModel.set("bouquet",void 0),this.createCaseModel.set("reason",void 0),this.createCaseModel.set("supportingDocs",void 0),this.createCaseModel.set("amountCustomerListedFor",void 0),this.createCaseModel.set("badDebtWrittenAmount",void 0),this.createCaseModel.set("accusedPartyName",void 0),this.createCaseModel.set("paymentDate",void 0),this.createCaseModel.set("Hours",void 0),this.createCaseModel.set("Minutes",void 0),this.createCaseModel.set("amount",void 0),this.createCaseModel.set("contactType",void 0),this.createCaseModel.set("SCNumber",void 0),this.removeDependentProperty("deviceValidator"),this.removeDependentProperty("SCNumberValidator"),this.removeDependentProperty("paymentDateValidator"),this.removeDependentProperty("methodofPaymentValidator"),this.removeDependentProperty("amountPaidValidator"),this.removeDependentProperty("amountValidator"),this.removeDependentProperty("paymentReferenceNumberValidator"),this.removeDependentProperty("deviceTypeValidator"),this.removeDependentProperty("placePaymentwasMadeValidator"),this.removeDependentProperty("reasonValidator"),this.removeDependentProperty("accusedPartyNameValidator"),this.removeDependentProperty("badDebtWrittenAmountValidator"),this.removeDependentProperty("amountCustomerListedForValidator"),this.createCaseModel.set("isGroup1",void 0),this.createCaseModel.set("isGroup2",void 0),this.createCaseModel.set("isGroup3",void 0),this.createCaseModel.set("isGroup4",void 0),this.createCaseModel.set("isGroup5",void 0),this.createCaseModel.set("isGroup6",void 0),this.createCaseModel.set("isGroup7",void 0),this.createCaseModel.set("isGroup8",void 0),this.createCaseModel.set("isGroup9",void 0)},clearDropDowns:function(){this.set("interactionTypelst",[]),this.set("categorylst",[]),this.set("interactioncategorylst",[]),this.set("casecategorylst",[]),this.set("subCategorylst",[]),this.set("outcomelst",[]),this.set("deviceTypelst",[]),this.set("devicelst",[]),this.set("methodofPaymentlst",[]),this.set("queryTypelst",[]),this.set("contactTypeLst",[])},clearCustomerInformation:function(){"manage-case"===Komodo.Services.navigationService._activeGroup&&(this.createCaseModel.set("customerUID",void 0),this.createCaseModel.set("customerName",void 0),this.createCaseModel.set("customerSurname",void 0)),this.createCaseModel.set("contactType",void 0),this.createCaseModel.set("contactPerson",void 0),this.createCaseModel.set("telephoneCode",void 0),this.createCaseModel.set("telephoneNumber",void 0),this.createCaseModel.set("householdMember",void 0),this.createCaseModel.set("status",this.unresolvedKey)},visibleControls:function(){this.createCaseModel.set("isPriority",!0),this.createCaseModel.set("isPriorityLabel",!0)},invisibleControls:function(){this.createCaseModel.set("isPriority",!1),this.createCaseModel.set("isPriorityLabel",!1)},onNotesChanged:function(){if(!Ember.isEmpty(this.createCaseModel.get("notes"))&&this.createCaseModel.get("notes").length>1e3){var e=this.createCaseModel.get("notes").substring(0,1e3);this.createCaseModel.set("notes",e)}}.observes("createCaseModel.notes"),onSelectCaseOrInteraction:function(){var e=this;if(this.set("categorylst",[]),this.set("subCategorylst",[]),this.set("outcomelst",[]),this.set("createCaseModel.queryType",void 0),this.set("createCaseModel.category",void 0),"true"===e.get("createCaseModel.isCase")){this.isCaseSelected=!0,this.isInteractionSelected=!1,this.set("categorylst",e.get("casecategorylst"));var t=[];$.each(this.get("interactionTypelst"),function(e,a){"10"!==a.key&&"12"!==a.key&&t.push(a)}),this.set("interactionTypelst",t),$.each(e.get("caseStatuslst"),function(t,a){"2"===a.key&&e.get("createCaseModel").set("statusID",a.key)})}else"false"===e.get("createCaseModel.isCase")&&"zaf"===e.countryCanonicalId?(this.isCaseSelected=!1,this.isInteractionSelected=!0,this.set("categorylst",e.get("interactioncategorylst")),this.set("interactionTypelst",e.get("interactionTypelstMaster")),$.each(e.get("caseStatuslst"),function(t,a){"1"===a.key&&e.get("createCaseModel").set("statusID",a.key)})):"false"===e.get("createCaseModel.isCase")&&"zaf"!==e.countryCanonicalId&&(this.isCaseSelected=!1,this.isInteractionSelected=!0,this.set("queryTypelst",[]),this.set("queryTypelst",e.get("caseQueryTypelst")),this.set("interactionTypelst",e.get("interactionTypelstMaster")),$.each(e.get("caseStatuslst"),function(t,a){"1"===a.key&&e.get("createCaseModel").set("statusID",a.key)}))}.observes("createCaseModel.isCase"),chkQueryTypeCaseOrActivityForCase:function(e,t){if("QueryType"===t)for(var a=$.makeArray(e.CaseCategories.CaseCategory),s=0;s<a.length;s++){var o=a[s],i=this.chkCaseOrActivityForCase(o,"Category");if(i)return!0}else if("Category"===t)return this.chkCaseOrActivityForCase(e,"Category");return!1},chkCaseOrActivityForCase:function(e,t){if("Category"===t)for(var a=$.makeArray(e.CaseSubCategories.CaseSubCategory),s=0;s<a.length;s++){var o=a[s],i=this.chkSubcategoryForCaseOrActivity(o,!0);if(i)return!0}else if("SubCategory"===t)return this.chkSubcategoryForCaseOrActivity(e,!0);return!1},chkCaseOrActivityForInteraction:function(e,t){if("Category"===t)for(var a=$.makeArray(e.CaseSubCategories.CaseSubCategory),s=0;s<a.length;s++){var o=a[s],i=this.chkSubcategoryForCaseOrActivity(o,!1);if(i)return!0}else if("SubCategory"===t)return this.chkSubcategoryForCaseOrActivity(e,!1);return!1},chkSubcategoryForCaseOrActivity:function(e,t){var a=this;if(!(e&&e.CaseOutcomes&&e.CaseOutcomes.CaseOutcome))return!0;for(var s=$.makeArray(e.CaseOutcomes.CaseOutcome),o=0;o<s.length;o++){var i=s[o];if(i&&i.CaseStatuses&&i.CaseStatuses.CaseStatus){var r=$.makeArray(i.CaseStatuses.CaseStatus);if(r&&r[0]){if(a.get("isCaseFeatureEnabled")&&t&&r[0].CanonicalKey>1)return!0;if(a.get("isInteractionFeatureEnabled")&&!t&&"1"===r[0].CanonicalKey)return!0}}}return!1},fillHouseholdMemberDetails:function(){this.set("householdMembersList",[]);var e=Komodo.Services.ProductAndServiceMaintenanceHelper.create();if(e.isCustomerIdIsAvailableToRetriveData()){var t=e.getCustomerIdToRetrieveData();Komodo.Application.ManageCaseSharedObjectController.create().getHouseHoldMembers(t)}},fillAssigneeList:function(){this.set("assignedTolst",[]);Komodo.Services.ProductAndServiceMaintenanceHelper.create();Komodo.Application.ManageCaseSharedObjectController.create().getAssigneeList()},bindHouseholdMembers:function(){var e=Komodo.Services.ManageCaseService.householdMembersList;if(Ember.isEmpty(e))Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"error"),kl.value(this.localeCreateCase+"householdErrorMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");else if(e.Consumer.length>0){this.set("householdMembersList",[]);for(var t=0;t<e.Consumer.length;t++){var a={Key:e.Consumer[t].UID,Value:e.Consumer[t].ConsumerDetail.FirstName+" "+e.Consumer[t].ConsumerDetail.Surname};this.householdMembersList.push(a)}this.createCaseModel.set("householdMembers",void 0)}},bindAssigneeList:function(){var e=Komodo.Services.ManageCaseService.AssigneeList;if(this.set("assignedTolst",[]),Ember.isEmpty(e))Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"error"),kl.value(this.localeCreateCase+"assigneeErrorMsg"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");else if(e.Team.length>0)for(var t=0;t<e.Team.length;t++){var a={Key:e.Team[t].TeamGuid,Value:e.Team[t].TeamName};this.assignedTolst.push(a)}},enableConditionalGroup:function(){var e=this,t=void 0,a=KomodoManageConfiguration.ConditionalGroups;$.each(a.ConditionalGroups.ConditionalGroup,function(a,s){var o=s.Category,i=s.subcategory,r=s.OutCome.split(",");$.each(r,function(a,r){o===e.createCaseModel.get("category")&&i===e.createCaseModel.get("subCategory")&&r===e.createCaseModel.get("outcome")&&(t=s.Group)})}),this.createCaseModel.set("is"+t,!0)},removeDocument:function(e){var t=e._parentView._childViews[0].text,a=this.get("caseDocumentModel"),s=-1;$(a.caseDocuments).each(function(e,a){a.documentName===t&&(s=e)}),s>-1&&(a.caseDocuments.removeAt(s),a.fileUploader.files.removeAt(s))},actions:{submitCreateCase:function(){this.validateAndPublishCreateCase()},cancelCase:function(){this.createCaseModel.set("category",void 0),this.createCaseModel.set("subCategory",void 0),this.createCaseModel.set("outcome",void 0),this.createCaseModel.set("interactionType",void 0),"manage-case"===Komodo.Services.navigationService._activeGroup&&(this.createCaseModel.set("customerUID",void 0),this.createCaseModel.set("customerName",void 0),this.createCaseModel.set("customerSurname",void 0)),this.createCaseModel.set("contactPerson",void 0),this.createCaseModel.set("telephoneNumber",void 0),this.createCaseModel.set("telephoneCode",void 0),this.createCaseModel.set("householdMember",void 0),this.createCaseModel.set("queryType",void 0),this.caseDocumentModel.set("caseDocuments",[]),Ember.isEmpty(this.unresolvedKey)||this.createCaseModel.set("statusID",this.unresolvedKey),this.clearControls(),this.getHierachicalCDMData()},removeDocument:function(e){this.removeDocument(e)}},enableValidators:function(){var e=this.getCRMRules();if(!Ember.isEmpty(e)){var t=e.split(","),a=this;$.each(t,function(e,t){switch(t){case"Device":a.createDependentProperty("deviceValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"SmartCardNumber":a.createDependentProperty("SCNumberValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"DateOfPayment":a.createDependentProperty("paymentDateValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.DatePickerValidator]);break;case"MethodOfPayment":a.createDependentProperty("methodofPaymentValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"AmountPaid":a.createDependentProperty("amountPaidValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"Amount":a.createDependentProperty("amountValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"PaymentReferenceNumber":a.createDependentProperty("paymentReferenceNumberValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"DeviceType":a.createDependentProperty("deviceTypeValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"PlaceOfPayment":a.createDependentProperty("placePaymentwasMadeValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"Reason":a.createDependentProperty("reasonValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"AccusedPartyName":a.createDependentProperty("accusedPartyNameValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"BadDebtWrittenOffAmount":a.createDependentProperty("badDebtWrittenAmountValidator",[Komodo.UI.Validators.RequiredValidator]);break;case"AmountCustomerListedFor":a.createDependentProperty("amountCustomerListedForValidator",[Komodo.UI.Validators.RequiredValidator])}})}},validateCRMRules:function(){var e="";this.getCRMRules();return e=this.checkHoursAndMinutes(e,this.createCaseModel.get("Hours"),"validHrsMsg","hrsRangeMsg",23,0),e=this.checkHoursAndMinutes(e,this.createCaseModel.get("Minutes"),"validMinuitsMsg","minuitsRangeMsg",59,0),Ember.isEmpty(this.createCaseModel.get("telephoneNumber"))?this.set("enteredNumber",void 0):Ember.isEmpty(this.createCaseModel.get("telephoneCode"))?e=this.getErrorMessage(e,"codeMandatoryMsg"):isNaN(this.createCaseModel.get("telephoneCode"))&&isNaN(this.createCaseModel.get("telephoneNumber"))?e=this.getErrorMessage(e,"validcodePhone"):isNaN(this.createCaseModel.get("telephoneNumber"))?e=this.getErrorMessage(e,"validPhoneNumberMsg"):isNaN(this.createCaseModel.get("telephoneCode"))?e=this.getErrorMessage(e,"validCodeMsg"):this.set("enteredNumber",this.createCaseModel.get("telephoneCode")+this.createCaseModel.get("telephoneNumber")),Ember.isEmpty(this.createCaseModel.get("contactPerson"))||this.chkSpecialCharecter(this.createCaseModel.get("contactPerson"))||(e=this.getErrorMessage(e,"validContactPersonMsg")),Ember.isEmpty(this.createCaseModel.get("notes"))&&(e=this.getErrorMessage(e,"notesRequiredMessage")),""===e||(Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"createCase"),e,null,this,"id123456","warning"),!1)},checkHoursAndMinutes:function(e,t,a,s,o,i,r){return Ember.isEmpty(t)||(isNaN(t)?e=this.getErrorMessage(e,s):(t>i||t<r||-1!==t.indexOf("."))&&(e=this.getErrorMessage(e,o))),e},getErrorMessage:function(e,t){return e+=""!==e?","+kl.value(this.localeCreateCase+t):kl.value(this.localeCreateCase+t)},chkSpecialCharecter:function(e){for(var t="!`@#$%^&*()+=-[]\\';,/{}|\":<>?~_",a=0;a<e.length;a++)if(-1!==t.indexOf(e.charAt(a)))return!1;return!0},getCRMRules:function(){var e,t=this,a=KomodoManageConfiguration.CRMRules;return $.each(a.CRMRules.CRMRule,function(a,s){s.Category===t.createCaseModel.get("category")&&s.subcategory===t.createCaseModel.get("subCategory")&&s.OutCome===t.createCaseModel.get("outcome")&&(e=s.field)}),e},validateAndPublishCreateCase:function(){var e=this.get("createCaseModel");this.canSubmitData(e,kl.value(this.localeCreateCase+"createCase"),{showInModal:!0})&&this.validateCRMRules()&&(this.createCaseModel.set("isDisableSubmitButton",!0),this.createCaseModel.set("isDisableCancelButton",!0),this.publishCreateCase())},publishCreateCase:function(){var e=Komodo.Models.CreateInteraction.create(),t=Komodo.Models.Case.create(),a=Komodo.canonicalFacadeFactory(e,["Country","Case","ListOfCaseData_CaseData"]),s=void 0;Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(e){s=e.data.countryDescription}),t.set("Type","Case"),t.set("CustomerUID",this.createCaseModel.get("customerUID")),t.set("InteracteeName",this.createCaseModel.get("interacteeName")),t.set("ContactPerson",this.createCaseModel.get("contactPerson")),Ember.isEmpty(this.enteredNumber)?t.set("ContactPersonNumber",this.createCaseModel.get("existTelephoneNo")):t.set("ContactPersonNumber",this.enteredNumber),t.set("InteractionLocation",s),t.set("InteractionMedium",this.createCaseModel.get("interactionType")),t.set("QueryType",this.createCaseModel.get("queryType")),t.set("Category",this.createCaseModel.get("category")),t.set("SubCategory",this.createCaseModel.get("subCategory")),t.set("Outcome",this.createCaseModel.get("outcome")),t.set("Priority",this.createCaseModel.get("priorityID")),t.set("Status",this.createCaseModel.get("statusID")),Ember.isEmpty(this.createCaseModel.get("householdMember"))||t.set("HouseholdMemberUID",this.createCaseModel.get("householdMember")),t.set("Notes",this.createCaseModel.get("notes")),t.set("CreatedDate",new Date);var o=[];if(this.isCase||(o=this.setCaseData("Interaction Type","Manual",o)),Ember.isEmpty(this.createCaseModel.get("methodofPayment"))||(o=this.setCaseData("Method of payment",this.createCaseModel.get("methodofPayment"),o)),Ember.isEmpty(this.createCaseModel.get("placePaymentwasMade"))||(o=this.setCaseData("Place payment was made",this.createCaseModel.get("placePaymentwasMade"),o)),!Ember.isEmpty(this.createCaseModel.get("paymentDate"))){var i=void 0;i=Ember.isEmpty(this.createCaseModel.get("Hours"))||Ember.isEmpty(this.createCaseModel.get("Minutes"))?Ember.isEmpty(this.createCaseModel.get("Hours"))?Ember.isEmpty(this.createCaseModel.get("Minutes"))?this.createCaseModel.get("paymentDate").toLocaleDateString("sv-SE")+" 00:00":this.createCaseModel.get("paymentDate").toLocaleDateString("sv-SE")+" 00:"+this.createCaseModel.get("Minutes"):this.createCaseModel.get("paymentDate").toLocaleDateString("sv-SE")+" "+this.createCaseModel.get("Hours")+":00":this.createCaseModel.get("paymentDate").toLocaleDateString("sv-SE")+" "+this.createCaseModel.get("Hours")+":"+this.createCaseModel.get("Minutes"),o=this.setCaseData("Date of payment",i,o)}Ember.isEmpty(this.createCaseModel.get("amountPaid"))||(o=this.setCaseData("Amount paid",this.createCaseModel.get("amountPaid"),o)),Ember.isEmpty(this.createCaseModel.get("paymentReferenceNumber"))||(o=this.setCaseData("Payment reference number",this.createCaseModel.get("paymentReferenceNumber"),o)),Ember.isEmpty(this.createCaseModel.get("device"))||(o=this.setCaseData("Device",this.createCaseModel.get("device"),o)),Ember.isEmpty(this.createCaseModel.get("deviceType"))||(o=this.setCaseData("Device type",this.createCaseModel.get("deviceType"),o)),Ember.isEmpty(this.createCaseModel.get("SCNumber"))||(o=this.setCaseData("Smartcard number",this.createCaseModel.get("SCNumber"),o)),Ember.isEmpty(this.createCaseModel.get("channelName"))||(o=this.setCaseData("ChannelName",this.createCaseModel.get("channelName"),o)),Ember.isEmpty(this.createCaseModel.get("amount"))||(o=this.setCaseData("Amount",this.createCaseModel.get("amount"),o)),Ember.isEmpty(this.createCaseModel.get("softwareVersion"))||(o=this.setCaseData("SoftwareVersion",this.createCaseModel.get("softwareVersion"),o)),Ember.isEmpty(this.createCaseModel.get("loaderVersion"))||(o=this.setCaseData("LoaderVersion",this.createCaseModel.get("loaderVersion"),o)),Ember.isEmpty(this.createCaseModel.get("bouquet"))||(o=this.setCaseData("Bouquet",this.createCaseModel.get("bouquet"),o)),Ember.isEmpty(this.createCaseModel.get("reason"))||(o=this.setCaseData("Reason",this.createCaseModel.get("reason"),o)),Ember.isEmpty(this.createCaseModel.get("supportingDocs"))||(o=this.setCaseData("SupportingDocs",this.createCaseModel.get("supportingDocs"),o)),Ember.isEmpty(this.createCaseModel.get("amountCustomerListedFor"))||(o=this.setCaseData("Amount customer listed for",this.createCaseModel.get("amountCustomerListedFor"),o)),Ember.isEmpty(this.createCaseModel.get("badDebtWrittenAmount"))||(o=this.setCaseData("Bad debt written-off amount",this.createCaseModel.get("badDebtWrittenAmount"),o)),Ember.isEmpty(this.createCaseModel.get("accusedPartyName"))||(o=this.setCaseData("Accused Party Name",this.createCaseModel.get("accusedPartyName"),o)),a.set("Country",this.countryCanonicalId),a.set("Case",t),a.set("ListOfCaseData_CaseData",o),this.publishRequestOnBus(e,"CreateInteraction","v1"),Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,6e4,"blocking",this)},setCaseData:function(e,t,a){var s=Komodo.Models.CaseData.create(),o=Komodo.canonicalFacadeFactory(s,["CaseDataValueUri","Value"]);return o.set("CaseDataValueUri",e),o.set("Value",t),a.push(s),a},publishRequestOnBus:function(e,t,a){var s=Komodo.Services.ManageCaseService,o="Event Message for "+t+" ";s.publishEvent(this,e,t,a).done(function(){Komodo.log(o+" has been published successfully")}).fail(function(e){Komodo.log(o+" has been failed"),Komodo.Controls.MessageBoxController.show(o,e)})},messageCaseCreatedReceived:function(e){if(void 0!==e.ResponseMessage.Payload.Case.UID){var t=this;t.caseNumber=e.ResponseMessage.Payload.Case.UID,t.get("isCase")?(Komodo.log("[Create Case]: Case created with ID "+t.caseNumber),Komodo.log("[Create Case]: Uploading Documents to Server.......")):(Komodo.log("[Create Interaction]: Interaction created with ID "+t.caseNumber),Komodo.log("[Create Interaction]: Uploading Documents to Server.......")),t.caseFileUploader.start()}},messageFailureMessageEventReceived:function(e){if(Komodo.Services.busyService.stop(this.get("processId"),"blocking"),Ember.isEmpty(this.unresolvedKey)||this.createCaseModel.set("statusID",this.unresolvedKey),this.isSaveDocPublished){var t=kl.value(this.localeCreateCase+"createCaseResponse")+this.caseNumber+".",a=kl.value(this.localeCreateCase+"saveDocFailMsg")+e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription+"<br/><strong>"+kl.value(this.localeCreateCase+"successfulUpdateNote")+"</strong>"+t;Komodo.Controls.MessageBoxController.show(kl.value(this.localeCreateCase+"createCase"),a,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),this.clearDataOnResponse(),this.set("isSaveDocPublished",!1)}else Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");this.createCaseModel.set("isDisableCancelButton",!1)},displayCaseCreatedMessage:function(e,t){var a=this,s=void 0;if(a.get("isCase")){var o=kl.value(a.localeCreateCase+"createCaseResponse")+a.caseNumber+".";s=""!==e?o+"<br/><strong>"+kl.value(a.localeCreateCase+"uploadCaseDocsMsg")+"</strong><br/>"+e:o+"<br/>"}else{var i=kl.value(a.localeCreateCase+"createInteractionResponse")+a.caseNumber+".";s=""!==e?i+"<br/><strong>"+kl.value(a.localeCreateCase+"uploadInteractionDocsMsg")+"</strong><br/>"+e:i+"<br/>"}Komodo.Services.busyService.stop(this.get("processId"),"blocking");var r=void 0;r=t?a.get("isCase")?Komodo.Controls.MessageBoxController.show(kl.value(a.localeCreateCase+"createCase"),s,Komodo.Controls.MessageBoxOkButton,a,"id5446673","success"):Komodo.Controls.MessageBoxController.show(kl.value(a.localeCreateCase+"createInteraction"),s,Komodo.Controls.MessageBoxOkButton,a,"id5446673","success"):a.get("isCase")?Komodo.Controls.MessageBoxController.show(kl.value(a.localeCreateCase+"createCase"),s,Komodo.Controls.MessageBoxOkButton,a,"id5446675","warning"):Komodo.Controls.MessageBoxController.show(kl.value(a.localeCreateCase+"createInteraction"),s,Komodo.Controls.MessageBoxOkButton,a,"id5446675","warning"),r.response=function(e){"ok"==e&&a.clearDataOnResponse(),!Ember.isEmpty(a.unresolvedKey)&&a.get("isCase")?a.createCaseModel.set("statusID",a.unresolvedKey):a.createCaseModel.set("statusID",a.completedKey)}},clearDataOnResponse:function(){var e=this;e.clearControls(),e.invisibleControls(),e.createCaseModel.set("category",void 0),e.createCaseModel.set("subCategory",void 0),e.createCaseModel.set("outcome",void 0),e.createCaseModel.set("interactionType",void 0),
e.createCaseModel.set("queryType",void 0),e.createCaseModel.set("isDisableSubmitButton",!0),e.clearCustomerInformation(),e.getHierachicalCDMData(),e.createCaseModel.set("isDisableSubmitButton",!1),e.createCaseModel.set("isDisableCancelButton",!1),e.caseDocumentModel.set("caseDocuments",[])},subscribeHouseholdMembersResultReceived:function(){Komodo.Services.eventAggregator.subscribe("HouseholdMembersResultReceived",function(){var e=Komodo.Services.uiService.getController("createCase");e&&e.bindHouseholdMembers()})},subscribeHouseholdMembersResultError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("HouseholdMembersResultError",function(){var t=Komodo.Services.ManageCaseService.householdMembersErrMsg;""!==t&&Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"technicalError"),kl.value(e.localeCreateCase+"householdServiceError")+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeAssigneeListResultReceived:function(){Komodo.Services.eventAggregator.subscribe("AssigneeListResultReceived",function(){var e=Komodo.Services.uiService.getController("createCase");e&&e.bindAssigneeList()})},subscribeAssigneeListResultError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("AssigneeListResultError",function(){var t=Komodo.Services.ManageCaseService.AssigneeListError;""!==t&&Komodo.Controls.MessageBoxController.show(kl.value(e.localeCreateCase+"technicalError"),kl.value(e.localeCreateCase+"assigneeServiceError")+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})}}),Komodo.Application.CustomerInteractionHistoryController=Komodo.UI.Controller.extend({localeCustomerInteractionHistory:"locale.manageCase:customerInteractionHistory.",localeCaseHistory:"locale.manageCase:caseHistory.",localeViewCase:"locale.manageCase:viewCase.",lstCategory:void 0,lstSubcategory:void 0,lstOutcome:void 0,lstCaseQueryType:void 0,lstCaseStatus:void 0,lstCasePriority:void 0,isGeneral:void 0,isSpecialist:void 0,statusList:[],isSearching:!1,_virtualPagerPageContent:Ember.A(),actualPageNumber:0,contentLength:0,isShowInterationItems:!1,searchInterationsVia:"DEFAULT",maxCountReached:!1,itemsPerPage:10,lastOffsetPage:1,currentFilterParameters:void 0,propToCheck:["startDate","endDate","status"],viewSelectedCaseId:void 0,isCommercial:void 0,isDealer:void 0,isCSI:void 0,init:function(){Komodo.log("Constructing Customer Interaction History controller"),this.set("processVersion","v1.1"),this.set("processName","Customer Interaction History service"),this.subscribeCustomerInteractionsRetrievedReceived(),this.subscribeCustomerInteractionsRetrievedError(),this.subscribeCustomerInteractionCaseHistoryLogResultReceived(),this.subscribeCustomerInteractionCaseHistoryLogErrorReceived(),this.subscribeCaseDocumentsRetrievedReceived(),this.subscribeCaseDocumentsRetrievedError(),this._super()},start:function(){this.getCDMData(),this.set("customerInteractionHistoryModel",Komodo.Models.CustomerInteractionHistoryModel.create()),this.set("currentFilterParameters",Komodo.Models.CustomerInteractionHistoryModel.create()),this.customerInteractionHistoryModel.set("caseInformation",Ember.A()),this.set("_virtualPagerPageContent",Ember.A()),this.set("caseInformation",Komodo.Models.InteractionInformation.create()),this.registerValidator("customerInteractionHistoryModel","startDate",{type:"date",isRequired:!1,maxDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+1)}),this.registerValidator("customerInteractionHistoryModel","endDate",{type:"date",isRequired:!1,maxDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+1)});var e=Komodo.Services.ProductAndServiceMaintenanceHelper.create(),t=e.isCustomerIdIsAvailableToRetriveData(),a=Komodo.Services.customerProfileService.getCustomerPersonalDetail();if("GENERAL"==a.customerClass.toUpperCase()||"2"==a.customerClass?this.set("isGeneral",!0):"SPECIALIST"==a.customerClass.toUpperCase()||"3"==a.customerClass?this.set("isSpecialist",!0):"COMMERCIAL"==a.customerClass.toUpperCase()||"1"==a.customerClass?this.set("isCommercial",!0):"DEALER"==a.customerClass.toUpperCase()||"6"==a.customerClass?this.set("isDealer",!0):"CSI"!=a.customerClass.toUpperCase()&&"4"!=a.customerClass||this.set("isCSI",!0),t){this.set("sharedObject",Komodo.Application.ManageCaseSharedObjectController.create());var s=e.getCustomerIdToRetrieveData();this.customerInteractionHistoryModel.set("customerUID",s),this.getAllCases()}else Komodo.Controls.MessageBoxController.show(kl.value(this.localeCustomerInteractionHistory+"customerUnavailable"),kl.value(this.localeCustomerInteractionHistory+"customerUnavailableMsg"));this._super()},getCDMData:function(){var e=this;Komodo.Services.cachedDataService.fetch("CasePriority").done(function(t){e.set("lstCasePriority",t)}),Komodo.Services.cachedDataService.fetch("caseCategory").done(function(t){e.set("lstCategory",t)}),Komodo.Services.cachedDataService.fetch("CaseSubCategory").done(function(t){e.set("lstSubcategory",t)}),Komodo.Services.cachedDataService.fetch("CaseOutcome").done(function(t){e.set("lstOutcome",t)}),Komodo.Services.cachedDataService.fetch("CaseQueryType").done(function(t){e.set("lstCaseQueryType",t)}),Komodo.Services.cachedDataService.fetch("CaseStatus").done(function(t){e.set("lstCaseStatus",t)})},subscribeCustomerInteractionsRetrievedReceived:function(){Komodo.Services.eventAggregator.subscribe("CustomerInteractionsRetrievedReceived",function(){if("customerInteractionHistory"==Komodo.Services.uiService.getCurrentRouteName()){var e=Komodo.Services.uiService.getController("customerInteractionHistory");e&&(e.set("isSearching",!1),e.bindInteractionListResponseToModel())}})},subscribeCustomerInteractionsRetrievedError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("CustomerInteractionsRetrievedError",function(){if("customerInteractionHistory"==Komodo.Services.uiService.getCurrentRouteName()){var t=Komodo.Services.ManageCaseService.retrieveInteractionsError,a=Komodo.Services.uiService.getController("customerInteractionHistory");a&&a.set("isSearching",!1),Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerInteractionHistory+"technicalError"),kl.value(e.localeCustomerInteractionHistory+"retrieveInteractionError")+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}})},subscribeCustomerInteractionCaseHistoryLogResultReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("CustomerInteractionCaseHistoryLogResultReceived",function(){e.bindCaseHistory()})},subscribeCustomerInteractionCaseHistoryLogErrorReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("CustomerInteractionCaseHistoryLogErrorReceived",function(){var t=Komodo.Services.ManageCaseService.getCaseHistoryLogError();Komodo.Controls.MessageBoxController.show(kl.value(e.localeCaseHistory+"technicalError"),kl.value(e.localeCaseHistory+"errorCaseHistoryLog")+" "+t,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})},subscribeCaseDocumentsRetrievedReceived:function(){var e=this;Komodo.Services.eventAggregator.subscribe("CustomerInteractionCaseDocumentsRetrievedReceived",function(t){e.bindCaseDocuments(t),void 0!=e.get("popupViewInteraction")&&e.get("popupViewInteraction.context.isRetrievingDocuments")&&e.set("popupViewInteraction.context.isRetrievingDocuments",!1)})},subscribeCaseDocumentsRetrievedError:function(){var e=this;Komodo.Services.eventAggregator.subscribe("CustomerInteractionCaseDocumentsRetrievedError",function(){void 0!=e.get("popupViewInteraction")&&(e.set("popupViewInteraction.context.isRetrievingDocuments",!1),e.set("popupViewInteraction.context.isShowingDocuments",!1))})},bindCaseHistory:function(){var e=this,t=e.get("sharedObject"),a=Komodo.Services.ManageCaseService.getCaseHistoryLog();a&&(a=$.makeArray(a));var s=[];if(!e.isArrayEmpty(a)){var o=!1;if(a&&a.length&&a.length>0)for(var i=0;i<a.length;i++)if(a[i].UID==this.viewSelectedCaseId){o=!0;break}o&&(e.set("interactionDetailsModel.isNoCaseHistoryFound",!1),s=a.map(function(a){var s=Komodo.Models.InteractionInformation.create();return CommonFunctions.isNullOrEmpty(a.ModifiedDate)?s.set("ModifiedDate","-"):CommonFunctions.isNullOrEmpty(t.getFormattedDate(a.ModifiedDate))?s.set("ModifiedDate",t.getFormattedDate(a.CreatedDate)):s.set("ModifiedDate",t.getHyphenIfEmpty(t.getFormattedDate(a.ModifiedDate))),s.set("category",e.getItemValueIfExists(e.lstCategory,a,"Category","key","value")),s.set("subCategory",e.getItemValueIfExists(e.lstSubcategory,a,"SubCategory","key","value")),s.set("outcome",e.getItemValueIfExists(e.lstOutcome,a,"Outcome","key","value")),s.set("caseOwner",t.getHyphenIfEmpty(a.CaseOwner)),s.set("notes",t.getHyphenIfEmpty(a.Notes)),s.set("status",e.getItemValueIfExists(e.lstCaseStatus,a,"Status","key","value")),s}),s=t.getFilteredCaseHistory(s),e.set("interactionDetailsModel.caseHistoryLog",s))}},bindCaseDocuments:function(e){var t=this,a=Komodo.Services.ManageCaseService.caseDocuments;if(void 0==a||void 0==a.DocumentPayload||t.isArrayEmpty(a.DocumentPayload))return void this.set("interactionDetailsModel.isNoDocumentsUploaded",!0);var s=t.get("interactionDetailsModel");if(t.get("viewSelectedCaseId")==e){s.caseDocuments.clear();var o=[];o=a.DocumentPayload.map(function(e){var a=Komodo.Models.CaseDocumentsModel.create(),s=e.DocumentURL,o=s.split("/"),i=o[o.length-1],r="_"+t.get("viewSelectedCaseId"),n=i.replace(r,"");return a.set("documentName",n),a.set("documentUrl",s),a}),Komodo.log("[CustomerInteraction]: Documents bound for "+t.get("viewSelectedCaseId")),this.set("interactionDetailsModel.caseDocuments",o)}},getFormattedDate:function(e){var t="";if("0001-01-01T00:00:00"===e)return"";if(e){var a=e.split("T"),s=new Date(a[0]),o=s.getDate();o=o<10?"0"+o.toString():o.toString();var i=s.getMonth()+1;i=i<10?"0"+i.toString():i.toString();t=o+"-"+i+"-"+s.getFullYear()}return t},getItemValueIfExists:function(e,t,a,s,o){var i=this.getItemIfExists(e,t,a,s);return null!=i?Ember.get(i,o):"-"},getItemIfExists:function(e,t,a,s){if(!this.isArrayEmpty(e))for(var o=0;o<e.length;o++)if(Ember.get(e[o],s)==Ember.get(t,a))return e[o];return null},bindInteractionListResponseToModel:function(){var e=Komodo.Services.ManageCaseService.customerInteractions,t=this;if(void 0==e)Komodo.Controls.MessageBoxController.show(kl.value(t.localeCustomerInteractionHistory+"technicalError"),kl.value(t.localeCustomerInteractionHistory+"retrieveInteractionError"),Komodo.Controls.MessageBoxOkButtons,t,"id5446673","danger");else if(void 0!=e.Case&&void 0!=e.Case.length)if((e.Case.length<=0||e.Case.length%KomodoConfiguration.interactionCount!=0)&&(this.maxCountReached=!0),e.Case.length<=0)1==this.actualPageNumber&&Komodo.Controls.MessageBoxController.show(kl.value(t.localeCustomerInteractionHistory+"retrieveInteractions"),kl.value(t.localeCustomerInteractionHistory+"recordNotFound"));else for(var a=0;a<e.Case.length;a++){var s=Komodo.Models.InteractionInformation.create();if(null!=e.Case[a].ModifiedDate&&void 0!=e.Case[a].ModifiedDate&&(s.dateOpen=t.formatDateTimeToDDMMYYYY_HHmm(e.Case[a].ModifiedDate),s.dateClosed=t.formatDateTimeToDDMMYYYY_HHmm(e.Case[a].ModifiedDate)),s.queryType=this.verifyAndGetBlankValue(e.Case[a].QueryType),s.type=this.verifyAndGetBlankValue(e.Case[a].Type),$.each(t.lstCaseQueryType,function(o,i){i.key==e.Case[a].QueryType&&(s.queryType=t.verifyAndGetBlankValue(i.value))}),s.caseOwner=this.verifyAndGetBlankValue(e.Case[a].CaseOwner),s.teamLead=this.verifyAndGetBlankValue(e.Case[a].TeamLead),$.each(t.lstCasePriority,function(o,i){i.key==e.Case[a].Priority&&(s.priority=t.verifyAndGetBlankValue(i.value))}),$.each(t.lstCategory,function(o,i){i.key==e.Case[a].Category&&(s.category=t.verifyAndGetBlankValue(i.value))}),$.each(t.lstSubcategory,function(o,i){i.key==e.Case[a].SubCategory&&(s.subCategory=t.verifyAndGetBlankValue(i.value))}),$.each(t.lstOutcome,function(o,i){i.key==e.Case[a].Outcome&&(s.outcome=t.verifyAndGetBlankValue(i.value))}),$.each(t.lstCaseStatus,function(o,i){i.key==e.Case[a].Status&&(s.status=t.verifyAndGetBlankValue(i.value))}),s.description=this.verifyAndGetBlankValue(e.Case[a].Notes),s.escalatedTo=this.verifyAndGetBlankValue(e.Case[a].EscalatedTo),s.resolveReason=this.verifyAndGetBlankValue(e.Case[a].OtherResolutionReason),s.UID=this.verifyAndGetBlankValue(e.Case[a].UID),s.linkedCases=this.verifyAndGetBlankValue(e.Case[a].LinkedCaseUID),e.Case[a].ListOfCaseData.CaseData&&e.Case[a].ListOfCaseData.CaseData.length)for(var o=0;o<e.Case[a].ListOfCaseData.CaseData.length;o++)switch(e.Case[a].ListOfCaseData.CaseData[o].CaseDataValueUri){case"Device":s.device=this.verifyAndGetBlankValue(e.Case[a].ListOfCaseData.CaseData[o].Value);break;case"Device type":s.deviceType=this.verifyAndGetBlankValue(e.Case[a].ListOfCaseData.CaseData[o].Value);break;case"SoftwareVersion":s.softwareVersion=this.verifyAndGetBlankValue(e.Case[a].ListOfCaseData.CaseData[o].Value);break;case"LoaderVersion":s.loaderVersion=this.verifyAndGetBlankValue(e.Case[a].ListOfCaseData.CaseData[o].Value);break;case"Messaging Framework response":s.messagingFrameworkResponse=this.verifyAndGetBlankValue(e.Case[a].ListOfCaseData.CaseData[o].Value)}s.category=this.verifyAndGetBlankValue(s.category),s.subCategory=this.verifyAndGetBlankValue(s.subCategory),s.outcome=this.verifyAndGetBlankValue(s.outcome),s.device=this.verifyAndGetBlankValue(s.device),s.deviceType=this.verifyAndGetBlankValue(s.deviceType),s.softwareVersion=this.verifyAndGetBlankValue(s.softwareVersion),s.loaderVersion=this.verifyAndGetBlankValue(s.loaderVersion),s.deviceSubCategory=this.verifyAndGetBlankValue(s.deviceSubCategory),s.priority=this.verifyAndGetBlankValue(s.priority),s.messagingFrameworkResponse=this.verifyAndGetBlankValue(s.messagingFrameworkResponse),this.get("customerInteractionHistoryModel.caseInformation").pushObject(s)}},formatDateTimeToDDMMYYYY_HHmm:function(e){var t=new Date(e),a=t.getHours(),s=t.getMinutes();a=a<10?"0"+a:a,s=s<10?"0"+s:s;var o=t.getSeconds(),i=a>=12?"PM":"AM",r=a+":"+s+":"+o+" "+i;return t.getDate()+"-"+parseInt(parseInt(t.getMonth())+parseInt(1))+"-"+t.getFullYear()+" "+r},isArrayEmpty:function(e){return void 0==e||null==e||void 0==e.length||null==e.length||e.length<=0},verifyAndGetBlankValue:function(e){return void 0===e||null===e||""==e.trim()?"-":e},stop:function(){this.set("isGeneral",!1),this.set("isSpecialist",!1),this.set("isCommercial",!1),this.set("isDealer",!1),this.set("isCSI",!1),this.set("interactionDetailsModel",void 0),this._super()},getAllCases:function(){this.resetPagerData(),this.searchInterationsVia="DEFAULT",this.searchInterations()},actions:{actionClearSearchParameters:function(){this.customerInteractionHistoryModel.set("startDate",void 0),this.customerInteractionHistoryModel.set("endDate",void 0),this.customerInteractionHistoryModel.set("status"),this.customerInteractionHistoryModel.set("caseInformation",[]),this.getAllCases()},actionFilterInteractions:function(){this.resetPagerData(),this.searchInterationsVia="FILTER",CommonFunctions.cloneProperties(this.get("customerInteractionHistoryModel"),this.get("currentFilterParameters"),this.propToCheck),this.searchInterations()},popupViewInteraction:void 0,actionViewSelectedInteraction:function(e){var t=e.get("content"),a=this;a.set("viewSelectedCaseId",t.UID),interactionDetailsModel=Komodo.Models.InteractionDetailsModel.create();if("Case"==t.type){var s=this.get("sharedObject");interactionDetailsModel.set("isCaseViewed",!0),s.retrieveCaseHistoryLog(t.UID,1,10,"customerInteractionHistory"),s.retrieveCaseDocuments(t.UID,"customerInteractionHistory")}interactionDetailsModel.queryType=t.get("queryType"),interactionDetailsModel.category=t.get("category"),interactionDetailsModel.subCategory=t.get("subCategory"),interactionDetailsModel.outcome=t.get("outcome"),interactionDetailsModel.device=t.get("device"),interactionDetailsModel.deviceType=t.get("deviceType"),interactionDetailsModel.status=t.get("status"),interactionDetailsModel.escalatedTo=t.get("escalatedTo"),interactionDetailsModel.notes=t.get("description"),interactionDetailsModel.customerUID=t.get("UID"),interactionDetailsModel.priority=t.get("priority"),interactionDetailsModel.caseOwner=t.get("caseOwner"),interactionDetailsModel.teamLead=t.get("teamLead"),interactionDetailsModel.resolveReason=t.get("resolveReason"),interactionDetailsModel.loaderVersion=t.get("loaderVersion"),interactionDetailsModel.linkedCases=t.get("linkedCases"),interactionDetailsModel.deviceSubCategory=t.get("deviceSubCategory"),interactionDetailsModel.softwareVersion=t.get("softwareVersion"),interactionDetailsModel.messagingFrameworkResponse=t.get("messagingFrameworkResponse"),this.set("interactionDetailsModel",interactionDetailsModel),this.popupViewInteraction=Komodo.Services.uiService.showModalPopup(kl.value(this.localeViewCase+"interactionDetailTitle"),"interactionDetails",{view:Komodo.Application.InteractionDetailsView,context:{isRetrievingDocuments:!0,isShowingDocuments:!0,data:this.get("interactionDetailsModel"),cancel:function(){a.set("popupaction","Cancel"),a.popupViewInteraction.close()}},canUserClose:!0,shouldStartAndStopController:!1})},actionInteractionPageSelected:function(e){var t=this.get("customerInteractionHistoryModel.caseInformation");if(t&&t.length&&(this.set("_virtualPagerPageContent",t.slice(e.from,e.to)),!this.get("isSearching")&&!this.maxCountReached)){var a=(e.pageNumber+this.lastOffsetPage)*e.itemsPerPage,s=t.length%e.itemsPerPage;a>=t.length&&0==s&&this.searchInterations()}}},searchInterations:function(){var e=this.get("customerInteractionHistoryModel.customerUID"),t=this.get("sharedObject");if("DEFAULT"==this.searchInterationsVia)this.set("isSearching",!0),this.actualPageNumber++,t.retrieveInteractionsByFilter(this.actualPageNumber,KomodoConfiguration.interactionCount,void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"CustomerInteraction");else if("FILTER"==this.searchInterationsVia){var a=this.get("customerInteractionHistoryModel");if(this.canSubmitData(a,kl.value(this.localeCustomerInteractionHistory+"customerInteractionHistoryTitle"),{showInModal:!0})){var s="",o=this.get("customerInteractionHistoryModel").startDate,i=this.get("customerInteractionHistoryModel").endDate,r=this.get("customerInteractionHistoryModel").status;if(void 0!==o&&""!==o&&void 0!==i&&""!==i){var n=o.toLocaleDateString("sv-SE").split("-"),l=i.toLocaleDateString("sv-SE").split("-"),d=new Date;d.setFullYear(n[0],n[1]-1,n[2]);var c=new Date;c.setFullYear(l[0],l[1]-1,l[2]),c<d&&(s+=kl.value(this.localeCustomerInteractionHistory+"endDateMsg"))}!CommonFunctions.isNullOrEmpty(o)&&!CommonFunctions.isNullOrEmpty(i)&&s.length>0?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCustomerInteractionHistory+"customerInteractionHistoryTitle"),s,null,this,"id123456","warning"):CommonFunctions.isNullOrEmpty(o)&&CommonFunctions.isNullOrEmpty(i)&&CommonFunctions.isNullOrEmpty(r)?Komodo.Controls.MessageBoxController.show(kl.value(this.localeCustomerInteractionHistory+"customerInteractionHistoryTitle"),kl.value(this.localeCustomerInteractionHistory+"filterMsg"),null,this,"id123456","warning"):CommonFunctions.validatePropertiesIfChanged(this.get("currentFilterParameters"),this.get("customerInteractionHistoryModel"),this.propToCheck)?(this.set("isSearching",!0),this.actualPageNumber++,t.retrieveInteractionsByFilter(this.actualPageNumber,KomodoConfiguration.interactionCount,void 0,void 0,this.get("customerInteractionHistoryModel").customerUID,void 0,r,o,i,void 0,void 0,void 0,void 0,void 0,"CustomerInteraction")):Komodo.Controls.MessageBoxController.show(kl.value(this.localeCustomerInteractionHistory+"customerInteractionHistoryTitle"),kl.value(this.localeCustomerInteractionHistory+"caseParameterChanged"),null,this,"id123456","warning")}}},resetPagerData:function(){this.maxCountReached=!1,this.actualPageNumber=0,this.set("customerInteractionHistoryModel.caseInformation",Ember.A()),this.set("_virtualPagerPageContent",Ember.A()),this.set("isShowInterationItems",!1)},onInteractionDetailsLengthChanged:function(){var e=this.get("customerInteractionHistoryModel.caseInformation.length");e&&e>0?(this.set("contentLength",e),this.set("isShowInterationItems",!0)):(this.set("contentLength",1),this.set("isShowInterationItems",!1))}.observes("customerInteractionHistoryModel.caseInformation.length")}),Komodo.Services.localizationService.registerNamespace("locale.manageCase");