Komodo.Application.CompareSecurityController=Komodo.UI.Controller.extend({_noDifferences:void 0,_hasCompared:!1,_selectAll:!1,data:{environmentOne:void 0,environmentTwo:void 0,differences:Ember.A()},init:function(){this._super(),this.requiresDependency("_permissionService",{singleton:Komodo.Services.permissionService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService})},getPermissionService:function(){return this.get("_permissionService")},getBusyService:function(){return this.get("_busyService")},getUIService:function(){return this.get("_uiService")},start:function(){this.set("_noDifferences",!1)},_differences:function(){return this.get("data.differences")}.property("data.differences"),selectAllRoutes:function(){this.get("data.differences").forEach(function(e){!0===e.selectAllRoutes?e.routes.forEach(function(e){Ember.set(e,"isSelected",!0)}):e.routes.forEach(function(e){Ember.set(e,"isSelected",!1)})})}.observes("data.differences.@each.selectAllRoutes"),selectAllModules:function(){this.get("data.differences").forEach(function(e){!0===e.selectAllModules?e.modules.forEach(function(e){Ember.set(e,"isSelected",!0)}):e.modules.forEach(function(e){Ember.set(e,"isSelected",!1)})})}.observes("data.differences.@each.selectAllModules"),selectAllPermissions:function(){this.get("data.differences").forEach(function(e){e.permissions.forEach(function(s){!0===e.selectAllPermissions?Ember.set(s,"isSelected",!0):Ember.set(s,"isSelected",!1)})})}.observes("data.differences.@each.selectAllPermissions"),stop:function(){this.set("_noDifferences",void 0),this.set("_hasCompared",void 0),this.set("data.differences",[])},actions:{compare:function(){var e=this;this.get("data.differences").clear(),this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,7e3,"compareEnvironments",this),this.getPermissionService().compareEnvironments(this.get("data.environmentOne"),this.get("data.environmentTwo"),this.getUIService().getController("application").get("_selectedCountryId")).done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"compareEnvironments"),s&&s.length>0?(e.set("_noDifferences",!1),s.forEach(function(s){s.selectAllPermissions=!1,s.selectAllRoutes=!1,s.selectAllModules=!1,s.modules.forEach(function(e){e.isSelected=!1}),s.permissions.forEach(function(e){e.isSelected=!1}),s.routes.forEach(function(e){e.isSelected=!1}),e.get("data.differences").pushObject(s)})):e.set("_noDifferences",!0)})}).fail(function(s,t){e.set("_noDifferences",!0),Ember.run(function(){e.getBusyService().stop(e.get("processId"),"compareEnvironments"),Komodo.UI.error("[could not retrieve modules] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorComparingEnvironments",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})}),this.set("_hasCompared",!0)},promote:function(){var e=[],s=this;this.get("data.differences").forEach(function(s){var t=[],o=[],r=[];s.modules.forEach(function(e){e.isSelected&&t.push({name:e.name})}),s.routes.forEach(function(e){e.isSelected&&o.push({name:e.routeName})}),s.permissions.forEach(function(e){e.isSelected&&r.push({permission:e.permission})}),0===t.length&&0===o.length&&0===r.length||e.push({id:s.id,modules:t,routes:o,permissions:r})});var t={envFrom:this.get("data.environmentOne"),envTo:this.get("data.environmentTwo"),roles:e};Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.security:promoteConfirmation"),this.getLocalizationService().value("locale.security:promoteConfirmationMessage"),Komodo.Controls.MessageBoxYesNoButtons,this,"promoteSecurity","warning").response=function(e){"yes"===e&&(s.getBusyService().start(!0,s.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,6e4,"promoteSecurity",s),s.getPermissionService().promoteSecurity(t).done(function(){s.getBusyService().stop(s.get("processId"),"promoteSecurity"),Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:promote"),s.getLocalizationService().value("locale.security:successPromotingSecurity"),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"success").response=function(e){"ok"===e&&(s.set("_hasCompared",!1),s.send("compare"),window.scrollTo(0,0))}}).fail(function(e,t){s.getBusyService().stop(s.get("processId"),"promoteSecurity"),Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:promote"),s.getLocalizationService().value("locale.security:errorPromotingSecurity",{error:e+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger").response=function(e){"ok"===e&&(s.set("_hasCompared",!1),s.send("compare"),window.scrollTo(0,0))}}))}},clear:function(){this.set("_noDifferences",void 0),this.set("_hasCompared",!1)}}}),Ember.TEMPLATES.RoleRoutesView=Ember.Handlebars.template(function(e,s,t,o,r){function a(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:N.noop,fn:N.program(2,n,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function n(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:N.noop,fn:N.program(3,i,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:N.noop,fn:N.program(5,l,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:N.noop,fn:N.program(7,c,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function i(e,s){return s.buffer.push("\r\n    "),s.buffer.push(T(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:roles~",contentBinding:"data.roles",optionLabelPath:"content.displayName",optionValuePath:"content.id",selectionBinding:"data.selectedRole",valueBinding:"data.selectedRoleId"},hashTypes:{label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",selectionBinding:"STRING",valueBinding:"STRING"},hashContexts:{label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,selectionBinding:e,valueBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function l(e,s){return s.buffer.push("\r\n    "),s.buffer.push(T(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:filter~",contentBinding:"data.filterOptions",optionLabelPath:"content.description",optionValuePath:"content.name",valueBinding:"data.selectedFilterOptionName"},hashTypes:{label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING"},hashContexts:{label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function c(e,s){var o;return s.buffer.push("\r\n    "),s.buffer.push(T(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.textFilter",label:"~locale.security:search~"},hashTypes:{valueBinding:"STRING",label:"STRING"},hashContexts:{valueBinding:e,label:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push('\r\n    <br />\r\n    <div class="float-right">\r\n        '),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"filter"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:N.noop,fn:N.program(8,u,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"clearFilters",type:"inverse"},hashTypes:{action:"STRING",type:"STRING"},hashContexts:{action:e,type:e},inverse:N.noop,fn:N.program(10,h,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n    "),""}function u(e,s){var o,r,a;r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o=r?r.call(e,"locale.security:search",a):R.call(e,"loc","locale.security:search",a),o||0===o?s.buffer.push(o):s.buffer.push("")}function h(e,s){var o,r,a;r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o=r?r.call(e,"locale.security:clear",a):R.call(e,"loc","locale.security:clear",a),o||0===o?s.buffer.push(o):s.buffer.push("")}function d(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:N.noop,fn:N.program(13,p,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function p(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-12"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:N.noop,fn:N.program(14,f,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function f(e,s){var o,r,a;return s.buffer.push('\r\n    <br />\r\n    <p class="sub-heading">'),s.buffer.push(T((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:currentlySelected",a):R.call(e,"loc","locale.security:currentlySelected",a)))),s.buffer.push(": "),o=t._triageMustache.call(e,"data.selectedRole.roleName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</p>\r\n    <hr />\r\n    <table id='role-routes' class='table table-bordered komodo-datagrid'>\r\n        <thead>\r\n            <tr>\r\n                <th style='width: 60px'>"),s.buffer.push(T((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:access",a):R.call(e,"loc","locale.security:access",a)))),s.buffer.push("</th>\r\n                <th style='width: 20%'>"),s.buffer.push(T((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:routeName",a):R.call(e,"loc","locale.security:routeName",a)))),s.buffer.push("</th>\r\n                <th style='width: 60%'>"),s.buffer.push(T((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:description",a):R.call(e,"loc","locale.security:description",a)))),s.buffer.push("</th>\r\n                <th style='width: 80px'>"),s.buffer.push(T((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:deniedAction",a):R.call(e,"loc","locale.security:deniedAction",a)))),s.buffer.push("</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            "),o=t.each.call(e,"filteredRouteAccess",{hash:{itemController:"roleRoute"},hashTypes:{itemController:"STRING"},hashContexts:{itemController:e},inverse:N.noop,fn:N.program(15,g,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        </tbody>\r\n    </table>\r\n\r\n    "),s.buffer.push(T(t.view.call(e,"Komodo.Controls.TablePager",{hash:{tableId:"role-routes",contentBinding:"filteredRouteAccess",itemsPerPage:"25",headerRows:"1",visiblePageCount:"10"},hashTypes:{tableId:"STRING",contentBinding:"STRING",itemsPerPage:"STRING",headerRows:"STRING",visiblePageCount:"STRING"},hashContexts:{tableId:e,contentBinding:e,itemsPerPage:e,headerRows:e,visiblePageCount:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n\r\n    <div class='float-right'>\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"clear",disabledBinding:"hasNoChanges",type:"inverse"},hashTypes:{action:"STRING",disabledBinding:"STRING",type:"STRING"},hashContexts:{action:e,disabledBinding:e,type:e},inverse:N.noop,fn:N.program(22,y,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"save",disabledBinding:"hasNoChanges"},hashTypes:{action:"STRING",disabledBinding:"STRING"},hashContexts:{action:e,disabledBinding:e},inverse:N.noop,fn:N.program(24,S,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n\r\n    "),""}function g(e,s){var o;return s.buffer.push("\r\n            <tr "),s.buffer.push(T(t.action.call(e,"toggle",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s}))),s.buffer.push(">\r\n                <td>\r\n                    "),o=t.if.call(e,"hasAccess",{hash:{},hashTypes:{},hashContexts:{},inverse:N.program(18,v,s),fn:N.program(16,m,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                    "),o=t.if.call(e,"changed",{hash:{},hashTypes:{},hashContexts:{},inverse:N.noop,fn:N.program(20,b,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                </td>\r\n                <td>"),o=t._triageMustache.call(e,"routeName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>"),o=t._triageMustache.call(e,"description",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>"),o=t._triageMustache.call(e,"deniedAction",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n            </tr>\r\n            "),""}function m(e,s){s.buffer.push("\r\n                    <img src='content/images/security/yes.svg' />\r\n                    ")}function v(e,s){s.buffer.push("\r\n                    <img src='content/images/security/no.svg' />\r\n                    ")}function b(e,s){var o;return s.buffer.push("\r\n                    <img src='content/images/link/blue-arrow.svg' />\r\n                    "),o=t.if.call(e,"willHaveAccess",{hash:{},hashTypes:{},hashContexts:{},inverse:N.program(18,v,s),fn:N.program(16,m,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                    "),""}function y(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(T((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:clear",r):R.call(e,"loc","locale.security:clear",r)))),s.buffer.push("\r\n        "),""}function S(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(T((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:save",r):R.call(e,"loc","locale.security:save",r)))),s.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var C,x,I,T=this.escapeExpression,R=t.helperMissing,N=this;return r.buffer.push("<div class='no-banner-padding'>\r\n    <span class=\"komodo-heading\">"),r.buffer.push(T((x=t.loc||s&&s.loc,I={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},x?x.call(s,"locale.security:security-administration",I):R.call(s,"loc","locale.security:security-administration",I)))),r.buffer.push(' </span>\r\n    <span class="float-right">\r\n        <b>\r\n            <a href="#/home">&lt;'),r.buffer.push(T((x=t.loc||s&&s.loc,I={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},x?x.call(s,"locale.security:back",I):R.call(s,"loc","locale.security:back",I)))),r.buffer.push("</a>\r\n        </b>\r\n    </span>\r\n    <hr />\r\n    "),C=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:role-routes~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:N.noop,fn:N.program(1,a,r),contexts:[s],types:["ID"],data:r}),(C||0===C)&&r.buffer.push(C),r.buffer.push("\r\n\r\n    "),C=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:availableTechnicalPages~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:N.noop,fn:N.program(12,d,r),contexts:[s],types:["ID"],data:r}),(C||0===C)&&r.buffer.push(C),r.buffer.push("\r\n</div>"),""}),Komodo.Application.ManagePermissionsController=Komodo.UI.Controller.extend({data:{permissions:Ember.A(),newPermissionName:void 0},init:function(){this._super(),this.requiresDependency("_permissionService",{singleton:Komodo.Services.permissionService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService})},start:function(){this.getPermissions(),this.registerValidator(this.get("data"),"newPermissionName",{isRequired:!0})},getBusyService:function(){return this.get("_busyService")},getPermissionService:function(){return this.get("_permissionService")},getPermissions:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"getPermissions",this),this.get("data.permissions").clear(),this.getPermissionService().fetchAvailablePermissions().done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"getPermissions"),s&&s.length>0&&(s.forEach(function(s){e.get("data.permissions").pushObject(s)}),e.set("data.permissions",e.get("data.permissions").sortBy("permission")))})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"getPermissions"),Komodo.UI.error("[could not retrieve permissions] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingPermissions",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})},actions:{addPermission:function(){var e=this;if(this.canSubmitData(this.get("data"),kl.value("locale.security:requiredFieldsMessage"),{showInModal:!0})){if(!new RegExp(/\w+[:][\/][\/]\w+[\/]\w+/g).test(e.get("data.newPermissionName")))return void Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:addPermission"),e.getLocalizationService().value("locale.security:errorPermissionIncorrectFormat"),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger");this.getPermissionService().addPermission({permission:e.get("data.newPermissionName")}).done(function(s){e.getPermissions(),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:addPermission"),e.getLocalizationService().value("locale.security:successAddingPermissionChanges"),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"success"),Komodo.log(s)}).fail(function(s,t){Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorApplyingRoleRouteChanges",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger"),Komodo.log(s)})}},deletePermission:function(e){var s=this,t=e.content;Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:deletePermission"),s.getLocalizationService().value("locale.security:deletePermissionConfirmation")+t.permission,Komodo.Controls.MessageBoxOkCancelButtons,this,void 0,"warning").response=function(){"ok"==this.action&&s.getPermissionService().removePermission(t).done(function(e){s.getPermissions(),Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:deletePermission"),s.getLocalizationService().value("locale.security:successDeletedPermissionChanges"),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"success"),Komodo.log(e)}).fail(function(e,t){Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:error"),s.getLocalizationService().value("locale.security:errorApplyingRoleRouteChanges",{error:e+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger"),Komodo.log(e)})}}}}),Komodo.Application.ManageRolesController=Komodo.UI.Controller.extend({data:{roles:Ember.A(),roleRouteIds:Ember.A(),newRoleName:void 0,cloneRoleId:void 0},init:function(){this._super(),this.requiresDependency("_permissionService",{singleton:Komodo.Services.permissionService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService})},start:function(){this._super(),this.retrieveRoles(),this.registerValidator(this.get("data"),"newRoleName",{isRequired:!0})},getPermissionService:function(){return this.get("_permissionService")},getLocalizationService:function(){return this.get("_localizationService")},getBusyService:function(){return this.get("_busyService")},retrieveRoles:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRoles",this),this.get("data.roles").clear(),this.get("data.roles").pushObject({id:-1,roleName:"New"}),this.getPermissionService().fetchAvailableRoles().done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoles"),s&&s.length>0&&(s.forEach(function(s){e.get("data.roles").pushObject(s)}),e.set("data.roles",e.get("data.roles").sortBy("roleName")),e.set("data.selectedRoleId",e.get("data.roles")[0].id))})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoles"),Komodo.UI.error("[could not retrieve roles] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingRoles",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})},actions:{addRole:function(){var e=this;if(!new RegExp(/(\b\w{2}\.\w{2}\.\w+\.\w+[\/]\w+[\/]\w+[\/]\w+( +|w+)\w+[\/])[w+(-| |w+)]*/g).test(e.get("data.newRoleName")))return void Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:addRoute"),e.getLocalizationService().value("locale.security:errorRouteIncorrectFormat"),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger");this.canSubmitData(this.get("data"),kl.value("locale.security:roleName"),{showInModal:!0})&&this.getPermissionService().addRole({roleName:e.get("data.newRoleName"),cloneRoleId:e.get("data.cloneRoleId")}).done(function(s){e.retrieveRoles(),Komodo.log(s)}).fail(function(s,t){Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorApplyingRoleRouteChanges",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger"),Komodo.log(s)})}}}),Komodo.Application.ManageRoutesController=Komodo.UI.Controller.extend({data:{routes:Ember.A(),newRoleName:void 0,newRouteName:void 0,newRouteDescription:void 0,newRouteDeniedAction:"HIDE",deniedActions:[]},init:function(){this._super(),this.requiresDependency("_permissionService",{singleton:Komodo.Services.permissionService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService}),this.set("data.deniedActions",[{value:"HIDE",label:this.getLocalizationService().value("locale.security:hide")},{value:"DISABLED",label:this.getLocalizationService().value("locale.security:disabled")}])},start:function(){this._super(),this.retrieveRoutes(),this.registerValidator(this.get("data"),"newRouteName",{isRequired:!0}),this.registerValidator(this.get("data"),"newRouteDescription",{isRequired:!0}),this.registerValidator(this.get("data"),"newRouteDeniedAction",{isRequired:!0})},getPermissionService:function(){return this.get("_permissionService")},getLocalizationService:function(){return this.get("_localizationService")},getBusyService:function(){return this.get("_busyService")},retrieveRoutes:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRoutes",this),this.get("data.routes").clear(),this.getPermissionService().fetchAvailableRoutes().done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoutes"),s&&s.length>0&&(s.forEach(function(s){e.get("data.routes").pushObject(s)}),e.set("data.routes",e.get("data.routes").sortBy("routeName")))})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoutes"),Komodo.UI.error("[could not retrieve routes] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingRoutes",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})},actions:{addRoute:function(){var e=this;this.canSubmitData(this.get("data"),kl.value("locale.security:routeName"),{showInModal:!0})&&this.getPermissionService().addRoute(e.get("data.newRouteName"),e.get("data.newRouteDescription"),e.get("data.newRouteDeniedAction")).done(function(s){e.retrieveRoutes(),Komodo.log(s)}).fail(function(s,t){Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorApplyingRoleRouteChanges",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger"),Komodo.log(s)})}}}),Komodo.Application.RoleModuleController=Komodo.UI.Controller.extend({data:{roles:Ember.A(),originalModules:Ember.A(),modules:Ember.A(),roleModules:Ember.A(),filterOptions:Ember.A(),selectedRole:void 0,selectedRoleId:void 0},start:function(){var e=this;this._super(),this.requiresDependency("_permissionService",{singleton:Komodo.Services.permissionService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService}),this.retrieveModules(this.retrieveRoles(function(){e.set("data.selectedRole",e.get("data.roles")[0])})),this.populateFilterOptions()},populateFilterOptions:function(){this.get("data.filterOptions").clear(),this.addFilterOption("filterShowAll"),this.addFilterOption("filterShowChanged"),this.addFilterOption("filterShowUnchanged")},addFilterOption:function(e){this.get("data.filterOptions").pushObject({name:e,description:this.getLocalizationService().value("locale.security:"+e)})},rebindModules:function(){this.get("data.modules").clear(),this.set("data.modules",this.get("data.originalModules").slice(0))},selectedFilterOptionNameChanged:function(){if(this.get("data.selectedFilterOptionName"))switch(this.get("data.selectedFilterOptionName")){case"filterShowChanged":var e=this.get("data.originalModules").filterProperty("changed",!0);return this.get("data.modules").clear(),void this.set("data.modules",e.slice(0));case"filterShowUnchanged":var s=this.get("data.originalModules").filter(function(e){return!e.changed});return this.get("data.modules").clear(),void this.set("data.modules",s.slice(0));default:this.get("data.modules").clear(),this.set("data.modules",this.get("data.originalModules").slice(0))}}.observes("data.selectedFilterOptionName"),initialize:function(e){var s=this.data.selectedRole.id;e?(this.set("data.selectedRole",void 0),this.set("data.selectedRole",this.findArrayItem(this.get("data.roles"),"id",s))):this.refreshRoleModules(this.get("data.roleModules"),this)},refreshRoleModules:function(e,s){var t=s;t.rebindModules(),e&&e.length>0?t.get("data.modules").forEach(function(s){s.hasAccess=null!==t.findArrayItem(e,"moduleId",s.id),delete s.changed,delete s.willHaveAccess}):t.get("data.modules").forEach(function(e){e.hasAccess=!1,delete e.changed,delete e.willHaveAccess});var o=t.get("data.modules").slice(0);t.get("data.modules").clear(),t.set("data.modules",o)},selectedRoleChanged:function(){this.retrieveRoleModules(this.refreshRoleModules)}.observes("data.selectedRole"),getPermissionService:function(){return this.get("_permissionService")},getLocalizationService:function(){return this.get("_localizationService")},getBusyService:function(){return this.get("_busyService")},findArrayItem:function(e,s,t){if(Array.isArray(e))for(var o=0;o<e.length;o++)if(e[o][s]&&e[o][s]===t)return e[o];return null},findArrayItemIndex:function(e,s,t){if(Array.isArray(e))for(var o=0;o<e.length;o++)if(e[o][s]&&e[o][s]===t)return o;return-1},retrieveRoleModules:function(e){var s=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRoleModules",this),this.get("data.roleModules").clear();var t=this.get("data.selectedRole");t&&t.id&&this.getPermissionService().fetchAvailableRoleModules(t.id).done(function(t){s.getBusyService().stop(s.get("processId"),"retrieveRoleModules"),t&&t.length>0&&t.forEach(function(e){s.get("data.roleModules").pushObject(e)}),e&&e(t,s)}).fail(function(e,t){s.getBusyService().stop(s.get("processId"),"retrieveRoleModules"),Komodo.UI.error("[could not retrieve roleModules] : error = '"+e+"'"),Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:error"),s.getLocalizationService().value("locale.security:errorRetrievingRoleModule",{error:e+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})},retrieveRoles:function(e){var s=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRoles",this),this.get("data.roles").clear(),this.getPermissionService().fetchAvailableRoles().done(function(t){s.getBusyService().stop(s.get("processId"),"retrieveRoles"),t&&t.length>0&&(t.forEach(function(e){s.get("data.roles").pushObject(e)}),s.set("data.roles",s.get("data.roles").sortBy("roleName")),e&&e())}).fail(function(e,t){s.getBusyService().stop(s.get("processId"),"retrieveRoles"),Komodo.UI.error("[could not retrieve roles] : error = '"+e+"'"),Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:error"),s.getLocalizationService().value("locale.security:errorRetrievingRoles",{error:e+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})},retrieveModules:function(e){var s=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveModules",this),this.get("data.modules").clear(),this.getPermissionService().fetchAvailableModules().done(function(t){s.getBusyService().stop(s.get("processId"),"retrieveModules"),t&&t.length>0&&(t.forEach(function(e){s.get("data.modules").pushObject(e)}),s.set("data.modules",s.get("data.modules").sortBy("name")),s.set("data.originalModules",s.get("data.modules").slice(0)),e&&e())}).fail(function(e,t){s.getBusyService().stop(s.get("processId"),"retrieveModules"),Komodo.UI.error("[could not retrieve modules] : error = '"+e+"'"),Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:error"),s.getLocalizationService().value("locale.security:errorRetrievingModules",{error:e+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})},changeItemStatus:function(e){var s=this.get("data.modules").slice(0),t=this.findArrayItemIndex(s,"id",e.id)
;return-1===t?t:(s[t].changed=!s[t].changed,s[t].willHaveAccess=!s[t].hasAccess,this.get("data.modules").clear(),this.set("data.modules",s),t)},hasNoChanges:function(){return!this.get("data.modules").any(function(e){return e.changed})}.property("data.modules.@each.changed"),actions:{toggle:function(e){this.changeItemStatus(e)},save:function(){var e=this,s=[];this.get("data.modules").forEach(function(t){t.changed&&s.push({roleId:e.get("data.selectedRole").id,moduleId:t.id,type:t.willHaveAccess?"grant":"revoke"})}),this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,5e3,"apply",this),this.getPermissionService().applyRoleModules(s).done(function(){e.getBusyService().stop(e.get("processId"),"apply");var s=Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:manageRoleModules"),e.getLocalizationService().value("locale.security:successUpdatingRoleModules"),Komodo.Controls.MessageBoxOkButtons,this,void 0,"success");Komodo.log(),s.response=function(){e.initialize(!0)}}).fail(function(s,t){e.getBusyService().stop(e.get("processId"),"apply"),Komodo.UI.error("[could not update roleModules] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorUpdatingRoleModule",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,this,void 0,"danger")})},clear:function(){this.initialize(!1)}}}),Komodo.Application.RolePermissionController=Ember.ObjectController.extend({actions:{toggle:function(){this.set("content.willHaveAccess",!this.get("content.hasAccess")),this.set("content.changed",!this.get("content.changed"))}}}),Komodo.Application.RolePermissionsController=Komodo.UI.Controller.extend({data:{roles:Ember.A(),permissions:Ember.A(),rolePermissionIds:Ember.A(),permissionAccess:Ember.A(),filterOptions:Ember.A(),clonedPermissions:[],textFilter:void 0},start:function(){this._super(),this.requiresDependency("_permissionService",{singleton:Komodo.Services.permissionService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService}),this.retrieveRoles(),this.retrievePermissions(),this.populateFilterOptions()},getPermissionService:function(){return this.get("_permissionService")},getLocalizationService:function(){return this.get("_localizationService")},getBusyService:function(){return this.get("_busyService")},populateFilterOptions:function(){this.get("data.filterOptions").clear(),this.addFilterOption("filterShowAll"),this.addFilterOption("filterShowChanged"),this.addFilterOption("filterShowUnchanged")},addFilterOption:function(e){this.get("data.filterOptions").pushObject({name:e,description:this.getLocalizationService().value("locale.security:"+e)})},retrieveRoles:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRoles",this),this.get("data.roles").clear(),this.getPermissionService().fetchAvailableRoles().done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoles"),s&&s.length>0&&(s.forEach(function(s){e.get("data.roles").pushObject(s)}),e.set("data.roles",e.get("data.roles").sortBy("roleName")),e.set("data.selectedRoleId",e.get("data.roles")[0].id))})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoles"),Komodo.UI.error("[could not retrieve roles] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingRoles",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})},retrievePermissions:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrievePermissions",this),this.get("data.permissions").clear(),this.getPermissionService().fetchAvailablePermissions().done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrievePermissions"),s&&s.length>0&&(s.forEach(function(s){e.get("data.permissions").pushObject(s)}),e.set("data.permissions",e.get("data.permissions").sortBy("permission"))),e._buildPermissionAccess()})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrievePermissions"),Komodo.UI.error("[could not retrieve routes] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingPermissions",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})},retrieveRolePermissions:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRolePermissions",this),this.getPermissionService().fetchRolePermissions(this.get("data.selectedRoleId")).done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRolePermissions"),e.get("data.rolePermissionIds").clear(),s&&s.length>0&&s.forEach(function(s){e.get("data.rolePermissionIds").pushObject(s)}),e._buildPermissionAccess()})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRolePermissions"),Komodo.UI.error("[could not retrieve role route ids] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingRolePermissions",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})}.observes("data.selectedRole"),_buildPermissionAccess:function(){var e=this;this.get("data.permissionAccess").clear(),this.get("data.permissions").forEach(function(s){e.get("data.permissionAccess").pushObject(Ember.Object.create({id:s.id,permission:s.permission,willHaveAccess:e.get("data.rolePermissionIds").contains(s.id),hasAccess:e.get("data.rolePermissionIds").contains(s.id),changed:!1}))}),this.set("data.textFilter",""),this.set("data.clonedPermissions",this.get("data.permissionAccess").slice(0))},filteredPermissionAccess:function(){switch(this.get("data.selectedFilterOptionName")){case"filterShowChanged":return this.get("data.permissionAccess").filterProperty("changed",!0);case"filterShowUnchanged":return this.get("data.permissionAccess").filterProperty("changed",!1)}return this.get("data.permissionAccess")}.property("data.permissionAccess.@each.changed","data.selectedFilterOptionName"),hasNoChanges:function(){return!this.get("data.permissionAccess").any(function(e){return e.get("changed")})}.property("data.permissionAccess.@each.changed"),actions:{filter:function(){var e,s=this.get("data.textFilter"),t=this.get("data.clonedPermissions");e=s?t.filter(function(e){return e.permission.toLowerCase().includes(s.toLowerCase())}):t,this.get("data.permissionAccess").clear(),this.set("data.permissionAccess",e)},clearFilters:function(){this.set("data.textFilter","");var e=this.get("data.clonedPermissions");this.get("data.permissionAccess").clear(),this.set("data.permissionAccess",e)},clear:function(){this.get("data.permissionAccess").forEach(function(e){e.set("changed",!1)})},save:function(){var e=this,s=[];this.get("data.permissionAccess").forEach(function(t){t.get("changed")&&s.pushObject({roleId:e.get("data.selectedRoleId"),permissionId:t.get("id"),type:t.get("willHaveAccess")?"grant":"revoke"})}),this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,5e3,"apply",this),this.getPermissionService().applyRolePermissions(e.get("data.selectedRoleId"),s).done(function(){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"apply"),e.retrieveRolePermissions()})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"apply"),Komodo.UI.error("[could not apply role/route permissions] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorApplyingRoleRouteChanges",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})}}}),Komodo.Application.RoleRouteController=Ember.ObjectController.extend({actions:{toggle:function(){this.set("content.willHaveAccess",!this.get("content.hasAccess")),this.set("content.changed",!this.get("content.changed"))}}}),Komodo.Application.RoleRoutesController=Komodo.UI.Controller.extend({data:{roles:Ember.A(),routes:Ember.A(),roleRouteIds:Ember.A(),routeAccess:Ember.A(),filterOptions:Ember.A(),newRoleName:void 0,newRouteName:void 0,newRouteDescription:void 0,newRouteDeniedAction:void 0,textFilter:void 0,clonedRoutes:[],deniedActions:[]},start:function(){this._super(),this.requiresDependency("_permissionService",{singleton:Komodo.Services.permissionService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService}),this.retrieveRoles(),this.retrieveRoutes(),this.populateFilterOptions(),this.set("data.deniedActions",[{value:"a",label:this.getLocalizationService().value("locale.security:hide")},{value:"b",label:this.getLocalizationService().value("locale.security:disabled")}])},getPermissionService:function(){return this.get("_permissionService")},getLocalizationService:function(){return this.get("_localizationService")},getBusyService:function(){return this.get("_busyService")},populateFilterOptions:function(){this.get("data.filterOptions").clear(),this.addFilterOption("filterShowAll"),this.addFilterOption("filterShowChanged"),this.addFilterOption("filterShowUnchanged")},addFilterOption:function(e){this.get("data.filterOptions").pushObject({name:e,description:this.getLocalizationService().value("locale.security:"+e)})},retrieveRoles:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRoles",this),this.get("data.roles").clear(),this.getPermissionService().fetchAvailableRoles().done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoles"),s&&s.length>0&&(s.forEach(function(s){e.get("data.roles").pushObject(s)}),e.set("data.roles",e.get("data.roles").sortBy("roleName")),e.set("data.selectedRoleId",e.get("data.roles")[0].id))})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoles"),Komodo.UI.error("[could not retrieve roles] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingRoles",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})},retrieveRoutes:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRoutes",this),this.get("data.routes").clear(),this.getPermissionService().fetchAvailableRoutes().done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoutes"),s&&s.length>0&&(s.forEach(function(s){e.get("data.routes").pushObject(s)}),e.set("data.routes",e.get("data.routes").sortBy("routeName"))),e._buildRouteAccess()})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoutes"),Komodo.UI.error("[could not retrieve routes] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingRoutes",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})},retrieveRoleRoutes:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"retrieveRoleRoutes",this),this.getPermissionService().fetchRoleRoutes(this.get("data.selectedRoleId")).done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoleRoutes"),e.get("data.roleRouteIds").clear(),s&&s.length>0&&s.forEach(function(s){e.get("data.roleRouteIds").pushObject(s)}),e._buildRouteAccess()})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"retrieveRoleRoutes"),Komodo.UI.error("[could not retrieve role route ids] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingRoleRoutes",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})}.observes("data.selectedRole"),_buildRouteAccess:function(){var e=this;this.get("data.routeAccess").clear(),this.get("data.routes").forEach(function(s){e.get("data.routeAccess").pushObject(Ember.Object.create({id:s.id,routeName:s.routeName,description:s.description,deniedAction:s.deniedAction,willHaveAccess:e.get("data.roleRouteIds").contains(s.id),hasAccess:e.get("data.roleRouteIds").contains(s.id),changed:!1}))}),this.set("data.textFilter",""),this.set("data.clonedRoutes",this.get("data.routeAccess").slice(0))},filteredRouteAccess:function(){switch(this.get("data.selectedFilterOptionName")){case"filterShowChanged":return this.get("data.routeAccess").filterProperty("changed",!0);case"filterShowUnchanged":return this.get("data.routeAccess").filterProperty("changed",!1)}return this.get("data.routeAccess")}.property("data.routeAccess.@each.changed","data.selectedFilterOptionName"),hasNoChanges:function(){return!this.get("data.routeAccess").any(function(e){return e.get("changed")})}.property("data.routeAccess.@each.changed"),actions:{filter:function(){var e,s=this.get("data.textFilter"),t=this.get("data.clonedRoutes");e=s?t.filter(function(e){return e.description.toLowerCase().includes(s.toLowerCase())}):t,this.get("data.routeAccess").clear(),this.set("data.routeAccess",e)},clearFilters:function(){this.set("data.textFilter","");var e=this.get("data.clonedRoutes");this.get("data.routeAccess").clear(),this.set("data.routeAccess",e)},clear:function(){this.get("data.routeAccess").forEach(function(e){e.set("changed",!1)})},save:function(){var e=this,s=[];this.get("data.routeAccess").forEach(function(t){t.get("changed")&&s.pushObject({roleId:e.get("data.selectedRoleId"),routeId:t.get("id"),type:t.get("willHaveAccess")?"grant":"revoke"})}),this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Processing,5e3,"apply",this),this.getPermissionService().applyRoleRoutes(e.get("data.selectedRoleId"),s).done(function(){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"apply"),e.retrieveRoleRoutes()})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"apply"),Komodo.UI.error("[could not apply role/route permissions] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorApplyingRoleRouteChanges",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})}}}),Ember.TEMPLATES.RolePermissionsView=Ember.Handlebars.template(function(e,s,t,o,r){function a(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:N.noop,fn:N.program(2,n,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function n(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:N.noop,fn:N.program(3,i,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:N.noop,fn:N.program(5,l,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:N.noop,fn:N.program(7,c,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function i(e,s){return s.buffer.push("\r\n    "),s.buffer.push(T(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:roles~",contentBinding:"data.roles",optionLabelPath:"content.displayName",optionValuePath:"content.id",selectionBinding:"data.selectedRole",valueBinding:"data.selectedRoleId"},hashTypes:{label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",selectionBinding:"STRING",valueBinding:"STRING"},hashContexts:{label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,selectionBinding:e,valueBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function l(e,s){return s.buffer.push("\r\n    "),s.buffer.push(T(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:filter~",contentBinding:"data.filterOptions",optionLabelPath:"content.description",optionValuePath:"content.name",valueBinding:"data.selectedFilterOptionName"},hashTypes:{label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING"},hashContexts:{label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function c(e,s){var o;return s.buffer.push("\r\n    "),s.buffer.push(T(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.textFilter",label:"~locale.security:search~"},hashTypes:{valueBinding:"STRING",label:"STRING"},hashContexts:{valueBinding:e,label:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push('\r\n    <br />\r\n    <div class="float-right">\r\n        '),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"filter"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:N.noop,fn:N.program(8,u,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"clearFilters",type:"inverse"},hashTypes:{action:"STRING",type:"STRING"},hashContexts:{action:e,type:e},inverse:N.noop,fn:N.program(10,h,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n    "),""}function u(e,s){var o,r,a;r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o=r?r.call(e,"locale.security:search",a):R.call(e,"loc","locale.security:search",a),o||0===o?s.buffer.push(o):s.buffer.push("")}function h(e,s){var o,r,a;r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o=r?r.call(e,"locale.security:clear",a):R.call(e,"loc","locale.security:clear",a),o||0===o?s.buffer.push(o):s.buffer.push("")}function d(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:N.noop,fn:N.program(13,p,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function p(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-12"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:N.noop,fn:N.program(14,f,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function f(e,s){var o,r,a;return s.buffer.push('\r\n    <br />\r\n    <p class="sub-heading">'),s.buffer.push(T((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:currentlySelected",a):R.call(e,"loc","locale.security:currentlySelected",a)))),s.buffer.push(": "),o=t._triageMustache.call(e,"data.selectedRole.roleName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</p>\r\n    <hr />\r\n    <table id='role-permissions' class='table table-bordered komodo-datagrid'>\r\n        <thead>\r\n            <tr>\r\n                <th style='width: 100px'>"),s.buffer.push(T((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:access",a):R.call(e,"loc","locale.security:access",a)))),s.buffer.push("</th>\r\n                <th>"),s.buffer.push(T((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:permission",a):R.call(e,"loc","locale.security:permission",a)))),s.buffer.push("</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            "),o=t.each.call(e,"filteredPermissionAccess",{hash:{itemController:"rolePermission"},hashTypes:{itemController:"STRING"},hashContexts:{itemController:e},inverse:N.noop,fn:N.program(15,g,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        </tbody>\r\n    </table>\r\n\r\n    "),s.buffer.push(T(t.view.call(e,"Komodo.Controls.TablePager",{hash:{tableId:"role-permissions",contentBinding:"filteredPermissionAccess",itemsPerPage:"25",headerRows:"1",visiblePageCount:"10"},hashTypes:{tableId:"STRING",contentBinding:"STRING",itemsPerPage:"STRING",headerRows:"STRING",visiblePageCount:"STRING"},hashContexts:{tableId:e,contentBinding:e,itemsPerPage:e,headerRows:e,visiblePageCount:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n\r\n    <div class='float-right'>\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"clear",disabledBinding:"hasNoChanges",class:"btn-inverse"},hashTypes:{action:"STRING",disabledBinding:"STRING",class:"STRING"},hashContexts:{action:e,disabledBinding:e,class:e},inverse:N.noop,fn:N.program(22,y,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"save",disabledBinding:"hasNoChanges"},hashTypes:{action:"STRING",disabledBinding:"STRING"},hashContexts:{action:e,disabledBinding:e},inverse:N.noop,fn:N.program(24,S,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n    "),""}function g(e,s){var o;return s.buffer.push("\r\n            <tr "),s.buffer.push(T(t.action.call(e,"toggle",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s}))),s.buffer.push(">\r\n                <td>\r\n                    "),o=t.if.call(e,"hasAccess",{hash:{},hashTypes:{},hashContexts:{},inverse:N.program(18,v,s),fn:N.program(16,m,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                    "),o=t.if.call(e,"changed",{hash:{},hashTypes:{},hashContexts:{},inverse:N.noop,fn:N.program(20,b,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                </td>\r\n                <td>"),o=t._triageMustache.call(e,"permission",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n            </tr>\r\n            "),""}function m(e,s){s.buffer.push("\r\n                    <img src='content/images/security/yes.svg' />\r\n                    ")}function v(e,s){s.buffer.push("\r\n                    <img src='content/images/security/no.svg' />\r\n                    ")}function b(e,s){var o;return s.buffer.push("\r\n                    <img src='content/images/link/blue-arrow.svg' />\r\n                    "),o=t.if.call(e,"willHaveAccess",{hash:{},hashTypes:{},hashContexts:{},inverse:N.program(18,v,s),fn:N.program(16,m,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                    "),""}function y(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(T((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:clear",r):R.call(e,"loc","locale.security:clear",r)))),s.buffer.push("\r\n        "),""}function S(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(T((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:save",r):R.call(e,"loc","locale.security:save",r)))),s.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var C,x,I,T=this.escapeExpression,R=t.helperMissing,N=this;return r.buffer.push("<div class='no-banner-padding'>\r\n    <span class=\"komodo-heading\">"),r.buffer.push(T((x=t.loc||s&&s.loc,I={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},x?x.call(s,"locale.security:role-permissions",I):R.call(s,"loc","locale.security:role-permissions",I)))),r.buffer.push(' </span>\r\n    <span class="float-right">\r\n        <b>\r\n            <a href="#/roleRoutes">&lt;'),r.buffer.push(T((x=t.loc||s&&s.loc,I={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},x?x.call(s,"locale.security:back",I):R.call(s,"loc","locale.security:back",I)))),r.buffer.push("</a>\r\n        </b>\r\n    </span>\r\n    <hr />\r\n    "),C=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:managePermissions~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:N.noop,fn:N.program(1,a,r),contexts:[s],types:["ID"],data:r}),(C||0===C)&&r.buffer.push(C),r.buffer.push("\r\n\r\n    "),C=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:listOfPermissions~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:N.noop,fn:N.program(12,d,r),contexts:[s],types:["ID"],data:r}),(C||0===C)&&r.buffer.push(C),r.buffer.push("\r\n</div>"),""}),Komodo.Application.RoleRoutesRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"roleRoutes",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.security:role-routes"),this._super()}}),Komodo.Application.RolePermissionsRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"rolePermissions",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.security:role-permissions"),this._super()}}),Komodo.Application.ManageRolesRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"manageRoles",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.security:manage-roles"),this._super()}}),Komodo.Application.ManageRoutesRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"manageRoutes",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.security:manage-routes"),this._super()}}),Komodo.Application.ManagePermissionsRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"managePermissions",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.security:manage-permissions"),this._super()}}),Komodo.Application.ManageModulesRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"manageModules",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.security:manage-modules"),this._super()}}),Komodo.Application.RoleModuleRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"roleModule",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.security:manage-role-module"),this._super()}}),Komodo.Application.CompareSecurityRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"compareSecurity",useCaseDisplayName:void 0,init:function(){this.useCaseDisplayName=kl.value("locale.security:compareSecurity"),this._super()}}),Komodo.UI.Route.registerRoutes(function(){this.resource("roleRoutes"),this.resource("rolePermissions"),this.resource("manageRoles"),this.resource("manageRoutes"),this.resource("managePermissions"),this.resource("manageModules"),this.resource("roleModule"),this.resource("compareSecurity"),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.Permissions,routeName:"roleRoutes",title:kl.value("locale.security:security-administration"),desiredLocation:9,type:Komodo.NavigationTypes.HomeTile,imageurl:"Content/Images/Home/security.svg"}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.Permissions,routeName:"rolePermissions",title:kl.value("locale.security:role-permissions"),type:Komodo.NavigationTypes.HomeTileSubLink,desiredLocation:10}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.Permissions,routeName:"manageRoles",title:kl.value("locale.security:manage-roles"),type:Komodo.NavigationTypes.HomeTileSubLink,desiredLocation:11}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.Permissions,routeName:"manageRoutes",title:kl.value("locale.security:manage-routes"),type:Komodo.NavigationTypes.HomeTileSubLink,desiredLocation:12}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.Permissions,routeName:"managePermissions",title:kl.value("locale.security:manage-permissions"),type:Komodo.NavigationTypes.HomeTileSubLink,desiredLocation:13}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.Permissions,routeName:"manageModules",title:kl.value("locale.security:manage-modules"),type:Komodo.NavigationTypes.HomeTileSubLink,desiredLocation:14}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.Permissions,routeName:"roleModule",title:kl.value("locale.security:manage-role-module"),type:Komodo.NavigationTypes.HomeTileSubLink,desiredLocation:15}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.Permissions,routeName:"compareSecurity",title:kl.value("locale.security:compareSecurity"),type:Komodo.NavigationTypes.HomeTileSubLink,desiredLocation:16})}),Ember.TEMPLATES.RoleModuleView=Ember.Handlebars.template(function(e,s,t,o,r){function a(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(2,n,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function n(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-6"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:x.noop,fn:x.program(3,i,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-6"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:x.noop,fn:x.program(5,l,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function i(e,s){return s.buffer.push("\r\n    "),s.buffer.push(C(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:roles~",contentBinding:"data.roles",optionLabelPath:"content.displayName",optionValuePath:"content.id",selectionBinding:"data.selectedRole",valueBinding:"data.selectedRoleId"},hashTypes:{label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",selectionBinding:"STRING",valueBinding:"STRING"},hashContexts:{label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,selectionBinding:e,valueBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function l(e,s){return s.buffer.push("\r\n    "),s.buffer.push(C(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:filter~",contentBinding:"data.filterOptions",optionLabelPath:"content.description",optionValuePath:"content.name",
valueBinding:"data.selectedFilterOptionName"},hashTypes:{label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING"},hashContexts:{label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function c(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(8,u,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function u(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-12"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:x.noop,fn:x.program(9,h,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function h(e,s){var o,r,a;return s.buffer.push('\r\n    <br />\r\n    <p class="sub-heading">'),s.buffer.push(C((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:currentlySelected",a):I.call(e,"loc","locale.security:currentlySelected",a)))),s.buffer.push(": "),o=t._triageMustache.call(e,"data.selectedRole.roleName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push('</p>\r\n    <hr/>\r\n    <table id="moduleList" class="table table-bordered komodo-datagrid">\r\n        <thead>\r\n            <tr>\r\n                <th style=\'width: 100px\'>'),s.buffer.push(C((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s},r?r.call(e,"locale.security:access",a):I.call(e,"loc","locale.security:access",a)))),s.buffer.push("</th>\r\n                <th>"),s.buffer.push(C((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:moduleName",a):I.call(e,"loc","locale.security:moduleName",a)))),s.buffer.push("</th>\r\n                <th>"),s.buffer.push(C((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:modulePath",a):I.call(e,"loc","locale.security:modulePath",a)))),s.buffer.push("</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            "),o=t.each.call(e,"module","in","data.modules",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(10,d,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class='float-right'>\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"clear",disabledBinding:"hasNoChanges",type:"inverse"},hashTypes:{action:"STRING",disabledBinding:"STRING",type:"STRING"},hashContexts:{action:e,disabledBinding:e,type:e},inverse:x.noop,fn:x.program(17,m,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"save",disabledBinding:"hasNoChanges"},hashTypes:{action:"STRING",disabledBinding:"STRING"},hashContexts:{action:e,disabledBinding:e},inverse:x.noop,fn:x.program(19,v,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n\r\n    "),""}function d(e,s){var o;return s.buffer.push("\r\n            <tr>\r\n                <td "),s.buffer.push(C(t.action.call(e,"toggle","module",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:s}))),s.buffer.push(">\r\n                    "),o=t.if.call(e,"module.hasAccess",{hash:{},hashTypes:{},hashContexts:{},inverse:x.program(13,f,s),fn:x.program(11,p,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                    "),o=t.if.call(e,"module.changed",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(15,g,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                </td>\r\n                <td>"),o=t._triageMustache.call(e,"module.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>"),o=t._triageMustache.call(e,"module.path",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n            </tr>\r\n            "),""}function p(e,s){s.buffer.push("\r\n                    <img src='content/images/security/yes.svg' />\r\n                    ")}function f(e,s){s.buffer.push("\r\n                    <img src='content/images/security/no.svg' />\r\n                    ")}function g(e,s){var o;return s.buffer.push("\r\n                    <img src='content/images/link/blue-arrow.svg' />\r\n                    "),o=t.if.call(e,"module.willHaveAccess",{hash:{},hashTypes:{},hashContexts:{},inverse:x.program(13,f,s),fn:x.program(11,p,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                    "),""}function m(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(C((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:clear",r):I.call(e,"loc","locale.security:clear",r)))),s.buffer.push("\r\n        "),""}function v(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(C((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:save",r):I.call(e,"loc","locale.security:save",r)))),s.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var b,y,S,C=this.escapeExpression,x=this,I=t.helperMissing;return r.buffer.push("<div class='no-banner-padding'>\r\n    <span class=\"komodo-heading\">"),r.buffer.push(C((y=t.loc||s&&s.loc,S={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},y?y.call(s,"locale.security:manage-role-module",S):I.call(s,"loc","locale.security:manage-role-module",S)))),r.buffer.push(' </span>\r\n    <span class="float-right">\r\n        <b>\r\n            <a href="#/roleRoutes">&lt;'),r.buffer.push(C((y=t.loc||s&&s.loc,S={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},y?y.call(s,"locale.security:back",S):I.call(s,"loc","locale.security:back",S)))),r.buffer.push("</a>\r\n        </b>\r\n    </span>\r\n    <hr />\r\n    "),b=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:manageRoleModules~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:x.noop,fn:x.program(1,a,r),contexts:[s],types:["ID"],data:r}),(b||0===b)&&r.buffer.push(b),r.buffer.push("\r\n  \r\n    "),b=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:listOfModules~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:x.noop,fn:x.program(7,c,r),contexts:[s],types:["ID"],data:r}),(b||0===b)&&r.buffer.push(b),r.buffer.push("\r\n</div>"),""}),Ember.TEMPLATES.CompareSecurityView=Ember.Handlebars.template(function(e,s,t,o,r){function a(e,s){var o,r,a;return s.buffer.push('\r\n    <p class="sub-heading">'),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:securityDifferencesMessage",a):K.call(e,"loc","locale.security:securityDifferencesMessage",a)))),s.buffer.push("</p>\r\n    <br />\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:B.noop,fn:B.program(2,n,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push('\r\n    <div class="float-right">\r\n        '),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"compare"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:B.noop,fn:B.program(11,h,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"clear",class:"btn-inverse"},hashTypes:{action:"STRING",class:"STRING"},hashContexts:{action:e,class:e},inverse:B.noop,fn:B.program(13,d,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n    <br />\r\n    <br />\r\n    "),""}function n(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:B.noop,fn:B.program(3,i,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-2"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:B.noop,fn:B.program(5,l,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:B.noop,fn:B.program(7,c,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-2"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:B.noop,fn:B.program(9,u,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function i(e,s){return s.buffer.push("\r\n    "),s.buffer.push(w(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:environmentOne~",contentBinding:"KomodoConfiguration.securityEnvironments",optionLabelPath:"content.value",optionValuePath:"content.key",valueBinding:"data.environmentOne"},hashTypes:{label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING"},hashContexts:{label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function l(e,s){s.buffer.push('\r\n    <br />\r\n    <img src="Content\\Images\\link\\blue-arrow.svg" height="20" width="20" />\r\n    ')}function c(e,s){return s.buffer.push("\r\n    "),s.buffer.push(w(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:environmentTwo~",contentBinding:"KomodoConfiguration.securityEnvironments",optionLabelPath:"content.value",optionValuePath:"content.key",valueBinding:"data.environmentTwo"},hashTypes:{label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING"},hashContexts:{label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function u(e,s){s.buffer.push("\r\n    ")}function h(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(w((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:compareEnvironments",r):K.call(e,"loc","locale.security:compareEnvironments",r)))),s.buffer.push("\r\n        "),""}function d(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(w((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:clear",r):K.call(e,"loc","locale.security:clear",r)))),s.buffer.push("\r\n        "),""}function p(e,s){var o,r;return s.buffer.push('\r\n    <br />\r\n    <p class="bg bg-info">'),s.buffer.push(w((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:noDifferences",r):K.call(e,"loc","locale.security:noDifferences",r)))),s.buffer.push("</p>\r\n    <br />\r\n    "),""}function f(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:differences~",visibleBinding:"_hasCompared"},hashTypes:{title:"STRING",visibleBinding:"STRING"},hashContexts:{title:e,visibleBinding:e},inverse:B.noop,fn:B.program(18,g,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n      "),""}function g(e,s){var o;return s.buffer.push("\r\n    "),o=t.each.call(e,"role","in","_differences",{hash:{},hashTypes:{},hashContexts:{},inverse:B.noop,fn:B.program(19,m,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push('\r\n     <br />\r\n     <div class="float-right">\r\n        '),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"promote",class:"btn-danger"},hashTypes:{action:"STRING",class:"STRING"},hashContexts:{action:e,class:e},inverse:B.noop,fn:B.program(29,I,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n     <br />\r\n    <br />\r\n    "),""}function m(e,s){var o;return s.buffer.push('\r\n    <p class="sub-heading-blue">'),o=t._triageMustache.call(e,"role.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</p>\r\n    <hr />\r\n    "),o=t.if.call(e,"role.modules",{hash:{},hashTypes:{},hashContexts:{},inverse:B.noop,fn:B.program(20,v,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    <br />\r\n    "),o=t.if.call(e,"role.routes",{hash:{},hashTypes:{},hashContexts:{},inverse:B.noop,fn:B.program(23,y,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    <br />\r\n    "),o=t.if.call(e,"role.permissions",{hash:{},hashTypes:{},hashContexts:{},inverse:B.noop,fn:B.program(26,C,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function v(e,s){var o,r,a;return s.buffer.push('\r\n    <p class="sub-heading">'),s.buffer.push(w(t.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"role.selectAllModules"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push(" "),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:selectAll",a):K.call(e,"loc","locale.security:selectAll",a)))),s.buffer.push(": "),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:modules",a):K.call(e,"loc","locale.security:modules",a)))),s.buffer.push('</p>\r\n    <br />\r\n    <table class="table table-bordered komodo-datagrid">\r\n        <tr>\r\n            <th>'),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:promote",a):K.call(e,"loc","locale.security:promote",a)))),s.buffer.push("</th>\r\n            <th>"),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:moduleName",a):K.call(e,"loc","locale.security:moduleName",a)))),s.buffer.push("</th>\r\n            <th>"),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:modulePath",a):K.call(e,"loc","locale.security:modulePath",a)))),s.buffer.push("</th>\r\n        </tr>\r\n        "),o=t.each.call(e,"module","in","role.modules",{hash:{},hashTypes:{},hashContexts:{},inverse:B.noop,fn:B.program(21,b,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </table>\r\n    "),""}function b(e,s){var o;return s.buffer.push("\r\n        <tr>\r\n            <td> "),s.buffer.push(w(t.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"module.isSelected"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push(" </td>\r\n            <td>"),o=t._triageMustache.call(e,"module.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n            <td>"),o=t._triageMustache.call(e,"module.path",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n        </tr>\r\n        "),""}function y(e,s){var o,r,a;return s.buffer.push('\r\n    <p class="sub-heading">'),s.buffer.push(w(t.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"role.selectAllRoutes"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push(" "),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:selectAll",a):K.call(e,"loc","locale.security:selectAll",a)))),s.buffer.push(": "),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:routes",a):K.call(e,"loc","locale.security:routes",a)))),s.buffer.push('</p>\r\n    <br />\r\n    <table class="table table-bordered komodo-datagrid">\r\n        <tr>\r\n            <th>'),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:promote",a):K.call(e,"loc","locale.security:promote",a)))),s.buffer.push("</th>\r\n            <th>"),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:routeName",a):K.call(e,"loc","locale.security:routeName",a)))),s.buffer.push("</th>\r\n            <th>"),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:description",a):K.call(e,"loc","locale.security:description",a)))),s.buffer.push("</th>\r\n            <th>"),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:routeDeniedAction",a):K.call(e,"loc","locale.security:routeDeniedAction",a)))),s.buffer.push("</th>\r\n        </tr>\r\n        "),o=t.each.call(e,"route","in","role.routes",{hash:{},hashTypes:{},hashContexts:{},inverse:B.noop,fn:B.program(24,S,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </table>\r\n    "),""}function S(e,s){var o;return s.buffer.push("\r\n        <tr>\r\n            <td> "),s.buffer.push(w(t.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"route.isSelected"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push(" </td>\r\n            <td>"),o=t._triageMustache.call(e,"route.routeName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n            <td>"),o=t._triageMustache.call(e,"route.description",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n            <td>"),o=t._triageMustache.call(e,"route.deniedAction",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n        </tr>\r\n        "),""}function C(e,s){var o,r,a;return s.buffer.push('\r\n    <p class="sub-heading">'),s.buffer.push(w(t.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"role.selectAllPermissions"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push(" "),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:selectAll",a):K.call(e,"loc","locale.security:selectAll",a)))),s.buffer.push(": "),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:permissions",a):K.call(e,"loc","locale.security:permissions",a)))),s.buffer.push('</p>\r\n    <br />\r\n    <table class="table table-bordered komodo-datagrid">\r\n        <tr>\r\n            <th>'),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:promote",a):K.call(e,"loc","locale.security:promote",a)))),s.buffer.push("</th>\r\n            <th>"),s.buffer.push(w((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:permission",a):K.call(e,"loc","locale.security:permission",a)))),s.buffer.push("</th>\r\n        </tr>\r\n        "),o=t.each.call(e,"permission","in","role.permissions",{hash:{},hashTypes:{},hashContexts:{},inverse:B.noop,fn:B.program(27,x,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </table>\r\n    "),""}function x(e,s){var o;return s.buffer.push("\r\n        <tr>\r\n            <td>"),s.buffer.push(w(t.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"permission.isSelected"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push(" </td>\r\n            <td>"),o=t._triageMustache.call(e,"permission.permission",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n        </tr>\r\n        "),""}function I(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(w((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:promoteChanges",r):K.call(e,"loc","locale.security:promoteChanges",r)))),s.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var T,R,N,w=this.escapeExpression,B=this,K=t.helperMissing;return r.buffer.push("<div class='no-banner-padding'>\r\n    <div>\r\n        <span class=\"komodo-heading\">"),r.buffer.push(w((R=t.loc||s&&s.loc,N={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},R?R.call(s,"locale.security:compareEnvironments",N):K.call(s,"loc","locale.security:compareEnvironments",N)))),r.buffer.push(' </span>\r\n        <span class="float-right">\r\n            <b>\r\n                <a href="#/roleRoutes">&lt;'),r.buffer.push(w((R=t.loc||s&&s.loc,N={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},R?R.call(s,"locale.security:back",N):K.call(s,"loc","locale.security:back",N)))),r.buffer.push("</a>\r\n            </b>\r\n        </span>\r\n    </div>\r\n    <hr />\r\n    "),T=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:compareEnvironments~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:B.noop,fn:B.program(1,a,r),contexts:[s],types:["ID"],data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push("\r\n     "),T=t.if.call(s,"_noDifferences",{hash:{},hashTypes:{},hashContexts:{},inverse:B.program(17,f,r),fn:B.program(15,p,r),contexts:[s],types:["ID"],data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push("\r\n    <br />\r\n    <br />\r\n</div>\r\n"),""}),Komodo.Application.ManageModulesController=Komodo.UI.Controller.extend({data:{modules:Ember.A(),newName:void 0,newPath:void 0,newVersion:void 0,newOffline:void 0,newPriority:void 0},init:function(){this._super(),this.requiresDependency("_permissionService",{singleton:Komodo.Services.permissionService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService})},start:function(){this.getModules(),this.registerValidator(this.get("data"),"newName",{isRequired:!0}),this.registerValidator(this.get("data"),"newPath",{isRequired:!0}),this.registerValidator(this.get("data"),"newVersion",{isRequired:!0}),this.registerValidator(this.get("data"),"newOffline",{isRequired:!0}),this.registerValidator(this.get("data"),"newPriority",{isRequired:!0})},getBusyService:function(){return this.get("_busyService")},getPermissionService:function(){return this.get("_permissionService")},getModules:function(){var e=this;this.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Loading,5e3,"getModules",this),this.get("data.modules").clear(),this.getPermissionService().fetchAvailableModules().done(function(s){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"getModules"),s&&s.length>0&&(s.forEach(function(s){e.get("data.modules").pushObject(s)}),e.set("data.modules",e.get("data.modules").sortBy("name")))})}).fail(function(s,t){Ember.run(function(){e.getBusyService().stop(e.get("processId"),"getModules"),Komodo.UI.error("[could not retrieve modules] : error = '"+s+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorRetrievingModules",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger")})})},actions:{addModule:function(){var e=this;if(this.canSubmitData(this.get("data"),kl.value("locale.security:requiredFieldsMessage"),{showInModal:!0})){if(!new RegExp(/([\/]\w+)([\/]\w+)*([\/]\ModulePackage.js)/g).test(e.get("data.newPath")))return void Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:addModule"),e.getLocalizationService().value("locale.security:errorModulePathIncorrectFormat"),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger");this.getPermissionService().addModule({name:e.get("data.newName"),path:e.get("data.newPath"),version:e.get("data.newVersion"),offline:e.get("data.newOffline"),priority:e.get("data.newPriority")}).done(function(s){e.getModules(),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:addModule"),e.getLocalizationService().value("locale.security:successAddingModule"),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"success"),Komodo.log(s)}).fail(function(s,t){Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.security:error"),e.getLocalizationService().value("locale.security:errorApplyingChanges",{error:s+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger"),Komodo.log(s)})}},deleteModule:function(e){var s=this,t=e.content;Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:deleteModule"),s.getLocalizationService().value("locale.security:deleteModuleConfirmation")+t.name,Komodo.Controls.MessageBoxOkCancelButtons,this,void 0,"warning").response=function(){"ok"==this.action&&s.getPermissionService().removeModule(t).done(function(e){s.getModules(),Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:deleteModule"),s.getLocalizationService().value("locale.security:successDeletedModule"),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"success"),Komodo.log(e)}).fail(function(e,t){Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.security:error"),s.getLocalizationService().value("locale.security:errorApplyingChanges",{error:e+(t?" - "+t.responseText:"")}),Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"danger"),Komodo.log(e)})}}}}),Ember.TEMPLATES.ManageModulesView=Ember.Handlebars.template(function(e,s,t,o,r){function a(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:I.noop,fn:I.program(2,n,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push('\r\n    <div class="float-right">\r\n        '),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"addModule"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:I.noop,fn:I.program(15,p,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n    <br />\r\n    <br />\r\n    "),""}function n(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-2"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:I.noop,fn:I.program(3,i,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-2"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:I.noop,fn:I.program(5,l,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-2"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:I.noop,fn:I.program(7,c,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-2"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:I.noop,fn:I.program(9,u,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-2"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:I.noop,fn:I.program(11,h,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-2"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:I.noop,fn:I.program(13,d,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function i(e,s){return s.buffer.push("\r\n    "),s.buffer.push(x(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.newName",label:"~locale.security:moduleName~",validatorBinding:"validators.newNameValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function l(e,s){return s.buffer.push("\r\n    "),s.buffer.push(x(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.newPath",label:"~locale.security:modulePath~",validatorBinding:"validators.newPathValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function c(e,s){return s.buffer.push("\r\n    "),s.buffer.push(x(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.newVersion",label:"~locale.security:moduleVersion~",validatorBinding:"validators.newVersionValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function u(e,s){return s.buffer.push("\r\n    "),s.buffer.push(x(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.newOffline",label:"~locale.security:moduleOffline~",validatorBinding:"validators.newOfflineValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function h(e,s){return s.buffer.push("\r\n    "),s.buffer.push(x(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.newPriority",label:"~locale.security:modulePriority~",validatorBinding:"validators.newPriorityValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function d(e,s){s.buffer.push("\r\n    ")}function p(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(x((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},
o?o.call(e,"locale.security:addModule",r):T.call(e,"loc","locale.security:addModule",r)))),s.buffer.push("\r\n        "),""}function f(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:I.noop,fn:I.program(18,g,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function g(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-12"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:I.noop,fn:I.program(19,m,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function m(e,s){var o,r,a;return s.buffer.push('\r\n    <table id="moduleList" class="table table-bordered komodo-datagrid">\r\n        <thead>\r\n            <tr>\r\n                <th>'),s.buffer.push(x((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:moduleName",a):T.call(e,"loc","locale.security:moduleName",a)))),s.buffer.push("</th>\r\n                <th>"),s.buffer.push(x((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:modulePath",a):T.call(e,"loc","locale.security:modulePath",a)))),s.buffer.push("</th>\r\n                <th>"),s.buffer.push(x((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:moduleVersion",a):T.call(e,"loc","locale.security:moduleVersion",a)))),s.buffer.push("</th>\r\n                <th>"),s.buffer.push(x((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:moduleOffline",a):T.call(e,"loc","locale.security:moduleOffline",a)))),s.buffer.push("</th>\r\n                <th>"),s.buffer.push(x((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:modulePriority",a):T.call(e,"loc","locale.security:modulePriority",a)))),s.buffer.push("</th>\r\n                <th></th>                \r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            "),o=t.each.call(e,"module","in","data.modules",{hash:{},hashTypes:{},hashContexts:{},inverse:I.noop,fn:I.program(20,v,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        </tbody>\r\n    </table>    \r\n    "),""}function v(e,s){var o;return s.buffer.push("\r\n            <tr>\r\n                <td>"),o=t._triageMustache.call(e,"module.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>"),o=t._triageMustache.call(e,"module.path",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>"),o=t._triageMustache.call(e,"module.version",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>"),o=t._triageMustache.call(e,"module.offline",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>"),o=t._triageMustache.call(e,"module.priority",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>\r\n                    "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"deleteModule",class:"btn-xs btn-danger",contentBinding:"module",visibleBinding:"module.name"},hashTypes:{action:"STRING",class:"STRING",contentBinding:"STRING",visibleBinding:"STRING"},hashContexts:{action:e,class:e,contentBinding:e,visibleBinding:e},inverse:I.noop,fn:I.program(21,b,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                </td>                \r\n            </tr>\r\n            "),""}function b(e,s){var o,r;return s.buffer.push(" "),s.buffer.push(x((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:deleteModule",r):T.call(e,"loc","locale.security:deleteModule",r)))),s.buffer.push("\r\n                    "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var y,S,C,x=this.escapeExpression,I=this,T=t.helperMissing;return r.buffer.push("<div class='no-banner-padding'>\r\n    <div>\r\n        <span class=\"komodo-heading\">"),r.buffer.push(x((S=t.loc||s&&s.loc,C={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},S?S.call(s,"locale.security:manage-modules",C):T.call(s,"loc","locale.security:manage-modules",C)))),r.buffer.push(' </span>\r\n        <span class="float-right">\r\n            <b>\r\n                <a href="#/roleRoutes">&lt;'),r.buffer.push(x((S=t.loc||s&&s.loc,C={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},S?S.call(s,"locale.security:back",C):T.call(s,"loc","locale.security:back",C)))),r.buffer.push("</a>\r\n            </b>\r\n        </span>\r\n    </div>\r\n    <hr />\r\n    "),y=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:addModule~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:I.noop,fn:I.program(1,a,r),contexts:[s],types:["ID"],data:r}),(y||0===y)&&r.buffer.push(y),r.buffer.push("\r\n \r\n    "),y=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:listOfModules~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:I.noop,fn:I.program(17,f,r),contexts:[s],types:["ID"],data:r}),(y||0===y)&&r.buffer.push(y),r.buffer.push("\r\n    <br />\r\n</div>"),""}),Ember.TEMPLATES.ManageRoutesView=Ember.Handlebars.template(function(e,s,t,o,r){function a(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:y.noop,fn:y.program(2,n,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push('\r\n    <br/>\r\n    <div class="float-right">\r\n        '),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"addRoute"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:y.noop,fn:y.program(9,u,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n    <br/>    \r\n    <br/>    \r\n    "),""}function n(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:y.noop,fn:y.program(3,i,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:y.noop,fn:y.program(5,l,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-4"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:y.noop,fn:y.program(7,c,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function i(e,s){return s.buffer.push("\r\n    "),s.buffer.push(b(t.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.security:routeName~",valueBinding:"data.newRouteName",validatorBinding:"validators.newRouteNameValidator"},hashTypes:{label:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function l(e,s){return s.buffer.push("\r\n    "),s.buffer.push(b(t.view.call(e,"Komodo.Controls.TextField",{hash:{label:"~locale.security:description~",valueBinding:"data.newRouteDescription",validatorBinding:"validators.newRouteDescriptionValidator"},hashTypes:{label:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function c(e,s){return s.buffer.push("\r\n    "),s.buffer.push(b(t.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{contentBinding:"data.deniedActions",displayPath:"label",valuePath:"label",valueBinding:"data.newRouteDeniedAction",label:"~locale.security:routeDeniedAction~",validatorBinding:"validators.newRouteDeniedActionValidator"},hashTypes:{contentBinding:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{contentBinding:e,displayPath:e,valuePath:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function u(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(b((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:addRoute",r):S.call(e,"loc","locale.security:addRoute",r)))),s.buffer.push("\r\n        "),""}function h(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:y.noop,fn:y.program(12,d,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function d(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-12"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:y.noop,fn:y.program(13,p,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function p(e,s){var o,r,a;return s.buffer.push('     \r\n    <table id="routesList" class="table table-bordered komodo-datagrid">\r\n        <thead>\r\n        <th> '),s.buffer.push(b((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:routeName",a):S.call(e,"loc","locale.security:routeName",a)))),s.buffer.push("</th>\r\n        <th> "),s.buffer.push(b((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:description",a):S.call(e,"loc","locale.security:description",a)))),s.buffer.push("</th>\r\n        <th> "),s.buffer.push(b((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:deniedAction",a):S.call(e,"loc","locale.security:deniedAction",a)))),s.buffer.push("</th>\r\n        </thead>\r\n        <tbody>\r\n            "),o=t.each.call(e,"route","in","data.routes",{hash:{},hashTypes:{},hashContexts:{},inverse:y.noop,fn:y.program(14,f,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        </tbody>\r\n    </table>\r\n    <br />\r\n    "),s.buffer.push(b(t.view.call(e,"Komodo.Controls.TablePager",{hash:{tableId:"routesList",contentBinding:"data.routes",itemsPerPage:"25",headerRows:"1",visiblePageCount:"10"},hashTypes:{tableId:"STRING",contentBinding:"STRING",itemsPerPage:"STRING",headerRows:"STRING",visiblePageCount:"STRING"},hashContexts:{tableId:e,contentBinding:e,itemsPerPage:e,headerRows:e,visiblePageCount:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function f(e,s){var o;return s.buffer.push("\r\n            <tr>\r\n                <td>\r\n                    "),o=t._triageMustache.call(e,"route.routeName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                </td>\r\n                <td>\r\n                    "),o=t._triageMustache.call(e,"route.description",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                </td>\r\n                <td>\r\n                    "),o=t._triageMustache.call(e,"route.deniedAction",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                </td>\r\n            </tr>\r\n            "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var g,m,v,b=this.escapeExpression,y=this,S=t.helperMissing;return r.buffer.push("<div class='no-banner-padding'>\r\n    <span class=\"komodo-heading\">"),r.buffer.push(b((m=t.loc||s&&s.loc,v={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},m?m.call(s,"locale.security:manage-routes",v):S.call(s,"loc","locale.security:manage-routes",v)))),r.buffer.push(' </span>\r\n            <span class="float-right">\r\n                <b>\r\n                    <a href="#/roleRoutes">&lt;'),r.buffer.push(b((m=t.loc||s&&s.loc,v={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},m?m.call(s,"locale.security:back",v):S.call(s,"loc","locale.security:back",v)))),r.buffer.push("</a>\r\n                </b>\r\n            </span>\r\n    <hr/>\r\n    "),g=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:addRoute~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:y.noop,fn:y.program(1,a,r),contexts:[s],types:["ID"],data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\r\n\r\n    "),g=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:availableTechnicalPages~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:y.noop,fn:y.program(11,h,r),contexts:[s],types:["ID"],data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\r\n</div>"),""}),Ember.TEMPLATES.ManagePermissionsView=Ember.Handlebars.template(function(e,s,t,o,r){function a(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(2,n,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push('\r\n    <div class="float-right">\r\n        '),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"addPermission"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:b.noop,fn:b.program(5,l,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>\r\n    <br />\r\n    <br />\r\n    "),""}function n(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-12"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:b.noop,fn:b.program(3,i,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function i(e,s){return s.buffer.push("\r\n    "),s.buffer.push(v(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.newPermissionName",label:"~locale.security:permissionName~",validatorBinding:"validators.newPermissionNameValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function l(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(v((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:addPermission",r):y.call(e,"loc","locale.security:addPermission",r)))),s.buffer.push("\r\n        "),""}function c(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(8,u,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function u(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-12"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:b.noop,fn:b.program(9,h,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function h(e,s){var o,r,a;return s.buffer.push('\r\n    <table id="permissionList" class="table table-bordered komodo-datagrid">\r\n        <thead>\r\n            <tr>\r\n                <th>'),s.buffer.push(v((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:permissionName",a):y.call(e,"loc","locale.security:permissionName",a)))),s.buffer.push("</th>\r\n                <th></th>                \r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            "),o=t.each.call(e,"permission","in","data.permissions",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(10,d,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        </tbody>\r\n    </table>    \r\n    "),""}function d(e,s){var o;return s.buffer.push("\r\n            <tr>\r\n                <td>"),o=t._triageMustache.call(e,"permission.permission",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n                <td>\r\n                    "),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"deletePermission",class:"btn-xs btn-danger",contentBinding:"permission",visibleBinding:"permission.permission"},hashTypes:{action:"STRING",class:"STRING",contentBinding:"STRING",visibleBinding:"STRING"},hashContexts:{action:e,class:e,contentBinding:e,visibleBinding:e},inverse:b.noop,fn:b.program(11,p,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n                </td>                \r\n            </tr>\r\n            "),""}function p(e,s){var o,r;return s.buffer.push(" "),s.buffer.push(v((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:deletePermission",r):y.call(e,"loc","locale.security:deletePermission",r)))),s.buffer.push("\r\n                    "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var f,g,m,v=this.escapeExpression,b=this,y=t.helperMissing;return r.buffer.push("<div class='no-banner-padding'>\r\n    <div>\r\n        <span class=\"komodo-heading\">"),r.buffer.push(v((g=t.loc||s&&s.loc,m={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},g?g.call(s,"locale.security:manage-permissions",m):y.call(s,"loc","locale.security:manage-permissions",m)))),r.buffer.push(' </span>\r\n        <span class="float-right">\r\n            <b>\r\n                <a href="#/roleRoutes">&lt;'),r.buffer.push(v((g=t.loc||s&&s.loc,m={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},g?g.call(s,"locale.security:back",m):y.call(s,"loc","locale.security:back",m)))),r.buffer.push("</a>\r\n            </b>\r\n        </span>\r\n    </div>\r\n    <hr />\r\n    "),f=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:addPermission~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:b.noop,fn:b.program(1,a,r),contexts:[s],types:["ID"],data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\r\n   \r\n    "),f=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:listOfPermissions~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:b.noop,fn:b.program(7,c,r),contexts:[s],types:["ID"],data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\r\n    <br />\r\n</div>"),""}),Ember.TEMPLATES.ManageRolesView=Ember.Handlebars.template(function(e,s,t,o,r){function a(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(2,n,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push('    \r\n    <div class="float-right">\r\n        '),o=t.view.call(e,"Komodo.Controls.Button",{hash:{action:"addRole"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:b.noop,fn:b.program(7,c,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    </div>    \r\n    <br />\r\n    <br />\r\n    "),""}function n(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-6"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:b.noop,fn:b.program(3,i,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-6"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:b.noop,fn:b.program(5,l,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function i(e,s){return s.buffer.push("\r\n    "),s.buffer.push(v(t.view.call(e,"Komodo.Controls.Select",{hash:{label:"~locale.security:cloneRoleId~",valueBinding:"data.cloneRoleId",contentBinding:"data.roles",optionValuePath:"content.id",optionLabelPath:"content.displayName"},hashTypes:{label:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING"},hashContexts:{label:e,valueBinding:e,contentBinding:e,optionValuePath:e,optionLabelPath:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function l(e,s){return s.buffer.push("\r\n    "),s.buffer.push(v(t.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"data.newRoleName",label:"~locale.security:roleName~",validatorBinding:"validators.newRoleNameValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}function c(e,s){var o,r;return s.buffer.push("\r\n        "),s.buffer.push(v((o=t.loc||e&&e.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},o?o.call(e,"locale.security:addRole",r):y.call(e,"loc","locale.security:addRole",r)))),s.buffer.push("\r\n        "),""}function u(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(10,h,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function h(e,s){var o;return s.buffer.push("\r\n    "),o=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"col-md-12"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:b.noop,fn:b.program(11,d,s),contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n    "),""}function d(e,s){var o,r,a;return s.buffer.push('    \r\n    <table id="roleList" class="table table-bordered komodo-datagrid">\r\n        <thead>\r\n            <tr>\r\n                <th>'),s.buffer.push(v((r=t.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.security:roleName",a):y.call(e,"loc","locale.security:roleName",a)))),s.buffer.push("</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            "),o=t.each.call(e,"role","in","data.roles",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(12,p,s),contexts:[e,e,e],types:["ID","ID","ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\r\n        </tbody>\r\n    </table>\r\n    "),""}function p(e,s){var o;return s.buffer.push("\r\n            <tr>\r\n                <td>"),o=t._triageMustache.call(e,"role.roleName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("</td>\r\n            </tr>\r\n            "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var f,g,m,v=this.escapeExpression,b=this,y=t.helperMissing;return r.buffer.push("<div class='no-banner-padding'>\r\n    <div>\r\n        <span class=\"komodo-heading\">"),r.buffer.push(v((g=t.loc||s&&s.loc,m={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},g?g.call(s,"locale.security:manage-roles",m):y.call(s,"loc","locale.security:manage-roles",m)))),r.buffer.push('</span>\r\n        <span class="float-right">\r\n            <b>\r\n                <a href="#/roleRoutes">&lt;'),r.buffer.push(v((g=t.loc||s&&s.loc,m={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},g?g.call(s,"locale.security:back",m):y.call(s,"loc","locale.security:back",m)))),r.buffer.push("</a>\r\n            </b>\r\n        </span>\r\n    </div>\r\n    <hr />\r\n    "),f=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:addRole~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:b.noop,fn:b.program(1,a,r),contexts:[s],types:["ID"],data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push(" \r\n    "),f=t.view.call(s,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.security:listOfRoles~"},hashTypes:{title:"STRING"},hashContexts:{title:s},inverse:b.noop,fn:b.program(9,u,r),contexts:[s],types:["ID"],data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\r\n\r\n</div>"),""}),Komodo.Application.ManageRolesView=Komodo.UI.View.extend({viewKey:"ManageRolesView"}),Komodo.Application.ManageRoutesView=Komodo.UI.View.extend({viewKey:"ManageRoutesView"}),Komodo.Application.ManagePermissionsView=Komodo.UI.View.extend({viewKey:"ManagePermissionsView"}),Komodo.Application.RoleModuleView=Komodo.UI.View.extend({viewKey:"RoleModuleView"}),Komodo.Application.CompareSecurityView=Komodo.UI.View.extend({viewKey:"CompareSecurityView"}),Komodo.Application.RolePermissionsView=Komodo.UI.View.extend({viewKey:"RolePermissionsView"}),Komodo.Application.RoleRoutesView=Komodo.UI.View.extend({viewKey:"RoleRoutesView"}),Komodo.Application.ManageModulesView=Komodo.UI.View.extend({viewKey:"ManageModulesView"}),Komodo.Services.localizationService.registerNamespace("locale.security");