Ember.TEMPLATES.AmountToPayView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a,n,s;return t.buffer.push('\r\n\r\n      <table width="100%">\r\n       <tr>\r\n           <td width="30%" align="left">\r\n               <b>'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.accountBalance",s):A.call(e,"loc","locale.customer:amountToPay.accountBalance",s)))),t.buffer.push('</b>\r\n           </td>\r\n           <td width="70%" align="left"></td>\r\n       </tr>\r\n   </table>\r\n     \r\n    <br />\r\n   \r\n    \r\n    <table id="amountToPayTable" class="table table-bordered komodo-datagrid">\r\n        <tr>\r\n            <th style="width: 35%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.accounts",s):A.call(e,"loc","locale.customer:amountToPay.accounts",s)))),t.buffer.push('</th>\r\n            <th style="width: 34%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.accountNumber",s):A.call(e,"loc","locale.customer:amountToPay.accountNumber",s)))),t.buffer.push('</th>\r\n            <th style="width: 27%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.amount",s):A.call(e,"loc","locale.customer:amountToPay.amount",s)))),t.buffer.push('</th>\r\n            <th style="width: 4%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.pay",s):A.call(e,"loc","locale.customer:amountToPay.pay",s)))),t.buffer.push("</th>\r\n        </tr>\r\n\r\n        "),a=o.each.call(e,"itemBalance","in","data.debitAccounts",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(2,i,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n            <tr>\r\n                         <td colspan="2">\r\n                             <b>'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.subTotal",s):A.call(e,"loc","locale.customer:amountToPay.subTotal",s)))),t.buffer.push('</b>\r\n                         </td>\r\n                         <td class="komodo-decimal"><b>'),a=o._triageMustache.call(e,"data.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"data.accountsSubTotal",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</b></td>\r\n                         <td>\r\n                             <input type="checkbox" id="selectAllAccountsCheckButton" class="selectAllAccountsCheckButton12" />\r\n                         </td>\r\n                     </tr>\r\n    </table>\r\n  \r\n    '),a=o.if.call(e,"data.showLazyLoadGif",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(5,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n    \r\n     <br />\r\n\r\n      <div id="dueSoonTable">\r\n\r\n          <table width="100%">\r\n              <tr>\r\n                  <td width="30%" align="left">\r\n                      <b>'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.dueSoon",s):A.call(e,"loc","locale.customer:amountToPay.dueSoon",s)))),t.buffer.push('</b>\r\n                  </td>\r\n                  <td width="70%" align="left"></td>\r\n              </tr>\r\n          </table>\r\n\r\n          <br />\r\n          <table id="amountToPayTable" class="table table-bordered komodo-datagrid">\r\n\r\n              <tr>\r\n                  <th style="width: 19%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.accountName",s):A.call(e,"loc","locale.customer:amountToPay.accountName",s)))),t.buffer.push('</th>\r\n                  <th style="width: 16%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.quoteNumber",s):A.call(e,"loc","locale.customer:amountToPay.quoteNumber",s)))),t.buffer.push('</th>\r\n                  <th style="width: 34%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.services",s):A.call(e,"loc","locale.customer:amountToPay.services",s)))),t.buffer.push('</th>\r\n                  <th style="width: 15%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.period",s):A.call(e,"loc","locale.customer:amountToPay.period",s)))),t.buffer.push('</th>\r\n                  <th style="width: 12%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.amount",s):A.call(e,"loc","locale.customer:amountToPay.amount",s)))),t.buffer.push('</th>\r\n                  <th style="width: 4%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.pay",s):A.call(e,"loc","locale.customer:amountToPay.pay",s)))),t.buffer.push("</th>\r\n              </tr>\r\n\r\n              "),a=o.if.call(e,"data.showQuotes",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(7,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n               "),a=o.unless.call(e,"data.showQuotes",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('    \r\n           \r\n             <tr>\r\n                 <td colspan="4">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.subtotal",s):A.call(e,"loc","locale.customer:amountToPay.subtotal",s)))),t.buffer.push('</td>\r\n                 <td class="komodo-decimal"><b>'),a=o._triageMustache.call(e,"data.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"data.quotesSubTotal",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</b></td>\r\n                 <td>\r\n                     <input type="checkbox" id="selectAllQuotesCheckBox" />\r\n                 </td>\r\n             </tr>\r\n\r\n          </table>\r\n\r\n      </div>\r\n \r\n     <hr />    \r\n         <br />\r\n    <table width="100%">\r\n       <tr>\r\n           <td width="40%" align="left">               \r\n           </td>\r\n           <td width="60%" align="right"><b>'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.totalAmountToPay",s):A.call(e,"loc","locale.customer:amountToPay.totalAmountToPay",s)))),t.buffer.push(" </b>&nbsp; "),a=o._triageMustache.call(e,"data.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"data.amountToPay",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>           \r\n       </tr>\r\n   </table>  \r\n          <hr />   \r\n  \r\n   "),a=o.if.call(e,"data.showArrearsPayments",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(16,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("    \r\n      \r\n    <br />\r\n        "),a=o.if.call(e,"data.showCreditAccounts",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('    \r\n        \r\n          <br />\r\n    <div style="float: right;">   \r\n      <input type="radio" disabled name="payments" id="adhocDebitOrderRadioButton"/> &nbsp; '),a=o.if.call(e,"data.showPayViaAdhocButton",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(22,v,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('  &nbsp;  \r\n      <input type="radio" disabled name="payments" id="useCreditRadioButton" />&nbsp;'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.useCredit",s):A.call(e,"loc","locale.customer:amountToPay.useCredit",s)))),t.buffer.push('&nbsp;\r\n      <input type="radio" disabled name="payments" id="useCashRadioButton" />&nbsp;'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.useCash",s):A.call(e,"loc","locale.customer:amountToPay.useCash",s)))),t.buffer.push("&nbsp;\r\n       </div>\r\n         <br />\r\n         <br />\r\n  "),""}function i(e,t){var a;return t.buffer.push("\r\n        "),a=o.unless.call(e,"itemBalance.showWithCreditAccounts",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(3,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\t    "),""}function r(e,t){var a;return t.buffer.push("\r\n            <tr>\r\n            <td>"),a=o._triageMustache.call(e,"itemBalance.friendlytype",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n            <td>"),a=o._triageMustache.call(e,"itemBalance.accountNumber",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n            <td class="komodo-decimal">'),a=o._triageMustache.call(e,"itemBalance.currencyCode",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"itemBalance.balance",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n            <td>"),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"itemBalance.pay"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</td>\r\n        </tr>\r\n        "),""}function l(e,t){t.buffer.push('\r\n    <div style="height:50px">\r\n        <img height="50" src="Content/Images/busy-small.svg" />\r\n    </div>\r\n    ')}function d(e,t){var a;return t.buffer.push("\r\n                "),a=o.each.call(e,"quote","in","data.quotesM",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(8,u,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("  \r\n              "),""}function u(e,t){var a;return t.buffer.push("\r\n                    <tr>\r\n                        <td>"),a=o._triageMustache.call(e,"quote.accountName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n                        <td>\r\n                            "),a=o._triageMustache.call(e,"quote.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                            "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{size:"small",action:"PreActivateQoute",qouteId:"quote.id",disabledBinding:"quote.isPreActivateDisable",type:"success",quoteSourceEvent:"quote.sourceEvent",visibleBinding:"quote.isPreActivateVisible"},hashTypes:{size:"STRING",action:"STRING",qouteId:"ID",disabledBinding:"ID",type:"STRING",quoteSourceEvent:"ID",visibleBinding:"STRING"},hashContexts:{size:e,action:e,qouteId:e,disabledBinding:e,type:e,quoteSourceEvent:e,visibleBinding:e},inverse:M.noop,fn:M.program(9,c,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                            "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{size:"small",action:"addToAccount",qouteId:"quote.id",customerId:"quote.customerNumber",type:"success",visibleBinding:"quote.isAddtoAccountVisible"},hashTypes:{size:"STRING",action:"STRING",qouteId:"ID",customerId:"ID",type:"STRING",visibleBinding:"ID"},hashContexts:{size:e,action:e,qouteId:e,customerId:e,type:e,visibleBinding:e},inverse:M.noop,fn:M.program(11,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n                        </td>\r\n                        <td>"),a=o._triageMustache.call(e,"quote.services",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n                        <td>"),a=o._triageMustache.call(e,"quote.period",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                        <td class="komodo-decimal">'),a=o._triageMustache.call(e,"quote.currencyCode",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"quote.amount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n                        <td>"),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{disabledBinding:"quote.disableHolidayHome",checkedBinding:"quote.pay"},hashTypes:{disabledBinding:"ID",checkedBinding:"STRING"},hashContexts:{disabledBinding:e,checkedBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</td>\r\n                    </tr>\r\n                "),""}function c(e,t){var a,n;return t.buffer.push("\r\n                            "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customerprofile.customerprofile:amountpaypopup.PreActivateQuoute",n):A.call(e,"loc","locale.customerprofile.customerprofile:amountpaypopup.PreActivateQuoute",n)))),t.buffer.push("\r\n                            "),""}function m(e,t){var a,n;return t.buffer.push("\r\n                            "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customerprofile.customerprofile:amountpaypopupSA.addToAccount",n):A.call(e,"loc","locale.customerprofile.customerprofile:amountpaypopupSA.addToAccount",n)))),t.buffer.push("\r\n                            "),""}function h(e,t){var a;return t.buffer.push("\r\n                "),a=o.each.call(e,"nextInvoiceEstimate","in","data.nextInvoiceEstimates",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(14,p,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" \r\n               "),""}function p(e,t){var a;return t.buffer.push("\r\n                     <tr>\r\n                         <td>"),a=o._triageMustache.call(e,"nextInvoiceEstimate.accountName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n                         <td>"),a=o._triageMustache.call(e,"nextInvoiceEstimate.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n                         <td>"),a=o._triageMustache.call(e,"nextInvoiceEstimate.services",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n                         <td>"),a=o._triageMustache.call(e,"nextInvoiceEstimate.period",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                         <td class="komodo-decimal">'),a=o._triageMustache.call(e,"nextInvoiceEstimate.currencyCode",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"nextInvoiceEstimate.amount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n                         <td>"),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"nextInvoiceEstimate.pay"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</td>\r\n                     </tr>\r\n                "),""}function g(e,t){var a,n,s;return t.buffer.push('    \r\n   <br />\r\n    <table width="100%">\r\n       <tr>\r\n           <td width="40%" align="left">               \r\n           </td>\r\n           <td width="60%" align="right"><b>'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.remainingInstallmentAmount",s):A.call(e,"loc","locale.customer:amountToPay.remainingInstallmentAmount",s)))),t.buffer.push(" </b>&nbsp; "),a=o._triageMustache.call(e,"data.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"data.remainingInstallment",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>           \r\n       </tr>\r\n   </table>  \r\n          <hr />   \r\n      "),""}function f(e,t){var a,n,s;return t.buffer.push('\r\n         <table width="100%">\r\n       <tr>\r\n           <td width="50%" align="left">\r\n               <b>'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.creditBalances",s):A.call(e,"loc","locale.customer:amountToPay.creditBalances",s)))),t.buffer.push("</b>&nbsp; "),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.notIncludedInAmountToPay",s):A.call(e,"loc","locale.customer:amountToPay.notIncludedInAmountToPay",s)))),t.buffer.push('\r\n           </td>\r\n           <td width="50%" align="left">&nbsp;</td>\r\n       </tr>\r\n   </table>\r\n         \r\n         <table width="100%">\r\n        <tr>\r\n            <td width="100%">\r\n                <table id="creditTable" class="table table-bordered komodo-datagrid">\r\n                    <tr>\r\n\t\t\t\t\t<th style="width: 43%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.account",s):A.call(e,"loc","locale.customer:amountToPay.account",s)))),t.buffer.push('</th>\r\n\t\t\t\t\t<th style="width: 43%;">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:amountToPay.balance",s):A.call(e,"loc","locale.customer:amountToPay.balance",s)))),t.buffer.push('</th>\r\n                    <th style="width: 4%;">Pay</th>\t\t\t\t\t\r\n\t\t\t\t</tr>\r\n                     '),a=o.each.call(e,"creditAccount","in","data.debitAccounts",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(19,y,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\t\r\n                </table>\r\n            </td>\r\n            <td width="50%">\r\n\r\n            </td>\r\n        </tr>\r\n\t\t\t\t\t\t                    \r\n\t</table>  \r\n        '),""}function y(e,t){var a;return t.buffer.push("\r\n                     "),a=o.if.call(e,"creditAccount.showWithCreditAccounts",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(20,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("    \r\n\t\t\t\t\t"),""}function b(e,t){var a;return t.buffer.push("\r\n                    <tr>                       \r\n                        <td>"),a=o._triageMustache.call(e,"creditAccount.type",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>                        \r\n                        <td class="komodo-decimal">'),a=o._triageMustache.call(e,"creditAccount.currencyCode",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"creditAccount.balance",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" </td>\r\n                        <td>"),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{disabledBinding:"creditAccount.disableCheckBox",checkedBinding:!1},hashTypes:{disabledBinding:"ID",checkedBinding:"BOOLEAN"},hashContexts:{disabledBinding:e,checkedBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</td>                                                                          \r\n                    </tr>\r\n                     "),""}function v(e,t){var a,n;return t.buffer.push(" "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:amountToPay.payViaAdhoc",n):A.call(e,"loc","locale.customer:amountToPay.payViaAdhoc",n)))),t.buffer.push(" "),""}function C(e,t){var a,n;return t.buffer.push(" "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:amountToPay.pay",n):A.call(e,"loc","locale.customer:amountToPay.pay",n)))),""}function I(e,t){var a,n;t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:amountToPay.rejectQuote",n):A.call(e,"loc","locale.customer:amountToPay.rejectQuote",n))))}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var T,D,S,N=this.escapeExpression,M=this,A=o.helperMissing;return n.buffer.push("<div "),n.buffer.push(N(o["bind-attr"].call(t,{hash:{class:"Komodo.Services.customerProfileService.isBannerOpen:customer-page-padding:no-banner-padding"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:n}))),n.buffer.push('>\r\n  <div width="90%">\r\n    <span class="komodo-heading">'),n.buffer.push(N((D=o.loc||t&&t.loc,S={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},D?D.call(t,"locale.customer:amountToPay.title",S):A.call(t,"loc","locale.customer:amountToPay.title",S)))),n.buffer.push('</span>\r\n    <span class="float-right">\r\n        <b>\r\n            <a href="#/customerInformation">&lt;'),T=o._triageMustache.call(t,"back",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(T||0===T)&&n.buffer.push(T),n.buffer.push("</a>\r\n        </b>\r\n    </span>\r\n  </div>\r\n  <hr />\r\n  "),T=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:amountToPay.panelTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:M.noop,fn:M.program(1,s,n),contexts:[t],types:["ID"],data:n}),(T||0===T)&&n.buffer.push(T),n.buffer.push('  \r\n\r\n         <br />\r\n    <div style="float: right;">\r\n      '),T=o.view.call(t,"Komodo.Controls.Button",{hash:{action:"pay",tabindex:"11",contentBinding:"",disabledBinding:"data.payButtonDisabled"},hashTypes:{action:"STRING",tabindex:"STRING",contentBinding:"STRING",disabledBinding:"STRING"},hashContexts:{action:t,tabindex:t,contentBinding:t,disabledBinding:t},inverse:M.noop,fn:M.program(24,C,n),contexts:[t],types:["ID"],data:n}),(T||0===T)&&n.buffer.push(T),n.buffer.push("\r\n      "),T=o.view.call(t,"Komodo.Controls.Button",{hash:{action:"rejectQuotes",tabindex:"11",contentBinding:"",disabledBinding:"data.rejectQuoteButtonDisabled"},hashTypes:{action:"STRING",tabindex:"STRING",contentBinding:"STRING",disabledBinding:"STRING"},hashContexts:{action:t,tabindex:t,contentBinding:t,disabledBinding:t},inverse:M.noop,fn:M.program(26,I,n),contexts:[t],types:["ID"],data:n}),(T||0===T)&&n.buffer.push(T),n.buffer.push("\r\n\r\n    </div>\r\n    <br /> \r\n    <br /> \r\n    <br /> \r\n</div>"),""}),Ember.TEMPLATES.WhereItIsView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a;return t.buffer.push('\r\n  <table width="100%">\r\n    <tr>\r\n      <td width="30%">\r\n        '),t.buffer.push(D(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"1",valueBinding:"whereItIsModel.deviceNumber",label:"~locale.customer:whereItIs.deviceNumber~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n      <td width="30%">\r\n        '),t.buffer.push(D(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"2",valueBinding:"whereItIsModel.parcelNumber1",label:"~locale.customer:whereItIs.parcelNumber~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n      <td width="20%">\r\n        '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"find",disableBinding:"disbleSearch",tabindex:"4",class:"btn-success"},hashTypes:{action:"STRING",disableBinding:"STRING",tabindex:"STRING",class:"STRING"},hashContexts:{action:e,disableBinding:e,tabindex:e,class:e},inverse:S.noop,fn:S.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <br />\r\n  <br />\r\n  "),a=o.if.call(e,"showImage",{hash:{},hashTypes:{},hashContexts:{},inverse:S.noop,fn:S.program(4,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  <br />\r\n  "),""}function i(e,t){var a,n;return t.buffer.push("\r\n        "),t.buffer.push(D((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:whereItIs.find",n):T.call(e,"loc","locale.customer:whereItIs.find",n)))),""}function r(e,t){var a;return t.buffer.push('\r\n\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        <div class="delivery-container">\r\n          <div class="delivery-status">Not Found</div>\r\n          '),a=o.if.call(e,"notFound",{hash:{},hashTypes:{},hashContexts:{},inverse:S.program(7,d,t),fn:S.program(5,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n          <div class="delivery-status">Collected</div>\r\n          '),a=o.if.call(e,"collected",{hash:{},hashTypes:{},hashContexts:{},inverse:S.program(11,c,t),fn:S.program(9,u,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n          <div class="delivery-status">In-Transit</div>\r\n          '),a=o.if.call(e,"inTransit",{hash:{},hashTypes:{},hashContexts:{},inverse:S.program(15,h,t),fn:S.program(13,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n          <div class="delivery-status">Delivered</div>\r\n          '),a=o.if.call(e,"delivered",{hash:{},hashTypes:{},hashContexts:{},inverse:S.program(19,g,t),fn:S.program(17,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n\r\n  "),""}function l(e,t){t.buffer.push('\r\n          <div class="delivery-item-status-active">\r\n            <img src="Content/Images/Delivery/not-found-active.svg" class="img-responsive" />\r\n          </div>\r\n          ')}function d(e,t){t.buffer.push('\r\n          <div class="delivery-item-status">\r\n            <img src="Content/Images/Delivery/not-found.svg" class="img-responsive" />\r\n          </div>\r\n          ')}function u(e,t){t.buffer.push('\r\n          <div class="delivery-item-status-active">\r\n            <img src="Content/Images/Delivery/collected-active.svg" class="img-responsive" />\r\n          </div>\r\n          ')}function c(e,t){t.buffer.push('\r\n          <div class="delivery-item-status">\r\n            <img src="Content/Images/Delivery/collected.svg" class="img-responsive" />\r\n          </div>\r\n          ')}function m(e,t){t.buffer.push('\r\n          <div class="delivery-item-status-active">\r\n            <img src="Content/Images/Delivery/in-transit-active.svg" class="img-responsive" />\r\n          </div>\r\n          ')}function h(e,t){t.buffer.push('\r\n          <div class="delivery-item-status">\r\n            <img src="Content/Images/Delivery/in-transit.svg" class="img-responsive" />\r\n          </div>\r\n          ')}function p(e,t){t.buffer.push('\r\n          <div class="delivery-item-status-active">\r\n            <img src="Content/Images/Delivery/delivered-active.svg" class="img-responsive" />\r\n          </div>\r\n          ')}function g(e,t){t.buffer.push('\r\n          <div class="delivery-item-status">\r\n            <img src="Content/Images/Delivery/delivered.svg" class="img-responsive" />\r\n          </div>\r\n          ')}function f(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:whereItIs.parcelTracking~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:S.noop,fn:S.program(22,y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function y(e,t){var a,n,s;return t.buffer.push('\r\n  <table width="100%">\r\n    <tr>\r\n      <td width="50%">\r\n        <p class="info-heading">'),t.buffer.push(D((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:whereItIs.parcelNumber",s):T.call(e,"loc","locale.customer:whereItIs.parcelNumber",s)))),t.buffer.push("</p>\r\n        "),a=o._triageMustache.call(e,"whereItIsModel.parcelNumber2",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n      </td>\r\n      <td width="50%">\r\n        <p class="info-heading">'),t.buffer.push(D((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:whereItIs.trackingStatus",s):T.call(e,"loc","locale.customer:whereItIs.trackingStatus",s)))),t.buffer.push("</p>\r\n        "),a=o._triageMustache.call(e,"whereItIsModel.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td width="50%">\r\n\r\n      </td>\r\n      <td width="50%">\r\n\r\n      </td>\r\n    </tr>\r\n\r\n  </table>\r\n  <br />\r\n  <table width="100%" class="table table-bordered komodo-datagrid">\r\n\r\n    <tr>\r\n      <th>'),t.buffer.push(D((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:whereItIs.date",s):T.call(e,"loc","locale.customer:whereItIs.date",s)))),t.buffer.push("</th>\r\n      <th>"),t.buffer.push(D((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},
hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:whereItIs.location",s):T.call(e,"loc","locale.customer:whereItIs.location",s)))),t.buffer.push("</th>\r\n      <th>"),t.buffer.push(D((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:whereItIs.trackingProgress",s):T.call(e,"loc","locale.customer:whereItIs.trackingProgress",s)))),t.buffer.push("</th>\r\n    </tr>\r\n\r\n    "),a=o.each.call(e,"item","in","salesTracks",{hash:{},hashTypes:{},hashContexts:{},inverse:S.noop,fn:S.program(23,b,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  </table>\r\n  "),""}function b(e,t){var a;return t.buffer.push("\r\n\r\n    <tr>\r\n      <td>\r\n        "),a=o._triageMustache.call(e,"item.date",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      </td>\r\n      <td>\r\n        -\r\n      </td>\r\n      <td>\r\n        "),a=o._triageMustache.call(e,"item.trackingProgress",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n    "),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var v,C,I,T=o.helperMissing,D=this.escapeExpression,S=this;return n.buffer.push('<div class="no-banner-padding">\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        <p class="komodo-heading">'),n.buffer.push(D((C=o.loc||t&&t.loc,I={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},C?C.call(t,"locale.customer:whereItIs.title",I):T.call(t,"loc","locale.customer:whereItIs.title",I)))),n.buffer.push('</p>\r\n      </td>\r\n      <td align="right">\r\n        <b>'),n.buffer.push(D(o.view.call(t,"Komodo.Controls.Link",{hash:{text:"~locale.quotation:createQuotation.back~",href:"#/home"},hashTypes:{text:"STRING",href:"STRING"},hashContexts:{text:t,href:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("</b>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <hr />\r\n  "),v=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:whereItIs.trackDelivery~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:S.noop,fn:S.program(1,s,n),contexts:[t],types:["ID"],data:n}),(v||0===v)&&n.buffer.push(v),n.buffer.push("\r\n\r\n  "),v=o.if.call(t,"found",{hash:{},hashTypes:{},hashContexts:{},inverse:S.noop,fn:S.program(21,f,n),contexts:[t],types:["ID"],data:n}),(v||0===v)&&n.buffer.push(v),n.buffer.push("\r\n</div>"),""}),Ember.TEMPLATES.VerifyDocumentsView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a,n;return t.buffer.push("\r\n        "),t.buffer.push(u((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.komodo:login.login",n):d.call(e,"loc","locale.komodo:login.login",n)))),t.buffer.push("\r\n        "),""}function i(e,t){var a,n;return t.buffer.push("\r\n        "),t.buffer.push(u((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.documentsVerified",n):d.call(e,"loc","locale.customer:customerInformation.documentsVerified",n)))),t.buffer.push("\r\n        "),""}function r(e,t){var a,n;return t.buffer.push("\r\n        "),t.buffer.push(u((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.documentsNotVerified",n):d.call(e,"loc","locale.customer:customerInformation.documentsNotVerified",n)))),t.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var l,d=o.helperMissing,u=this.escapeExpression,c=this;return n.buffer.push('<table border="0" cellSpacing="2" cellPadding="2" width="100%">\r\n  <fieldset>\r\n    <tr>\r\n      <td align="left" colspan="2">\r\n        '),n.buffer.push(u(o.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.superVisorLogIn~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push('   <br />\r\n      </td>\r\n    </tr>\r\n\r\n\r\n\r\n    <tr>\r\n      <td style="padding-right:10px">\r\n        '),n.buffer.push(u(o.view.call(t,"Komodo.Controls.TextField",{hash:{tabindex:"600",valueBinding:"data.supervisorUsername",label:"~locale.manageAccount.adhocdebitorder:general.supervisorName~",validatorBinding:"view.context.validators.supervisorUsernameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:t,valueBinding:t,label:t,validatorBinding:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n      </td>\r\n      <td>\r\n        "),n.buffer.push(u(o.view.call(t,"Komodo.Controls.TextField",{hash:{type:"password",tabindex:"601",valueBinding:"data.passCode",label:"~locale.manageAccount.adhocdebitorder:general.passCode~",validatorBinding:"view.context.validators.passCodeValidator"},hashTypes:{type:"STRING",tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{type:t,tabindex:t,valueBinding:t,label:t,validatorBinding:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push('\r\n      </td>\r\n    </tr>\r\n    <br />\r\n    <br />\r\n    <tr>\r\n      <td align="right" colspan="2">\r\n        '),l=o.view.call(t,"Komodo.Controls.Button",{hash:{tabindex:"602",action:"login",visibleBinding:"data.loginButton"},hashTypes:{tabindex:"STRING",action:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:t,action:t,visibleBinding:t},inverse:c.noop,fn:c.program(1,s,n),contexts:[t],types:["ID"],data:n}),(l||0===l)&&n.buffer.push(l),n.buffer.push("\r\n        "),l=o.view.call(t,"Komodo.Controls.Button",{hash:{tabindex:"603",action:"verifyDocument",visibleBinding:"data.showButtons"},hashTypes:{tabindex:"STRING",action:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:t,action:t,visibleBinding:t},inverse:c.noop,fn:c.program(3,i,n),contexts:[t],types:["ID"],data:n}),(l||0===l)&&n.buffer.push(l),n.buffer.push("\r\n        "),l=o.view.call(t,"Komodo.Controls.Button",{hash:{tabindex:"604",class:"btn-danger",visibleBinding:"data.showButtons",action:"documentsNotVerified"},hashTypes:{tabindex:"STRING",class:"STRING",visibleBinding:"STRING",action:"STRING"},hashContexts:{tabindex:t,class:t,visibleBinding:t,action:t},inverse:c.noop,fn:c.program(5,r,n),contexts:[t],types:["ID"],data:n}),(l||0===l)&&n.buffer.push(l),n.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </fieldset>\r\n</table>\r\n"),""}),Ember.TEMPLATES.SpecialistCustomerView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function i(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(3,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function r(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(4,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(17,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function l(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorsVIP",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(11,m,t),fn:We.program(9,c,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"DD",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"MM",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"YYYY",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"112",valueBinding:"customerDataModel.sponsor",validatorBinding:"validators.sponsorValidator",label:"~locale.specialistCustomer:customerInformation.sponsor~",contentBinding:"sponsors",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function d(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"1",valueBinding:"customerDataModel.custType",label:"~locale.specialistCustomer:customer.custType~",contentBinding:"_customerTypes",optionValuePath:"content",optionLabelPath:"content.CanonicalValue",validatorBinding:"validators.custTypeValidator",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",validatorBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,optionValuePath:e,optionLabelPath:e,validatorBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function u(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"100",contentBinding:"customerDataModel.viewingPlatformData",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.viewingPlatform",validatorBinding:"validators.viewingPlatformValidator",labelBinding:"viewingPlatformlabel"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING",labelBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,displayPath:e,valuePath:e,valueBinding:e,validatorBinding:e,labelBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function c(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function m(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function h(e,t){t.buffer.push('\r\n  <span class="error-text" data-bindattr-908="908">*</span><br/>\r\n  ')}function p(e,t){t.buffer.push('\r\n  <span class="error-text" data-bindattr-908="908"></span><br/>\r\n  ')}function g(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.isDriverLicense"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"111",valueBinding:"customerDataModel.position",label:"~locale.specialistCustomer:customerInformation.position~",validatorBinding:"validators.positionValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"113",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function f(e,t){t.buffer.push("\r\n  <br/><br/><br/><br/>\r\n  ")}function y(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(21,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function b(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(22,v,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function v(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(23,C,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(25,I,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function C(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorsDiplomat",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("  \r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function I(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.isDriverLicense"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"111",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function T(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,
fn:We.program(28,D,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function D(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(29,S,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function S(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(30,N,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(32,M,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function N(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorsShareholders",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("  \r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"112",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function M(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.isDriverLicense"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"111",valueBinding:"customerDataModel.companyName",label:"~locale.specialistCustomer:customerInformation.companyName~",validatorBinding:"validators.companyNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function A(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(35,x,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function x(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(36,B,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function B(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(37,P,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(39,R,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function P(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorsFieldTrialist",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"104",valueBinding:"customerDataModel.customerNo",label:"~locale.specialistCustomer:customerInformation.customerNo~",validatorBinding:"validators.customerNoValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"108",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("  \r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"111",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"112",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextArea",{hash:{valueBinding:"customerDataModel.homeEquipment",tabindex:"114",rows:"5",label:"~locale.specialistCustomer:customerInformation.homeEquipment~",validatorBinding:"validators.homeEquipmentValidator"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",rows:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,tabindex:e,rows:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function R(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.employeeNo",label:"~locale.specialistCustomer:customerInformation.employeeNo~",validatorBinding:"validators.employeeNoValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"107",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"109",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.isDriverLicense"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function O(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(42,V,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function V(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(43,G,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function G(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(44,w,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(46,K,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function w(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.employmentType",validatorBinding:"validators.employmentTypeValidator",label:"~locale.specialistCustomer:customerInformation.employmentType~",contentBinding:"employmentTypes",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"112",valueBinding:"customerDataModel.businessName",validatorBinding:"validators.businessNameValidator",label:"~locale.specialistCustomer:customerInformation.businessName~",contentBinding:"_businessNames",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"114",valueBinding:"customerDataModel.benefitEndDate",validatorBinding:"validators.benefitEndDateValidator",label:"~locale.specialistCustomer:customerInformation.benefitEndDate~",disableBinding:"customerDataModel.isBenefitEndDtDisabled"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function K(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",
disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.isDriverLicense"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"111",valueBinding:"customerDataModel.employeeNo",label:"~locale.specialistCustomer:customerInformation.employeeNo~",validatorBinding:"validators.employeeNoValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"113",valueBinding:"customerDataModel.department",validatorBinding:"validators.departmentValidator",label:"~locale.specialistCustomer:customerInformation.department~",contentBinding:"_departments",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"115",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function E(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(49,k,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function k(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(50,L,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function L(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(51,_,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(53,H,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n\r\n  "),""}function _(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorSalesPromoter",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"111",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function H(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.isDriverLicense"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"112",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function F(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(56,U,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function U(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(57,q,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function q(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(58,$,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(60,j,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function $(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorMonitoring",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"102",valueBinding:"customerDataModel.department",validatorBinding:"validators.departmentValidator",label:"~locale.specialistCustomer:customerInformation.department~",contentBinding:"_departments",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function j(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.businessName",validatorBinding:"validators.businessNameValidator",label:"~locale.specialistCustomer:customerInformation.businessName~",contentBinding:"_businessNames",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"103",valueBinding:"customerDataModel.benefitEndDate",validatorBinding:"validators.benefitEndDateValidator",label:"~locale.specialistCustomer:customerInformation.benefitEndDate~",disableBinding:"customerDataModel.isBenefitEndDtDisabled",visibleBinding:"isBenifitEndDateVisible"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",disableBinding:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,disableBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function Q(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(63,Y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Y(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(64,J,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function J(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(65,z,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(60,j,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function z(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorInternalDemo",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"102",valueBinding:"customerDataModel.department",validatorBinding:"validators.departmentValidator",label:"~locale.specialistCustomer:customerInformation.department~",contentBinding:"_departments",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function W(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(68,X,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function X(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(69,Z,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Z(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(70,ee,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(72,te,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n\r\n  "),""}function ee(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.demoType",validatorBinding:"validators.demoTypeValidator",label:"~locale.specialistCustomer:customerInformation.demoType~",contentBinding:"demoTypes",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.companyRegNo",label:"~locale.specialistCustomer:customerInformation.companyRegNo~",validatorBinding:"validators.companyRegNoValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function te(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"101",valueBinding:"customerDataModel.companyName",label:"~locale.specialistCustomer:customerInformation.companyName~",validatorBinding:"validators.companyNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"103",valueBinding:"customerDataModel.benefitEndDate",validatorBinding:"validators.benefitEndDateValidator",label:"~locale.specialistCustomer:customerInformation.benefitEndDate~",disableBinding:"customerDataModel.isBenefitEndDtDisabled",visibleBinding:"isBenifitEndDateVisible"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",disableBinding:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,disableBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function oe(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(75,ae,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function ae(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(76,ne,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function ne(e,t){var a;return t.buffer.push("\r\n\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(77,se,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(79,ie,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n\r\n  "),""}function se(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorsMultichoice",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),
t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"112",valueBinding:"customerDataModel.businessName",validatorBinding:"validators.businessNameValidator",label:"~locale.specialistCustomer:customerInformation.businessName~",contentBinding:"_businessNames",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function ie(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"111",valueBinding:"customerDataModel.employeeNo",label:"~locale.specialistCustomer:customerInformation.employeeNo~",validatorBinding:"validators.employeeNoValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"113",valueBinding:"customerDataModel.department",validatorBinding:"validators.departmentValidator",label:"~locale.specialistCustomer:customerInformation.department~",contentBinding:"_departments",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"115",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function re(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(82,le,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function le(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(83,de,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function de(e,t){var a;return t.buffer.push("\r\n\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(84,ue,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(79,ie,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n\r\n  "),""}function ue(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorsNaspers",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"112",valueBinding:"customerDataModel.businessName",validatorBinding:"validators.businessNameValidator",label:"~locale.specialistCustomer:customerInformation.businessName~",contentBinding:"_businessNames",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function ce(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(87,me,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function me(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(88,he,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function he(e,t){var a;return t.buffer.push("\r\n\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(89,pe,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(91,ge,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n\r\n  "),""}function pe(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.specialistCustomer:customerInformation.locationIndicator~",contentBinding:"locationIndicatorsAgencies",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"112",valueBinding:"customerDataModel.businessName",validatorBinding:"validators.businessNameValidator",label:"~locale.specialistCustomer:customerInformation.businessName~",contentBinding:"_businessNames",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function ge(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"111",valueBinding:"customerDataModel.department",validatorBinding:"validators.departmentValidator",label:"~locale.specialistCustomer:customerInformation.department~",contentBinding:"_departments",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"113",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function fe(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(94,ye,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function ye(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(95,be,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function be(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(96,ve,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(98,Ce,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function ve(e,t){var a,n,s;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(7,u,t),fn:We.program(5,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"customerDataModel.locationIndicator",validatorBinding:"validators.locationIndicatorValidator",label:"~locale.associateProducts:deviceAtAnotherLocation.residenceType~",contentBinding:"locationIndicatorsPanelist",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"customerDataModel.identityDetailType",validatorBinding:"validators.identityDetailTypeValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"106",valueBinding:"customerDataModel.countryOfOrigin",validatorBinding:"validators.countryOfOriginValidator",label:"~locale.specialistCustomer:customerInformation.countryOfOrigin~",contentBinding:"countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"customerDataModel.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",
prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"112",contentBinding:"customerDataModel.yesNo",label:"~locale.specialistCustomer:customerInformation.canWeSendMarketing~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.acceptMarketingInfo",validatorBinding:"validators.acceptMarketingInfoValidator"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function Ce(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(5,d,t),fn:We.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.specialistCustomer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"customerDataModel.idValue",disableBinding:"customerDataModel.isIDFieldDisabled",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",validatorBinding:"validators.idValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"107",valueBinding:"customerDataModel.passportExpiryDate",validatorBinding:"validators.passportExpiryDateValidator",label:"~locale.specialistCustomer:customerInformation.expiryDate~",visibleBinding:"customerDataModel.isDriverLicense"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"111",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"113",valueBinding:"customerDataModel.methodOfCommunication",validatorBinding:"validators.methodOfCommunicationValidator",label:"~locale.specialistCustomer:customerInformation.CommunicationMethod~",contentBinding:"communicationMethods",disableBinding:"customerDataModel.isMethodOfCommunicationDisabled",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",disableBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,disableBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function Ie(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Contact",{hash:{phoneNumberBinding:"contactNumbers",emailAddressBinding:"emails",showContactControlsBinding:"_showContacts",isEmailRequiredBinding:"emailRequired",tabIndex:200},hashTypes:{phoneNumberBinding:"STRING",emailAddressBinding:"STRING",showContactControlsBinding:"STRING",isEmailRequiredBinding:"STRING",tabIndex:"INTEGER"},hashContexts:{phoneNumberBinding:e,emailAddressBinding:e,showContactControlsBinding:e,isEmailRequiredBinding:e,tabIndex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function Te(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Address",{hash:{addressListBinding:"customerDataModel.addressInformation",floorBinding:"_floorBinding",showControls:!0,tabIndex:300},hashTypes:{addressListBinding:"STRING",floorBinding:"STRING",showControls:"BOOLEAN",tabIndex:"INTEGER"},hashContexts:{addressListBinding:e,floorBinding:e,showControls:e,tabIndex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function De(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.financialInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(105,Se,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Se(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.PaymentDetails",{hash:{paymentDetailsBinding:"paymentDetails",disableMOPBinding:"disableMOP",disableDebitOrderDayBinding:"disablePaymentDay",tabIndex:300,defaultDayShowBinding:"defaultDayShow",startIPDayWithOneBinding:"startIPDayWithOne"},hashTypes:{paymentDetailsBinding:"STRING",disableMOPBinding:"STRING",disableDebitOrderDayBinding:"STRING",tabIndex:"INTEGER",defaultDayShowBinding:"STRING",startIPDayWithOneBinding:"STRING"},hashContexts:{paymentDetailsBinding:e,disableMOPBinding:e,disableDebitOrderDayBinding:e,tabIndex:e,defaultDayShowBinding:e,startIPDayWithOneBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function Ne(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.householdMemberTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(108,Me,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Me(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(109,Ae,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.if.call(e,"isHouseHoldInfoVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(112,Be,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Ae(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"full-width"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:We.noop,fn:We.program(110,xe,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function xe(e,t){return t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.householdMember~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"500",action:"addHouseHoldInfoVisible",text:"~locale.customer:customerInformation.addLink~"},hashTypes:{tabindex:"STRING",action:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DataGrid",{hash:{canSort:!0,performsValidation:!0,canDelete:!1,canEdit:!1,editMode:"cell",canSelect:!0,pageSize:10,selectedItemBinding:"customerDataModel.selectedGridItemHouseholdMemberAndAuthority",contentBinding:"customerDataModel.householdMemberAndAuthority",columnsBinding:"dataGridColumnsHouseholdMemberAndAuthority",commandItemBinding:"customerDataModel.commandGridItemHouseholdMemberAndAuthority",commandItemTypeBinding:"customerDataModel.deleteGridItemHouseholdMemberAndAuthority",visibleBinding:"hidehouseholdMemberGrid"},hashTypes:{canSort:"BOOLEAN",performsValidation:"BOOLEAN",canDelete:"BOOLEAN",canEdit:"BOOLEAN",editMode:"STRING",canSelect:"BOOLEAN",pageSize:"INTEGER",selectedItemBinding:"STRING",contentBinding:"STRING",columnsBinding:"STRING",commandItemBinding:"STRING",commandItemTypeBinding:"STRING",visibleBinding:"STRING"},hashContexts:{canSort:e,performsValidation:e,canDelete:e,canEdit:e,editMode:e,canSelect:e,pageSize:e,selectedItemBinding:e,contentBinding:e,columnsBinding:e,commandItemBinding:e,commandItemTypeBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function Be(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(113,Pe,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Pe(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(114,Re,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(116,Oe,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n\r\n  "),""}function Re(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"501",valueBinding:"householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.firstName~",validatorBinding:"validators.firstNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"503",valueBinding:"householdMemberAndAuthority.relation",label:"~locale.customer:customerInformation.relation~",validatorBinding:"validators.relationValidator",prompt:" ",contentBinding:"_householdMemberRelation",optionLabelPath:"content.value",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"505",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.allowToTransactInfo~",displayPath:"title",valuePath:"value",valueBinding:"householdMemberAndAuthority.allowToTransactInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"509",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.identityDetailType~",validatorBinding:"validators.identityDetailTypeHouseholdMemberAndAuthorityValidator",contentBinding:"idTypes",prompt:" ",optionLabelPath:"content.value",optionValuePath:"content",visibleBinding:"isAllowToTransactDisabled"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function Oe(e,t){var a,n,s;return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"502",valueBinding:"householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.lastName~",validatorBinding:"validators.lastNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"504",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.householdMemberInfo~",displayPath:"title",valuePath:"value",valueBinding:"householdMemberAndAuthority.householdMemberInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):Xe.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(15,p,t),fn:We.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptDd~",contentBinding:"dateArray",disableBinding:"isHouseholdMemberAndAuthorityDOBDisabled",tabindex:"506",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"householdMemberAndAuthority.dd"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.specialistCustomer:customerInformation.promptMm~",contentBinding:"monthArray",disableBinding:"isHouseholdMemberAndAuthorityDOBDisabled",tabindex:"507",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"householdMemberAndAuthority.mm"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.specialistCustomer:customerInformation.promptYyyy~",contentBinding:"yearArray",tabindex:"508",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"householdMemberAndAuthority.yyyy"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/><br/>\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"510",valueBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",validatorBinding:"validators.identityDetailValueHouseholdMemberAndAuthorityValidator",label:"~locale.customer:customerInformation.identityDetailValue~",visibleBinding:"isAllowToTransactDisabled",disableBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n  <br/>\r\n  <table width="100%">\r\n    <tr>\r\n      <td align="right">\r\n        '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"511",action:"addHouseholdMemberAndAuthority",class:"btn-success",disableBinding:"isAddButtonDisable"},hashTypes:{tabindex:"STRING",action:"STRING",class:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,action:e,class:e,disableBinding:e},inverse:We.noop,fn:We.program(117,Ve,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  "),""}function Ve(e,t){var a,n;t.buffer.push(ze((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.submit",n):Xe.call(e,"loc","locale.customer:customerInformation.submit",n))))}function Ge(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.authorityDelegation~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:We.noop,fn:We.program(120,we,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function we(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(121,Ke,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.if.call(e,"householdMemberAndAuthority.isAuthorityInfoVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(124,ke,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Ke(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"full-width"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:We.noop,fn:We.program(122,Ee,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Ee(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.specialistCustomer:customerInformation.contactPerson~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"400",action:"addAuthorityInformation",text:"~locale.specialistCustomer:customerInformation.addLink~"},hashTypes:{tabindex:"STRING",action:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  \x3c!--Grid--\x3e\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.DataGrid",{hash:{canSort:!0,pageSize:10,performsValidation:!1,canEdit:!1,editMode:"line",canSelect:!0,selectedItemBinding:"customerDataModel.selectedGridItemHouseholdMemberAndAuthority",contentBinding:"customerDataModel.householdMemberAndAuthority",columnsBinding:"dataGridColumnAuthorityDelegation",commandItemBinding:"customerDataModel.commandGridItemHouseholdMemberAndAuthority",commandItemTypeBinding:"customerDataModel.deleteGridItemHouseholdMemberAndAuthority",visibleBinding:"hidehouseholdMemberGrid"},hashTypes:{canSort:"BOOLEAN",pageSize:"INTEGER",performsValidation:"BOOLEAN",canEdit:"BOOLEAN",editMode:"STRING",canSelect:"BOOLEAN",selectedItemBinding:"STRING",contentBinding:"STRING",columnsBinding:"STRING",commandItemBinding:"STRING",commandItemTypeBinding:"STRING",visibleBinding:"STRING"},hashContexts:{canSort:e,pageSize:e,performsValidation:e,canEdit:e,editMode:e,canSelect:e,selectedItemBinding:e,contentBinding:e,columnsBinding:e,commandItemBinding:e,commandItemTypeBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function ke(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(125,Le,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function Le(e,t){var a;return t.buffer.push("\r\n  \x3c!--Column 1--\x3e\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(126,_e,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  \x3c!--Column 2--\x3e\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(131,Ue,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function _e(e,t){var a;return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"401",valueBinding:"householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",label:"~locale.specialistCustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"403",valueBinding:"householdMemberAndAuthority.relation",label:"~locale.specialistCustomer:customerInformation.role~",validatorBinding:"validators.relationValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:We.program(129,Fe,t),fn:We.program(127,He,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function He(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"405",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",validatorBinding:"validators.identityDetailTypeHouseholdMemberAndAuthorityValidator",contentBinding:"idTypes",prompt:" ",optionLabelPath:"content.value",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function Fe(e,t){return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"405",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.specialistCustomer:customerInformation.identityDetailType~",contentBinding:"idTypes",prompt:" ",optionLabelPath:"content.value",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function Ue(e,t){var a;return t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"402",valueBinding:"householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",label:"~locale.specialistCustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"404",contentBinding:"customerDataModel.yesNo",label:"~locale.specialistCustomer:customerInformation.allowToTransactInfo~",displayPath:"title",valuePath:"value",valueBinding:"householdMemberAndAuthority.allowToTransactInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),t.buffer.push(ze(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"406",valueBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",validatorBinding:"validators.identityDetailValueHouseholdMemberAndAuthorityValidator",label:"~locale.specialistCustomer:customerInformation.identityDetailValue~",disableBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n\r\n  <br/>\r\n  <table width="100%">\r\n    <tr>\r\n      <td align="right">\r\n        '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"407",action:"addAuthorityDelegation",class:"btn-success"},hashTypes:{tabindex:"STRING",action:"STRING",class:"STRING"},hashContexts:{tabindex:e,action:e,class:e},inverse:We.noop,fn:We.program(132,qe,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  "),""}function qe(e,t){var a,n;t.buffer.push(ze((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.specialistCustomer:customerInformation.submit",n):Xe.call(e,"loc","locale.specialistCustomer:customerInformation.submit",n))))}function $e(e,t){var a;return t.buffer.push('\r\n  <br/>\r\n  <div style="float:right;">\r\n    '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"createSpecialistCustomer",disableBinding:"disableCreateCustomerButton",tabindex:"500"},hashTypes:{action:"STRING",disableBinding:"STRING",tabindex:"STRING"},hashContexts:{action:e,disableBinding:e,tabindex:e},inverse:We.noop,fn:We.program(135,je,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  </div>\r\n  "),""}function je(e,t){var a,n;t.buffer.push(ze((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.specialistCustomer:customerInformation.createCustomerButton",n):Xe.call(e,"loc","locale.specialistCustomer:customerInformation.createCustomerButton",n))))}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var Qe,Ye,Je,ze=this.escapeExpression,We=this,Xe=o.helperMissing;return n.buffer.push('<div class="no-banner-padding">\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        <p class="komodo-heading">'),n.buffer.push(ze((Ye=o.loc||t&&t.loc,Je={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},Ye?Ye.call(t,"locale.specialistCustomer:customer.useCaseTitle",Je):Xe.call(t,"loc","locale.specialistCustomer:customer.useCaseTitle",Je)))),n.buffer.push('</p>\r\n      </td>\r\n      <td align="right">\r\n        '),n.buffer.push(ze(o.view.call(t,"Komodo.Controls.Link",{hash:{tabindex:"0",text:"~locale.quotation:createQuotation.back~",href:"#/home"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:t,text:t,href:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <hr />\r\n\r\n  \x3c!--VIP Customer Details--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideVIP",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(1,s,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end VIP--\x3e\r\n\r\n  \x3c!--Diplomat--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideDiplomat",{hash:{},hashTypes:{},hashContexts:{},
inverse:We.noop,fn:We.program(20,y,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end Diplomat--\x3e\r\n\r\n  \x3c!--Shareholder--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideShareholder",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(27,T,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end Shareholder--\x3e\r\n\r\n  \x3c!--Field Trialist Customer--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideFieldTrialist",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(34,A,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end Field Trialist--\x3e\r\n\r\n  \x3c!--Employee--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideEmployee",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(41,O,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end Employee--\x3e\r\n\r\n  \x3c!--Sales Promoter--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideSalesPromoter",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(48,E,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n\r\n  \x3c!--end Sales Promoter--\x3e\r\n\r\n  \x3c!--Monitoring--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideMonitoring",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(55,F,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end Monitoring--\x3e\r\n\r\n  \x3c!--Internal Demo--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideInternalDemo",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(62,Q,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end Internal Demo--\x3e\r\n\r\n\r\n  \x3c!--External Demo--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideExternalDemo",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(67,W,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end External Demo--\x3e\r\n\r\n  \x3c!--MULTICHOICE FOR SA--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideMultichoice",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(74,oe,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end MULTICHOICE--\x3e\r\n\r\n\r\n  \x3c!--NASPERS FOR SA--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideNaspers",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(81,re,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end NASPERS--\x3e\r\n\r\n  \x3c!--AGENCIES FOR SA--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideAgencies",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(86,ce,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end AGENCIES--\x3e\r\n\r\n\r\n  \x3c!--Panelist Details--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hidePanelist",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(93,fe,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end Panelist--\x3e\r\n\r\n\r\n  \x3c!--end personal information--\x3e\r\n\r\n  \x3c!--Contact Information --\x3e\r\n  "),Qe=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.contactInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:We.noop,fn:We.program(100,Ie,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--end contact information--\x3e\r\n\r\n  \x3c!--Address Information --\x3e\r\n\r\n  "),Qe=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.specialistCustomer:customerInformation.addressInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:We.noop,fn:We.program(102,Te,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n\r\n  \x3c!--end address information--\x3e\r\n\r\n  \x3c!--Additional Information Diplomat,sales promoters and share holders,Panelist - Finance Information --\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideAdditionalInformationFinance",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(104,De,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n\r\n\r\n  \x3c!--Additional Information Diplomat and share holders end--\x3e\r\n\r\n  \x3c!--Household member Information for Employee--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideHouseHoldAuthInformation",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(107,Ne,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n\r\n\r\n\r\n\r\n  \x3c!--External Demo/Internal demo-Authority Delegation Information Start--\x3e\r\n  "),Qe=o.if.call(t,"customerDataModel.hideDelegateAuthInformation",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(119,Ge,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n  \x3c!--Authority Delegation Information End--\x3e\r\n\r\n\r\n  "),Qe=o.if.call(t,"customerDataModel.hideSubmitButton",{hash:{},hashTypes:{},hashContexts:{},inverse:We.noop,fn:We.program(134,$e,n),contexts:[t],types:["ID"],data:n}),(Qe||0===Qe)&&n.buffer.push(Qe),n.buffer.push("\r\n\r\n</div>"),""}),Ember.TEMPLATES.SearchOnIdNumberView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a;return t.buffer.push("\r\n      <tr>\r\n        <td>\r\n          "),a=o.view.call(e,"Komodo.Controls.ActionView",{hash:{contentBinding:"item",action:"searchResultSelected"},hashTypes:{contentBinding:"STRING",action:"STRING"},hashContexts:{contentBinding:e,action:e},inverse:c.noop,fn:c.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        </td>\r\n      </tr>\r\n      "),""}function i(e,t){var a;return t.buffer.push('\r\n          <table width="100%"  class="komodo-searchresults">\r\n            <tr >\r\n              <td class="sub-heading" width="40%">\r\n                '),a=o._triageMustache.call(e,"item.firstName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"item.surname",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n              </td>\r\n              <td width="30%">\r\n                '),a=o._triageMustache.call(e,"item.customerNumber",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n              </td>\r\n              <td width="20%">\r\n                '),a=o._triageMustache.call(e,"item.idNumber",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n              </td>\r\n              <td width="10%" class="searchresults-type">\r\n                '),a=o._triageMustache.call(e,"item.type",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n              </td>\r\n            </tr>\r\n            <tr >\r\n              <td width="40%">\r\n                '),a=o.each.call(e,"phone","in","item.listOfPhone",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(3,r,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n              </td>\r\n              <td width="30%">\r\n                '),a=o.each.call(e,"email","in","item.listOfEmail",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(5,l,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n              </td>\r\n              <td width="20%">\r\n                '),a=o.each.call(e,"address","in","item.listOfAddress",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(7,d,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n              </td>\r\n              <td width="10%" class="searchresults-type">\r\n                \r\n              </td>\r\n            </tr>\r\n          </table>\r\n          '),""}function r(e,t){var a;return t.buffer.push("\r\n                "),a=o._triageMustache.call(e,"phone.Code",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("-"),a=o._triageMustache.call(e,"phone.Number",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("<br/>\r\n                "),""}function l(e,t){var a;return t.buffer.push("\r\n                "),a=o._triageMustache.call(e,"email",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("<br/>\r\n                "),""}function d(e,t){var a;return t.buffer.push("\r\n                "),a=o._triageMustache.call(e,"address.City",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("<br/>\r\n                "),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var u,c=this,m=this.escapeExpression;return n.buffer.push('<div class="modal-max-size" width="80%"  >\r\n  <table width="98%" id="searchresultsid">\r\n    <tbody>\r\n      '),u=o.each.call(t,"item","in","view.context.data",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,s,n),contexts:[t,t,t],types:["ID","ID","ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push("\r\n\r\n    </tbody>\r\n  </table>\r\n  <br/>\r\n  "),n.buffer.push(m(o.view.call(t,"Komodo.Controls.TablePager",{hash:{tableId:"searchresultsid",contentBinding:"view.context.data",itemsPerPage:"5",headerRows:"0",visiblePageCount:"3"},hashTypes:{tableId:"STRING",contentBinding:"STRING",itemsPerPage:"STRING",headerRows:"STRING",visiblePageCount:"STRING"},hashContexts:{tableId:t,contentBinding:t,itemsPerPage:t,headerRows:t,visiblePageCount:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n</div>"),""}),Ember.TEMPLATES.PendingPaymentPlanApplicationsView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a;return t.buffer.push('\r\n  <table width="100%">\r\n  <tr>\r\n    <td width="50%">\r\n      '),t.buffer.push(h(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:pendingPaymentPlanApplications.title~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n    </td>\r\n    <td width="50%">\r\n\r\n    </td>\r\n  </tr>\r\n</table>\r\n  <table width="100%">\r\n    \r\n    <tr>\r\n      <td width="33%">\r\n      </td>\r\n      <td width="33%">\r\n      </td>\r\n      <td width="34%">\r\n      </td>\r\n    </tr>\r\n\r\n    <tr>\r\n      <td width="33%">\r\n        '),t.buffer.push(h(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"0",valueBinding:"pendingPaymentPlanApplicationsModel.customerNumber",label:"~locale.customer:pendingPaymentPlanApplications.customerNumber~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n      <td width="33%">\r\n        '),t.buffer.push(h(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"1",valueBinding:"pendingPaymentPlanApplicationsModel.idNumber",label:"~locale.customer:pendingPaymentPlanApplications.idNumber~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n      <td width="34%">\r\n        '),t.buffer.push(h(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"3",valueBinding:"pendingPaymentPlanApplicationsModel.status",label:"~locale.customer:pendingPaymentPlanApplications.status~",contentBinding:"applicationStatus",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n    </tr>\r\n\r\n    <tr>\r\n      <td width="33%">\r\n        '),t.buffer.push(h(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"2",label:"~locale.customer:pendingPaymentPlanApplications.applicationStartDate~",valueBinding:"pendingPaymentPlanApplicationsModel.applicationStartDate"},hashTypes:{tabindex:"STRING",label:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,label:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n      <td width="33%">\r\n        '),t.buffer.push(h(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"2",label:"~locale.customer:pendingPaymentPlanApplications.applicationEndDate~",valueBinding:"pendingPaymentPlanApplicationsModel.applicationEndDate"},hashTypes:{tabindex:"STRING",label:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,label:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n      </td>\r\n      <td width="34%">\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <hr />\r\n  '),a=o.if.call(e,"pendingPaymentPlanApplicationsModel.showDetails",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function i(e,t){var a,n,s;return t.buffer.push('\r\n  \r\n  <table id="examplePager" width="100%" class="table table-bordered komodo-datagrid">\r\n    <tr>\r\n      <th>'),t.buffer.push(h((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:pendingPaymentPlanApplications.idNumber",s):m.call(e,"loc","locale.customer:pendingPaymentPlanApplications.idNumber",s)))),t.buffer.push("</th>\r\n      <th>"),t.buffer.push(h((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:pendingPaymentPlanApplications.name",s):m.call(e,"loc","locale.customer:pendingPaymentPlanApplications.name",s)))),t.buffer.push("</th>\r\n      <th>"),t.buffer.push(h((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:pendingPaymentPlanApplications.customerNumber",s):m.call(e,"loc","locale.customer:pendingPaymentPlanApplications.customerNumber",s)))),t.buffer.push("</th>\r\n      <th>"),t.buffer.push(h((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:pendingPaymentPlanApplications.applicationDate",s):m.call(e,"loc","locale.customer:pendingPaymentPlanApplications.applicationDate",s)))),t.buffer.push("</th>\r\n      <th>"),t.buffer.push(h((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:pendingPaymentPlanApplications.applicationStatus",s):m.call(e,"loc","locale.customer:pendingPaymentPlanApplications.applicationStatus",s)))),t.buffer.push("</th>\r\n      <th>"),t.buffer.push(h((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:pendingPaymentPlanApplications.productTaken",s):m.call(e,"loc","locale.customer:pendingPaymentPlanApplications.productTaken",s)))),t.buffer.push("</th>\r\n      <th>"),t.buffer.push(h((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:pendingPaymentPlanApplications.actions",s):m.call(e,"loc","locale.customer:pendingPaymentPlanApplications.actions",s)))),t.buffer.push("</th>\r\n    </tr>\r\n    "),a=o.each.call(e,"data","in","allApplications",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(3,r,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  </table>\r\n  "),t.buffer.push(h(o.view.call(e,"Komodo.Controls.TablePager",{hash:{tableId:"examplePager",contentBinding:"allApplications",itemsPerPage:"10",headerRows:"1",visiblePageCount:"3"},hashTypes:{tableId:"STRING",contentBinding:"STRING",itemsPerPage:"STRING",headerRows:"STRING",visiblePageCount:"STRING"},hashContexts:{tableId:e,contentBinding:e,itemsPerPage:e,headerRows:e,visiblePageCount:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function r(e,t){var a;return t.buffer.push("\r\n    <tr>\r\n      <td>"),a=o._triageMustache.call(e,"data.idNumber",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n      <td>"),a=o._triageMustache.call(e,"data.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n      <td>"),a=o._triageMustache.call(e,"data.customerNumber",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n      <td>"),a=o._triageMustache.call(e,"data.applicationDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n      <td>"),a=o._triageMustache.call(e,"data.applicationStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n      <td>"),a=o._triageMustache.call(e,"data.productTaken",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n      <td>\r\n        "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"redirect",contentBinding:"data",class:"btn-xs",disableBinding:"specificRole"},hashTypes:{action:"STRING",contentBinding:"STRING",class:"STRING",disableBinding:"STRING"},hashContexts:{action:e,contentBinding:e,class:e,disableBinding:e},inverse:p.noop,fn:p.program(4,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n    "),""}function l(e,t){var a,n;return t.buffer.push(" "),t.buffer.push(h((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:pendingPaymentPlanApplications.view",n):m.call(e,"loc","locale.customer:pendingPaymentPlanApplications.view",n)))),t.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var d,u,c,m=o.helperMissing,h=this.escapeExpression,p=this;return n.buffer.push('<div class="no-banner-padding">\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        <p class="komodo-heading">'),n.buffer.push(h((u=o.loc||t&&t.loc,c={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},u?u.call(t,"locale.customer:pendingPaymentPlanApplications.useCaseTitle",c):m.call(t,"loc","locale.customer:pendingPaymentPlanApplications.useCaseTitle",c)))),n.buffer.push('</p>\r\n      </td>\r\n      <td align="right">\r\n        <b>'),n.buffer.push(h(o.view.call(t,"Komodo.Controls.Link",{hash:{text:"~locale.customer:pendingPaymentPlanApplications.back~",href:"#/home"},hashTypes:{text:"STRING",href:"STRING"},hashContexts:{text:t,href:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("</b>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <hr />\r\n  "),d=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:pendingPaymentPlanApplications.header~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:p.noop,fn:p.program(1,s,n),contexts:[t],types:["ID"],data:n}),(d||0===d)&&n.buffer.push(d),n.buffer.push("\r\n</div>"),""}),Komodo.Application.CustomerCreatedController=Komodo.UI.Controller.extend({init:function(){Komodo.log("Constructing Customer Created controller"),this.set("processVersion","v1.1"),this.set("processName","Customer Created"),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.registerModel("customerModel",Komodo.Models.CreateCustomerNamespace.CustomerCreatedModel),this.getStaticCDMData(),this._super()},start:function(){this._super()},stop:function(){this._super()},clearData:function(){var e=this;void 0!==e.customerModel&&(e.customerModel.set("customerNumber",void 0),e.customerModel.set("quoteNumber",void 0),e.customerModel.set("customerClass",void 0),e.customerModel.set("customerType",void 0),e.customerModel.set("name",void 0),e.customerModel.set("firstName",void 0),e.customerModel.set("lastName",void 0),e.customerModel.set("viewingPlatform",void 0),e.customerModel.set("locationIndicator",void 0),e.customerModel.set("idNumber",void 0),e.customerModel.set("companyRegistrationNumber",void 0),e.customerModel.set("taxNumber",void 0),e.customerModel.set("vatNumber",void 0),e.customerModel.set("email",void 0),e.customerModel.set("physicalAddress",void 0),e.customerModel.set("mobileNumber",void 0),e.customerModel.set("businessTypeAndEstablishment",void 0),e.isQuoteNumerExist=!1,e.isLinkDeviceAndPackages=!0)},setResponseMessage:function(e){var t=this;if(t.clearData(),t.set("customerModel",e),t.customerModel.get("customerNumber")&&(void 0===t.customerModel.get("isCreate")||!0===t.customerModel.get("isCreate"))){var o,a=t.customerModel.get("title"),n=t.getCustomerClassText(t.customerModel.get("customerClass")),s=t.customerModel.get("customerNumber");o=t.customerModel.get("typeId")===GetCustomerTypesConstants("CustomerTypesConstants","INTERNAL_DEMO")?t.customerModel.get("name"):t.customerModel.get("typeId")===GetCustomerTypesConstants("CustomerTypesConstants","EXTERNAL_DEMO")||t.customerModel.get("customerClass")===GetCustomerTypesConstants("CustomerTypesConstants","DEALER")?t.customerModel.get("name"):!0===t.customerModel.isCommercialCustomer||!0===t.customerModel.isCsiCustomer?t.customerModel.get("name"):t.customerModel.get("firstName")+" "+t.customerModel.get("lastName"),t.savetoRecentCustomer(s,a,o,n)}},actions:{addDevicesPackages:function(){this.getCustomerDetails(),Komodo.Services.uiService.transitionTo("associateProducts")},makeQuotePayment:function(){var e=this,t={QuoteNumber:e.customerModel.quoteNumber,CustomerNumber:e.customerModel.customerNumber,Country:void 0,FirstName:e.customerModel.firstName,LastName:e.customerModel.lastName,Email:e.customerModel.email,phone:e.customerModel.mobileNumber};Komodo.Services.uiService.transitionTo("cashSalePayment",t)},manageCustomer:function(){this.getCustomerDetails();var e=Komodo.Models.SearchRequestForBaseSystem.create();e.set("uid",this.customerModel.get("customerNumber")),Komodo.Services.eventAggregator.publish("PublishCustomerSearchRequest",e)},addViewingLocations:function(){this.getCustomerDetails(),Komodo.Services.navigationService.activateGroup(Komodo.NavigationGroupNames.ManageViewing),Komodo.Services.uiService.transitionTo("commercialViewingLocation")},addCsiViewingLocations:function(){this.getCustomerDetails(),Komodo.Services.navigationService.activateGroup(Komodo.NavigationGroupNames.ManageViewing),Komodo.Services.uiService.transitionTo("csiViewingLocation")},manageCommissionsAndDevices:function(){this.getCustomerDetails(),Komodo.Services.uiService.transitionTo("agencyCommissionsAndDevices")},manageDealer:function(){this.getCustomerDetails();var e=Komodo.Models.SearchRequestForBaseSystem.create();e.set("uid",this.customerModel.get("customerNumber")),Komodo.Services.eventAggregator.publish("PublishManageDealerRequest",e)},manageSpecialist:function(){this.getCustomerDetails();var e=Komodo.Models.SearchRequestForBaseSystem.create();e.set("uid",this.customerModel.get("customerNumber")),Komodo.Services.eventAggregator.publish("PublishSpecialistSearchRequest",e)}},clearOldCustomerDetails:function(){Komodo.Services.customerProfileService.init(),Ember.set(Komodo.Services.customerProfileService,"currentFinancialAccounts",void 0),Ember.set(Komodo.Services.customerProfileService,"currentCustomerDetails",void 0),Ember.set(Komodo.Services.customerProfileService,"currentFinancialTransaction",void 0),Ember.set(Komodo.Services.customerProfileService,"currentCustomerInteractions",void 0),Ember.set(Komodo.Services.customerProfileService,"currentCustomerInteractionsError",void 0),Ember.set(Komodo.Services.customerProfileService,"personalDetails",void 0)},getCustomerDetails:function(){var e=this;e.clearOldCustomerDetails();var t=Komodo.Models.CustomerDetailsModel.create();e.customerModel.get("typeId")===GetCustomerTypesConstants("CustomerTypesConstants","INTERNAL_DEMO")?t.set("businessName",e.customerModel.get("name")):e.customerModel.get("typeId")===GetCustomerTypesConstants("CustomerTypesConstants","EXTERNAL_DEMO")||e.customerModel.get("customerClass")===GetCustomerTypesConstants("CustomerTypesConstants","DEALER")?t.set("companyName",e.customerModel.get("name")):!0===e.customerModel.isCommercialCustomer||!0===e.customerModel.isCsiCustomer?(t.set("companyName",e.customerModel.get("name")),t.set("firstName",e.customerModel.get("firstName")),t.set("lastName",e.customerModel.get("lastName"))):(t.set("firstName",e.customerModel.get("firstName")),t.set("lastName",e.customerModel.get("lastName"))),t.set("mobileNo",e.customerModel.get("mobileNumber")),t.set("customerNo",e.customerModel.get("customerNumber")),t.set("idNo",e.customerModel.get("idNumber")),t.set("email",e.customerModel.get("email")),t.set("title",e.customerModel.get("title")),t.set("customerTypeText",e.customerModel.get("customerType")),t.set("typeId",e.customerModel.get("typeId")),t.set("customerStatus","Active"),t.set("customerClassText",e.getCustomerClassText(e.customerModel.get("customerClass"))),t.set("customerClass",e.customerModel.get("customerClass")),t.set("showBanner",!0),t.set("searchRequired",!0),t.set("isGotv",e.customerModel.get("isGoTvCustomer")),t.set("isDstv",e.customerModel.get("isDsTvCustomer")),t.set("marketSegment",e.customerModel.get("marketSegment")),t.set("bannerTrigger",kl.value(e.localeCustomerProfile+"customerInformation")),t.isActiveCustomer=!0,Komodo.Services.customerProfileService.setIsCustomerAuthorised(!0),Komodo.Services.customerProfileService.setCustomerPersonalDetail(t),Komodo.Services.customerProfileService.setCustomerDataSource("customer-created")},savetoRecentCustomer:function(e,t,o,a){var n=this,s=n.isNullReturnEmpty(t)+" "+n.isNullReturnEmpty(o)+","+n.isNullReturnEmpty(a);n.set("selectedItem",s);var i=[],r={domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()};Komodo.Services.cachedDataService.fetch("CountryISO").done(function(t){n.set("isoData",[]),n.set("isoData",t);var o=void 0;n.isoData instanceof Array||(n.isoData=[n.isoData]),n.isoData.forEach(function(e){r.domain===e.value&&(o=e.key)}),void 0!=o&&(n.country=o),i[0]={key:e,value:n.get("selectedItem")},n.getCacheRepository().fetch(Komodo.Services.securityService.get("domainUserName").substring(3)+n.country).done(function(e){for(var t=!1,o=0;o<e.data.length;o++)if(i[0].key===e.data[o].key){e.data.splice(o,1),t=!0;break}!1===t&&(e.data.length>=KomodoConfiguration.recentCustomerCount&&e.data.splice(e.data.length-1,1),e.data.unshift(i[0]),n.getCacheRepository().save(Komodo.Services.securityService.get("domainUserName").substring(3)+n.country,e.data))}).fail(function(e){e.indexOf("No data found for key")>0&&n.getCacheRepository().save(Komodo.Services.securityService.get("domainUserName").substring(3)+n.country,i)})})},isNullReturnEmpty:function(e){return null===e||void 0===e||""===e?"":e},getStaticCDMData:function(){var e=this,t={domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()};e.loggedInCntryId=Komodo.Services.uiService.getController("application").get("_selectedCountryId"),Komodo.Services.cachedDataService.fetch("CustomerClass",t).done(function(t){e.get("customerClassCollection").clear(),$.each(t,function(t,o){e.get("customerClassCollection").addObject(o)})}).fail(function(){Komodo.log("could not retrieve customerclass")})},getCustomerClassText:function(e){for(var t=this.get("customerClassCollection"),o=0;o<t.length;o++)if(t[o].key===e)return t[o].value;return""},getCacheRepository:function(){return this.get("_cacheRepository")},customerClassChanged:function(){var e=this;if(void 0!==e.customerModel)switch(e.set("collapsibleContactInfoLinks",[{href:"#/customerProfile",title:kl.value("locale.customerprofile.customerprofile:linkText.viewMoreLink"),action:"manageCustomer"}]),e.customerModel.customerClass){case"1":case"9":e.customerModel.set("isCommercialCustomer",!0),e.customerModel.set("isResidentialCustomer",!1),e.customerModel.set("isSpecialistCustomer",!1),e.customerModel.set("isCsiCustomer",!1),e.customerModel.set("isDealerCustomer",!1),e.set("isQuoteNumerExist",!1),e.set("isLinkDeviceAndPackages",!1),e.set("collapsibleContactInfoLinks",void 0);break;case"2":e.customerModel.set("isResidentialCustomer",!0),e.customerModel.set("isCommercialCustomer",!1),e.customerModel.set("isSpecialistCustomer",!1),e.customerModel.set("isCsiCustomer",!1),e.customerModel.set("isDealerCustomer",!1),void 0!==e.customerModel.quoteNumber&&(e.isQuoteNumerExist=!0,e.isLinkDeviceAndPackages=!1);break;case"3":e.customerModel.set("isSpecialistCustomer",!0),e.customerModel.set("isCommercialCustomer",!1),e.customerModel.set("isResidentialCustomer",!1),e.customerModel.set("isCsiCustomer",!1),e.customerModel.set("isDealerCustomer",!1),e.set("collapsibleContactInfoLinks",[{href:"#/specialistCustomerProfile",title:kl.value("locale.customerprofile.customerprofile:linkText.viewMoreLink"),action:"manageSpecialist"}]);break;case"4":e.customerModel.set("isCsiCustomer",!0),e.customerModel.set("isSpecialistCustomer",!1),e.customerModel.set("isCommercialCustomer",!1),e.customerModel.set("isResidentialCustomer",!1),e.customerModel.set("isDealerCustomer",!1),e.set("isQuoteNumerExist",!1),e.set("isLinkDeviceAndPackages",!1),e.set("collapsibleContactInfoLinks",void 0);break;case"6":e.customerModel.set("isDealerCustomer",!0),e.customerModel.set("isSpecialistCustomer",!1),e.customerModel.set("isCommercialCustomer",!1),e.customerModel.set("isCsiCustomer",!1),e.customerModel.set("isResidentialCustomer",!1),e.set("collapsibleContactInfoLinks",[{href:"#/dealerManageCustomer",title:kl.value("locale.customerprofile.customerprofile:linkText.viewMoreLink"),action:"manageDealer"}])}}.observes("customerModel.customerClass"),collapsibleContactInfoLinks:function(){}.property(),localeCustomerProfile:"locale.customerprofile.customerprofile:general.",commercialLocaleBase:"locale.commercialcustomer:customer.",residentialLocaleBase:"locale.customer:customer.",specialistCustomerBase:"locale.specialistCustomer:customer.",csiLocaleBase:"locale.csicustomer:customer.",customerClassCollection:[],isQuoteNumerExist:!1,isLinkDeviceAndPackages:!0,loggedInCntryId:void 0}),Ember.TEMPLATES.NewAmountToPayView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a,n;return t.buffer.push(" "),t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:newAmountToPay.pay",n):W.call(e,"loc","locale.customer:newAmountToPay.pay",n)))),""}function i(e,t){var a;return t.buffer.push('\r\n        <div style="float: right;margin-top: 12px;margin-right: 20px;font-weight: bold;">'),
a=o._triageMustache.call(e,"subscriptionTotal",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\r\n        "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:newAmountToPay.panelTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:Z.noop,fn:Z.program(4,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function r(e,t){var a;return t.buffer.push('\r\n        <table width="100%">\r\n            <tr>\r\n                '),a=o.if.call(e,"isBalanceZero",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(7,d,t),fn:Z.program(5,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </tr>\r\n\r\n            "),a=o.each.call(e,"lineItems","in","amountToPayData.subscriptionLineItems",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(12,m,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            "),a=o.each.call(e,"lineItems","in","amountToPayData.paymentPlanLineItems",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(22,b,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n        </table>\r\n        "),""}function l(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="width: 75%;padding-bottom: 19px;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.balanceBroughtForward~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td style="float: right;padding-bottom: 19px;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.balanceBroughtForward",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function d(e,t){var a;return t.buffer.push("\r\n                "),a=o.if.call(e,"isCredit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(10,c,t),fn:Z.program(8,u,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                "),""}function u(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="color:green;width: 75%;padding-bottom: 19px;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.balanceBroughtForward~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("&nbsp;&nbsp;"),t.buffer.push(X(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"34",text:"~locale.customer:newAmountToPay.transferFunds~",action:"redirectInterAccountTransfer"},hashTypes:{tabindex:"STRING",text:"STRING",action:"STRING"},hashContexts:{tabindex:e,text:e,action:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td style="color:green;float: right;padding-bottom: 19px;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.balanceBroughtForward",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function c(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="color:red;width: 75%;padding-bottom: 19px;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.balanceBroughtForward~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td col-span="4" style="color:red;float: right;padding-bottom: 19px;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.balanceBroughtForward",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function m(e,t){var a;return t.buffer.push("\r\n            <tr>\r\n                "),a=o.if.call(e,"lineItems.value",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(15,p,t),fn:Z.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n                <td col-span="4" style="float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"lineItems.amount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n            </tr>\r\n            "),""}function h(e,t){var a;return t.buffer.push('\r\n                <td col-span="4">\r\n                    '),a=o._triageMustache.call(e,"lineItems.count",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" x\r\n                    "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.Link",{hash:{textBinding:"lineItems.invoiceText",contentBinding:"lineItems",action:"showMessage"},hashTypes:{textBinding:"STRING",contentBinding:"STRING",action:"STRING"},hashContexts:{textBinding:e,contentBinding:e,action:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n                </td>\r\n                "),""}function p(e,t){var a;return t.buffer.push('\r\n                <td col-span="4">\r\n\r\n                    '),a=o._triageMustache.call(e,"lineItems.count",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" x\r\n                    "),a=o.if.call(e,"lineItems.value",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(18,f,t),fn:Z.program(16,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                    "),a=o.if.call(e,"lineItems.tooltip",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(20,y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                </td>\r\n                "),""}function g(e,t){var a;return t.buffer.push("\r\n                    "),a=o._triageMustache.call(e,"lineItems.invoiceText",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                    "),""}function f(e,t){var a;return t.buffer.push("\r\n                    "),a=o._triageMustache.call(e,"lineItems.productName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                    "),""}function y(e,t){return t.buffer.push("\r\n\r\n                    "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.Tooltip",{hash:{textBinding:"lineItems.tooltip",contentBinding:"lineItems"},hashTypes:{textBinding:"STRING",contentBinding:"STRING"},hashContexts:{textBinding:e,contentBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n                    "),""}function b(e,t){var a;return t.buffer.push("\r\n            <tr>\r\n                "),a=o.if.call(e,"lineItems.value",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(23,v,t),fn:Z.program(13,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n                <td col-span="4" style="float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" "),a=o._triageMustache.call(e,"lineItems.amount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n            </tr>\r\n            "),""}function v(e,t){var a;return t.buffer.push('\r\n                <td col-span="4">\r\n\r\n                    '),a=o._triageMustache.call(e,"lineItems.count",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" x\r\n                    "),a=o.if.call(e,"lineItems.value",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(16,g,t),fn:Z.program(16,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                    "),a=o.if.call(e,"lineItems.tooltip",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(20,y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                </td>\r\n                "),""}function C(e,t){var a;return t.buffer.push("\r\n        "),a=o.if.call(e,"isBoxOfficeDebit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(26,I,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function I(e,t){var a;return t.buffer.push('\r\n        <div style="float: right;margin-top: 12px;margin-right: 20px;font-weight: bold;">'),a=o._triageMustache.call(e,"boxOfficeTotal",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\r\n        "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:newAmountToPay.boxOfficePanel~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:Z.noop,fn:Z.program(27,T,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function T(e,t){var a;return t.buffer.push('\r\n        <table width="100%">\r\n            <tr>\r\n                '),a=o.if.call(e,"isBOAccountBalanceZero",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(30,S,t),fn:Z.program(28,D,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </tr>\r\n            "),a=o.each.call(e,"lineItems","in","amountToPayData.boxOfficeLineItems",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(35,A,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n            <tr>\r\n                <td col-span="12" style="float: left;">\r\n                    '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"viewMore"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:Z.noop,fn:Z.program(38,B,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                </td>\r\n            </tr>\r\n\r\n        </table>\r\n        "),""}function D(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="width: 75%;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.boxOfficeAmountDebitText~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td col-span="4" style="float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.boxOfficeAccountBalance",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function S(e,t){var a;return t.buffer.push("\r\n                "),a=o.if.call(e,"isBoCredit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(33,M,t),fn:Z.program(31,N,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                "),""}function N(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="color:green;width: 75%;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.boxOfficeAmountCreditText~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("&nbsp;&nbsp;"),t.buffer.push(X(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"34",text:"~locale.customer:newAmountToPay.transferFunds~",action:"redirectInterAccountTransfer"},hashTypes:{tabindex:"STRING",text:"STRING",action:"STRING"},hashContexts:{tabindex:e,text:e,action:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td style="color:green;float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.boxOfficeAccountBalance",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function M(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="color:red;width: 75%;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.boxOfficeAmountDebitText~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td col-span="4" style="color:red;float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.boxOfficeAccountBalance",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function A(e,t){var a;return t.buffer.push('\r\n\r\n            <tr>\r\n                <td col-span="4">\r\n                    '),a=o._triageMustache.call(e,"lineItems.playListTitle",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n                    "),a=o.if.call(e,"lineItems.rentalDate",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(36,x,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n\r\n                </td>\r\n                <td col-span="4" style="float: right;">\r\n                    <b> '),a=o._triageMustache.call(e,"lineItems.titlePrice",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n            </tr>\r\n            "),""}function x(e,t){return t.buffer.push("\r\n                    "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.Tooltip",{hash:{textBinding:"lineItems.tooltip",contentBinding:"lineItems"},hashTypes:{textBinding:"STRING",contentBinding:"STRING"},hashContexts:{textBinding:e,contentBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n                    "),""}function B(e,t){var a,n;t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.viewMoreLink",n):W.call(e,"loc","locale.customer:customerInformation.viewMoreLink",n))))}function P(e,t){var a;return t.buffer.push("\r\n        "),a=o.if.call(e,"isHolidayHomesDebit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(41,R,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function R(e,t){var a;return t.buffer.push('\r\n        <div style="float: right;margin-top: 12px;margin-right: 20px;font-weight: bold;">'),a=o._triageMustache.call(e,"holidayHomeTotal",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\r\n        "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:newAmountToPay.holidayHomePanel~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:Z.noop,fn:Z.program(42,O,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function O(e,t){var a;return t.buffer.push('\r\n        <table width="100%">\r\n\r\n            <tr>\r\n                '),a=o.if.call(e,"isHHAccountBalanceZero",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(45,G,t),fn:Z.program(43,V,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </tr>\r\n            "),a=o.each.call(e,"lineItems","in","amountToPayData.holidayHomeLineItems",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(50,E,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        </table>\r\n        "),""}function V(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="width: 75%;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.holidayHomeAmountCreditText~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td style="color:green;float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.holidayHomeAccountBalance",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function G(e,t){var a;return t.buffer.push("\r\n                "),a=o.if.call(e,"isHHCredit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(48,K,t),fn:Z.program(46,w,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                "),""}function w(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="color:green;width: 75%;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.holidayHomeAmountCreditText~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("&nbsp;&nbsp;"),t.buffer.push(X(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"34",text:"~locale.customer:newAmountToPay.transferFunds~",action:"redirectInterAccountTransfer"},hashTypes:{tabindex:"STRING",text:"STRING",action:"STRING"},hashContexts:{tabindex:e,text:e,action:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td style="color:green;float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.holidayHomeAccountBalance",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function K(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="color:red;width: 75%;">'),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.holidayHomeAmountDebitText~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</td>\r\n                <td style="color:red;float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("&nbsp;"),a=o._triageMustache.call(e,"amountToPayData.holidayHomeAccountBalance",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function E(e,t){var a;return t.buffer.push('\r\n\r\n            <tr>\r\n\r\n                <td col-span="4">\r\n                    '),a=o._triageMustache.call(e,"lineItems.productName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                    "),a=o.if.call(e,"lineItems.tooltip",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(20,y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                </td>\r\n                "),a=o.if.call(e,"isHolidayHomesDebit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(53,L,t),fn:Z.program(51,k,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </tr>\r\n\r\n            "),""}function k(e,t){var a;return t.buffer.push('\r\n                <td col-span="4" style="float: right;">\r\n                    <b>'),a=o._triageMustache.call(e,"amountToPayData.currency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" &nbsp; "),a=o._triageMustache.call(e,"lineItems.amount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n                "),""}function L(e,t){return t.buffer.push('\r\n                <td col-span="4" style="float: right;">\r\n                    '),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.paid~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n                </td>\r\n                "),""}function _(e,t){var a;return t.buffer.push("\r\n        "),a=o.unless.call(e,"isBoxOfficeDebit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(56,H,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function H(e,t){var a;return t.buffer.push('\r\n        <div style="float: right;margin-top: 12px;margin-right: 20px;font-weight: bold;">'),a=o._triageMustache.call(e,"boxOfficeTotal",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\r\n        "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:newAmountToPay.boxOfficePanel~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:Z.noop,fn:Z.program(57,F,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function F(e,t){var a;return t.buffer.push('\r\n        <table width="100%">\r\n            <tr>\r\n                '),a=o.if.call(e,"isBOAccountBalanceZero",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(30,S,t),fn:Z.program(28,D,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </tr>\r\n            "),a=o.each.call(e,"lineItems","in","amountToPayData.boxOfficeLineItems",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(58,U,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n            <tr>\r\n                <td col-span="12" style="float: left;">\r\n                    '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"viewMore"},hashTypes:{action:"STRING"},hashContexts:{action:e},inverse:Z.noop,fn:Z.program(38,B,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        "),""}function U(e,t){var a;return t.buffer.push('\r\n\r\n            <tr>\r\n                <td col-span="4">\r\n                    '),a=o._triageMustache.call(e,"lineItems.playListTitle",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                    "),a=o.if.call(e,"lineItems.rentalDate",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(36,x,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n                </td>\r\n\r\n                <td col-span="4" style="float: right;">\r\n                    <b> '),a=o._triageMustache.call(e,"lineItems.titlePrice",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</b>\r\n                </td>\r\n\r\n\r\n            </tr>\r\n\r\n            "),""}function q(e,t){var a;return t.buffer.push("\r\n        "),a=o.unless.call(e,"isHolidayHomesDebit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(61,$,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function $(e,t){var a;return t.buffer.push('\r\n        <div style="float: right;margin-top: 12px;margin-right: 20px;font-weight: bold;">'),a=o._triageMustache.call(e,"holidayHomeTotal",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\r\n        "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:newAmountToPay.holidayHomePanel~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:Z.noop,fn:Z.program(62,j,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function j(e,t){var a;return t.buffer.push('\r\n        <table width="100%">\r\n\r\n            <tr>\r\n\r\n                '),a=o.if.call(e,"isHHAccountBalanceZero",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(45,G,t),fn:Z.program(43,V,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </tr>\r\n            "),a=o.each.call(e,"lineItems","in","amountToPayData.holidayHomeLineItems",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(63,Q,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        </table>\r\n        "),""}function Q(e,t){var a;return t.buffer.push('\r\n\r\n            <tr>\r\n                <td col-span="4">\r\n                    '),a=o._triageMustache.call(e,"lineItems.productName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                    "),a=o.if.call(e,"lineItems.tooltip",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(20,y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                </td>\r\n                "),a=o.if.call(e,"isHolidayHomesDebit",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(53,L,t),fn:Z.program(51,k,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </tr>\r\n\r\n            "),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var Y,J,z,W=o.helperMissing,X=this.escapeExpression,Z=this;return n.buffer.push("<div "),n.buffer.push(X(o["bind-attr"].call(t,{hash:{class:"Komodo.Services.customerProfileService.isBannerOpen:customer-page-padding:no-banner-padding"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:n}))),n.buffer.push('>\r\n    <div width="90%">\r\n        <span class="komodo-heading">'),n.buffer.push(X((J=o.loc||t&&t.loc,z={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},J?J.call(t,"locale.customer:newAmountToPay.newAmountToPayTitle",z):W.call(t,"loc","locale.customer:newAmountToPay.newAmountToPayTitle",z)))),n.buffer.push('</span>\r\n        <span class="float-right">\r\n            <b>\r\n                <a href="#/customerInformation">&lt;'),Y=o._triageMustache.call(t,"back",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push('</a>\r\n            </b>\r\n        </span>\r\n    </div>\r\n    <hr />\r\n    <br />\r\n\r\n\r\n\r\n    <div style="padding: 35px;border: 1px solid lightgray;">\r\n\r\n\r\n\r\n        <table width="100%">\r\n            <tr>\r\n                <td>\r\n                    <b>'),n.buffer.push(X(o.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:newAmountToPay.amountToPay~"},hashTypes:{text:"STRING"},hashContexts:{text:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push(' </b>\r\n                </td>\r\n                <td class="komodo-decimal">\r\n                    <b> '),Y=o._triageMustache.call(t,"amountToPayData.formattedAmountToPay",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push("</b>"),Y=o._triageMustache.call(t,"amountToPayData.methodOfPayment",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push('\r\n                </td>\r\n                <td style="padding-left: 130px;padding-right: 100px;">\r\n                    <b>'),Y=o._triageMustache.call(t,"amountToPayData.formattedDueDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push('</b>\r\n                </td>\r\n\r\n                <td class="komodo-decimal">\r\n                    '),Y=o.view.call(t,"Komodo.Controls.Button",{hash:{action:"pay",contentBinding:"",disabledBinding:"amountToPayData.payButtonDisabled"},hashTypes:{action:"STRING",contentBinding:"STRING",disabledBinding:"STRING"},hashContexts:{action:t,contentBinding:t,disabledBinding:t},inverse:Z.noop,fn:Z.program(1,s,n),contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push('\r\n                </td>\r\n                <td style="float:right!important" class="komodo-decimal">\r\n                    '),n.buffer.push(X(o.view.call(t,"Komodo.Controls.Select",{hash:{valueBinding:"amountToPayData.selectedmethodOfPayment",disabledBinding:"amountToPayData.mopdropdownDisabled",contentBinding:"amountToPayData.methodOfPayments",optionLabelPath:"content",optionValuePath:"content"},hashTypes:{valueBinding:"STRING",disabledBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{valueBinding:t,disabledBinding:t,contentBinding:t,optionLabelPath:t,optionValuePath:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n                </td>\r\n            </tr>\r\n        </table>\r\n\r\n        <br />\r\n        <br />\r\n        "),Y=o.if.call(t,"isSubscriptionAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(3,i,n),contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push("\r\n\r\n        "),Y=o.if.call(t,"isBoxOfficeAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(25,C,n),contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push("\r\n        "),Y=o.if.call(t,"isHolidayHomeAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(40,P,n),contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push("\r\n\r\n\r\n        <br />\r\n\r\n        "),Y=o.if.call(t,"isBoxOfficeAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,
fn:Z.program(55,_,n),contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push("\r\n\r\n        "),Y=o.if.call(t,"isHolidayHomeAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(60,q,n),contexts:[t],types:["ID"],data:n}),(Y||0===Y)&&n.buffer.push(Y),n.buffer.push("\r\n    </div>\r\n</div>\r\n\r\n"),""}),Ember.TEMPLATES.GetItOnPaymentPlanView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a,n,s;return t.buffer.push('\r\n  \x3c!--Qualifying Questions--\x3e\r\n    <table width="100%">\r\n        <tr>\r\n            <td align="left">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"getItOnPaymentPlanModel.qns1",tabindex:"100"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING"},hashContexts:{checkedBinding:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:getItOnPaymentPlan.qns1",s):S.call(e,"loc","locale.customer:getItOnPaymentPlan.qns1",s)))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td align="left">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"getItOnPaymentPlanModel.qns2",tabindex:"101"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING"},hashContexts:{checkedBinding:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:getItOnPaymentPlan.qns2",s):S.call(e,"loc","locale.customer:getItOnPaymentPlan.qns2",s)))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td align="left">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"getItOnPaymentPlanModel.qns3",tabindex:"102"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING"},hashContexts:{checkedBinding:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:getItOnPaymentPlan.qns3",s):S.call(e,"loc","locale.customer:getItOnPaymentPlan.qns3",s)))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td align="left">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"getItOnPaymentPlanModel.qns4",tabindex:"103"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING"},hashContexts:{checkedBinding:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:getItOnPaymentPlan.qns4",s):S.call(e,"loc","locale.customer:getItOnPaymentPlan.qns4",s)))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <hr />\r\n    <table width="100%">\r\n        <tr>\r\n            <td width="30%" align="left">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"getItOnPaymentPlanModel.productName",label:"~locale.customer:getItOnPaymentPlan.productName~",validatorBinding:"validators.productNameValidator",prompt:" ",contentBinding:"_productName",optionLabelPath:"content.label",optionValuePath:"content.key",disableBinding:"getItOnPaymentPlanModel.checkAllQns"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="30%" align="left">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"104",valueBinding:"getItOnPaymentPlanModel.identitypes",label:"~locale.customer:getItOnPaymentPlan.identityType~",validatorBinding:"validators.identitypesValidator",prompt:" ",contentBinding:"identityTypes",optionLabelPath:"content.label",optionValuePath:"content.key",disableBinding:"getItOnPaymentPlanModel.checkAllQns"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="40%" align="left">'),a=o.view.call(e,"Komodo.Controls.FormView",{hash:{action:"searchClick",disableBinding:"getItOnPaymentPlanModel.checkAllQns"},hashTypes:{action:"STRING",disableBinding:"STRING"},hashContexts:{action:e,disableBinding:e},inverse:M.noop,fn:M.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </td>\r\n\r\n        </tr>\r\n    </table>\r\n    "),""}function i(e,t){var a;return t.buffer.push('\r\n        <table>\r\n            <tr>\r\n                <td align="left">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"getItOnPaymentPlanModel.idNumber",label:"~locale.customer:getItOnPaymentPlan.identityDetailValue~",disableBinding:"getItOnPaymentPlanModel.idNumberDisable",validatorBinding:"validators.idNumberValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",disableBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,disableBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n                </td>\r\n                <td align="left">'),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"searchClick",tabindex:"106",class:"btn-success",disableBinding:"getItOnPaymentPlanModel.checkAllQns"},hashTypes:{action:"STRING",tabindex:"STRING",class:"STRING",disableBinding:"STRING"},hashContexts:{action:e,tabindex:e,class:e,disableBinding:e},inverse:M.noop,fn:M.program(3,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                </td>\r\n            </tr>\r\n        </table>\r\n                "),""}function r(e,t){var a,n;t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:getItOnPaymentPlan.find",n):S.call(e,"loc","locale.customer:getItOnPaymentPlan.find",n))))}function l(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:getItOnPaymentPlan.personalInformationPanel~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:M.noop,fn:M.program(6,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  \x3c!--Contact Information --\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:getItOnPaymentPlan.contactInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:M.noop,fn:M.program(9,c,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n\r\n  \x3c!--Address Information --\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:getItOnPaymentPlan.addressInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:M.noop,fn:M.program(13,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  \x3c!--Banking Information--\x3e\r\n\r\n    "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:getItOnPaymentPlan.bankingInformation~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:M.noop,fn:M.program(15,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  \x3c!--Finance Information --\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:getItOnPaymentPlan.employmentAndFinancialInformation~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:M.noop,fn:M.program(17,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n\r\n  \r\n  <br />\r\n    <div style="float: right;">\r\n        '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"captureCreditApplication",disableBinding:"disableCreditAppButton",tabindex:"718"},hashTypes:{action:"STRING",disableBinding:"STRING",tabindex:"STRING"},hashContexts:{action:e,disableBinding:e,tabindex:e},inverse:M.noop,fn:M.program(22,v,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"cancelCapture",class:"btn-inverse",tabindex:"719"},hashTypes:{action:"STRING",class:"STRING",tabindex:"STRING"},hashContexts:{action:e,class:e,tabindex:e},inverse:M.noop,fn:M.program(24,C,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    </div>\r\n\r\n    "),""}function d(e,t){var a,n,s;return t.buffer.push('\r\n  \x3c!--Personal Details--\x3e\r\n    <table width="100%">\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"200",valueBinding:"getItOnPaymentPlanModel.identityDetailValue",disableBinding:"true",label:"~locale.customer:getItOnPaymentPlan.identityDetailValue~",validatorBinding:"validators.identityDetailValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%"></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"201",valueBinding:"getItOnPaymentPlanModel.title",label:"~locale.customer:getItOnPaymentPlan.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"202",valueBinding:"getItOnPaymentPlanModel.initials",label:"~locale.customer:getItOnPaymentPlan.initials~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"203",valueBinding:"getItOnPaymentPlanModel.firstName",label:"~locale.customer:getItOnPaymentPlan.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"204",valueBinding:"getItOnPaymentPlanModel.lastName",label:"~locale.customer:getItOnPaymentPlan.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"205",valueBinding:"getItOnPaymentPlanModel.gender",disableBinding:"getItOnPaymentPlanModel.genderDisable",label:"~locale.customer:getItOnPaymentPlan.gender~",validatorBinding:"validators.genderValidator",prompt:" ",contentBinding:"_gender",optionLabelPath:"content.label",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"206",valueBinding:"getItOnPaymentPlanModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:getItOnPaymentPlan.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:getItOnPaymentPlan.dateOfBirth",s):S.call(e,"loc","locale.customer:getItOnPaymentPlan.dateOfBirth",s)))),t.buffer.push('\r\n        <span class="error-text" data-bindattr-908="908">*</span><br />\r\n        '),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"DD",contentBinding:"dateArrayDOB",tabindex:"207",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"getItOnPaymentPlanModel.DOBDate",disableBinding:"getItOnPaymentPlanModel.DOBDateDisable",validatorBinding:"DOBDateValidator"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING",disableBinding:"STRING",validatorBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,disableBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"MM",contentBinding:"monthArrayDOB",tabindex:"208",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"getItOnPaymentPlanModel.DOBMonth",disableBinding:"getItOnPaymentPlanModel.DOBMonthDisable",validatorBinding:"DOBMonthValidator"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING",disableBinding:"STRING",validatorBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,disableBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"YYYY",contentBinding:"yearArrayDOB",tabindex:"209",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"getItOnPaymentPlanModel.DOBYear",disableBinding:"getItOnPaymentPlanModel.DOBYearDisable",validatorBinding:"DOBYearValidator"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING",disableBinding:"STRING",validatorBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,disableBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"210",valueBinding:"getItOnPaymentPlanModel.maritalStatus",validatorBinding:"validators.maritalStatusValidator",label:"~locale.customer:getItOnPaymentPlan.maritalStatus~",contentBinding:"_maritalStatus",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"211",valueBinding:"getItOnPaymentPlanModel.noOfDependents",label:"~locale.customer:getItOnPaymentPlan.noOfDependent~",validatorBinding:"validators.noOfDependentsValidator",prompt:" ",contentBinding:"_noOfDependent",optionLabelPath:"content.label",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n\r\n            <td width="50%">\r\n                '),a=o.if.call(e,"getItOnPaymentPlanModel.passportExpiryVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(7,u,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n            </td>\r\n           \r\n        </tr>\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"205",valueBinding:"getItOnPaymentPlanModel.countryOfOrigin",visibleBinding:"getItOnPaymentPlanModel.countryOfOriginVisible",label:"~locale.customer:getItOnPaymentPlan.countryOfOrigin~",validatorBinding:"validators.countryOfOriginValidator",prompt:" ",contentBinding:"countryOfOrigin",optionLabelPath:"content.label",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",visibleBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,visibleBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    "),""}function u(e,t){return t.buffer.push("\r\n               "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{label:"~locale.customer:getItOnPaymentPlan.passportExpiryDate~",prompt:" ",valueBinding:"getItOnPaymentPlanModel.passportExpiryDate",visibleBinding:"getItOnPaymentPlanModel.passportExpiryVisible",validatorBinding:"validators.passportExpiryDateValidator"},hashTypes:{label:"STRING",prompt:"STRING",valueBinding:"STRING",visibleBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,prompt:e,valueBinding:e,visibleBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n                "),""}function c(e,t){var a;return t.buffer.push('\r\n  <table width="100%">\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:getItOnPaymentPlan.phoneNumber~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Link",{hash:{action:"addPhoneNumber",contentBinding:"phone",text:"~locale.customer:getItOnPaymentPlan.addButton~"},hashTypes:{action:"STRING",contentBinding:"STRING",text:"STRING"},hashContexts:{action:e,contentBinding:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        <br />\r\n              "),a=o.each.call(e,"phone","in","contactNumbers",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(10,m,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n\r\n          </td>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"400",valueBinding:"getItOnPaymentPlanModel.emailAddress",label:"~locale.customer:getItOnPaymentPlan.email~",validatorBinding:"validators.emailAddressValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n      </tr>\r\n  </table>\r\n    "),""}function m(e,t){var a,n,s;return t.buffer.push("\r\n        <br />\r\n              "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",tabindex:"300",valueBinding:"phone.type",contentBinding:"phone.contactDetailType",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{class:"STRING",tabindex:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{class:e,tabindex:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("+"),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",tabindex:"301",valueBinding:"phone.countryCode"},hashTypes:{class:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{class:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{tabindex:"302",class:"phone-number",valueBinding:"phone.contactValue"},hashTypes:{tabindex:"STRING",class:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,class:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N(o.view.call(e,"Komodo.RadioButton",{hash:{checkedBinding:"phone.isPrimary",tabindex:"303",valueBinding:"phone.Id",name:"selectionTest"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING",valueBinding:"STRING",name:"STRING"},hashContexts:{checkedBinding:e,tabindex:e,valueBinding:e,name:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:getItOnPaymentPlan.primary",s):S.call(e,"loc","locale.customer:getItOnPaymentPlan.primary",s)))),t.buffer.push("\r\n\r\n        "),a=o.if.call(e,"phone.isRemovable",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(11,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        <br />\r\n              "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.countryCode",validatorBinding:"phone.countryCodeValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.contactValue",validatorBinding:"phone.validator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function h(e,t){return t.buffer.push("\r\n        "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"304",action:"RemovePhoneNumber",contentBinding:"phone",target:"controller",text:"~locale.customer:getItOnPaymentPlan.removeButton~"},hashTypes:{tabindex:"STRING",action:"STRING",contentBinding:"STRING",target:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,contentBinding:e,target:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function p(e,t){return t.buffer.push("\r\n  "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Address",{hash:{addressListBinding:"getItOnPaymentPlanModel.addressInformation",showControlsBinding:"showControls",showDelivery:"true",hideIsPrimaryForDelivery:"false",tabindex:"500"},hashTypes:{addressListBinding:"STRING",showControlsBinding:"STRING",showDelivery:"STRING",hideIsPrimaryForDelivery:"STRING",tabindex:"STRING"},hashContexts:{addressListBinding:e,showControlsBinding:e,showDelivery:e,hideIsPrimaryForDelivery:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n  <hr />\r\n    <table width="100%">\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"600",contentBinding:"_yearsAtAddress",optionLabelPath:"content.label",prompt:" ",label:"~locale.customer:getItOnPaymentPlan.yearsAtAddress~",optionValuePath:"content.key",valueBinding:"getItOnPaymentPlanModel.yearsAtAddress",validatorBinding:"validators.yearsAtAddressValidator"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",prompt:"STRING",label:"STRING",optionValuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,optionLabelPath:e,prompt:e,label:e,optionValuePath:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"601",contentBinding:"residentialStatuses",optionLabelPath:"content.value",prompt:" ",label:"~locale.customer:getItOnPaymentPlan.residentialstatus~",optionValuePath:"content.key",valueBinding:"getItOnPaymentPlanModel.residentialStatus",validatorBinding:"validators.residentialStatusValidator"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",prompt:"STRING",label:"STRING",optionValuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,optionLabelPath:e,prompt:e,label:e,optionValuePath:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    "),""}function g(e,t){var a,n;return t.buffer.push('\r\n  <table width="100%">\r\n      <tr>\r\n          <tr>\r\n              <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"getItOnPaymentPlanModel.applicantIsAccount",tabindex:"699"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING"},hashContexts:{checkedBinding:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n         "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:getItOnPaymentPlan.applicantIsAccount",n):S.call(e,"loc","locale.customer:getItOnPaymentPlan.applicantIsAccount",n)))),t.buffer.push('\r\n              </td>\r\n              <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.accountHoldersIDPassportNumber",label:"~locale.customer:getItOnPaymentPlan.accountHoldersIDPassportNumber~",tabindex:"700",validatorBinding:"validators.accountHoldersIDPassportNumberValidator",disableBinding:"getItOnPaymentPlanModel.sameIdNumber"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n              </td>\r\n          </tr>\r\n\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.accountHoldersNameAndSurname",label:"~locale.customer:getItOnPaymentPlan.accountHoldersNameAndSurname~",tabindex:"701",validatorBinding:"validators.accountHoldersNameAndSurnameValidator",disableBinding:"getItOnPaymentPlanModel.samePayerNameAndSurname"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('      \r\n          </td>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"702",valueBinding:"getItOnPaymentPlanModel.emailAddressPayer",label:"~locale.customer:getItOnPaymentPlan.email~",validatorBinding:"validators.emailAddressPayerValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n          </td>\r\n      </tr>\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.bankingDetailsContactNumber",label:"~locale.customer:getItOnPaymentPlan.phoneNumber~",tabindex:"703",validatorBinding:"validators.bankingDetailsContactNumberValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('   \r\n          </td>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"706",contentBinding:"methodsOfPayment",optionLabelPath:"content.value",prompt:" ",label:"~locale.customer:getItOnPaymentPlan.accountType~",optionValuePath:"content.key",validatorBinding:"validators.accountTypeValidator",valueBinding:"getItOnPaymentPlanModel.accountType"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",prompt:"STRING",label:"STRING",optionValuePath:"STRING",validatorBinding:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,optionLabelPath:e,prompt:e,label:e,optionValuePath:e,validatorBinding:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('              \r\n          </td>\r\n      </tr>\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"getItOnPaymentPlanModel.bank",tabindex:"707",contentBinding:"banks",label:"~locale.customer:getItOnPaymentPlan.bank~",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" ",validatorBinding:"validators.bankValidator"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",contentBinding:"STRING",label:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,tabindex:e,contentBinding:e,label:e,optionLabelPath:e,optionValuePath:e,prompt:e,validatorBinding:e},contexts:[e],types:["ID"],data:t
}))),t.buffer.push('   \r\n          </td>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"getItOnPaymentPlanModel.branchCode",label:"~locale.customer:getItOnPaymentPlan.branchCode~",tabindex:"708",contentBinding:"bankBranches",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" ",validatorBinding:"validators.branchCodeValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('         \r\n          </td>\r\n      </tr>\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.accountNo",label:"~locale.customer:getItOnPaymentPlan.accountNumber~",tabindex:"709",validatorBinding:"validators.accountNoValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('                   \r\n          </td>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"getItOnPaymentPlanModel.debitOrderDay",disableBinding:"disableDODForExistingCustomer",tabindex:"710",label:"~locale.customer:getItOnPaymentPlan.debitOrderDay~",prompt:" ",contentBinding:"debitOderDays",validatorBinding:"validators.debitOrderDayValidator",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{valueBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",label:"STRING",prompt:"STRING",contentBinding:"STRING",validatorBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{valueBinding:e,disableBinding:e,tabindex:e,label:e,prompt:e,contentBinding:e,validatorBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('    \r\n          </td>\r\n      </tr>\r\n\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.branchCode.BranchCode",label:"~locale.customer:getItOnPaymentPlan.branchCodeText~",tabindex:"711",disableBinding:"true"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('                   \r\n          </td>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"getItOnPaymentPlanModel.salaryMandated",tabindex:"712"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING"},hashContexts:{checkedBinding:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:getItOnPaymentPlan.isSalaryMandated",n):S.call(e,"loc","locale.customer:getItOnPaymentPlan.isSalaryMandated",n)))),t.buffer.push('      \r\n          </td>\r\n      </tr>\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"713",contentBinding:"_yearsAtBank",optionLabelPath:"content.label",prompt:" ",label:"~locale.customer:getItOnPaymentPlan.yearsAtBank~",optionValuePath:"content.key",valueBinding:"getItOnPaymentPlanModel.yearsAtBank",validatorBinding:"validators.yearsAtBankValidator"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",prompt:"STRING",label:"STRING",optionValuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,optionLabelPath:e,prompt:e,label:e,optionValuePath:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n          </td>\r\n          <td width="50%"></td>\r\n      </tr>\r\n  </table>\r\n    '),""}function f(e,t){var a,n,s;return t.buffer.push('\r\n  <table width="100%">\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:getItOnPaymentPlan.employmentInformation~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n          </td>\r\n          <td width="50%"></td>\r\n      </tr>\r\n      <tr>\r\n          <td width="50%"></td>\r\n          <td width="50%"></td>\r\n      </tr>\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"711",contentBinding:"_employmentStatus",optionLabelPath:"content.value",prompt:" ",label:"~locale.customer:getItOnPaymentPlan.employmentStatus~",optionValuePath:"content.key",valueBinding:"getItOnPaymentPlanModel.employmentStatus",validatorBinding:"validators.employmentStatusValidator"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",prompt:"STRING",label:"STRING",optionValuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,optionLabelPath:e,prompt:e,label:e,optionValuePath:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n          </td>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.occupation",label:"~locale.customer:getItOnPaymentPlan.occupation~",tabindex:"712",validatorBinding:"validators.occupationValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n          </td>\r\n      </tr>\r\n      <tr>\r\n          <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"713",contentBinding:"_yearsAtJob",optionLabelPath:"content.label",prompt:" ",label:"~locale.customer:getItOnPaymentPlan.yearsAtJob~",optionValuePath:"content.key",valueBinding:"getItOnPaymentPlanModel.yearsAtJob",validatorBinding:"validators.yearsAtJobValidator"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",prompt:"STRING",label:"STRING",optionValuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,optionLabelPath:e,prompt:e,label:e,optionValuePath:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n          </td>\r\n           <td width="50%">\r\n             '),a=o.if.call(e,"getItOnPaymentPlanModel.passportExpiryVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(18,y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n                </td>\r\n      </tr>\r\n\r\n  </table>\r\n    <hr />\r\n\r\n    \x3c!-- Finance Information--\x3e\r\n    <table width="100%">\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:getItOnPaymentPlan.financialInformation~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%"></td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%"></td>\r\n            <td width="50%"></td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.netMonthlyIncome",label:"~locale.customer:getItOnPaymentPlan.netMonthlyIncome~",tabindex:"714",validatorBinding:"validators.netMonthlyIncomeValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.debtCommitment",label:"~locale.customer:getItOnPaymentPlan.debtCommitment~",tabindex:"715",validatorBinding:"validators.debtCommitmentValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%">'),t.buffer.push(N(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"getItOnPaymentPlanModel.netMonthlyExpenses",label:"~locale.customer:getItOnPaymentPlan.netMonthlyExpenses~",tabindex:"716",validatorBinding:"validators.netMonthlyExpensesValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">\r\n                <table>\r\n                    <tr>\r\n                        \x3c!--<td colspan="2">\r\n                            <b>'),t.buffer.push(N((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:getItOnPaymentPlan.initialAffordability",s):S.call(e,"loc","locale.customer:getItOnPaymentPlan.initialAffordability",s)))),t.buffer.push("</b>\r\n                        </td>--\x3e\r\n                    </tr>\r\n                    <tr>\r\n                      \x3c!--  <td>"),a=o._triageMustache.call(e,"getItOnPaymentPlanModel.calculateAffordabilityValue",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                        </td>\r\n                        <td>"),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"calculateAffordability",tabindex:"717",class:"btn-success",disableBinding:"getItOnPaymentPlanModel.disableCalculateButton"},hashTypes:{action:"STRING",tabindex:"STRING",class:"STRING",disableBinding:"STRING"},hashContexts:{action:e,tabindex:e,class:e,disableBinding:e},inverse:M.noop,fn:M.program(20,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n                        </td>\r\n                          --\x3e\r\n                    </tr>\r\n                </table>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    "),""}function y(e,t){return t.buffer.push("\r\n      \r\n                "),t.buffer.push(N(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{label:"~locale.customer:getItOnPaymentPlan.workPermitExpiryDate~",valueBinding:"getItOnPaymentPlanModel.WorkPermitExpiryDate",visibleBinding:"getItOnPaymentPlanModel.passportExpiryVisible",validatorBinding:"validators.WorkPermitExpiryDateValidator"},hashTypes:{label:"STRING",valueBinding:"STRING",visibleBinding:"STRING",validatorBinding:"STRING"},hashContexts:{label:e,valueBinding:e,visibleBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n               "),""}function b(e,t){var a,n;return t.buffer.push("\r\n              "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:getItOnPaymentPlan.calculate",n):S.call(e,"loc","locale.customer:getItOnPaymentPlan.calculate",n)))),t.buffer.push("\r\n              "),""}function v(e,t){var a,n;return t.buffer.push("\r\n    "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:getItOnPaymentPlan.saveCreditApplication",n):S.call(e,"loc","locale.customer:getItOnPaymentPlan.saveCreditApplication",n)))),""}function C(e,t){var a,n;return t.buffer.push("\r\n    "),t.buffer.push(N((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:getItOnPaymentPlan.cancel",n):S.call(e,"loc","locale.customer:getItOnPaymentPlan.cancel",n)))),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var I,T,D,S=o.helperMissing,N=this.escapeExpression,M=this;return n.buffer.push('<div class="no-banner-padding">\r\n    <table width="100%">\r\n        <tr>\r\n            <td>\r\n                <p class="komodo-heading">'),n.buffer.push(N((T=o.loc||t&&t.loc,D={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},T?T.call(t,"locale.customer:getItOnPaymentPlan.useCaseTitle",D):S.call(t,"loc","locale.customer:getItOnPaymentPlan.useCaseTitle",D)))),n.buffer.push('</p>\r\n            </td>\r\n            <td align="right">\r\n                <b>'),n.buffer.push(N(o.view.call(t,"Komodo.Controls.Link",{hash:{text:"~locale.quotation:createQuotation.back~",href:"#/home"},hashTypes:{text:"STRING",href:"STRING"},hashContexts:{text:t,href:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("</b>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <hr />\r\n\r\n    "),I=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:getItOnPaymentPlan.qualifyingQuestions~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:M.noop,fn:M.program(1,s,n),contexts:[t],types:["ID"],data:n}),(I||0===I)&&n.buffer.push(I),n.buffer.push("\r\n  \x3c!-- Main Page design as below--\x3e\r\n    "),I=o.if.call(t,"getItOnPaymentPlanModel.showPage",{hash:{},hashTypes:{},hashContexts:{},inverse:M.noop,fn:M.program(5,l,n),contexts:[t],types:["ID"],data:n}),(I||0===I)&&n.buffer.push(I),n.buffer.push("\r\n</div>\r\n"),""}),Ember.TEMPLATES.EditCsiCustomerView=Ember.Handlebars.template(function(e,t,o,a,n){this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var s=this.escapeExpression;return n.buffer.push("<div>\r\n  "),n.buffer.push(s(o.view.call(t,"Komodo.Application.CsiCustomerView",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n</div>"),""}),Ember.TEMPLATES.EditCommercialCustomerView=Ember.Handlebars.template(function(e,t,o,a,n){this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var s=this.escapeExpression;return n.buffer.push("<div>\r\n  "),n.buffer.push(s(o.view.call(t,"Komodo.Application.CommercialCustomerView",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n</div>"),""}),Komodo.RadioButton=Ember.View.extend({tagName:"input",type:"radio",attributeBindings:["name","type","value","checked","tabindex"],init:function(){this._super()},click:function(){var e=this;"selectionEmail"===e.get("name")?e.get("context.emails").forEach(function(t){Ember.isBlank(t.id)&&(t.id=t.Id),e.get("value")==t.id?Ember.set(t,"isPrimary",!0):Ember.set(t,"isPrimary",!1)}):"selectionPhone"===e.get("name")?e.get("context.contactNumbers").forEach(function(t){Ember.isBlank(t.id)&&(t.id=t.Id),e.get("value")==t.id?Ember.set(t,"isPrimary",!0):Ember.set(t,"isPrimary",!1)}):e.get("context.contactNumbers").forEach(function(t){e.get("value")==t.Id?(Ember.set(t,"isPrimary",!0),t.checked=!0):(Ember.set(t,"isPrimary",!1),t.checked=!1)})},valueChanged:function(){}.observes("value"),checkedChanged:function(){}.observes("checked")}),Komodo.EmailRadioButton=Ember.View.extend({tagName:"input",type:"radio",attributeBindings:["name","type","value","checked","tabindex"],init:function(){this._super()},click:function(){var e=this;e.get("context.emails").forEach(function(t){e.get("value")==t.Id?(Ember.set(t,"isPrimary",!0),t.checked=!0):(Ember.set(t,"isPrimary",!1),t.checked=!1)})},valueChanged:function(){}.observes("value"),checkedChanged:function(){}.observes("checked")}),Komodo.CustomRadioButton=Ember.View.extend({tagName:"input",type:"radio",attributeBindings:["name","type","value","checked","tabindex","disabled","visible","optionValue","optionLabel"],init:function(){this._super()},click:function(){var e=this;e.get("_parentView._parentView.content").forEach(function(t){e.get("value")==t.UID&&0==t.isSelected?Ember.set(t,"isSelected",!0):Ember.set(t,"isSelected",!1)})},valueChanged:function(){}.observes("value"),checkedChanged:function(){}.observes("checked")}),Ember.TEMPLATES.CustomerDocumentsView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){return t.buffer.push('\r\n      <td align="right">\r\n        '),t.buffer.push(f(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"91",text:"~locale.csicustomer:customer.back~",href:"#/home"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:e,text:e,href:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      </td>\r\n        "),""}function i(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(4,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function r(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{classNames:"col-md-12"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:e},inverse:b.noop,fn:b.program(5,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function l(e,t){var a,n,s;return t.buffer.push("\r\n\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{id:"pickfiles"},hashTypes:{id:"STRING"},hashContexts:{id:e},inverse:b.noop,fn:b.program(6,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{id:"uploadfiles"},hashTypes:{id:"STRING"},hashContexts:{id:e},inverse:b.noop,fn:b.program(8,u,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n    \x3c!--Documents <a id="pickfiles" href="javascript:;">+ Add</a>\r\n    <a id="uploadfiles" href="javascript:;">Upload</a>--\x3e\r\n    <br/>\r\n    <br />\r\n    <table width="100%" '),t.buffer.push(f(o["bind-attr"].call(e,{hash:{class:":table :table-bordered :komodo-datagrid"},hashTypes:{class:"STRING"},hashContexts:{class:e},contexts:[],types:[],data:t}))),t.buffer.push('>\r\n      <thead>\r\n        <tr>\r\n          <th width="50%">'),t.buffer.push(f((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.document",s):y.call(e,"loc","locale.commercialcustomer:customerDocument.document",s)))),t.buffer.push('</th>\r\n          <th width="20%">'),t.buffer.push(f((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.type",s):y.call(e,"loc","locale.commercialcustomer:customerDocument.type",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(f((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.size",s):y.call(e,"loc","locale.commercialcustomer:customerDocument.size",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(f((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.serialNumber",s):y.call(e,"loc","locale.commercialcustomer:customerDocument.serialNumber",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(f((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.percentage",s):y.call(e,"loc","locale.commercialcustomer:customerDocument.percentage",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(f((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.status",s):y.call(e,"loc","locale.commercialcustomer:customerDocument.status",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(f((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.actions",s):y.call(e,"loc","locale.commercialcustomer:customerDocument.actions",s)))),t.buffer.push("</th>\r\n        </tr>\r\n      </thead>\r\n      "),a=o.each.call(e,"row","in","data.customerDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(10,c,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    </table>\r\n    "),""}function d(e,t){var a,n;return t.buffer.push("\r\n    "),t.buffer.push(f((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerDocument.addDocuments",n):y.call(e,"loc","locale.commercialcustomer:customerDocument.addDocuments",n)))),t.buffer.push("\r\n    "),""}function u(e,t){var a,n;return t.buffer.push("\r\n    "),t.buffer.push(f((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerDocument.uploadDocuments",n):y.call(e,"loc","locale.commercialcustomer:customerDocument.uploadDocuments",n)))),t.buffer.push("\r\n    "),""}function c(e,t){var a;return t.buffer.push("\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            "),t.buffer.push(f(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"row.documentName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),t.buffer.push(f(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{valueBinding:"row.documentType",contentBinding:"row.documentTypes",optionLabelPath:"content.value",optionValuePath:"content.value",tabindex:"20",class:"komodo-grid-edit"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindex:"STRING",class:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindex:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=o._triageMustache.call(e,"row.documentSize",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),t.buffer.push(f(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{valueBinding:"row.documentSerialNumber",contentBinding:"row.documentSerialNumbers",optionLabelPath:"content.value",optionValuePath:"content.value",tabindex:"20",class:"komodo-grid-edit"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindex:"STRING",class:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindex:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=o._triageMustache.call(e,"row.uploadPercentage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=o._triageMustache.call(e,"row.uploadStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"removeDocument",size:"xs",type:"danger",tabindex:"24"},hashTypes:{action:"STRING",size:"STRING",type:"STRING",tabindex:"STRING"},hashContexts:{action:e,size:e,type:e,tabindex:e},inverse:b.noop,fn:b.program(11,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      "),""}function m(e,t){var a,n;return t.buffer.push("\r\n            "),t.buffer.push(f((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.onlinetill:customer.delete",n):y.call(e,"loc","locale.onlinetill:customer.delete",n)))),t.buffer.push("\r\n            "),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var h,p,g,f=this.escapeExpression,y=o.helperMissing,b=this;return n.buffer.push("<div "),n.buffer.push(f(o["bind-attr"].call(t,{hash:{class:"Komodo.Services.customerProfileService.isBannerOpen:customer-page-padding:no-banner-padding"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:n}))),n.buffer.push('>\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        <p class="komodo-heading">\r\n          '),n.buffer.push(f((p=o.loc||t&&t.loc,g={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},p?p.call(t,"locale.commercialcustomer:customer.documents",g):y.call(t,"loc","locale.commercialcustomer:customer.documents",g)))),n.buffer.push("\r\n        </p>\r\n      </td>\r\n        "),h=o.if.call(t,"data.isCustomerLoaded",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(1,s,n),contexts:[t],types:["ID"],data:n}),(h||0===h)&&n.buffer.push(h),n.buffer.push("\r\n    </tr>\r\n  </table>\r\n\r\n    <hr />\r\n    "),h=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.commercialcustomer:customer.documentList~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:b.noop,fn:b.program(3,i,n),contexts:[t],types:["ID"],data:n}),(h||0===h)&&n.buffer.push(h),n.buffer.push("\r\n</div>"),""}),Ember.TEMPLATES.CustomerCreatedView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a,n;return t.buffer.push('\r\n        <p class="komodo-heading">'),t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.createDealer:dealer.createdUseCaseTitle",n):W.call(e,"loc","locale.createDealer:dealer.createdUseCaseTitle",n)))),t.buffer.push("</p>\r\n        "),""}function i(e,t){var a,n;return t.buffer.push('\r\n        <p class="komodo-heading">'),t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.specialistCustomer:customer.createdUseCaseTitle",n):W.call(e,"loc","locale.specialistCustomer:customer.createdUseCaseTitle",n)))),t.buffer.push("</p>\r\n        "),""}function r(e,t){var a,n;return t.buffer.push('\r\n        <p class="komodo-heading">'),t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customer.createdUseCaseTitle",n):W.call(e,"loc","locale.customer:customer.createdUseCaseTitle",n)))),t.buffer.push("</p>\r\n        "),""}function l(e,t){var a;return t.buffer.push("\r\n           "),a=o.if.call(e,"customerModel.isCreate",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(10,u,t),fn:Z.program(8,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function d(e,t){var a,n;return t.buffer.push('\r\n              <p class="komodo-heading">'),t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.csicustomer:customer.createdUseCaseTitle",n):W.call(e,"loc","locale.csicustomer:customer.createdUseCaseTitle",n)))),t.buffer.push("</p>\r\n          "),""}function u(e,t){var a,n;return t.buffer.push('\r\n              <p class="komodo-heading">'),t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.csicustomer:customer.updatedUseCaseTitle",n):W.call(e,"loc","locale.csicustomer:customer.updatedUseCaseTitle",n)))),t.buffer.push("</p>\r\n          "),""}function c(e,t){var a;return t.buffer.push("\r\n          "),a=o.if.call(e,"customerModel.isCreate",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(15,h,t),fn:Z.program(13,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        "),""}function m(e,t){var a,n;return t.buffer.push('\r\n            <p class="komodo-heading">'),t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customer.createdUseCaseTitle",n):W.call(e,"loc","locale.commercialcustomer:customer.createdUseCaseTitle",n)))),t.buffer.push("</p>\r\n          "),""}function h(e,t){var a,n;return t.buffer.push('\r\n                <p class="komodo-heading">'),t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customer.updatedUseCaseTitle",n):W.call(e,"loc","locale.commercialcustomer:customer.updatedUseCaseTitle",n)))),t.buffer.push("</p>\r\n          "),""}function p(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.ciTitle~",linksBinding:"collapsibleContactInfoLinks"},hashTypes:{title:"STRING",linksBinding:"STRING"},hashContexts:{title:e,linksBinding:e},inverse:Z.noop,fn:Z.program(18,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n\r\n  <div style="float:right;">\r\n    '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"manageCommissionsAndDevices",tabindex:"3"},hashTypes:{action:"STRING",tabindex:"STRING"},hashContexts:{action:e,tabindex:e},inverse:Z.noop,fn:Z.program(24,v,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  </div>\r\n  \x3c!--Dealer Customer Details End--\x3e\r\n\r\n  "),""}function g(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(19,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function f(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(20,y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(22,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function y(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.companyName~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.name"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.taxNumber~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),
t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.taxNumber"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.email~",id:"emailLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.email",id:"emailData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.mobileNumber~",id:"mobileNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.mobileNumber",id:"mobileNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.createDealer:dealer.customerType~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.customerType"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),""}function b(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.customerNumber~",id:"customerNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.customerNumber",id:"customerNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.registrationNumber~",id:"companyRegistrationLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.companyRegistrationNumber",id:"companyRegistrationData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.vatNumber~",id:"vatNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.vatNumber",id:"vatNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.physicalAddress~",id:"addressLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.physicalAddress",id:"addressData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  "),""}function v(e,t){var a,n;t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.createDealer:dealer.manageCommissionsAndDevices",n):W.call(e,"loc","locale.createDealer:dealer.manageCommissionsAndDevices",n))))}function C(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.if.call(e,"customerModel.isSpecialistCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(36,A,t),fn:Z.program(27,I,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function I(e,t){var a;return t.buffer.push("\r\n  \x3c!--Customer Details Start--\x3e\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.ciTitle~",linksBinding:"collapsibleContactInfoLinks"},hashTypes:{title:"STRING",linksBinding:"STRING"},hashContexts:{title:e,linksBinding:e},inverse:Z.noop,fn:Z.program(28,T,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n  \x3c!--Customer Details End--\x3e\r\n  <br/>\r\n  <div style="float:right;">\r\n    '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"addDevicesPackages",tabindex:"3"},hashTypes:{action:"STRING",tabindex:"STRING"},hashContexts:{action:e,tabindex:e},inverse:Z.noop,fn:Z.program(34,M,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  </div>\r\n\r\n  "),""}function T(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(29,D,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function D(e,t){var a;return t.buffer.push("\r\n  \x3c!--Column 1--\x3e\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(30,S,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  \x3c!--Column 2--\x3e\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(32,N,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function S(e,t){return t.buffer.push("\r\n  \x3c!--Row 1--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.name~",id:"nameLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.name",id:"nameData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 2--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.viewingPlatform~",id:"viewingPlatformLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.viewingPlatform",id:"viewingPlatformData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n\r\n  \x3c!--Row 3--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.email~",id:"emailLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.email",id:"emailData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),""}function N(e,t){return t.buffer.push("\r\n  \x3c!--Row 1--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.customerNumber~",id:"customerNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.customerNumber",id:"customerNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 2--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.mobileNumber~",id:"mobileNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.mobileNumber",id:"mobileNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 3--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.physicalAddress~",id:"addressLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.physicalAddress",id:"addressData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),""}function M(e,t){var a,n;t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.addDevicesPackages",n):W.call(e,"loc","locale.customer:customerInformation.addDevicesPackages",n))))}function A(e,t){var a;return t.buffer.push("\r\n\r\n  \x3c!--Customer Details Start for residencial, commercial and csi --\x3e\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.ciTitle~",linksBinding:"collapsibleContactInfoLinks"},hashTypes:{title:"STRING",linksBinding:"STRING"},hashContexts:{title:e,linksBinding:e},inverse:Z.noop,fn:Z.program(37,x,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n  \x3c!--Customer Details End--\x3e\r\n  <br/>\r\n  <div style="float:right;">\r\n    '),a=o.if.call(e,"isLinkDeviceAndPackages",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(63,U,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=o.if.call(e,"customerModel.isCommercialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(65,q,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=o.if.call(e,"customerModel.isCsiCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(68,j,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=o.if.call(e,"isQuoteNumerExist",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(71,Y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  </div>\r\n  "),""}function x(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(38,B,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function B(e,t){var a;return t.buffer.push("\r\n  \x3c!--Column 1--\x3e\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(39,P,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  \x3c!--Column 2--\x3e\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(50,K,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function P(e,t){var a;return t.buffer.push("\r\n  \x3c!--Row 1--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.name~",id:"nameLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.name",id:"nameData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 2--\x3e\r\n  "),a=o.if.call(e,"customerModel.isResidentialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(40,R,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"customerModel.isCommercialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(42,O,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"customerModel.isCsiCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(42,O,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 3--\x3e\r\n  "),a=o.if.call(e,"customerModel.isResidentialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(44,V,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"customerModel.isCommercialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(46,G,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"customerModel.isCsiCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(48,w,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 4--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.email~",id:"emailLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.email",id:"emailData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),""}function R(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.viewingPlatform~",id:"viewingPlatformLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.viewingPlatform",id:"viewingPlatformData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function O(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.registrationNumber~",id:"companyRegistrationLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.companyRegistrationNumber",id:"companyRegistrationData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function V(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.identityDetailValue~",id:"idNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.idNumber",id:"idNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function G(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.commercialcustomer:customerInformation.phoneNumber~",id:"mobileNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.mobileNumber",id:"mobileNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function w(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.csicustomer:customerInformation.phoneNumber~",id:"mobileNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.mobileNumber",id:"mobileNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function K(e,t){var a;return t.buffer.push("\r\n  \x3c!--Row 1--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.customerNumber~",id:"customerNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.customerNumber",id:"customerNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 2--\x3e\r\n  "),a=o.if.call(e,"customerModel.isResidentialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(51,E,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"customerModel.isCommercialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(53,k,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"customerModel.isCsiCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(55,L,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 3--\x3e\r\n  "),a=o.if.call(e,"customerModel.isResidentialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(57,_,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"customerModel.isCommercialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(59,H,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"customerModel.isCsiCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(61,F,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  \x3c!--Row 4--\x3e\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.physicalAddress~",id:"addressLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.physicalAddress",id:"addressData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),""}function E(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.language~",id:"languageLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.language",id:"languageData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function k(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.vatNumber~",id:"vatNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.vatNumber",id:"vatNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br />\r\n  <br />\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.pinTinNumber~",id:"pinTinNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br />\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.pinTinNumber",id:"pinTinNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function L(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.vatNumber~",id:"vatNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.vatNumber",id:"vatNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function _(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.mobileNumber~",id:"mobileNumberLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.mobileNumber",id:"mobileNumberData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function H(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.commercialcustomer:customerInformation.businessTypeAndEstablishment~",id:"businessTypeLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.businessTypeAndEstablishment",id:"businessTypeData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function F(e,t){return t.buffer.push("\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.csicustomer:customerInformation.businessTypeAndEstablishment~",id:"businessTypeLabel",class:"info-heading"},hashTypes:{text:"STRING",id:"STRING",class:"STRING"},hashContexts:{text:e,id:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(X(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"customerModel.businessTypeAndEstablishment",id:"businessTypeData"},hashTypes:{textBinding:"STRING",id:"STRING"},hashContexts:{textBinding:e,id:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function U(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"addDevicesPackages",tabindex:"3"},hashTypes:{action:"STRING",tabindex:"STRING"},hashContexts:{action:e,tabindex:e},inverse:Z.noop,fn:Z.program(34,M,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function q(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"addViewingLocations",tabindex:"3"},hashTypes:{action:"STRING",tabindex:"STRING"},hashContexts:{action:e,tabindex:e},inverse:Z.noop,fn:Z.program(66,$,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function $(e,t){var a,n;t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerInformation.addViewLocations",n):W.call(e,"loc","locale.commercialcustomer:customerInformation.addViewLocations",n))))}function j(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"addCsiViewingLocations",tabindex:"3"},hashTypes:{action:"STRING",tabindex:"STRING"},hashContexts:{action:e,tabindex:e},inverse:Z.noop,fn:Z.program(69,Q,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function Q(e,t){var a,n;t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.csicustomer:customerInformation.addViewLocations",n):W.call(e,"loc","locale.csicustomer:customerInformation.addViewLocations",n))))}function Y(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"makeQuotePayment",tabindex:"4"},hashTypes:{action:"STRING",tabindex:"STRING"},hashContexts:{action:e,tabindex:e},inverse:Z.noop,fn:Z.program(72,J,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function J(e,t){var a,n;t.buffer.push(X((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.makeQuotePayment",n):W.call(e,"loc","locale.customer:customerInformation.makeQuotePayment",n))))}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var z,W=o.helperMissing,X=this.escapeExpression,Z=this;return n.buffer.push('<div class="no-banner-padding">\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        '),z=o.if.call(t,"customerModel.isDealerCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(1,s,n),contexts:[t],types:["ID"],data:n}),(z||0===z)&&n.buffer.push(z),n.buffer.push("\r\n        "),z=o.if.call(t,"customerModel.isSpecialistCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(3,i,n),contexts:[t],types:["ID"],data:n}),(z||0===z)&&n.buffer.push(z),n.buffer.push("\r\n        "),z=o.if.call(t,"customerModel.isResidentialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(5,r,n),contexts:[t],types:["ID"],data:n}),(z||0===z)&&n.buffer.push(z),n.buffer.push("\r\n        "),z=o.if.call(t,"customerModel.isCsiCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(7,l,n),contexts:[t],types:["ID"],data:n}),(z||0===z)&&n.buffer.push(z),n.buffer.push("\r\n        "),z=o.if.call(t,"customerModel.isCommercialCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.noop,fn:Z.program(12,c,n),contexts:[t],types:["ID"],data:n}),(z||0===z)&&n.buffer.push(z),n.buffer.push('\r\n      </td>\r\n      <td align="right">\r\n        '),n.buffer.push(X(o.view.call(t,"Komodo.Controls.Link",{hash:{tabindex:"1",text:"~locale.quotation:createQuotation.back~",href:"#/home"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:t,text:t,href:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n      </td>\r\n    </tr>                            \r\n  </table>\r\n  <hr/>\r\n\r\n  \x3c!--Dealer Customer Details Start--\x3e\r\n  "),z=o.if.call(t,"customerModel.isDealerCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:Z.program(26,C,n),fn:Z.program(17,p,n),contexts:[t],types:["ID"],data:n}),(z||0===z)&&n.buffer.push(z),n.buffer.push("\r\n</div>"),""}),Komodo.Models.CreateCustomerNamespace=Ember.Namespace.extend({name:"Komodo.Models.CreateCustomerNamespace"}).create(),Komodo.Models.AmountToPayModel=Ember.Object.extend({init:function(){this.accountType=void 0,this.quotes=[],this.allFinantialAccounts=[],this.nextInvoiceEstimates=[],this.nextInvoiceEstimatesTemp=[],this.nextInvoiceEstimates=[],this.debitAccounts=[],this.finantialAccounts=[],this.quotesM=[],this.filteredPaymentPlans=[],this.creditAccounts=[],this.accountsSubTotal=void 0,this.amountToPay=void 0,this.quotesSubTotal=void 0,this.currency=void 0,this.creditAccounts=[],this.creditAccountsSubTotal=void 0,this.showCreditAccounts=!1,this.showQuotes=!1,this.settleMyAreasSelected=!1,this.adhocDebitOrderSelected=!1,this.useCreditSelected=!1,this.useCashSelected=!1,this.settleMyAreasButtonDisabled=!0,this.settleMyAreasButtonSelected=!1,this.adhocDebitOrderButtonDisabled=!0,this.adhocDebitOrderButtonSelected=!1,this.useCreditButtonDisabled=!0,this.useCreditButtonSelected=!1,this.useCashButtonDisabled=!0,this.useCashButtonSelected=!1,this.selectAllAccounts=!1,this.selectAllQuotes=!1,
this.payButtonDisabled=!0,this.rejectQuoteButtonDisabled=!0,this.showLazyLoadGif=!1,this.useCreditButtonEnabled=!1,this.useCashButtonEnabled=!1,this.payNowButtonEnabled=!1,this.rejectQuoteButtonEnabled=!1,this.selectAccountForQuoteRunFlag=!0,this.selectQuoteForAccountRunFlag=!0,this._super()}}),Komodo.Models.ChangeOfDeviceOwnershipModel=Ember.Object.extend({init:function(){this.deviceNo=void 0,this.customerNo=void 0,this.fromCustomerName=void 0,this.fromCustomerEmail=void 0,this.objDeviceDetailsModels=[],this.toCustomerNo=void 0,this.toCustomerName=void 0,this.toCustomerEmail=void 0,this.objPrincipalPackage=[],this.objInsuranceService=[],this.objAccessService=[],this.objAddOnPackage=[],this.objHdAddOnPackage=[],this.selectedPrincipalPackage=void 0,this.selectedAddOnPackage=void 0,this.addOnProductSelection=void 0,this.hdAddOnProductSelection=void 0,this.isAddOnAvailable=void 0,this.isDisableAddButton=void 0,this.selectedAddItem=void 0,this.selectedAllPackages=[],this.isDisableCOO=void 0,this._super()}}),Ember.TEMPLATES.CsiCustomerView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){t.buffer.push("\r\n  ")}function i(e,t){return t.buffer.push("\r\n      "),t.buffer.push(U(o.view.call(e,"Komodo.Application.CustomerProfileContainerView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function r(e,t){var a,n;return t.buffer.push("\r\n            "),t.buffer.push(U((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.csicustomer:customer.useCaseTitle",n):q.call(e,"loc","locale.csicustomer:customer.useCaseTitle",n)))),t.buffer.push("\r\n            "),""}function l(e,t){var a,n;return t.buffer.push("\r\n            "),t.buffer.push(U((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.csicustomer:customer.editUseCaseTitle",n):q.call(e,"loc","locale.csicustomer:customer.editUseCaseTitle",n)))),t.buffer.push("\r\n            "),""}function d(e,t){return t.buffer.push("\r\n          "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"91",text:"~locale.csicustomer:customer.back~",href:"#/home"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:e,text:e,href:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),""}function u(e,t){return t.buffer.push("\r\n          "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"91",text:"~locale.commercialcustomer:customer.back~",href:"#/customerInformation"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:e,text:e,href:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),""}function c(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(14,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function m(e,t){var a;return t.buffer.push("\r\n    \x3c!--Column 1--\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(15,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    \x3c!--Column 2--\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(20,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function h(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"1",valueBinding:"customerDataModel.companyName",label:"~locale.csicustomer:customerInformation.institutionName~",validatorBinding:"validators.companyNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"3",contentBinding:"customerDataModel.yesNoNone",label:"~locale.csicustomer:customerInformation.isVatRegistered~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.isVatRegistered"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"5",valueBinding:"customerDataModel.taxNumber",label:"~locale.csicustomer:customerInformation.taxNumber~",validatorBinding:"validators.taxNumberValidator",disabledBinding:"disableTaxNumber"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"7",valueBinding:"customerDataModel.businessType",validatorBinding:"validators.businessTypeValidator",label:"~locale.csicustomer:customerInformation.businessType~",contentBinding:"businessTypes",prompt:"~locale.csicustomer:customerInformation.businessTypePrompt~",optionLabelPath:"content.CanonicalValue",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.if.call(e,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.program(18,g,t),fn:$.program(16,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function p(e,t){t.buffer.push("\r\n    ")}function g(e,t){return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"9",contentBinding:"customerDataModel.yesNo",label:"~locale.csicustomer:customerInformation.receiveMagazine~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.acceptMarketingInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function f(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"2",valueBinding:"customerDataModel.registrationNumber",label:"~locale.csicustomer:customerInformation.registrationNumber~",validatorBinding:"validators.registrationNumberValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"4",valueBinding:"customerDataModel.vatNumber",label:"~locale.csicustomer:customerInformation.vatNumber~",validatorBinding:"validators.vatNumberValidator",disabledBinding:"disableVatNumber"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"6",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.csicustomer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:"~locale.csicustomer:customerInformation.languagePrompt~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"8",valueBinding:"customerDataModel.establishmentType",validatorBinding:"validators.establishmentTypeValidator",label:"~locale.csicustomer:customerInformation.establishmentType~",prompt:"~locale.csicustomer:customerInformation.establishmentTypePrompt~",contentBinding:"establishmentTypes",optionLabelPath:"content.CanonicalValue",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.if.call(e,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.program(21,y,t),fn:$.program(16,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function y(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"10",valueBinding:"customerDataModel.rdCheque",label:"~locale.csicustomer:customerInformation.rdCheque~",prompt:"~locale.csicustomer:customerInformation.rdChequePrompt~",optionLabelPath:"content.value",optionValuePath:"content.value",contentBinding:"rdChequeStatuses",visibleBinding:"hide"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",contentBinding:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,prompt:e,optionLabelPath:e,optionValuePath:e,contentBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),a=o.if.call(e,"showFiscalCode",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(22,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function b(e,t){return t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"11",valueBinding:"customerDataModel.ivrFiscalCode",label:"~locale.csicustomer:customerInformation.fiscalCode~",contentBinding:"fiscalCodes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:"~locale.csicustomer:customerInformation.fiscalCodePrompt~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),""}function v(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(25,C,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function C(e,t){var a;return t.buffer.push("\r\n      \x3c!--Phone Number section--\x3e\r\n      "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"komodo-text-align-normal"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:$.noop,fn:$.program(26,I,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n      \x3c!--Email Address section--\x3e\r\n      "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"komodo-text-align-normal"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:$.noop,fn:$.program(30,S,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function I(e,t){var a;return t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.csicustomer:customerInformation.phoneNumber~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"16",action:"addPhoneNumber",contentBinding:"phone",text:"~locale.csicustomer:customerInformation.addButton~"},hashTypes:{tabindex:"STRING",action:"STRING",contentBinding:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,contentBinding:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),a=o.each.call(e,"phone","in","contactNumbers",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(27,T,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),""}function T(e,t){var a,n,s;return t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",tabindex:"11",valueBinding:"phone.type",contentBinding:"phone.commercialContactDetailType",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{class:"STRING",tabindex:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{class:e,tabindex:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("+"),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",tabindex:"12",valueBinding:"phone.countryCode"},hashTypes:{class:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{class:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{tabindex:"13",class:"phone-number",valueBinding:"phone.contactValue"},hashTypes:{tabindex:"STRING",class:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,class:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.RadioButton",{hash:{checkedBinding:"phone.isPrimary",tabindex:"14",valueBinding:"phone.Id",name:"selectionPhone"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING",valueBinding:"STRING",name:"STRING"},hashContexts:{checkedBinding:e,tabindex:e,valueBinding:e,name:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(U((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.csicustomer:customerInformation.primary",s):q.call(e,"loc","locale.csicustomer:customerInformation.primary",s)))),t.buffer.push("\r\n        "),a=o.if.call(e,"phone.isRemovable",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(28,D,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.type",validatorBinding:"phone.phoneTypeValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.countryCode",validatorBinding:"phone.countryCodeValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.contactValue",validatorBinding:"phone.validator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function D(e,t){return t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"15",action:"removePhoneNumber",contentBinding:"phone",target:"controller",text:"~locale.csicustomer:customerInformation.removeButton~"},hashTypes:{tabindex:"STRING",action:"STRING",contentBinding:"STRING",target:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,contentBinding:e,target:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function S(e,t){var a;return t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{class:"sub-heading",text:"~locale.csicustomer:customerInformation.email~"},hashTypes:{class:"STRING",text:"STRING"},hashContexts:{class:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"20",action:"addEmail",text:"~locale.csicustomer:customerInformation.addButton~"},hashTypes:{tabindex:"STRING",action:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),a=o.each.call(e,"email","in","emails",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(31,N,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),""}function N(e,t){var a,n,s;return t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{label:"Email",tabindex:"17",valueBinding:"email.contactValue"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.RadioButton",{hash:{checkedBinding:"email.isPrimary",tabindex:"18",valueBinding:"email.Id",name:"selectionEmail"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING",valueBinding:"STRING",name:"STRING"},hashContexts:{checkedBinding:e,tabindex:e,valueBinding:e,name:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(U((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.csicustomer:customerInformation.primary",s):q.call(e,"loc","locale.csicustomer:customerInformation.primary",s)))),t.buffer.push("\r\n        "),a=o.if.call(e,"email.isRemovable",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(32,M,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"email.validator",valueBinding:"email.contactValue"},hashTypes:{validatorBinding:"STRING",valueBinding:"STRING"},hashContexts:{validatorBinding:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function M(e,t){return t.buffer.push("\r\n        "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"19",action:"removeEmail",contentBinding:"email",target:"controller",text:"~locale.csicustomer:customerInformation.removeButton~"},hashTypes:{tabindex:"STRING",action:"STRING",contentBinding:"STRING",target:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,contentBinding:e,target:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function A(e,t){return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Address",{hash:{addressListBinding:"customerDataModel.addressInformation"},hashTypes:{addressListBinding:"STRING"},hashContexts:{addressListBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function x(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(37,B,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n    "),a=o.if.call(e,"householdMemberAndAuthority.isAuthorityInfoVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(40,R,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function B(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{classNames:"komodo-text-align-top full-width"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:e},inverse:$.noop,fn:$.program(38,P,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function P(e,t){return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.csicustomer:customerInformation.contactPerson~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"80",action:"addAuthorityInformation",text:"~locale.csicustomer:customerInformation.addLink~"},hashTypes:{tabindex:"STRING",action:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--Grid--\x3e\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.DataGrid",{hash:{canSort:!0,pageSize:10,performsValidation:!1,canEdit:!1,editMode:"line",canSelect:!0,selectedItemBinding:"customerDataModel.selectedGridItemHouseholdMemberAndAuthority",contentBinding:"customerDataModel.householdMemberAndAuthority",columnsBinding:"dataGridColumnAuthorityDelegation",commandItemBinding:"customerDataModel.commandGridItemHouseholdMemberAndAuthority",commandItemTypeBinding:"customerDataModel.deleteGridItemHouseholdMemberAndAuthority",visibleBinding:"hidehouseholdMemberGrid"},hashTypes:{canSort:"BOOLEAN",pageSize:"INTEGER",performsValidation:"BOOLEAN",canEdit:"BOOLEAN",editMode:"STRING",canSelect:"BOOLEAN",selectedItemBinding:"STRING",contentBinding:"STRING",columnsBinding:"STRING",commandItemBinding:"STRING",commandItemTypeBinding:"STRING",visibleBinding:"STRING"},hashContexts:{canSort:e,pageSize:e,performsValidation:e,canEdit:e,editMode:e,canSelect:e,selectedItemBinding:e,contentBinding:e,columnsBinding:e,commandItemBinding:e,commandItemTypeBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function R(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(41,O,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function O(e,t){var a;return t.buffer.push("\r\n    \x3c!--Column 1--\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(42,V,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    \x3c!--Column 2--\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(45,w,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function V(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"81",valueBinding:"householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",label:"~locale.csicustomer:customerInformation.firstName~",validatorBinding:"validators.firstNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"83",valueBinding:"householdMemberAndAuthority.relation",label:"~locale.csicustomer:customerInformation.role~",contentBinding:"authorityRolesList",validatorBinding:"validators.relationValidator",optionLabelPath:"content.value",optionValuePath:"content.value"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",validatorBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,validatorBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.if.call(e,"showRoleText",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(43,G,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"86",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.csicustomer:customerInformation.identityDetailType~",validatorBinding:"validators.identityDetailTypeHouseholdMemberAndAuthorityValidator",contentBinding:"identityDetailTypes",prompt:"~locale.csicustomer:customerInformation.idTypePrompt~",optionLabelPath:"content.value",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function G(e,t){return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{tabindex:"84",valueBinding:"householdMemberAndAuthority.role"},hashTypes:{tabindex:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"householdMemberAndAuthority.role",validatorBinding:"validators.roleValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),""}function w(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"82",valueBinding:"householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",label:"~locale.csicustomer:customerInformation.lastName~",validatorBinding:"validators.lastNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"85",contentBinding:"customerDataModel.yesNo",label:"~locale.csicustomer:customerInformation.allowToTransactInfo~",displayPath:"title",valuePath:"value",valueBinding:"householdMemberAndAuthority.allowToTransactInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.if.call(e,"showRoleText",{hash:{},hashTypes:{},hashContexts:{},inverse:$.noop,fn:$.program(46,K,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),t.buffer.push(U(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"87",valueBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",validatorBinding:"validators.identityDetailValueHouseholdMemberAndAuthorityValidator",label:"~locale.csicustomer:customerInformation.identityDetailValue~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"88",action:"addAuthorityDelegation",class:"btn-success"},hashTypes:{tabindex:"STRING",action:"STRING",class:"STRING"},hashContexts:{tabindex:e,action:e,class:e},inverse:$.noop,fn:$.program(48,E,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    <br/>\r\n    "),""}function K(e,t){t.buffer.push("\r\n    <br/>\r\n    <br/>\r\n    ")}function E(e,t){var a,n;t.buffer.push(U((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.csicustomer:customerInformation.submit",n):q.call(e,"loc","locale.csicustomer:customerInformation.submit",n))))}function k(e,t){var a,n;t.buffer.push(U((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.createCustomerButton",n):q.call(e,"loc","locale.customer:customerInformation.createCustomerButton",n))))}function L(e,t){t.buffer.push("\r\n      ")}function _(e,t){var a;return t.buffer.push("\r\n      "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"cancelCustomer",tabindex:"91",type:"inverse"},hashTypes:{action:"STRING",tabindex:"STRING",type:"STRING"},hashContexts:{action:e,tabindex:e,type:e},inverse:$.noop,fn:$.program(55,H,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),""}function H(e,t){var a,n;t.buffer.push(U((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.csicustomer:customerInformation.cancel",n):q.call(e,"loc","locale.csicustomer:customerInformation.cancel",n))))}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var F,U=this.escapeExpression,q=o.helperMissing,$=this;return n.buffer.push("<div>\r\n  "),F=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.program(3,i,n),fn:$.program(1,s,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push("\r\n\r\n  <div "),n.buffer.push(U(o["bind-attr"].call(t,{hash:{class:"showBanner:customer-page-padding:no-banner-padding"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:n}))),n.buffer.push('>\r\n    <table width="100%">\r\n      <tr>\r\n        <td>\r\n          <p class="komodo-heading">\r\n            '),F=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.program(7,l,n),fn:$.program(5,r,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push('\r\n          </p>\r\n        </td>\r\n        <td align="right">\r\n          '),F=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.program(11,u,n),fn:$.program(9,d,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push("\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <hr />\r\n    \x3c!--Company Details Start--\x3e\r\n    "),F=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.csicustomer:customerInformation.ciTitle~",isCollapsedBinding:"isCustomerInformationCollapsed"},hashTypes:{title:"STRING",isCollapsedBinding:"STRING"},hashContexts:{title:t,isCollapsedBinding:t},inverse:$.noop,fn:$.program(13,c,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push("\r\n    \x3c!--Company Details End--\x3e\r\n    \r\n    \x3c!--Contact Information Start--\x3e\r\n    "),
F=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.csicustomer:customerInformation.contactInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:$.noop,fn:$.program(24,v,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push("\r\n    \x3c!--Contact Information End--\x3e\r\n\r\n    \x3c!--Address Information Start--\x3e\r\n    "),F=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.csicustomer:customerInformation.addressInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:$.noop,fn:$.program(34,A,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push("\r\n    \x3c!--Address Information End--\x3e\r\n   \r\n    \x3c!--Authority Delegation Information Start--\x3e\r\n    "),F=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.csicustomer:customerInformation.authorityDelegation~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:$.noop,fn:$.program(36,x,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push('\r\n    \x3c!--Authority Delegation Information End--\x3e\r\n\r\n    <br/>\r\n    <div style="float:right;">\r\n      '),F=o.view.call(t,"Komodo.Controls.Button",{hash:{action:"saveCustomer",tabindex:"90",disabledBinding:"isCreateCustomerButtonDisable"},hashTypes:{action:"STRING",tabindex:"STRING",disabledBinding:"STRING"},hashContexts:{action:t,tabindex:t,disabledBinding:t},inverse:$.noop,fn:$.program(50,k,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push("\r\n      "),F=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:$.program(54,_,n),fn:$.program(52,L,n),contexts:[t],types:["ID"],data:n}),(F||0===F)&&n.buffer.push(F),n.buffer.push("\r\n    </div>\r\n    <br/>\r\n  </div>\r\n</div>"),""}),Ember.TEMPLATES.CreateDealerView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a;return t.buffer.push("\r\n  \r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(7,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function i(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(3,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(5,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),""}function r(e,t){return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"100",valueBinding:"dealerDataModel.customerType",label:"~locale.createDealer:dealer.customerType~",contentBinding:"_customertype",optionValuePath:"content.CanonicalKey",optionLabelPath:"content.CanonicalValue",validatorBinding:"validators.customerTypeValidator",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",validatorBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,optionValuePath:e,optionLabelPath:e,validatorBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function l(e,t){return t.buffer.push("    \r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"dealerDataModel.stockhandlerType",label:"~locale.createDealer:dealer.stockhandlerType~",contentBinding:"_stockhandlerType",optionValuePath:"content.StockHandlerTypeCK",optionLabelPath:"content.StockHandlerTypeCV",validatorBinding:"validators.stockhandlerTypeValidator",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",validatorBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,optionValuePath:e,optionLabelPath:e,validatorBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function d(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(8,u,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(10,c,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function u(e,t){return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"dealerDataModel.companyName",label:"~locale.createDealer:dealer.companyName~",validatorBinding:"validators.companyNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"104",contentBinding:"dealerDataModel.yesNo",label:"~locale.customer:customerInformation.isVatRegistered~",displayPath:"title",valuePath:"value",valueBinding:"dealerDataModel.isVatRegistered"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"106",valueBinding:"dealerDataModel.taxNumber",label:"~locale.createDealer:dealer.taxNumber~",validatorBinding:"validators.taxNumberValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function c(e,t){return t.buffer.push("\r\n\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"dealerDataModel.companyRegistrationNumber",label:"~locale.createDealer:dealer.companyRegistrationNumber~",validatorBinding:"validators.companyRegistrationNumberValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"105",valueBinding:"dealerDataModel.vatNumber",disableBinding:"isVATDisabled",label:"~locale.createDealer:dealer.vatNumber~",validatorBinding:"validators.vatNumberValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,disableBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"107",valueBinding:"dealerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.createDealer:dealer.language~",contentBinding:"_languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),""}function m(e,t){return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Contact",{hash:{phoneNumberBinding:"contactNumbers",emailAddressBinding:"emails",isEmailRequiredBinding:"_emailRequired",tabIndex:200},hashTypes:{phoneNumberBinding:"STRING",emailAddressBinding:"STRING",isEmailRequiredBinding:"STRING",tabIndex:"INTEGER"},hashContexts:{phoneNumberBinding:e,emailAddressBinding:e,isEmailRequiredBinding:e,tabIndex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function h(e,t){return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Address",{hash:{addressListBinding:"dealerDataModel.addressInformation",showControls:!0,tabIndex:300},hashTypes:{addressListBinding:"STRING",showControls:"BOOLEAN",tabIndex:"INTEGER"},hashContexts:{addressListBinding:e,showControls:e,tabIndex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function p(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(17,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  \r\n  "),a=o.if.call(e,"householdMemberAndAuthority.isAuthorityInfoVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(20,y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function g(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"full-width"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:R.noop,fn:R.program(18,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function f(e,t){return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.createDealer:authorityDelegationInformation.contactPerson~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"400",action:"addAuthorityInformation",text:"~locale.createDealer:dealer.addLink~"},hashTypes:{tabindex:"STRING",action:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  \x3c!--Grid--\x3e\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.DataGrid",{hash:{canSort:!0,pageSize:10,performsValidation:!1,canEdit:!1,editMode:"line",canSelect:!0,selectedItemBinding:"dealerDataModel.selectedGridItemHouseholdMemberAndAuthority",contentBinding:"dealerDataModel.householdMemberAndAuthority",columnsBinding:"dataGridColumnAuthorityDelegation",commandItemBinding:"dealerDataModel.commandGridItemHouseholdMemberAndAuthority",commandItemTypeBinding:"dealerDataModel.deleteGridItemHouseholdMemberAndAuthority",visibleBinding:"hideDelegationGrid"},hashTypes:{canSort:"BOOLEAN",pageSize:"INTEGER",performsValidation:"BOOLEAN",canEdit:"BOOLEAN",editMode:"STRING",canSelect:"BOOLEAN",selectedItemBinding:"STRING",contentBinding:"STRING",columnsBinding:"STRING",commandItemBinding:"STRING",commandItemTypeBinding:"STRING",visibleBinding:"STRING"},hashContexts:{canSort:e,pageSize:e,performsValidation:e,canEdit:e,editMode:e,canSelect:e,selectedItemBinding:e,contentBinding:e,columnsBinding:e,commandItemBinding:e,commandItemTypeBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function y(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(21,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n\r\n  <table width="100%">\r\n    <tr>\r\n      <td align="right">\r\n        '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"409",action:"addAuthorityDelegationInformation",class:"btn-success"},hashTypes:{tabindex:"STRING",action:"STRING",class:"STRING"},hashContexts:{tabindex:e,action:e,class:e},inverse:R.noop,fn:R.program(32,N,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </table>\r\n\r\n  "),""}function b(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(22,v,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(29,D,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function v(e,t){var a;return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"401",valueBinding:"householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",label:"~locale.createDealer:authorityDelegationInformation.firstName~",validatorBinding:"validators.firstNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"403",valueBinding:"householdMemberAndAuthority.relation",label:"~locale.customer:customerInformation.role~",contentBinding:"_authorityRolesList",validatorBinding:"validators.relationValidator",optionLabelPath:"content.value",optionValuePath:"content.value"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",validatorBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,validatorBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),a=o.if.call(e,"_showRoleText",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(23,C,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.if.call(e,"dealerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:R.program(27,T,t),fn:R.program(25,I,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"407",valueBinding:"householdMemberAndAuthority.countryOfOriginHouseholdMemberAndAuthority",validatorBinding:"validators.countryOfOriginHouseholdMemberAndAuthorityValidator",label:"~locale.customer:customerInformation.countryOfOrigin~",contentBinding:"_countriesOfOrigin",optionLabelPath:"content.value",optionValuePath:"content.key",visibleBinding:"householdMemberAndAuthority.hideIndetityDetail",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function C(e,t){return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{valueBinding:"householdMemberAndAuthority.role"},hashTypes:{valueBinding:"STRING"},hashContexts:{valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"householdMemberAndAuthority.role",validatorBinding:"validators.roleValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  <br/>\r\n  "),""}function I(e,t){return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"405",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.createDealer:authorityDelegationInformation.identificationType~",validatorBinding:"validators.identityDetailTypeHouseholdMemberAndAuthorityValidator",contentBinding:"_idTypes",prompt:" ",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function T(e,t){return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"405",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.createDealer:authorityDelegationInformation.identificationType~",contentBinding:"_idTypes",prompt:" ",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function D(e,t){var a;return t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"402",valueBinding:"householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",label:"~locale.createDealer:authorityDelegationInformation.lastName~",validatorBinding:"validators.lastNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"404",contentBinding:"dealerDataModel.yesNo",label:"~locale.createDealer:authorityDelegationInformation.allowedToTransact~",displayPath:"title",valuePath:"value",valueBinding:"householdMemberAndAuthority.allowToTransactInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),a=o.if.call(e,"_showRoleText",{hash:{},hashTypes:{},hashContexts:{},inverse:R.noop,fn:R.program(30,S,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"406",valueBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",validatorBinding:"validators.identityDetailValueHouseholdMemberAndAuthorityValidator",label:"~locale.createDealer:authorityDelegationInformation.identificationNumber~",disableBinding:"dealerDataModel.isIdentificationValueDisable"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(P(o.view.call(e,"Komodo.Controls.DatePicker",{hash:{tabindex:"408",valueBinding:"householdMemberAndAuthority.expiryDate",validatorBinding:"validators.expiryDateValidator",label:"~locale.customer:customerInformation.expiryDate~",visibleBinding:"householdMemberAndAuthority.hideIndetityDetail"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function S(e,t){t.buffer.push("\r\n  <br/>\r\n  <br/>\r\n  ")}function N(e,t){var a,n;t.buffer.push(P((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.createDealer:authorityDelegationInformation.submit",n):O.call(e,"loc","locale.createDealer:authorityDelegationInformation.submit",n))))}function M(e,t){var a,n;t.buffer.push(P((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.createCustomerButton",n):O.call(e,"loc","locale.customer:customerInformation.createCustomerButton",n))))}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var A,x,B,P=this.escapeExpression,R=this,O=o.helperMissing;return n.buffer.push('<div class="no-banner-padding">\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        <p class="komodo-heading">'),n.buffer.push(P((x=o.loc||t&&t.loc,B={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},x?x.call(t,"locale.createDealer:dealer.title",B):O.call(t,"loc","locale.createDealer:dealer.title",B)))),n.buffer.push('</p>\r\n      </td>\r\n      <td align="right">\r\n        '),n.buffer.push(P(o.view.call(t,"Komodo.Controls.Link",{hash:{tabindex:"1",text:"~locale.createDealer:dealer.back~",href:"#/home"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:t,text:t,href:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <hr />\r\n  "),A=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.createDealer:dealer.customerInformation~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:R.noop,fn:R.program(1,s,n),contexts:[t],types:["ID"],data:n}),(A||0===A)&&n.buffer.push(A),n.buffer.push("\r\n\r\n  \x3c!--Contact Information --\x3e\r\n  "),A=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.createDealer:dealer.contactInformation~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:R.noop,fn:R.program(12,m,n),contexts:[t],types:["ID"],data:n}),(A||0===A)&&n.buffer.push(A),n.buffer.push("\r\n\r\n  \r\n  "),A=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.createDealer:addressInformation.aiTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:R.noop,fn:R.program(14,h,n),contexts:[t],types:["ID"],data:n}),(A||0===A)&&n.buffer.push(A),n.buffer.push("\r\n\r\n  \r\n  "),A=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.createDealer:authorityDelegationInformation.adiTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:R.noop,fn:R.program(16,p,n),contexts:[t],types:["ID"],data:n}),(A||0===A)&&n.buffer.push(A),n.buffer.push('\r\n\r\n  <div style="float:right;">\r\n    '),A=o.view.call(t,"Komodo.Controls.Button",{hash:{action:"createDealer",disableBinding:"_disableCreateCustomerButton",tabindex:"500"},hashTypes:{action:"STRING",disableBinding:"STRING",tabindex:"STRING"},hashContexts:{action:t,disableBinding:t,tabindex:t},inverse:R.noop,fn:R.program(34,M,n),contexts:[t],types:["ID"],data:n}),(A||0===A)&&n.buffer.push(A),n.buffer.push("\r\n  </div>\r\n\r\n</div>"),""}),Ember.TEMPLATES.CreateCustomerView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a;return t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Identification",{hash:{identificationBinding:"identification",firstNameValidator:"firstNameValidator",lastNameValidator:"lastNameValidator",firstNameBinding:"customerDataModel.firstName",lastNameBinding:"customerDataModel.lastName",tabIndex:104},hashTypes:{identificationBinding:"STRING",firstNameValidator:"STRING",lastNameValidator:"STRING",firstNameBinding:"STRING",lastNameBinding:"STRING",tabIndex:"INTEGER"},hashContexts:{identificationBinding:e,firstNameValidator:e,lastNameValidator:e,firstNameBinding:e,lastNameBinding:e,tabIndex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(11,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function i(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(3,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(8,u,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function r(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:G.program(6,d,t),fn:G.program(4,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"102",valueBinding:"customerDataModel.firstName",label:"~locale.customer:customerInformation.firstName~",validatorBinding:"validators.firstNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function l(e,t){return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"101",valueBinding:"customerDataModel.title",label:"~locale.customer:customerInformation.title~",validatorBinding:"validators.titleValidator",prompt:" ",contentBinding:"_titles",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function d(e,t){return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"100",contentBinding:"customerDataModel.viewingPlatformData",labelBinding:"viewingPlatformlabel",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.viewingPlatform",validatorBinding:"validators.viewingPlatformValidator"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",labelBinding:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,labelBinding:e,displayPath:e,valuePath:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function u(e,t){var a;return t.buffer.push("\r\n  "),a=o.if.call(e,"hideViewingPlatform",{hash:{},hashTypes:{},hashContexts:{},inverse:G.program(4,l,t),fn:G.program(9,c,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"103",valueBinding:"customerDataModel.lastName",label:"~locale.customer:customerInformation.lastName~",validatorBinding:"validators.lastNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function c(e,t){t.buffer.push("\r\n  <br/><br/><br/><br/>\r\n  ")}function m(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(12,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(17,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function h(e,t){var a,n,s;return t.buffer.push("\r\n\r\n\r\n  "),t.buffer.push(V((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):w.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:G.program(15,g,t),fn:G.program(13,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.customer:customerInformation.promptDd~",contentBinding:"dateArrayDOB",disableBinding:"isDOBDisabled",tabindex:"108",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBDate"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.customer:customerInformation.promptMm~",contentBinding:"monthArrayDOB",disableBinding:"isDOBDisabled",tabindex:"109",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBMonth"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",disableBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,disableBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.customer:customerInformation.promptYyyy~",contentBinding:"yearArrayDOB",tabindex:"110",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"customerDataModel.DOBYear"},hashTypes:{class:"STRING",prompt:"STRING",contentBinding:"STRING",tabindex:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,contentBinding:e,tabindex:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  <br/>\r\n  <br/>\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"112",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.canWeSendMarketing~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.acceptMarketingInfo",validatorBinding:"validators.acceptMarketingInfoValidator"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),
t.buffer.push(V(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"114",label:"~locale.associateProducts:deviceAtAnotherLocation.residenceType~",valueBinding:"customerDataModel.residenceType",contentBinding:"residenceTypeList",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",validatorBinding:"validators.residenceTypeValidator",prompt:" "},hashTypes:{tabindex:"STRING",label:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",validatorBinding:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,label:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,validatorBinding:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"117",valueBinding:"customerDataModel.vatNumber",label:"~locale.customer:customerInformation.vatNumber~",validatorBinding:"validators.vatNumberValidator",disabledBinding:"disableVatNumber"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function p(e,t){t.buffer.push('\r\n  <span class="error-text" data-bindattr-908="908">*</span><br/>\r\n  ')}function g(e,t){t.buffer.push('\r\n  <span class="error-text" data-bindattr-908="908"></span><br/>\r\n  ')}function f(e,t){return t.buffer.push("\r\n\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"111",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"113",valueBinding:"customerDataModel.methodOfCommunication",validatorBinding:"validators.methodOfCommunicationValidator",label:"~locale.customer:customerInformation.CommunicationMethod~",contentBinding:"communicationMethods",disableBinding:"customerDataModel.isMethodOfCommunicationDisabled",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:" "},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",disableBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,disableBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"116",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.isRegisteredForVAT~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.isRegisteredForVAT"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"119",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.ReceiveInvoice~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.isReceiveInvoice",disabledBinding:"disableReceiveInvoice"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n \r\n  "),""}function y(e,t){return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Contact",{hash:{phoneNumberBinding:"contactNumbers",emailAddressBinding:"emails",isEmailRequiredBinding:"isEmailCommunication",tabIndex:200},hashTypes:{phoneNumberBinding:"STRING",emailAddressBinding:"STRING",isEmailRequiredBinding:"STRING",tabIndex:"INTEGER"},hashContexts:{phoneNumberBinding:e,emailAddressBinding:e,isEmailRequiredBinding:e,tabIndex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function b(e,t){return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Address",{hash:{addressListBinding:"customerDataModel.addressInformation",showControls:!0,tabIndex:300},hashTypes:{addressListBinding:"STRING",showControls:"BOOLEAN",tabIndex:"INTEGER"},hashContexts:{addressListBinding:e,showControls:e,tabIndex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function v(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.financialInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:G.noop,fn:G.program(24,C,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function C(e,t){return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.PaymentDetails",{hash:{paymentDetailsBinding:"paymentDetails",disableDebitOrderDayBinding:"disablePaymentDay",defaultDayShowBinding:"paymentDetails.debitOrderDay",tabIndex:300},hashTypes:{paymentDetailsBinding:"STRING",disableDebitOrderDayBinding:"STRING",defaultDayShowBinding:"STRING",tabIndex:"INTEGER"},hashContexts:{paymentDetailsBinding:e,disableDebitOrderDayBinding:e,defaultDayShowBinding:e,tabIndex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function I(e,t){var a;return t.buffer.push('\r\n  <div class="container-fluid">\r\n    <div class="col-sm-12">\r\n      '),t.buffer.push(V(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.householdMember~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"500",action:"addHouseHoldInfoVisible",text:"~locale.customer:customerInformation.addLink~"},hashTypes:{tabindex:"STRING",action:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      <br />\r\n      "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.DataGrid",{hash:{canSort:!0,performsValidation:!0,canDelete:!1,canEdit:!1,editMode:"cell",canSelect:!0,pageSize:10,selectedItemBinding:"customerDataModel.selectedGridItemHouseholdMemberAndAuthority",contentBinding:"customerDataModel.householdMemberAndAuthority",columnsBinding:"dataGridColumnsHouseholdMemberAndAuthority",commandItemBinding:"customerDataModel.commandGridItemHouseholdMemberAndAuthority",commandItemTypeBinding:"customerDataModel.deleteGridItemHouseholdMemberAndAuthority",visibleBinding:"hidehouseholdMemberGrid"},hashTypes:{canSort:"BOOLEAN",performsValidation:"BOOLEAN",canDelete:"BOOLEAN",canEdit:"BOOLEAN",editMode:"STRING",canSelect:"BOOLEAN",pageSize:"INTEGER",selectedItemBinding:"STRING",contentBinding:"STRING",columnsBinding:"STRING",commandItemBinding:"STRING",commandItemTypeBinding:"STRING",visibleBinding:"STRING"},hashContexts:{canSort:e,performsValidation:e,canDelete:e,canEdit:e,editMode:e,canSelect:e,pageSize:e,selectedItemBinding:e,contentBinding:e,columnsBinding:e,commandItemBinding:e,commandItemTypeBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    </div>\r\n  </div>\r\n\r\n  "),a=o.if.call(e,"isHouseHoldInfoVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(27,T,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function T(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(28,D,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n  <br/>\r\n  <table width="100%">\r\n    <tr>\r\n      <td align="right">\r\n        '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"511",action:"addHouseholdMemberAndAuthority",class:"btn-success",disableBinding:"isAddButtonDisable"},hashTypes:{tabindex:"STRING",action:"STRING",class:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,action:e,class:e,disableBinding:e},inverse:G.noop,fn:G.program(36,x,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  "),""}function D(e,t){var a;return t.buffer.push("\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(29,S,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n  "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(34,A,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function S(e,t){var a;return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"501",valueBinding:"householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.firstName~",validatorBinding:"validators.firstNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"503",valueBinding:"householdMemberAndAuthority.relation",label:"~locale.customer:customerInformation.relation~",validatorBinding:"validators.relationValidator",prompt:" ",contentBinding:"_householdMemberRelation",optionLabelPath:"content.value",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"505",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.allowToTransactInfo~",displayPath:"title",valuePath:"value",valueBinding:"householdMemberAndAuthority.allowToTransactInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:G.program(32,M,t),fn:G.program(30,N,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),""}function N(e,t){return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"509",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.identityDetailType~",validatorBinding:"validators.identityDetailTypeHouseholdMemberAndAuthorityValidator",contentBinding:"_householdMemberIdType",prompt:" ",optionLabelPath:"content.value",optionValuePath:"content",visibleBinding:"isAllowToTransactDisabled"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function M(e,t){return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"509",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.identityDetailType~",contentBinding:"_householdMemberIdType",prompt:" ",optionLabelPath:"content.value",optionValuePath:"content",visibleBinding:"isAllowToTransactDisabled"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",visibleBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function A(e,t){var a,n,s;return t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"502",valueBinding:"householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.lastName~",validatorBinding:"validators.lastNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"504",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.householdMemberInfo~",displayPath:"title",valuePath:"value",valueBinding:"householdMemberAndAuthority.householdMemberInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  "),t.buffer.push(V((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.dateOfBirth",s):w.call(e,"loc","locale.customer:customerInformation.dateOfBirth",s)))),t.buffer.push("\r\n  "),a=o.if.call(e,"customerDataModel.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:G.program(15,g,t),fn:G.program(13,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.customer:customerInformation.promptDd~",tabindex:"506",disableBinding:"isHouseholdMemberAndAuthorityDOBDisabled",contentBinding:"dateArray",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"householdMemberAndAuthority.dd"},hashTypes:{class:"STRING",prompt:"STRING",tabindex:"STRING",disableBinding:"STRING",contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,tabindex:e,disableBinding:e,contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",prompt:"~locale.customer:customerInformation.promptMm~",tabindex:"507",disableBinding:"isHouseholdMemberAndAuthorityDOBDisabled",contentBinding:"monthArray",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"householdMemberAndAuthority.mm"},hashTypes:{class:"STRING",prompt:"STRING",tabindex:"STRING",disableBinding:"STRING",contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,tabindex:e,disableBinding:e,contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-number",prompt:"~locale.customer:customerInformation.promptYyyy~",tabindex:"508",contentBinding:"yearArray",optionValuePath:"content.label",optionLabelPath:"content.value",valueBinding:"householdMemberAndAuthority.yyyy"},hashTypes:{class:"STRING",prompt:"STRING",tabindex:"STRING",contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,prompt:e,tabindex:e,contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\r\n  <br/><br/>\r\n  "),t.buffer.push(V(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"510",valueBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",validatorBinding:"validators.identityDetailValueHouseholdMemberAndAuthorityValidator",label:"~locale.customer:customerInformation.identityDetailValue~",visibleBinding:"isAllowToTransactDisabled",disableBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",visibleBinding:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,visibleBinding:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function x(e,t){var a,n;t.buffer.push(V((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.submit",n):w.call(e,"loc","locale.customer:customerInformation.submit",n))))}function B(e,t){var a,n;t.buffer.push(V((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.createCustomerButton",n):w.call(e,"loc","locale.customer:customerInformation.createCustomerButton",n))))}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var P,R,O,V=this.escapeExpression,G=this,w=o.helperMissing;return n.buffer.push('<div class="no-banner-padding">\r\n  <table width="100%">\r\n    <tr>\r\n      <td>\r\n        <p class="komodo-heading">'),n.buffer.push(V((R=o.loc||t&&t.loc,O={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},R?R.call(t,"locale.customer:customer.useCaseTitle",O):w.call(t,"loc","locale.customer:customer.useCaseTitle",O)))),n.buffer.push('</p>\r\n      </td>\r\n      <td align="right">\r\n        '),n.buffer.push(V(o.view.call(t,"Komodo.Controls.Link",{hash:{tabindex:"1",text:"~locale.quotation:createQuotation.back~",href:"#/home"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:t,text:t,href:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <hr />\r\n  "),P=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.ciTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:G.noop,fn:G.program(1,s,n),contexts:[t],types:["ID"],data:n}),(P||0===P)&&n.buffer.push(P),n.buffer.push("\r\n\r\n\r\n  "),P=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.contactInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:G.noop,fn:G.program(19,y,n),contexts:[t],types:["ID"],data:n}),(P||0===P)&&n.buffer.push(P),n.buffer.push("\r\n\r\n  "),P=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.addressInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:G.noop,fn:G.program(21,b,n),contexts:[t],types:["ID"],data:n}),(P||0===P)&&n.buffer.push(P),n.buffer.push("\r\n\r\n  "),P=o.if.call(t,"customerDataModel.hideAdditionalInformationFinance",{hash:{},hashTypes:{},hashContexts:{},inverse:G.noop,fn:G.program(23,v,n),contexts:[t],types:["ID"],data:n}),(P||0===P)&&n.buffer.push(P),n.buffer.push("\r\n\r\n  "),P=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.householdMemberTitle~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:G.noop,fn:G.program(26,I,n),contexts:[t],types:["ID"],data:n}),(P||0===P)&&n.buffer.push(P),n.buffer.push('\r\n\r\n  <br/>\r\n  <div style="float:right;">\r\n    '),P=o.view.call(t,"Komodo.Controls.Button",{hash:{action:"createDStvCustomer",disableBinding:"disableCreateCustomerButton",tabindex:"600"},hashTypes:{action:"STRING",disableBinding:"STRING",tabindex:"STRING"},hashContexts:{action:t,disableBinding:t,tabindex:t},inverse:G.noop,fn:G.program(38,B,n),contexts:[t],types:["ID"],data:n}),(P||0===P)&&n.buffer.push(P),n.buffer.push("\r\n  </div>\r\n</div>"),""}),Komodo.Models.GetItOnPaymentPlanModel=Ember.Object.extend({init:function(){this.productName=void 0,this.identitypes=void 0,this.identityDetailValue=void 0,this.title=void 0,this.initials=void 0,this.firstName=void 0,this.lastName=void 0,this.gender=void 0,this.ahvStatus=void 0,this.language=void 0,this.dateOfBirth=void 0,this.DOBDate=void 0,this.DOBMonth=void 0,this.DOBYear=void 0,this.DOBDateDisable=!0,this.DOBMonthDisable=!0,this.DOBYearDisable=!0,this.genderDisable=!0,this.WorkPermitExpiryDate=void 0,this.passportExpiryDate=void 0,this.passportDOBDate=void 0,this.passportDOBMonth=void 0,this.passportDOBYear=void 0,this.workPermitDOBDate=void 0,this.workPermitDOBMonth=void 0,this.workPermitDOBYear=void 0,this.maritalStatus=void 0,this.noOfDependents=void 0,this.countryOfOrigin=void 0,this.idNumberDisable=void 0,this.countryOfOriginDisable=!0,this.countryOfOriginVisible=!1,this.passportExpiryVisible=!1,this.emailAddress=void 0,this.emailAddressPayer=void 0,this.yearsAtAddress=void 0,this.accountHoldersNameAndSurname=void 0,this.accountHoldersIDPassportNumber=void 0,this.bank=void 0,this.yearsAtBank=void 0,this.accountType=void 0,this.accountNo=void 0,this.yearsAtJob=void 0,this.salaryMandated=!1,this.occupation=void 0,this.employmentStatus=void 0,this.bankName=void 0,this.branchCode=void 0,this.netMonthlyIncome=void 0,this.debtCommitment=void 0,this.netMonthlyExpenses=void 0,this.notVisible=!1,this.calculate="-",this.showPage=!1,this.qns1=!1,this.qns2=!1,this.qns3=!1,this.qns4=!1,this.sameAsAbove=!1,this.applicantIsAccount=!1,this.idNumber=void 0,this.isIDFieldDisabled=!1,this.checkQuestions=0,this.checkAllQns=!1,this.countryOfOrigin=void 0,this.type=void 0,this.quoteNumber=void 0,this.bankingDetailsContactNumber=void 0,this.methodOfPayment=void 0,this.debitOrderDay=void 0,this.payerName=void 0,this.payerID=void 0,this.calculateAffordabilityValue=0,this.contactMobile=void 0,this.contactMobileCountryCode=void 0,this.contactHome=void 0,this.contactHomeCountryCode=void 0,this.contactWork=void 0,this.contactWorkCountryCode=void 0,this.telephoneNumberError=void 0,this.contactInformation=[],this.commandGridItemContactInformation=void 0,this.deleteGridItemContactInformation=void 0,this.selectedGridItemContactInformation=void 0,this.yesNo=[{title:kl.value(this.localeBase+"yes"),value:"1"},{title:kl.value(this.localeBase+"no"),value:"0"}],this.sendMarketingInformationMethod=[{title:"Email",value:"2"},{title:"Print",value:"3"},{title:"SMS",value:"4"}],this.debitOderDays=[],this.addressInformation=[],this.commandGridItemAddressInformation=void 0,this.deleteGridItemAddressInformation=void 0,this.selectedGridItemaddressInformation=void 0,this.disableCalculateButton=!0,this.messageForAffordability=void 0,this.iccCustomerNumber=void 0,this.crmCentralId=void 0,this.methodOfPaymentId=void 0,this.defaultFinancialAccountId=void 0,this.residentialStatus=void 0,this.sameIdNumber=!1,this.samePayerNameAndSurname=!1,this._super()}}),Komodo.Models.CreateCustomerNamespace.ContactInformation=Ember.Object.extend({Error:void 0,init:function(){this.Id=void 0,this.type=void 0,this.contactValue=void 0,this.countryCode=void 0,this.isPrimary=void 0,this.isRemovable=void 0,this.contactDetailType=[{key:"1",value:"Mobile"},{key:"2",value:"Work"},{key:"3",value:"Home"}],this.commercialContactDetailType=[{key:"1",value:"Mobile"},{key:"2",value:"Work"}],this._super()}}),Komodo.Models.CreateCustomerNamespace.ContactEmail=Ember.Object.extend({init:function(){this.Id=void 0,this.contactValue=void 0,this.isPrimary=void 0,this.isRemovable=void 0,this._super()}}),Komodo.Models.CreateCustomerNamespace.AddressInformation=Ember.Object.extend({init:function(){this.addressTypeKey=void 0,this.addressTypeValue=void 0,this.isPrimary=void 0,this.isPrimaryString=void 0,this.IsMarketingEnabled=void 0,this.country=void 0,this.province=void 0,this.city=void 0,this.suburb=void 0,this.postalCode=void 0,this.unit=void 0,this.building=void 0,this.streetNo=void 0,this.streetName=void 0,this.privateBag=void 0,this.billing=void 0,this.countryCanonicalKey=void 0,this.provinceCanonicalKey=void 0,this.cityCanonicalKey=void 0,this.suburbCanonicalKey=void 0,this.addressString=void 0,this.isAddressInformationVisible=void 0,this.countryKey=void 0,this.floor=void 0,this.exactLocation=void 0,this._super()}}),Komodo.Models.NewAmountToPayModel=Ember.Object.extend({init:function(){this.formattedAmountToPay=void 0,this.formattedDueDate=void 0,this.currency=void 0,this.subscriptionAccounts=[],this.subscriptionLineItems=[],this.boxOfficeAccount=[],this.boxOfficeAccoutBalance=void 0,this.boxOfficeAccountType=void 0,this.holidayHomeAccount=[],this.holidayHomeAccountBalance=void 0,this.holidayHomeLineItems=[],this.balanceBroughtForward=void 0,this.payButtonDisabled=!0,this.showPayViaAdhocButton=!1,this._super(),this.methodOfPayments=[],this.mopdropdownDisabled=!1}}),Komodo.Models.PendingPaymentPlanApplicationsModel=Ember.Object.extend({init:function(){this.customerNumber=void 0,this.idNumber=void 0,this.applicationStartDate=void 0,this.applicationEndDate=void 0,this.status=void 0,this.showDetails=!0,this._super()}}),Ember.TEMPLATES.CommercialCustomerView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){t.buffer.push("\r\n  ")}function i(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Application.CustomerProfileContainerView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n  "),""}function r(e,t){var a,n;return t.buffer.push("\r\n            "),t.buffer.push(de((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customer.useCaseTitle",n):ue.call(e,"loc","locale.commercialcustomer:customer.useCaseTitle",n)))),t.buffer.push("\r\n            "),""}function l(e,t){var a,n;return t.buffer.push("\r\n            "),t.buffer.push(de((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customer.editUseCaseTitle",n):ue.call(e,"loc","locale.commercialcustomer:customer.editUseCaseTitle",n)))),t.buffer.push("\r\n            "),""}function d(e,t){return t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"91",text:"~locale.commercialcustomer:customer.back~",href:"#/home"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:e,text:e,href:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),""}function u(e,t){return t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"91",text:"~locale.commercialcustomer:customer.back~",href:"#/customerInformation"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:e,text:e,href:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),""}function c(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(14,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function m(e,t){var a;return t.buffer.push("\r\n    \x3c!--Column 1--\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(15,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    \x3c!--Column 2--\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(28,I,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function h(e,t){var a;return t.buffer.push("\r\n    "),a=o.if.call(e,"enableNationalDealCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(18,g,t),fn:ce.program(16,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=o.if.call(e,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(25,v,t),fn:ce.program(23,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function p(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"1",valueBinding:"customerDataModel.customerClass",validatorBinding:"validators.customerClassValidator",label:"~locale.commercialcustomer:customerInformation.customerClass~",contentBinding:"customerClasses",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:"~locale.commercialcustomer:customerInformation.customerClassPrompt~",disabledBinding:"showEditView"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"2",valueBinding:"customerDataModel.companyName",label:"~locale.customer:customerInformation.companyName~",validatorBinding:"validators.companyNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"4",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.isVatRegistered~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.isVatRegistered"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"6",valueBinding:"customerDataModel.businessType",validatorBinding:"validators.businessTypeValidator",label:"~locale.customer:customerInformation.businessType~",contentBinding:"businessTypes",prompt:"~locale.customer:customerInformation.businessTypePrompt~",optionLabelPath:"content.CanonicalValue",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",
validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"8",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:"~locale.customer:customerInformation.languagePrompt~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function g(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"1",valueBinding:"customerDataModel.companyName",label:"~locale.customer:customerInformation.companyName~",validatorBinding:"validators.companyNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"3",contentBinding:"customerDataModel.yesNoNone",label:"~locale.customer:customerInformation.isVatRegistered~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.isVatRegistered"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--Either PIN or TAX--\x3e\r\n    "),a=o.if.call(e,"commercialIsPinAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(21,y,t),fn:ce.program(19,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("    \r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"7",valueBinding:"customerDataModel.businessType",validatorBinding:"validators.businessTypeValidator",label:"~locale.customer:customerInformation.businessType~",contentBinding:"businessTypes",prompt:"~locale.customer:customerInformation.businessTypePrompt~",optionLabelPath:"content.CanonicalValue",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function f(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"5",valueBinding:"customerDataModel.pinTinNumber",labelBinding:"pinTinNumber",validatorBinding:"validators.pinTinNumberValidator",disabledBinding:"disablePinTinNumber"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",labelBinding:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,labelBinding:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function y(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"5",valueBinding:"customerDataModel.taxNumber",label:"~locale.customer:customerInformation.taxNumber~",validatorBinding:"validators.taxNumberValidator",disabledBinding:"disableTaxNumber"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function b(e,t){t.buffer.push("\r\n    ")}function v(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"10",contentBinding:"customerDataModel.yesNo",label:"~locale.commercialcustomer:customerInformation.receiveMagazine~",displayPath:"title",valuePath:"value",valueBinding:"customerDataModel.acceptMarketingInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),a=o.if.call(e,"showFiscalCode",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(26,C,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function C(e,t){return t.buffer.push("\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"11",valueBinding:"customerDataModel.ivrFiscalCode",label:"~locale.commercialcustomer:customerInformation.fiscalCode~",contentBinding:"fiscalCodes",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:"~locale.commercialcustomer:customerInformation.fiscalCodePrompt~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n      "),""}function I(e,t){var a;return t.buffer.push("\r\n    "),a=o.if.call(e,"enableNationalDealCustomer",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(32,S,t),fn:ce.program(29,T,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=o.if.call(e,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(34,N,t),fn:ce.program(23,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function T(e,t){var a;return t.buffer.push("\r\n    <br/><br/>\r\n    <br/><br/>\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"3",valueBinding:"customerDataModel.registrationNumber",label:"~locale.customer:customerInformation.registrationNumber~",validatorBinding:"validators.registrationNumberValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"5",valueBinding:"customerDataModel.vatNumber",label:"~locale.customer:customerInformation.vatNumber~",validatorBinding:"validators.vatNumberValidator",disabledBinding:"disableVatNumber"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"7",valueBinding:"customerDataModel.establishmentType",validatorBinding:"validators.establishmentTypeValidator",label:"~locale.customer:customerInformation.establishmentType~",prompt:"~locale.customer:customerInformation.establishmentTypePrompt~",contentBinding:"establishmentTypes",optionLabelPath:"content.CanonicalValue",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.if.call(e,"enableDMXAccountType",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(30,D,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function D(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"9",contentBinding:"customerDataModel.yesNo",label:"~locale.commercialcustomer:customerInformation.isDMXType~",displayPath:"title",valuePath:"value",valueBinding:"isDMXAccountType",disabledBinding:"showEditView"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function S(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"2",valueBinding:"customerDataModel.registrationNumber",label:"~locale.customer:customerInformation.registrationNumber~",validatorBinding:"validators.registrationNumberValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"4",valueBinding:"customerDataModel.vatNumber",label:"~locale.customer:customerInformation.vatNumber~",validatorBinding:"validators.vatNumberValidator",disabledBinding:"disableVatNumber"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disabledBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disabledBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"6",valueBinding:"customerDataModel.language",validatorBinding:"validators.languageValidator",label:"~locale.customer:customerInformation.language~",contentBinding:"languages",optionLabelPath:"content.value",optionValuePath:"content.key",prompt:"~locale.customer:customerInformation.languagePrompt~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"8",valueBinding:"customerDataModel.establishmentType",validatorBinding:"validators.establishmentTypeValidator",label:"~locale.customer:customerInformation.establishmentType~",prompt:"~locale.customer:customerInformation.establishmentTypePrompt~",contentBinding:"establishmentTypes",optionLabelPath:"content.CanonicalValue",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function N(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"11",valueBinding:"customerDataModel.rdCheque",label:"~locale.commercialcustomer:customerInformation.rdCheque~",prompt:"~locale.commercialcustomer:customerInformation.rdChequePrompt~",optionLabelPath:"content.value",optionValuePath:"content.value",contentBinding:"rdChequeStatuses"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",contentBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,prompt:e,optionLabelPath:e,optionValuePath:e,contentBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function M(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(37,A,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function A(e,t){var a;return t.buffer.push("\r\n      \x3c!--Phone Number section--\x3e\r\n      "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"komodo-text-align-normal"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:ce.noop,fn:ce.program(38,x,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n      \x3c!--Email Address section--\x3e\r\n      "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"komodo-text-align-normal"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:ce.noop,fn:ce.program(42,R,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function x(e,t){var a;return t.buffer.push("\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.phoneNumber~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"16",action:"addPhoneNumber",contentBinding:"phone",text:"~locale.customer:customerInformation.addButton~"},hashTypes:{tabindex:"STRING",action:"STRING",contentBinding:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,contentBinding:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),a=o.each.call(e,"phone","in","contactNumbers",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(39,B,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),""}function B(e,t){var a,n,s;return t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",tabindex:"11",valueBinding:"phone.type",contentBinding:"phone.commercialContactDetailType",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{class:"STRING",tabindex:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{class:e,tabindex:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("+"),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",tabindex:"12",valueBinding:"phone.countryCode"},hashTypes:{class:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{class:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{tabindex:"13",class:"phone-number",valueBinding:"phone.contactValue"},hashTypes:{tabindex:"STRING",class:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,class:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.RadioButton",{hash:{checkedBinding:"phone.isPrimary",tabindex:"14",valueBinding:"phone.Id",name:"selectionPhone"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING",valueBinding:"STRING",name:"STRING"},hashContexts:{checkedBinding:e,tabindex:e,valueBinding:e,name:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.primary",s):ue.call(e,"loc","locale.customer:customerInformation.primary",s)))),t.buffer.push("\r\n        "),a=o.if.call(e,"phone.isRemovable",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(40,P,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.type",validatorBinding:"phone.phoneTypeValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.countryCode",validatorBinding:"phone.countryCodeValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.contactValue",validatorBinding:"phone.validator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function P(e,t){return t.buffer.push("\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"15",action:"removePhoneNumber",contentBinding:"phone",target:"controller",text:"~locale.customer:customerInformation.removeButton~"},hashTypes:{tabindex:"STRING",action:"STRING",contentBinding:"STRING",target:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,contentBinding:e,target:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function R(e,t){var a;return t.buffer.push("\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{class:"sub-heading",text:"~locale.customer:customerInformation.email~"},hashTypes:{class:"STRING",text:"STRING"},hashContexts:{class:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"20",action:"addEmail",text:"~locale.customer:customerInformation.addButton~"},hashTypes:{tabindex:"STRING",action:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),a=o.each.call(e,"email","in","emails",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(43,O,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),""}function O(e,t){var a,n,s;return t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{label:"Email",tabindex:"17",valueBinding:"email.contactValue"},hashTypes:{label:"STRING",tabindex:"STRING",valueBinding:"STRING"},hashContexts:{label:e,tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.RadioButton",{hash:{checkedBinding:"email.isPrimary",tabindex:"18",valueBinding:"email.Id",name:"selectionEmail"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING",valueBinding:"STRING",name:"STRING"},hashContexts:{checkedBinding:e,tabindex:e,valueBinding:e,name:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:customerInformation.primary",s):ue.call(e,"loc","locale.customer:customerInformation.primary",s)))),t.buffer.push("\r\n        "),a=o.if.call(e,"email.isRemovable",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(44,V,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n        <br/>\r\n        "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"email.validator",valueBinding:"email.contactValue"},hashTypes:{validatorBinding:"STRING",valueBinding:"STRING"},hashContexts:{validatorBinding:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function V(e,t){return t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"19",action:"removeEmail",contentBinding:"email",target:"controller",text:"~locale.customer:customerInformation.removeButton~"},hashTypes:{tabindex:"STRING",action:"STRING",contentBinding:"STRING",target:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,contentBinding:e,target:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function G(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Address",{hash:{addressListBinding:"customerDataModel.addressInformation"},hashTypes:{addressListBinding:"STRING"},hashContexts:{addressListBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function w(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.financialInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:e},inverse:ce.noop,fn:ce.program(49,K,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function K(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(50,E,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function E(e,t){var a;return t.buffer.push("\r\n      "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(51,k,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(54,_,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function k(e,t){var a;return t.buffer.push("\r\n       "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"70",contentBinding:"paymentMethodList",label:"~locale.customer:customerInformation.methodOfPayment~",optionLabelPath:"content.title",optionValuePath:"content.value",valueBinding:"customerDataModel.methodOfPayment"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,optionLabelPath:e,optionValuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n       "),a=o.if.call(e,"customerDataModel.hideFinInfo",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(52,L,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),""}function L(e,t){return t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"72",valueBinding:"customerDataModel.payerName",label:"~locale.commercialcustomer:customerInformation.payerName~",validatorBinding:"validators.payerNameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"customerDataModel.accountType",tabindex:"74",contentBinding:"paymentMethods",label:"~locale.customer:customerInformation.accountType~",optionLabelPath:"content.value",optionValuePath:"content",prompt:"~locale.customer:customerInformation.selectAccountType~",validatorBinding:"validators.accountTypeValidator"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",contentBinding:"STRING",label:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,tabindex:e,contentBinding:e,label:e,optionLabelPath:e,optionValuePath:e,prompt:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"customerDataModel.branchCode",label:"~locale.customer:customerInformation.branchName~",tabindex:"76",contentBinding:"bankBranches",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:"~locale.customer:customerInformation.branchNamePrompt~",validatorBinding:"validators.branchCodeValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"customerDataModel.accountNo",label:"~locale.customer:customerInformation.accountNumber~",tabindex:"78",validatorBinding:"validators.accountNoValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function _(e,t){var a;return t.buffer.push("\r\n        "),a=o.if.call(e,"customerDataModel.hideFinInfo",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(57,F,t),fn:ce.program(55,H,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),""}function H(e,t){return t.buffer.push("\r\n          <br/><br/><br/>\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Checkbox",{hash:{valueBinding:"customerDataModel.payerIsCustomer",label:"~locale.commercialcustomer:customerInformation.customerPayer~",validatorBinding:"validators.payerIsCustomerValidator",visibleBinding:"hide",tabindex:"71"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",visibleBinding:"STRING",tabindex:"STRING"},hashContexts:{valueBinding:e,label:e,validatorBinding:e,visibleBinding:e,tabindex:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"73",valueBinding:"customerDataModel.payerID",label:"~locale.customer:customerInformation.payerID~",validatorBinding:"validators.payerIDValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"customerDataModel.bank",tabindex:"75",contentBinding:"banks",label:"~locale.customer:customerInformation.bank~",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:"~locale.customer:customerInformation.bankPrompt~",validatorBinding:"validators.bankValidator"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",contentBinding:"STRING",label:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,tabindex:e,contentBinding:e,label:e,optionLabelPath:e,optionValuePath:e,prompt:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"customerDataModel.branchCode.BranchCode",label:"~locale.customer:customerInformation.branchCodeText~",tabindex:"77",disabled:"true",validatorBinding:"validators.branchCodeTextValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",disabled:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,disabled:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"customerDataModel.debitOrderDay",tabindex:"79",labelBinding:"debitOrderDaylabel",promptBinding:"paymentDayPrompt",contentBinding:"invoiceDays",validatorBinding:"validators.debitOrderDayValidator",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",labelBinding:"STRING",promptBinding:"STRING",contentBinding:"STRING",validatorBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{valueBinding:e,tabindex:e,labelBinding:e,promptBinding:e,contentBinding:e,validatorBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function F(e,t){return t.buffer.push("\r\n          "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"customerDataModel.debitOrderDay",tabindex:"71",labelBinding:"debitOrderDaylabel",promptBinding:"paymentDayPrompt",contentBinding:"invoiceDays",validatorBinding:"validators.debitOrderDayValidator",optionLabelPath:"content.value",optionValuePath:"content.key"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",labelBinding:"STRING",promptBinding:"STRING",contentBinding:"STRING",validatorBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{valueBinding:e,tabindex:e,labelBinding:e,promptBinding:e,contentBinding:e,validatorBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function U(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(60,q,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    \r\n    "),a=o.if.call(e,"householdMemberAndAuthority.isAuthorityInfoVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(63,j,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function q(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{classNames:"komodo-text-align-top full-width"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:e},inverse:ce.noop,fn:ce.program(61,$,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function $(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.contactPerson~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Link",{hash:{tabindex:"80",action:"addAuthorityInformation",text:"~locale.customer:customerInformation.addLink~"},hashTypes:{tabindex:"STRING",action:"STRING",text:"STRING"},hashContexts:{tabindex:e,action:e,text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    \x3c!--Grid--\x3e\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.DataGrid",{hash:{canSort:!0,pageSize:10,performsValidation:!1,canEdit:!1,editMode:"line",canSelect:!0,selectedItemBinding:"customerDataModel.selectedGridItemHouseholdMemberAndAuthority",contentBinding:"customerDataModel.householdMemberAndAuthority",columnsBinding:"dataGridColumnAuthorityDelegation",
commandItemBinding:"customerDataModel.commandGridItemHouseholdMemberAndAuthority",commandItemTypeBinding:"customerDataModel.deleteGridItemHouseholdMemberAndAuthority",visibleBinding:"hidehouseholdMemberGrid"},hashTypes:{canSort:"BOOLEAN",pageSize:"INTEGER",performsValidation:"BOOLEAN",canEdit:"BOOLEAN",editMode:"STRING",canSelect:"BOOLEAN",selectedItemBinding:"STRING",contentBinding:"STRING",columnsBinding:"STRING",commandItemBinding:"STRING",commandItemTypeBinding:"STRING",visibleBinding:"STRING"},hashContexts:{canSort:e,pageSize:e,performsValidation:e,canEdit:e,editMode:e,canSelect:e,selectedItemBinding:e,contentBinding:e,columnsBinding:e,commandItemBinding:e,commandItemTypeBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function j(e,t){var a;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(64,Q,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function Q(e,t){var a;return t.buffer.push("\r\n    \x3c!--Column 1--\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(65,Y,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    \x3c!--Column 2--\x3e\r\n    "),a=o.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(68,z,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function Y(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"81",valueBinding:"householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.firstName~",validatorBinding:"validators.firstNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"83",valueBinding:"householdMemberAndAuthority.relation",label:"~locale.customer:customerInformation.role~",contentBinding:"authorityRolesList",validatorBinding:"validators.relationValidator",optionLabelPath:"content.value",optionValuePath:"content.value"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",contentBinding:"STRING",validatorBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,contentBinding:e,validatorBinding:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.if.call(e,"showRoleText",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(66,J,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"86",valueBinding:"householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.identityDetailType~",validatorBinding:"validators.identityDetailTypeHouseholdMemberAndAuthorityValidator",contentBinding:"identityDetailTypes",prompt:"~locale.customer:customerInformation.idTypePrompt~",optionLabelPath:"content.value",optionValuePath:"content"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",contentBinding:"STRING",prompt:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,contentBinding:e,prompt:e,optionLabelPath:e,optionValuePath:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function J(e,t){return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{tabindex:"84",valueBinding:"householdMemberAndAuthority.role"},hashTypes:{tabindex:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"householdMemberAndAuthority.role",validatorBinding:"validators.roleValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    "),""}function z(e,t){var a;return t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"82",valueBinding:"householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",label:"~locale.customer:customerInformation.lastName~",validatorBinding:"validators.lastNameHouseholdMemberAndAuthorityValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"85",contentBinding:"customerDataModel.yesNo",label:"~locale.customer:customerInformation.allowToTransactInfo~",displayPath:"title",valuePath:"value",valueBinding:"householdMemberAndAuthority.allowToTransactInfo"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.if.call(e,"showRoleText",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(69,W,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"87",valueBinding:"householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",validatorBinding:"validators.identityDetailValueHouseholdMemberAndAuthorityValidator",label:"~locale.customer:customerInformation.identityDetailValue~"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",validatorBinding:"STRING",label:"STRING"},hashContexts:{tabindex:e,valueBinding:e,validatorBinding:e,label:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"88",action:"addAuthorityDelegation",class:"btn-success"},hashTypes:{tabindex:"STRING",action:"STRING",class:"STRING"},hashContexts:{tabindex:e,action:e,class:e},inverse:ce.noop,fn:ce.program(71,X,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    <br/>\r\n    "),""}function W(e,t){t.buffer.push("\r\n    <br/>\r\n    <br/>\r\n    ")}function X(e,t){var a,n;t.buffer.push(de((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.submit",n):ue.call(e,"loc","locale.customer:customerInformation.submit",n))))}function Z(e,t){var a;return t.buffer.push("\r\n    <br/>\r\n    <hr/>\r\n    "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.commercialcustomer:customerDocument.supportDocuments~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br/>\r\n    <br/>\r\n    "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{id:"pickfiles",tabindex:"90"},hashTypes:{id:"STRING",tabindex:"STRING"},hashContexts:{id:e,tabindex:e},inverse:ce.noop,fn:ce.program(74,ee,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=o.if.call(e,"showDocumentGridView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(76,te,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function ee(e,t){var a,n;return t.buffer.push("\r\n    "),t.buffer.push(de((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerDocument.addDocuments",n):ue.call(e,"loc","locale.commercialcustomer:customerDocument.addDocuments",n)))),t.buffer.push("\r\n    "),""}function te(e,t){var a,n,s;return t.buffer.push('\r\n    <br/>\r\n    <br/>\r\n    <div class="table-responsive">\r\n    <table class="table table-bordered komodo-datagrid">\r\n      <thead>\r\n        <tr>\r\n          <th width="30%">'),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.document",s):ue.call(e,"loc","locale.commercialcustomer:customerDocument.document",s)))),t.buffer.push('</th>\r\n          <th width="20%">'),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.type",s):ue.call(e,"loc","locale.commercialcustomer:customerDocument.type",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.size",s):ue.call(e,"loc","locale.commercialcustomer:customerDocument.size",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.serialNumber",s):ue.call(e,"loc","locale.commercialcustomer:customerDocument.serialNumber",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.percentage",s):ue.call(e,"loc","locale.commercialcustomer:customerDocument.percentage",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.status",s):ue.call(e,"loc","locale.commercialcustomer:customerDocument.status",s)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(de((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.commercialcustomer:customerDocument.actions",s):ue.call(e,"loc","locale.commercialcustomer:customerDocument.actions",s)))),t.buffer.push("</th>\r\n        </tr>\r\n      </thead>\r\n      "),a=o.each.call(e,"row","in","customerDataModel.customerDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(77,oe,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    </table>\r\n    </div>\r\n    "),""}function oe(e,t){var a;return t.buffer.push("\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"row.documentName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{valueBinding:"row.documentType",contentBinding:"row.documentTypes",optionLabelPath:"content.value",optionValuePath:"content.value",tabindex:"91",class:"komodo-grid-edit"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindex:"STRING",class:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindex:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=o._triageMustache.call(e,"row.documentSize",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),t.buffer.push(de(o.view.call(e,"Komodo.Controls.CoreSelect",{hash:{valueBinding:"row.documentSerialNumber",contentBinding:"row.documentSerialNumbers",optionLabelPath:"content.value",optionValuePath:"content.value",tabindex:"92",class:"komodo-grid-edit"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindex:"STRING",class:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindex:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=o._triageMustache.call(e,"row.uploadPercentage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=o._triageMustache.call(e,"row.uploadStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"removeDocument",size:"xs",type:"danger",tabindex:"93"},hashTypes:{action:"STRING",size:"STRING",type:"STRING",tabindex:"STRING"},hashContexts:{action:e,size:e,type:e,tabindex:e},inverse:ce.noop,fn:ce.program(78,ae,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      "),""}function ae(e,t){var a,n;return t.buffer.push("\r\n            "),t.buffer.push(de((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerDocument.delete",n):ue.call(e,"loc","locale.commercialcustomer:customerDocument.delete",n)))),t.buffer.push("\r\n            "),""}function ne(e,t){var a,n;t.buffer.push(de((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.createCustomerButton",n):ue.call(e,"loc","locale.customer:customerInformation.createCustomerButton",n))))}function se(e,t){t.buffer.push("\r\n      ")}function ie(e,t){var a;return t.buffer.push("\r\n      "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{action:"cancelCustomer",tabindex:"96",type:"inverse"},hashTypes:{action:"STRING",tabindex:"STRING",type:"STRING"},hashContexts:{action:e,tabindex:e,type:e},inverse:ce.noop,fn:ce.program(85,re,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n      "),""}function re(e,t){var a,n;t.buffer.push(de((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerInformation.cancel",n):ue.call(e,"loc","locale.commercialcustomer:customerInformation.cancel",n))))}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var le,de=this.escapeExpression,ue=o.helperMissing,ce=this;return n.buffer.push("<div>\r\n  "),le=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(3,i,n),fn:ce.program(1,s,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n\r\n  <div "),n.buffer.push(de(o["bind-attr"].call(t,{hash:{class:"showBanner:customer-page-padding:no-banner-padding"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:n}))),n.buffer.push('>\r\n    <table width="100%">\r\n      <tr>\r\n        <td>\r\n          <p class="komodo-heading">\r\n            '),le=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(7,l,n),fn:ce.program(5,r,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push('\r\n          </p>\r\n        </td>\r\n        <td align="right">\r\n          '),le=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(11,u,n),fn:ce.program(9,d,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <hr />\r\n    \x3c!--Company Details Start--\x3e\r\n    "),le=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.ciTitle~",isCollapsedBinding:"isCustomerInformationCollapsed"},hashTypes:{title:"STRING",isCollapsedBinding:"STRING"},hashContexts:{title:t,isCollapsedBinding:t},inverse:ce.noop,fn:ce.program(13,c,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n    \x3c!--Company Details End--\x3e\r\n    \r\n    \x3c!--Contact Information Start--\x3e\r\n    "),le=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.contactInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:ce.noop,fn:ce.program(36,M,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n    \x3c!--Contact Information End--\x3e\r\n\r\n    \x3c!--Address Information Start--\x3e\r\n    "),le=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.addressInfoHeading~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:ce.noop,fn:ce.program(46,G,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n    \x3c!--Address Information End--\x3e\r\n    \r\n    \x3c!--Finance Information Start--\x3e\r\n    "),le=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(48,w,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n    \x3c!--Finance Information End--\x3e\r\n\r\n    \x3c!--Authority Delegation Information Start--\x3e\r\n    "),le=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:customerInformation.authorityDelegation~"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:ce.noop,fn:ce.program(59,U,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n    \x3c!--Authority Delegation Information End--\x3e\r\n\r\n    \x3c!--Supporting Documents Information End--\x3e\r\n    "),le=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.noop,fn:ce.program(73,Z,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push('   \r\n    \x3c!--Supporting Documents Information End--\x3e\r\n\r\n    <br/>\r\n    <div style="float:right;">\r\n      '),le=o.view.call(t,"Komodo.Controls.Button",{hash:{action:"saveCustomer",tabindex:"95",disabledBinding:"isCreateCustomerButtonDisable"},hashTypes:{action:"STRING",tabindex:"STRING",disabledBinding:"STRING"},hashContexts:{action:t,tabindex:t,disabledBinding:t},inverse:ce.noop,fn:ce.program(80,ne,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n      "),le=o.if.call(t,"showCreateView",{hash:{},hashTypes:{},hashContexts:{},inverse:ce.program(84,ie,n),fn:ce.program(82,se,n),contexts:[t],types:["ID"],data:n}),(le||0===le)&&n.buffer.push(le),n.buffer.push("\r\n    </div>\r\n    <br/>\r\n  </div>\r\n</div>\r\n\r\n"),""}),Komodo.Models.WhereItIsModel=Ember.Object.extend({init:function(){this.deviceNumber=void 0,this.parcelNumber1=void 0,this.parcelNumber2=void 0,this.customerNumber=void 0,this.status=void 0,this._super()}}),Ember.TEMPLATES.ChangeOfDeviceOwnershipView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a;return t.buffer.push('\r\n    <table width="80%">\r\n        <tr>\r\n            <td width="20%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.deviceSerialNumber~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="20%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{tabindex:"1",valueBinding:"changeOfOwnership.deviceNo"},hashTypes:{tabindex:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="20%">\r\n                '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"2",action:"searchAndValidateDevice",size:"nextto-control"},hashTypes:{tabindex:"STRING",action:"STRING",size:"STRING"},hashContexts:{tabindex:e,action:e,size:e},inverse:I.noop,fn:I.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <br />\r\n    "),a=o.if.call(e,"_customerDeviceDetailsAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:I.noop,fn:I.program(4,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function i(e,t){var a,n;t.buffer.push(C((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:changeOfDeviceOwnership.search",n):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.search",n))))}function r(e,t){var a,n,s;return t.buffer.push("\r\n    "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:changeOfDeviceOwnership.deviceCustomerDetails~",isCollapsedBinding:""},hashTypes:{title:"STRING",isCollapsedBinding:"STRING"},hashContexts:{title:e,isCollapsedBinding:e},inverse:I.noop,fn:I.program(5,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n    "),a=o.view.call(e,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:changeOfDeviceOwnership.toCustomerDetails~",isCollapsedBinding:""},hashTypes:{title:"STRING",isCollapsedBinding:"STRING"},hashContexts:{title:e,isCollapsedBinding:e},inverse:I.noop,fn:I.program(9,c,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n    <br /><br />\r\n    <table width="100%">\r\n        <tr>\r\n            <td width="50%" class="float-left">\r\n                '),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.addFiles",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.addFiles",s)))),t.buffer.push("\r\n                &nbsp;&nbsp\r\n                "),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"6",action:"uploadDocs",size:"nextto-control"},hashTypes:{tabindex:"STRING",action:"STRING",size:"STRING"},hashContexts:{tabindex:e,action:e,size:e},inverse:I.noop,fn:I.program(12,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n            </td>\r\n            <td width="50%" class="float-right">\r\n                '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"7",action:"resetChange",size:"nextto-control"},hashTypes:{tabindex:"STRING",action:"STRING",size:"STRING"},hashContexts:{tabindex:e,action:e,size:e},inverse:I.noop,fn:I.program(14,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td  width="50%">\r\n            </td>\r\n            <td  width="50%" class="float-right">\r\n                '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"8",action:"validateRequestChangeOfOwnership",disableBinding:"changeOfOwnership.isDisableCOO",size:"nextto-control"},hashTypes:{tabindex:"STRING",action:"STRING",disableBinding:"STRING",size:"STRING"},hashContexts:{tabindex:e,action:e,disableBinding:e,size:e},inverse:I.noop,fn:I.program(16,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    "),""}function l(e,t){var a,n,s;return t.buffer.push('\r\n    <table width="100%">\r\n        <tr>\r\n            <td width="50%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.fromCustName~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.fromCustEmail~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"changeOfOwnership.fromCustomerName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"changeOfOwnership.fromCustomerEmail"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <br />\r\n    <br />\r\n    <div width="100%">\r\n        <table id="examplePager" class="table table-bordered komodo-datagrid">\r\n            <thead>\r\n                <tr>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.deviceNumberLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.deviceNumberLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.deviceNameLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.deviceNameLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.deviceStatusLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.deviceStatusLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.insStatusLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.insStatusLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.insStartDateLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.insStartDateLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.linkedSCLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.linkedSCLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.custStatusLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.custStatusLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.accountStatusLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.accountStatusLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.packagesLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.packagesLabel",s)))),t.buffer.push('</th>\r\n                    <th width="10%">'),t.buffer.push(C((n=o.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},n?n.call(e,"locale.customer:changeOfDeviceOwnership.actionLabel",s):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.actionLabel",s)))),t.buffer.push("</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                "),a=o.each.call(e,"item","in","changeOfOwnership.objDeviceDetailsModels",{hash:{},hashTypes:{},hashContexts:{},inverse:I.noop,fn:I.program(6,d,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n            </tbody>\r\n        </table>\r\n\r\n\r\n    </div>\r\n    "),""}function d(e,t){var a;return t.buffer.push('\r\n\r\n                <tr>\r\n                    <td width="10%">'),a=o._triageMustache.call(e,"item.deviceNumber",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                    <td width="10%">'),a=o._triageMustache.call(e,"item.deviceName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                    <td width="10%">'),a=o._triageMustache.call(e,"item.deviceStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                    <td width="10%">'),a=o._triageMustache.call(e,"item.insuranceStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                    <td width="10%">'),a=o._triageMustache.call(e,"item.insuranceStartDate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                    <td width="10%">'),a=o._triageMustache.call(e,"item.linkedSmartCard",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                    <td width="10%">'),a=o._triageMustache.call(e,"item.customerStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                    <td width="10%">'),a=o._triageMustache.call(e,"item.accountStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('</td>\r\n                    <td width="10%">\r\n                        '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.Link",{hash:{text:"~locale.customer:changeOfDeviceOwnership.add~",action:"addPackages",contentBinding:"item",visibleBinding:"item.isAddDisable"},hashTypes:{text:"STRING",action:"STRING",contentBinding:"STRING",visibleBinding:"STRING"},hashContexts:{text:e,action:e,contentBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n                        "),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{tabindex:"4",textBinding:"item.showSelectedPackages",visibleBinding:"item.isPackageSelectedToAdd"},hashTypes:{tabindex:"STRING",textBinding:"STRING",
visibleBinding:"STRING"},hashContexts:{tabindex:e,textBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n                    </td>\r\n                    <td width="10%">'),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"3",action:"removeDevice",type:"danger",contentBinding:"item"},hashTypes:{tabindex:"STRING",action:"STRING",type:"STRING",contentBinding:"STRING"},hashContexts:{tabindex:e,action:e,type:e,contentBinding:e},inverse:I.noop,fn:I.program(7,u,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\r\n                </tr>\r\n\r\n                "),""}function u(e,t){var a,n;t.buffer.push(C((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:changeOfDeviceOwnership.delete",n):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.delete",n))))}function c(e,t){var a;return t.buffer.push('\r\n    <table width="80%">\r\n        <tr>\r\n            <td width="20%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.toCustomer~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="20%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextField",{hash:{tabindex:"4",valueBinding:"changeOfOwnership.toCustomerNo"},hashTypes:{tabindex:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="20%">\r\n                '),a=o.view.call(e,"Komodo.Controls.Button",{hash:{tabindex:"5",action:"searchAndValidateToCustomer",size:"nextto-control"},hashTypes:{tabindex:"STRING",action:"STRING",size:"STRING"},hashContexts:{tabindex:e,action:e,size:e},inverse:I.noop,fn:I.program(2,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n            </td>\r\n            <td width="20%"></td>\r\n        </tr>\r\n    </table>\r\n    '),a=o.if.call(e,"_customerDetailsAvailable",{hash:{},hashTypes:{},hashContexts:{},inverse:I.noop,fn:I.program(10,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function m(e,t){return t.buffer.push('\r\n    <table width="100%">\r\n        <tr>\r\n            <td width="50%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.toCustName~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.toCustEmail~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"changeOfOwnership.toCustomerName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%">\r\n                '),t.buffer.push(C(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"changeOfOwnership.toCustomerEmail"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    "),""}function h(e,t){var a,n;t.buffer.push(C((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:changeOfDeviceOwnership.uploadDocs",n):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.uploadDocs",n))))}function p(e,t){var a,n;t.buffer.push(C((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:changeOfDeviceOwnership.reset",n):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.reset",n))))}function g(e,t){var a,n;return t.buffer.push("\r\n                "),t.buffer.push(C((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:changeOfDeviceOwnership.requestChangeOwnership",n):v.call(e,"loc","locale.customer:changeOfDeviceOwnership.requestChangeOwnership",n)))),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var f,y,b,v=o.helperMissing,C=this.escapeExpression,I=this;return n.buffer.push('<div class="no-banner-padding">\r\n    <table width="100%">\r\n        <tr>\r\n            <td>\r\n                <p class="komodo-heading">'),n.buffer.push(C((y=o.loc||t&&t.loc,b={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},y?y.call(t,"locale.customer:changeOfDeviceOwnership.title",b):v.call(t,"loc","locale.customer:changeOfDeviceOwnership.title",b)))),n.buffer.push('</p>\r\n            </td>\r\n            <td align="right">\r\n                '),n.buffer.push(C(o.view.call(t,"Komodo.Controls.Link",{hash:{tabindex:"1",text:"~locale.customer:changeOfDeviceOwnership.back~",href:"#/home"},hashTypes:{tabindex:"STRING",text:"STRING",href:"STRING"},hashContexts:{tabindex:t,text:t,href:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <hr />\r\n    "),f=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:changeOfDeviceOwnership.useCaseTitle~",isCollapsedBinding:""},hashTypes:{title:"STRING",isCollapsedBinding:"STRING"},hashContexts:{title:t,isCollapsedBinding:t},inverse:I.noop,fn:I.program(1,s,n),contexts:[t],types:["ID"],data:n}),(f||0===f)&&n.buffer.push(f),n.buffer.push("\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"),""}),Komodo.Application.CreateCustomerRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"createCustomer",init:function(){this._super()}}),Komodo.Application.AmountToPayRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"amountToPay",renderTemplate:function(){this.render("customerProfileContainer",{outlet:"summaryDetails",controller:"customerProfileContainer"}),this.render("amountToPay",{controller:"amountToPay"})},init:function(){this._super()}}),Komodo.Application.GetItOnPaymentPlanRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"getItOnPaymentPlan",init:function(){this._super()}}),Komodo.Application.WhereItIsRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"whereItIs",init:function(){this._super()}}),Komodo.Application.CommercialCustomerRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"commercialCustomer",init:function(){Komodo.Services.eventAggregator.subscribe("PublishCreateCommercialCustomer",function(){Komodo.Services.uiService.getController("commercialCustomer").set("isCreate",!0)}),this._super()}}),Komodo.Application.EditCommercialCustomerRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"editCommercialCustomer",renderTemplate:function(){this.render("editCommercialCustomer",{controller:"commercialCustomer"})},init:function(){Komodo.Services.eventAggregator.subscribe("PublishEditCommercialCustomer",function(){var e=Komodo.Services.uiService.getController("commercialCustomer");e.set("isCreate",!1),!1===e._isStarted&&e.start(),e.setCustomerDetails(),Komodo.Services.eventAggregator.publish(Komodo.EventNames.customTypeChanged,"commercial")}),this._super()}}),Komodo.Application.CsiCustomerRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"csiCustomer",init:function(){Komodo.Services.eventAggregator.subscribe("PublishCreateCSICustomer",function(){Komodo.Services.uiService.getController("csiCustomer").set("isCreate",!0)}),this._super()}}),Komodo.Application.EditCsiCustomerRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"editCsiCustomer",renderTemplate:function(){this.render("editCsiCustomer",{controller:"csiCustomer"})},init:function(){Komodo.Services.eventAggregator.subscribe("PublishEditCSICustomer",function(){var e=Komodo.Services.uiService.getController("csiCustomer");e.set("isCreate",!1),!1===e._isStarted&&e.start(),e.setCustomerDetails(),Komodo.Services.eventAggregator.publish(Komodo.EventNames.customTypeChanged,"csi")}),this._super()}}),Komodo.Application.CustomerCreatedRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"customerCreated"}),Komodo.Application.SpecialistCustomerRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"specialistCustomer",init:function(){this._super()}}),Komodo.Application.CreateDealerRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"createDealer",init:function(){this._super()}}),Komodo.Application.CustomerDocumentsRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"customerDocuments",renderTemplate:function(){this.render("customerProfileContainer",{outlet:"summaryDetails",controller:"customerProfileContainer"}),this.render("customerDocuments",{controller:"customerDocuments"})},init:function(){this._super()}}),Komodo.Application.PendingPaymentPlanApplicationsRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"pendingPaymentPlanApplications",init:function(){this._super()}}),Komodo.Application.NewAmountToPayRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"newAmountToPay",renderTemplate:function(){this.render("customerProfileContainer",{outlet:"summaryDetails",controller:"customerProfileContainer"}),this.render("newAmountToPay",{controller:"newAmountToPay"})},init:function(){this._super()}}),Komodo.Application.ChangeOfDeviceOwnershipRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"changeOfDeviceOwnership",init:function(){this._super()}}),Komodo.UI.Route.registerRoutes(function(){this.resource("createCustomer"),this.resource("commercialCustomer"),this.resource("editCommercialCustomer"),this.resource("csiCustomer"),this.resource("editCsiCustomer"),this.resource("customerCreated"),this.resource("specialistCustomer"),this.resource("createDealer"),this.resource("customerDocuments"),this.resource("getItOnPaymentPlan"),this.resource("pendingPaymentPlanApplications"),this.resource("whereItIs"),this.resource("amountToPay"),this.resource("newAmountToPay"),this.resource("changeOfDeviceOwnership"),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"pendingPaymentPlanApplications",type:Komodo.NavigationTypes.HomeTileSubLink,title:kl.value("locale.customer:pendingPaymentPlanApplications.useCaseTitle"),desiredLocation:24}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"getItOnPaymentPlan",type:Komodo.NavigationTypes.HomeTileSubLink,title:kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),desiredLocation:14}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"whereItIs",type:Komodo.NavigationTypes.HomeTileSubLink,title:kl.value("locale.customer:whereItIs.useCaseTitle"),desiredLocation:15}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"createCustomer",type:Komodo.NavigationTypes.HomeTileSubLink,title:kl.value("locale.customer:customer.useCaseTitle"),desiredLocation:2}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"commercialCustomer",type:Komodo.NavigationTypes.HomeTileSubLink,title:kl.value("locale.commercialcustomer:customer.useCaseTitle"),desiredLocation:8,conditionalCallback:function(){return Komodo.Services.eventAggregator.publish("PublishCreateCommercialCustomer",{value:"Create Commercial Customer"}),!0}}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.ManageCustomer,routeName:"editCommercialCustomer",title:kl.value("locale.commercialcustomer:customer.editUseCaseTitle"),desiredLocation:9,customType:Komodo.NavigationGroupNames.CustomerSubType.Commercial,display:!1,conditionalCallback:function(){return Komodo.Services.eventAggregator.publish("PublishEditCommercialCustomer",{value:"Edit Commercial Customer"}),!0}}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"csiCustomer",type:Komodo.NavigationTypes.HomeTileSubLink,title:kl.value("locale.csicustomer:customer.useCaseTitle"),desiredLocation:10,conditionalCallback:function(){return Komodo.Services.eventAggregator.publish("PublishCreateCSICustomer",{value:"Create CSI Customer"}),!0}}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.ManageCustomer,routeName:"editCsiCustomer",title:kl.value("locale.csicustomer:customer.editUseCaseTitle"),desiredLocation:11,customType:Komodo.NavigationGroupNames.CustomerSubType.Csi,display:!1,conditionalCallback:function(){return Komodo.Services.eventAggregator.publish("PublishEditCSICustomer",{value:"Edit CSI Customer"}),!0}}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"specialistCustomer",type:Komodo.NavigationTypes.HomeTileSubLink,title:kl.value("locale.specialistCustomer:customer.useCaseTitle"),desiredLocation:4}),Komodo.Services.eventAggregator.subscribe("PublishCreateCustomer",function(e){var t=Komodo.Services.uiService.getController("createCustomer");t.start(),Komodo.Services.uiService.transitionTo("createCustomer"),t.customerDetails(e)}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"createDealer",title:kl.value("locale.createDealer:dealer.title"),type:Komodo.NavigationTypes.HomeTileSubLink,desiredLocation:6}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.ManageCustomer,routeName:"customerDocuments",title:kl.value("locale.commercialcustomer:customer.documents"),desiredLocation:13}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.ManageCustomer,routeName:"amountToPay",title:kl.value("locale.customer:amountToPay.title"),desiredLocation:20}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.ManageCustomer,routeName:"newAmountToPay",title:kl.value("locale.customer:newAmountToPay.newAmountToPayTitle"),desiredLocation:21}),Komodo.Services.navigationService.register({groupName:Komodo.NavigationGroupNames.GetConnected,routeName:"changeOfDeviceOwnership",type:Komodo.NavigationTypes.HomeTileSubLink,title:kl.value("locale.customer:changeOfDeviceOwnership.useCaseTitle"),desiredLocation:20})}),Komodo.Services.CustomerService=Ember.Object.extend(Komodo.Dependency,{isUserActivityToBeTracked:!1,productConstant:void 0,customerConstant:void 0,init:function(){this._super(),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_featureToggleService",{singleton:Komodo.Services.featureToggleService}),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._configure),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._configure),this.fetchConstantDataSetFromAdele("ManageViewingConstants"),this.fetchConstantDataSetFromAdele("ManageCustomerConstants")},retrieveLookup:function(e,t){var o=$.Deferred(),a={eventName:"RetrieveLookup",eventVersion:"v1",eventValidityInMinutes:0,eventPriority:null};return e.sendMessage(t,a).done(function(){o.resolve()}).fail(function(e){o.reject(e)}),o},submit:function(e,t){var o=$.Deferred(),a={eventName:"CreateDStvCustomer",eventVersion:"v2",eventValidityInMinutes:0,eventPriority:null};return e.sendMessage(t,a).done(function(){o.resolve()}).fail(function(e){o.fail(e)}),o},createCreditApplication:function(e,t){var o=$.Deferred(),a={eventName:"CreateCreditApplication",eventVersion:"v1",eventValidityInMinutes:0,eventPriority:null};return e.sendMessage(t,a).done(function(){o.resolve()}).fail(function(e){o.fail(e)}),o},publishCustomerEvent:function(e,t,o,a,n){n=void 0!==n&&n;var s=$.Deferred(),i={eventName:o,eventVersion:a,eventValidityInMinutes:0,eventPriority:null,fireAndForget:n};return e.sendMessage(t,i).done(function(){s.resolve(),Komodo.log(o+" has been published.")}).fail(function(e){s.fail(e),Komodo.log(o+" is failed.")}),s},startActivity:function(e){var t={CustomerId:e,StartDate:(new Date).toGMTString(),Subject:"Activity-"+e};Komodo.Services.queryService.postJSON("/CrmUserManagement/SaveActivity",{data:t}).done(function(t){Komodo.log("User Activity for Customer:-"+e+" started successfully")}).error(function(t){var o=JSON.stringify(t);Komodo.log("User Activity for Customer:-"+e+" could not be started. Error: "+o)})},getSecurityService:function(){return this.get("_securityService")},getEventAggregator:function(){return this.get("_eventAggregator")},getFeatureToggleService:function(){return this.get("_featureToggleService")},getCachedDataService:function(){return this.get("_cachedDataService")},getUIService:function(){return this.get("_uiService")},_configure:function(){var e=this;this.getFeatureToggleService().isEnabled("CustomerGlobal","ShowCreateDealer").done(function(t){Ember.run(function(){t||e.getSecurityService().overrideRouteAccess({routeName:"createDealer",permissionType:"HIDE"})})}),this.getFeatureToggleService().isEnabled("CustomerGlobal","EnableCSICustomer").done(function(t){Ember.run(function(){t||e.getSecurityService().overrideRouteAccess({routeName:"csiCustomer",permissionType:"HIDE"})})}),this.getFeatureToggleService().isEnabled("User","IsUserActivityToBeTracked").done(function(t){e.set("isUserActivityToBeTracked",t)})},fetchConstantDataSetFromAdele:function(e){var t=this,o=$.Deferred();return Ember.isEmpty(t.get("productConstant"))||Ember.isEmpty(t.get("customerConstant"))?function(e){t.getCachedDataService().fetch(e,{domain:t.getUIService().getController("application").get("_selectedCountryId"),qualifier:"global"}).done(function(a){t.set("ManageViewingConstants"===e?"productConstant":"customerConstant",a),o.resolve(a)}).fail(function(t){Komodo.error("[CLARITY CONSTANT SERVICE ERROR] : failed to retrieve data for dataset :"+e+"ERROR : "+t),o.reject(t)})}(e):o.resolve(t.get("ManageViewingConstants"===e?"productConstant":"customerConstant")),o},getValueFromConstant:function(e,t){var o=this,a=void 0;try{var n=o.get("ProductsConstants"===e?"productConstant":"customerConstant");Ember.isEmpty(o.get("productConstant"))||Ember.isEmpty(o.get("customerConstant"))?Komodo.error("[CLARITY CONSTANT ERROR] : constant dataset empty: "+e):a=$.grep(n,function(e){return e.key==t})[0].value}catch(e){Komodo.error("[CLARITY CONSTANT ERROR] : failed to retrieve data for "+t+" ERROR: "+e)}return a="null"===a?"":"undefined"===a?void 0:a},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.applicationInitialized,this,this._configure),this._super()}}),Komodo.Services.CustomerService=Komodo.Services.CustomerService.create(),Komodo.Services.PriceLockProductService=Ember.Object.extend(Komodo.Dependency,{init:function(){this._super()},getIdTypes:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("IDType",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){"Social Identity Number"!==o.value&&"Passport Number"!==o.value||t.push({key:o.key,label:o.value})}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getCountryDetail:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("Location",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){var a=JSON.parse(o);$.each($.makeArray(a.Countries.Country),function(e,o){t.addObject(o)});var n=[];$.each(t,function(e,t){"zaf"===t.CanonicalKey&&t.Provinces&&t.Provinces.Province&&($.isArray(t.Provinces.Province)?$.each(t.Provinces.Province,function(e,t){n.addObject(t)}):n.addObject(t.Provinces.Province))}),e.resolve(t,n)}).fail(function(t){e.reject(t)}),e},getMaritalStatuses:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("MaritalStatus",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getCountryOfOrigin:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("CountryOfOrigin",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){t.push({key:o.key,label:o.value})}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getResidentialStatuses:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("ResidentialStatus",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getEmploymentStatuses:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("EmploymentStatus",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getAddressTypes:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("AddressType",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){var a={title:o.value,value:o.key};t.addObject(a),t.reverse()}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getMethodOfPayments:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("BankAccountType",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getTitles:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("Title",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){o=o.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),$.each(o,function(e,o){t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getCommunicationLanguages:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("CommunicationLanguage",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getCommunicationMethods:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("CommunicationMethod",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){$.each(o,function(e,o){"None"!==o.value&&t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getLoggedInCountryId:function(){var e=$.Deferred();return Komodo.Services.cachedDataService.fetch("Country",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(t){var o=t,a=void 0;!o instanceof Array&&(o=[o]),o.forEach(function(e){Komodo.Services.uiService.getController("application").get("_selectedCountryId")===e.key&&(a=e.key)}),void 0!=a&&e.resolve(a)}).fail(function(t){e.reject(t)}),e},getProvinces:function(e){var t=[];return $.each(e,function(e,o){"zaf"===o.CanonicalKey&&o.Provinces&&o.Provinces.Province&&($.isArray(o.Provinces.Province)?$.each(o.Provinces.Province,function(e,o){t.addObject(o)}):t.addObject(o.Provinces.Province))}),t},getBankDetail:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("BankDetail",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){var a=JSON.parse(o);$.each(a.Banks.Bank,function(e,o){t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getInvoiceProfileDay:function(){var e=$.Deferred(),t=[];return Komodo.Services.cachedDataService.fetch("InvoiceDay",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(o){o=o.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),$.each(o,function(e,o){Number(o.key)>=1&&"Dealer Day 1"!==o.value&&t.addObject(o)}),e.resolve(t)}).fail(function(t){e.reject(t)}),e},getDialingCodes:function(e){var t=$.Deferred(),o=[],a=void 0;return Komodo.Services.cachedDataService.fetch("CountryDetail",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(n){var s=JSON.parse(n);$.each(s.Countries.Country,function(e,t){o.addObject(t)}),a=$.grep(o,function(t){return t.CanonicalValue.indexOf(e)>=0}),t.resolve(a,o)}).fail(function(e){t.reject(e)}),t},validateAddress:function(e){var t=!1,o=!1,a=0;try{e.get("getItOnPaymentPlanModel.addressInformation").forEach(function(e){if(e.addressType===Komodo.CanonicalValues.AddressTypes.Physical&&(t=!0),e.addressType===Komodo.CanonicalValues.AddressTypes.Delivery){if(o=!0,!Ember.empty(e.building)&&e.building.length>50)throw"BuildingNameLenth";if(Ember.empty(e.streetNumber))throw"NoStreetNumber"}e.isPrimary&&a++})}catch(e){return"BuildingNameLenth"===e?(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),"Please make sure the Delivery address building name does not exceed 50 charecters",Komodo.Controls.MessageBoxOkButtons,this,"id5446673","warning"),!1):"NoStreetNumber"===e?(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),"Please provide street number in the Delivery address",Komodo.Controls.MessageBoxOkButtons,this,"id5446673","warning"),!1):(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),"Error"+e,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","warning"),!1)}if(!o)return Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value(e.localeBase+"provideDeliveryAddress"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1;if(!t)return Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value(e.localeBase+"providePhysicalAddress"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1;if(this.verifyAddress(e))return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("Please update missing address information."),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger");switch(a){case 0:return Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value(e.localeBase+"onePrimaryAddress"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1;case 1:break;default:return Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value(e.localeBase+"onlyOnePrimaryAddress"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1}return!0},verifyAddress:function(e){var t=!1,o="";return e.get("getItOnPaymentPlanModel.addressInformation").forEach(function(a){(Ember.empty(a.addressType)||Ember.empty(a.addressType.trim()))&&(t=!0),(Ember.empty(a.suburb)||Ember.empty(a.suburb.trim()))&&(t=!0),(Ember.empty(a.city)||Ember.empty(a.city.trim()))&&(t=!0),(Ember.empty(a.province)||Ember.empty(a.province.trim()))&&(t=!0),(Ember.empty(a.country)||Ember.empty(a.country.trim()))&&(t=!0),(Ember.empty(a.postalCode)||Ember.empty(a.postalCode.trim()))&&(t=!0);for(var n=0;n<e.provinces.length;n++)e.provinces[n].CanonicalKey===a.province&&(o=e.provinces[n].CanonicalValue)}),(Ember.empty(o)||Ember.empty(o.trim()))&&(t=!0),t},validateContacts:function(e){return!e.checkContactCount()&&(this.checkContactType(e)?this.checkPayerNameAndSurname(e)?this.checkPrimaryContact(e)?(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("locale.customer:getItOnPaymentPlan.primaryContact"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1):e.contactNumbers.length<1?void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("Atleast one contacts needed"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"):e.get("getItOnPaymentPlanModel.addressInformation").length<2?(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("Atleast one residential and one delivery address is needed"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1):this.validateContactBusinessLogic(e):(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("locale.customer:getItOnPaymentPlan.payerContactNameRequired"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1):(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("locale.customer:getItOnPaymentPlan.contactTypeRequired"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1))},validateContactBusinessLogic:function(e){for(var t=void 0,o=!1,a=0;a<e.contactNumbers.length&&("1"===e.contactNumbers[a].type&&(o=!0),t=e.canSubmitData(e.contactNumbers[a],kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),{showInModal:!0}));a++);var n;n=e.contactNumbers.sort(function(e,t){return parseInt(e.countryCode+e.contactValue,10)>parseInt(t.countryCode+t.contactValue,10)?1:parseInt(e.countryCode+e.contactValue,10)<parseInt(t.countryCode+t.contactValue,10)?-1:0});for(var s=[],i=0;i<n.length-1;i++)n[i+1].countryCode+n[i+1].contactValue===n[i].countryCode+n[i].contactValue&&s.push(n[i].countryCode+"+"+n[i].contactValue);return s.length>0?(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value(e.localeBase+"duplicateMobile"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","warning"),!1):o?!(void 0!==t&&!t):(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value(e.localeBase+"provideMobile"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!1)},checkContactType:function(e){if(!Ember.isEmpty(e.contactNumbers))for(var t=0;t<e.contactNumbers.length>0;t++)if(Ember.isEmpty(e.contactNumbers[t].type))return!1;return!0},checkPayerNameAndSurname:function(e){var t=e.getItOnPaymentPlanModel.get("accountHoldersNameAndSurname"),o=t.split(" ",1);if(Ember.isEmpty(o))return!0;var a=t.replace(o[0]+" ","");return!Ember.isEmpty(a)},checkPrimaryContact:function(e){if(null!==e.contactNumbers&&""!==e.contactNumbers&&void 0!==e.contactNumbers)for(var t=0;t<e.contactNumbers.length>0;t++)if(e.contactNumbers[t].isPrimary)return!1;return!0},validateBirthDate:function(e){if(Ember.isEmpty(e.getItOnPaymentPlanModel.DOBMonth)||Ember.isEmpty(e.getItOnPaymentPlanModel.DOBDate)||Ember.isEmpty(e.getItOnPaymentPlanModel.DOBYear))return Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"useCaseTitle"),kl.value(e.localeBase+"dateRequiredForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,this,"id5090993","danger"),!1
;var t=String(e.getItOnPaymentPlanModel.DOBMonth+"/"+e.getItOnPaymentPlanModel.DOBDate+"/"+e.getItOnPaymentPlanModel.DOBYear);if(!this.isDateValid(t))return Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"useCaseTitle"),kl.value(e.localeBase+"invalidDateForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,this,"id5090793","danger"),!1;var o=(new Date).getDate(),a=(new Date).getMonth()+1,n=(new Date).getFullYear()-18;return e._datePast=a+"/"+o+"/"+n,new Date(t)<=new Date(e._datePast)?(e.getItOnPaymentPlanModel.set("dateOfBirth",this.isDateValid(t)?new Date(t):t),!0):(Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"useCaseTitle"),kl.value(e.localeBase+"dateLessThanStandards"),Komodo.Controls.MessageBoxOkButtons,this,"id5090795","danger"),!1)},isDateValid:function(e){var t=/^(\d{1,2})(\/|-)(\d{1,2})\2(\d{2}|\d{4})$/,o=e.match(t);if(null==o)return!1;var a=o[1],n=o[3],s=o[4];if(a<1||a>12)return!1;if(n<1||n>31)return!1;if((4===a||6===a||9===a||11===a)&&31===n)return!1;if(2===a){var i=s%4==0&&(s%100!=0||s%400==0);if(n>29||29===n&&!i)return!1}return!0},registerValidators:function(e){e.registerValidator(e.get("getItOnPaymentPlanModel"),"DOBDate",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"DOBMonth",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"DOBYear",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"productName",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"identitypes",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"idNumber",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"identityDetailValue",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"title",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"firstName",{type:"string",isRequired:!0,minLength:1,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameValidator}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"lastName",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameValidator}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"gender",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"language",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"dateOfBirth",{type:"date"}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"maritalStatus",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"noOfDependents",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"emailAddress",{type:"string",regExPattern:Komodo.UI.Validators.RegExPatterns.Email}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"emailAddressPayer",{type:"string",isRequired:!1,regExPattern:Komodo.UI.Validators.RegExPatterns.Email}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"yearsAtAddress",{type:"string",isRequired:!0,minLength:1,maxLength:2,functions:Komodo.UI.Validators.numericValidator}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"employmentStatus",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"occupation",{type:"string",isRequired:!0,minLength:1,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameValidator}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"yearsAtJob",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"accountHoldersNameAndSurname",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"accountHoldersIDPassportNumber",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"debitOrderDay",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"bank",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"yearsAtBank",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"accountType",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"accountNo",{type:"string",isRequired:!0,minLength:5,maxLength:34,functions:Komodo.UI.Validators.numericValidator}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"branchCode",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"bankingDetailsContactNumber",{type:"number",minLength:9,maxLength:14,isRequired:!0,regExPattern:"^[0-9]+(.[0-9]{0,2})?$",functions:[Komodo.UI.Validators.RegExValidator]}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"netMonthlyIncome",{type:"number",maxLength:12,isRequired:!0,regExPattern:"^[0-9]+(.[0-9]{0,2})?$",functions:[Komodo.UI.Validators.RegExValidator]}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"debtCommitment",{type:"number",maxLength:12,isRequired:!0,regExPattern:"^[0-9]+(.[0-9]{0,2})?$",functions:[Komodo.UI.Validators.RegExValidator]}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"netMonthlyExpenses",{type:"number",maxLength:12,isRequired:!0,regExPattern:"^[0-9]+(.[0-9]{0,2})?$",functions:[Komodo.UI.Validators.RegExValidator]}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"residentialStatus",{type:"string",isRequired:!0})},prepareAddress:function(e,t){if(void 0!=e){var o="";if(2!=e.Type&&(void 0!=e.HouseNumber&&""!=e.HouseNumber.toString()&&(null!=o&&""!=o?o=o+" "+e.HouseNumber:o+=e.HouseNumber),void 0!=e.BuildingName&&""!=e.BuildingName.toString()&&(null!=o&&""!=o?o=o+" "+e.BuildingName:o+=e.BuildingName),void 0!=e.Street&&""!=e.Street.toString()&&(null!=o&&""!=o?o=o+", "+e.Street:o+=e.Street)),void 0!=e.PostBoxNumber&&""!=e.PostBoxNumber.toString()&&(o+=e.PostBoxNumber),void 0!=e.Suburb&&""!=e.Suburb.toString()&&(null!=o&&""!=o?o=o+", "+e.Suburb:o+=e.Suburb),void 0!=e.City&&""!=e.City.toString()&&(null!=o&&""!=o?o=o+", "+e.City:o+=e.City),void 0!=e.Province){var a=t.provinces.filter(function(t){if(t.CanonicalKey===e.Province)return t.CanonicalValue})[0];""!=a&&null!=a&&(null!=o&&""!=o?o=o+", "+a.CanonicalValue:o+=a.CanonicalValue)}if(void 0!=e.Country){var n=t.get("countryDescription");""!=n&&null!=n&&(null!=o&&""!=o?o=o+", "+n:o+=n)}return void 0!=e.PostCode&&""!=e.PostCode.toString()&&(null!=o&&""!=o?o=o+", "+e.PostCode:o+=e.PostCode),o}return""}}),Komodo.Services.PriceLockProductService=Komodo.Services.PriceLockProductService.create(),Komodo.Application.ChangeOfDeviceOwnershipController=Komodo.UI.Controller.extend({_localeCOO:"locale.customer:changeOfDeviceOwnership.",init:function(){this._super()},start:function(){var e=this;e.registerModel("changeOfOwnership",Komodo.Models.ChangeOfDeviceOwnershipModel),e.initializeValuesFromAdeleConstants(),e.set("_currentCustomerNumber",""),e.set("_customerDeviceDetailsAvailable",!1),e.set("changeOfOwnership.isAddOnAvailable",!1),e.set("_customerDetailsAvailable",!1),e.set("changeOfOwnership.isDisableAddButton",!0),e.set("changeOfOwnership.isDisableCOO",!0),e._super()},initializeValuesFromAdeleConstants:function(){var e=this;e.set("_customerClassResidential",GetClarityConstants("ManageCustomerConstants","customerTypesConstants.CustomerTypesConstants.CUSTOMERCLASS_RESIDENTIAL").toString()),e.set("_customerClassSpecialist",GetClarityConstants("ManageCustomerConstants","customerTypesConstants.CustomerTypesConstants.CUSTOMERCLASS_SPECIALIST").toString()),e.set("_deviceStatusAtCust",GetClarityConstants("ManageCustomerConstants","AT_CUSTOMER_DEVICESTATUS").toString()),e.set("_deviceStatusForCust",GetClarityConstants("ManageCustomerConstants","FOR_CUSTOMER_DEVICESTATUS").toString()),e.set("_deviceStatusSecHand",GetClarityConstants("ManageCustomerConstants","SECOND_HAND_DEVICESTATUS").toString()),e.set("_customerStatusActive",GetClarityConstants("ManageCustomerConstants","ACTIVE_CUSTOMERSTATUS").toString()),e.set("_customerStatusDeceased",GetClarityConstants("ManageCustomerConstants","DECEASED_CUSTOMERSTATUS").toString()),e.set("_customerStatusBadDebt",GetClarityConstants("ManageCustomerConstants","BADDEBT_CUSTOMERSTATUS").toString()),e.set("_customerStatusClosed",GetClarityConstants("ManageCustomerConstants","CLOSED_CUSTOMERSTATUS").toString()),e.set("_customerStatusEmigrated",GetClarityConstants("ManageCustomerConstants","EMIGRATED_CUSTOMERSTATUS").toString()),e.set("_accountStatusDescClosed",GetClarityConstants("ManageCustomerConstants","CLOSED_ACCOUNT").toString()),e.set("_accountStatusDescOpen",GetClarityConstants("ManageCustomerConstants","OPEN_ACCOUNT").toString()),e.set("_accountStatusDescDisc",GetClarityConstants("ManageCustomerConstants","DISCONNECTED_ACCOUNT").toString()),e.set("_accountStatusDescCancelled",GetClarityConstants("ManageCustomerConstants","CANCELLED_ACCOUNT").toString()),e.set("_accountStatusDescOverdue",GetClarityConstants("ManageCustomerConstants","OVERDUE_ACCOUNT").toString()),e.set("_accountStatusDescDoubtful",GetClarityConstants("ManageCustomerConstants","DOUBTFULDEBT_ACCOUNT").toString()),e.set("_accountPaymentPlan",GetClarityConstants("ManageCustomerConstants","PAYMENT_PLAN_ACCOUNT").toString()),e.set("_accountStatusOpen",GetClarityConstants("ManageCustomerConstants","OPEN_ACCOUNTSTATUS").toString()),e.set("_accountStatusDisconnected",GetClarityConstants("ManageCustomerConstants","DISCONNECTED_ACCOUNTSTATUS").toString()),e.set("_accountStatusOverdue",GetClarityConstants("ManageCustomerConstants","OVERDUE_ACCOUNTSTATUS")[0]),e.set("_accountStatusDoubtfulDebt",GetClarityConstants("ManageCustomerConstants","DOUBTFULDEBT_ACCOUNTSTATUS").toString()),e.set("_accountTypeResGen",GetClarityConstants("ManageCustomerConstants","ACCOUNT_TYPE_RESGEN").toString()),e.set("_allowedAddPackages",GetClarityConstants("ManageCustomerConstants","allowedAddPackagesForCOO").toString()),e.set("_marketSegment",GetClarityConstants("ManageCustomerConstants","MARKET_SEGMENT").toString()),e.set("_popBusinessUnitValue",GetClarityConstants("ManageCustomerConstants","COO.DECODER_DSTV").toString()),e.set("_popMonthlyChargePeroid",GetClarityConstants("ManageCustomerConstants","COO.CHARGEPERIOD_MONTHLY").toString()),e.set("_principal",GetClarityConstants("ManageCustomerConstants","COO.ADDPACKAGE.PRINCIPAL").toString()),e.set("_addon",GetClarityConstants("ManageCustomerConstants","COO.ADDPACKAGE.ADDON").toString()),e.set("_access",GetClarityConstants("ManageCustomerConstants","COO.ADDPACKAGE.ACCESS").toString()),e.set("_insurance",GetClarityConstants("ManageCustomerConstants","COO.ADDPACKAGE.INSURANCE").toString()),e.set("_cooLetter",GetClarityConstants("ManageCustomerConstants","COO.UPLOAD.COOLETTER").toString()),e.set("_gpsLatitude",GetClarityConstants("ManageCustomerConstants","ManageCustomerConstant.GPSLatitude").toString()),e.set("_gpsLongitude",GetClarityConstants("ManageCustomerConstants","ManageCustomerConstant.GPSLongitude").toString()),e.set("_gpsAccuracy",GetClarityConstants("ManageCustomerConstants","ManageCustomerConstant.GPSAccuracy").toString()),e.set("_dccStatusActive",GetClarityConstants("ManageCustomerConstants","ManageCustomerConstants.COO.DCC_ACTIVE").toString()),e.set("_dccInsurance",GetClarityConstants("ManageCustomerConstants","COOInsurance").toString()),e.set("_dccCancelCode",GetClarityConstants("ManageCustomerConstants","COO.InsuranceCancelReasonCode").toString()),e.set("_hardwareType",GetClarityConstants("ManageCustomerConstants","COO.Hardware_Category").toString()),e.set("_cooHardwareStatus",GetClarityConstants("ManageCustomerConstants","COO.Hardware.Status").toString()),e.set("_testConstDecoderType",GetClarityConstants("ManageCustomerConstants","COO.Decoder_Type").toString()),e.set("_allowedProdStatusConfig",GetClarityConstants("ManageCustomerConstants","COO.ALLOWED_STATUSES").toString()),e.set("_pendingQuoteStatus",GetClarityConstants("ManageCustomerConstants","COO.Pending_QuoteStatus").toString()),e.set("_awaitingPayment",GetClarityConstants("ManageCustomerConstants","COO.Awaiting_Payment").toString()),e.set("_disconnectPendingReconnect",GetClarityConstants("ManageCustomerConstants","COO.Disconnect_Pending_Reconnect").toString()),e.set("_disconnectPendingRemoval",GetClarityConstants("ManageCustomerConstants","COO.Disconnect_Pending_Removal").toString()),e.set("_dCCAwaitingPayment",GetClarityConstants("ManageCustomerConstants","COO.DCC_Awaiting_Payment").toString()),e.set("_pendingUpgrade",GetClarityConstants("ManageCustomerConstants","COO.Pending_Upgrade").toString()),e.set("_pendingRemoval",GetClarityConstants("ManageCustomerConstants","COO.Pending_Removal").toString())},stop:function(){this._super()},populateAddOns:function(){var e=this;Ember.isEmpty(e.get("changeOfOwnership.selectedPrincipalPackage"))||e.set("changeOfOwnership.isDisableAddButton",!1),e.set("changeOfOwnership.isAddOnAvailable",!1),e.set("changeOfOwnership.selectedAddOnPackage",void 0),e.set("changeOfOwnership.objAddOnPackage",[]),e.set("changeOfOwnership.addOnProductSelection",void 0),e.set("changeOfOwnership.hdAddOnProductSelection",void 0),e.set("productAddOn",[]),e.set("productHdAddOn",[]),Ember.isEmpty(e.get("_allProductAddOn"))||($.each(e.get("_allProductAddOn"),function(t,o){switch(o){case"":case void 0:case null:break;default:switch(o.product.allowProduct){case"":case void 0:case null:break;default:if(void 0!==o.product.allowDevice){var a=o.product.allowDevice.split(","),n=!1;if($.each(a,function(t,o){return o!==e.get("_modelForCompare")||(n=!0,!1)}),n){var s=o.product.allowProduct.split(",");$.each(s,function(t,a){return a!==e.get("changeOfOwnership.selectedPrincipalPackage")||(e.get("changeOfOwnership.objAddOnPackage").addObject({title:o.product.details.name,value:o.product.details.productID}),!1)})}}}}}),e.get("changeOfOwnership.objAddOnPackage").length>0&&e.set("changeOfOwnership.isAddOnAvailable",!0))}.observes("changeOfOwnership.selectedPrincipalPackage"),disableAddButtonOnPopup:function(){var e=this;Ember.isEmpty(e.get("changeOfOwnership.selectedPrincipalPackage"))||e.set("changeOfOwnership.isDisableAddButton",!1)}.observes("changeOfOwnership.objInsuranceService.@each.isChecked","changeOfOwnership.objAccessService.@each.isChecked"),createPayloadForCOO:function(){Komodo.Models.ChangeOfDeviceOwnership.create()},publishChangeOfDeviceOwnershipEvent:function(){var e=this,t=null,o=Komodo.Models.ChangeDeviceOwnership.create(),a=Komodo.canonicalFacadeFactory(o,["Country","FromCustomerID","Username","Hardware","ToCustomerID","Installation"]),n=Komodo.Services.uiService.getController("application").get("_selectedCountryId");Ember.isEmpty(n)||a.set("Country",n),Ember.isEmpty(e.get("changeOfOwnership.customerNo"))||a.set("FromCustomerID",e.get("changeOfOwnership.customerNo").trim()),a.set("Username",Komodo.Services.securityService.get("domainUserName").substring(3)),Ember.isEmpty(e.get("changeOfOwnership.toCustomerNo"))||a.set("ToCustomerID",e.get("changeOfOwnership.toCustomerNo").trim());var s=Komodo.Models.ListOfHardware.create(),i=Komodo.canonicalFacadeFactory(s,["Hardware"]),r=[];Ember.isEmpty(e.get("changeOfOwnership.objDeviceDetailsModels"))||e.get("changeOfOwnership.objDeviceDetailsModels").forEach(function(o){t=Komodo.Models.Hardware.create();var a=Komodo.canonicalFacadeFactory(t,["SerialNumber","Status","SmartcardDetail","LinkedSmartcard","ProductDetail","ListOfService","SecondaryHardware","IsAwaitingInstallation"]),n=Komodo.Models.ProductDetail.create(),s=Komodo.canonicalFacadeFactory(n,["UID","Type","Model","Manufacturer","Description","Offers","Price","ProductFeatures"]);s.set("UID",o.linkedSmartCard.trim()),s.set("Type",o.smartcardType),s.set("Model",o.smartcardModel),s.set("Manufacturer",null),s.set("Description",null),s.set("Price",null),s.set("Offers",Komodo.Models.Offer.create()),s.set("ProductFeatures",Komodo.Models.ProductFeatures.create());var i=Komodo.Models.ProductDetail.create(),l=Komodo.canonicalFacadeFactory(i,["Type","Model","Price"]);l.set("Type",e.get("_hardwareType")),l.set("Model",o.deviceModel),l.set("Price",null),l.set("Offers",Komodo.Models.Offer.create()),l.set("ProductFeatures",Komodo.Models.ProductFeatures.create());var d=Komodo.Models.ListOfService.create(),u=Komodo.canonicalFacadeFactory(d,["Service"]),c=[];o.selectedPackages.forEach(function(e){var t=Komodo.Models.ProductDetail.create(),o=Komodo.canonicalFacadeFactory(t,["UID","Type","Name","Offers","Price","ProductFeatures"]);o.set("UID",e.UID),o.set("Type",e.Type),o.set("Name",e.Name),o.set("Price",null),o.set("Offers",Komodo.Models.Offer.create()),o.set("ProductFeatures",Komodo.Models.ProductFeatures.create());var a=Komodo.Models.Service.create(),n=Komodo.canonicalFacadeFactory(a,["UID","ProductDetail"]);n.set("UID",e.UID),n.set("ProductDetail",t),c.pushObject(a)}),u.set("Service",c),a.set("SerialNumber",o.deviceNumber.trim()),a.set("Status",e.get("_cooHardwareStatus")),a.set("SmartcardDetail",n),a.set("LinkedSmartcard",o.linkedSmartCard),a.set("ProductDetail",i),a.set("ListOfService",d),a.set("SecondaryHardware",Komodo.Models.ListOfHardware.create()),a.set("IsAwaitingInstallation",!1),r.pushObject(t)}),i.set("Hardware",r),a.set("Hardware",s);var l=Komodo.Models.Installation.create(),d=Komodo.canonicalFacadeFactory(l,["CustomerNumber","SmartCardSerialNumber","InstallationType","GPSLatitude","GPSLongitude","GPSAccuracy","GPSTimestamp"]),u=new Date,c=u.toString("YYYY-MM-DDTHH:MM:SSZ");d.set("CustomerNumber",e.get("changeOfOwnership.toCustomerNo").trim()),d.set("SmartCardSerialNumber",""),d.set("InstallationType",""),d.set("GPSLatitude",e.get("_gpsLatitude")),d.set("GPSLongitude",e.get("_gpsLongitude")),d.set("GPSAccuracy",e.get("_gpsAccuracy")),d.set("GPSTimestamp",c),a.set("Installation",l),e.getAndCancelDCC(),e.getPendingQuotesAndReject(),e.set("changeOfOwnership.isDisableCOO",!0),e.publishRequestOnBus(o,"ChangeDeviceOwnership","v1")},publishRequestOnBus:function(e,t,o){var a=this,n=Komodo.Services.customerProfileService,s=a.getLocalizationService().value("locale.customer:changeDeviceOwnership.messagePublishRequestOnBus")+t+" ";a.getNewProcessID(),a.showBusyIndicator(),n.publishEvent(a,e,t,o).done(function(){a.hideBusyIndicator(),Komodo.log(s+a.getLocalizationService().value("locale.customer:changeDeviceOwnership.donePublishEvent")),Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:changeOfDeviceOwnership.useCaseTitle"),kl.value("locale.customer:changeOfDeviceOwnership.changeOfOwnerShipSuccessful"),Komodo.Controls.MessageBoxOkButtons).response=function(e){"ok"===e&&a.clearAll()}}).fail(function(e){Komodo.log(s+a.getLocalizationService().value("locale.customer:changeDeviceOwnership.failPublishEvent")),Komodo.Controls.MessageBoxController.show(s,e,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")})},actions:{searchAndValidateDevice:function(){var e=this,t=!1;e.getNewProcessID(),e.showBusyIndicator(),!1===t&&Ember.isEmpty(e.get("changeOfOwnership.objDeviceDetailsModels"))?(e.set("_customerDeviceDetailsAvailable",!1),e.set("_currentCustomerNumber",""),e.getDataForPopulation(),e.set("_currentCustomerNumber",e.get("changeOfOwnership.customerNo"))):e.checkDeviceNumberExists()?(Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"deviceExisting")+e.get("changeOfOwnership.deviceNo")+kl.value(e._localeCOO+"alreadyExists"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),e.set("changeOfOwnership.deviceNo","")):Ember.isEmpty(e.get("changeOfOwnership.objDeviceDetailsModels"))||Ember.isEmpty(e.get("changeOfOwnership.deviceNo"))?Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"noValidDeviceNumber"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""):(t=e.checkForSameCustomerNumber(e.get("changeOfOwnership.deviceNo")),t?e.getDataForPopulation():(Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"deviceExisting")+e.get("changeOfOwnership.deviceNo")+kl.value(e._localeCOO+"customerExisting")+e.get("_currentCustomerNumber"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),e.set("changeOfOwnership.deviceNo","")))},addPackages:function(e){var t=this;t.set("changeOfOwnership.displayDeviceNo",e.content.deviceNumber),t.set("changeOfOwnership.isDisableAddButton",!0),t.set("_popCustomerClass",e.content.customerClass),t.set("_popCustomerType",e.content.customerType),t.set("_popDecoderModel",e.content.decoderModel),t.set("_popHardwareSerialNo",e.content.deviceNumber),t.set("_popHardwareSmartCardNo",e.content.linkedSmartCard),t.set("_popCustomerNo",e.content.customerNo),t.set("_primaryPackage",[]),t.set("_popUpbusinessUnit",e.content.businessUnit),t.set("changeOfOwnership.objPrincipalPackage",[]),t.set("changeOfOwnership.objInsuranceService",[]),t.set("changeOfOwnership.objAddOnPackage",[]),t.set("changeOfOwnership.objAccessService",[]),t.set("changeOfOwnership.selectedPrincipalPackage",void 0),t.set("changeOfOwnership.selectedAllPackages",[]),t.set("changeOfOwnership.selectedAddItem",e),t.set("changeOfOwnership.isAddDisable",!0),t.getAccountForModel(),t.addPrincipalPackage(),t.loadCustomerDetails();var o=Komodo.Services.uiService.showModalPopup(kl.value(t._localeCOO+"addPackageTitle"),void 0,{view:Komodo.Application.AddPackagesPopupView,context:{cooModel:t.get("changeOfOwnership"),packageType:{principal:t.get("_principal"),addon:t.get("_addon"),access:t.get("_access"),insurance:t.get("_insurance")},canUserClose:!0,shouldStartAndStopController:!1,selectPackages:function(e){var a=this,n=e.get("content");Ember.isEmpty(a.cooModel.get("selectedPrincipalPackage"))||Ember.isEmpty(a.cooModel.get("objPrincipalPackage"))||a.cooModel.get("objPrincipalPackage").forEach(function(e){e.value===a.cooModel.get("selectedPrincipalPackage")&&a.cooModel.get("selectedAllPackages").addObject({UID:e.value,Type:a.packageType.principal,Name:e.title})}),Ember.isEmpty(a.cooModel.get("selectedAddOnPackage"))||Ember.isEmpty(a.cooModel.get("objAddOnPackage"))||a.cooModel.get("objAddOnPackage").forEach(function(e){e.value===a.cooModel.get("selectedAddOnPackage")&&a.cooModel.get("selectedAllPackages").addObject({UID:e.value,Type:a.packageType.addon,Name:e.title})}),Ember.isEmpty(a.cooModel.get("objAccessService"))||a.cooModel.get("objAccessService").forEach(function(e){e.isChecked&&a.cooModel.get("selectedAllPackages").addObject({UID:e.value,Type:a.packageType.access,Name:e.title})}),Ember.isEmpty(a.cooModel.get("objInsuranceService"))||a.cooModel.get("objInsuranceService").forEach(function(e){e.isChecked&&a.cooModel.get("selectedAllPackages").addObject({UID:e.value,Type:a.packageType.insurance,Name:e.title})}),a.cooModel.get("objDeviceDetailsModels").forEach(function(e){e.deviceNumber===n.content.deviceNumber&&Ember.isEmpty(e.selectedPackages)&&(e.selectedPackages=a.cooModel.get("selectedAllPackages"),e.isAddDisable=!1,e.isPackageSelectedToAdd=!0,e.selectedPackages.forEach(function(t){Ember.isEmpty(e.showSelectedPackages)?e.showSelectedPackages=t.Name:e.showSelectedPackages=e.showSelectedPackages+","+t.Name}),Ember.isEmpty(e.selectedPackages)||Ember.isEmpty(e.isPackageSelectedToAdd)||t.updateDevice(e))}),o.close()}},canUserClose:!0})},resetChange:function(){this.clearAll()},removeDevice:function(e){var t=this;Komodo.Controls.MessageBoxController.show(kl.value(t._localeCOO+"confirmDelete"),kl.value(t._localeCOO+"confirmDeleteMsg"),Komodo.Controls.MessageBoxYesNoButtons,t,"id54456673","warning").response=function(o){"yes"===o&&(t.deleteDeviceFromModel(e),Ember.isEmpty(t.get("changeOfOwnership.objDeviceDetailsModels"))&&t.clearAll())}},validateRequestChangeOfOwnership:function(){var e=this;e.set("_changeOfOwnershipErrors",[]),e.checkUploadedDocuments(),e.checkAddedPackages(),Ember.isEmpty(e.get("_changeOfOwnershipErrors"))?e.publishChangeOfDeviceOwnershipEvent():Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),e.get("_changeOfOwnershipErrors"),Komodo.Controls.MessageBoxOkButtons,e,"id123456","danger")},searchAndValidateToCustomer:function(){var e=this;e.getNewProcessID(),e.showBusyIndicator(),e.set("_customerDetailsAvailable",!1),Ember.isEmpty(e.get("changeOfOwnership.toCustomerNo"))&&Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"toCustomerValidationForNull"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),Ember.isEmpty(e.get("_currentCustomerNumber"))||e.get("_currentCustomerNumber")===e.get("changeOfOwnership.toCustomerNo").trim()?(Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"toCustomerValidationForExistingCust"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),e.set("changeOfOwnership.toCustomerNo","")):e.getCustomerAccountStatusToCustomer()},uploadDocs:function(){for(var e=this,t=e.get("changeOfOwnership.objDeviceDetailsModels"),o=0;o<t.length;o++)t[o].deviceNumber=t[o].deviceNumber.trim();var a=Komodo.Application.CustomerDocumentsController.create();a.set("_isCustomerLoaded",!1),a.set("data.customerID",e.get("changeOfOwnership.customerNo").trim()),a.setModal(),a.setHardware("deviceNumber","deviceType",t),e.getUIService().showModalPopup("Customer Documents Upload","customerDocuments",{view:Komodo.Application.CustomerDocumentsView,canUserClose:!0,context:a,shouldStartAndStopController:!0})}},getUIService:function(){return this.get("_uiService")},updateDevice:function(e){var t=this,o=e.deviceNumber,a=t.get("changeOfOwnership.objDeviceDetailsModels").filter(function(e){return e.deviceNumber===o})[0],n=t.get("changeOfOwnership.objDeviceDetailsModels").indexOf(a);t.get("changeOfOwnership.objDeviceDetailsModels").removeAt(n),t.updateDeviceObject(e)},getcustomerID:function(){var e=this;Komodo.Services.queryService.getJSON("/ElasticSearch/GetElasticSearchData?from=0&size="+parseInt(KomodoConfiguration.elasticSearchConfig.numberOfRecords)+"&documentType=&default_field="+KomodoConfiguration.elasticSearchConfig.default_field+"&searchText="+e.get("changeOfOwnership.deviceNo")+"&default_operator="+KomodoConfiguration.elasticSearchConfig.default_operator,{async:!1}).done(function(t){!Ember.isEmpty(t)&&t.hits.hits.length>0&&t.hits.hits.forEach(function(t){Ember.isEmpty(t._source)||Ember.isEmpty(t._source.CustomerNumber)||e.set("changeOfOwnership.customerNo",t._source.CustomerNumber)})}).error(function(t){e.hideBusyIndicator();var o=JSON.stringify(t);Komodo.log(kl.value(e._localeCOO+"elasticStaticSearchError")+o),Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),t.responseJSON.Message,Komodo.Controls.MessageBoxOkButton,e,"id14456679","danger"),e.set("changeOfOwnership.deviceNo",""),e.set("changeOfOwnership.customerNo",void 0)})},getDeviceDetails:function(){var e=this;e.set("_funSuccess",!1),e.set("_testForDecoderType",!1),e.set("_listOfProdStatus",[]),e.set("_isAllowProdStatus",!1),Komodo.Services.queryService.getJSON("/RetrieveHardware/ByDeviceSerialNumber?serialNumber="+e.get("changeOfOwnership.deviceNo").trim()+"&customerID="+e.get("changeOfOwnership.customerNo").trim(),{async:!1}).done(function(t){!Ember.isEmpty(t)&&!Ember.isEmpty(t.Payload)&&t.Payload.ListOfHardware.length>0&&t.Payload.ListOfHardware.forEach(function(t){if(Ember.isEmpty(t.SerialNumber)||t.SerialNumber!==e.get("changeOfOwnership.deviceNo").trim()||t.ProductDetail.Type===e.get("_testConstDecoderType"))e.get("_testForDecoderType")||(Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"smartCardNotValidDevice"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),e.set("changeOfOwnership.deviceNo",""));else{if(e.set("_testForDecoderType",!0),e.set("_deviceName",t.ProductDetail.Name),e.set("_deviceStatus",t.Status),e.set("_insuranceStatus",t.InsuranceStatus),Ember.isEmpty(t.InsuranceStartDate)?e.set("_insuranceStartDate","-"):e.set("_insuranceStartDate",t.InsuranceStartDate),Ember.isEmpty(t.LinkedSmartcard)||e.set("_linkedSmartCard",t.LinkedSmartcard),Ember.isEmpty(t.ProductDetail.UID)||e.set("_decoderModel",t.ProductDetail.UID),Ember.isEmpty(t.ProductDetail.Type)||e.set("_deviceType",t.ProductDetail.Type),Ember.isEmpty(t.ProductDetail.Model)||e.set("_deviceModel",t.ProductDetail.Model),Ember.isEmpty(t.SmartcardDetail.Model)||e.set("_smartcardModel",t.SmartcardDetail.Model),Ember.isEmpty(t.SmartcardDetail.Type)||e.set("_smartcardType",t.SmartcardDetail.Type),Ember.isEmpty(t.SmartcardDetail.UID)||e.set("_smartcardUID",t.SmartcardDetail.UID),!Ember.isEmpty(t.ListOfService)&&t.ListOfService.length>0&&t.ListOfService.forEach(function(t){e.get("_listOfProdStatus").addObject({status:t.Status})}),e.allowedProdStatus(),!Ember.isEmpty(e.get("_listOfProdStatus"))&&!Ember.isEmpty(e.get("_allowedArrayStatus"))){var o=0;e.get("_listOfProdStatus").forEach(function(t){e.get("_allowedArrayStatus").forEach(function(e){t.status===e.status&&(o+=1)})}),e.get("_listOfProdStatus").length!==o&&e.set("_isAllowProdStatus",!0)}e.set("_funSuccess",!0)}})}).error(function(t){e.hideBusyIndicator();var o=JSON.stringify(t);t.responseJSON.Message.includes("No record exists for serial number")?(Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"noValidDeviceNumber"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),e.set("changeOfOwnership.deviceNo","")):(Komodo.log(kl.value(e._localeCOO+"retrieveHardwareFailedError")+o),Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),t.responseJSON.Message,Komodo.Controls.MessageBoxOkButton,e,"id14456679","danger"),e.get("changeOfOwnership.deviceNo",""),e.set("changeOfOwnership.customerNo",void 0))})},getCustomerDetails:function(){var e=this;e.set("_funSuccess",!1),Komodo.Services.queryService.getJSON("/CustomerProfile/?customerId="+e.get("changeOfOwnership.customerNo").trim(),{async:!1}).done(function(t){Ember.isEmpty(t)||Ember.isEmpty(t.CustomerDetail)||Ember.isEmpty(t.CustomerDetail.PersonalDetail)||(e.set("changeOfOwnership.fromCustomerName",t.CustomerDetail.PersonalDetail.FirstName+" "+t.CustomerDetail.PersonalDetail.Surname),e.set("_customerStatus",t.CustomerDetail.Status),e.set("_customerClass",t.CustomerDetail.Class),Ember.isEmpty(t.CustomerDetail.ListOfEmail)||Ember.isEmpty(t.CustomerDetail.ListOfEmail.Email)||t.CustomerDetail.ListOfEmail.Email.forEach(function(t){t.IsPrimary&&e.set("changeOfOwnership.fromCustomerEmail",t.Value)}),Ember.isEmpty(t.CustomerDetail.Type)||e.set("_customerType",t.CustomerDetail.Type),Ember.isEmpty(t.CustomerDetail.ModifiedDate)||e.set("_lastModifiedDate",t.CustomerDetail.ModifiedDate),Ember.isEmpty(t.CustomerDetail.BusinessUnit)||e.set("_businessUnit",t.CustomerDetail.BusinessUnit)),e.set("_funSuccess",!0)}).error(function(t){e.hideBusyIndicator();var o=JSON.stringify(t);Komodo.log(kl.value(e._localeCOO+"customerProfileError")+o),Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),t.responseJSON.Message,Komodo.Controls.MessageBoxOkButton,e,"id14456679","danger"),e.set("changeOfOwnership.deviceNo",""),e.set("changeOfOwnership.customerNo",void 0)})},getAccountDetails:function(){var e=this;e.set("_funSuccess",!1),e.set("_accountStatusDescription",void 0),e.set("_accountStatus",void 0),e.set("_accountBalance",void 0),Komodo.Services.queryService.getJSON("AccountProfile/Get?smartcardNumber="+e.get("_linkedSmartCard")+"&customerUID="+e.get("changeOfOwnership.customerNo").trim(),{async:!1}).done(function(t){!Ember.isEmpty(t)&&t.FinancialAccounts.length>0&&(t.FinancialAccounts.forEach(function(t){Ember.isEmpty(t.StatusDescription)?e.set("_accountStatus","-"):e.set("_accountStatus",t.StatusDescription),Ember.isEmpty(t.TotalBalance.Value)?e.set("_accountBalance","-"):e.set("_accountBalance",t.TotalBalance.Value),
Ember.isEmpty(t.AccountTypeDescription)||e.set("_accountStatusDescription",t.AccountTypeDescription)}),e.set("_funSuccess",!0))}).error(function(t){e.hideBusyIndicator();var o=JSON.stringify(t);Komodo.log(kl.value(e._localeCOO+"accountProfileError")+o),Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),t.responseJSON.Message,Komodo.Controls.MessageBoxOkButton,e,"id14456679","danger"),e.set("changeOfOwnership.deviceNo",""),e.set("changeOfOwnership.customerNo",void 0)})},validateBusinessRulesForDevice:function(){var e,t=this;t.set("_funSuccess",!1);var o=!Ember.isEmpty(t.get("_deviceStatus"))&&!Ember.isEmpty(t.get("_accountStatus")),a=!Ember.isEmpty(t.get("_customerStatus"))&&!Ember.isEmpty(t.get("_accountStatusDescription"));o&&a&&!Ember.isEmpty(t.get("_customerClass"))&&(e=t.validateCustomerDeviceDetails(),e?(t.addNewDeviceObject(),Ember.isEmpty(t.get("changeOfOwnership.fromCustomerName"))&&Ember.isEmpty(t.get("changeOfOwnership.fromCustomerEmail"))||1!==t.get("changeOfOwnership.objDeviceDetailsModels").length||t.set("_customerDeviceDetailsAvailable",!0),t.hideBusyIndicator()):(t.hideBusyIndicator(),Komodo.Controls.MessageBoxController.show(kl.value(t._localeCOO+"cooMessageForValidations"),kl.value(t.get("_msgValidate")),Komodo.Controls.MessageBoxOkButton,t,"id14456679","warning"),t.set("changeOfOwnership.customerNo",void 0),t.set("changeOfOwnership.deviceNo",""))),t.set("_funSuccess",!0)},getAndCancelDCC:function(){var e=this;Ember.isEmpty(e.get("changeOfOwnership.objDeviceDetailsModels"))||e.get("changeOfOwnership.objDeviceDetailsModels").forEach(function(t){var o=t.linkedSmartCard;Komodo.Services.queryService.getJSON("Device/GetCustomerProducts?customerID="+e.get("changeOfOwnership.customerNo")+"&pageNumber=1&pageSize=10",{async:!1}).done(function(t){!Ember.isEmpty(t)&&t.length>0&&t.forEach(function(t){if(!Ember.isEmpty(t.LinkedSmartcard)&&t.LinkedSmartcard===o&&(Ember.isEmpty(t.Services)||(e.set("testInsuranceService",!1),t.Services.forEach(function(t){Ember.isEmpty(t)||t.ServiceName!==e.get("_dccInsurance")||e.set("testInsuranceService",!0)})),e.get("testInsuranceService")&&t.InsuranceStatus.toUpperCase()===e.get("_dccStatusActive"))){var a,n=[],s=[];s.pushObject(e.get("_dccInsurance")),a={SmartCardNumber:o,ServiceNames:s,CancelReason:e.get("_dccCancelCode"),ScheduledCancelDate:new Date},n.pushObject(a),Komodo.Services.queryService.postJSON("/Device/CancelServices",{data:n,async:!1}).done(function(){}).error(function(){})}})}).error(function(t){var o=JSON.stringify(t);Komodo.Controls.MessageBoxController.show(kl.value("locale.manageAccount.paymentPlan:paymentPlans.listOfDevicePaymentPlans"),o,Komodo.Controls.MessageBoxOkButtons,e,"authmbx","danger")})})},getPendingQuotesAndReject:function(){var e=this;!Ember.isEmpty(e.get("changeOfOwnership.objDeviceDetailsModels"))&&e.get("changeOfOwnership.objDeviceDetailsModels").length>0&&e.get("changeOfOwnership.objDeviceDetailsModels").forEach(function(t){var o=t.linkedSmartCard,a=[];Komodo.Services.queryService.getJSON("Device/GetCustomerProducts?customerID="+e.get("changeOfOwnership.customerNo")+"&pageNumber=1&pageSize=10",{async:!1}).done(function(t){!Ember.isEmpty(t)&&t.length>0&&t.forEach(function(t){Ember.isEmpty(t.LinkedSmartcard)||t.LinkedSmartcard!==o||Ember.isEmpty(t.Services)||(e.set("testInsuranceService",!1),t.Services.forEach(function(t){t.Status!==e.get("_awaitingPayment")&&t.Status!==e.get("_disconnectPendingReconnect")&&t.Status!==e.get("_disconnectPendingRemoval")&&t.Status!==e.get("_dCCAwaitingPayment")&&t.Status!==e.get("_pendingUpgrade")&&t.Status!==e.get("_pendingRemoval")||a.addObject(t.ServiceName)}))})}).error(function(t){var o=JSON.stringify(t);Komodo.Controls.MessageBoxController.show(kl.value("locale.manageAccount.paymentPlan:paymentPlans.listOfDevicePaymentPlans"),o,Komodo.Controls.MessageBoxOkButtons,e,"authmbx","danger")});var n=a;Ember.isEmpty(n)||Komodo.Services.queryService.postJSON("/Quote/RetrieveICCQuotes?serialNumber="+t.deviceNumber,{data:n,async:!1}).done(function(t){!Ember.isEmpty(t)&&t.length>0&&t.forEach(function(t){t.QuoteStatus===e.get("_pendingQuoteStatus")&&Komodo.Services.queryService.getJSON("Quote/RejectQuote?quoteId="+t.Id,{async:!1}).done(function(e){}).error(function(e){var t=JSON.stringify(e);Komodo.log("Reject Quote ajax call failed. Error: "+t)})})}).error(function(t){e.hideBusyIndicator()})})},addNewDeviceObject:function(){var e,t=this;t.set("_objDeviceDetails",[]);var o=t.getCustomerStatus();e={deviceNumber:t.get("changeOfOwnership.deviceNo"),deviceName:t.get("_deviceName"),deviceStatus:t.get("_deviceStatus"),insuranceStatus:t.get("_insuranceStatus"),insuranceStartDate:t.get("_insuranceStartDate"),linkedSmartCard:t.get("_linkedSmartCard"),customerStatus:o,accountStatus:t.get("_accountStatus"),customerClass:t.get("_customerClass"),customerType:t.get("_customerType"),decoderModel:t.get("_decoderModel"),customerNo:t.get("changeOfOwnership.customerNo"),businessUnit:t.get("_businessUnit"),deviceType:t.get("_deviceType"),selectedPackages:[],showSelectedPackages:void 0,isAddDisable:!0,isPackageSelectedToAdd:!1,smartcardUID:t.get("_smartcardUID"),smartcardType:t.get("_smartcardType"),smartcardModel:t.get("_smartcardModel"),deviceModel:t.get("_deviceModel")},t.get("changeOfOwnership.objDeviceDetailsModels").pushObject(e)},updateDeviceObject:function(e){var t,o=this;o.set("_objDeviceDetails",[]),t={deviceNumber:e.deviceNumber,deviceName:e.deviceName,deviceStatus:o.get("_deviceStatus"),insuranceStatus:e.insuranceStatus,insuranceStartDate:e.insuranceStartDate,linkedSmartCard:e.linkedSmartCard,customerStatus:e.customerStatus,accountStatus:e.accountStatus,customerClass:e.customerClass,customerType:e.customerType,decoderModel:e.decoderModel,customerNo:e.customerNo,businessUnit:e.businessUnit,deviceType:e.deviceType,selectedPackages:e.selectedPackages,showSelectedPackages:e.showSelectedPackages,isAddDisable:e.isAddDisable,isPackageSelectedToAdd:e.isPackageSelectedToAdd,smartcardUID:e.smartcardUID,smartcardType:e.smartcardType,smartcardModel:e.smartcardModel,deviceModel:e.deviceModel},o.get("changeOfOwnership.objDeviceDetailsModels").pushObject(t)},getDataForPopulation:function(){var e=this;e.clearModels(),Ember.isEmpty(e.get("changeOfOwnership.customerNo"))&&e.getcustomerID(),Ember.isEmpty(e.get("changeOfOwnership.customerNo"))?(Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"noValidDeviceNumber"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),e.set("changeOfOwnership.deviceNo","")):(e.getDeviceDetails(),e.get("_funSuccess")&&e.getCustomerDetails(),e.get("_funSuccess")&&e.getAccountDetails(),e.get("_funSuccess")&&e.validateBusinessRulesForDevice(),e.getCacheData(),e.set("changeOfOwnership.deviceNo",""))},checkForSameCustomerNumber:function(e){var t=this,o=!1;return Ember.isEmpty(e)||Ember.isEmpty(t.get("_currentCustomerNumber"))||(t.getcustomerID(),t.get("changeOfOwnership.customerNo")===t.get("_currentCustomerNumber")&&(o=!0)),o},checkDeviceNumberExists:function(){var e=this,t=!1;return!Ember.isEmpty(e.get("changeOfOwnership.deviceNo"))&&e.get("changeOfOwnership.objDeviceDetailsModels").length>0&&e.get("changeOfOwnership.objDeviceDetailsModels").forEach(function(o){Ember.isEmpty(o.deviceNumber)||o.deviceNumber!==e.get("changeOfOwnership.deviceNo")||(t=!0)}),t},getCustomerStatus:function(){var e=this,t="";return Komodo.Services.cachedDataService.fetch("CustomerStatus").done(function(o){Ember.isEmpty(o)||o.forEach(function(o){o.key===e.get("_customerStatus")&&(t=o.value)})}).fail(function(){Komodo.log(kl.value(e._localeCOO+"residentialStatusError"))}),t},getNewProcessID:function(){this.startNewProcess()},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,6e4,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},clearModels:function(){var e=this;e.set("_deviceName",void 0),e.set("_deviceStatus",void 0),e.set("_insuranceStatus",void 0),e.set("_insuranceStartDate",void 0),e.set("_linkedSmartCard",void 0),e.set("_customerStatus",void 0),e.set("_accountStatus",void 0),e.set("_accountBalance",void 0),e.set("_customerClass",void 0),e.set("_customerType",void 0),e.set("_msgValidate",void 0),e.set("_accountStatusDescription",void 0),e.get("_smartcardUID",void 0),e.set("_smartcardModel",void 0),e.set("_smartcardType",void 0)},clearAll:function(){var e=this;e.clearModels(),e.set("changeOfOwnership.objDeviceDetailsModels",[]),e.set("_customerDeviceDetailsAvailable",!1),e.set("changeOfOwnership.customerNo",void 0),e.set("changeOfOwnership.deviceNo",void 0),e.set("changeOfOwnership.fromCustomerName",void 0),e.set("changeOfOwnership.fromCustomerEmail",void 0),e.set("changeOfOwnership.toCustomerNo",void 0),e.set("changeOfOwnership.toCustomerName",void 0),e.set("changeOfOwnership.toCustomerEmail",void 0),e.set("_lastModifiedDate",void 0),e.set("changeOfOwnership.isDisableCOO",!0),e.set("_customerDetailsAvailable",!1),e.set("_changeOfOwnershipErrors",[])},validateCustomerDeviceDetails:function(){var e=this,t=!1;return Ember.isEmpty(e.get("_customerClass"))||e.get("_customerClass")===e.get("_customerClassResidential")||e.get("_customerClass")===e.get("_customerClassSpecialist")?Ember.isEmpty(e.get("_linkedSmartCard"))?e.set("_msgValidate",kl.value(e._localeCOO+"linkSmartCardValidation")):e.get("_deviceStatus")!==e.get("_deviceStatusAtCust")&&e.get("_deviceStatus")!==e.get("_deviceStatusForCust")&&e.get("_deviceStatus")!==e.get("_deviceStatusSecHand")?e.set("_msgValidate",kl.value(e._localeCOO+"fromDeviceValidationForHardwareStatus")):e.verifyDPPDevice(e.get("_accountStatusDescription"))?e.set("_msgValidate",kl.value(e._localeCOO+"fromDeviceValidationForDPP")):e.get("_customerStatus")!==e.get("_customerStatusActive")&&e.get("_customerStatus")!==e.get("_customerStatusDeceased")&&e.get("_customerStatus")!==e.get("_customerStatusBadDebt")&&e.get("_customerStatus")!==e.get("_customerStatusClosed")&&e.get("_customerStatus")!==e.get("_customerStatusEmigrated")?e.set("_msgValidate",kl.value(e._localeCOO+"fromDeviceValidationForCustomerStatus")):(e.get("_customerStatus")===e.get("_customerStatusBadDebt")||e.get("_customerStatus")===e.get("_customerStatusClosed"))&&e.get("_accountBalance")>1e3||(e.get("_accountStatus")===e.get("_accountStatusDescOverdue")||e.get("_accountStatus")===e.get("_accountStatusDescDoubtful"))&&e.get("_accountBalance")>1e3?e.set("_msgValidate",kl.value(e._localeCOO+"fromDeviceValidationForAccountBalance")):e.get("_accountStatus")!==e.get("_accountStatusDescClosed")&&e.get("_accountStatus")!==e.get("_accountStatusDescOpen")&&e.get("_accountStatus")!==e.get("_accountStatusDescDisc")&&e.get("_accountStatus")!==e.get("_accountStatusDescCancelled")&&e.get("_accountStatus")!==e.get("_accountStatusDescOverdue")&&e.get("_accountStatus")!==e.get("_accountStatusDescDoubtful")?e.set("_msgValidate",kl.value(e._localeCOO+"fromDeviceValidationForAccountStatus")):e.get("_isAllowProdStatus")?e.set("_msgValidate",kl.value(e._localeCOO+"productStatusValidation")):t=!0:e.set("_msgValidate",kl.value(e._localeCOO+"customerNotAllowed")),t},getCustomerDetailsForToCustomer:function(){var e=this,t=!1;Komodo.Services.queryService.getJSON("/CustomerProfile/Get?customerId="+e.get("changeOfOwnership.toCustomerNo").trim(),{async:!1}).done(function(o){Ember.isEmpty(o)||Ember.isEmpty(o.CustomerDetail)||Ember.isEmpty(o.CustomerDetail.PersonalDetail)||(t=e.validateToCustomerByBusinessRules(o.CustomerDetail.Status,o.CustomerDetail.Class),t?(e.set("_customerDetailsAvailable",!0),Ember.isEmpty(o.CustomerDetail.PersonalDetail.FirstName)&&Ember.isEmpty(o.CustomerDetail.PersonalDetail.Surname)||(e.set("changeOfOwnership.toCustomerName",o.CustomerDetail.PersonalDetail.FirstName+" "+o.CustomerDetail.PersonalDetail.Surname),e.set("changeOfOwnership.isDisableCOO",!1)),Ember.isEmpty(o.CustomerDetail.ListOfEmail)||o.CustomerDetail.ListOfEmail.Email.forEach(function(t){t.IsPrimary&&e.set("changeOfOwnership.toCustomerEmail",t.Value)}),e.hideBusyIndicator()):(e.hideBusyIndicator(),Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e.get("_toCustomerValidation")),Komodo.Controls.MessageBoxOkButton,e,"id14456679","warning"),e.set("changeOfOwnership.toCustomerNo","")))}).error(function(t){e.hideBusyIndicator();var o=JSON.stringify(t);Komodo.log(kl.value(e._localeCOO+"customerProfileError")+o),Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),t.responseJSON.Message,Komodo.Controls.MessageBoxOkButton,e,"id14456679","danger")})},getCustomerAccountStatusToCustomer:function(){var e=this;e.set("_testForRes",!1),Komodo.Services.queryService.getJSON("/AccountProfile/Get/"+e.get("changeOfOwnership.toCustomerNo").trim(),{async:!1}).done(function(t){!Ember.isEmpty(t)&&t.Account.length>0&&(t.Account.forEach(function(t){Ember.isEmpty(t.Type)||t.Type!==e.get("_accountTypeResGen")||(e.set("_testForRes",!0),e.set("_toCustomerAccountStatus",t.Status),e.set("_toCustomerAccountBalance",t.Balance.Value),e.getCustomerDetailsForToCustomer())}),e.get("_testForRes")||(Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"customerNotAllowed"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),e.set("changeOfOwnership.toCustomerNo","")))}).error(function(t){e.hideBusyIndicator();var o=JSON.stringify(t);Komodo.log(kl.value(e._localeCOO+"accountProfileError")+o),Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),kl.value(e._localeCOO+"toCustomerValidationForNull"),Komodo.Controls.MessageBoxOkButton,e,"id5446673",""),e.set("changeOfOwnership.toCustomerNo","")})},validateToCustomerByBusinessRules:function(e,t){var o=this,a=!1;return t===o.get("_customerClassResidential")||t===o.get("_customerClassSpecialist")?e!==o.get("_customerStatusActive")?o.set("_toCustomerValidation",kl.value(o._localeCOO+"toCustomerValidationForActiveCustomer")):e===o.get("_customerStatusActive")&&(o.get("_toCustomerAccountStatus")!==o.get("_accountStatusOpen")&&o.get("_toCustomerAccountStatus")!==o.get("_accountStatusDisconnected")&&o.get("_toCustomerAccountStatus")!==o.get("_accountStatusOverdue")&&o.get("_toCustomerAccountStatus")!==o.get("_accountStatusDoubtfulDebt")?o.set("_toCustomerValidation",kl.value(o._localeCOO+"toCustomerValidationForValidAccounts")):(o.get("_toCustomerAccountStatus")===o.get("_accountStatusOverdue")||o.get("_toCustomerAccountStatus")===o.get("_accountStatusDoubtfulDebt"))&&o.get("_toCustomerAccountBalance")>1e3?o.set("_toCustomerValidation",kl.value(o._localeCOO+"toCustomerValidationForValidAccountBalance")):a=!0):o.set("_toCustomerValidation",kl.value(o._localeCOO+"customerNotAllowed")),a},verifyDPPDevice:function(e){var t=this,o=!1;return Komodo.Services.queryService.getJSON("/CreditApplication/VerifyDPPDevice?serialNumber="+t.get("changeOfOwnership.deviceNo").trim(),{async:!1}).done(function(e){!Ember.isEmpty(e)&&e&&(o=!0)}).error(function(e){t.hideBusyIndicator();var o=JSON.stringify(e);Komodo.log(kl.value(t._localeCOO+"verifyDPPDeviceError")+o),Komodo.Controls.MessageBoxController.show(kl.value(t._localeCOO+"cooMessageForValidations"),e.responseJSON.Message,Komodo.Controls.MessageBoxOkButton,t,"id14456679","danger"),t.get("changeOfOwnership.deviceNo","")}),e===t.get("_accountPaymentPlan")&&(o=!0),o},deleteDeviceFromModel:function(e){var t=this,o=e.get("content").deviceNumber,a=t.get("changeOfOwnership.objDeviceDetailsModels").filter(function(e){return e.deviceNumber===o})[0],n=t.get("changeOfOwnership.objDeviceDetailsModels").indexOf(a);t.get("changeOfOwnership.objDeviceDetailsModels").removeAt(n)},validateCustomerHistory:function(){var e=this,t=e.get("_lastModifiedDate");if((Ember.isEmpty(t)?0:e.getDays(t))<30)return!0},getDays:function(e){var t=new Date,o=new Date(e),a=Math.abs(t.getTime()-o.getTime());return Math.round(a/864e5)},addPrincipalPackage:function(){var e=this,t=e.get("_allowedAddPackages");if(e.set("changeOfOwnership.objPrincipalPackage",[]),e.set("changeOfOwnership.objAddOnPackage",[]),e.set("changeOfOwnership._primaryPackage",[]),t&&t.split(",").length>0)for(var o=0;o<t.split(",").length;o++)e.get("_primaryPackage").addObject({title:t.split(",")[o],value:t.split(",")[o]})},loadCustomerDetails:function(){var e=this;e.set("allProductService",[]),e.set("allProductAddOn",[]),e.set("allInsurance",[]),e.set("allHdAddOns",[]),e.set("allAccessService",[]),e.set("allProductCategories",[]),e.set("changeOfOwnership.objPrincipalPackage",[]),e.set("changeOfOwnership.objInsuranceService",[]),e.set("changeOfOwnership.objAccessService",[]),e.set("_isPrinciplePackageFill",!1),e.set("changeOfOwnership.isDisableAddButton",!0),Ember.isEmpty(e.get("_allProductService"))||(e.set("_isPrinciplePackageFill",!0),e.populateDetailsBasedOnDecoder(e.get("_modelForCompare"),e.get("_allProductService"),e.get("changeOfOwnership.objPrincipalPackage"),e.get("_deviceCPCType"),!1)),Ember.isEmpty(e.get("_allInsurance"))||(e.set("_isPrinciplePackageFill",!1),e.populateDetailsBasedOnDecoder(e.get("_modelForCompare"),e.get("_allInsurance"),e.get("changeOfOwnership.objInsuranceService"),e.get("_deviceCPCType"),!0)),Ember.isEmpty(e.get("_allAccessService"))||(e.set("_isPrinciplePackageFill",!1),e.populateDetailsBasedOnDecoder(e.get("_modelForCompare"),e.get("_allAccessService"),e.get("changeOfOwnership.objAccessService"),e.get("_deviceCPCType"),!1))},populateDetailsBasedOnDecoder:function(e,t,o,a,n){o.clear();var s=this;s.set("_productInList",!1);var i=s.getValueFromConstant("ProductsConstants","productsConstants.products.MOBILE_PRODUCT_CATEGORY_ID");s.get("_popUpbusinessUnit")!==s.get("_popBusinessUnitValue")&&(i=s.getValueFromConstant("ProductsConstants","productsConstants.products.GOTV_PRODUCT_CATEGORY_ID")),Komodo.UI.cacheDataService.isMobileDevice(a)&&(i=s.getValueFromConstant("ProductsConstants","productsConstants.products.MOBILE_PRODUCT_CATEGORY_ID")+","+s.getValueFromConstant("ProductsConstants","productsConstants.products.GOTV_PRODUCT_CATEGORY_ID")),$.each(t,function(t,r){switch(r){case"":case void 0:case null:break;default:switch(r.product.allowDevice){case"":case void 0:case null:break;default:var l=r.product.allowDevice.split(",");if(l instanceof Array||(l=[l]),s.set("_productInList",!1),r.product.details.chargePeriod.indexOf(s.get("_popMonthlyChargePeroid"))>-1){$.each(l,function(t,l){if(l===e)if(!Komodo.UI.cacheDataService.isMobileDevice(a)&&!Komodo.UI.cacheDataService.isGotvDevice(a)||s.get("_productInList"))s.get("_productInList")||s.bindDeviceDetails(r,o);else if(Komodo.UI.cacheDataService.isMobileDevice(a))if(void 0!==r.product.allowProduct){var d=r.product.allowProduct.split();d instanceof Array||(d=[d]),$.each(d,function(){return i.indexOf(r.product.details.productCategory)>-1&&s.bindDeviceDetails(r,o),!0})}else(i.indexOf(r.product.details.productCategory)>-1||n)&&s.bindDeviceDetails(r,o);else r.product.details.productCategory!==s.getValueFromConstant("ProductsConstants","productsConstants.products.INSURANCE_PRODUCT_CATEGORY")&&(r.product.details.productCategory,s.getValueFromConstant("ProductsConstants","productsConstants.products.ACCESS_SERVICE_PRODUCT_CATEGORY")),s.bindDeviceDetails(r,o)}),o.length>1&&s.set("_productInList",!0);break}}}})},getDeviceModel:function(){var e=this,t="";return Komodo.Services.cachedDataService.fetch("HardwareModel").done(function(o){Ember.isEmpty(o)||o.forEach(function(o){o.key===e.get("_popDecoderModel")&&(t=o.value)})}).fail(function(){Komodo.log(kl.value(e._localeCOO+"residentialStatusError"))}),t},bindDeviceDetails:function(e,t){var o=this;!Ember.isEmpty(e)&&o.get("_isPrinciplePackageFill")?o.get("_primaryPackage").forEach(function(o){if(e.product.details.name===o.title)return t.addObject({title:e.product.details.name,value:e.product.details.productID,isChecked:!1}),!1}):t.addObject({title:e.product.details.name,value:e.product.details.productID})},getDecoderCpcByproductId:function(){var e=this,t=!0,o=void 0;return Komodo.Services.cachedDataService.fetch("ProductCategoryAndProductDetail").done(function(t){e.set("_productCategoryAndProductDetail",JSON.parse(t).ProductCategories.ProductCategory)}),$.each(e.get("_productCategoryAndProductDetail"),function(a,n){return void 0===n.Products.Product.length&&(n.Products.Product=[n.Products.Product]),$.each(n.Products.Product,function(o,a){return a.CanonicalKey===e.get("_deviceCPCType")&&(t=!1),t}),t||(o=n.CanonicalKey),t}),o},getAccountForModel:function(){var e=this;Komodo.Services.queryService.getJSON("/AccountProfile/Get/"+e.get("_popCustomerNo").trim(),{async:!1}).done(function(t){!Ember.isEmpty(t)&&t.Account.length>0&&t.Account.forEach(function(t){Ember.isEmpty(t.Type)||t.Type!==e.get("_accountTypeResGen")||t.ListOfAgreement.Agreement.forEach(function(t){t.ListOfHardware.Hardware.forEach(function(t){e.get("_popHardwareSerialNo").trim()===t.SerialNumber?(e.set("_compareSerialNumber",t.SerialNumber),e.set("_modelForCompare",t.ProductDetail.Model.split(" ")[0]),e.set("_deviceCPCType",t.ProductDetail.UID)):t.SecondaryHardware.Hardware.forEach(function(o){e.get("_popHardwareSerialNo").trim()===o.SerialNumber&&(e.set("_compareSerialNumber",t.SerialNumber),e.set("_modelForCompare",t.ProductDetail.Model.split(" ")[0]),e.set("_deviceCPCType",t.ProductDetail.UID))})})})})}).error(function(t){e.hideBusyIndicator();var o=JSON.stringify(t);Komodo.log(kl.value(e._localeCOO+"accountProfileError")+o),Komodo.Controls.MessageBoxController.show(kl.value(e._localeCOO+"cooMessageForValidations"),t.responseJSON.Message,Komodo.Controls.MessageBoxOkButton,e,"id14456679","danger")})},getValueFromConstant:function(e,t){return Komodo.Services.AssociateProductsService.getValueFromConstant(e,t)},getCacheData:function(){var e=this;e.set("_allProductService",[]),e.set("_allProductAddOn",[]),e.set("_allInsurance",[]),e.set("_allHdAddOns",[]),e.set("_allAccessService",[]),e.set("_allProductCategories",[]),Komodo.UI.cacheDataService.getProductTypesWithDetails(e.get("_allProductService"),e.get("_allProductAddOn"),e.get("_allInsurance"),e.get("_allAccessService"),e.get("_allProductCategories"),e.get("_allHdAddOns"),e._customerClass,e._customerType,e.get("_marketSegment"))},checkUploadedDocuments:function(){var e=this,t=e.get("changeOfOwnership.objDeviceDetailsModels").map(function(e){return e.deviceNumber.trim()}),o=[];Komodo.Services.queryService.getJSON("ConfigurationQuery?customerID="+e.get("changeOfOwnership.customerNo").trim(),{async:!1}).done(function(a){!Ember.isEmpty(a)&&!Ember.isEmpty(a.DocumentPayload)&&a.DocumentPayload.length>0?t.forEach(function(t){for(var n=0;n<a.DocumentPayload.length;n++){var s=o.indexOf(t);if(0===o.length&&-1!==a.DocumentPayload[n].DocumentURL.indexOf(t)&&a.DocumentPayload[n].ListOfDocumentMetaData[1].Value===e.get("_cooLetter")||-1!==a.DocumentPayload[n].DocumentURL.indexOf(t)&&a.DocumentPayload[n].ListOfDocumentMetaData[1].Value===e.get("_cooLetter")){s>-1&&o.splice(s,1);break}s<0&&o.pushObject(t)}}):e.set("_changeOfOwnershipErrors",kl.value(e._localeCOO+"DocumentNotUploadedError",{devicesList:t})),o.length>0&&e.set("_changeOfOwnershipErrors",kl.value(e._localeCOO+"DocumentNotUploadedError",{devicesList:o}))}).error(function(o){Komodo.Services.busyService.stop(processID,"blocking");var a=JSON.stringify(o),n=t.join();e.set("_changeOfOwnershipErrors",kl.value(e._localeCOO+"DocumentNotUploadedError",{devicesList:n})),Komodo.log("retrieveCaseDocuments ajax call failed. Error: "+a)})},checkAddedPackages:function(){var e=this,t=e.get("changeOfOwnership.objDeviceDetailsModels"),o=[];!Ember.isEmpty(t)&&t.length>0&&t.forEach(function(e){var t=o.indexOf(e.deviceNumber);!e.isPackageSelectedToAdd&&t<0?o.pushObject(e.deviceNumber):e.isPackageSelectedToAdd&&t>-1&&o.splice(t,1)}),Ember.isEmpty(e.get("_changeOfOwnershipErrors"))?o.length>0&&e.set("_changeOfOwnershipErrors",kl.value(e._localeCOO+"PackagesNotUploadedError",{devicesList:o})):o.length>0&&e.set("_changeOfOwnershipErrors",e.get("_changeOfOwnershipErrors")+" and "+kl.value(e._localeCOO+"PackagesNotUploadedError",{devicesList:o}))},allowedProdStatus:function(){var e=this;if(e.set("_allowedArrayStatus",[]),_allowedProdStatus=e.get("_allowedProdStatusConfig"),_allowedProdStatus&&_allowedProdStatus.split(",").length>0)for(var t=0;t<_allowedProdStatus.split(",").length;t++)e.get("_allowedArrayStatus").addObject({status:_allowedProdStatus.split(",")[t]})},_customerDeviceDetailsAvailable:void 0,_deviceName:void 0,_deviceStatus:void 0,_insuranceStatus:void 0,_insuranceStartDate:void 0,_linkedSmartCard:void 0,_customerStatus:void 0,_customerClass:void 0,_customerType:void 0,_accountStatus:void 0,_accountBalance:void 0,_msgValidate:void 0,_currentCustomerNumber:void 0,_accountStatusDescription:void 0,_lastModifiedDate:void 0,_toCustomerValidation:void 0,_customerClassResidential:void 0,_customerClassSpecialist:void 0,_deviceStatusAtCust:void 0,_deviceStatusForCust:void 0,_deviceStatusSecHand:void 0,_customerStatusActive:void 0,_customerStatusDeceased:void 0,_customerStatusBadDebt:void 0,_customerStatusClosed:void 0,_customerStatusEmigrated:void 0,_accountStatusDescClosed:void 0,_accountStatusDescOpen:void 0,_accountStatusDescDisc:void 0,_accountStatusDescCancelled:void 0,_accountStatusDescOverdue:void 0,_accountStatusDescDoubtful:void 0,_accountPaymentPlan:void 0,_accountStatusOpen:void 0,_accountStatusDisconnected:void 0,_accountStatusOverdue:void 0,_accountStatusDoubtfulDebt:void 0,_customerDetailsAvailable:void 0,_toCustomerAccountStatus:void 0,_toCustomerAccountBalance:void 0,_accountTypeResGen:void 0,_funSuccess:void 0,_allowedAddPackages:void 0,_marketSegment:void 0,_popCustomerClass:void 0,_popCustomerType:void 0,_decoderModel:void 0,_popDecoderModel:void 0,_productCategoryAndProductDetail:[],_packages:[],_primaryPackage:[],_popHardwareSerialNo:void 0,_popHardwareSmartCardNo:void 0,_compareSerialNumber:void 0,_modelForCompare:void 0,_deviceCPCType:void 0,_popCustomerNo:void 0,_productInList:void 0,_isAddOnAvailable:void 0,_businessUnit:void 0,_popUpbusinessUnit:void 0,_isPrinciplePackageFill:void 0,_popBusinessUnitValue:void 0,_popMonthlyChargePeroid:void 0,_isPackageSelected:void 0,_deviceType:void 0,_principal:void 0,_addon:void 0,_access:void 0,_insurance:void 0,_allProductService:[],_allProductAddOn:[],_allInsurance:[],_allHdAddOns:[],_allAccessService:[],_allProductCategories:[],_changeOfOwnershipErrors:void 0,_cooLetter:void 0,_gpsLatitude:void 0,_gpsLongitude:void 0,_gpsAccuracy:void 0,_gpsTimestamp:void 0,_smartcardType:void 0,_smartcardModel:void 0,_deviceModel:void 0,_UID:void 0,_testForRes:void 0,_dccStatusActive:void 0,_dccInsurance:void 0,_dccCancelCode:void 0,_hardwareType:void 0,_cooHardwareStatus:void 0,_testForDecoderType:void 0,_testConstDecoderType:void 0,_listOfProdStatus:[],_allowedProdStatus:void 0,_allowedProdStatusConfig:void 0,_allowedArrayStatus:[],_allowedArrayStatus1:[],_isAllowProdStatus:void 0,_pendingQuoteStatus:void 0,_awaitingPayment:void 0,_disconnectPendingReconnect:void 0,_disconnectPendingRemoval:void 0,_dCCAwaitingPayment:void 0,_pendingUpgrade:void 0,_pendingRemoval:void 0}),Ember.TEMPLATES.AddPackagesPopupView=Ember.Handlebars.template(function(e,t,o,a,n){function s(e,t){var a;return t.buffer.push('--\x3e\r\n\r\n    <table width="100%">\r\n        <tr>\r\n            <td width="50%">\r\n                '),t.buffer.push(d(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.deviceSerialNumber~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n            </td>\r\n            <td width="50%"></td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%">\r\n                '),a=o._triageMustache.call(e,"view.context.cooModel.displayDeviceNo",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n            </td>\r\n            <td width="50%"></td>\r\n        </tr>\r\n    </table>\r\n\r\n\r\n    <br />\r\n    <table style="width:100%">\r\n        <tbody>\r\n            <tr>\r\n                <td colspan="1" style="width:50%">\r\n                    '),t.buffer.push(d(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.principalPackagesLabel~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n                </td>\r\n                <td colspan="1" style="width:50%">\r\n                    '),t.buffer.push(d(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.AddOnLabel~",class:"sub-heading",visibleBinding:"cooModel.isAddOnAvailable"},hashTypes:{text:"STRING",class:"STRING",visibleBinding:"STRING"},hashContexts:{text:e,class:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan="1" style="width:50%">\r\n                    '),t.buffer.push(d(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{contentBinding:"cooModel.objPrincipalPackage",orientation:"vertical",displayPath:"title",valuePath:"value",valueBinding:"cooModel.selectedPrincipalPackage"},hashTypes:{contentBinding:"STRING",orientation:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING"},hashContexts:{contentBinding:e,orientation:e,displayPath:e,valuePath:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\r\n                </td>\r\n                <td colspan="1" style="width:50%">\r\n                    '),t.buffer.push(d(o.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{contentBinding:"cooModel.objAddOnPackage",orientation:"vertical",displayPath:"title",valuePath:"value",valueBinding:"cooModel.selectedAddOnPackage",visibleBinding:"cooModel.isAddOnAvailable"},hashTypes:{contentBinding:"STRING",orientation:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",visibleBinding:"STRING"},hashContexts:{contentBinding:e,orientation:e,displayPath:e,valuePath:e,valueBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <hr />\r\n    "),t.buffer.push(d(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:changeOfDeviceOwnership.insuranceAccessLabel~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    <br />\r\n    "),a=o.each.call(e,"item","in","cooModel.objInsuranceService",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(2,i,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n    <br />\r\n   \r\n    "),a=o.each.call(e,"item","in","cooModel.objAccessService",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(2,i,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\r\n    <br />\r\n    "),""}function i(e,t){return t.buffer.push("\r\n    "),t.buffer.push(d(o.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"item.isChecked"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(d(o.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"item.title"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n    "),""}function r(e,t){var a,n;t.buffer.push(d((a=o.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],
types:["STRING"],data:t},a?a.call(e,"locale.customer:changeOfDeviceOwnership.add",n):c.call(e,"loc","locale.customer:changeOfDeviceOwnership.add",n))))}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),n=n||{};var l,d=this.escapeExpression,u=this,c=o.helperMissing;return n.buffer.push('<div class="modal-max-size">\r\n\r\n    \x3c!--'),l=o.view.call(t,"Komodo.Controls.CollapsibleView",{hash:{title:"~locale.customer:changeOfDeviceOwnership.useCaseTitle~",isCollapsedBinding:"false"},hashTypes:{title:"STRING",isCollapsedBinding:"STRING"},hashContexts:{title:t,isCollapsedBinding:t},inverse:u.noop,fn:u.program(1,s,n),contexts:[t],types:["ID"],data:n}),(l||0===l)&&n.buffer.push(l),n.buffer.push('\r\n    <div style="float:right;">\r\n        '),l=o.view.call(t,"Komodo.Controls.Button",{hash:{action:"selectPackages",disabledBinding:"cooModel.isDisableAddButton",contentBinding:"cooModel.selectedAddItem"},hashTypes:{action:"STRING",disabledBinding:"STRING",contentBinding:"STRING"},hashContexts:{action:t,disabledBinding:t,contentBinding:t},inverse:u.noop,fn:u.program(4,r,n),contexts:[t],types:["ID"],data:n}),(l||0===l)&&n.buffer.push(l),n.buffer.push("\r\n    </div>\r\n   \r\n</div>"),""}),Komodo.Models.CreateCustomerNamespace.CreateCustomerModel=Ember.Object.extend({init:function(){this.localeBase="locale.customer:customerInformation.",this.language=void 0,this.title=void 0,this.firstName=void 0,this.lastName=void 0,this.identityDetailType=void 0,this.identityDetailValue=void 0,this.countryOfOrigin=void 0,this.dateOfBirth=void 0,this.DOBDate=void 0,this.DOBMonth=void 0,this.DOBYear=void 0,this.IsDOBDisabled=void 0,this.passportExpiryDate=void 0,this.type=void 0,this.quoteNumber=void 0,this.isRegisteredForVAT=void 0,this.isReceiveInvoice=void 0,this.acceptMarketingInfo=void 0,this.methodOfCommunication=void 0,this.methodOfPayment=void 0,this.debitOrderDay=void 0,this.accountNo=void 0,this.bank=void 0,this.branchCode=void 0,this.payerName=void 0,this.payerID=void 0,this.contactMobile=void 0,this.contactMobileCountryCode=void 0,this.contactHome=void 0,this.contactHomeCountryCode=void 0,this.contactWork=void 0,this.contactWorkCountryCode=void 0,this.contactEmail=void 0,this.contactFacebook=void 0,this.contactgooglePlus=void 0,this.contactTwitter=void 0,this.contactOther=void 0,this.contactIn=void 0,this.telephoneNumberError=void 0,this.contactInformation=[],this.commandGridItemContactInformation=void 0,this.deleteGridItemContactInformation=void 0,this.selectedGridItemContactInformation=void 0,this.viewingPlatformData=[{title:kl.value(this.localeBase+"viewingPlatformDataDSTV"),value:"1"},{title:kl.value(this.localeBase+"viewingPlatformDataGOTV"),value:"2"}],this.yesNo=[{title:kl.value(this.localeBase+"yes"),value:"1"},{title:kl.value(this.localeBase+"no"),value:"0"}],this.sendMarketingInformationMethod=[{title:kl.value(this.localeBase+"sendMarketingInformationDataEmail"),value:"2"},{title:kl.value(this.localeBase+"sendMarketingInformationDataPrint"),value:"3"},{title:kl.value(this.localeBase+"sendMarketingInformationDataSMS"),value:"4"}],this.debitOderDays=[],this.addressInformation=[],this.commandGridItemAddressInformation=void 0,this.deleteGridItemContactInformation=void 0,this.selectedGridItemaddressInformation=void 0,this.householdMemberAndAuthority=[],this.commandGridItemHouseholdMemberAndAuthority=void 0,this.deleteGridItemHouseholdMemberAndAuthority=void 0,this.selectedGridItemHouseholdMemberAndAuthority=void 0,this.isAcceptTermAndCondition=!1,this.radioButtonClassTermAndCondition=[{title:kl.value(this.localeBase+"yes"),value:"1"},{title:kl.value(this.localeBase+"no"),value:"0"}],this.acceptTermAndCondition=void 0,this.leadUid=void 0,this.payerIsCustomer=void 0,this.viewingPlatform=void 0,this.paymentTypeList=[{value:"2",title:kl.value(this.localeBase+"paymentTypeDebitOrder")},{value:"1",title:kl.value(this.localeBase+"paymentTypeCash")}],this.accountType=void 0,this.branchCodeText=void 0,this.customerClass=void 0,this.companyName=void 0,this.isVatRegistered=void 0,this.companyRegistrationNumber=void 0,this.taxNumber=void 0,this.vatNumber=void 0,this.businessType=void 0,this.establishmentType=void 0,this.customerDocuments=[],this.documentTypes=[],this.boundUpperDateValue=new Date((new Date).getFullYear()-18,(new Date).getMonth(),(new Date).getDate()+1),this.rdCheque=void 0,this.yesNoNone=[{title:kl.value(this.localeBase+"yes"),value:"1"},{title:kl.value(this.localeBase+"no"),value:"0"},{title:kl.value(this.localeBase+"none"),value:"2"}],this.status=void 0,this.supervisorUsername="",this.passCode="",this.showButtons=!1,this.loginButton=!0,this.accountHoldercontactValue=void 0,this.accountHoldercountryCode=void 0,this.accountHolderEmailAddress=void 0,this.isIdentificationNumberRequire=!0,this.ivrFiscalCode=void 0,this._super()}}),Komodo.Models.CreateCustomerNamespace.ContactInformation=Ember.Object.extend({Error:void 0,init:function(){this.localeBase="locale.customer:customerInformation.",this.Id=void 0,this.type=void 0,this.contactValue=void 0,this.countryCode=void 0,this.isPrimary=void 0,this.isRemovable=void 0,this.contactDetailType=[{key:"1",value:kl.value(this.localeBase+"contactDetailMobile")},{key:"2",value:kl.value(this.localeBase+"contactDetailWork")},{key:"3",value:kl.value(this.localeBase+"contactDetailHome")}],this.commercialContactDetailType=[{key:"1",value:kl.value("locale.customer:customerInformation.contactDetailMobile")},{key:"2",value:kl.value("locale.customer:customerInformation.contactDetailWork")}],this._super()}}),Komodo.Models.CreateCustomerNamespace.ContactEmail=Ember.Object.extend({init:function(){this.Id=void 0,this.contactValue=void 0,this.isPrimary=void 0,this.isRemovable=void 0,this._super()}}),Komodo.Models.CreateCustomerNamespace.AddressInformation=Ember.Object.extend({init:function(){this.addressTypeKey=void 0,this.addressTypeValue=void 0,this.isPrimary=void 0,this.isPrimaryString=void 0,this.IsMarketingEnabled=void 0,this.country=void 0,this.province=void 0,this.city=void 0,this.suburb=void 0,this.postalCode=void 0,this.unit=void 0,this.building=void 0,this.streetNo=void 0,this.streetName=void 0,this.privateBag=void 0,this.billing=void 0,this.countryCanonicalKey=void 0,this.provinceCanonicalKey=void 0,this.cityCanonicalKey=void 0,this.suburbCanonicalKey=void 0,this.addressString=void 0,this.isAddressInformationVisible=void 0,this.countryKey=void 0,this.floor=void 0,this.exactLocation=void 0,this._super()}}),Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority=Ember.Object.extend({init:function(){this.householdMemberInfo="0",this.allowToTransactInfo="0",this.firstNameHouseholdMemberAndAuthority=void 0,this.lastNameHouseholdMemberAndAuthority=void 0,this.identityDetailTypeHouseholdMemberAndAuthority=void 0,this.identityDetailValueHouseholdMemberAndAuthority=void 0,this.countryOfOriginHouseholdMemberAndAuthority=void 0,this.expiryDate=void 0,this.relation=void 0,this.selectedIsHouseholdMember=void 0,this.cDateOfBirth=void 0,this.dd=0,this.mm=0,this.yyyy=0,this.role=void 0,this.IsHouseholdMemberAndAuthorityDOBDisabled=void 0,this.identityDetailValueHouseholdMemberAndAuthorityDisable=!1,this._super()}}),Komodo.Models.CreateCustomerNamespace.CustomerCreatedModel=Ember.Object.extend({init:function(){this.title=void 0,this.marketSegment=void 0,this.customerClass=void 0,this.name=void 0,this.lastName=void 0,this.firstName=void 0,this.customerNumber=void 0,this.customerType=void 0,this.quoteNumber=void 0,this.typeId=void 0,this.viewingPlatform=void 0,this.locationIndicator=void 0,this.language=void 0,this.idNumber=void 0,this.mobileNumber=void 0,this.email=void 0,this.physicalAddress=void 0,this.companyRegistrationNumber=void 0,this.taxNumber=void 0,this.vatNumber=void 0,this.pinTinNumber=void 0,this.businessTypeAndEstablishment=void 0,this.isCommercialCustomer=!1,this.isResidentialCustomer=!1,this.isSpecialistCustomer=!1,this.isCsiCustomer=!1,this.isDsTvCustomer=!1,this.isGoTvCustomer=!1,this.isDealerCustomer=!1,this._super()}}),Komodo.Application.AmountToPayView=Komodo.UI.View.extend({viewKey:"AmountToPayView",templateName:"AmountToPayView",didInsertElement:function(){this._super(),$("#adhocDebitOrderRadioButton, #useCreditRadioButton, #useCashRadioButton").on("click",function(){Komodo.Services.uiService.getController("amountToPay").payButtonRules()}),$("#selectAllAccountsCheckButton").on("click",function(){Komodo.Services.uiService.getController("amountToPay").checkOrUncheckAccounts()}),$("#selectAllQuotesCheckBox").on("click",function(){Komodo.Services.uiService.getController("amountToPay").selectAllQuotesObserver()})}}),Komodo.Application.WhereItIsView=Komodo.UI.View.extend({viewKey:"WhereItIsView",templateName:"WhereItIsView"}),Komodo.Application.CommercialCustomerView=Komodo.UI.View.extend({viewKey:"CommercialCustomerView",didInsertElement:function(){this._super();var e=this.get("context"),t=new plupload.Uploader({runtimes:Komodo.UploadConfiguration.RUNTIMES,browse_button:"pickfiles",url:KomodoConfiguration.ibsApiUrl+e.get("country")+"/uploaddownload/upload",headers:{"komodo-sessiontoken":Komodo.Services.securityService.get("sessionToken")},filters:{max_file_size:Komodo.UploadConfiguration.MAX_FILE_SIZE,mime_types:[{title:Komodo.UploadConfiguration.IMAGE_FILE_TYPE,extensions:Komodo.UploadConfiguration.IMAGE_FILE_EXTENSION},{title:Komodo.UploadConfiguration.DOCUMENT_FILE_TYPE,extensions:Komodo.UploadConfiguration.DOCUMENT_FILE_EXTENSION}]},init:{PostInit:function(){$("input:file").parent().width(0).height(0).css("visibility","hidden"),$("#filelist > tbody").html("")},FilesAdded:function(e,t){var o=this.customerDocumentController,a=this.customerDocumentController.get("customerDataModel");plupload.each(t,function(t){var n=!1;if($(a.customerDocuments).each(function(e,o){o.get("documentName")===t.name&&(n=!0)}),n)e.removeFile(t);else{var s=Komodo.Models.CreateCustomerNamespace.CustomerDocumentModel.create();s.set("documentName",t.name),s.set("documentSize",plupload.formatSize(t.size)),s.set("uploadPercentage",""),s.set("documentTypes",o.get("documentTypes")),s.set("documentType",o.get("defaultDocumentType")),s.set("documentSerialNumbers",o.get("documentSerialNumbers")),s.set("documentSerialNumber",void 0),s.set("uploadStatus",Komodo.UploadStatuses.QUEUED),a.get("customerDocuments").pushObject(s)}})},UploadProgress:function(e,t){!1===e.uploadCanceled&&e.changeFileStatus(this.customerDocumentController.get("customerDataModel"),t)},FileUploaded:function(e,t,o){var a=JSON.parse(o.response)[0];e.changeFileStatus(this.customerDocumentController.get("customerDataModel"),t,a)},Error:function(e,t){Komodo.log(t.response),e.uploadCanceled=!0,e.changeFileStatus(this.customerDocumentController.get("customerDataModel"),t.file)},BeforeUpload:function(e,t){if(!1===e.uploadCanceled){var o=this.customerDocumentController,a=o.get("customerId");e.settings.url=KomodoConfiguration.ibsApiUrl+o.get("country")+"/uploaddownload/upload?customerNumber="+a+"&documentType=";var n=this.customerDocumentController.get("customerDataModel");!1===e.uploadCanceled&&$(n.customerDocuments).each(function(o,a){if(a.get("documentName")===t.name){var n="";a.get("documentType").toLowerCase()===Komodo.DocumentTypes.CHANGE_OF_OWNERSHIP_LETTER.toLowerCase()&&(n="&serialNumber="+a.get("documentSerialNumber")),e.settings.url=e.settings.url+a.get("documentType")+n}})}else e.stop()},UploadComplete:function(e){e.uploadCanceled=!1;var t=this.customerDocumentController,o=Komodo.Models.SaveDocument.create(),a=Komodo.canonicalFacadeFactory(o,["ListOfDocument"]),n=t.get("customerId"),s=this.customerDocumentController.get("customerDataModel"),i=[];$(s.customerDocuments).each(function(e,t){var o=Komodo.Models.Document.create();o.set("FileType",t.get("documentType")),o.set("DocumentURL",t.get("documentUrl"));var a=[],s=Komodo.Models.DocumentMetaData.create();s.set("DocumentMetaDataValueUri","CustomerId"),s.set("Value",n),a.pushObject(s);var r=Komodo.Models.DocumentMetaData.create();r.set("DocumentMetaDataValueUri","DocumentType"),r.set("Value",t.get("documentType")),a.pushObject(r);var l=Komodo.Models.DocumentMetaData.create();l.set("DocumentMetaDataValueUri","DocumentSerial"),l.set("Value",n),a.pushObject(l),o.set("ListOfDocumentMetaData",a),i.pushObject(o)}),o.set("Country",t.get("loggedInCountryId")),a.set("ListOfDocument",i),Komodo.Services.CustomerService.publishCustomerEvent(t,o,"SaveCustomerDocumentEvent","v2",!1),t.loadCustomerView(t.get("customerCreatedMessage"))}}});t.customerDocumentController=e,e.set("fileUploader",t),t.uploadCanceled=!1,t.changeFileStatus=this.fileUploadStatus,t.init()},fileUploadStatus:function(e,t,o){$(e.customerDocuments).each(function(e,a){a.get("documentName")===t.name&&(a.set("uploadPercentage",t.percent+" %"),2===t.status?a.set("uploadStatus",Komodo.UploadStatuses.UPLOADING):4===t.status?(a.set("uploadStatus",Komodo.UploadStatuses.FAILED),a.set("uploadPercentage","0 %")):5===t.status&&(a.set("uploadStatus",Komodo.UploadStatuses.DONE),a.set("documentUrl",o)))})}}),Komodo.Models.CreateCustomerNamespace.SpecialistCustomerModel=Ember.Object.extend({init:function(){this.localeBase="locale.specialistCustomer:customerInformation.",this.language=void 0,this.locationIndicator=void 0,this.title=void 0,this.firstName=void 0,this.lastName=void 0,this.customerNo=void 0,this.companyName=void 0,this.position=void 0,this.employmentType=void 0,this.identityDetailType=void 0,this.identityDetailValue=void 0,this.passportExpiryDate=void 0,this.businessName=void 0,this.department=void 0,this.companyRegNo=void 0,this.demoType=void 0,this.countryOfOrigin=void 0,this.dateOfBirth=void 0,this.DOBDate=void 0,this.DOBMonth=void 0,this.DOBYear=void 0,this.type=void 0,this.custType=void 0,this.acceptMarketingInfo=void 0,this.methodOfCommunication=void 0,this.methodOfPayment=void 0,this.debitOrderDay=void 0,this.accountNo=void 0,this.bank=void 0,this.branchCode=void 0,this.payerName=void 0,this.payerID=void 0,this.contactMobile=void 0,this.contactMobileCountryCode=void 0,this.contactHome=void 0,this.contactHomeCountryCode=void 0,this.contactWork=void 0,this.contactWorkCountryCode=void 0,this.contactEmail=void 0,this.contactFacebook=void 0,this.contactgooglePlus=void 0,this.contactTwitter=void 0,this.contactOther=void 0,this.contactIn=void 0,this.telephoneNumberError=void 0,this.householdMemberAndAuthority=[],this.commandGridItemHouseholdMemberAndAuthority=void 0,this.deleteGridItemHouseholdMemberAndAuthority=void 0,this.selectedGridItemHouseholdMemberAndAuthority=void 0,this.contactInformation=[],this.commandGridItemContactInformation=void 0,this.deleteGridItemContactInformation=void 0,this.selectedGridItemContactInformation=void 0,this.viewingPlatformData=[{title:"DStv",value:"1"},{title:"GOtv",value:"2"}],this.yesNo=[{title:kl.value(this.localeBase+"yes"),value:"1"},{title:kl.value(this.localeBase+"no"),value:"0"}],this.sendMarketingInformationMethod=[{title:"Email",value:"2"},{title:"Print",value:"3"},{title:"SMS",value:"4"}],this.addressInformation=[],this.commandGridItemAddressInformation=void 0,this.deleteGridItemContactInformation=void 0,this.selectedGridItemaddressInformation=void 0,this.leadUid=void 0,this.paymentTypeList=[{value:Komodo.MOP.DEBIT_ORDER,title:"Debit Order"},{value:Komodo.MOP.CASH,title:"Cash"}],this.accountType=void 0,this.branchCodeText=void 0,this.sponsor=void 0,this.homeEquipment=void 0,this.benefitEndDate=void 0,this.employeeNo=void 0,this.customerDocuments=[],this.documentTypes=[],this.supervisorUsername="",this.passCode="",this.showButtons=!1,this.loginButton=!0,this.isIdentificationNumberRequire=!0,this.isIdentificationValueDisable=!1,this._super()}}),Komodo.Application.CreateCustomerView=Komodo.UI.View.extend({viewKey:"CreateCustomerView",templateName:"CreateCustomerView"}),Komodo.Models.CreateCustomerNamespace.CustomerDocumentModel=Ember.Object.extend({init:function(){this.customerID=void 0,this.documentName="",this.documentSize="",this.uploadPercentage="",this.uploadStatus="",this.documentUrl="",this.documentTypes=[],this.documentSerialNumbers=[],this._super()},documentType:void 0,documentSerialNumber:void 0}),Komodo.Application.CreateDealerView=Komodo.UI.View.extend({viewKey:"CreateDealerView",templateName:"CreateDealerView"}),Komodo.Models.CreateCustomerNamespace.CreateDealerModel=Ember.Object.extend({init:function(){this.localeBase="locale.customer:customerInformation.",this.customerType=void 0,this.language=void 0,this.title=void 0,this.firstName=void 0,this.lastName=void 0,this.identityDetailType=void 0,this.identityDetailValue=void 0,this.countryOfOrigin=void 0,this.dateOfBirth=void 0,this.passportExpiryDate=void 0,this.type=void 0,this.stockhandlerType=void 0,this.methodOfPayment=void 0,this.bank=void 0,this.contactEmail=void 0,this.contactInformation=[],this.commandGridItemContactInformation=void 0,this.deleteGridItemContactInformation=void 0,this.selectedGridItemContactInformation=void 0,this.yesNo=[{title:kl.value(this.localeBase+"yes"),value:"1"},{title:kl.value(this.localeBase+"no"),value:"0"}],this.debitOderDays=[];for(var e=1;e<=31;e+=1)this.debitOderDays.push(e);this.addressInformation=[],this.commandGridItemAddressInformation=void 0,this.deleteGridItemContactInformation=void 0,this.selectedGridItemaddressInformation=void 0,this.householdMemberAndAuthority=[],this.commandGridItemHouseholdMemberAndAuthority=void 0,this.deleteGridItemHouseholdMemberAndAuthority=void 0,this.selectedGridItemHouseholdMemberAndAuthority=void 0,this.companyName=void 0,this.isVatRegistered=void 0,this.companyRegistrationNumber=void 0,this.taxNumber=void 0,this.vatNumber=void 0,this.isVATDisabled=void 0,this.isIdentificationNumberRequire=!0,this.isIdentificationValueDisable=!1,this._super()}}),Komodo.Application.CsiCustomerView=Komodo.UI.View.extend({viewKey:"CsiCustomerView"}),Komodo.Application.ChangeOfDeviceOwnershipView=Komodo.UI.View.extend({viewKey:"ChangeOfDeviceOwnershipView",templateName:"ChangeOfDeviceOwnershipView"}),Komodo.Application.CustomerCreatedView=Komodo.UI.View.extend({viewKey:"CustomerCreatedView"}),Komodo.Application.VerifyDocumentsView=Komodo.UI.View.extend({viewKey:"VerifyDocumentsView",templateName:"VerifyDocumentsView",destroy:function(){Komodo.Services.uiService.getController("createCustomer").removeDependentProperty("passCodeValidator"),Komodo.Services.uiService.getController("createCustomer").removeDependentProperty("supervisorUsernameValidator")}}),Komodo.Application.SpecialistCustomerView=Komodo.UI.View.extend({viewKey:"SpecialistCustomerView"}),Komodo.Application.EditCommercialCustomerView=Komodo.UI.View.extend({viewKey:"EditCommercialCustomerView"}),Komodo.Application.AddPackagesPopupView=Komodo.UI.View.extend({viewKey:"AddPackagesPopupView",templateName:"AddPackagesPopupView"}),Komodo.Application.EditCsiCustomerView=Komodo.UI.View.extend({viewKey:"EditCsiCustomerView"}),Komodo.Application.SearchOnIdNumberView=Komodo.UI.View.extend({viewKey:"SearchOnIdNumberView",templateName:"SearchOnIdNumberView"}),Komodo.Application.GetItOnPaymentPlanView=Komodo.UI.View.extend({viewKey:"GetItOnPaymentPlanView",templateName:"GetItOnPaymentPlanView"}),Komodo.Application.PendingPaymentPlanApplicationsView=Komodo.UI.View.extend({viewKey:"PendingPaymentPlanApplicationsView",templateName:"PendingPaymentPlanApplicationsView"}),Komodo.Application.NewAmountToPayView=Komodo.UI.View.extend({viewKey:"NewAmountToPayView",templateName:"NewAmountToPayView",didInsertElement:function(){this._super(),$("#adhocDebitOrderRadioButton, #useCreditRadioButton, #useCashRadioButton").on("click",function(){Komodo.Services.uiService.getController("newAmountToPay").payButtonRules()})}}),Komodo.Application.AmountToPayController=Komodo.UI.Controller.extend({localeAmountPayable:"locale.customerprofile.customerprofile:amountPayable.",localeCustomerAmountToPay:"locale.customer:amountToPay.",localeCustomerQuoteDetails:"locale.manageaccount:quoteDetails.",init:function(){var e=this;Komodo.log("Constructing AmountToPay controller"),e.set("processVersion","v1.1"),e.set("processName","AmountToPay process"),e._super()},start:function(){var e=this;e.registerModel("data",Komodo.Models.AmountToPayModel),e.innicializeVariables(),e._super()},innicializeVariables:function(){var e=this;e.set("checkSubTotalCheckeBox",!0),e.set("checkQuoteSubTotalCheckeBox",!0),e.set("AccountTypeValuesAndCanonical",[]),e.set("showNestInvoiceEstimate",!1),e.set("accountTypes",[]),e.set("accountSubTotal",0),e.set("totalAmountToPay",0),e.set("quotesSubTotal",0),e.set("showCredit",!1),e.set("canUseCredit",!1),e.set("back",kl.value("locale.customer:amountToPay.back")),e.loadAccountType()},getUrlWithoutCountry:function(e){return e.link.substring(e.link.indexOf("/")+1)},getCustomerBalance:function(){var e=this;e.getNewProcessID(),e.showBusyIndicator();var t=Komodo.Services.customerProfileService.getCustomerPersonalDetail();Komodo.Services.queryService.getJSONFromApiRoot("amounts-to-pay?customerNumber="+t.customerNo,!0).done(function(t){e.hideBusyIndicator(),e.set("data.amountToPay",t.totalAmountToPay.value),e.set("data.currency",t.totalAmountToPay.currencyCode);var o=void 0,a=void 0;t.links.forEach(function(t){"account"===t.rel[1]&&(o=e.getUrlWithoutCountry(t)),"quote"===t.rel[1]&&(a=e.getUrlWithoutCountry(t))});var n="-",s="-";if(t.accounts.forEach(function(o){Ember.isEmpty(o.quotes)||o.quotes.forEach(function(a){var i=[];if(n="-",s="-",!Ember.isEmpty(a)&&!Ember.isEmpty(a.lineItems)){s=Ember.isEmpty(a.lineItems[a.lineItems.length-1].startDate)?" - ":e.getFormattedDateTime(a.lineItems[a.lineItems.length-1].startDate),s+=" to ",s+=Ember.isEmpty(a.lineItems[a.lineItems.length-1].endDate)?" - ":e.getFormattedDateTime(a.lineItems[a.lineItems.length-1].endDate);var r=[];Ember.isEmpty(a.lineItems)||a.lineItems.forEach(function(e){i.push(e.invoiceText),r.push({invoiceText:e.invoiceText,lineItemId:"-",serviceName:e.productName,startDate:e.startDate,endDate:e.endDate,amount:e.amount.value.toFixed(2)})}),n=i.join(", "),","===n.charAt(0)&&(n=n.substr(2))}a.total.value&&e.get("data.nextInvoiceEstimatesTemp").addObject(Ember.Object.create({id:"-",isNextInvoiceEstimate:!0,accountNumber:o.accountNumber.toString(),customerNumber:t.customerNumber,isAddtoAccountVisible:!1,isPreActivateDisable:!0,isPreActivateVisible:!1,sourceEvent:"",accountName:o.accountType+"("+o.accountNumber.toString()+")",services:Ember.isEmpty(n)?"":n,period:s,expiryDate:e.getFormattedDateTime(a.expiryDate),quoteDate:a.quoteDate,due:a.quoteDate,status:a.status,amount:a.total.value.toFixed(2),currencyCode:a.total.currencyCode,pay:!0,showWithCreditAccounts:!0,lineItems:r}))})}),Komodo.Services.featureToggleService.isEnabled("AmountToPay","AllowPayViaAdhocDebitOrder").done(function(t){e.set("data.showPayViaAdhocButton",t),t||$("#adhocDebitOrderRadioButton").hide()}).fail(function(e){Komodo.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("QuoteDetail","HolidayHome2pointzerocheck").done(function(t){e.set("data.checkHolidayHome2PointZero",t)}).fail(function(e){Komodo.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("AmountToPay","AllowArrearsPayment").done(function(t){e.set("data.showArrearsPayments",t)}).fail(function(e){Komodo.log("Error while checking feature toggle. Error Details:"+e)}),e.get("data.showArrearsPayments")){var i=0;if(Ember.isEmpty(t.arrearsPaymentInstallments.remainingInstallments)||t.arrearsPaymentInstallments.remainingInstallments.forEach(function(e){Ember.isEmpty(e)||(i+=e.installmentAmount.value)}),e.set("data.remainingInstallment",i.toFixed(2)),!Ember.isEmpty(t.arrearsPaymentInstallments.nextInstallments)){var r=t.arrearsPaymentInstallments.nextInstallments;e.get("data.nextInvoiceEstimatesTemp").addObject(Ember.Object.create({id:"-",isNextInvoiceEstimate:!0,accountNumber:r[0].accountNumber.toString(),customerNumber:t.customerNumber,isAddtoAccountVisible:!1,isPreActivateDisable:!0,isPreActivateVisible:!1,sourceEvent:"",accountName:"Arrears Payment Arrangements",services:"Installment",period:r[0].dueDate,expiryDate:"",quoteDate:"",due:"",status:r[0].status,amount:r[0].installmentAmount.value.toFixed(2),currencyCode:r[0].installmentAmount.currencyCode,pay:!0,showWithCreditAccounts:!1,lineItems:""}))}}e.getAccounts(o,a)}).error(function(t){e.hideBusyIndicator(),Ember.isEmpty(t.responseJSON)||Komodo.log("Get Customer Balance Call fail : "+t.responseJSON.detail),Ember.isEmpty(t.responseJSON)?Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerAmountToPay+"problemCallingBalanceApiTittle"),kl.value(e.localeCustomerAmountToPay+"problemCallingBalanceApi")+t.statusText,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger"):Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerAmountToPay+"problemCallingBalanceApiTittle"),"httpStatus : "+t.responseJSON.httpStatus+" "+t.responseJSON.detail,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger")})},loadAccountType:function(){var e=this;e.getNewProcessID(),e.showBusyIndicator(),e.set("accountTypes",[]),Komodo.Services.cachedDataService.fetch("AccountType").done(function(t){e.hideBusyIndicator(),e.accountTypes=t,e.getAccountTypes()}).fail(function(){e.hideBusyIndicator(),Komodo.log("[ERROR] : could not retrieve ResidentialStatus from CDM")})},stop:function(){this._super()},actions:{rejectQuotes:function(){for(var e=this,t=[],o=e.get("data.quotesM").sortBy("amount").reverse(),a=0;a<o.length;a++)o[a].pay&&"ServiceRetention"===o[a].type&&"-"!==o[a].id&&t.push(o[a].id);var n=t.join(", ");if(Ember.isEmpty(n)){for(var o=e.get("data.quotesM").sortBy("amount").reverse(),a=0;a<o.length;a++)o[a].pay&&"-"!==o[a].id&&e.rejectSelectedQuotes(o[a].id);e.clearData(),e.innicializeVariables()}else{Komodo.Controls.MessageBoxController.show(kl.value(e.localeAmountPayable+"rejectQuotesMessageTitle"),"Quote id"+n+kl.value(e.localeAmountPayable+"newRejectQuotesMessage"),Komodo.Controls.MessageBoxOkButton,e,void 0,"warning").response=function(t){if("ok"===t){for(var o=e.get("data.quotesM").sortBy("amount").reverse(),a=0;a<o.length;a++)o[a].pay&&"-"!==o[a].id&&"ServiceRetention"!==o[a].type&&e.rejectSelectedQuotes(o[a].id);e.clearData(),e.innicializeVariables()}}}},pay:function(){var e=this;$("#useCashRadioButton").is(":checked")&&e.useCash(),$("#adhocDebitOrderRadioButton").is(":checked")&&e.payViaAdhoc(),$("#useCreditRadioButton").is(":checked")&&e.useCredit()},PreActivateQoute:function(e){for(var t=this,o=0,a="",n=0,s=t.get("data.quotesM"),i=0;i<s.length;i++)s[i].id===e.qouteId&&(o=s[i].accountNumber,a=s[i].sourceEvent,n=s[i].customerNumber);var r=Komodo.Services.uiService.getController("customerQuoteDetails");r.getcustomerquotes(n.toString()),r.canPreActivateQoutes(o.toString(),n.toString());var l=r.get("allowToPreActivateQoutes"),d=r.get("preactivatemessage");l?(Komodo.Services.queryService.deleteJSON("/RedisCache/InvalidateCustomer?CustomerNumber="+Komodo.Services.customerProfileService.getCustomerPersonalDetail().customerNo),"zaf"!==Komodo.Services.uiService.getController("application").get("_selectedCountryId")&&"QuoteForQuantityChange"==e.quoteSourceEvent?r.preActivateForXtraview(e.qouteId):r.preActivatePopup(e.qouteId,a,"customerProfileContainer")):Komodo.Controls.MessageBoxController.show(kl.value(t.localeCustomerQuoteDetails+"CantPreActivateQouteTitle"),d,Komodo.Controls.MessageBoxOkButtons,self,"authmbx3","danger")},addToAccount:function(e){Komodo.Services.queryService.deleteJSON("/RedisCache/InvalidateCustomer?CustomerNumber="+Komodo.Services.customerProfileService.getCustomerPersonalDetail().customerNo);var t=this;Komodo.Controls.MessageBoxController.show(kl.value(t.localeAmountPayable+"addtoAccountMessageTitle"),kl.value(t.localeAmountPayable+"addtoAccountMessage"),Komodo.Controls.MessageBoxYesNoButtons,that,void 0,"warning").response=function(o){if("yes"===o){var a=new Object;a.customerId=e.customerId,a.quoteId=e.qouteId,Komodo.Services.queryService.postJSON("Device/CreateHolidayHomeDebitOrder",{data:a}).done(function(e){Komodo.Controls.MessageBoxController.show(kl.value(t.localeAmountPayable+"addtoAccountMessageTitle"),kl.value(t.localeAmountPayable+"addtoAccountMessageSuccess"),Komodo.Controls.MessageBoxOkButton,that,"authmbx3","success").response=function(e){"ok"===e&&(t.publishCreateInteraction(5,15,213,Komodo.Services.securityService.session.domainUserName+" performs Add to Debit for customer "+Komodo.Services.customerProfileService.personalDetails.customerNo),t.clearData(),t.innicializeVariables())}}).error(function(e){var o=JSON.stringify(e);Komodo.log("Reject Quote ajax call failed. Error: "+o),"FT007"===e.responseJSON.ResponseCode?Komodo.Controls.MessageBoxController.show(kl.value(t.localeAmountPayable+"addtoAccountMessageTitle"),kl.value(t.localeAmountPayable+"addToAccountFTApprovalMessage"),Komodo.Controls.MessageBoxOkButtons,that,"message","warning").response=function(e){}:Komodo.Controls.MessageBoxController.show(kl.value(t.localeAmountPayable+"amountToPay"),e.responseJSON.ResponseMessage,Komodo.Controls.MessageBoxOkButton,that,"authmbx3","danger").response=function(e){}})}}}},clearData:function(){this.set("data.debitAccounts",[]),this.set("data.quotesM",[]),this.set("data.allFinantialAccounts",[]),this.set("data.nextInvoiceEstimates",[]),this.set("data.nextInvoiceEstimatesTemp",[]),this.set("data.filteredPaymentPlans",[]),this.set("data.creditAccounts",[]),this.set("data.quotes",[]),this.set("data.accountType",void 0),this.set("data.accountsSubTotal",void 0),this.set("data.amountToPay",void 0),this.set("data.quotesSubTotal",void 0),this.set("data.currency",void 0),this.set("data.creditAccountsSubTotal",void 0),this.set("data.showCreditAccounts",!1),this.set("data.showQuotes",!1),this.set("data.settleMyAreasSelected",!1),this.set("data.adhocDebitOrderSelected",!1),this.set("data.useCreditSelected",!1),this.set("data.useCashSelected",!1),this.set("data.settleMyAreasButtonDisabled",!0),this.set("data.settleMyAreasButtonSelected",!1),this.set("data.adhocDebitOrderButtonDisabled",!0),this.set("data.adhocDebitOrderButtonSelected",!1),this.set("data.useCreditButtonDisabled",!0),this.set("data.useCreditButtonSelected",!1),this.set("data.useCashButtonDisabled",!0),this.set("data.useCashButtonSelected",!1),this.set("data.selectAllAccounts",!1),this.set("data.selectAllQuotes",!1),this.set("data.payButtonDisabled",!0),this.set("data.rejectQuoteButtonDisabled",!0),this.set("data.showLazyLoadGif",!1),this.set("data.useCreditButtonEnabled",!1),this.set("data.useCashButtonEnabled",!1),this.set("data.payNowButtonEnabled",!1),this.set("data.rejectQuoteButtonEnabled",!1),this.set("data.selectAccountForQuoteRunFlag",!0),this.set("data.selectQuoteForAccountRunFlag",!0),this.set("data.showArrearsPayments",!1),this.set("data.remainingInstallment",void 0),this.set("data.checkHolidayHome2PointZero",!1),this.set("data.showPayViaAdhocButton",!1)},rejectSelectedQuotes:function(e){var t=this;Komodo.Services.queryService.deleteJSON("/RedisCache/InvalidateCustomer?CustomerNumber="+Komodo.Services.customerProfileService.getCustomerPersonalDetail().customerNo),Komodo.Services.queryService.getJSON("Quote/RejectQuote?quoteId="+e,!0).done(function(e){}).error(function(e){var o=JSON.stringify(e);Komodo.log("Reject Quote ajax call failed. Error: "+o),Komodo.Controls.MessageBoxController.show(kl.value(t.localeAmountPayable+"amountToPay"),e.responseJSON.Message,Komodo.Controls.MessageBoxOkButtons,t,"authmbx3","danger")})},getAccounts:function(e,t){var o=this;o.getNewProcessID(),o.showBusyIndicator(),Komodo.Services.queryService.getJSONFromApiRoot(e,!0).done(function(e){o.hideBusyIndicator(),null!=e&&(o.set("totalAmountToPay",0),e.items.forEach(function(e){o.getAccountBalance(e)}),o.getQuotes(t))}).error(function(e){o.hideBusyIndicator(),Komodo.log("Get Customer Accounts Call fail : "+e.responseJSON.detail),
Komodo.Controls.MessageBoxController.show(e.responseJSON.title,e.responseJSON.detail,Komodo.Controls.MessageBoxOkButtons,o,"authmbx3","danger")})},fetchCDMData:function(e){var t="";return Komodo.Services.cachedDataService.fetch(e).done(function(e){t=e}),t},getAccountTypes:function(){var e=this;e.getNewProcessID(),e.showBusyIndicator(),Komodo.Services.queryService.getJSONFromApiRoot("lookups/account-type",!0).done(function(t){e.hideBusyIndicator(),e.set("AccountTypeValuesAndCanonical",t.items),e.getCustomerBalance()}).error(function(t){if(e.hideBusyIndicator(),Ember.isEmpty(t.responseJSON))Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerAmountToPay+"problemCallingAccountApi"),"Status :  "+t.status+", Error : "+t.statusText,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger");else{Komodo.log("Get Customer Lookups Call fail : "+t.responseJSON.detail);var o=t.responseJSON.detail;Ember.isEmpty(t.responseJSON.detail)&&(o=t.responseJSON.message),Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerAmountToPay+"problemCallingAccountApi"),"Status :  "+t.status+", Error : "+o,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger")}})},getQuotes:function(e){var t=this;t.startLazyLoad();var o=[];Komodo.Services.queryService.getJSONFromApiRoot(e+"&quoteStatus=Pending",!0).done(function(a){o=a,t.stopLazyLoad(),o.items.length>10?t.getQuotesWithPaging(e,o.items.length):t.saveQuotesInModel(o)}).error(function(e){t.stopLazyLoad(),Ember.isEmpty(e.responseJSON)||Komodo.log("Get Customer Quotes Call fail : "+e.responseJSON.detail),Ember.isEmpty(e.responseJSON)?Komodo.Controls.MessageBoxController.show(kl.value(t.localeCustomerAmountToPay+"problemCallingQuotesApiTittle"),kl.value(t.localeCustomerAmountToPay+"problemCallingQuotesApi")+e.statusText,Komodo.Controls.MessageBoxOkButtons,t,"authmbx3","danger"):Komodo.Controls.MessageBoxController.show(kl.value(t.localeCustomerAmountToPay+"problemCallingQuotesApiTittle"),e.responseJSON.detail,Komodo.Controls.MessageBoxOkButtons,t,"authmbx3","danger")})},getQuotesWithPaging:function(e,t){var o=this;o.startLazyLoad(),Komodo.Services.queryService.getJSONFromApiRoot(e+"&quoteStatus=Pending&pageSize="+t,!0).done(function(e){o.stopLazyLoad(),o.saveQuotesInModel(e)}).error(function(e){o.stopLazyLoad(),Ember.isEmpty(e.responseJSON)||Komodo.log("Get Customer Quotes Call fail : "+e.responseJSON.detail),Ember.isEmpty(e.responseJSON)?Komodo.Controls.MessageBoxController.show(kl.value(o.localeAmountPayable+"problemCallingQuotesApiTittle"),kl.value(o.localeAmountPayable+"problemCallingQuotesApi")+e.statusText,Komodo.Controls.MessageBoxOkButtons,o,"authmbx3","danger"):Komodo.Controls.MessageBoxController.show(kl.value(o.localeAmountPayable+"problemCallingQuotesApiTittle"),e.responseJSON.detail,Komodo.Controls.MessageBoxOkButtons,o,"authmbx3","danger")})},saveQuotesInModel:function(e){var t=this;e.items.length>0&&(t.loadQuotes(e.items,e.customerNumber),t.showTotalBalance(),t.adhocDebitOrderButtonRules(),t.useCreditButtonRules(),t.useCashButtonRules(),t.useRejectQuotesButtonRules(),t.payButtonRules(),t.creditBalanceGridRulesRules(),t.creditBalanceNoQuotesRules(),t.CheckRoleAndPermissions(),$("#selectAllAccountsCheckButton").prop("checked",!0),$("#selectAllQuotesCheckBox").prop("checked",!0));var o=t.get("data.nextInvoiceEstimatesTemp");0===e.items.length&&(t.set("data.nextInvoiceEstimates",o),$("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!1),t.set("data.quotesM",[]),Ember.isEmpty(o)||o.forEach(function(e){t.get("data.quotesM").addObject(e)}),t.set("showNestInvoiceEstimate",!0),$("#selectAllAccountsCheckButton").prop("checked",!0),$("#selectAllQuotesCheckBox").prop("checked",!0),t.payButtonRules());var a=t.get("data.debitAccounts"),n=t.get("data.quotesM");Ember.isEmpty(a)||a.forEach(function(e){var o=!1;Ember.isEmpty(n)||n.forEach(function(t){t.accountNumber===e.accountNumber&&(o=!0)});var a=t.get("data.nextInvoiceEstimatesTemp");o||Ember.isEmpty(a)||a.forEach(function(o){o.accountNumber===e.accountNumber&&"Arrears Payment Arrangements"!==o.accountName&&t.get("data.quotesM").addObject(o),"Arrears Payment Arrangements"===o.accountName&&t.get("data.quotesM").addObject(o)})})},creditBalanceGridRulesRules:function(){var e=this,t=0,o=e.get("data.debitAccounts");Ember.isEmpty(o)||(o.forEach(function(e){e.balance>0&&(t+=1)}),t===o.length&&(e.set("data.showCreditAccounts",!1),$("#useCreditRadioButton").attr("checked",!1),$("#useCreditRadioButton").attr("disabled",!0)))},creditBalanceNoQuotesRules:function(){var e=this,t=0,o=e.get("data.debitAccounts");Ember.isEmpty(o)||o.forEach(function(e){e.balance<0&&(t+=1)});var a=0,n=0,s=e.get("data.quotesM");Ember.isEmpty(s)||s.forEach(function(e){!1===e.isNextInvoiceEstimate&&(a+=1),!0===e.isNextInvoiceEstimate&&(n+=1)}),Ember.isEmpty(o)||Ember.isEmpty(s)||t!==o.length||0!==a||0!==n||(e.set("data.showCreditAccounts",!1),$("#useCreditRadioButton").attr("checked",!1),$("#useCreditRadioButton").attr("disabled",!0),$("#adhocDebitOrderRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("disabled",!0),$("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!0),e.set("data.payButtonDisabled",!0),e.set("data.rejectQuoteButtonDisabled",!0))},adhocDebitOrderButtonRules:function(){this.get("data.amountToPay")>0&&Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseAdhocDebitOrderOnly")?($("#adhocDebitOrderRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("disabled",!1)):($("#adhocDebitOrderRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("disabled",!0))},useCreditButtonRules:function(){var e=this,t=e.get("data.debitAccounts");e.set("canUseCredit",!1);var o=0;Ember.isEmpty(t)||t.forEach(function(t){var a=e.get("data.quotesM");t.pay&&(o+=1),parseFloat(t.balance)<=0&&t.pay&&!Ember.isEmpty(a)&&a.forEach(function(a){a.accountNumber===t.accountNumber&&!0===a.pay&&1===o&&"-"!==a.id&&e.set("canUseCredit",!0)})}),Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCreditOnly")?(e.get("canUseCredit")?$("#useCreditRadioButton").attr("disabled",!1):$("#useCreditRadioButton").attr("disabled",!0),$("#useCreditRadioButton").attr("checked",!1)):($("#useCreditRadioButton").attr("checked",!1),$("#useCreditRadioButton").attr("disabled",!0))},useCashButtonRules:function(){this.get("data.amountToPay")>0&&Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCashOnly")?($("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!1)):($("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!0))},payButtonRules:function(){var e=this;$("#adhocDebitOrderRadioButton").is(":checked")&&!$("#adhocDebitOrderRadioButton").is(":disabled")||$("#useCreditRadioButton").is(":checked")&&!$("#useCreditRadioButton").is(":disabled")||$("#useCashRadioButton").is(":checked")&&!$("#useCashRadioButton").is(":disabled")?e.set("data.payButtonDisabled",!1):e.set("data.payButtonDisabled",!0)},useRejectQuotesButtonRules:function(){var e=this,t=0,o=e.get("data.quotesM");Ember.isEmpty(o)||o.forEach(function(e){!0===e.pay&&!1===e.isNextInvoiceEstimate&&(t+=1)}),t>0?e.set("data.rejectQuoteButtonDisabled",!1):e.set("data.rejectQuoteButtonDisabled",!0)},startLazyLoad:function(){this.set("data.showLazyLoadGif",!0)},stopLazyLoad:function(){this.set("data.showLazyLoadGif",!1)},getNewProcessID:function(){this.startNewProcess()},getAccountBalance:function(e){var t=this,o=t.fetchCDMData("AccountType"),a="",n=t.get("AccountTypeValuesAndCanonical");Ember.isEmpty(n)||n.forEach(function(n){n.value.description===e.type&&(t.canonicalKey=n.key,o.forEach(function(e){e.key===n.value.canonicalCode&&(a=e.value)}))}),e.balance.value>=0?(t.get("data.debitAccounts").addObject(Ember.Object.create({accountNumber:e.number,type:a,friendlytype:e.type,customerNumber:e.customerNumber,balance:parseFloat(e.balance.value).toFixed(2),currencyCode:e.balance.currencyCode,methodOfPayment:e.paymentDetail.methodOfPayment,payDate:e.paymentDay,pay:!0,selectAccountSubtotal:!0,showWithCreditAccounts:!1,disableCheckBox:!1,status:e.status,due:parseFloat(e.balance.value).toFixed(2),notYetDue:e.ageingDetail.notYetDue,totalAmountOverdue:e.ageingDetail.totalAmountOverdue,lastInvoicedDate:e.ageingDetail.lastInvoicedDate})),t.set("data.currency",e.balance.currencyCode)):e.type===Komodo.CanonicalValues.AccountBalance.BoxOffice||e.type===Komodo.CanonicalValues.AccountBalance.HolidayHomes||e.type===Komodo.CanonicalValues.AccountBalance.HolidayHome?(t.get("data.debitAccounts").addObject(Ember.Object.create({accountNumber:e.number,type:a,friendlytype:e.type,customerNumber:e.customerNumber,balance:parseFloat(e.balance.value).toFixed(2),currencyCode:e.balance.currencyCode,methodOfPayment:e.paymentDetail.methodOfPayment,payDate:e.paymentDay,pay:!1,selectAccountSubtotal:!0,showWithCreditAccounts:!0,disableCheckBox:!0,status:e.status,due:parseFloat(e.balance.value).toFixed(2),notYetDue:e.ageingDetail.notYetDue,totalAmountOverdue:e.ageingDetail.totalAmountOverdue,lastInvoicedDate:e.ageingDetail.lastInvoicedDate})),t.set("data.showCreditAccounts",!0)):t.get("data.debitAccounts").addObject(Ember.Object.create({accountNumber:e.number,type:a,friendlytype:e.type,balance:parseFloat(e.balance.value).toFixed(2),currencyCode:e.balance.currencyCode,methodOfPayment:e.paymentDetail.methodOfPayment,payDate:e.paymentDay,pay:!0,selectAccountSubtotal:!0,showWithCreditAccounts:!1,disableCheckBox:!1,status:e.status,due:parseFloat(e.balance.value).toFixed(2),notYetDue:e.ageingDetail.notYetDue,totalAmountOverdue:e.ageingDetail.totalAmountOverdue,lastInvoicedDate:e.ageingDetail.lastInvoicedDate})),Ember.isEmpty(e)||t.get("data.allFinantialAccounts").addObject(Ember.Object.create({accountNumber:e.number,type:e.type,customerNumber:e.customerNumber,balance:parseFloat(e.balance.value).toFixed(2),currencyCode:e.balance.currencyCode,methodOfPayment:e.paymentDetail.methodOfPayment,payDate:e.paymentDay,pay:!0,status:e.status,due:parseFloat(e.balance.value).toFixed(2),notYetDue:e.ageingDetail.notYetDue,totalAmountOverdue:e.ageingDetail.totalAmountOverdue,lastInvoicedDate:e.ageingDetail.lastInvoicedDate}))},getAccountName:function(e){var t=this,o="",a=t.get("data.debitAccounts");return Ember.isEmpty(a)||a.forEach(function(t){e===t.accountNumber&&(o={type:t.type,friendlytype:t.friendlytype})}),o},loadQuotes:function(e,t){var o=this,a="",n=!1,s=!1,i=o.get("data.debitAccounts");i.forEach(function(e){!1===s&&"Residential General"===e.friendlytype&&"cash"===e.methodOfPayment.toLowerCase()&&(s=!0)});for(var r=0;r<e.length;r++){var l=e[r],d=" - ",u=void 0,c=void 0,m=!1,h=!1,p=!0,g=!1;if(!Ember.isEmpty(l)&&"Pending"===l.status){var f=[];if(!Ember.isEmpty(l.lineItems)){for(var y=0;y<l.lineItems.length;y++)f.push(l.lineItems[y].invoiceText);d=Ember.isEmpty(l.lineItems[0].startDate)?" - ":o.getFormattedDateTime(l.lineItems[0].startDate),d+=" to ",d+=Ember.isEmpty(l.lineItems[0].endDate)?" - ":o.getFormattedDateTime(l.lineItems[0].endDate),a=f.join(", ");var i=o.get("data.debitAccounts");i.forEach(function(e){l.accountNumber!==e.accountNumber||e.type!==Komodo.CanonicalValues.AccountBalance.BoxOffice&&e.type!==Komodo.CanonicalValues.AccountBalance.HolidayHomes&&e.type!==Komodo.CanonicalValues.AccountBalance.HolidayHome||(n=!0)});var b=[];Ember.isEmpty(l.lineItems)||l.lineItems.forEach(function(e){b.push({invoiceText:e.invoiceText,lineItemId:e.id,serviceName:e.productName,startDate:e.startDate,endDate:e.endDate,amount:e.amount.value.toFixed(2)})})}u=l.total.value.toFixed(2),c=o.get("data.debitAccounts")[0].currencyCode,m=!0,h=!1;var v=Komodo.Services.securityService.hasPermission("clarity://customerQuoteDetails/canPreActivateQuote");"EventBased"===l.type&&(g=!!v),l.isPreactivateAllowed?(o.getAccountName(l.accountNumber).friendlytype!==Komodo.CanonicalValues.AccountBalance.HolidayHome&&o.getAccountName(l.accountNumber).friendlytype!==Komodo.CanonicalValues.AccountBalance.HolidayHomes||!o.get("data.checkHolidayHome2PointZero")?p="ProductCreate"===l.sourceEvent:(p=!1,d="",u="",c="",m=!1,h=!0),"zaf"!==Komodo.Services.uiService.getController("application").get("_selectedCountryId")&&(p=!1)):p=!0,o.get("data.quotesM").addObject(Ember.Object.create({id:l.id,isNextInvoiceEstimate:!1,accountNumber:l.accountNumber,isPreActivateDisable:p,isPreActivateVisible:g,sourceEvent:l.sourceEvent,customerNumber:t,isAddtoAccountVisible:!1,accountName:o.getAccountName(l.accountNumber).friendlytype+"("+l.accountNumber+")",services:a,period:d,expiryDate:l.expiryDate,quoteDate:l.quoteDate,due:l.dueDate,status:l.status,type:l.type,amount:u,currencyCode:c,pay:m,disableHolidayHome:h,showWithCreditAccounts:n,lineItems:b})),o.set("data.showQuotes",!0),a=""}}o.set("data.amountToPay",o.get("data.quotesSubTotal")+o.get("data.amountToPay"))},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,6e4,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},getFormattedDateTime:function(e){var t="-";if("0001-01-01T00:00:00"===e||"0001-01-02T00:00:00"===e)return"-";if(!Ember.isEmpty(e)){t=e.split(" ")[0]}return t},getFormattedDateTimeForAccount:function(e,t){var o="";if("0001-01-01T00:00:00"===e||"0001-01-02T00:00:00"===e)return"";if(e){var a=e.split("T"),n=new Date(a[0]),s=n.getDate();s=s<10?"0"+s.toString():s.toString();var i=n.getMonth()+1;i=i<10?"0"+i.toString():i.toString();var r=n.getFullYear();if(t){var l=a[1],d=l.split(":"),u=d[0],c=d[1],m=d[2],h=u>=12?"PM":"AM";u%=12,u=u||12,o=s+"-"+i+"-"+r+" "+u+":"+c+":"+m+" "+h}else o=s+"-"+i+"-"+r}return o},laodTotalAmount:function(){!0===this.selectAccountForQuoteRunFlag&&(this.selectQuoteForAccountRunFlag=!1,this.selectAccountObserver(),this.selectQuoteForAccountRunFlag=!0)}.observes("data.debitAccounts.@each.pay"),selectAccountObserver:function(){var e=this;e.accountCheckeChange(),e.creditBalanceGridRulesRules(),e.creditBalanceNoQuotesRules(),e.CheckRoleAndPermissions()},accountCheckeChange:function(){var e=this,t=e.get("data.debitAccounts"),o=0,a=0;Ember.isEmpty(t)||t.forEach(function(e){!0===e.get("pay")&&!1===e.get("showWithCreditAccounts")&&(o+=1),!1===e.get("showWithCreditAccounts")&&(a+=1)}),o===a?$("#selectAllAccountsCheckButton").prop("checked",!0):$("#selectAllAccountsCheckButton").prop("checked",!1),e.unselectQuoteForAccount(),e.showTotalBalance(),e.adhocDebitOrderButtonRules(),e.useCreditButtonRules(),e.useCashButtonRules(),e.useRejectQuotesButtonRules(),e.payButtonRules(),e.CheckRoleAndPermissions()},selectAccountForSelectedQuote:function(){this.selectAccountForQuoteRunFlag=!1,!0===this.selectQuoteForAccountRunFlag&&this.selectAccountForSelectedQuoteObserver(),this.selectAccountForQuoteRunFlag=!0}.observes("data.quotesM.@each.pay"),selectAccountForSelectedQuoteObserver:function(){var e=this,t=0,o=0,a=0,n=e.get("data.quotesM");Ember.isEmpty(n)||n.forEach(function(e){e.get("isNextInvoiceEstimate")?o+=1:a+=1,!0===e.get("pay")&&(t+=1)}),Ember.isEmpty(n)||(t===n.length?$("#selectAllQuotesCheckBox").prop("checked",!0):$("#selectAllQuotesCheckBox").prop("checked",!1)),e.selectAccountForQuote(),e.showTotalBalance(),e.useCreditButtonRules(),e.useCashButtonRules(),e.payButtonRules(),e.useRejectQuotesButtonRules(),e.adhocDebitOrderButtonRules(),e.creditBalanceGridRulesRules(),e.creditBalanceNoQuotesRules(),e.CheckRoleAndPermissions()},checkOrUncheckAccounts:function(){var e=this,t=e.get("data.debitAccounts");$("#selectAllAccountsCheckButton").is(":checked")?t.forEach(function(t){!1===t.get("pay")&&!1===t.get("showWithCreditAccounts")&&(t.set("pay",!0),e.showTotalBalance(),e.adhocDebitOrderButtonRules(),e.useCreditButtonRules(),e.useRejectQuotesButtonRules(),e.useCashButtonRules(),e.payButtonRules(),e.CheckRoleAndPermissions())}):t.forEach(function(t){!0===t.get("pay")&&!1===t.get("showWithCreditAccounts")&&(t.set("pay",!1),e.showTotalBalance(),e.adhocDebitOrderButtonRules(),e.useCreditButtonRules(),e.useRejectQuotesButtonRules(),e.useCashButtonRules(),e.payButtonRules(),e.CheckRoleAndPermissions())})},selectAllQuotesObserver:function(){var e=this,t=e.get("data.quotesM");$("#selectAllQuotesCheckBox").is(":checked")?t.forEach(function(t){!1===t.get("pay")&&(t.set("pay",!0),e.getAccountName(t.accountNumber).friendlytype!==Komodo.CanonicalValues.AccountBalance.HolidayHome&&e.getAccountName(t.accountNumber).friendlytype!==Komodo.CanonicalValues.AccountBalance.HolidayHomes||!e.get("data.checkHolidayHome2PointZero")||t.set("pay",!1),e.showTotalBalance(),!1===t.get("isNextInvoiceEstimate")&&(e.adhocDebitOrderButtonRules(),e.useCreditButtonRules(),e.useRejectQuotesButtonRules()),e.useCashButtonRules(),e.payButtonRules(),e.CheckRoleAndPermissions())}):t.forEach(function(t){!0===t.get("pay")&&(t.set("pay",!1),e.showTotalBalance(),!1===t.get("isNextInvoiceEstimate")&&(e.adhocDebitOrderButtonRules(),e.useCreditButtonRules(),e.useRejectQuotesButtonRules()),e.useCashButtonRules(),e.payButtonRules(),e.CheckRoleAndPermissions())})},selectAccountForQuote:function(){var e=this,t=e.get("data.quotesM");Ember.isEmpty(t)||t.forEach(function(t){if(!0===t.get("pay")){e.get("data.debitAccounts").forEach(function(e){!1===e.get("pay")&&e.get("accountNumber")===t.accountNumber&&e.set("pay",!0)})}})},unselectQuoteForAccount:function(){var e=this,t=e.get("data.debitAccounts"),o=e.get("data.quotesM");Ember.isEmpty(t)||t.forEach(function(e){!1!==e.get("pay")||Ember.isEmpty(o)||o.forEach(function(t){!0===t.get("pay")&&e.get("accountNumber")===t.accountNumber&&t.set("pay",!1)})})},showTotalBalance:function(){var e=this;if(e.set("data.accountsSubTotal",(0).toFixed(2)),e.set("data.amountToPay",(0).toFixed(2)),e.set("data.quotesSubTotal",(0).toFixed(2)),!Ember.isEmpty(e.get("data.debitAccounts")))for(var t=0;t<e.get("data.debitAccounts").length;t++){var o=e.get("data.debitAccounts")[t];o.pay&&!1===o.showWithCreditAccounts&&(e.set("data.amountToPay",(parseFloat(e.get("data.amountToPay"))+parseFloat(o.balance)).toFixed(2)),e.set("data.accountsSubTotal",(parseFloat(e.get("data.accountsSubTotal"))+parseFloat(o.balance)).toFixed(2)))}if(!Ember.isEmpty(e.get("data.quotesM")))for(var a=0;a<e.get("data.quotesM").length;a++){var n=e.get("data.quotesM")[a];!0===n.pay&&(e.set("data.amountToPay",(parseFloat(e.get("data.amountToPay"))+parseFloat(n.amount)).toFixed(2)),e.set("data.quotesSubTotal",(parseFloat(e.get("data.quotesSubTotal"))+parseFloat(n.amount)).toFixed(2)))}},payViaAdhoc:function(){var e=this,t=(e.get("data.debitAccounts"),e.get("data.quotesM"),this.amountPay());Komodo.Services.uiService.transitionTo("adhocDebitOrder"),Komodo.Services.eventAggregator.publish("PublishAdhocDebitOrder",t)},useCredit:function(){var e=this,t=Komodo.Controls.MessageBoxController.show(kl.value(e.localeAmountPayable+"amountToPay"),kl.value(e.localeAmountPayable+"confirmUseCredit"),Komodo.Controls.MessageBoxYesNoButtons,e),o=new Array;t.response=function(t){if("yes"===t&&(e.filteredQuotes=e.get("data.quotesM").sortBy("amount").reverse(),e.filteredQuotes.length>0)){for(var a=0;a<e.filteredQuotes.length;a++)!0===e.filteredQuotes[a].pay&&"-"!==e.filteredQuotes[a].id&&o.push({quoteId:e.filteredQuotes[a].id,financialAccountId:e.filteredQuotes[a].accountNumber});Komodo.Services.queryService.deleteJSON("/RedisCache/InvalidateCustomer?CustomerNumber="+Komodo.Services.customerProfileService.getCustomerPersonalDetail().customerNo),Komodo.Services.queryService.postJSON("/Quote/AcceptQuotes",{data:o}).done(function(t){Komodo.Controls.MessageBoxController.show(kl.value(e.localeAmountPayable+"amountToPay"),kl.value(e.localeAmountPayable+"useCreditSuccess"),Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","success").response=function(t){"ok"===t&&Komodo.Services.uiService.getController("sharedObject").retrieveCustomerSync(Komodo.Services.customerProfileService.personalDetails.customerNo).done(function(t){"3"==Komodo.Services.customerProfileService.personalDetails.customerClass?e.transitionToRoute("/specialistCustomerProfile"):(e.clearData(),e.innicializeVariables())})}}).error(function(t){var o=JSON.stringify(t);Komodo.log("AcceptQuotes ajax call failed. Error: "+o),Komodo.Controls.MessageBoxController.show(kl.value(e.localeAmountPayable+"amountToPay"),t.responseJSON.Message,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger")})}}},useCash:function(){var e=this,t=e.get("data.debitAccounts"),o=e.get("data.quotesM");t.forEach(function(e){!0===e.get("pay")&&!0===e.get("showWithCreditAccounts")&&o.forEach(function(t){t.accountNumber===e.accountNumber&&t.isNextInvoiceEstimate&&e.set("pay",!0)})});var a=e.amountPay();a.length>1?(Komodo.Services.navigationService.activateGroup(Komodo.NavigationGroupNames.OnlineTill),Komodo.Services.uiService.transitionTo("splitPayment"),Komodo.Services.eventAggregator.publish("PublishSplitPayment",a)):(Komodo.Services.navigationService.activateGroup(Komodo.NavigationGroupNames.OnlineTill),Komodo.Services.uiService.transitionTo("customerPayment"),Komodo.Services.eventAggregator.publish("PublishCustomerPayment",a))},amountPay:function(){for(var e=this,t=new Array,o=e.get("data.debitAccounts"),a=e.get("data.quotesM"),n=0;n<o.length;n++){for(var s=new Array,i=new Array,r=0,l=0;l<a.length;l++)if(o[n].type!==Komodo.CanonicalValues.AccountBalance.PaymentPlan&&a[l].accountNumber===o[n].accountNumber)if(a[l].pay){var d="";!0==!a[l].isNextInvoiceEstimate&&(d=a[l].id),s.push({quoteId:d,financialAccountId:a[l].accountNumber,isChecked:"true",payTotal:a[l].amount})}else i.push({quoteId:d,financialAccountId:a[l].accountNumber,isChecked:"false",payTotal:a[l].amount});for(var l=0;l<s.length;l++){var u=s[l];u.financialAccountId===o[n].accountNumber&&(r+=parseFloat(u.payTotal))}0!==r&&t.push({financialAccountId:o[n].accountNumber,totalAmountToPay:r,type:o[n].type,methodOfPayment:o[n].methodOfPayment,status:o[n].status,displaytext:o[n].displayText,chargeuntildate:o[n].chargeuntildate,currencyCode:o[n].currencyCode,isDefault:o[n].isDefault,overdue:!1===o[n].pay?"0":o[n].due,products:[],isChecked:o[n].pay})}for(var c=new Array,l=0;l<o.length;l++){var m;for(m=0;m<t.length;m++)if(o[l].accountNumber===t[m].financialAccountId){var h={financialAccountId:t[m].financialAccountId,totalAmountToPay:t[m].totalAmountToPay,type:t[m].type,methodOfPayment:t[m].methodOfPayment,status:t[m].status,displayText:t[m].displayText,chargeuntildate:t[m].chargeuntildate,currencyCode:t[m].currencyCode,isDefault:t[m].isDefault,overdue:t[m].overdue,products:[],isChecked:t[m].isChecked};c.push(h);break}if(m===t.length){var h={financialAccountId:o[l].accountNumber,totalAmountToPay:o[l].balance,type:o[l].type,methodOfPayment:o[l].methodOfPayment,status:o[l].status,displayText:o[l].accountNumber+": "+o[l].type,chargeuntildate:o[l].chargeuntildate,currencyCode:o[l].currencyCode,isDefault:o[l].isDefault,overdue:o[l].due,products:[],isChecked:o[l].pay};c.push(h),!0===h.isChecked&&(h.totalAmountToPay=parseFloat(0),t.push(h))}}for(var p=Komodo.Services.customerProfileService.personalDetails,g=[],l=0;l<t.length;l++){var f=Komodo.Models.OnlineTill.CustomerModel.create();f.set("customerNumber",p.customerNo),f.set("title",p.title),f.set("customerFirstname",p.firstName),f.set("customerSurname",p.lastName);var y="";y=void 0===p.title||null===p.title?"":p.title,y+=void 0===p.firstName||null===p.firstName?"":" "+p.firstName,y+=void 0===p.lastName||null===p.lastName?"":" "+p.lastName,f.set("customerName",y),f.set("customerClass",p.customerClassText),f.set("customerType",p.customerTypeText),f.set("telNo",p.telNo),f.set("mobileNo",p.mobileNo),f.set("locationIndicator",p.locationIndicator),f.set("email",p.email),f.set("isActiveCustomer",p.isActiveCustomer),f.set("isDstv",p.isDstv),f.set("isGotv",p.isGotv),f.set("businessUnit",void 0!==p.viewPlatform?p.viewPlatform.toUpperCase():""),f.set("customerStatus",p.customerStatus);for(var b=[],m=0;m<c.length;m++){var v=Komodo.Models.OnlineTill.AccountModel.create();v.set("accountNumber",c[m].financialAccountId),v.set("balance",parseFloat(c[m].totalAmountToPay)),v.set("type",c[m].type),v.set("methodOfPayment",c[m].methodOfPayment),v.set("status",c[m].status),v.set("displayText",c[m].financialAccountId+": "+c[m].type),v.set("chargeuntildate",c[m].chargeuntildate),v.set("overdue",parseFloat(c[m].overdue)),v.set("currencyCode",c[m].currencyCode),v.set("isDefault",c[m].isDefault),v.set("products",c[m].products),v.set("selected",c[m].isChecked),c[m].financialAccountId===t[l].financialAccountId?v.set("selected",!0):v.set("selected",!1);for(var C=[],I=0;I<a.length;I++)if(a[I].accountNumber===c[m].financialAccountId){var T=Komodo.Models.OnlineTill.SRQModel.create();T.set("quoteId",a[I].id.toString()),T.set("createdByUser","37"),T.set("financialAccountId",a[I].accountNumber.toString()),T.set("fulfillmentDate",new Date("01/01/0001").format(KomodoConfiguration.dateFormat)),T.set("quoteDateTime",a[I].quoteDate),T.set("replacedByQuoteId","0"),T.set("totalAmount",void 0==a[I].amount?0:parseFloat(a[I].amount)),T.set("isSelected",a[I].pay),T.set("previousIsSelectedState",a[I].pay),T.set("srqStatus","No");var D=[];if(!Ember.empty(a[I].lineItems))for(var S=0;S<a[I].lineItems.length;S++){var N=Komodo.Models.OnlineTill.SRQLineItemModel.create();0===S?N.set("isFirst",!0):N.set("isFirst",!1),N.set("quoteLineItemId",a[I].lineItems[S].lineItemId),N.set("adjustmentAmount",void 0===a[I].lineItems[S].AdjustmentAmount?0:a[I].lineItems[S].AdjustmentAmount),N.set("amount",void 0===a[I].lineItems[S].amount?0:parseFloat(a[I].lineItems[S].amount)),N.set("baseAmount",void 0===a[I].lineItems[S].amount?0:parseFloat(a[I].lineItems[S].amount)),N.set("startDate",a[I].lineItems[S].startDate),N.set("endDate",a[I].lineItems[S].endDate),N.set("period",e.getFormattedDateTime(a[I].lineItems[S].startDate)+" to "+e.getFormattedDateTime(a[I].lineItems[S].endDate)),N.set("invoiceText",a[I].lineItems[S].invoiceText),N.set("taxAmount",void 0===a[I].lineItems[S].TaxAmount?0:parseFloat(a[I].lineItems[S].TaxAmount)),D.push(N)}T.set("quoteLineItems",D),C.push(T)}v.set("quotes",C),b.push(v)}f.set("accounts",b);var M=e.get("data.quotesM"),a=e.getAllQuotes(M);f.set("quotes",a),a&&a.length&&a.length>0&&f.set("disableQuoteDetails",!1),e.get("showNestInvoiceEstimate")&&f.set("disableQuoteDetails",!0);for(var A=[],I=0;I<a.length;I++)if(a[I].financialAccountId===t[l].financialAccountId){var T=Komodo.Models.OnlineTill.SRQModel.create();T.set("quoteId",a[I].quoteId.toString()),T.set("createdByUser","37"),T.set("financialAccountId",a[I].financialAccountId.toString()),T.set("fulfillmentDate",a[I].fulfillmentDate),T.set("quoteDateTime",a[I].quoteDateTime),T.set("replacedByQuoteId","0"),T.set("totalAmount",void 0===a[I].totalAmount?0:parseFloat(a[I].totalAmount)),T.set("isSelected",a[I].isSelected),T.set("previousIsSelectedState",a[I].isSelected),T.set("srqStatus","No");var x=[];if(!Ember.empty(a[I].quoteLineItems))for(var S=0;S<a[I].quoteLineItems.length;S++){var N=Komodo.Models.OnlineTill.SRQLineItemModel.create();0===S?N.set("isFirst",!0):N.set("isFirst",!1),N.set("quoteLineItemId",a[I].quoteLineItems[S].lineItemId),N.set("adjustmentAmount",void 0===a[I].quoteLineItems[S].AdjustmentAmount?0:a[I].quoteLineItems[S].AdjustmentAmount),N.set("amount",void 0===a[I].quoteLineItems[S].amount?0:parseFloat(a[I].quoteLineItems[S].amount)),N.set("baseAmount",void 0===a[I].quoteLineItems[S].baseAmount?0:parseFloat(a[I].quoteLineItems[S].baseAmount)),N.set("startDate",a[I].quoteLineItems[S].startDate),N.set("endDate",a[I].quoteLineItems[S].endDate),N.set("period",a[I].quoteLineItems[S].period),N.set("invoiceText",a[I].quoteLineItems[S].invoiceText),N.set("taxAmount",void 0===a[I].quoteLineItems[S].taxAmount?0:a[I].quoteLineItems[S].taxAmount),x.push(N)}T.set("quoteLineItems",x),A.push(T)}f.set("quote",A);var B=Komodo.Models.OnlineTill.AccountModel.create();B.set("accountNumber",t[l].financialAccountId),B.set("balance",parseFloat(t[l].totalAmountToPay)),B.set("type",t[l].type),B.set("methodOfPayment",t[l].methodOfPayment),B.set("status",t[l].status),B.set("displayText",t[l].financialAccountId+": "+t[l].type),B.set("chargeuntildate",t[l].chargeuntildate),B.set("currencyCode",t[l].currencyCode),B.set("isDefault",t[l].isDefault),f.set("account",B),f.set("payAmount",parseFloat(t[l].totalAmountToPay)+parseFloat(t[l].overdue)),g.push(f)}return g},getAllQuotes:function(e){for(var t=[],o=0;o<e.length;o++){var a=Komodo.Models.OnlineTill.SRQModel.create();a.set("quoteId",e[o].id.toString()),a.set("createdByUser","37"),a.set("financialAccountId",e[o].accountNumber.toString()),a.set("fulfillmentDate",e[o].due),a.set("quoteDateTime",e[o].quoteDate),a.set("replacedByQuoteId",""),a.set("totalAmount",parseFloat(e[o].amount)),a.set("isSelected",e[o].pay),a.set("previousIsSelectedState",e[o].pay),a.set("srqStatus","No");var n=[];if(!Ember.empty(e[o].lineItems))for(var s=0;s<e[o].lineItems.length;s++){var i=Komodo.Models.OnlineTill.SRQLineItemModel.create();0===s?i.set("isFirst",!0):i.set("isFirst",!1),i.set("quoteLineItemId",e[o].lineItems[s].lineItemId),i.set("adjustmentAmount",0),i.set("amount",parseFloat(e[o].lineItems[s].amount)),i.set("baseAmount",parseFloat(e[o].lineItems[s].amount)),i.set("startDate",e[o].lineItems[s].startDate),i.set("endDate",e[o].lineItems[s].endDate),i.set("period",e[o].lineItems[s].startDate+" to "+e[o].lineItems[s].endDate),i.set("invoiceText",e[o].lineItems[s].invoiceText),i.set("taxAmount",0),n.push(i)}a.set("quoteLineItems",n),t.push(a)}return t},CheckRoleAndPermissions:function(){var e=this;Komodo.Services.securityService.hasPermission("clarity://amountToPay/viewOnly")&&($("#useCreditRadioButton").attr("checked",!1),$("#useCreditRadioButton").attr("disabled",!0),$("#adhocDebitOrderRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("disabled",!0),$("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!0),e.set("data.payButtonDisabled",!0),e.set("data.rejectQuoteButtonDisabled",!0)),e.get("data.amountToPay")>0&&Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCashOnly")&&($("#useCreditRadioButton").attr("checked",!1),$("#useCreditRadioButton").attr("disabled",!0),$("#adhocDebitOrderRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("disabled",!0),$("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!1)),Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCreditOnly")&&(e.get("canUseCredit")?$("#useCreditRadioButton").attr("disabled",!1):$("#useCreditRadioButton").attr("disabled",!0),$("#useCreditRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("disabled",!0),$("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!0)),e.get("data.amountToPay")>0&&Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseAdhocDebitOrderOnly")&&($("#useCreditRadioButton").attr("checked",!1),$("#useCreditRadioButton").attr("disabled",!0),$("#adhocDebitOrderRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("disabled",!1),$("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!0)),Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCreditAndUseAdhocDebitOrderOnly")&&(e.get("canUseCredit")?$("#useCreditRadioButton").attr("disabled",!1):$("#useCreditRadioButton").attr("disabled",!0),$("#useCreditRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("checked",!1),e.get("data.amountToPay")>0?$("#adhocDebitOrderRadioButton").attr("disabled",!1):$("#adhocDebitOrderRadioButton").attr("disabled",!0),e.get("data.amountToPay")>0&&Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCashOnly")?($("#useCashRadioButton").attr("checked",!1),
$("#useCashRadioButton").attr("disabled",!1)):($("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!0))),Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCreditAndCashOnly")&&(e.get("canUseCredit")?$("#useCreditRadioButton").attr("disabled",!1):$("#useCreditRadioButton").attr("disabled",!0),$("#useCreditRadioButton").attr("checked",!1),e.get("data.amountToPay")>0?($("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!1)):($("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!0)));var t=0,o=e.get("data.debitAccounts");Ember.isEmpty(o)||o.forEach(function(e){e.pay&&(t+=1)});var a=0,n=e.get("data.quotesM");Ember.isEmpty(n)||n.forEach(function(e){!0===e.pay&&(a+=1)}),0==t&&0==a&&($("#useCreditRadioButton").attr("checked",!1),$("#useCreditRadioButton").attr("disabled",!0),$("#adhocDebitOrderRadioButton").attr("checked",!1),$("#adhocDebitOrderRadioButton").attr("disabled",!0),$("#useCashRadioButton").attr("checked",!1),$("#useCashRadioButton").attr("disabled",!0),e.set("data.payButtonDisabled",!0),e.set("data.rejectQuoteButtonDisabled",!0))},publishCreateInteraction:function(e,t,o,a){var n=Komodo.Models.CreateInteraction.create(),s=Komodo.Models.Case.create(),i=Komodo.Services.customerProfileService.getCustomerPersonalDetail(),r=Komodo.Services.customerProfileService;s.set("InteracteeName",Komodo.Services.securityService.session.domainUserName),s.set("InteractionLocation",Komodo.Services.customerProfileService.get("selectedCountry").countryDescription),s.set("InteractionMedium","1"),s.set("CustomerUID",i.customerNo),s.set("Category",e),s.set("SubCategory",t),s.set("Outcome",o),s.set("Status","1"),s.set("Notes",a);var l=Komodo.canonicalFacadeFactory(n,["Country","Case"]);l.set("Country",this.getQueryService().getSelectedCountryId()),l.set("Case",s),r.publishEvent(this,n,"CreateInteraction","v1").done(function(){Komodo.log("publish CreateInteraction Event : done")}).fail(function(e){Komodo.log("publish CreateInteraction Event: failed. Error: "+e)})},messageCreateInteractionFault:function(e){Ember.isBlank(e)||Ember.isBlank(e.messageId)||Komodo.UI.error("[CustomerProfileContainerController.messageCreateInteractionFault] : messageId = "+e.messageId)},messageCreateInteractionDeliveryFailure:function(e){Ember.isBlank(e)||Ember.isBlank(e.messageId)||Komodo.UI.warn("[CustomerProfileContainerController.messageCreateInteractionDeliveryFailure] : messageId = "+e.messageId)},messageFailureMessageEventReceived:function(e){Ember.isBlank(e)||Ember.isBlank(e.ResponseMessage)||Ember.isBlank(e.ResponseMessage.Payload)||Ember.isBlank(e.ResponseMessage.Payload.ListOfErrorDetails)||Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButtons,this,"CreateInteraction","danger")},accountSubTotal:0,totalAmountToPay:0,quotesSubTotal:0,totalChecked:!1,showTotal:!1,showQuoteTotal:!1,_balance:[],_lines:[],quotes:[],showCredit:!1,amountBalance:[],showDueSoon:!1,checkSubTotalCheckeBox:!1,accountTypes:[],back:""}),Komodo.Application.CustomerDocumentsView=Komodo.UI.View.extend({viewKey:"CustomerDocumentsView",didInsertElement:function(){this._super();var e=this.get("context"),t=e.get("data.customerID"),o=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:this.get("context._isModal")?"modal-pickfiles":"pickfiles",url:KomodoConfiguration.ibsApiUrl+this.get("context.loggedInCountryName")+"/uploaddownload/upload?customerNumber="+t+"&documentType=",headers:{"komodo-sessiontoken":Komodo.Services.securityService.get("sessionToken")},filters:{max_file_size:"10mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png,jpeg,JPG,GIF,PNG,JPEG"},{title:"Adobe And Document Files",extensions:"pdf,doc,xls,docx,xlsx"}]},init:{PostInit:function(){$("#filelist > tbody").html(""),$(e.get("_isModal")?"#modal-uploadfiles":"#uploadfiles").click(function(){return $(o.files).each(function(e,t){2!==t.status&&4!==t.status||(t.status=1)}),o.uploadCanceled=!1,o.start(),!1})},FilesAdded:function(e,t){var o=this.customerDocumentController,a=this.customerDocumentController.get("data");plupload.each(t,function(t){var n=!1;if($(a.customerDocuments).each(function(e,o){o.get("documentName")===t.name&&(n=!0)}),n)e.removeFile(t);else{var s=Komodo.Models.CreateCustomerNamespace.CustomerDocumentModel.create();s.set("documentName",t.name),s.set("documentSize",plupload.formatSize(t.size)),s.set("uploadPercentage",""),s.set("documentTypes",a.get("documentTypes")),s.set("documentType",void 0),s.set("documentSerialNumbers",o.get("documentSerialNumbers")),s.set("documentSerialNumber",void 0),s.set("uploadStatus","QUEUED"),a.get("customerDocuments").pushObject(s)}})},UploadProgress:function(e,t){!1===e.uploadCanceled&&e.changeFileStatus(this.customerDocumentController.get("data"),t)},FileUploaded:function(e,t,o){var a=JSON.parse(o.response)[0];e.changeFileStatus(this.customerDocumentController.get("data"),t,a)},Error:function(e,t){Komodo.Controls.MessageBoxController.show(kl.value(this.customerDocumentController._localeBase+"customer.uploadTitle"),kl.value(this.customerDocumentController._localeBase+"customer.fileUploadError")+" "+t.code+" : "+t.message+(void 0===t.response||null===t.response?"":t.response),Komodo.Controls.MessageBoxOkButtons,this,"modelCustomerDocuments","danger"),e.uploadCanceled=!0,e.changeFileStatus(this.customerDocumentController.get("data"),t.file)},BeforeUpload:function(o,a){if(!1===o.uploadCanceled){var n=this.customerDocumentController;o.settings.url=KomodoConfiguration.ibsApiUrl+n.get("loggedInCountryName")+"/uploaddownload/upload?customerNumber="+t+"&documentType=";var s=this.customerDocumentController.get("data");$(s.customerDocuments).each(function(t,s){if(s.get("documentName")===a.name){var i=s.get("documentType");if(void 0!==i&&null!==i&&""!==i||(Komodo.Controls.MessageBoxController.show(kl.value(n._localeBase+"customer.uploadTitle"),"Please specify the document type",Komodo.Controls.MessageBoxOkButtons,this,"modelCustomerDocuments","danger"),o.stop(),o.uploadCanceled=!0),0==o.uploadCanceled&&"change of ownership letter"==i.toLowerCase()){var r=s.get("documentSerialNumber");1!=e.get("_isResidential")||void 0!=r&&null!=r&&""!=r&&"---"!=r||(Komodo.Controls.MessageBoxController.show(kl.value(n._localeBase+"customer.uploadTitle"),"Please specify the document serial number",Komodo.Controls.MessageBoxOkButtons,this,"modelCustomerDocuments","danger"),o.stop(),o.uploadCanceled=!0)}}}),!1===o.uploadCanceled&&$(s.customerDocuments).each(function(t,n){if(n.get("documentName")===a.name){var s="";"change of ownership letter"==n.get("documentType").toLowerCase()&&"---"!=n.get("documentSerialNumber")&&(s+="&serialNumber="+n.get("documentSerialNumber")),s+="&residential="+e.get("_isResidential"),o.settings.url=o.settings.url+n.get("documentType")+s}})}else o.stop()},UploadComplete:function(e,o){e.uploadCanceled=!1;var a=Komodo.Models.SaveDocument.create(),n=Komodo.canonicalFacadeFactory(a,["ListOfDocument"]),s=[];$(this.customerDocumentController.get("data.customerDocuments")).each(function(e,o){var a=Komodo.Models.Document.create();a.set("FileType",o.get("documentType")),a.set("DocumentURL",o.get("documentUrl"));var n=[],i=Komodo.Models.DocumentMetaData.create();i.set("DocumentMetaDataValueUri","CustomerId"),i.set("Value",t),n.pushObject(i);var r=Komodo.Models.DocumentMetaData.create();r.set("DocumentMetaDataValueUri","DocumentType"),r.set("Value",o.get("documentType")),n.pushObject(r);var l=Komodo.Models.DocumentMetaData.create();l.set("DocumentMetaDataValueUri","DocumentSerial"),l.set("Value",t),n.pushObject(l),a.set("ListOfDocumentMetaData",n),s.pushObject(a)}),a.set("Country",this.customerDocumentController.get("country")),n.set("ListOfDocument",s),Komodo.Services.CustomerService.publishCustomerEvent(this.customerDocumentController,a,"SaveCustomerDocumentEvent","v2",!1)}}});o.customerDocumentController=this.get("context"),this.get("context.data").set("fileUploader",o),o.uploadCanceled=!1,o.changeFileStatus=this.fileUploadStatus,o.init()},messageFailureMessageEventReceived:function(e){var t=this.get("context"),o="",a="";void 0!==e.ResponseMessage.Payload&&void 0!==e.ResponseMessage.Payload.ListOfErrorDetails&&$(e.ResponseMessage.Payload.ListOfErrorDetails).each(function(e,t){o+=t.ErrorDescription,a=t.ErrorCode}),""!==o&&"null"!==o&&void 0!==o||(o=kl.value(t._localeBase+"shift.technicalError")),Komodo.Controls.MessageBoxController.show(kl.value(t._localeBase+"home.title"),o,Komodo.Controls.MessageBoxOkButtons,t,"modelPayment","danger")},fileUploadStatus:function(e,t,o){$(e.customerDocuments).each(function(e,a){a.get("documentName")===t.name&&(a.set("uploadPercentage",t.percent+" %"),2===t.status?a.set("uploadStatus","UPLOADING"):4===t.status?(a.set("uploadStatus","FAILED"),a.set("uploadPercentage","0 %")):5===t.status&&(a.set("uploadStatus","DONE"),a.set("documentUrl",o)))})}}),Komodo.Application.CustomerDocumentsController=Komodo.UI.Controller.extend({_isModal:!1,_isResidential:!0,_localeBase:"locale.commercialcustomer:",_hardwareGrid:[],_serialNumberField:null,_typeField:null,_commercialCustomerPermission:"clarity://commercialCustomer/customerDocuments",_isCustomerLoaded:!0,init:function(){Komodo.log("Constructing Customer Documents controller"),this.set("processVersion","v1.1"),this.set("processName","Create Customer Documents process"),this.registerModel("data",Komodo.Models.CreateCustomerNamespace.CustomerDocumentModel),this.set("loggedInCountryName",""),this.requiresDependency("_stockService",{singleton:Komodo.Services.stockService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.getLoggedIncountry(),this._super()},start:function(){var e=this,t=e.get("data");t.set("customerDocuments",[]),t.set("isCustomerLoaded",e.get("_isCustomerLoaded")),e.getCacheData(),e.get("_isCustomerLoaded")?e.checkForLoadedCustomer(t):e.loadSetHardware(),this._super()},stop:function(){this._super()},getCacheData:function(){var e=this,t=$.Deferred(),o=e.get("data"),a=e.get("country"),n=(e.get("loggedInCountryName"),Komodo.Services.localizationService.getCurrentLanguage());Komodo.Services.cachedDataService.fetch("DocumentType",{domain:a,qualifier:n}).done(function(e){o.set("documentTypes",[]),o.set("documentTypes",e),t.resolve(e)}).fail(function(){Komodo.log("[ERROR] : could not retrieve DocumentType domain = "+a+"/ qualifier = "+n)})},retrieveHardware:function(){try{var e=this;e.set("documentSerialNumbers",[]),e.get("documentSerialNumbers").push({key:"---",value:"---"}),this.getStockService().retrieveHardware(this,e.get("processId"),e.data.get("countryISO"),e.data.get("customerID"),null,!0,function(t){var o=$.makeArray(t.Payload.ListOfHardware);o.length>0&&o.forEach(function(t){null!=t&&null!=t.ProductDetail&&"smartcard"!=t.ProductDetail.Type.toLowerCase()&&e.get("documentSerialNumbers").push({key:t.SerialNumber,value:t.SerialNumber})})})}catch(e){Komodo.Controls.MessageBoxController.show("Error","Error: "+e,Komodo.Controls.MessageBoxOkButtons,this,"retrieveHardwareError","danger")}},loadSetHardware:function(){try{var e=this;e.set("documentSerialNumbers",[]),e.get("documentSerialNumbers").push({key:"---",value:"---"}),null!=e.get("_hardwareGrid")&&e.get("_hardwareGrid").length>0&&e.get("_hardwareGrid").forEach(function(t){null!=t&&"smartcard"!=t[e.get("_typeField")].toLowerCase()&&e.get("documentSerialNumbers").push({key:t[e.get("_serialNumberField")],value:t[e.get("_serialNumberField")]})})}catch(e){Komodo.Controls.MessageBoxController.show("Error","Error: "+e,Komodo.Controls.MessageBoxOkButtons,this,"retrieveHardwareError","danger")}},getStockService:function(){return this.get("_stockService")},getUiService:function(){return this.get("_uiService")},modal:function(){return this.get("_isModal")},setModal:function(){return this.set("_isModal",!0)},overrideToResidential:function(){return this.set("_isResidential",!0)},setHardware:function(e,t,o){this.set("_serialNumberField",e),this.set("_typeField",t),this.set("_hardwareGrid",o)},showBanner:function(){return Komodo.Services.customerProfileService.isBannerOpen}.property("isCreate","Komodo.Services.customerProfileService.isBannerOpen"),removeDocument:function(e){var t=e._parentView._childViews[0].text,o=this.get("data"),a=-1,n="";$(o.customerDocuments).each(function(e,o){o.documentName===t&&(a=e,n=o.documentName)}),a>-1&&(o.customerDocuments.removeAt(a),o.fileUploader.files.removeAt(a))},getLoggedIncountry:function(){var e=this,t=this.getUiService().getController("application").get("_selectedCountryId"),o=this.getUiService().getController("application").get("_selectedCountryDescription");e.set("country",t),e.set("loggedInCountryName",o)},checkForLoadedCustomer:function(e){var t=this,o=Komodo.Services.ProductAndServiceMaintenanceHelper.create();if(!o.isCustomerIdIsAvailableToRetriveData())return Komodo.Controls.MessageBoxController.show("Customer not loaded","A customer is required to perform this operation.",Komodo.Controls.MessageBoxOkButtons,t,"id5446673","danger"),void t.transitionToRoute("/manageViewing");var a=Komodo.Services.customerProfileService.getCustomerPersonalDetail();if((a&&"commercial"===a.customerClass.toLowerCase()||"1"===a.customerClass||"national deal"===a.customerClass.toLowerCase()||"9"===a.customerClass||"csi"===a.customerClass.toLowerCase()||"4"===a.customerClass)&&!Komodo.Services.securityService.hasPermission(t._commercialCustomerPermission))return Komodo.Controls.MessageBoxController.show(kl.value(t._localeBase+"customerprofile.customerNotFoundTitle"),kl.value(t._localeBase+"customerprofile.customerDocumentsAccess"),Komodo.Controls.MessageOKButtons,t,"id5446673","warning"),void("csi"===a.customerClass.toLowerCase()||"4"===a.customerClass?t.transitionToRoute("/csiManageViewing"):t.transitionToRoute("/commercialManageViewing"));t.getStockService().loadSingleDevice()?t.set("_isResidential",!1):t.set("_isResidential",!0),t.data.set("customerID",o.getCustomerIdToRetrieveData()),null!=t.get("_isModal")&&0!=t.get("_isModal")||1!=t.get("_isResidential")?t.loadSetHardware():(t.set("_isModal",!1),t.getStockService().setCountryISO(e,"countryISO",function(){t.retrieveHardware()}))},actions:{removeDocument:function(e){this.removeDocument(e)}}}),Komodo.Application.NewAmountToPayController=Komodo.UI.Controller.extend({localeCustomerNewAmountToPay:"locale.customer:newAmountToPay.",localeAmountPayable:"locale.customerprofile.customerprofile:amountPayable.",init:function(){this._super()},start:function(){var e=this;e.registerModel("amountToPayData",Komodo.Models.NewAmountToPayModel),e.initializeVariables(),e._super()},stop:function(){this.clearData(),this._super()},initializeVariables:function(){var e=this;e.set("payLoad",[]),e.set("residentialAccount",[]),e.set("paymentPlanAccounts",[]),e.set("isCredit",!1),e.set("isBalanceZero",!1),e.set("isHHAccountBalanceZero",!1),e.set("isBOAccountBalanceZero",!1),e.set("isBoCredit",!1),e.set("isHHCredit",!1),e.set("isBoCreditZero",!1),e.set("isHHCreditZero",!1),e.set("back",kl.value("locale.customer:newAmountToPay.back")),e.set("totalAmountToPay",void 0),e.set("residentialAccounts",[]),e.set("paymentPlanAccountName",GetClarityConstants("ManageCustomerConstants","PAYMENT_PLAN_ACCOUNT").toString()),e.set("priceLockInstallment",GetClarityConstants("ManageCustomerConstants","priceLockInstallment").toString()),e.set("residentialAccountName",GetClarityConstants("ManageCustomerConstants","RESIDENTIAL_ACCOUNT").toString()),e.set("gotvResAccountName",GetClarityConstants("ManageCustomerConstants","GOTV_RESIDENTIAL_ACCOUNT").toString()),e.set("dstvCommAccountName",GetClarityConstants("ManageCustomerConstants","DSTV_COMM_ACCOUNT").toString()),e.set("holidayHomeAccountName",GetClarityConstants("ManageCustomerConstants","HOLIDAYHOME_ACCOUNT").toString()),e.set("boxOfficeAccountName",GetClarityConstants("ManageCustomerConstants","BOX_OFFICE").toString()),e.set("debitOrderTypeforMOP",GetClarityConstants("ManageAccountConstants","debitOrderCustomer").toString()),e.set("boxofficeLineItemsCount",GetClarityConstants("ManageAccountConstants","BoxOfficeLineItemCount").toString()),e.set("accessInvoiceText",GetClarityConstants("ManageCustomerConstants","INVOICETEXT_ACCESS").toString()),e.set("statusPending",GetClarityConstants("ManageCustomerConstants","STATUS_PENDING").toString()),e.set("statusOpen",GetClarityConstants("ManageCustomerConstants","OPEN_ACCOUNT").toString()),e.set("statusOverdue",GetClarityConstants("ManageCustomerConstants","OVERDUE_ACCOUNT").toString()),e.set("accountLink",GetClarityConstants("ManageCustomerConstants","ACCOUNT_LINK").toString()),e.set("holidayHomesAccountName",GetClarityConstants("ManageCustomerConstants","HOLIDAYHOMES").toString()),e.set("currencyCode",GetClarityConstants("ManageCustomerConstants","currencyCode").toString()),e.set("boxofficesuccessfulrental",GetClarityConstants("ManageCustomerConstants","BOXOFFICE_SUCCESSFUL_RENTAL").toString()),e.set("boxofficefreecreditrental",GetClarityConstants("ManageCustomerConstants","BOXOFFICE_FREECREDIT_RENTAL").toString()),e.set("boxofficesuccessfulrerental",GetClarityConstants("ManageCustomerConstants","BOXOFFICE_SUCCESSFUL_RERENTAL").toString()),e.set("productServicesArray",GetClarityConstants("ManageCustomerConstants","productServicesJson").toString()),e.set("boxOfficeTotal",void 0),e.set("holidayHomeTotal",void 0),e.set("subscriptionTotal",void 0),e.set("isBoxOfficeDebit",!1),e.set("isHolidayHomesDebit",!1),e.set("isSubscriptionAvailable",!1),e.set("isHolidayHomeAvailable",!1),e.set("isBoxOfficeAvailable",!1),e.set("dueDate",void 0),e.set("methodOfPayment",void 0),e.set("pendingQuotesforUseCredit",[]),e.set("canUseCredit",!1),e.set("accountTypeValuesAndCanonical",[]),e.set("accountTypes",[]),e.getLookUpAccountTypes(),e.set("accounts",[]),e.set("HHAccounts",[]),e.set("BOAccounts",[]),e.getDueDateandAmount(),e.set("amountToPayData.boxOfficeLineItems",[]),e.set("amountToPayData.paymentPlanLineItems",[]),e.set("paymentPlanDetails",[]),e.set("deviceInfo",[]),e.set("productInstallmentPlans",[]),e.set("amountToPayData.methodOfPayments",GetClarityConstants("ManageAccountConstants","paymentAccountType")),e.set("debitOrder",GetClarityConstants("ManageAccountConstants","debitOrder").toString())},getNewProcessID:function(){this.startNewProcess()},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,2e4,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},getUrlWithoutCountry:function(e){return e.link.substring(e.link.indexOf("/")+1)},getBOAccountsWithStatus:function(){var e=this;e.get("accounts").forEach(function(t){t.accountStatus.toLowerCase().trim()!==e.get("statusOpen").toLowerCase().trim()&&t.accountStatus.toLowerCase().trim()!==e.get("statusOverdue").toLowerCase().trim()||t.accountType.toLowerCase().trim()!==e.get("boxOfficeAccountName").toLowerCase().trim()||e.get("BOAccounts").push(t)})},getHHAccountsWithStatus:function(){var e=this;e.get("accounts").forEach(function(t){t.accountStatus.toLowerCase().trim()!==e.get("statusOpen").toLowerCase().trim()&&t.accountStatus.toLowerCase().trim()!==e.get("statusOverdue").toLowerCase().trim()||t.accountType.toLowerCase().trim()!==e.get("holidayHomesAccountName").toLowerCase().trim()&&t.accountType.toLowerCase().trim()!==e.get("holidayHomeAccountName").toLowerCase().trim()||e.get("HHAccounts").push(t)})},isBoxOfficeActive:function(e){var t=this;t.set("isBOActive",!1),t.get("BOAccounts").forEach(function(o){(o.accountNumber===String(e)&&o.accountStatus.toLowerCase().trim()===t.get("statusOpen").toLowerCase().trim()||o.accountStatus.toLowerCase().trim()===t.get("statusOverdue").toLowerCase().trim())&&t.set("isBOActive",!0)})},isHolidayHomeActive:function(e){var t=this;t.set("isHHActive",!1),t.get("HHAccounts").forEach(function(o){(o.accountNumber===String(e)&&o.accountStatus.toLowerCase().trim()===t.get("statusOpen").toLowerCase().trim()||o.accountStatus.toLowerCase().trim()===t.get("statusOverdue").toLowerCase().trim())&&t.set("isHHActive",!0)})},getDueDateandAmount:function(){var e=this;e.getNewProcessID();var t=Komodo.Services.customerProfileService.getCustomerPersonalDetail();e.showBusyIndicator(),Komodo.Services.queryService.getJSONFromApiRoot("get-due-date-and-amount?customerNumber="+t.customerNo,!0,{async:!1}).done(function(o){if(Ember.isEmpty(o.accounts)){Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerNewAmountToPay+"errorTitle"),kl.value(e.localeCustomerNewAmountToPay+"errorMessageforaccounts"),Komodo.Controls.MessageBoxOkButtons,e,"delItem1","warning").response=function(e){"ok"===e&&Komodo.Services.uiService.transitionTo("customerInformation")}}else{e.getAccounts(o),e.hideBusyIndicator(),e.setTotalAmountAndDueDate(o),e.getSubscriptionAccountDetails(o.accounts),e.getProductInstallmentPlans(),e.getCustomerDeviceDetails(t.customerNo);var a=o.accounts.filter(function(t){return t.accountType===e.get("paymentPlanAccountName")});e.getPaymentPlanAccountsLineItems(a),e.getSubscriptionsLineItems(),e.getTotalAmountForAllAccounts(),e.checkRoleAndPermissions(),e.checkRoleAndPermissionsForMultipleMops(),e.toggleFeature()}}).error(function(t){Ember.isEmpty(t.responseJSON)?Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerNewAmountToPay+"problemCallingGetDueDateandAmountTittle"),kl.value(e.localeCustomerNewAmountToPay+"problemCallingGetDueDateandAmount")+t.statusText,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger"):(Komodo.log("Get Due Date and Amount API Call fail : "+t.responseJSON.detail),Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerNewAmountToPay+"problemCallingGetDueDateandAmountTittle"),"httpStatus : "+t.responseJSON.httpStatus+" "+t.responseJSON.detail,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger"))})},getAccountURL:function(e){var t=this,o="";return e.links.forEach(function(e){Ember.isEmpty(e.rel)||e.rel[1]!==t.get("accountLink")||(o=t.getUrlWithoutCountry(e))}),o},toggleFeature:function(){var e=this;Komodo.Services.featureToggleService.isEnabled("AmountToPay","AllowPayViaAdhocDebitOrder").done(function(t){e.set("amountToPayData.showPayViaAdhocButton",t),t||$("#adhocDebitOrderRadioButton").hide()}).fail(function(e){Komodo.log("Error while checking feature toggle. Error Details:"+e)})},setTotalAmountAndDueDate:function(e){var t=this;t.set("totalAmountToPay",parseFloat(e.totalAmountToPay.value).toFixed(2)),Ember.isEmpty(t.get("currencyCode"))?t.set("amountToPayData.currency",e.totalAmountToPay.currencyCode):(e.totalAmountToPay.currencyCode=t.get("currencyCode"),t.set("amountToPayData.currency",e.totalAmountToPay.currencyCode)),t.set("dueDate",e.duedate)},getSubscriptionAccountDetails:function(e){var t=this;t.set("isSubscriptionAvailable",!1),e.length>0&&(t.set("amountToPayData.subscriptionAccounts",$.grep(e,function(e){return e.isdefault&&t.set("methodOfPayment",e.methodOfPayment),e.accountType===t.get("paymentPlanAccountName")||e.accountType===t.get("residentialAccountName")||e.accountType===t.get("gotvResAccountName")||e.accountType===t.get("dstvCommAccountName")})),t.set("residentialAccounts",$.grep(t.get("amountToPayData.subscriptionAccounts"),function(e){return e.accountType!==t.get("paymentPlanAccountName")}))),t.get("amountToPayData.subscriptionAccounts").length>0?t.set("isSubscriptionAvailable",!0):0===t.get("amountToPayData.subscriptionAccounts").length&&t.set("isSubscriptionAvailable",!1),t.formatAmountToPay(),t.getFormattedDueDate(),t.getBalanceBroughtForwardedAmount(t.get("amountToPayData.subscriptionAccounts"))},formatAmountToPay:function(){var e=this,t=void 0;if(e.set("amountToPayData.formattedAmountToPay",""),e.get("residentialAccounts").length>0){t=e.get("methodOfPayment");var o=e.get("debitOrder");o.length>0&&t.includes(o)&&e.set("methodOfPayment",o),t=Ember.isEmpty(t)?"":" // "+e.get("methodOfPayment")}e.set("amountToPayData.methodOfPayment",t);var a=(Ember.isEmpty(e.get("amountToPayData.currency"))?"":e.get("amountToPayData.currency"))+" "+(Ember.isEmpty(e.get("totalAmountToPay"))?"":e.get("totalAmountToPay"));e.set("amountToPayData.formattedAmountToPay",a)},getFormattedDueDate:function(){if(!Ember.isEmpty(this.get("dueDate"))){var e=void 0,t=XDates.getformatedDateWithFullMonth(XDates.convertXsdDateToDate(this.get("dueDate")));if(!Ember.isEmpty(this.get("methodOfPayment"))&&!Ember.isEmpty(t)){e=this.get("debitOrderTypeforMOP").split(",").includes(this.get("methodOfPayment"))?kl.value(this.localeCustomerNewAmountToPay+"paymentDueByForDebitOrder",{paymentDueDate:t}):kl.value(this.localeCustomerNewAmountToPay+"paymentDueByForCash",{paymentDueDate:t})}this.set("amountToPayData.formattedDueDate",e)}},formatToolTip:function(e,t,o){var a=this;if(!Ember.isEmpty(t)&&!Ember.isEmpty(o)){var n=XDates.getDateDiffrenceInDays(t,o,"-");return 1===parseInt(n)?n+=" day":n+=" days",a.formatToolTipReturnToolItem(e,n,t,o)}},formatToolTipReturnToolItem:function(e,t,o,a){var n=this;switch(e.toLowerCase().trim()){case n.get("residentialAccountName").toLowerCase().trim():case n.get("gotvResAccountName").toLowerCase().trim():case n.get("dstvCommAccountName").toLowerCase().trim():return kl.value(n.localeCustomerNewAmountToPay+"residentialToolTip",{fromDate:XDates.getFormattedDateForToolTip(o,"-"),toDate:XDates.getFormattedDateForToolTip(a,"-"),noOfDay:t});case n.get("paymentPlanAccountName").toLowerCase().trim():return kl.value(n.localeCustomerNewAmountToPay+"paymentPlanTooltip",{fromDate:XDates.getFormattedDateForToolTip(o,"-"),toDate:XDates.getFormattedDateForToolTip(a,"-"),installmentLeft:n.get("remainingInstallment")});case n.get("holidayHomeAccountName").toLowerCase().trim():return kl.value(n.localeCustomerNewAmountToPay+"holidayHomeliTooltip",{fromDate:XDates.getFormattedDateForToolTip(o,"-"),toDate:XDates.getFormattedDateForToolTip(a,"-"),noOfDay:t});case n.get("boxOfficeAccountName").toLowerCase().trim():return kl.value(n.localeCustomerNewAmountToPay+"boxOfficeliTooltip",{fromDate:XDates.getFormattedDateForToolTip(o,"-")});default:return""}},getSubscriptionsLineItems:function(){var e=this;e.get("residentialAccounts").length>0&&e.get("residentialAccounts").forEach(function(t){var o=t.quotes;Ember.isEmpty(o)||o.forEach(function(o){1===e.get("residentialAccounts").length&&e.getPendingQuotes(t.accountBalance.value,o),e.formatQuotelineItems(o,t.accountType)})})},formatQuotelineItems:function(e,t){var o=this;if(!Ember.isEmpty(e.lineItems))for(var a=0;a<e.lineItems.length;a++){var n=e.lineItems[a];if(!Ember.isEmpty(n)){var s,i=0,r=n.invoiceText,l=n.amount.value;s=l,i++;var d=r.toLowerCase().trim()===o.get("accessInvoiceText").toLowerCase().trim(),u=o.getExistinglineItem(n);Ember.isEmpty(u)?o.get("amountToPayData.subscriptionLineItems").addObject(Ember.Object.create({count:i,value:d,amount:parseFloat(s).toFixed(2),endDate:n.endDate,startDate:n.startDate,invoiceText:n.invoiceText,productName:Ember.isEmpty(n.productName)?" - ":n.productName,tooltip:o.formatToolTip(t,n.startDate,n.endDate)})):(u[0].count=u[0].count+1,u[0].amount=(parseFloat(u[0].amount)+parseFloat(n.amount.value)).toFixed(2))}}},getExistinglineItem:function(e){return this.get("amountToPayData.subscriptionLineItems").filter(function(t){var o=Ember.isEmpty(e.productName)?" - ":e.productName,a=parseFloat(parseFloat(t.amount)/t.count).toFixed(2),n=parseFloat(e.amount.value).toFixed(2)===a&&e.startDate===t.startDate,s=e.endDate===t.endDate&&e.invoiceText===t.invoiceText&&o===t.productName;return n&&s})},getBalanceBroughtForwardedAmount:function(e){var t=this,o=0,a=0;!Ember.isEmpty(e)&&e.length>0&&(e.forEach(function(e){e.accountType.toLowerCase().trim()===t.get("paymentPlanAccountName").toLowerCase().trim()&&(o+=Ember.isEmpty(e.accountBalance.value)?0:e.accountBalance.value),e.accountType.toLowerCase().trim()!==t.get("residentialAccountName").toLowerCase().trim()&&e.accountType.toLowerCase().trim()!==t.get("gotvResAccountName").toLowerCase().trim()&&e.accountType.toLowerCase().trim()!==t.get("dstvCommAccountName").toLowerCase().trim()||(a+=Ember.isEmpty(e.accountBalance.value)?0:e.accountBalance.value)}),t.set("amountToPayData.balanceBroughtForward",parseFloat(o+a).toFixed(2)),t.setBalanceBroughtForwardValues())},setBalanceBroughtForwardValues:function(){var e=this;if(!Ember.isEmpty(e.get("amountToPayData.balanceBroughtForward")))switch(!0){case e.get("amountToPayData.balanceBroughtForward")>0:e.set("isCredit",!1);break;case e.get("amountToPayData.balanceBroughtForward")<0:e.set("isCredit",!0);break;case 0===parseFloat(e.get("amountToPayData.balanceBroughtForward")):e.set("isBalanceZero",!0)}},getBoxOfficeAccountDetails:function(e){var t=this;t.set("isBoxOfficeAvailable",!1),t.getBOAccountsWithStatus(),e.length>0&&e.forEach(function(e){t.set("boxOfficeAccount",$.grep($.makeArray(e),function(e){return t.isBoxOfficeActive(e.accountNumber),e.accountType===t.get("boxOfficeAccountName")&&t.get("isBOActive")})),t.get("boxOfficeAccount").length>0&&t.set("amountToPayData.boxOfficeAccount",t.get("boxOfficeAccount"))}),t.get("amountToPayData.boxOfficeAccount").length>0?t.set("isBoxOfficeAvailable",!0):0===t.get("amountToPayData.boxOfficeAccount").length&&t.set("isBoxOfficeAvailable",!1),t.getBoxOfficeAmountoPay(t.get("amountToPayData.boxOfficeAccount")),t.getTotalForBO(),t.getBoxOfficeLineItems()},getHolidayHomeAccount:function(e){var t=this;t.getHHAccountsWithStatus(),t.set("isHolidayHomeAvailable",!1),e.forEach(function(e){t.set("holidayHomeAccount",$.grep($.makeArray(e),function(e){return t.isHolidayHomeActive(e.accountNumber),(e.accountType===t.get("holidayHomesAccountName")||e.accountType===t.get("holidayHomeAccountName"))&&t.get("isHHActive")})),t.get("holidayHomeAccount").length>0&&t.set("amountToPayData.holidayHomeAccount",t.get("holidayHomeAccount"))}),t.get("amountToPayData.holidayHomeAccount").length>0?t.set("isHolidayHomeAvailable",!0):0===t.get("amountToPayData.holidayHomeAccount").length&&t.set("isHolidayHomeAvailable",!1),t.getHolidayHomeAmountToPay(t.get("amountToPayData.holidayHomeAccount")),t.getTotalForHH(),t.getHolidayHomeLineItems()},getCurrentMonth:function(e){var t=this,o=$.grep(e.Transactions,function(e){return e.Status.toLowerCase().trim()===t.get("boxofficefreecreditrental").toLowerCase().trim()||e.Status.toLowerCase().trim()===t.get("boxofficesuccessfulrental").toLowerCase().trim()||e.Status.toLowerCase().trim()===t.get("boxofficesuccessfulrerental").toLowerCase().trim()}),a=new Date,n=a.getMonth()+1,s=a.getFullYear();return $.grep(o,function(e){var t=new Date(e.TransactionDate);return t.getMonth()+1===n&&t.getFullYear()===s})},getFiveDataFilter:function(e){var t=this,o=[],a=t.getDistinctItem(e);return e.forEach(function(e){a===e.TransactionId&&e.Status!==t.get("boxofficefreecreditrental").toLowerCase().trim()||o.push(e)}),o.slice(0,parseInt(t.get("boxofficeLineItemsCount")))},getStatusPaid:function(e){var t,o=this;if(e.Status.toLowerCase().trim()===o.get("boxofficefreecreditrental").toLowerCase().trim()){t=o.get("debitOrderTypeforMOP").split(",").includes(o.get("methodOfPayment"))?o.get("amountToPayData.currency")+" 0.00":kl.value(o.localeCustomerNewAmountToPay+"paid")}else t=o.get("isBoxOfficeDebit")?o.get("amountToPayData.currency")+" "+parseFloat(e.Price).toFixed(2):kl.value(o.localeCustomerNewAmountToPay+"paid");return t},getBoxOfficeLineItems:function(){var e=this;if(e.get("amountToPayData.boxOfficeAccount").length>0){var t=Komodo.Services.customerProfileService.getCustomerPersonalDetail();Komodo.Services.queryService.getJSON("/BoxOffice/GetTransactionHistory?customerNumber="+t.customerNo).done(function(t){if(t.Transactions.length>0){var o=e.getCurrentMonth(t);if(o.length>0){e.getFiveDataFilter(o).forEach(function(t){
var o=e.getStatusPaid(t),a=XDates.getformatedDateforUI(XDates.getDateFromDateInXsdFormat(t.TransactionDate));e.get("amountToPayData.boxOfficeLineItems").addObject(Ember.Object.create({playListTitle:t.PlayListTitle,titlePrice:o,rentalDate:t.TransactionDate.split("T")[0],status:t.Status,statusDescription:t.StatusDescription,tooltip:e.formatToolTip(e.get("boxOfficeAccountName"),a,a)}))})}}}).error(function(t){var o=JSON.stringify(t);e.hideBusyIndicator(),Komodo.log("retrieveFinancialAccounts ajax call failed. Error: "+o)})}},getDistinctItem:function(e){var t=e,o="";return t.forEach(function(t){for(var a=0;a<e.length;a++){var n=e[a];String(n.TransactionId)===String(t.TransactionId)&&n.Status.toLowerCase().trim()!==t.Status.toLowerCase().trim()&&(o=n.TransactionId)}}),o},getHolidayHomeLineItems:function(){var e=this;e.get("amountToPayData.holidayHomeAccount").length>0&&e.get("amountToPayData.holidayHomeAccount").forEach(function(t){var o=t.quotes;Ember.isEmpty(o)||o.forEach(function(t){e.holidayHomesAddLineItemList(t)})})},holidayHomesAddLineItemList:function(e){var t=this;if(!Ember.isEmpty(e.lineItems))for(var o=0;o<e.lineItems.length;o++){var a=e.lineItems[o];Ember.isEmpty(a)||t.get("amountToPayData.holidayHomeLineItems").addObject(Ember.Object.create({amount:parseFloat(a.amount.value).toFixed(2),endDate:a.endDate,startDate:a.startDate,invoiceText:a.invoiceText,productName:Ember.isEmpty(a.productName)?" - ":a.productName,tooltip:t.formatToolTip(t.get("holidayHomeAccountName"),a.startDate,a.endDate)}))}},getRemainingInstallments:function(e){var t=this,o=0,a=t.get("productInstallmentPlans");if(a.length>0){var n=$.grep(a,function(t){return t.FinancialAccountId===e});o=n[0].InstalmentsInPlan-n[0].InstalmentsInvoiced}return o},getDecoderNumber:function(e){var t=this,o="",a=t.get("productInstallmentPlans");if(a.length>0){o=$.grep(a,function(t){return t.FinancialAccountId===e})[0].ProvisionedDevices.split("-")[0].trim()}return o},getProductInstallmentPlans:function(){var e=this;e.set("productInstallmentPlans",[]);var t=Komodo.Services.customerProfileService.getCustomerPersonalDetail();Komodo.Services.queryService.getJSON("/CreditApplication/GetProductInstallmentPlans?customerNumber="+t.customerNo,{async:!1}).done(function(t){e.set("productInstallmentPlans",t)}).error(function(t){var o=JSON.stringify(t);Komodo.Controls.MessageBoxController.show(kl.value("locale.manageAccount.paymentPlan:paymentPlans.listOfDevicePaymentPlans"),o,Komodo.Controls.MessageBoxOkButtons,e,"authmbx","danger")})},getPaymentPlanAccountsLineItems:function(e){var t=this;e.forEach(function(e){if(t.getPaymentPlanAccounts(e.accountNumber),t.set("remainingInstallment",t.getRemainingInstallments(e.accountNumber)),!Ember.isEmpty(t.get("deviceInfo"))){var o=e.quotes;if(!Ember.isEmpty(o)){var a="",n="",s=0;o.forEach(function(e){for(var t=0;t<e.lineItems.length;t++){var o=e.lineItems[t];!!Ember.isEmpty(o)||(a=o.startDate,n=o.endDate,s+=o.amount.value)}});var i=t.getDeviceAndServiceName();t.getIsInsertPayamentPlan(i,a,n,s)&&t.get("amountToPayData.paymentPlanLineItems").addObject(Ember.Object.create({count:1,value:!1,amount:parseFloat(s).toFixed(2),endDate:n,startDate:a,invoiceText:i,remainInstallment:t.get("remainingInstallment"),tooltip:t.formatToolTip("Payment Plan",a,n)}))}}})},getIsInsertPayamentPlan:function(e,t,o,a){for(var n=this,s=!0,i=0;i<n.get("amountToPayData.paymentPlanLineItems").length;i++){var r=n.get("amountToPayData.paymentPlanLineItems")[i],l=r.startDate===t&&r.endDate===o;r.invoiceText.toLowerCase().trim()===e.toLowerCase().trim()&&parseFloat(r.amount).toFixed(2)===parseFloat(a).toFixed(2)&&l&&r.remainInstallment===n.get("remainingInstallment")&&(r.amount=parseFloat(r.amount)+parseFloat(a),r.count=parseInt(r.count+1),n.get("amountToPayData.paymentPlanLineItems").pop(),n.get("amountToPayData.paymentPlanLineItems").push(r),s=!1)}return s},getDeviceAndServiceName:function(){var e=this,t="";return e.get("paymentPlanDetails").forEach(function(o){var a=e.getDecoderNumber(o.accountNumber),n=e.get("productServicesArray").split(","),s="";n.forEach(function(e){e.includes(o.BundledPackage)&&(s=" + "+e.split("-")[1])});for(var i=0;i<e.get("deviceInfo").length;i++)e.get("deviceInfo")[i].deviceID===a&&(t=" ("+e.get("deviceInfo")[i].deviceName+s+")")}),e.get("priceLockInstallment")+t},getBoxOfficeAmountoPay:function(e){var t=this;!Ember.isEmpty(e)&&e.length>0&&(t.set("amountToPayData.boxOfficeAccountBalance",parseFloat(e[0].accountBalance.value).toFixed(2)),Ember.isEmpty(t.get("amountToPayData.boxOfficeAccountBalance"))?t.set("amountToPayData.boxOfficeAccountBalence",0):(t.get("amountToPayData.boxOfficeAccountBalance")>0?t.set("isBoCredit",!1):t.get("amountToPayData.boxOfficeAccountBalance")<0?(t.set("isBoCredit",!0),t.set("isBoCreditZero",!1)):0===parseFloat(t.get("amountToPayData.boxOfficeAccountBalance"))&&t.set("isBOAccountBalanceZero",!0),t.get("amountToPayData.boxOfficeAccountBalance")>0&&t.set("isBoCreditZero",!0)))},getHolidayHomeAmountToPay:function(e){var t=this;!Ember.isEmpty(e)&&e.length>0&&(t.set("amountToPayData.holidayHomeAccountBalance",parseFloat(e[0].accountBalance.value).toFixed(2)),Ember.isEmpty(t.get("amountToPayData.holidayHomeAccountBalance"))?t.set("amountToPayData.holidayHomeAccountBalance",0):(t.get("amountToPayData.holidayHomeAccountBalance")>0?t.set("isHHCredit",!1):t.get("amountToPayData.holidayHomeAccountBalance")<0?(t.set("isHHCredit",!0),t.set("isHHCreditZero",!1)):0===parseFloat(t.get("amountToPayData.holidayHomeAccountBalance"))&&t.set("isHHAccountBalanceZero",!0),t.get("amountToPayData.holidayHomeAccountBalance")>0&&t.set("isHHCreditZero",!0)))},getTotalAmountForAllAccounts:function(){var e=this,t=0;e.set("subscriptionTotal",void 0),e.get("amountToPayData.subscriptionAccounts").length>0&&(e.get("amountToPayData.subscriptionAccounts").forEach(function(e){Ember.isEmpty(e.amountToPay.value)||(t+=e.amountToPay.value)}),Ember.isEmpty(e.get("amountToPayData.currency"))||e.set("subscriptionTotal",e.get("amountToPayData.currency")+" "+parseFloat(t).toFixed(2)))},getTotalForBO:function(){var e=this;e.set("boxOfficeTotal",void 0),e.set("isBoxOfficeDebit",!1),e.get("amountToPayData.boxOfficeAccount").length>0&&!Ember.isEmpty(e.get("amountToPayData.boxOfficeAccount")[0].amountToPay.value)&&!Ember.isEmpty(e.get("amountToPayData.currency"))&&(e.set("boxOfficeTotal",e.get("amountToPayData.currency")+" "+parseFloat(e.get("amountToPayData.boxOfficeAccount")[0].amountToPay.value).toFixed(2)),e.get("amountToPayData.boxOfficeAccount")[0].amountToPay.value>0&&e.set("isBoxOfficeDebit",!0))},getTotalForHH:function(){var e=this;e.set("holidayHomeTotal",void 0),e.set("isHolidayHomesDebit",!1),e.get("amountToPayData.holidayHomeAccount").length>0&&!Ember.isEmpty(e.get("amountToPayData.holidayHomeAccount")[0].accountBalance.value)&&!Ember.isEmpty(e.get("amountToPayData.currency"))&&(e.set("holidayHomeTotal",e.get("amountToPayData.currency")+" "+parseFloat(e.get("amountToPayData.holidayHomeAccount")[0].accountBalance.value).toFixed(2)),e.get("amountToPayData.holidayHomeAccount")[0].accountBalance.value>0&&e.set("isHolidayHomesDebit",!0))},getPendingQuotes:function(e,t){var o=this;parseFloat(e)<0&&!Ember.isEmpty(t.id)&&"-"!==t.id&&t.status.toUpperCase()===o.get("statusPending").toUpperCase()&&(o.get("pendingQuotesforUseCredit").addObject(Ember.Object.create({id:t.id,accountNumber:t.accountNumber,amount:t.total.value})),o.set("canUseCredit",!0))},checkRoleAndPermissions:function(){var e=this,t=kl.value(e.localeCustomerNewAmountToPay+"cash"),o=kl.value(e.localeCustomerNewAmountToPay+"credit"),a=kl.value(e.localeCustomerNewAmountToPay+"adhocDebitOrder");Komodo.Services.securityService.hasPermission("clarity://amountToPay/viewOnly")&&e.set("amountToPayData.mopdropdownDisabled",!0),e.get("totalAmountToPay")>0&&Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCashOnly")&&(e.get("amountToPayData.methodOfPayments").removeObject(o),e.get("amountToPayData.methodOfPayments").removeObject(a),e.get("amountToPayData.methodOfPayments").addObject(t)),Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCreditOnly")&&(e.get("canUseCredit")?e.get("amountToPayData.methodOfPayments").addObject(o):e.get("amountToPayData.methodOfPayments").removeObject(o),e.get("amountToPayData.methodOfPayments").removeObject(a),e.get("amountToPayData.methodOfPayments").removeObject(t)),e.get("totalAmountToPay")>0&&Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseAdhocDebitOrderOnly")&&(e.get("amountToPayData.methodOfPayments").removeObject(o),e.get("amountToPayData.methodOfPayments").addObject(a),e.get("amountToPayData.methodOfPayments").removeObject(t))},checkRoleAndPermissionsForMultipleMops:function(){var e=this,t=kl.value(e.localeCustomerNewAmountToPay+"cash"),o=kl.value(e.localeCustomerNewAmountToPay+"credit"),a=kl.value(e.localeCustomerNewAmountToPay+"adhocDebitOrder");Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCreditAndUseAdhocDebitOrderOnly")&&(e.get("canUseCredit")?e.get("amountToPayData.methodOfPayments").addObject(o):e.get("amountToPayData.methodOfPayments").removeObject(o),e.get("totalAmountToPay")>0?e.get("amountToPayData.methodOfPayments").addObject(a):e.get("amountToPayData.methodOfPayments").removeObject(a),e.get("totalAmountToPay")>0&&Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCashOnly")?e.get("amountToPayData.methodOfPayments").addObject(t):e.get("amountToPayData.methodOfPayments").removeObject(t)),Komodo.Services.securityService.hasPermission("clarity://amountToPay/UseCreditAndCashOnly")&&(e.get("canUseCredit")?e.get("amountToPayData.methodOfPayments").addObject(o):e.get("amountToPayData.methodOfPayments").removeObject(o),e.get("totalAmountToPay")>0?e.get("amountToPayData.methodOfPayments").addObject(t):e.get("amountToPayData.methodOfPayments").removeObject(t)),e.checkRolePermissionForMOPCredit(t,o,a)},checkRolePermissionForMOPCredit:function(e,t,o){var a=this;parseFloat(a.get("totalAmountToPay"))!==parseFloat(0)||a.get("canUseCredit")||a.set("amountToPayData.mopdropdownDisabled",!0)},changeOfMethodOfPayment:function(){var e=this,t=e.get("amountToPayData.selectedmethodOfPayment"),o=kl.value(e.localeCustomerNewAmountToPay+"cash"),a=kl.value(e.localeCustomerNewAmountToPay+"credit"),n=kl.value(e.localeCustomerNewAmountToPay+"adhocDebitOrder");t===o||t===a||t===n?e.set("amountToPayData.payButtonDisabled",!1):e.set("amountToPayData.payButtonDisabled",!0)}.observes("amountToPayData.selectedmethodOfPayment"),useCredit:function(){var e=this,t=Komodo.Controls.MessageBoxController.show(kl.value(e.localeAmountPayable+"amountToPay"),kl.value(e.localeAmountPayable+"confirmUseCredit"),Komodo.Controls.MessageBoxYesNoButtons,e),o=[];t.response=function(t){if("yes"===t.toLowerCase().trim()&&e.get("pendingQuotesforUseCredit").length>0){e.get("pendingQuotesforUseCredit").sortBy("amount").reverse().forEach(function(e){o.push({quoteId:e.id,financialAccountId:e.accountNumber})})}Komodo.Services.queryService.postJSON("/Quote/AcceptQuotes",{data:o}).done(function(){e.getUseCredit()}).error(function(t){var o=JSON.stringify(t);Komodo.log("AcceptQuotes ajax call failed. Error: "+o),Komodo.Controls.MessageBoxController.show(kl.value(e.localeAmountPayable+"amountToPay"),t.responseJSON.Message,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger")})}},getUseCredit:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value(e.localeAmountPayable+"amountToPay"),kl.value(e.localeAmountPayable+"useCreditSuccess"),Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","success").response=function(t){"ok"===t.toLowerCase().trim()&&Komodo.Services.uiService.getController("sharedObject").retrieveCustomerSync(Komodo.Services.customerProfileService.personalDetails.customerNo).done(function(){"3"===String(Komodo.Services.customerProfileService.personalDetails.customerClass)?e.transitionToRoute("/specialistCustomerProfile"):(e.clearData(),e.initializeVariables())})}},clearData:function(){this.set("payLoad",[]),this.set("amountToPayData.formattedAmountToPay",void 0),this.set("amountToPayData.formattedDueDate",void 0),this.set("amountToPayData.currency",void 0),this.set("amountToPayData.subscriptionAccounts",[]),this.set("amountToPayData.subscriptionLineItems",[]),this.set("amountToPayData.paymentPlanLineItems",[]),this.set("amountToPayData.boxOfficeAccount",[]),this.set("amountToPayData.boxOfficeAccoutBalance",void 0),this.set("amountToPayData.boxOfficeAccountType",void 0),this.set("amountToPayData.boxOfficeLineItems",[]),this.set("amountToPayData.holidayHomeAccount",[]),this.set("amountToPayData.holidayHomeAccountBalance",void 0),this.set("amountToPayData.holidayHomeLineItems",[]),this.set("amountToPayData.balanceBroughtForward",void 0),this.set("amountToPayData.payButtonDisabled",!0),this.set("amountToPayData.showPayViaAdhocButton",!1)},getAccountStatus:function(e){var t=void 0;return this.get("accounts").some(function(o){if(String(o.accountNumber)===String(e))return t=o.accountStatus,!0}),t},getPayloadAccountStatus:function(e){var t,o=this;switch(e.accountType){case o.get("boxOfficeAccountName"):o.isBoxOfficeActive(e.accountNumber),t=o.get("isBOActive")&&e.accountBalance.value>0;break;case o.get("holidayHomeAccountName"):o.isHolidayHomeActive(e.accountNumber),t=o.get("isHHActive")&&e.accountBalance.value>0;break;default:t=!0}return t},getCustomerModelsArray:function(e,t){for(var o=this,a=Komodo.Services.customerProfileService.personalDetails,n=[],s=0;s<e.length;s++){var i=Komodo.Models.OnlineTill.CustomerModel.create();i.set("customerNumber",a.customerNo),i.set("title",a.title),i.set("customerFirstname",a.firstName),i.set("customerSurname",a.lastName);var r=o.getNameForCustomerModel(a);i.set("customerName",r),i.set("customerClass",a.customerClassText),i.set("customerType",a.customerTypeText),i.set("telNo",a.telNo),i.set("mobileNo",a.mobileNo),i.set("locationIndicator",a.locationIndicator),i.set("email",a.email),i.set("isActiveCustomer",a.isActiveCustomer),i.set("isDstv",a.isDstv),i.set("isGotv",a.isGotv),i.set("businessUnit",void 0!==a.viewPlatform?a.viewPlatform.toUpperCase():""),i.set("customerStatus",a.customerStatus);for(var l=[],d=0;d<e.length;d++){var u=Komodo.Models.OnlineTill.AccountModel.create();u.set("accountNumber",e[d].financialAccountId),u.set("balance",parseFloat(e[d].totalAmountToPay).toFixed(2)),u.set("type",e[d].type),u.set("methodOfPayment",e[d].methodOfPayment),u.set("status",e[d].status),u.set("displayText",e[d].financialAccountId+": "+e[d].type),u.set("chargeuntildate",e[d].chargeuntildate),u.set("overdue",parseFloat(e[d].overdue).toFixed(2)),u.set("currencyCode",e[d].currencyCode),u.set("isDefault",e[d].isDefault),u.set("products",e[d].products),u.set("selected",e[s].financialAccountId===e[d].financialAccountId),u.set("quotes",e[d].quotes),l.push(u)}i.set("accounts",l),i.set("quotes",t);for(var c=0;c<t.length;c++)t[c].financialAccountId===e[s].financialAccountId&&(i.set("quote",e[s].quotes),i.set("disableQuoteDetails","-"===t[c].id));var m=Komodo.Models.OnlineTill.AccountModel.create();m.set("accountNumber",e[s].financialAccountId),m.set("balance",parseFloat(e[s].totalAmountToPay).toFixed(2)),m.set("type",e[s].type),m.set("methodOfPayment",e[s].methodOfPayment),m.set("status",e[s].status),m.set("displayText",e[s].financialAccountId+": "+e[s].type),m.set("chargeuntildate",e[s].chargeuntildate),m.set("currencyCode",e[s].currencyCode),m.set("isDefault",e[s].isDefault),m.set("quotes",e[s].quotes),i.set("account",m),i.set("payAmount",parseFloat(e[s].totalAmountToPay+e[s].overdue).toFixed(2)),n.push(i)}return n},getNameForCustomerModel:function(e){var t;return t=void 0===e.title||null===e.title?"":e.title,t+=void 0===e.firstName||null===e.firstName?"":" "+e.firstName,t+=void 0===e.lastName||null===e.lastName?"":" "+e.lastName},createPayLoadForAmountPay:function(e){var t=this,o=[],a=[],n=[];return t.getCDMAccountTypes(),e.accounts.forEach(function(e){if(t.getPayloadAccountStatus(e)&&!Ember.isEmpty(e.quotes)){var s=0;a=[],e.quotes.forEach(function(t){s+=t.total.value;var o=[];if(!Ember.isEmpty(t.lineItems)){var i=!0;t.lineItems.forEach(function(e){var t=Komodo.Models.OnlineTill.SRQLineItemModel.create();i?(t.set("isFirst",!0),i=!1):t.set("isFirst",!1),t.set("quoteLineItemId",e.id),t.set("adjustmentAmount",0),t.set("amount",parseFloat(e.amount.value).toFixed(2)),t.set("baseAmount",parseFloat(e.amount.value).toFixed(2)),t.set("startDate",e.startDate),t.set("endDate",e.endDate),t.set("period",e.startDate+" to "+e.endDate),t.set("invoiceText",e.invoiceText),t.set("taxAmount",0),o.push(t)})}var r=Komodo.Models.OnlineTill.SRQModel.create();r.set("quoteId",""===t.id?"-":t.id.toString()),r.set("createdByUser","37"),r.set("financialAccountId",e.accountNumber.toString()),r.set("fulfillmentDate",t.dueDate),r.set("quoteDateTime",t.quoteDate),r.set("replacedByQuoteId",""),r.set("totalAmount",parseFloat(t.total.value)),r.set("isSelected",!0),r.set("previousIsSelectedState",!0),r.set("srqStatus","No"),r.set("quoteLineItems",o),a.push(r),n.push(r)})}var i=t.getAccountTypeFromLookUp(e);o.push({financialAccountId:e.accountNumber.toString(),totalAmountToPay:s,type:i,methodOfPayment:e.methodOfPayment,status:t.getAccountStatus(e.accountNumber.toString()),displaytext:"",chargeuntildate:e.chargeuntildate,currencyCode:e.amountToPay.currencyCode,isDefault:e.isdefault,overdue:e.accountBalance.value,products:[],isChecked:!1,quotes:null==a?[]:a})}),t.getCustomerModelsArray(o,n)},getFormattedDateTime:function(e){var t="-";if("0001-01-01T00:00:00"===e||"0001-01-02T00:00:00"===e)return"-";if(!Ember.isEmpty(e)){t=e.split(" ")[0]}return t},getAccountTypeFromLookUp:function(e){var t=this,o=t.get("accountTypes"),a="",n=t.get("accountTypeValuesAndCanonical");return Ember.isEmpty(n)||n.forEach(function(n){n.value.description===e.accountType&&(t.canonicalKey=n.key,o.forEach(function(e){e.key===n.value.canonicalCode&&(a=e.value)}))}),a},getCDMAccountTypes:function(){var e=this;e.getNewProcessID(),e.set("accountTypes",[]),Komodo.Services.cachedDataService.fetch("AccountType").done(function(t){e.set("accountTypes",t)}).fail(function(){Komodo.log("[ERROR] : could not retrieve ResidentialStatus from CDM")})},getLookUpAccountTypes:function(){var e=this;e.getNewProcessID(),e.showBusyIndicator(),e.set("accountTypeValuesAndCanonical",[]),Komodo.Services.queryService.getJSONFromApiRoot("lookups/account-type",!0).done(function(t){e.set("accountTypeValuesAndCanonical",t.items)}).error(function(t){if(Ember.isEmpty(t.responseJSON))Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerAmountToPay+"problemCallingAccountApi"),"Status :  "+t.status+", Error : "+t.statusText,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger");else{Komodo.log("Get Customer Lookups Call fail : "+t.responseJSON.detail);var o=t.responseJSON.detail;Ember.isEmpty(t.responseJSON.detail)&&(o=t.responseJSON.message),Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerAmountToPay+"problemCallingAccountApi"),"Status :  "+t.status+", Error : "+o,Komodo.Controls.MessageBoxOkButtons,e,"authmbx3","danger")}}),e.hideBusyIndicator()},actions:{showMessage:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value(e.localeCustomerNewAmountToPay+"useCaseTitle"),kl.value(e.localeCustomerNewAmountToPay+"accessFee"),Komodo.Controls.MessageBoxOkButton,e,"id0987678","warning")},redirectInterAccountTransfer:function(){Komodo.Services.uiService.transitionTo("transferPayment")},pay:function(){var e=this,t=e.get("amountToPayData.selectedmethodOfPayment"),o=kl.value(e.localeCustomerNewAmountToPay+"cash"),a=kl.value(e.localeCustomerNewAmountToPay+"credit"),n=kl.value(e.localeCustomerNewAmountToPay+"adhocDebitOrder"),s=e.get("payLoad");t===o&&(s.length>1?(Komodo.Services.navigationService.activateGroup(Komodo.NavigationGroupNames.OnlineTill),Komodo.Services.uiService.transitionTo("splitPayment"),Komodo.Services.eventAggregator.publish("PublishSplitPayment",s)):(Komodo.Services.navigationService.activateGroup(Komodo.NavigationGroupNames.OnlineTill),Komodo.Services.uiService.transitionTo("customerPayment"),Komodo.Services.eventAggregator.publish("PublishCustomerPayment",s))),t===n&&(Komodo.Services.uiService.transitionTo("adhocDebitOrder"),Komodo.Services.eventAggregator.publish("PublishAdhocDebitOrder",s)),t===a&&e.useCredit()},viewMore:function(){Komodo.Services.uiService.getRoute("application").transitionTo("boxOffice")}},getAccounts:function(e){var t=this,o=t.getAccountURL(e);Komodo.Services.queryService.getJSONFromApiRoot(o,!0).done(function(o){if(null!=o){o.items.forEach(function(e){t.get("accounts").addObject(Ember.Object.create({accountNumber:e.number,accountStatus:e.status,accountType:e.type}))}),t.getBoxOfficeAccountDetails(e.accounts),t.getHolidayHomeAccount(e.accounts);var a=t.createPayLoadForAmountPay(e);t.set("payLoad",a)}}).error(function(e){t.hideBusyIndicator(),Komodo.log("Get Customer Accounts Call fail : "+e.responseJSON.detail),Komodo.Controls.MessageBoxController.show(e.responseJSON.title,e.responseJSON.detail,Komodo.Controls.MessageBoxOkButtons,t,"authmbx3","danger")})},getCustomerDeviceDetails:function(e){var t=this;Komodo.Services.queryService.getJSON("Device/GetCustomerProducts?customerID="+e+"&pageNumber=1&pageSize=10",{async:!1}).done(function(e){!Ember.isEmpty(e)&&e.length>0&&e.forEach(function(e){t.get("deviceInfo").addObject(Ember.Object.create({deviceID:e.SerialNumber,deviceName:e.DeviceName})),Ember.isEmpty(e.SecondaryDevices)||e.SecondaryDevices.forEach(function(e){t.get("deviceInfo").addObject(Ember.Object.create({deviceID:e.SerialNumber,deviceName:e.DeviceName}))})})}).error(function(e){var o=JSON.stringify(e);Komodo.Controls.MessageBoxController.show(kl.value("locale.manageAccount.paymentPlan:paymentPlans.listOfDevicePaymentPlans"),o,Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger")})},getPaymentPlanAccounts:function(e){var t=this;Komodo.Services.queryService.getJSON("CreditApplication/Get?financialAccountId="+e+"&applicationId=&idNumber=&pageNumber=1&pageSize=10",{async:!1}).done(function(o){null!=o&&t.get("paymentPlanDetails").addObject(Ember.Object.create({accountNumber:e,IsBundle:o[0].CreditApplicationDetail.IsBundle,BundledPackage:o[0].CreditApplicationDetail.BundledPackage,DecoderNumber:Ember.isEmpty(o[0].SalesOrderDetail)?"":o[0].SalesOrderDetail.DecoderNumber}))}).error(function(e){var o=JSON.stringify(e);Komodo.Controls.MessageBoxController.show(kl.value("locale.manageAccount.paymentPlan:paymentPlans.listOfDevicePaymentPlans"),o,Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger")})},residentialAccount:[],paymentPlanAccounts:[],residentialAccountName:void 0,paymentPlanAccountName:void 0,boxOfficeAccountName:void 0,holidayHomeAccountName:void 0,isCredit:!1,isBalanceZero:!1,isHHAccountBalanceZero:!1,isBOAccountBalanceZero:!1,accessInvoiceText:void 0,subscriptionTotal:void 0,boxOfficeTotal:void 0,holidayHomeTotal:void 0,dueDate:void 0,methodOfPayment:void 0,isBoxOfficeDebit:!1,isHolidayHomesDebit:!1,pendingQuotesforUseCredit:[],canUseCredit:!1,statusPending:void 0,accounts:[],activeAccounts:[],BOAccounts:[],HHAccounts:[],isBOActive:!1,isHHActive:!1,statusOpen:void 0,statusOverdue:void 0}),Komodo.Application.CreateDealerController=Komodo.UI.Controller.extend({init:function(){Komodo.log("Constructing Reconnect service controller"),this.set("processVersion","v1.1"),this.set("processName","Reconnect service"),this.initializeGrid(),this._super()},start:function(){var e=this;e.populateCDMDataSets(),e.set("dealerDataModel",Komodo.Models.CreateCustomerNamespace.CreateDealerModel.create()),e.set("phoneNumber",Komodo.Models.CreateCustomerNamespace.ContactInformation.create()),e.set("email",Komodo.Models.CreateCustomerNamespace.ContactEmail.create()),e.set("householdMemberAndAuthority",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.registerValidation(),e.setDefaults(),e._super()},getValueFromConstant:function(e,t){return Komodo.Services.CustomerService.getValueFromConstant(e,t)},stop:function(){this.clearFormData(),this.set("loggedInCountryId",void 0),this._super();var e=["AddressType","MethodOfPayment","Title","CommunicationLanguage","CountryOfOrigin","IDType","CommunicationMethod","HouseholdMemberRelation","CountryDetail","Location","Country","BankDetail","CustomerAuthorityDelegatedRole"];e.forEach(function(e){this.set(e,[])},e)},setDefaults:function(){var e=this;e.set("_emailRequired",!0),e.set("_isAllowToTransactDisabled",!1),e.dealerDataModel.set("isVatRegistered","1"),e.set("isVATDisabled",!1),e.dealerDataModel.set("contactInformation",[]),e.dealerDataModel.set("addressInformation",[]),e.dealerDataModel.set("householdMemberAndAuthority",[]),e.householdMemberAndAuthority.set("isAuthorityInfoVisible",!0),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","IsIdentificationNumberRequire").done(function(t){e.set("dealerDataModel.isIdentificationNumberRequire",t),!1===e.get("dealerDataModel.isIdentificationNumberRequire")?e.set("dealerDataModel.isIdentificationValueDisable",!0):e.set("dealerDataModel.isIdentificationValueDisable",!1)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)})},initializeGrid:function(){this.dataGridColumnAuthorityDelegation=[Komodo.Controls.DataGridColumn.create({name:"fullname",title:kl.value(this._authorityLocaleBase+"fullname")}),Komodo.Controls.DataGridColumn.create({name:"identityDetailValueHouseholdMemberAndAuthority",title:kl.value(this._authorityLocaleBase+"identificationNumber")}),Komodo.Controls.DataGridColumn.create({name:"role",title:kl.value(this._authorityLocaleBase+"role")}),Komodo.Controls.DataGridColumn.create({name:"allowToTransactInfo",title:kl.value(this._authorityLocaleBase+"allowedToTransact")}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(this._authorityLocaleBase+"edit"),displayText:kl.value(this._authorityLocaleBase+"edit"),width:"30px",action:"editAuthorityDelegationGridItem",displayType:"link"}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(this._authorityLocaleBase+"delete"),displayText:kl.value(this._authorityLocaleBase+"delete"),width:"30px",action:"deleteAuthorityDelegationGridItem",displayType:"link"})]},populateCDMDataSets:function(){var e=this;e.populateStaticCDMData(),e.populateHierachicalCDMDataSet("EstablishmentTypeRelationship",e._customertype)},populateHierachicalCDMDataSet:function(e,t){var o=this;Komodo.Services.cachedDataService.fetch(e,{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()}).done(function(a){var n=JSON.parse(a);switch(t.clear(),e){case"EstablishmentTypeRelationship":$.each(n.CustomerClasses.CustomerClass,function(e,a){a.CanonicalValue===o._customerTypeText&&$.each(a.CustomerTypes.CustomerType,function(e,o){t.addObject(o)})});break;case"StockhandlerRelationship":var s=o.get("dealerDataModel.customerType");$.each(n.CustomerTypes.CustomerType,function(e,o){o.CustomerTypeCK===s&&$.each(o.StockhandlerTypes,function(e,o){o.length>0?$.each(o,function(e,o){t.addObject(o)}):t.addObject(o)})});break;default:Komodo.log("[ERROR] : Unknown Hierachical dataset: "+e)}}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for "+e)})},populateStaticCDMData:function(){var e=this,t={domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()};e.set("_countryDescription",Komodo.Services.uiService.getController("application").get("_selectedCountryDescription")),Komodo.Services.cachedDataService.fetch("BankAccountType",t).done(function(o){e._methodsOfPayment.clear(),$.each(o,function(t,o){e._methodsOfPayment.addObject(o)}),Komodo.Services.cachedDataService.fetch("Title",t).done(function(o){e._titles.clear(),o=o.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),$.each(o,function(t,o){e._titles.addObject(o)}),Komodo.Services.cachedDataService.fetch("CommunicationLanguage",t).done(function(o){e._languages.clear(),$.each(o,function(t,o){e._languages.addObject(o)}),Komodo.Services.cachedDataService.fetch("CountryOfOrigin",t).done(function(o){e._countriesOfOrigin.clear(),$.each(o,function(t,o){e._countriesOfOrigin.addObject(o)}),Komodo.Services.cachedDataService.fetch("IDType",t).done(function(o){e._idTypes.clear(),e._householdMemberIdType.clear(),$.each(o,function(t,o){e._idTypes.addObject(o),e._householdMemberIdType.addObject(o)}),Komodo.Services.cachedDataService.fetch("CommunicationMethod",t).done(function(o){e._communicationMethods.clear(),$.each(o,function(t,o){"None"!==o.value&&e._communicationMethods.addObject(o)}),Komodo.Services.cachedDataService.fetch("HouseholdMemberRelation",t).done(function(o){e._householdMemberRelation.clear(),$.each(o,function(t,o){e._householdMemberRelation.addObject(o)}),Komodo.Services.cachedDataService.fetch("CountryDetail",t).done(function(o){var a=JSON.parse(o);e.get("_mobileCode").clear(),$.each(a.Countries.Country,function(t,o){e.get("_mobileCode").addObject(o)}),e._dialingCode=$.grep(e.get("_mobileCode"),function(t){return t.CanonicalValue.indexOf(e.get("_countryDescription"))>=0}),Komodo.Services.cachedDataService.fetch("Location",t).done(function(o){a=JSON.parse(o),e._countries.clear(),$.each($.makeArray(a.Countries.Country),function(t,o){e._countries.addObject(o)}),Komodo.Services.cachedDataService.fetch("Country").done(function(o){e.set("isoData",[]),e.set("isoData",o);var a=void 0;!e.isoData instanceof Array&&(e.isoData=[e.isoData]),e.isoData.forEach(function(e){t.domain===e.key&&(a=e.key)}),void 0!=a&&e.set("loggedInCountryId",a),Komodo.Services.cachedDataService.fetch("BankDetail",t).done(function(o){var a=JSON.parse(o);e._banks.clear(),$.each(a.Banks.Bank,function(t,o){e._banks.addObject(o)}),Komodo.Services.cachedDataService.fetch("CustomerAuthorityDelegatedRole",t).done(function(t){e._authorityRolesList.clear(),e.set("_authorityRolesList",t)}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for AuthorityRoles")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for BankDetail")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for CountryISO")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for Location")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for CountryDetail")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for HouseholdMemberRelation")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for CommunicationMethod")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for IDType")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for CountryOfOrigin")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for CommunicationLanguage")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for Title")})}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for MethodOfPayment")})},registerValidation:function(){var e=this;e.registerValidator(e.get("dealerDataModel"),"language",{type:"string",isRequired:!0}),e.registerValidator(e.get("dealerDataModel"),"companyName",{type:"string",isRequired:!0,minLength:2,maxLength:50,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),e.registerValidator(e.get("dealerDataModel"),"companyRegistrationNumber",{type:"string",isRequired:!0,minLength:8,maxLength:13,
functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaNumericValidator}),e.registerValidator(e.get("dealerDataModel"),"taxNumber",{type:"string",isRequired:!0}),e.registerValidator(e.get("dealerDataModel"),"vatNumber",{type:"string",isRequired:!0}),e.registerValidator(e.get("dealerDataModel"),"customerType",{type:"string",isRequired:!0}),e.registerValidator(e.get("dealerDataModel"),"stockhandlerType",{type:"string",isRequired:!0}),e.registerValidator(e.get("householdMemberAndAuthority"),"allowToTransactInfo",{type:"string",isRequired:!0}),e.registerValidator(e.get("householdMemberAndAuthority"),"firstNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),e.registerValidator(e.get("householdMemberAndAuthority"),"lastNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailTypeHouseholdMemberAndAuthority"}),!0===e.get("identification.isIdentificationNumberRequire")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}):!0===e.get("identification.isIdentificationNumberRequire")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator]}):!0===e.get("identification.isIdentificationNumberRequire")&&e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:[Komodo.UI.Validators.alphanumericValidator]})},createDependentProperty:function(e,t){var o=this;t.forEach(function(t){void 0!==o.get("validators."+e)&&o.get("validators."+e).functions.addObject(t)}),o.get("validators."+e).validate()},removeDependentProperty:function(e){var t=this;void 0!==t.get("validators."+e)&&(t.get("validators."+e).functions.clear(),t.get("validators."+e).validate())},clearContactInformation:function(){this.contactNumbers.clear(),this.emails.clear()},showMessage:function(e,t){var o=this;return e>this.c&&(Komodo.Controls.MessageBoxController.show(kl.value(o._localeBase+"title"),kl.value(o._addressLocaleBase+"maximum"+t)),!0)},hideDelegationGrid:function(){return this.dealerDataModel.householdMemberAndAuthority.length>0}.property("dealerDataModel.householdMemberAndAuthority.length"),memberAndAuthorityNotAdded:function(){var e=this,t=!1;return e.dealerDataModel.householdMemberAndAuthority.forEach(function(o){o.identityDetailValueHouseholdMemberAndAuthority===e.householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority&&o.allowToTransactInfoHouseholdMemberAndAuthority===e.householdMemberAndAuthority.allowToTransactInfoHouseholdMemberAndAuthority&&o.householdMemberInfoHouseholdMemberAndAuthority===e.householdMemberAndAuthority.householdMemberInfoHouseholdMemberAndAuthority&&o.firstNameHouseholdMemberAndAuthority===e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority&&o.lastNameHouseholdMemberAndAuthority===e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority&&o.identityDetailTypeHouseholdMemberAndAuthority===e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&o.relation===e.householdMemberAndAuthority.relation&&(t=!0)}),t},addHoldMemberAndAuthorityToGrid:function(){var e=this;"0"===e.householdMemberAndAuthority.allowToTransactInfo?e.newHoldMemberAndAuthorityGriditem.set("allowToTransactInfo",kl.value(e._authorityLocaleBase+"no")):e.newHoldMemberAndAuthorityGriditem.set("allowToTransactInfo",kl.value(e._authorityLocaleBase+"yes")),e.newHoldMemberAndAuthorityGriditem.set("firstNameHouseholdMemberAndAuthority",e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority),e.newHoldMemberAndAuthorityGriditem.set("lastNameHouseholdMemberAndAuthority",e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority),void 0!==e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&null!==e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&e.newHoldMemberAndAuthorityGriditem.set("identityDetailTypeHouseholdMemberAndAuthority",e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority.value),e.newHoldMemberAndAuthorityGriditem.set("fullname",e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority+" "+e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority),e.newHoldMemberAndAuthorityGriditem.set("identityDetailValueHouseholdMemberAndAuthority",e.householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority),"Other"===e.householdMemberAndAuthority.relation?e.newHoldMemberAndAuthorityGriditem.set("role",e.householdMemberAndAuthority.role):e.newHoldMemberAndAuthorityGriditem.set("role",e.householdMemberAndAuthority.relation),e.newHoldMemberAndAuthorityGriditem.set("identityDetailTypeObject",e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority),e.addGridHoldMemberAndAuthorityRow(),e.householdMemberAndAuthority.set("isAuthorityInfoVisible",!1)},addGridHoldMemberAndAuthorityRow:function(){this.dealerDataModel.householdMemberAndAuthority.pushObject(this.get("newHoldMemberAndAuthorityGriditem")),this.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create())},clearholdMemberAndAuthority:function(){this.householdMemberAndAuthority.set("allowToTransactInfo","0"),this.householdMemberAndAuthority.set("firstNameHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("lastNameHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("identityDetailValueHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("relation",void 0),this.householdMemberAndAuthority.set("identityDetailTypeObject",void 0)},editAuthorityDelegationGridItem:function(){var e=this;if(void 0!==e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority")){e.householdMemberAndAuthority.set("firstNameHouseholdMemberAndAuthority",e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority").get("firstNameHouseholdMemberAndAuthority")),e.householdMemberAndAuthority.set("lastNameHouseholdMemberAndAuthority",e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority").get("lastNameHouseholdMemberAndAuthority"));var t=$.grep(e._authorityRolesList,function(t){return t.value===e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority").get("role")});t.length>0?(e.householdMemberAndAuthority.set("relation",t[0].value),e.householdMemberAndAuthority.set("role",void 0)):(e.householdMemberAndAuthority.set("relation","Other"),e.householdMemberAndAuthority.set("role",e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority").get("role"))),e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority").get("allowToTransactInfo")===kl.value(e._authorityLocaleBase+"no")?e.householdMemberAndAuthority.set("allowToTransactInfo","0"):e.householdMemberAndAuthority.set("allowToTransactInfo","1"),e.householdMemberAndAuthority.set("isAuthorityInfoVisible",!0),e.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject")),e.householdMemberAndAuthority.set("identityDetailValueHouseholdMemberAndAuthority",e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailValueHouseholdMemberAndAuthority")),e.clearAuthorityDelegationGrid()}},clearAuthorityDelegationGrid:function(){var e=this;e.dealerDataModel.set("householdMemberAndAuthority",$.grep(e.dealerDataModel.householdMemberAndAuthority,function(t){return e.dealerDataModel.get("commandGridItemHouseholdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")!==t.firstNameHouseholdMemberAndAuthority||e.dealerDataModel.get("commandGridItemHouseholdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")!==t.lastNameHouseholdMemberAndAuthority||e.dealerDataModel.get("commandGridItemHouseholdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")!==t.identityDetailTypeHouseholdMemberAndAuthority||e.dealerDataModel.get("commandGridItemHouseholdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")!==t.identityDetailValueHouseholdMemberAndAuthority||e.dealerDataModel.get("commandGridItemHouseholdMemberAndAuthority.role")!==t.role||e.dealerDataModel.get("commandGridItemHouseholdMemberAndAuthority.allowToTransactInfo")!==t.allowToTransactInfo}))},deleteAuthorityDelegationGridItem:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value(e._localeBase+"delete"),kl.value(e._localeBase+"deleteItem"),Komodo.Controls.MessageBoxYesNoButtons,e,"id123456","alert").response=function(t){if("yes"===t){var o=e.get("dealerDataModel.commandGridItemHouseholdMemberAndAuthority");e.get("dealerDataModel.householdMemberAndAuthority").removeObject(o)}}},getCareOfPersonCollection:function(e){var t=Komodo.Models.ListOfCareOfPersonDetail.create(),o=this;return e.forEach(function(e){var a=Komodo.Models.CareOfPersonDetail.create();a.set("Role",e.role),void 0!==e.allowToTransactInfo&&e.allowToTransactInfo===kl.value(o._authorityLocaleBase+"yes")?a.set("IsAllowedToTransact",!0):a.set("IsAllowedToTransact",!1),a.PersonalDetail=Komodo.Models.PersonalDetail.create(),a.PersonalDetail.set("FirstName",$.trim(e.firstNameHouseholdMemberAndAuthority)),a.PersonalDetail.set("Surname",$.trim(e.lastNameHouseholdMemberAndAuthority)),void 0!==e.identityDetailTypeObject&&null!==e.identityDetailTypeObject&&(a.PersonalDetail.set("IdentityDetailType",e.identityDetailTypeObject),a.PersonalDetail.set("IdentityDetailValue",$.trim(e.identityDetailValueHouseholdMemberAndAuthority))),a.set("ListOfPhoneNumber",Komodo.UI.contactFunctions.getPhoneNumberCollection(o.contactNumbers)),a.set("ListOfEmail",Komodo.UI.contactFunctions.getEmailCollection(o.emails)),t.CareOfPersonDetail.push(a)}),t},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,12e5,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},getCustomerTypeText:function(e){var t=this,o=$.grep(t.get("_customertype"),function(t){return t.CanonicalKey===e});return void 0!=o&&o.length>0?o[0].CanonicalValue:""},clearFormData:function(){this.clearCustomerInformation(),this.clearContactInformation(),this.dealerDataModel.set("addressInformation",[]),this.clearholdMemberAndAuthority(),this.dealerDataModel.set("householdMemberAndAuthority",[])},clearCustomerInformation:function(){this.dealerDataModel.set("language",void 0),this.dealerDataModel.set("companyName",void 0),this.dealerDataModel.set("taxNumber",void 0),this.dealerDataModel.set("registrationNumber",void 0),this.dealerDataModel.set("vatNumber",void 0)},getNewProcessID:function(){this.startNewProcess()},actions:{addAuthorityInformation:function(){this.householdMemberAndAuthority.set("isAuthorityInfoVisible",!0),!1===that.get("dealerDataModel.isIdentificationNumberRequire")?(this.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",void 0),this.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),this.set("dealerDataModel.isIdentificationValueDisable",!0),this.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator")):(this.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority","1"),this.set("dealerDataModel.isIdentificationValueDisable",!1))},addAuthorityDelegationInformation:function(){var e=this;!1!==e.canSubmitData(this.householdMemberAndAuthority,kl.value(e._localeBase+"title"),{showInModal:!0})&&(this.memberAndAuthorityNotAdded()||(this.addHoldMemberAndAuthorityToGrid(),this.clearholdMemberAndAuthority()))},editAuthorityDelegationGridItem:function(){this.editAuthorityDelegationGridItem()},deleteAuthorityDelegationGridItem:function(){this.deleteAuthorityDelegationGridItem()},createDealer:function(){var e=this;if(!1===e.canSubmitData(e.dealerDataModel,kl.value(e._localeBase+"title"),{showInModal:!0}))return!1;if(!Komodo.UI.contactFunctions.validatePhoneData(e.get("contactNumbers"))&&!Komodo.UI.contactFunctions.validateEmailData(e.get("emails"))){if(!($.grep(e.dealerDataModel.householdMemberAndAuthority,function(e){return""!==e.firstNameHouseholdMemberAndAuthority&&void 0!==e.firstNameHouseholdMemberAndAuthority}).length>0))return Komodo.Controls.MessageBoxController.show(kl.value(e._localeBase+"title"),kl.value(e._localeBase+"provideAuthorityDelegation"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","warning"),!1;e.publishCreateDStvCustomerEvent()}}},publishCreateDStvCustomerEvent:function(){var e=this,t=Komodo.Models.CreateDStvCustomer.create(),o=Komodo.canonicalFacadeFactory(t,["Country","CustomerDetail"]);o.set("Country",e.get("loggedInCountryId"));var a=Komodo.Models.CustomerDetail.create(),n=Komodo.canonicalFacadeFactory(a,["UID","StartDate","EndDate","Status","Language","VATNumber","CompanyRegistrationNumber","Class","Type","StockHandlerType","BusinessUnit","CompanyFiscalCode","CompanyName","ListOfCareOfPersonDetail","ListOfPhoneNumber","ListOfAddress","ListOfEmail"]);n.set("Language",e.dealerDataModel.get("language")),n.set("Class",e.get("_payloadCustomerClass")),n.set("Type",e.get("dealerDataModel.customerType")),n.set("StockHandlerType",e.get("dealerDataModel.stockhandlerType")),n.set("BusinessUnit",e.get("_payloadBusinessUnit")),n.set("CompanyFiscalCode",e.get("dealerDataModel.taxNumber")),n.set("CompanyName",e.get("dealerDataModel.companyName")),n.set("CompanyRegistrationNumber",e.get("dealerDataModel.companyRegistrationNumber")),n.set("VATNumber",e.get("dealerDataModel.vatNumber")),n.set("ListOfCareOfPersonDetail",e.getCareOfPersonCollection(e.get("dealerDataModel.householdMemberAndAuthority"))),n.set("ListOfPhoneNumber",Komodo.UI.contactFunctions.getPhoneNumberCollection(e.get("contactNumbers"))),n.set("ListOfAddress",Komodo.UI.addressFunctions.getAddressCollection(e.get("dealerDataModel.addressInformation"))),n.set("ListOfEmail",Komodo.UI.contactFunctions.getEmailCollection(e.get("emails"))),o.set("CustomerDetail",a),e.getNewProcessID(),e.showBusyIndicator(),e.set("_disableCreateCustomerButton",!0),Komodo.Services.CustomerService.submit(e,t).done(function(){Komodo.log("publishCreateDStvCustomerEvent() : Create Customer event has been published.")}).fail(function(e){Komodo.log(e)})},messageDStvCustomerCreatedReceived:function(e){var t=e.ResponseMessage.Payload.CustomerDetail;void 0!==t.UID&&void 0!==t.SubscriberSystemUID.UID&&Komodo.Services.CustomerService.isUserActivityToBeTracked&&Komodo.Services.CustomerService.startActivity(t.SubscriberSystemUID.UID),this.loadCustomerView(e)},loadCustomerView:function(e){var t=this,o=e.ResponseMessage.Payload.CustomerDetail;if(t.hideBusyIndicator(),void 0!==o.UID&&void 0!==o.SubscriberSystemUID.UID){var a=Komodo.Models.CreateCustomerNamespace.CustomerCreatedModel.create();switch(a.set("customerNumber",o.SubscriberSystemUID.UID),a.set("customerClass",o.Class),a.set("name",o.CompanyName),a.set("lastName",o.CompanyName),a.set("companyRegistrationNumber",o.CompanyRegistrationNumber),a.set("taxNumber",o.CompanyFiscalCode),a.set("vatNumber",o.VATNumber),a.set("customerType",t.getCustomerTypeText(o.Type)),o.BusinessUnit){case"DStv":a.set("isDsTvCustomer",!0);break;case"GoTv":a.set("isGoTvCustomer",!0)}if(void 0!==o.ListOfEmail){var n=$.grep($.makeArray(o.ListOfEmail.Email),function(e){return"true"===e.IsPrimary});1===n.length?a.set("email",void 0!==n[0]?$.trim(n[0].Value):""):a.set("email",void 0!==o.ListOfEmail.Email[0]?$.trim(o.ListOfEmail.Email[0].Value):"")}if(void 0!==o.ListOfAddress){var s=$.grep(t.dealerDataModel.addressInformation,function(e){return e.addressType===t.get("_physicalAddressTypeKey")});1===s.length&&a.set("physicalAddress",void 0!==s[0]?s[0].addressString:"")}if(void 0!==o.ListOfPhoneNumber){var i=$.grep($.makeArray(o.ListOfPhoneNumber.PhoneNumber),function(e){return"true"===e.IsPrimary});1===i.length?a.set("mobileNumber",void 0!==i[0]?$.trim(i[0].Code)+$.trim(i[0].Number):""):a.set("mobileNumber",void 0!==o.ListOfPhoneNumber.PhoneNumber[0]?$.trim(o.ListOfPhoneNumber.PhoneNumber[0].Code)+$.trim(o.ListOfPhoneNumber.PhoneNumber[0].Number):"")}t.clearFormData(),this.set("_disableCreateCustomerButton",!1);return Komodo.Services.uiService.getController("customerCreated").setResponseMessage(a),Komodo.Services.uiService.getRoute("application").transitionTo("customerCreated"),!0}return Komodo.Controls.MessageBoxController.show(t.viewTitle,kl.value(t._localeBase+"dealerCreatedFailure")),!1},messageFailureMessageEventReceived:function(e){this.hideBusyIndicator(),this.set("_disableCreateCustomerButton",!1),Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription)},messageCreateDStvCustomerDeliveryFailure:function(e){this.hideBusyIndicator(),this.set("_disableCreateCustomerButton",!1),Komodo.UI.warn("[CreateCustomerController.messageCreateDStvCustomerDeliveryFailure] : messageId = "+e.messageId),Komodo.Controls.MessageBoxController.show(kl.value(this._localeBase+"title"),kl.value(this._localeBase+"messageCreateDStvCustomerDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},messageFault:function(){this.hideBusyIndicator(),this.set("_disableCreateCustomerButton",!1),Komodo.Controls.MessageBoxController.show(kl.value(this._localeBase+"title"),kl.value(this._localeBase+"messageCreateDStvCustomerDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},messageReceived:function(){this.hideBusyIndicator()},messageDeliveryFailure:function(e){this.hideBusyIndicator(),this.set("_disableCreateCustomerButton",!1),Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription)},countryChanged:function(){var e=this;e.get("_provinces").clear(),e.provinceChanged(),e.citiesChanged(),e.suburbChanged(),e.customerAddressInformation.set("postalCode",void 0),e.get("customerAddressInformation.country")&&$.each(e.get("_countries"),function(t,o){o.CanonicalKey===e.get("customerAddressInformation.country")&&(e.get("_provinces").clear(),e.set("_cities",[]),e.get("_suburbs").clear(),e.get("_postalCodes").clear(),o.Provinces&&o.Provinces.Province&&($.isArray(o.Provinces.Province)?$.each(o.Provinces.Province,function(t,o){e.get("_provinces").addObject(o)}):e.get("_provinces").addObject(o.Provinces.Province)))})}.observes("customerAddressInformation.country"),provinceChanged:function(){var e=this;e.set("_cities",[]),this.customerAddressInformation.set("city",void 0),this.customerAddressInformation.set("suburb",void 0),e.citiesChanged(),e.suburbChanged(),e.customerAddressInformation.set("postalCode",void 0),e.get("customerAddressInformation.province")&&$.each(e.get("_provinces"),function(t,o){o.CanonicalKey===e.get("customerAddressInformation.province").CanonicalKey&&(e.get("_cities").addObject({_cities:[]}),e.set("_cities",[]),e.get("_cities").clear(),e.get("_suburbs").clear(),e.get("_postalCodes").clear(),o.Cities&&o.Cities.City&&(e.set("customerAddressInformation.province.CanonicalKey",o.CanonicalKey),e.set("customerAddressInformation.province.CanonicalValue",o.CanonicalValue),$.isArray(o.Cities.City)?$.each(o.Cities.City,function(t,o){e.get("_cities").addObject(o)}):e.get("_cities").addObject(o.Cities.City)))})}.observes("customerAddressInformation.province"),citiesChanged:function(){var e=this;e.suburbChanged(),e.customerAddressInformation.set("postalCode",void 0),this.customerAddressInformation.set("suburb",void 0),e.get("_suburbs").clear(),e.get("customerAddressInformation.city")&&$.each(e.get("_cities"),function(t,o){o.CanonicalKey===e.get("customerAddressInformation.city").CanonicalKey&&(e.get("_suburbs").clear(),e.get("_postalCodes").clear(),o.Suburbs&&o.Suburbs.Suburb&&(e.set("customerAddressInformation.city.CanonicalKey",o.CanonicalKey),e.set("customerAddressInformation.city.CanonicalValue",o.CanonicalValue),$.isArray(o.Suburbs.Suburb)?$.each(o.Suburbs.Suburb,function(t,o){e.get("_suburbs").addObject(o)}):e.get("_suburbs").addObject(o.Suburbs.Suburb)))})}.observes("customerAddressInformation.city"),suburbChanged:function(){var e=this;e.customerAddressInformation.set("postalCode",void 0),e.get("customerAddressInformation.suburb")&&$.each(e.get("_suburbs"),function(t,o){o.CanonicalKey===e.get("customerAddressInformation.suburb").CanonicalKey&&(e.get("_postalCodes").clear(),e.set("customerAddressInformation.suburb.CanonicalKey",o.CanonicalKey),e.set("customerAddressInformation.suburb.CanonicalValue",o.CanonicalValue),o.PostalCode&&e.set("customerAddressInformation.postalCode",o.PostalCode))})}.observes("customerAddressInformation.suburb"),isVatRegisteredChanged:function(){var e=this;if(void 0!==e.dealerDataModel.isVatRegistered)switch(e.dealerDataModel.isVatRegistered){case"1":e.createDependentProperty("vatNumberValidator",[Komodo.UI.Validators.RequiredValidator]),e.set("isVATDisabled",!1),e.removeDependentProperty("taxNumberValidator");break;case void 0:case null:case"0":e.createDependentProperty("taxNumberValidator",[Komodo.UI.Validators.RequiredValidator]),e.dealerDataModel.set("vatNumber",""),e.set("isVATDisabled",!0),e.removeDependentProperty("vatNumberValidator")}}.observes("dealerDataModel.isVatRegistered"),identityTypeChanged:function(){var e=this;switch(e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority){case void 0:case null:e.householdMemberAndAuthority.set("hideIndetityDetail",!1),!1!==e.get("dealerDataModel.isIdentificationNumberRequire")||null!==e.get("dealerDataModel.identityDetailType")&&void 0!==e.get("dealerDataModel.identityDetailType")||(e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),e.set("dealerDataModel.isIdentificationValueDisable",!0));break;case"1":e.householdMemberAndAuthority.set("hideIndetityDetail",!1),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX")),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMinLength"),functions:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidatorWithMinMax]:[Komodo.UI.Validators.numericValidator]}),e.set("dealerDataModel.isIdentificationValueDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.NRC:e.householdMemberAndAuthority.set("hideIndetityDetail",!1),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX")),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}),e.set("dealerDataModel.isIdentificationValueDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.DrivingLicence:e.householdMemberAndAuthority.set("hideIndetityDetail",!1),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MAX")),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.BOTSWANA")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?[Komodo.UI.Validators.numericValidator]:[Komodo.UI.Validators.alphanumericValidator]}),e.set("dealerDataModel.isIdentificationValueDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.VotersId:e.householdMemberAndAuthority.set("hideIndetityDetail",!1),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MAX")),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator]}),e.set("dealerDataModel.isIdentificationValueDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.NationalId:e.householdMemberAndAuthority.set("hideIndetityDetail",!1),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MAX")),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator]}),e.set("dealerDataModel.isIdentificationValueDisable",!1);break;default:e.householdMemberAndAuthority.set("hideIndetityDetail",!1),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MAX")),Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters}):Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}):e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator}),e.set("dealerDataModel.isIdentificationValueDisable",!1)}}.observes("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority"),relationChanged:function(){var e=this;void 0!==e.householdMemberAndAuthority&&"Other"===e.householdMemberAndAuthority.relation?(e.set("_showRoleText",!0),e.registerValidator(e.get("householdMemberAndAuthority"),"role",{type:"string",isRequired:!0,minLength:2,maxLength:50,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator,displayName:kl.value(e._localeBase+"role")})):(e.set("_showRoleText",!1),e.householdMemberAndAuthority.set("role",void 0),e.removeDependentProperty("roleValidator"))}.observes("householdMemberAndAuthority.relation"),customerTypeChanged:function(){var e=this;void 0!==e.get("dealerDataModel.customerType")&&e.populateHierachicalCDMDataSet("StockhandlerRelationship",e._stockhandlerType)}.observes("dealerDataModel.customerType"),_countries:[],_provinces:[],_cities:[],_suburbs:[],_postalCodes:[],_languages:[],_countriesOfOrigin:[],_banks:[],_idTypes:[],_communicationMethods:[],_addressTypes:[],_methodsOfPayment:[],contactNumbers:[],_countryDescription:void 0,emails:[],_titles:[],_householdMemberRelation:[],_householdMemberIdType:[],_localeBase:"locale.createDealer:dealer.",_addressLocaleBase:"locale.createDealer:addressInformation.",_authorityLocaleBase:"locale.createDealer:authorityDelegationInformation.",_isAllowToTransactDisabled:!1,_postalSameAsPhysical:!1,_showSameAsPhysical:!1,_mobileCount:0,_homephoneCount:0,_workPhoneCount:0,_dialingCode:void 0,_physicalAddress:!0,_mobileCode:[],_customertype:[],_disableCreateCustomerButton:!1,_authorityRolesList:[],_payloadCustomerClass:"6",_payloadBusinessUnit:"DStv",_physicalAddressTypeKey:"3",_showRoleText:!1,_customerTypeText:"Dealer",_stockhandlerType:[],_emailRequired:void 0}),
Komodo.Application.CsiCustomerController=Komodo.UI.Controller.extend({init:function(){Komodo.log("Constructing Create CSI Customer controller"),this.set("processVersion","v1.1"),this.set("processName","Create CSI Customer process");var e=this,t=Ember.ArrayProxy.create({content:Ember.A([])});e.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),e.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),e.dataGridColumnAuthorityDelegation=[Komodo.Controls.DataGridColumn.create({name:"fullname",title:kl.value(e.localeBase+"fullname")}),Komodo.Controls.DataGridColumn.create({name:"identityDetailValueHouseholdMemberAndAuthority",title:kl.value(e.localeBase+"identityDetailValue")}),Komodo.Controls.DataGridColumn.create({name:"role",title:kl.value(e.localeBase+"role")}),Komodo.Controls.DataGridColumn.create({name:"allowToTransactInfo",title:kl.value(e.localeBase+"allowToTransactInfo")}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"editButton"),displayText:kl.value(e.localeBase+"editButton"),width:"30px",action:"editAuthorityDelegationGridItem",displayType:"link"}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"delete"),displayText:kl.value(e.localeBase+"delete"),width:"30px",action:"deleteAuthorityDelegationGridItem",displayType:"link"})],e.set("productsWithStandardObject",t),this._super()},start:function(){var e=this;e.registerModel("customerDataModel",Komodo.Models.CreateCustomerNamespace.CreateCustomerModel),e.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.set("householdMemberAndAuthority",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.set("phoneNumber",Komodo.Models.CreateCustomerNamespace.ContactInformation.create()),e.set("email",Komodo.Models.CreateCustomerNamespace.ContactEmail.create()),e.contactNumbers.clear(),e.emails.clear(),e.createCDMData(),e.registerValidation(),e.set("isPostal",!1),e.set("customerCreated",!0),e.set("isCreateCustomerButtonDisable",!1),e.customerDataModel.set("startDate",new Date((new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getFullYear())),e.customerDataModel.set("contactInformation",[]),e.customerDataModel.set("addressInformation",[]),e.customerDataModel.set("householdMemberAndAuthority",[]),e.customerDataModel.set("isAddMobileButton",!1),e.customerDataModel.set("isAddWorkContactButton",!1),e.customerDataModel.set("isAddHomePhoneButton",!1),e.customerDataModel.set("isAddEmailButton",!1),e.customerDataModel.set("isIDFieldDisabled",!1),e.customerDataModel.set("methodOfPayment","1"),e.customerDataModel.set("isVatRegistered","1"),e.setInvoiceDay(),e.set("identificationMinLength",GetCustomerTypesConstants("CustomerValidationsConstants","IDNUMBERMIN")),e.customerDataModel.set("addressInformation",[]),!0!==e.isCreate&&void 0!==e.isCreate||e.showTermsPopUp(),e._super()},stop:function(){var e=this;e.hideBusyIndicator(),e._super()},getEventAggregator:function(){return this.get("_eventAggregator")},showTermsPopUp:function(){var e=this;void 0===e.customerDataModel&&e.start(),Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"acceptTermAndConditionTitle"),kl.value(e.localeBase+"acceptTermAndCondition"),Komodo.Controls.MessageBoxAcceptDeclineButtons,this).response=function(t){"accept"===t?(e.set("isCreate",!0),e.customerDataModel.set("acceptTermAndCondition","1"),e.contactNumbers.length<1&&e.addPhoneNumber(),e.emails.length<1&&e.addEmail()):e.getUIService().getController("application").redirectReturn("home")}},registerValidation:function(){var e=this;e.registerValidator(e.get("customerDataModel"),"companyName",{type:"string",isRequired:!0,minLength:3,maxLength:50}),e.registerValidator(e.get("customerDataModel"),"registrationNumber",{type:"string",isRequired:!0,minLength:8,maxLength:50}),e.registerValidator(e.get("customerDataModel"),"businessType",{type:"string",isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"establishmentType",{type:"string",isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"isVatRegistered",{type:"bool",displayName:kl.value(e.localeBase+"isVatRegistered")}),e.registerValidator(e.get("customerDataModel"),"taxNumber",{type:"string",isRequired:!0,minLength:3,maxLength:11}),e.registerValidator(e.get("customerDataModel"),"vatNumber",{type:"string",isRequired:!0,minLength:3,maxLength:11}),e.registerValidator(e.get("customerDataModel"),"language",{type:"string",isRequired:!0}),e.registerValidator(e.get("householdMemberAndAuthority"),"allowToTransactInfo",{type:"string",isRequired:!0}),e.registerValidator(e.get("householdMemberAndAuthority"),"firstNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("householdMemberAndAuthority"),"lastNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("householdMemberAndAuthority"),"relation",{type:"string",isRequired:!0,minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("householdMemberAndAuthority"),"role",{type:"string",minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace,displayName:kl.value(e.localeBase+"role")}),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailTypeHouseholdMemberAndAuthority"}),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:8,maxLength:13,functions:Komodo.UI.Validators.alphanumericValidator})},createCDMData:function(){var e=this,t=void 0,o=void 0,a=$.Deferred(),t=Komodo.Services.uiService.getController("application").get("_selectedCountryId"),n=Komodo.Services.uiService.getController("application").get("_selectedCountryDescription"),o=Komodo.Services.localizationService.getCurrentLanguage();return e.set("loggedInCountry",{countryDescription:n,countryId:t}),e.set("country",n),e.set("loggedInCountryId",t),e.getStaticCDMData(t,o,"MethodOfPayment",e.paymentMethods),e.getStaticCDMData(t,o,"CommunicationLanguage",e.languages),e.getStaticCDMData(t,o,"RepeatCallerIdentification",e.fiscalCodes),e.getStaticCDMData(t,o,"CountryOfOrigin",e.countriesOfOrigin),e.getStaticCDMData(t,o,"IDType",e.identityDetailTypes),e.getStaticCDMData(t,o,"CommunicationMethod",e.communicationMethods),e.getStaticCDMData(t,o,"AddressType",e.addressTypes),e.getStaticCDMData(t,o,"EstablishmentType",e.establishments),e.getStaticCDMData(t,o,"AccountType",e.accountTypes),e.getStaticCDMData(t,o,"RDChequeStatus",e.rdChequeStatuses),e.getStaticCDMData(t,o,"CustomerType",e.customerTypes),e.getStaticCDMData(t,o,"CustomerAuthorityDelegatedRole",e.authorityRolesList),e.getStaticCDMData(t,o,"InvoiceDayCommercial",e.invoiceDays),e.getHierachicalCDMData(t,o,"CountryDetail",e.countriesWithCodes),e.getHierachicalCDMData(t,o,"EstablishmentTypeRelationship",e.businessTypes),e.getHierachicalCDMData(t,o,"Location",e.countries).done(function(e){a.resolve(e)}),Komodo.Services.featureToggleService.isEnabled("ManageCustomer","ShowRepeatCallerIdentification").done(function(t){e.set("showFiscalCode",t)}),a},getHierachicalCDMData:function(e,t,o,a){var n=this,s=$.Deferred();return Komodo.Services.cachedDataService.fetch(o,{domain:e,qualifier:t}).done(function(e){var t=JSON.parse(e);switch(a.clear(),o){case"BankDetail":$.each($.makeArray(t.Banks.Bank),function(e,t){a.addObject(t)});break;case"Location":$.each($.makeArray(t.Countries.Country),function(e,t){a.addObject(t)}),s.resolve(e);break;case"CountryDetail":$.each($.makeArray(t.Countries.Country),function(e,t){a.addObject(t)});break;case"EstablishmentTypeRelationship":$.each($.makeArray(t.CustomerClasses.CustomerClass),function(e,t){t.CanonicalKey===n.csiClassId&&$.each($.makeArray(t.CustomerTypes.CustomerType),function(e,t){a.addObject(t)})});break;default:Komodo.log("[ERROR] : Unknown Hierachical dataset: "+o)}}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for "+o)}),s},getStaticCDMData:function(e,t,o,a){var n=this;Komodo.Services.cachedDataService.fetch(o,{domain:e,qualifier:t}).done(function(e){switch(a.clear(),o){case"CommunicationMethod":$.each(e,function(e,t){"None"!==t.value&&a.addObject(t)});break;case"AddressType":$.each(e,function(e,t){a.addObject(t)}),a.reverse();break;case"MethodOfPayment":$.each(e,function(e,t){"CASH"!==t.value.toUpperCase()&&"PAYROLL"!==t.value.toUpperCase()&&"AHV PENDING"!==t.value.toUpperCase()&&a.addObject(t)});break;case"InvoiceDayCommercial":e=e.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),Komodo.Services.featureToggleService.isEnabled("CreateCustomer","LimitInvoiceDayCommercial").done(function(t){$.each(e,function(e,o){t&&o.key<=28&&a.addObject(o),!1===t&&a.addObject(o)}),n.setInvoiceDay()}).fail(function(e){Komodo.log("Error while checking feature toggle. Error Details:"+e)}),n.setInvoiceDay();break;case"CustomerAuthorityDelegatedRole":$.each(e,function(e,t){a.addObject(t)});break;default:$.each(e,function(e,t){a.addObject(t)})}}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for "+o)})},createDependentProperty:function(e,t){var o=this;t.forEach(function(t){void 0!==o.get("validators."+e)&&o.get("validators."+e).functions.addObject(t)}),o.get("validators."+e).validate()},removeDependentProperty:function(e){var t=this;void 0!==t.get("validators."+e)&&(t.get("validators."+e).functions.clear(),t.get("validators."+e).validate())},addPhoneNumber:function(){for(var e,t=this,o=0;o<t.contactNumbers.length;o++)if(void 0!==(e=t.canSubmitData(t.contactNumbers[o],t.viewTitle,{showInModal:!0}))&&!e)return;if(!t.checkContactCount()){var a=t.getNewPhoneNumber();if(a&&a.commercialContactDetailType){var n=$.grep(a.commercialContactDetailType,function(e){return"2"===e.key});n&&n.length>0&&a.set("type",n[0].key)}t.contactNumbers.length<1?a.set("Id",t.contactNumbers.length+1):a.set("Id",t.contactNumbers[t.contactNumbers.length-1].Id+1);if($.grep(t.contactNumbers,function(e){return!0===e.isPrimary}).length<1?Ember.set(a,"isPrimary",!0):Ember.set(a,"isPrimary",!1),void 0!==t.countriesWithCodes&&t.countriesWithCodes.length>0){var s=$.grep(t.countriesWithCodes,function(e){return e.CanonicalValue.toLowerCase()===t.loggedInCountry.countryDescription.toLowerCase()});s.length>0&&a.set("countryCode",s[0].DialingCode)}t.contactNumbers.pushObject(a),t.contactNumbers.length>1?t.customerDataModel.set("shouldDisableRemoveHomeButton",!1):(t.customerDataModel.set("shouldDisableAddHomeButton",!1),t.customerDataModel.set("shouldDisableRemoveHomeButton",!0))}},getNewPhoneNumber:function(){var e=this,t=Komodo.Models.CreateCustomerNamespace.ContactInformation.create(),o="phoneNumberValidator"+(e.contactNumbers.length+1);e.registerValidator(t,"contactValue",{isRequired:!0,displayName:kl.value(e.localeBase+"phoneNumber"),minLength:7,maxLength:10,functions:Komodo.UI.Validators.numericValidator,name:o}),t.set("validator",e.validators[o]);var a="phoneTypeValidator"+(e.contactNumbers.length+1);e.registerValidator(t,"type",{isRequired:!0,displayName:kl.value(e.localeBase+"phoneType"),name:a}),t.set("phoneTypeValidator",e.validators[a]);var n="countryCodeValidator"+(e.contactNumbers.length+1);return e.registerValidator(t,"countryCode",{type:"number",isRequired:!0,displayName:kl.value(e.localeBase+"countryCode"),minLength:2,maxLength:4,functions:Komodo.UI.Validators.numericValidator,name:n}),t.set("countryCodeValidator",e.validators[n]),t},checkContactCount:function(){var e=this;return!!e.showMessage(e.mobileCount,"Mobile")||(!!e.showMessage(e.homephoneCount,"Home")||!!e.showMessage(e.workPhoneCount,"Work"))},showMessage:function(e,t){var o=this;return e>o.MAXIMUM_CONTACT_PER_TYPE&&(Komodo.Controls.MessageBoxController.show(o.viewTitle,kl.value(o.localeBase+"maximum"+t)),!0)},addEmail:function(){for(var e=this,t=void 0,o=e.getNewEmail(),a=0;a<e.emails.length&&(t=e.canSubmitData(e.emails[a],e.viewTitle,{showInModal:!0}));a++)if(void 0===e.emails[a].contactValue||""===e.emails[a].contactValue){Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"emailMissing"),[Komodo.Controls.MessageBoxOkButton],void 0,"OK","danger"),t=!1;break}if(void 0===t||t){e.emails.length<1?o.set("Id",e.emails.length+1):o.set("Id",e.emails[e.emails.length-1].Id+1);$.grep(e.emails,function(e){return!0===e.isPrimary}).length<1&&o.set("isPrimary",!0),e.emails.addObject(o)}},getNewEmail:function(){var e=this,t=Komodo.Models.CreateCustomerNamespace.ContactEmail.create(),o="emailValidator"+(e.emails.length+1);return e.registerValidator(t,"contactValue",{type:"string",isRequired:!0,displayName:kl.value(e.localeBase+"email"),regExPattern:Komodo.UI.Validators.RegExPatterns.Email,name:o}),t.set("validator",e.validators[o]),t},getAddressString:function(e,t){var o=this,a="";void 0!==e.unit&&null!==e.unit&&""!==$.trim(e.unit)&&(a+=$.trim(e.unit)+", "),void 0!==e.building&&null!==e.building&&""!==$.trim(e.building)&&(a+=$.trim(e.building)+", "),t===Komodo.CanonicalValues.AddressTypes.Postal?(""!==e.boxType&&void 0!==e.boxType&&null!==e.boxType&&(a+=$.trim(e.boxType)+", "),""!==e.privateBag&&void 0!==e.privateBag&&null!==e.privateBag&&(a+=$.trim(e.privateBag)+", ")):(void 0!==e.streetNumber&&null!==e.streetNumber&&""!==$.trim(e.streetNumber)&&(a+=$.trim(e.streetNumber)+", "),void 0!==e.streetName&&null!==e.streetName&&""!==$.trim(e.streetName)&&(a+=$.trim(e.streetName)+", ")),void 0!==e.suburb&&null!==e.suburb&&""!==$.trim(e.suburb)&&(a+=e.suburb+", "),void 0!==e.city&&null!==e.city&&""!==$.trim(e.city)&&(a+=e.city+", ");var n=$.grep($.makeArray(o.countries),function(t){return t.CanonicalKey.toUpperCase()===e.country.toUpperCase()});if(n.length>0){var s=$.grep($.makeArray(n[0].Provinces.Province),function(t){return t.CanonicalKey.toUpperCase()===e.province.toUpperCase()});s.length>0&&(a+=$.trim(s[0].CanonicalValue)+", "),a+=$.trim(n[0].CanonicalValue)+", "}return void 0!==e.postalCode&&null!==e.postalCode&&""!==$.trim(e.postalCode)&&(a+=e.postalCode+", "),a=$.trim(a).replace(/^,|,$/g,"")},holdMemberAndAuthorityNotAdded:function(){var e=this,t=!1;return e.customerDataModel.householdMemberAndAuthority.forEach(function(o){o.identityDetailValueHouseholdMemberAndAuthority===e.householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority&&o.allowToTransactInfoHouseholdMemberAndAuthority===e.householdMemberAndAuthority.allowToTransactInfoHouseholdMemberAndAuthority&&o.householdMemberInfoHouseholdMemberAndAuthority===e.householdMemberAndAuthority.householdMemberInfoHouseholdMemberAndAuthority&&o.firstNameHouseholdMemberAndAuthority===e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority&&o.lastNameHouseholdMemberAndAuthority===e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority&&o.identityDetailTypeHouseholdMemberAndAuthority===e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&o.role===e.householdMemberAndAuthority.role&&(t=!0)}),t},addHoldMemberAndAuthorityToGrid:function(){var e=this;"0"===e.householdMemberAndAuthority.allowToTransactInfo?e.newHoldMemberAndAuthorityGriditem.set("allowToTransactInfo",kl.value("locale.commercialcustomer:customerInformation.no")):e.newHoldMemberAndAuthorityGriditem.set("allowToTransactInfo",kl.value("locale.commercialcustomer:customerInformation.yes")),e.newHoldMemberAndAuthorityGriditem.set("firstNameHouseholdMemberAndAuthority",e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority),e.newHoldMemberAndAuthorityGriditem.set("lastNameHouseholdMemberAndAuthority",e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority),void 0!==e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&null!==e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&e.newHoldMemberAndAuthorityGriditem.set("identityDetailTypeHouseholdMemberAndAuthority",e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority.value),e.newHoldMemberAndAuthorityGriditem.set("fullname",e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority+" "+e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority),e.newHoldMemberAndAuthorityGriditem.set("identityDetailValueHouseholdMemberAndAuthority",e.householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority),e.householdMemberAndAuthority.relation===Komodo.CustomerAuthorityDelegatedRoles.OTHER?e.newHoldMemberAndAuthorityGriditem.set("role",e.householdMemberAndAuthority.role):e.newHoldMemberAndAuthorityGriditem.set("role",e.householdMemberAndAuthority.relation),e.newHoldMemberAndAuthorityGriditem.set("identityDetailTypeObject",e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority),e.addGridHoldMemberAndAuthorityRow(),e.householdMemberAndAuthority.set("isAuthorityInfoVisible",!1)},addGridHoldMemberAndAuthorityRow:function(){this.customerDataModel.householdMemberAndAuthority.pushObject(this.get("newHoldMemberAndAuthorityGriditem")),this.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create())},editAuthorityDelegationGridItem:function(){var e=this;if(void 0!==e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority")){e.householdMemberAndAuthority.set("firstNameHouseholdMemberAndAuthority",$.trim(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("firstNameHouseholdMemberAndAuthority"))),e.householdMemberAndAuthority.set("lastNameHouseholdMemberAndAuthority",$.trim(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("lastNameHouseholdMemberAndAuthority")));var t=$.grep(e.identityDetailTypes,function(t){return t.key===$.trim(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject.key"))});t.length>0?e.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",t[0]):e.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",void 0),e.householdMemberAndAuthority.set("identityDetailValueHouseholdMemberAndAuthority",$.trim(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailValueHouseholdMemberAndAuthority")));var o=$.grep(e.authorityRolesList,function(t){return t.value===e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("role")});o.length>0?(e.householdMemberAndAuthority.set("relation",o[0].value),e.householdMemberAndAuthority.set("role",void 0)):(e.householdMemberAndAuthority.set("relation",Komodo.CustomerAuthorityDelegatedRoles.OTHER),e.householdMemberAndAuthority.set("role",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("role"))),"No"===e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("allowToTransactInfo")?e.householdMemberAndAuthority.set("allowToTransactInfo","0"):e.householdMemberAndAuthority.set("allowToTransactInfo","1"),e.householdMemberAndAuthority.set("isAuthorityInfoVisible",!0),e.clearAuthorityDelegationGrid()}},deleteAuthorityDelegationGridItem:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"delete"),kl.value(e.localeBase+"deleteItem"),Komodo.Controls.MessageBoxYesNoButtons,e,"id123456","warning").response=function(t){if("yes"===t){var o=e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority");e.get("customerDataModel.householdMemberAndAuthority").removeObject(o)}}},clearAuthorityDelegationGrid:function(){var e=this;e.customerDataModel.set("householdMemberAndAuthority",$.grep(e.customerDataModel.householdMemberAndAuthority,function(t){return e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")!==t.firstNameHouseholdMemberAndAuthority||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")!==t.lastNameHouseholdMemberAndAuthority||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")!==t.identityDetailTypeHouseholdMemberAndAuthority||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")!==t.identityDetailValueHouseholdMemberAndAuthority||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.role")!==t.role||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.allowToTransactInfo")!==t.allowToTransactInfo}))},getAccounts:function(){var e=this,t=Komodo.Models.Account.create(),o=Komodo.canonicalFacadeFactory(t,["Type","UID","Name","StartDate","EndDate","DunningLevel","Balance","TermOfPayment","Status","PaymentDetail"]),a=new Date;o.set("StartDate",a),$(e.accountTypes).each(function(e,o){if("DStvComm"===o.value)return void t.set("Type",o.key)}),o.set("Name","Main Location");var n=Komodo.Models.PaymentDetail.create();return void 0!==e.customerDataModel.get("methodOfPayment")&&"1"===e.customerDataModel.get("methodOfPayment")&&(n.set("MethodOfPayment",e.customerDataModel.get("methodOfPayment")),n.set("DebitOrderDay",e.invoiceDays[0].key)),o.set("PaymentDetail",n),t},getCareOfPersonCollection:function(e){var t=Komodo.Models.ListOfCareOfPersonDetail.create(),o=this;return e.forEach(function(e){var a=Komodo.Models.CareOfPersonDetail.create();a.set("Role",e.role),e.allowToTransactInfo&&e.allowToTransactInfo===kl.value("locale.commercialcustomer:customerInformation.yes")?a.set("IsAllowedToTransact",!0):a.set("IsAllowedToTransact",!1),a.PersonalDetail=Komodo.Models.PersonalDetail.create(),a.PersonalDetail.set("FirstName",$.trim(e.firstNameHouseholdMemberAndAuthority)),a.PersonalDetail.set("Surname",$.trim(e.lastNameHouseholdMemberAndAuthority)),void 0!==e.identityDetailTypeObject&&null!==e.identityDetailTypeObject&&(a.PersonalDetail.set("IdentityDetailType",e.identityDetailTypeObject.key),a.PersonalDetail.set("IdentityDetailValue",$.trim(e.identityDetailValueHouseholdMemberAndAuthority))),a.set("ListOfPhoneNumber",o.getPhoneNumberCollection(o.contactNumbers)),a.set("ListOfEmail",o.getEmailCollection(o.emails)),t.CareOfPersonDetail.push(a)}),t},getPhoneNumberCollection:function(e){var t=Komodo.Models.ListOfPhoneNumber.create();return e.forEach(function(e){var o=Komodo.Models.PhoneNumber.create();void 0!==e.countryCode&&void 0!==e.contactValue&&(o.set("Type",e.type),o.set("Code",$.trim(e.countryCode)),o.set("Number",$.trim(e.contactValue)),o.set("IsPrimary",e.isPrimary),!0===e.isPrimary?o.set("IsMarketingEnabled",!0):o.set("IsMarketingEnabled",!1),t.PhoneNumber.push(o))}),t},getEmailCollection:function(e){var t=Komodo.Models.ListOfEmail.create();return e.forEach(function(e){if(e.contactValue){var o=Komodo.Models.Email.create();o.set("Value",$.trim(e.contactValue)),o.set("IsPrimary",e.isPrimary),!0===e.isPrimary?o.set("IsMarketingEnabled",!0):o.set("IsMarketingEnabled",!1),t.Email.push(o)}}),t},getPersonalDetail:function(){var e=this,t=Komodo.Models.PersonalDetail.create(),o=Komodo.canonicalFacadeFactory(t,["Title","FirstName","Surname","Initial","BirthDate","MaritalStatus","IdentityDetailType","IdentityDetailValue","CountryOfOrigin","ExpiryDate"]);return void 0!==e.customerDataModel.companyName&&null!==e.companyName&&o.set("Surname",$.trim(e.customerDataModel.companyName)),t},clearCompanyInformation:function(){this.customerDataModel.set("language",void 0),this.customerDataModel.set("companyName",void 0),this.customerDataModel.set("taxNumber",void 0),this.customerDataModel.set("businessType",void 0),this.customerDataModel.set("registrationNumber",void 0),this.customerDataModel.set("vatNumber",void 0),this.customerDataModel.set("establishmentType",void 0)},clearContactInformation:function(){this.contactNumbers.clear(),this.emails.clear(),this.addPhoneNumber(),this.addEmail(),this.customerDataModel.set("contactFacebook",void 0),this.customerDataModel.set("contactgooglePlus",void 0),this.customerDataModel.set("contactTwitter",void 0),this.customerDataModel.set("contactOther",void 0),this.customerDataModel.set("contactIn",void 0)},clearholdMemberAndAuthority:function(){this.householdMemberAndAuthority.set("householdMemberInfo","0"),this.householdMemberAndAuthority.set("allowToTransactInfo","0"),this.householdMemberAndAuthority.set("firstNameHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("lastNameHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("identityDetailValueHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("countryOfOrigin",void 0),this.householdMemberAndAuthority.set("expiryDate",void 0),this.householdMemberAndAuthority.set("role",void 0),this.householdMemberAndAuthority.set("relation",void 0),this.householdMemberAndAuthority.set("relationObject",void 0),this.householdMemberAndAuthority.set("identityDetailTypeObject",void 0)},clearFormData:function(){this.clearCompanyInformation(),this.customerDataModel.set("dateOfBirth",void 0),this.clearContactInformation(),this.customerDataModel.set("acceptMarketingInfo",!1),this.customerDataModel.set("methodOfCommunication",void 0),this.customerDataModel.set("rdCheque",void 0),this.customerDataModel.set("addressInformation",[]),this.customerDataModel.set("isAddMobileButton",!1),this.customerDataModel.set("isAddWorkContactButton",!1),this.customerDataModel.set("isAddHomePhoneButton",!1),this.customerDataModel.set("isAddEmailButton",!1),this.clearholdMemberAndAuthority(),this.customerDataModel.set("householdMemberAndAuthority",[])},setCustomerDetails:function(){var e=this;e.set("isCreate",!1),e.set("UID",void 0),e.set("SubscriberSystemUID",void 0),Komodo.Services.customerProfileService.set("isBannerOpen",!0),Komodo.Services.customerProfileService.validateCustomerClass(e.csiClassId).done(function(t){if(void 0!==t&&null!==t)void 0===e.countries||0===e.countries.length?e.createCDMData().done(function(){e.retrieveCustomer(t.CustomerNumber)}):e.retrieveCustomer(t.CustomerNumber);else{Komodo.Controls.MessageBoxController.show(kl.value("locale.csicustomer:customerprofile.customerNotFoundTitle"),kl.value("locale.csicustomer:customerprofile.customerNotFound"),Komodo.Controls.MessageOKButtons,e,"id5446673","warning").response=function(e){if("ok"===e)return void Komodo.Services.uiService.transitionTo("home")}}})},mapCustomerInformation:function(e){var t=this;if(void 0!==e&&void 0!==e.SubscriberSystemUID&&e.SubscriberSystemUID.SubscriberSystem.length>0&&t.customerDataModel){t.set("UID",e.SubscriberSystemUID.SubscriberSystem[0].UID),t.set("SubscriberSystemUID",e.UID),t.customerDataModel.set("customerClass",e.Class),t.customerDataModel.set("status",e.Status),null!==e.VATNumber&&void 0!==e.VATNumber&&""!==e.VATNumber.trim()&&null!==e.CompanyFiscalCode&&void 0!==e.CompanyFiscalCode&&""!==e.CompanyFiscalCode.trim()||t.customerDataModel.set("isVatRegistered","2"),null!==e.VATNumber&&void 0!==e.VATNumber&&""!==e.VATNumber.trim()&&t.customerDataModel.set("isVatRegistered","1"),null!==e.CompanyFiscalCode&&void 0!==e.CompanyFiscalCode&&""!==e.CompanyFiscalCode.trim()&&t.customerDataModel.set("isVatRegistered","0"),void 0!==e.PersonalDetail&&t.customerDataModel.set("acceptMarketingInfo",void 0!==e.IsSubscribedForMagazine&&!0===e.IsSubscribedForMagazine?"1":"0"),t.customerDataModel.set("language",e.Language),t.customerDataModel.set("companyName",e.CompanyName),t.customerDataModel.set("taxNumber",e.CompanyFiscalCode),t.customerDataModel.set("registrationNumber",e.CompanyRegistrationNumber),t.customerDataModel.set("vatNumber",e.VATNumber);var o=$.grep(t.businessTypes,function(t){return t.CanonicalKey===e.Type});o.length>0&&t.customerDataModel.set("businessType",o[0]);var a=$.grep(t.establishmentTypes,function(t){return t.CanonicalKey===e.EstablishmentType});if(a.length>0&&t.customerDataModel.set("establishmentType",a[0]),void 0!==e.ListOfPhoneNumber&&null!==e.ListOfPhoneNumber){t.contactNumbers.clear(),e.ListOfPhoneNumber.PhoneNumber.forEach(function(e,o){t.contactNumbers.pushObject(t.mapContactInformation(e,o))});0===$.grep(t.contactNumbers,function(e){return!0===e.isPrimary}).length&&Ember.set(t.contactNumbers[0],"isPrimary",!0)}if(void 0!==e.ListOfEmail&&null!==e.ListOfEmail){t.emails.clear(),e.ListOfEmail.Email.forEach(function(e,o){t.emails.pushObject(t.mapEmailInformation(e,o))});0===$.grep(t.emails,function(e){return!0===e.isPrimary}).length&&Ember.set(t.emails[0],"isPrimary",!0)}void 0!==e.ListOfAddress&&null!==e.ListOfAddress&&(t.customerDataModel.addressInformation.clear(),e.ListOfAddress.Address.forEach(function(e){t.customerDataModel.addressInformation.pushObject(t.mapAddressInformation(e))})),void 0!==e.ListOfCareOfPersonDetail&&null!==e.ListOfCareOfPersonDetail&&(t.customerDataModel.householdMemberAndAuthority.clear(),e.ListOfCareOfPersonDetail.CareOfPersonDetail.forEach(function(e){t.customerDataModel.householdMemberAndAuthority.pushObject(t.mapAuthorityDelegationInformation(e))}))}},mapContactInformation:function(e,t){var o=this.getNewPhoneNumber();return o.set("Id",t),o.set("type",e.Type),o.set("countryCode",e.Code),o.set("contactValue",e.Number),o.set("isPrimary",e.IsPrimary),o},mapEmailInformation:function(e,t){var o=this.getNewEmail();return o.set("Id",t),o.set("contactValue",e.Value),o.set("isPrimary",e.IsPrimary),o},mapAddressInformation:function(e){var t=this,o=Komodo.Models.AddressModel.create();o.set("addressType",e.Type),o.set("addressTypeText",e.Type===Komodo.CanonicalValues.AddressTypes.Physical?Komodo.AddressTypes.PHYSICAL:Komodo.AddressTypes.POSTAL),o.set("isPrimary",e.IsPrimary),o.set("isPrimaryString",!0===e.IsPrimary?kl.value("locale.commercialcustomer:customerInformation.yes"):kl.value("locale.commercialcustomer:customerInformation.no")),o.set("IsMarketingEnabled",e.IsMarketingEnabled),o.set("postalCode",e.PostCode),o.set("unit",e.HouseNumber),o.set("building",e.BuildingName);var a=Komodo.UI.addressFunctions.splitStreetNumberName(e.Street);if(o.set("streetNumber",a.streetNumber),o.set("streetName",a.streetName),e.PostBoxNumber&&e.Type===Komodo.CanonicalValues.AddressTypes.Postal){var n;-1!==e.PostBoxNumber.indexOf(Komodo.BoxTypes.PO_BOX)?(n=e.PostBoxNumber.split(" "),o.set("privateBag",n[2]),o.set("boxType",Komodo.BoxTypes.PO_BOX)):-1!==e.PostBoxNumber.indexOf(Komodo.BoxTypes.SUSPENDED)?(n=e.PostBoxNumber.split(" "),o.set("privateBag",n[1]),o.set("boxType",Komodo.BoxTypes.SUSPENDED)):-1!==e.PostBoxNumber.indexOf(Komodo.BoxTypes.PRIVATE_BAG)?(n=e.PostBoxNumber.split(" "),o.set("privateBag",n[2]),o.set("boxType",Komodo.BoxTypes.PRIVATE_BAG)):(o.set("privateBag",e.PostBoxNumber),o.set("boxType",void 0))}return o.set("country",e.Country),o.set("province",e.Province),o.set("city",e.City),o.set("suburb",e.Suburb),o.set("isAddressOverride",!!e.IsVerified&&!e.IsVerified),o.set("addressString",t.getAddressString(o,o.addressType)),o},mapAuthorityDelegationInformation:function(e){var t=this,o=Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create(),a=$.grep(t.authorityRolesList,function(t){return t.value===e.Role});if(a.length>0?(o.set("relation",a[0].value),o.set("role",a[0].value)):(o.set("relation",Komodo.CustomerAuthorityDelegatedRoles.OTHER),o.set("role",e.Role)),o.set("allowToTransactInfo",void 0!==e.IsAllowedToTransact&&!0===e.IsAllowedToTransact?kl.value("locale.commercialcustomer:customerInformation.yes"):kl.value("locale.commercialcustomer:customerInformation.no")),void 0!==e.PersonalDetail){
o.set("firstNameHouseholdMemberAndAuthority",e.PersonalDetail.FirstName),o.set("lastNameHouseholdMemberAndAuthority",e.PersonalDetail.Surname),o.set("fullname",o.firstNameHouseholdMemberAndAuthority+" "+o.lastNameHouseholdMemberAndAuthority),o.set("identityDetailValueHouseholdMemberAndAuthority",e.PersonalDetail.IdentityDetailValue);var n=$.grep($.makeArray(t.identityDetailTypes),function(t){return t.key===e.PersonalDetail.IdentityDetailType});n.length>0&&o.set("identityDetailTypeObject",n[0])}return o},setInvoiceDay:function(){var e=this;void 0!==e.invoiceDays&&null!==e.invoiceDays&&e.invoiceDays.length>0&&void 0!==e.customerDataModel&&null!==e.customerDataModel&&e.customerDataModel.set("debitOrderDay",e.invoiceDays[0].key)},getCustomerTypeText:function(e){var t=this,o=$.grep(t.customerTypes,function(t){return t.key===e});return o.length>0?o[0].value:""},getCacheRepository:function(){return this.get("_cacheRepository")},savetoRecentCustomer:function(e){var t=this,o=[],a=Komodo.Services.securityService.get("domainUserName").substring(3),n=t.get("loggedInCountryId");o[0]={key:Komodo.Services.customerProfileService.personalDetails.customerNo,value:e},t.getCacheRepository().fetch(a+n).done(function(e){for(var s=0;s<e.data.length;s++)if(o[0].key===e.data[s].key){e.data[s].value.split(",").length>1&&(e.data[s].value=o[0].value+","+e.data[s].value.split(",")[1],t.getCacheRepository().save(a+n,e.data)),e.data.splice(s,1);break}}).fail(function(e){e.indexOf("No data found for key")>0&&t.getCacheRepository().save(a+n,o)})},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,15e3,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},businessTypeChanged:function(){var e=this;if(e.set("establishmentTypes",[]),Ember.set(e.customerDataModel,"establishmentType",void 0),e.get("customerDataModel.businessType")&&e.get("customerDataModel.businessType.EstablishmentTypes")){var t=[];$.each($.makeArray(e.get("customerDataModel.businessType.EstablishmentTypes.EstablishmentType")),function(e,o){t.addObject(o)}),t.sort(function(e,t){return e.CanonicalValue>t.CanonicalValue?1:e.CanonicalValue<t.CanonicalValue?-1:0}),e.set("establishmentTypes",t)}}.observes("customerDataModel.businessType"),isVatRegisteredChanged:function(){var e=this;if(void 0!==e.customerDataModel.isVatRegistered)switch(e.customerDataModel.set("taxNumber",void 0),e.customerDataModel.set("vatNumber",void 0),e.customerDataModel.isVatRegistered){case"1":e.createDependentProperty("vatNumberValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]),e.removeDependentProperty("taxNumberValidator"),e.set("disableVatNumber",!1),e.set("disableTaxNumber",!0);break;case void 0:case null:case"0":e.createDependentProperty("taxNumberValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]),e.removeDependentProperty("vatNumberValidator"),e.set("disableVatNumber",!0),e.set("disableTaxNumber",!1);break;case"2":e.removeDependentProperty("taxNumberValidator"),e.removeDependentProperty("vatNumberValidator"),e.set("disableVatNumber",!0),e.set("disableTaxNumber",!0)}}.observes("customerDataModel.isVatRegistered"),payerIsCustomerChanged:function(){var e=this;if(void 0!==e.customerDataModel.payerIsCustomer&&!0===e.customerDataModel.payerIsCustomer){var t=e.customerDataModel.registrationNumber;t=t?t.replace(/\//g,"").replace(/\\/g,""):"",e.customerDataModel.set("payerName",e.customerDataModel.companyName),e.customerDataModel.set("payerID",t)}else e.customerDataModel.set("payerName",void 0),e.customerDataModel.set("payerID",void 0)}.observes("customerDataModel.payerIsCustomer"),contactNumbersChanged:function(){var e=this;e.contactNumbers.length>1?e.contactNumbers.forEach(function(e){e.set("isRemovable",!0)}):e.contactNumbers.forEach(function(e){e.set("isRemovable",!1)})}.observes("contactNumbers.length"),emailsChanged:function(){var e=this;e.emails.length>1?e.emails.forEach(function(e){e.set("isRemovable",!0)}):e.emails.forEach(function(e){e.set("isRemovable",!1)})}.observes("emails.length"),countContactType:function(){var e=this;e.mobileCount=0,e.homephoneCount=0,e.workPhoneCount=0,e.contactNumbers.forEach(function(t){switch(t.type){case"1":e.mobileCount++;break;case"2":e.workPhoneCount++;break;case"3":e.homephoneCount++}}),e.checkContactCount()}.observes("contactNumbers.length","contactNumbers.@each.type"),showBanner:function(){return!0!==this.isCreate&&void 0!==this.isCreate&&Komodo.Services.customerProfileService.isBannerOpen}.property("isCreate","Komodo.Services.customerProfileService.isBannerOpen"),showCreateView:function(){var e=this;return e.viewTitle=!1===e.isCreate?kl.value(e.csiLocaleBase+"editUseCaseTitle"):kl.value(e.csiLocaleBase+"useCaseTitle"),!0===e.isCreate||void 0===e.isCreate}.property("isCreate"),relationChanged:function(){var e=this;e.householdMemberAndAuthority&&e.householdMemberAndAuthority.relation===Komodo.CustomerAuthorityDelegatedRoles.OTHER?(e.set("showRoleText",!0),e.registerValidator(e.get("householdMemberAndAuthority"),"role",{type:"string",isRequired:!0,minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace,displayName:kl.value(e.localeBase+"role")})):(e.set("showRoleText",!1),e.householdMemberAndAuthority.set("role",void 0),e.removeDependentProperty("roleValidator"))}.observes("householdMemberAndAuthority.relation"),hidehouseholdMemberGrid:function(){return this.get("customerDataModel.householdMemberAndAuthority").length>0}.property("customerDataModel.householdMemberAndAuthority.length"),identityDetailTypeChanged:function(){var e=this;e.removeDependentProperty("roleValidator"),"1"===e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority.key")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:13,functions:Komodo.UI.Validators.numericValidator}):e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:8,maxLength:10,functions:Komodo.UI.Validators.alphanumericValidator})}.observes("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority"),actions:{addPhoneNumber:function(){this.addPhoneNumber()},removePhoneNumber:function(e){var t=this;t.set("contactNumbers",$.grep(t.contactNumbers,function(t){return t.Id!==e.content.Id})),0===$.grep(t.contactNumbers,function(e){return!0===e.isPrimary}).length&&Ember.set(t.contactNumbers[0],"isPrimary",!0),t.contactNumbers.length>1?t.customerDataModel.set("shouldDisableRemoveHomeButton",!1):t.customerDataModel.set("shouldDisableRemoveHomeButton",!0)},addEmail:function(){this.addEmail()},removeEmail:function(e){var t=this;t.set("emails",$.grep(t.emails,function(t){return t.Id!==e.content.Id})),0===$.grep(t.emails,function(e){return!0===e.isPrimary}).length&&Ember.set(t.emails[0],"isPrimary",!0)},addAuthorityInformation:function(){this.householdMemberAndAuthority.set("isAuthorityInfoVisible",!0)},addAuthorityDelegation:function(){var e=this;!1!==e.canSubmitData(this.householdMemberAndAuthority,e.viewTitle,{showInModal:!0})&&(this.holdMemberAndAuthorityNotAdded()||(this.addHoldMemberAndAuthorityToGrid(),this.clearholdMemberAndAuthority()))},editAuthorityDelegationGridItem:function(){this.editAuthorityDelegationGridItem()},deleteAuthorityDelegationGridItem:function(){this.deleteAuthorityDelegationGridItem()},saveCustomer:function(){var e=this;if(!1===e.isCreate&&void 0===e.UID&&void 0===e.SubscriberSystemUID)return Komodo.Controls.MessageBoxController.show(kl.value("locale.csicustomer:customerprofile.customerNotFoundTitle"),kl.value("locale.csicustomer:customerprofile.customerNotFound")),!1;if(!1!==e.isCreate&&(void 0===e.customerDataModel.acceptTermAndCondition||"1"!==e.customerDataModel.acceptTermAndCondition))return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"acceptTermAndConditionMandatory"),Komodo.Controls.MessageBoxOkButtons,this,"modelCSICustomer","danger"),!1;if(!1===e.canSubmitData(e.customerDataModel,e.viewTitle,{showInModal:!0}))return!1;if(e.checkContactCount())return!1;for(var t=void 0,o=0;o<e.contactNumbers.length&&(t=e.canSubmitData(e.contactNumbers[o],e.viewTitle,{showInModal:!0}));o++);if(void 0!==t&&!t)return!1;for(var a=0;a<e.emails.length&&(t=e.canSubmitData(e.emails[a],e.viewTitle,{showInModal:!0}));a++);if(void 0!==t&&!t)return!1;var n=$.grep(e.contactNumbers,function(e){return"2"===e.type&&void 0!==e.contactValue}).length>0;if(!n)return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value("locale.csicustomer:customerInformation.provideWork"),Komodo.Controls.MessageBoxOkButtons,this,"modelCSICustomer","danger"),!1;if(!(n=$.grep(e.emails,function(e){return void 0!==e.contactValue}).length>0))return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"provideEmail"),Komodo.Controls.MessageBoxOkButtons,this,"modelCSICustomer","danger"),!1;n=!1;var s=0;if(this.customerDataModel.addressInformation.forEach(function(e){"3"===e.addressType&&(n=!0),e.isPrimary&&s++}),!n)return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"providePhysicalAddress"),Komodo.Controls.MessageBoxOkButtons,this,"modelCSICustomer","danger"),!1;switch(s){case 0:return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"onePrimaryAddress"),Komodo.Controls.MessageBoxOkButtons,this,"modelCSICustomer","danger"),!1;case 1:break;default:return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"onlyOnePrimaryAddress"),Komodo.Controls.MessageBoxOkButtons,this,"modelCSICustomer","danger"),!1}return(n=$.grep(e.customerDataModel.householdMemberAndAuthority,function(e){return""!==e.firstNameHouseholdMemberAndAuthority&&void 0!==e.firstNameHouseholdMemberAndAuthority}).length>0)?(!1===e.isCreate?this.publishUpdateDStvCustomerEvent():this.publishCreateCommercialCustomerEvent(),!1):(Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"provideAuthorityDelegation"),Komodo.Controls.MessageBoxOkButtons,this,"modelCSICustomer","danger"),!1)},cancelCustomer:function(){this.showCreateView?Komodo.Services.uiService.getRoute("application").transitionTo("home"):Komodo.Services.uiService.getRoute("application").transitionTo("csiCustomerProfile")},changeCustomerStatus:function(){}},retrieveCustomer:function(e){var t=this,o=e;t.get("processId")||t.startNewProcess(),t.showBusyIndicator(),Komodo.Services.queryService.getJSON("/CustomerProfile/Get?customerId="+e).done(function(a){a&&a.CustomerDetail&&(void 0!==a.CustomerDetail.SubscriberSystemUID&&a.CustomerDetail.SubscriberSystemUID.SubscriberSystem.length>0&&(a.CustomerDetail.SubscriberSystemUID.SubscriberSystem[0].UID=o),t.mapCustomerInformation(a.CustomerDetail),t.retrieveFiscalCodeField(e),t.hideBusyIndicator())}).error(function(e){var o=JSON.stringify(e);Komodo.log("[ERROR] : retrieveCustomer ajax call failed. Error: "+o),t.hideBusyIndicator()})},retrieveFiscalCodeField:function(e){var t=this;if(t.showFiscalCode){Komodo.Services.queryService.getJSON("/CustomerProfile/GetCustomerFiscalCode?cusId="+e).done(function(e){e&&t.customerDataModel.set("ivrFiscalCode",e.FiscalCode)}).error(function(e){var o=JSON.stringify(e);Komodo.log("[ERROR] : retrieveFiscalCodeField ajax call failed. Error: "+o),t.hideBusyIndicator()})}},loadCustomerView:function(e){var t=this,o=e.ResponseMessage.Payload.CustomerDetail;if(t.hideBusyIndicator(),void 0!==o.UID&&void 0!==o.SubscriberSystemUID.UID){var a=Komodo.Models.CreateCustomerNamespace.CustomerCreatedModel.create();if(a.set("customerNumber",o.SubscriberSystemUID.UID),a.set("customerClass",t.csiClassId),a.set("name",o.CompanyName),a.set("lastName",o.CompanyName),a.set("companyRegistrationNumber",o.CompanyRegistrationNumber),a.set("taxNumber",o.CompanyFiscalCode),a.set("vatNumber",o.VATNumber?o.VATNumber:"-"),a.set("customerType",t.getCustomerTypeText(o.Type)),a.set("isCsiCustomer",t.isCsiCustomer),a.set("isCreate",t.isCreate),void 0!==o.ListOfEmail){var n=$.grep($.makeArray(o.ListOfEmail.Email),function(e){return"true"===e.IsPrimary});1===n.length?a.set("email",void 0!==n[0]?$.trim(n[0].Value):""):a.set("email",void 0!==o.ListOfEmail.Email[0]?$.trim(o.ListOfEmail.Email[0].Value):"")}if(void 0!==o.ListOfAddress){var s=$.grep(t.customerDataModel.addressInformation,function(e){return e.addressType===Komodo.CanonicalValues.AddressTypes.Physical});1===s.length&&a.set("physicalAddress",void 0!==s[0]?s[0].addressString:"")}if(void 0!==o.ListOfPhoneNumber){var i=$.grep($.makeArray(o.ListOfPhoneNumber.PhoneNumber),function(e){return"true"===e.IsPrimary});1===i.length?a.set("mobileNumber",void 0!==i[0]?$.trim(i[0].Code)+$.trim(i[0].Number):""):a.set("mobileNumber",void 0!==o.ListOfPhoneNumber.PhoneNumber[0]?$.trim(o.ListOfPhoneNumber.PhoneNumber[0].Code)+$.trim(o.ListOfPhoneNumber.PhoneNumber[0].Number):"")}if(void 0!==o.Type&&void 0!==o.EstablishmentType){var r=$.grep(t.businessTypes,function(e){return e.CanonicalKey===o.Type}),l=$.grep(t.establishments,function(e){return e.key===o.EstablishmentType});void 0!==r[0]&&void 0!==l[0]&&a.set("businessTypeAndEstablishment",r[0].CanonicalValue+", "+l[0].value)}t.set("customerCreated",!1),t.clearFormData(),t.set("isCreateCustomerButtonDisable",!1);var d=Komodo.Services.uiService.getController("CustomerProfile");d&&d.set("isInformationComplete",!0);return Komodo.Services.uiService.getController("customerCreated").setResponseMessage(a),Komodo.Services.uiService.getRoute("application").transitionTo("customerCreated"),!0}return Komodo.Controls.MessageBoxController.show(t.viewTitle,kl.value(t.csiLocaleBase+"csicustomerCreatedFailure")),!1},saveCustomer:function(e){var t=this,o=Komodo.Models.CreateCommercialCustomer.create(),a=Komodo.canonicalFacadeFactory(o,["Country","CustomerDetail","Account"]);a.set("Country",t.get("loggedInCountryId"));var n=Komodo.Models.CustomerDetail.create(),s=Komodo.canonicalFacadeFactory(n,["UID","SubscriberSystemUID","StartDate","EndDate","Status","Language","VATNumber","Class","Type","BusinessUnit","IsOptInForMarketing","PreferedMarketingMethod","IsTermsAccepted","IsSubscribedForMagazine","CompanyName","CompanyFiscalCode","CompanyRegistrationNumber","CompanyMarketSegment","EstablishmentType","ListOfCareOfPersonDetail","ListOfPhoneNumber","ListOfAddress","ListOfEmail","PersonalDetail","LeadUID"]);if(void 0!==t.customerDataModel.acceptTermAndCondition&&"1"===t.customerDataModel.acceptTermAndCondition&&s.set("IsTermsAccepted",!0),s.set("Class",t.csiClassId),s.set("Language",t.customerDataModel.language),s.set("Type",t.customerDataModel.businessType.CanonicalKey),s.set("CompanyName",t.customerDataModel.companyName),s.set("CompanyFiscalCode",t.customerDataModel.taxNumber),s.set("CompanyRegistrationNumber",t.customerDataModel.registrationNumber),s.set("VATNumber",t.customerDataModel.vatNumber),s.set("EstablishmentType",t.customerDataModel.establishmentType.CanonicalKey),s.set("BusinessUnit","DStv"),void 0!==t.customerDataModel.leadUid&&a.set("LeadUID",t.customerDataModel.leadUid),s.set("ListOfCareOfPersonDetail",t.getCareOfPersonCollection(t.customerDataModel.householdMemberAndAuthority)),s.set("ListOfPhoneNumber",t.getPhoneNumberCollection(t.contactNumbers)),s.set("ListOfAddress",Komodo.UI.addressFunctions.getAddressCollection(t.customerDataModel.addressInformation)),s.set("ListOfEmail",t.getEmailCollection(t.emails)),s.set("PersonalDetail",t.getPersonalDetail()),a.set("CustomerDetail",n),t.set("isCreateCustomerButtonDisable",!0),s.set("IsSubscribedForMagazine","1"===t.customerDataModel.get("acceptMarketingInfo")),!0===t.isCreate)a.set("Account",t.getAccounts());else{var i=Komodo.Models.SubscriberSystem.create();i.set("UID",t.UID),i.set("Name","DStv Customer");var r=[];r.addObject(i),s.set("UID",t.SubscriberSystemUID),s.set("SubscriberSystemUID",r),s.set("Status",t.customerDataModel.status),o.set("Account",void 0)}t.startNewProcess(),Komodo.Services.CustomerService.publishCustomerEvent(this,o,e,"v1",!0),t.showBusyIndicator()},publishCreateCommercialCustomerEvent:function(){this.saveCustomer("CreateCommercialCustomer")},publishUpdateDStvCustomerEvent:function(){this.saveCustomer("UpdateDStvCustomer")},messageCommercialCustomerCreatedReceived:function(e){var t=e.ResponseMessage.Payload.CustomerDetail;void 0!==t.UID&&void 0!==t.SubscriberSystemUID.UID&&Komodo.Services.CustomerService.isUserActivityToBeTracked&&Komodo.Services.CustomerService.startActivity(t.SubscriberSystemUID.UID),this.loadCustomerView(e)},messageDStvCustomerUpdatedReceived:function(e){var t=e.ResponseMessage.Payload.CustomerDetail;void 0!==t.UID&&void 0!==t.SubscriberSystemUID.UID&&(this.publishCreateInteraction(t.SubscriberSystemUID.UID),this.savetoRecentCustomer(t.CompanyName),this.updateFiscalCodeField()),this.loadCustomerView(e)},updateFiscalCodeField:function(){var e=this;if(e.showFiscalCode){var t="";Ember.isEmpty(e.customerDataModel.ivrFiscalCode)||(t=e.customerDataModel.ivrFiscalCode);var o=Komodo.Services.customerProfileService.personalDetails.customerNo,a={CustomerId:o,FiscalCode:t};Komodo.Services.queryService.postJSON("/CustomerProfile/UpdateCustomerFiscalCode",{data:a}).done(function(e){Komodo.log("Update Customer FiscalCode for Customer:-"+o+" started successfully")}).error(function(e){var t=JSON.stringify(e);Komodo.log("User Customer FiscalCode for Customer:-"+o+" could not be started. Error: "+t)})}},publishCreateInteraction:function(e){var t=this,o=Komodo.Models.CreateInteraction.create(),a=Komodo.Models.Case.create();a.set("InteracteeName",Komodo.Services.securityService.session.domainUserName),a.set("InteractionLocation",t.get("loggedInCountryId")),a.set("InteractionMedium","1"),a.set("CustomerUID",e),a.set("Category",3),a.set("SubCategory",13),a.set("Outcome",51),a.set("Status","1"),a.set("Notes",kl.value(t.csiLocaleBase+"activityNote"));var n=Komodo.canonicalFacadeFactory(o,["Country","Case"]);n.set("Country",t.get("loggedInCountryId")),n.set("Case",a),Komodo.Services.CustomerService.publishCustomerEvent(this,o,"CreateInteraction","v1",!0)},messageFailureMessageEventReceived:function(e){var t=this;t.hideBusyIndicator(),t.set("isCreateCustomerButtonDisable",!1),Komodo.Controls.MessageBoxController.show(t.viewTitle,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButton,this,"id544246673","danger")},messageReceived:function(e){this.hideBusyIndicator(),Komodo.UI.log("[CSICustomerController.messageReceived] : event name = "+e.ResponseMessage.EventName)},messageDeliveryFailure:function(e){this.hideBusyIndicator(),Komodo.UI.warn("[CSICustomerController.messageDeliveryFailure] : messageId = "+e.messageId)},messageFault:function(e){this.hideBusyIndicator(),Komodo.UI.error("[CSICustomerController.messageFault] : messageId = "+e.messageId)},csiClassId:Komodo.CustomerClass.CSI,viewTitle:"",countries:[],provinces:[],cities:[],suburbs:[],postalCodes:[],languages:[],fiscalCodes:[],countriesOfOrigin:[],communicationMethods:[],addressTypes:[],paymentMethods:[],contactNumbers:[],emails:[],countriesWithCodes:[],loggedInCountry:void 0,identityDetailTypes:[],businessTypes:[],establishmentTypes:[],establishments:[],accountTypes:[],rdChequeStatuses:[],invoiceDays:[],customerTypes:[],csiLocaleBase:"locale.csicustomer:customer.",localeBase:"locale.customer:customerInformation.",customerCreated:!0,isCreateCustomerButtonDisable:!0,disableVatNumber:!0,disableTaxNumber:!1,disableNone:!1,isLocationIndicatorVisible:!1,submitCustomerDetails:null,countrySelection:void 0,disablePostalCode:!0,physicalAddress:!0,postalSameAsPhysical:!1,showSameAsPhysical:!1,showRoleText:!1,mobileCount:0,homephoneCount:0,workPhoneCount:0,MAXIMUM_CONTACT_PER_TYPE:4,firstNameFromQuote:void 0,lastNameFromQuote:void 0,leadUidFromQuote:void 0,debitOrderDaylabel:void 0,authorityRolesList:[],selectedpaymentMethod:void 0,disablePayer:!1,disableIsPrimary:!1,hide:!1,country:void 0,identificationMinLength:void 0,nameRegularExpression:"^[a-zA-Z]+[ ]?[a-zA-Z]*[ ]?[a-zA-Z]*$/"}),Komodo.Application.CommercialCustomerController=Komodo.UI.Controller.extend({init:function(){Komodo.log("Constructing Create Commercial Customer controller"),this.set("processVersion","v1.1"),this.set("processName","Create Commercial Customer process");var e=this,t=Ember.ArrayProxy.create({content:Ember.A([])});e.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),e.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),e.dataGridColumnAuthorityDelegation=[Komodo.Controls.DataGridColumn.create({name:"fullname",title:kl.value(e.localeBase+"fullname")}),Komodo.Controls.DataGridColumn.create({name:"identityDetailValueHouseholdMemberAndAuthority",title:kl.value(e.localeBase+"identityDetailValue")}),Komodo.Controls.DataGridColumn.create({name:"role",title:kl.value(e.localeBase+"role")}),Komodo.Controls.DataGridColumn.create({name:"allowToTransactInfo",title:kl.value(e.localeBase+"allowToTransactInfo")}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"editButton"),displayText:kl.value(e.localeBase+"editButton"),width:"30px",action:"editAuthorityDelegationGridItem",displayType:"link"}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"delete"),displayText:kl.value(e.localeBase+"delete"),width:"30px",action:"deleteAuthorityDelegationGridItem",displayType:"link"})],e.set("productsWithStandardObject",t),this._super()},start:function(){var e=this;e.registerModel("customerDataModel",Komodo.Models.CreateCustomerNamespace.CreateCustomerModel),e.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.set("householdMemberAndAuthority",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.set("phoneNumber",Komodo.Models.CreateCustomerNamespace.ContactInformation.create()),e.set("email",Komodo.Models.CreateCustomerNamespace.ContactEmail.create()),e.contactNumbers.clear(),e.emails.clear(),e.createCDMData(),e.registerValidation(),e.set("isPostal",!1),e.set("customerCreated",!0),e.set("isCreateCustomerButtonDisable",!1),e.set("selectedpaymentMethod",e.paymentMethodList[0]),e.set("isDMXAccountType","0"),e.customerDataModel.set("startDate",new Date((new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getFullYear())),e.customerDataModel.set("contactInformation",[]),e.customerDataModel.set("addressInformation",[]),e.customerDataModel.set("householdMemberAndAuthority",[]),e.customerDataModel.set("customerDocuments",[]),e.customerDataModel.set("isAddMobileButton",!1),e.customerDataModel.set("isAddWorkContactButton",!1),e.customerDataModel.set("isAddHomePhoneButton",!1),e.customerDataModel.set("isAddEmailButton",!1),e.customerDataModel.set("isIDFieldDisabled",!1),e.customerDataModel.set("methodOfPayment","1"),e.customerDataModel.set("isVatRegistered","1"),e.setInvoiceDay(),e.set("identificationMinLength",GetCustomerTypesConstants("CustomerValidationsConstants","IDNUMBERMIN")),e.customerDataModel.set("addressInformation",[]),!0!==e.isCreate&&void 0!==e.isCreate||e.showTermsPopUp(),!0===e.get("commercialIsPinAvailable")&&e.setPinTinNumberByCountry(),e._super()},stop:function(){var e=this;e.hideBusyIndicator(),e._super()},getEventAggregator:function(){return this.get("_eventAggregator")},showTermsPopUp:function(){var e=this;void 0===e.customerDataModel&&e.start(),Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"acceptTermAndConditionTitle"),kl.value(e.localeBase+"acceptTermAndCondition"),Komodo.Controls.MessageBoxAcceptDeclineButtons,this).response=function(t){"accept"===t?(e.set("isCreate",!0),e.customerDataModel.set("acceptTermAndCondition","1"),e.contactNumbers.length<1&&e.addPhoneNumber(),e.emails.length<1&&e.addEmail()):e.getUIService().getController("application").redirectReturn("home")}},registerValidation:function(){var e=this;e.registerValidator(e.get("customerDataModel"),"customerClass",{type:"string",isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"companyName",{type:"string",isRequired:!0,minLength:3,maxLength:50}),e.registerValidator(e.get("customerDataModel"),"registrationNumber",{type:"string",isRequired:!0,minLength:8,maxLength:50}),e.registerValidator(e.get("customerDataModel"),"businessType",{type:"string",isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"establishmentType",{type:"string",isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"isVatRegistered",{type:"bool",displayName:kl.value(e.localeBase+"isVatRegistered")}),e.registerValidator(e.get("customerDataModel"),"taxNumber",{type:"string",isRequired:!0,minLength:3,maxLength:11}),e.registerValidator(e.get("customerDataModel"),"vatNumber",{type:"string",isRequired:!0,minLength:3,maxLength:11}),e.registerValidator(e.get("customerDataModel"),"pinTinNumber",{type:"string",isRequired:!1,minLength:3,maxLength:15}),e.registerValidator(e.get("customerDataModel"),"language",{type:"string",isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"accountType",{type:"string",displayName:kl.value(e.localeBase+"accountType")}),e.registerValidator(e.get("customerDataModel"),"payerName",{type:"string",minLength:3,maxLength:101,functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("customerDataModel"),"payerID",{type:"string",minLength:8,maxLength:13,regExPattern:"^[0-9a-zA-Z]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("customerDataModel"),"accountNo",{type:"string",minLength:5,maxLength:34,regExPattern:"^[0-9]*$",functions:Komodo.UI.Validators.alphanumericValidator}),e.registerValidator(e.get("customerDataModel"),"bank",{type:"string"}),e.registerValidator(e.get("customerDataModel"),"branchCode",{type:"string"}),e.registerValidator(e.get("householdMemberAndAuthority"),"allowToTransactInfo",{type:"string",isRequired:!0}),e.registerValidator(e.get("householdMemberAndAuthority"),"firstNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("householdMemberAndAuthority"),"lastNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("householdMemberAndAuthority"),"relation",{type:"string",isRequired:!0,minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("householdMemberAndAuthority"),"role",{type:"string",minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace,displayName:kl.value(e.localeBase+"role")}),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailTypeHouseholdMemberAndAuthority"}),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:8,maxLength:13,functions:Komodo.UI.Validators.alphanumericValidator})},createCDMData:function(){var e=this,t=$.Deferred(),o=Komodo.Services.uiService.getController("application").get("_selectedCountryId"),a=Komodo.Services.uiService.getController("application").get("_selectedCountryDescription"),n=Komodo.Services.localizationService.getCurrentLanguage();return e.set("loggedInCountry",{countryDescription:a,countryId:o}),e.set("country",a),e.set("loggedInCountryId",o),e.set("paymentMethodList",[]),e.getStaticCDMData(o,"global","PaymentMethodConstants",e.paymentMethodList),e.getStaticCDMData(o,n,"MethodOfPayment",e.paymentMethods),e.getStaticCDMData(o,n,"CommunicationLanguage",e.languages),e.getStaticCDMData(o,n,"RepeatCallerIdentification",e.fiscalCodes),e.getStaticCDMData(o,n,"CountryOfOrigin",e.countriesOfOrigin),e.getStaticCDMData(o,n,"IDType",e.identityDetailTypes),e.getStaticCDMData(o,n,"CommunicationMethod",e.communicationMethods),e.getStaticCDMData(o,n,"AddressType",e.addressTypes),e.getStaticCDMData(o,n,"EstablishmentType",e.establishments),e.getStaticCDMData(o,n,"AccountType",e.accountTypes),e.getStaticCDMData(o,n,"RDChequeStatus",e.rdChequeStatuses),e.getStaticCDMData(o,n,"InvoiceDayCommercial",e.invoiceDays),e.getStaticCDMData(o,n,"CustomerType",e.customerTypes),e.getStaticCDMData(o,n,"CustomerAuthorityDelegatedRole",e.authorityRolesList),e.getStaticCDMData(o,n,"CustomerClass",e.customerClasses),e.getStaticCDMData(o,n,"DocumentType",e.documentTypes),e.get("documentSerialNumbers").clear(),e.get("documentSerialNumbers").push({key:kl.value("locale.commercialcustomer:customerInformation.notApplicable"),value:kl.value("locale.commercialcustomer:customerInformation.notApplicable")}),e.getHierachicalCDMData(o,n,"BankDetail",e.banks),e.getHierachicalCDMData(o,n,"CountryDetail",e.countriesWithCodes),e.getHierachicalCDMData(o,n,"EstablishmentTypeRelationship",e.establishmentTypeRelationship),e.getHierachicalCDMData(o,n,"Location",e.countries).done(function(e){t.resolve(e)}),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableNationalDealCustomer").done(function(t){e.set("enableNationalDealCustomer",t)}),Komodo.Services.featureToggleService.isEnabled("CreateCustomer","CommercialIsPinAvailable").done(function(t){e.set("commercialIsPinAvailable",t)}),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableDMXAccountType").done(function(t){e.set("enableDMXAccountType",t)}),Komodo.Services.featureToggleService.isEnabled("ManageCustomer","ShowRepeatCallerIdentification").done(function(t){e.set("showFiscalCode",t)}),t},getHierachicalCDMData:function(e,t,o,a){var n=this,s=$.Deferred();return Komodo.Services.cachedDataService.fetch(o,{domain:e,qualifier:t}).done(function(e){var t=JSON.parse(e);switch(a.clear(),o){case"BankDetail":$.each($.makeArray(t.Banks.Bank),function(e,t){a.addObject(t)});break;case"Location":$.each($.makeArray(t.Countries.Country),function(e,t){a.addObject(t)}),s.resolve(e);break;case"CountryDetail":$.each($.makeArray(t.Countries.Country),function(e,t){a.addObject(t)});break;case"EstablishmentTypeRelationship":$.each($.makeArray(t.CustomerClasses.CustomerClass),function(e,t){t.CanonicalKey!==Komodo.CustomerClass.COMMERCIAL&&t.CanonicalKey!==Komodo.CustomerClass.NATIONAL_DEAL||(t.CustomerTypes&&t.CustomerTypes.CustomerType&&t.CustomerTypes.CustomerType.sort(function(e,t){return e.CanonicalValue>t.CanonicalValue?1:e.CanonicalValue<t.CanonicalValue?-1:0}),a.addObject(t))}),n.setDefaultCustomerClass();break;default:Komodo.log("[ERROR] : Unknown Hierachical dataset: "+o)}}).fail(function(){Komodo.log("[ERROR] : could not retrieve hierarchical CDM data for "+o)}),s},getStaticCDMData:function(e,t,o,a){var n=this;Komodo.Services.cachedDataService.fetch(o,{domain:e,qualifier:t}).done(function(e){switch(a.clear(),o){case"CommunicationMethod":$.each(e,function(e,t){"None"!==t.value&&a.addObject(t)});break;case"AddressType":$.each(e,function(e,t){a.addObject(t)}),a.reverse();break;case"MethodOfPayment":$.each(e,function(e,t){"CASH"!==t.value.toUpperCase()&&"PAYROLL"!==t.value.toUpperCase()&&"AHV PENDING"!==t.value.toUpperCase()&&a.addObject(t)});break;case"PaymentMethodConstants":n.getPaymentMethodList(e);break;case"InvoiceDayCommercial":e=e.sort(function(e,t){
return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),Komodo.Services.featureToggleService.isEnabled("CreateCustomer","LimitInvoiceDayCommercial").done(function(t){$.each(e,function(e,o){t&&o.key<=28&&a.addObject(o),!1===t&&a.addObject(o)}),n.setInvoiceDay()}).fail(function(e){Komodo.log("Error while checking feature toggle. Error Details:"+e)});break;case"CustomerAuthorityDelegatedRole":$.each(e,function(e,t){a.addObject(t)});break;case"CustomerClass":$.each(e,function(e,t){"commercial"!==t.value.toLowerCase()&&"national deal"!==t.value.toLowerCase()||a.addObject(t)}),n.setDefaultCustomerClass();break;case"DocumentType":if($.each(e,function(e,t){a.addObject(t)}),a.sort(function(e,t){return e.value.toLowerCase()>t.value.toLowerCase()?1:e.value.toLowerCase()<t.value.toLowerCase()?-1:0}),a&&a.length>0){var t=$.grep(a,function(e){return e.value.toLowerCase()===Komodo.DocumentTypes.SUBSCRIBER_AGREEMENT_FORM.toLowerCase()});t.length>0?n.set("defaultDocumentType",t[0].value):n.set("defaultDocumentType",a[0].value)}break;default:$.each(e,function(e,t){a.addObject(t)})}}).fail(function(){"PaymentMethodConstants"===o&&n.getPaymentMethodList(void 0),Komodo.log("[ERROR] : could not retrieve static CDM data for "+o)})},getPaymentMethodList:function(e){var t=this,o=!0;if(Ember.isEmpty(e))Komodo.log("loading default value into paymentMethodList array - as response data empty");else try{$.each(e,function(e,a){if(!Ember.isEmpty(a.key)&&"commercialpaymentmethods"===a.key.toLowerCase()&&!Ember.isEmpty(a.value))return t.set("paymentMethodList",$.parseJSON(a.value)),o=!1,!1})}catch(e){Komodo.log("Error while fetching PaymentMethodConstants dataset. Error Details:"+e),Komodo.log("loading default value into paymentMethodList array - as got error in parsing the data value")}if(o){t.set("paymentMethodList",$.parseJSON('[{"title":"Cash", "value":"1"}, {"title":"Debit Order", "value":"0"}]'))}},setDefaultCustomerClass:function(){var e=this;e.customerDataModel&&(e.customerDataModel.set("customerClass","1"),e.customerClassChanged())},createDependentProperty:function(e,t){var o=this;t.forEach(function(t){void 0!==o.get("validators."+e)&&o.get("validators."+e).functions.addObject(t)}),o.get("validators."+e).validate()},removeDependentProperty:function(e){var t=this;void 0!==t.get("validators."+e)&&(t.get("validators."+e).functions.clear(),t.get("validators."+e).validate())},addPhoneNumber:function(){for(var e,t=this,o=0;o<t.contactNumbers.length;o++)if(void 0!==(e=t.canSubmitData(t.contactNumbers[o],t.viewTitle,{showInModal:!0}))&&!e)return;if(!t.checkContactCount()){var a=t.getNewPhoneNumber();if(a&&a.commercialContactDetailType){var n=$.grep(a.commercialContactDetailType,function(e){return"2"===e.key});n&&n.length>0&&a.set("type",n[0].key)}t.contactNumbers.length<1?a.set("Id",t.contactNumbers.length+1):a.set("Id",t.contactNumbers[t.contactNumbers.length-1].Id+1);if($.grep(t.contactNumbers,function(e){return!0===e.isPrimary}).length<1?Ember.set(a,"isPrimary",!0):Ember.set(a,"isPrimary",!1),void 0!==t.countriesWithCodes&&t.countriesWithCodes.length>0){var s=$.grep(t.countriesWithCodes,function(e){return e.CanonicalValue.toLowerCase()===t.loggedInCountry.countryDescription.toLowerCase()});s.length>0&&a.set("countryCode",s[0].DialingCode)}t.contactNumbers.pushObject(a),t.contactNumbers.length>1?t.customerDataModel.set("shouldDisableRemoveHomeButton",!1):(t.customerDataModel.set("shouldDisableAddHomeButton",!1),t.customerDataModel.set("shouldDisableRemoveHomeButton",!0))}},getNewPhoneNumber:function(){var e=this,t=Komodo.Models.CreateCustomerNamespace.ContactInformation.create(),o="phoneNumberValidator"+(e.contactNumbers.length+1);e.registerValidator(t,"contactValue",{isRequired:!0,displayName:kl.value(e.localeBase+"phoneNumber"),minLength:7,maxLength:10,functions:Komodo.UI.Validators.numericValidator,name:o}),t.set("validator",e.validators[o]);var a="phoneTypeValidator"+(e.contactNumbers.length+1);e.registerValidator(t,"type",{isRequired:!0,displayName:kl.value(e.localeBase+"phoneType"),name:a}),t.set("phoneTypeValidator",e.validators[a]);var n="countryCodeValidator"+(e.contactNumbers.length+1);return e.registerValidator(t,"countryCode",{type:"number",isRequired:!0,displayName:kl.value(e.localeBase+"countryCode"),minLength:2,maxLength:4,functions:Komodo.UI.Validators.numericValidator,name:n}),t.set("countryCodeValidator",e.validators[n]),t},checkContactCount:function(){var e=this;return!!e.showMessage(e.mobileCount,"Mobile")||(!!e.showMessage(e.homephoneCount,"Home")||!!e.showMessage(e.workPhoneCount,"Work"))},showMessage:function(e,t){var o=this;return e>o.MAXIMUM_CONTACT_PER_TYPE&&(Komodo.Controls.MessageBoxController.show(o.viewTitle,kl.value(o.localeBase+"maximum"+t)),!0)},addEmail:function(){for(var e=this,t=void 0,o=e.getNewEmail(),a=0;a<e.emails.length&&(t=e.canSubmitData(e.emails[a],e.viewTitle,{showInModal:!0}));a++)if(void 0===e.emails[a].contactValue||""===e.emails[a].contactValue){Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"emailMissing"),[Komodo.Controls.MessageBoxOkButton],void 0,"OK","danger"),t=!1;break}if(void 0===t||t){e.emails.length<1?o.set("Id",e.emails.length+1):o.set("Id",e.emails[e.emails.length-1].Id+1);$.grep(e.emails,function(e){return!0===e.isPrimary}).length<1&&o.set("isPrimary",!0),e.emails.addObject(o)}},getNewEmail:function(){var e=this,t=Komodo.Models.CreateCustomerNamespace.ContactEmail.create(),o="emailValidator"+(e.emails.length+1);return e.registerValidator(t,"contactValue",{type:"string",isRequired:!0,displayName:kl.value(e.localeBase+"email"),regExPattern:Komodo.UI.Validators.RegExPatterns.Email,name:o}),t.set("validator",e.validators[o]),t},getAddressString:function(e,t){var o=this,a="";void 0!==e.unit&&null!==e.unit&&""!==$.trim(e.unit)&&(a+=$.trim(e.unit)+", "),void 0!==e.building&&null!==e.building&&""!==$.trim(e.building)&&(a+=$.trim(e.building)+", "),t===Komodo.CanonicalValues.AddressTypes.Postal?(""!==e.boxType&&void 0!==e.boxType&&null!==e.boxType&&(a+=$.trim(e.boxType)+", "),""!==e.privateBag&&void 0!==e.privateBag&&null!==e.privateBag&&(a+=$.trim(e.privateBag)+", ")):(void 0!==e.streetNumber&&null!==e.streetNumber&&""!==$.trim(e.streetNumber)&&(a+=$.trim(e.streetNumber)+", "),void 0!==e.streetName&&null!==e.streetName&&""!==$.trim(e.streetName)&&(a+=$.trim(e.streetName)+", ")),void 0!==e.suburb&&null!==e.suburb&&""!==$.trim(e.suburb)&&(a+=e.suburb+", "),void 0!==e.city&&null!==e.city&&""!==$.trim(e.city)&&(a+=e.city+", ");var n=$.grep($.makeArray(o.countries),function(t){return t.CanonicalKey.toUpperCase()===e.country.toUpperCase()});if(n.length>0){var s=$.grep($.makeArray(n[0].Provinces.Province),function(t){return t.CanonicalKey.toUpperCase()===e.province.toUpperCase()});s.length>0&&(a+=$.trim(s[0].CanonicalValue)+", "),a+=$.trim(n[0].CanonicalValue)+", "}return void 0!==e.postalCode&&null!==e.postalCode&&""!==$.trim(e.postalCode)&&(a+=e.postalCode+", "),a=$.trim(a).replace(/^,|,$/g,"")},holdMemberAndAuthorityNotAdded:function(){var e=this,t=!1;return e.customerDataModel.householdMemberAndAuthority.forEach(function(o){o.identityDetailValueHouseholdMemberAndAuthority===e.householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority&&o.allowToTransactInfoHouseholdMemberAndAuthority===e.householdMemberAndAuthority.allowToTransactInfoHouseholdMemberAndAuthority&&o.householdMemberInfoHouseholdMemberAndAuthority===e.householdMemberAndAuthority.householdMemberInfoHouseholdMemberAndAuthority&&o.firstNameHouseholdMemberAndAuthority===e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority&&o.lastNameHouseholdMemberAndAuthority===e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority&&o.identityDetailTypeHouseholdMemberAndAuthority===e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&o.role===e.householdMemberAndAuthority.role&&(t=!0)}),t},addHoldMemberAndAuthorityToGrid:function(){var e=this;"0"===e.householdMemberAndAuthority.allowToTransactInfo?e.newHoldMemberAndAuthorityGriditem.set("allowToTransactInfo",kl.value("locale.commercialcustomer:customerInformation.no")):e.newHoldMemberAndAuthorityGriditem.set("allowToTransactInfo",kl.value("locale.commercialcustomer:customerInformation.yes")),e.newHoldMemberAndAuthorityGriditem.set("firstNameHouseholdMemberAndAuthority",e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority),e.newHoldMemberAndAuthorityGriditem.set("lastNameHouseholdMemberAndAuthority",e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority),void 0!==e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&null!==e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority&&e.newHoldMemberAndAuthorityGriditem.set("identityDetailTypeHouseholdMemberAndAuthority",e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority.value),e.newHoldMemberAndAuthorityGriditem.set("fullname",e.householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority+" "+e.householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority),e.newHoldMemberAndAuthorityGriditem.set("identityDetailValueHouseholdMemberAndAuthority",e.householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority),e.householdMemberAndAuthority.relation===Komodo.CustomerAuthorityDelegatedRoles.OTHER?e.newHoldMemberAndAuthorityGriditem.set("role",e.householdMemberAndAuthority.role):e.newHoldMemberAndAuthorityGriditem.set("role",e.householdMemberAndAuthority.relation),e.newHoldMemberAndAuthorityGriditem.set("identityDetailTypeObject",e.householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority),e.addGridHoldMemberAndAuthorityRow(),e.householdMemberAndAuthority.set("isAuthorityInfoVisible",!1)},addGridHoldMemberAndAuthorityRow:function(){this.customerDataModel.householdMemberAndAuthority.pushObject(this.get("newHoldMemberAndAuthorityGriditem")),this.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create())},editAuthorityDelegationGridItem:function(){var e=this;if(void 0!==e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority")){e.householdMemberAndAuthority.set("firstNameHouseholdMemberAndAuthority",$.trim(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("firstNameHouseholdMemberAndAuthority"))),e.householdMemberAndAuthority.set("lastNameHouseholdMemberAndAuthority",$.trim(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("lastNameHouseholdMemberAndAuthority")));var t=$.grep(e.identityDetailTypes,function(t){return t.key===$.trim(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject.key"))});t.length>0?e.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",t[0]):e.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",void 0),e.householdMemberAndAuthority.set("identityDetailValueHouseholdMemberAndAuthority",$.trim(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailValueHouseholdMemberAndAuthority")));var o=$.grep(e.authorityRolesList,function(t){return t.value===e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("role")});o.length>0?(e.householdMemberAndAuthority.set("relation",o[0].value),e.householdMemberAndAuthority.set("role",void 0)):(e.householdMemberAndAuthority.set("relation",Komodo.CustomerAuthorityDelegatedRoles.OTHER),e.householdMemberAndAuthority.set("role",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("role"))),"No"===e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("allowToTransactInfo")?e.householdMemberAndAuthority.set("allowToTransactInfo","0"):e.householdMemberAndAuthority.set("allowToTransactInfo","1"),e.householdMemberAndAuthority.set("isAuthorityInfoVisible",!0),e.clearAuthorityDelegationGrid()}},deleteAuthorityDelegationGridItem:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"delete"),kl.value(e.localeBase+"deleteItem"),Komodo.Controls.MessageBoxYesNoButtons,e,"id123456","warning").response=function(t){if("yes"===t){var o=e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority");e.get("customerDataModel.householdMemberAndAuthority").removeObject(o)}}},clearAuthorityDelegationGrid:function(){var e=this;e.customerDataModel.set("householdMemberAndAuthority",$.grep(e.customerDataModel.householdMemberAndAuthority,function(t){return e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")!==t.firstNameHouseholdMemberAndAuthority||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")!==t.lastNameHouseholdMemberAndAuthority||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")!==t.identityDetailTypeHouseholdMemberAndAuthority||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")!==t.identityDetailValueHouseholdMemberAndAuthority||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.role")!==t.role||e.customerDataModel.get("commandGridItemHouseholdMemberAndAuthority.allowToTransactInfo")!==t.allowToTransactInfo}))},getAccounts:function(){var e=this,t=Komodo.Models.Account.create(),o=Komodo.canonicalFacadeFactory(t,["Type","UID","Name","StartDate","EndDate","DunningLevel","Balance","TermOfPayment","Status","PaymentDetail"]),a=new Date,n=$.grep(e.accountTypes,function(t){return"1"===e.isDMXAccountType?"DMX"===t.value:"DStvComm"===t.value});n.length>0&&o.set("Type",n[0].key),o.set("StartDate",a),o.set("Name","Main Location");var s=Komodo.Models.PaymentDetail.create();return void 0!==e.customerDataModel.get("methodOfPayment")&&"1"===e.customerDataModel.get("methodOfPayment")?(s.set("MethodOfPayment",e.customerDataModel.get("methodOfPayment")),void 0!==e.customerDataModel.get("debitOrderDay")&&s.set("DebitOrderDay",e.customerDataModel.get("debitOrderDay"))):(void 0!==e.customerDataModel.get("accountType")&&(s.set("MethodOfPayment",e.customerDataModel.get("accountType").key),s.set("BankAccountType",e.customerDataModel.get("accountType").value)),void 0!==e.customerDataModel.get("accountNo")&&s.set("AccountNumber",e.customerDataModel.get("accountNo")),null!==e.customerDataModel.get("branchCode")&&null!==e.customerDataModel.get("bank")&&(s.set("BranchCode",e.customerDataModel.get("branchCode").BranchCode),s.set("BankName",e.customerDataModel.get("bank").CanonicalKey),s.set("BranchName",e.customerDataModel.get("branchCode").CanonicalValue)),void 0!==e.customerDataModel.get("debitOrderDay")&&s.set("DebitOrderDay",e.customerDataModel.get("debitOrderDay")),void 0!==e.customerDataModel.payerName&&s.set("PayerName",e.customerDataModel.payerName),void 0!==e.customerDataModel.payerID&&s.set("PayerIDNumber",e.customerDataModel.payerID)),o.set("PaymentDetail",s),t},getCareOfPersonCollection:function(e){var t=Komodo.Models.ListOfCareOfPersonDetail.create(),o=this;return e.forEach(function(e){var a=Komodo.Models.CareOfPersonDetail.create();a.set("Role",e.role),e.allowToTransactInfo&&e.allowToTransactInfo===kl.value("locale.commercialcustomer:customerInformation.yes")?a.set("IsAllowedToTransact",!0):a.set("IsAllowedToTransact",!1),a.PersonalDetail=Komodo.Models.PersonalDetail.create(),a.PersonalDetail.set("FirstName",$.trim(e.firstNameHouseholdMemberAndAuthority)),a.PersonalDetail.set("Surname",$.trim(e.lastNameHouseholdMemberAndAuthority)),void 0!==e.identityDetailTypeObject&&null!==e.identityDetailTypeObject&&(a.PersonalDetail.set("IdentityDetailType",e.identityDetailTypeObject.key),a.PersonalDetail.set("IdentityDetailValue",$.trim(e.identityDetailValueHouseholdMemberAndAuthority))),a.set("ListOfPhoneNumber",o.getPhoneNumberCollection(o.contactNumbers)),a.set("ListOfEmail",o.getEmailCollection(o.emails)),t.CareOfPersonDetail.push(a)}),t},getPhoneNumberCollection:function(e){var t=Komodo.Models.ListOfPhoneNumber.create();return e.forEach(function(e){var o=Komodo.Models.PhoneNumber.create();void 0!==e.countryCode&&void 0!==e.contactValue&&(o.set("Type",e.type),o.set("Code",$.trim(e.countryCode)),o.set("Number",$.trim(e.contactValue)),o.set("IsPrimary",e.isPrimary),!0===e.isPrimary?o.set("IsMarketingEnabled",!0):o.set("IsMarketingEnabled",!1),t.PhoneNumber.push(o))}),t},getEmailCollection:function(e){var t=Komodo.Models.ListOfEmail.create();return e.forEach(function(e){if(e.contactValue){var o=Komodo.Models.Email.create();o.set("Value",$.trim(e.contactValue)),o.set("IsPrimary",e.isPrimary),!0===e.isPrimary?o.set("IsMarketingEnabled",!0):o.set("IsMarketingEnabled",!1),t.Email.push(o)}}),t},getPersonalDetail:function(){var e=this,t=Komodo.Models.PersonalDetail.create(),o=Komodo.canonicalFacadeFactory(t,["Title","FirstName","Surname","Initial","BirthDate","MaritalStatus","IdentityDetailType","IdentityDetailValue","CountryOfOrigin","ExpiryDate"]);return void 0!==e.customerDataModel.companyName&&null!==e.companyName&&o.set("Surname",$.trim(e.customerDataModel.companyName)),t},clearCompanyInformation:function(){this.customerDataModel.set("language",void 0),this.customerDataModel.set("companyName",void 0),this.customerDataModel.set("taxNumber",void 0),this.get("commercialIsPinAvailable")&&this.customerDataModel.set("pinTinNumber",void 0),this.customerDataModel.set("businessType",void 0),this.customerDataModel.set("registrationNumber",void 0),this.customerDataModel.set("vatNumber",void 0),this.customerDataModel.set("establishmentType",void 0)},clearFinacialInformation:function(){this.customerDataModel.set("methodOfPayment","1"),this.customerDataModel.set("accountNo",void 0),this.customerDataModel.set("bank",void 0),this.customerDataModel.set("branchCode",void 0),void 0!==this.customerDataModel.invoiceDays?this.customerDataModel.set("debitOrderDay",this.customerDataModel.invoiceDays[0]):this.customerDataModel.set("debitOrderDay",void 0)},clearContactInformation:function(){this.contactNumbers.clear(),this.emails.clear(),this.addPhoneNumber(),this.addEmail(),this.customerDataModel.set("contactFacebook",void 0),this.customerDataModel.set("contactgooglePlus",void 0),this.customerDataModel.set("contactTwitter",void 0),this.customerDataModel.set("contactOther",void 0),this.customerDataModel.set("contactIn",void 0)},clearholdMemberAndAuthority:function(){this.householdMemberAndAuthority.set("householdMemberInfo","0"),this.householdMemberAndAuthority.set("allowToTransactInfo","0"),this.householdMemberAndAuthority.set("firstNameHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("lastNameHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("identityDetailTypeHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("identityDetailValueHouseholdMemberAndAuthority",void 0),this.householdMemberAndAuthority.set("countryOfOrigin",void 0),this.householdMemberAndAuthority.set("expiryDate",void 0),this.householdMemberAndAuthority.set("role",void 0),this.householdMemberAndAuthority.set("relation",void 0),this.householdMemberAndAuthority.set("relationObject",void 0),this.householdMemberAndAuthority.set("identityDetailTypeObject",void 0)},clearFormData:function(){this.clearCompanyInformation(),this.customerDataModel.set("dateOfBirth",void 0),this.clearContactInformation(),this.customerDataModel.set("acceptMarketingInfo",!1),this.customerDataModel.set("methodOfCommunication",void 0),this.customerDataModel.set("rdCheque",void 0),this.customerDataModel.set("addressInformation",[]),this.clearFinacialInformation(),this.customerDataModel.set("isAddMobileButton",!1),this.customerDataModel.set("isAddWorkContactButton",!1),this.customerDataModel.set("isAddHomePhoneButton",!1),this.customerDataModel.set("isAddEmailButton",!1),this.clearholdMemberAndAuthority(),this.customerDataModel.set("householdMemberAndAuthority",[])},setCustomerDetails:function(){var e=this;e.set("isCreate",!1),e.set("UID",void 0),e.set("SubscriberSystemUID",void 0),Komodo.Services.customerProfileService.set("isBannerOpen",!0),Komodo.Services.customerProfileService.validateCustomerClass(e.commercialClassId).done(function(t){if(void 0!==t&&null!==t)void 0===e.countries||0===e.countries.length?e.createCDMData().done(function(){e.retrieveCustomer(t.CustomerNumber)}):e.retrieveCustomer(t.CustomerNumber);else{Komodo.Controls.MessageBoxController.show(kl.value("locale.commercialcustomer:customerprofile.customerNotFoundTitle"),kl.value("locale.commercialcustomer:customerprofile.customerNotFound"),Komodo.Controls.MessageOKButtons,e,"id5446673","warning").response=function(e){if("ok"===e)return void Komodo.Services.uiService.transitionTo("home")}}})},mapCustomerInformation:function(e){var t=this;if(void 0!==e&&void 0!==e.SubscriberSystemUID&&e.SubscriberSystemUID.SubscriberSystem.length>0&&t.customerDataModel){t.set("UID",e.SubscriberSystemUID.SubscriberSystem[0].UID),t.set("SubscriberSystemUID",e.UID),t.customerDataModel.set("customerClass",e.Class),t.customerDataModel.set("status",e.Status),t.enableNationalDealCustomer?null===e.VATNumber||void 0===e.VATNumber||""===e.VATNumber.trim()?t.customerDataModel.set("isVatRegistered","0"):t.customerDataModel.set("isVatRegistered","1"):(null!==e.VATNumber&&void 0!==e.VATNumber&&""!==e.VATNumber.trim()&&null!==e.CompanyFiscalCode&&void 0!==e.CompanyFiscalCode&&""!==e.CompanyFiscalCode.trim()||t.customerDataModel.set("isVatRegistered","2"),null!==e.VATNumber&&void 0!==e.VATNumber&&""!==e.VATNumber.trim()&&t.customerDataModel.set("isVatRegistered","1"),null!==e.CompanyFiscalCode&&void 0!==e.CompanyFiscalCode&&""!==e.CompanyFiscalCode.trim()&&t.customerDataModel.set("isVatRegistered","0")),void 0!==e.PersonalDetail&&t.customerDataModel.set("acceptMarketingInfo",void 0!==e.IsSubscribedForMagazine&&!0===e.IsSubscribedForMagazine?"1":"0"),t.customerDataModel.set("language",e.Language),t.customerDataModel.set("companyName",e.CompanyName),t.customerDataModel.set("taxNumber",e.CompanyFiscalCode),t.customerDataModel.set("registrationNumber",e.CompanyRegistrationNumber),t.customerDataModel.set("vatNumber",e.VATNumber),t.get("commercialIsPinAvailable")&&t.customerDataModel.set("pinTinNumber",e.PINNumber);var o=$.grep(t.businessTypes,function(t){return t.CanonicalKey===e.Type});o.length>0&&t.customerDataModel.set("businessType",o[0]);var a=$.grep(t.establishmentTypes,function(t){return t.CanonicalKey===e.EstablishmentType});if(a.length>0&&t.customerDataModel.set("establishmentType",a[0]),void 0!==e.ListOfPhoneNumber&&null!==e.ListOfPhoneNumber){t.contactNumbers.clear(),e.ListOfPhoneNumber.PhoneNumber.forEach(function(e,o){t.contactNumbers.pushObject(t.mapContactInformation(e,o))});0===$.grep(t.contactNumbers,function(e){return!0===e.isPrimary}).length&&Ember.set(t.contactNumbers[0],"isPrimary",!0)}if(void 0!==e.ListOfEmail&&null!==e.ListOfEmail){t.emails.clear(),e.ListOfEmail.Email.forEach(function(e,o){t.emails.pushObject(t.mapEmailInformation(e,o))});0===$.grep(t.emails,function(e){return!0===e.isPrimary}).length&&Ember.set(t.emails[0],"isPrimary",!0)}void 0!==e.ListOfAddress&&null!==e.ListOfAddress&&(t.customerDataModel.addressInformation.clear(),e.ListOfAddress.Address.forEach(function(e){t.customerDataModel.addressInformation.pushObject(t.mapAddressInformation(e))})),void 0!==e.ListOfCareOfPersonDetail&&null!==e.ListOfCareOfPersonDetail&&(t.customerDataModel.householdMemberAndAuthority.clear(),e.ListOfCareOfPersonDetail.CareOfPersonDetail.forEach(function(e){t.customerDataModel.householdMemberAndAuthority.pushObject(t.mapAuthorityDelegationInformation(e))}))}},mapContactInformation:function(e,t){var o=this.getNewPhoneNumber();return o.set("Id",t),o.set("type",e.Type),o.set("countryCode",e.Code),o.set("contactValue",e.Number),o.set("isPrimary",e.IsPrimary),o},mapEmailInformation:function(e,t){var o=this.getNewEmail();return o.set("Id",t),o.set("contactValue",e.Value),o.set("isPrimary",e.IsPrimary),o},mapAddressInformation:function(e){var t=this,o=Komodo.Models.AddressModel.create();o.set("addressType",e.Type),o.set("addressTypeText",e.Type===Komodo.CanonicalValues.AddressTypes.Physical?Komodo.AddressTypes.PHYSICAL:Komodo.AddressTypes.POSTAL),o.set("isPrimary",e.IsPrimary),o.set("isPrimaryString",!0===e.IsPrimary?kl.value("locale.commercialcustomer:customerInformation.yes"):kl.value("locale.commercialcustomer:customerInformation.no")),o.set("IsMarketingEnabled",e.IsMarketingEnabled),o.set("postalCode",e.PostCode),o.set("unit",e.HouseNumber),o.set("building",e.BuildingName);var a=Komodo.UI.addressFunctions.splitStreetNumberName(e.Street);if(o.set("streetNumber",a.streetNumber),o.set("streetName",a.streetName),e.PostBoxNumber&&e.Type===Komodo.CanonicalValues.AddressTypes.Postal){var n;-1!==e.PostBoxNumber.indexOf(Komodo.BoxTypes.PO_BOX)?(n=e.PostBoxNumber.split(" "),o.set("privateBag",n[2]),o.set("boxType",Komodo.BoxTypes.PO_BOX)):-1!==e.PostBoxNumber.indexOf(Komodo.BoxTypes.SUSPENDED)?(n=e.PostBoxNumber.split(" "),o.set("privateBag",n[1]),o.set("boxType",Komodo.BoxTypes.SUSPENDED)):-1!==e.PostBoxNumber.indexOf(Komodo.BoxTypes.PRIVATE_BAG)?(n=e.PostBoxNumber.split(" "),o.set("privateBag",n[2]),o.set("boxType",Komodo.BoxTypes.PRIVATE_BAG)):(o.set("privateBag",e.PostBoxNumber),o.set("boxType",void 0))}return o.set("country",e.Country),o.set("province",e.Province),o.set("city",e.City),o.set("suburb",e.Suburb),o.set("isAddressOverride",!!e.IsVerified&&!e.IsVerified),o.set("addressString",t.getAddressString(o,o.addressType)),o},mapAuthorityDelegationInformation:function(e){var t=this,o=Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create(),a=$.grep(t.authorityRolesList,function(t){return t.value===e.Role});if(a.length>0?(o.set("relation",a[0].value),o.set("role",a[0].value)):(o.set("relation",Komodo.CustomerAuthorityDelegatedRoles.OTHER),o.set("role",e.Role)),o.set("allowToTransactInfo",void 0!==e.IsAllowedToTransact&&!0===e.IsAllowedToTransact?kl.value("locale.commercialcustomer:customerInformation.yes"):kl.value("locale.commercialcustomer:customerInformation.no")),void 0!==e.PersonalDetail){o.set("firstNameHouseholdMemberAndAuthority",e.PersonalDetail.FirstName),o.set("lastNameHouseholdMemberAndAuthority",e.PersonalDetail.Surname),o.set("fullname",o.firstNameHouseholdMemberAndAuthority+" "+o.lastNameHouseholdMemberAndAuthority),o.set("identityDetailValueHouseholdMemberAndAuthority",e.PersonalDetail.IdentityDetailValue);var n=$.grep($.makeArray(t.identityDetailTypes),function(t){return t.key===e.PersonalDetail.IdentityDetailType});n.length>0&&o.set("identityDetailTypeObject",n[0])}return o},mapRDChequeInformation:function(e){var t=this;if(e&&e.Status&&t.customerDataModel){var o=t.getRdChequeValue(e.Status);t.customerDataModel.set("rdCheque",o),t.set("originalRDChequeValue",o)}},setInvoiceDay:function(){var e=this;void 0!==e.invoiceDays&&null!==e.invoiceDays&&e.invoiceDays.length>0&&void 0!==e.customerDataModel&&null!==e.customerDataModel&&e.customerDataModel.set("debitOrderDay",e.invoiceDays[0].key)},getRdChequeValue:function(e){return"1"===e?kl.value("locale.commercialcustomer:customerInformation.yes"):"2"===e?kl.value("locale.commercialcustomer:customerInformation.no"):"-"},getCustomerTypeText:function(e){var t=this,o=$.grep(t.customerTypes,function(t){return t.key===e});return o.length>0?o[0].value:""},validateCustomerDocuments:function(){var e=this,t=e.get("customerDataModel"),o="";return e.fileUploader&&t.customerDocuments&&$(t.customerDocuments).each(function(e,t){var a=t.get("documentType");if(void 0===a||null===a||""===a)return o=kl.value("locale.commercialcustomer:customerDocument.validateDocumentType"),!1;if(a.toLowerCase()===Komodo.DocumentTypes.CHANGE_OF_OWNERSHIP_LETTER.toLowerCase()){var n=t.get("documentSerialNumber");if(void 0===n||null===n||""===n||"N/A"===n)return o=kl.value("locale.commercialcustomer:customerDocument.validateDocumentSerialNumber"),!1}return!0}),o},uploadCustomerDocuments:function(){var e=this;if(e.customerId&&e.fileUploader&&e.fileUploader.files&&e.fileUploader.files.length>0)return $(e.fileUploader.files).each(function(e,t){2!==t.status&&4!==t.status||(t.status=1)}),e.fileUploader.uploadCanceled=!1,void e.fileUploader.start();e.loadCustomerView(e.get("customerCreatedMessage"))},getCacheRepository:function(){return this.get("_cacheRepository")},savetoRecentCustomer:function(e){var t=this,o=[],a=Komodo.Services.securityService.get("domainUserName").substring(3),n=t.get("loggedInCountryId");o[0]={key:Komodo.Services.customerProfileService.personalDetails.customerNo,value:e},t.getCacheRepository().fetch(a+n).done(function(e){for(var s=0;s<e.data.length;s++)if(o[0].key===e.data[s].key){e.data[s].value.split(",").length>1&&(e.data[s].value=o[0].value+","+e.data[s].value.split(",")[1],t.getCacheRepository().save(a+n,e.data)),e.data.splice(s,1);break}}).fail(function(e){e.indexOf("No data found for key")>0&&t.getCacheRepository().save(a+n,o)})},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,35e3,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},setPinTinNumberByCountry:function(){var e=this,t="",o=e.get("loggedInCountryId");Ember.isEmpty(o)||(t=kl.value(e.get("localeBase")+o.toLowerCase()+"PinTinNumber")),t=Ember.isEmpty(t)||0===t.indexOf("locale")?kl.value(e.get("localeBase")+"pinTinNumber"):kl.value(t),e.set("pinTinNumber",t)},methodOfPaymentChanged:function(){var e=this;if(void 0!==this.customerDataModel.methodOfPayment)switch(this.customerDataModel.methodOfPayment){case"1":Ember.set(this,"debitOrderDaylabel",kl.value(e.localeBase+"paymentDay")),Ember.set(this,"paymentDayPrompt",kl.value(e.localeBase+"paymentDayPrompt")),this.customerDataModel.set("hideFinInfo",!1),this.removeDependentProperty("payerNameValidator"),this.removeDependentProperty("branchCodeValidator"),this.removeDependentProperty("accountNoValidator"),this.removeDependentProperty("bankValidator"),this.removeDependentProperty("accountTypeValidator"),this.removeDependentProperty("payerIDValidator");break;default:Ember.set(this,"debitOrderDaylabel",kl.value(e.localeBase+"debitOrderDay")),Ember.set(this,"paymentDayPrompt",kl.value(e.localeBase+"debitOrderDayPrompt")),this.customerDataModel.set("hideFinInfo",!0),this.createDependentProperty("branchCodeValidator",[Komodo.UI.Validators.RequiredValidator]),this.createDependentProperty("bankValidator",[Komodo.UI.Validators.RequiredValidator]),this.createDependentProperty("accountTypeValidator",[Komodo.UI.Validators.RequiredValidator]),e.registerValidator(e.get("customerDataModel"),"payerName",{type:"string",isRequired:!0,minLength:3,maxLength:101,functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("customerDataModel"),"payerID",{type:"string",isRequired:!0,minLength:8,maxLength:13,regExPattern:"^[0-9a-zA-Z\\\\/]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace}),e.registerValidator(e.get("customerDataModel"),"accountNo",{type:"string",isRequired:!0,minLength:5,maxLength:34,regExPattern:"^[0-9]*$",functions:Komodo.UI.Validators.alphanumericValidator})}}.observes("customerDataModel.methodOfPayment"),bankChanged:function(){var e=this;e.set("bankBranches",[]),Ember.set(e.customerDataModel,"branchCode",void 0),e.get("customerDataModel.bank")&&$.each(e.get("banks"),function(t,o){o.CanonicalKey===e.get("customerDataModel.bank").CanonicalKey&&o.Branches&&o.Branches.Branch&&($.isArray(o.Branches.Branch)?$.each(o.Branches.Branch,function(t,o){e.get("bankBranches").addObject(o)}):e.get("bankBranches").addObject(o.Branches.Branch))})}.observes("customerDataModel.bank"),businessTypeChanged:function(){var e=this;if(e.set("establishmentTypes",[]),Ember.set(e.customerDataModel,"establishmentType",void 0),
e.get("customerDataModel.businessType")&&e.get("customerDataModel.businessType.EstablishmentTypes")){var t=[];$.each($.makeArray(e.get("customerDataModel.businessType.EstablishmentTypes.EstablishmentType")),function(e,o){t.addObject(o)}),t.sort(function(e,t){return e.CanonicalValue>t.CanonicalValue?1:e.CanonicalValue<t.CanonicalValue?-1:0}),e.set("establishmentTypes",t)}}.observes("customerDataModel.businessType"),isVatRegisteredChanged:function(){var e=this;if(void 0!==e.customerDataModel.isVatRegistered)switch(e.customerDataModel.set("taxNumber",void 0),e.customerDataModel.set("vatNumber",void 0),e.customerDataModel.set("pinTinNumber",void 0),e.customerDataModel.isVatRegistered){case"1":e.createDependentProperty("vatNumberValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]),e.removeDependentProperty("taxNumberValidator"),e.set("disableVatNumber",!1),e.set("disableTaxNumber",!0),e.get("commercialIsPinAvailable")&&(e.createDependentProperty("pinTinNumberValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]),e.set("disablePinTinNumber",!1));break;case void 0:case null:case"0":e.enableNationalDealCustomer||e.createDependentProperty("taxNumberValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]),e.removeDependentProperty("vatNumberValidator"),e.set("disableVatNumber",!0),e.set("disableTaxNumber",!1),e.get("commercialIsPinAvailable")&&(e.createDependentProperty("pinTinNumberValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]),e.set("disablePinTinNumber",!1),e.removeDependentProperty("taxNumberValidator"));break;case"2":e.removeDependentProperty("taxNumberValidator"),e.removeDependentProperty("vatNumberValidator"),e.set("disableVatNumber",!0),e.set("disableTaxNumber",!0),e.set("disablePinTinNumber",!0),e.get("commercialIsPinAvailable")&&e.removeDependentProperty("pinTinNumberValidator")}}.observes("customerDataModel.isVatRegistered"),payerIsCustomerChanged:function(){var e=this;if(void 0!==e.customerDataModel.payerIsCustomer&&!0===e.customerDataModel.payerIsCustomer){var t=e.customerDataModel.registrationNumber;t=t?t.replace(/\//g,"").replace(/\\/g,""):"",e.customerDataModel.set("payerName",e.customerDataModel.companyName),e.customerDataModel.set("payerID",t)}else e.customerDataModel.set("payerName",void 0),e.customerDataModel.set("payerID",void 0)}.observes("customerDataModel.payerIsCustomer"),contactNumbersChanged:function(){var e=this;e.contactNumbers.length>1?e.contactNumbers.forEach(function(e){e.set("isRemovable",!0)}):e.contactNumbers.forEach(function(e){e.set("isRemovable",!1)})}.observes("contactNumbers.length"),emailsChanged:function(){var e=this;e.emails.length>1?e.emails.forEach(function(e){e.set("isRemovable",!0)}):e.emails.forEach(function(e){e.set("isRemovable",!1)})}.observes("emails.length"),countContactType:function(){var e=this;e.mobileCount=0,e.homephoneCount=0,e.workPhoneCount=0,e.contactNumbers.forEach(function(t){switch(t.type){case"1":e.mobileCount++;break;case"2":e.workPhoneCount++;break;case"3":e.homephoneCount++}}),e.checkContactCount()}.observes("contactNumbers.length","contactNumbers.@each.type"),showBanner:function(){return!0!==this.isCreate&&void 0!==this.isCreate&&Komodo.Services.customerProfileService.isBannerOpen}.property("isCreate","Komodo.Services.customerProfileService.isBannerOpen"),showCreateView:function(){var e=this;return e.viewTitle=!1===e.isCreate?kl.value(e.commercialLocaleBase+"editUseCaseTitle"):kl.value(e.commercialLocaleBase+"useCaseTitle"),e.isCreate?e.registerValidator(e.get("customerDataModel"),"debitOrderDay",{type:"string",isRequired:!0}):e.removeDependentProperty("debitOrderDay"),!0===e.isCreate||void 0===e.isCreate}.property("isCreate"),showEditView:function(){var e=this;return!0!==e.isCreate&&void 0!==e.isCreate}.property("isCreate"),relationChanged:function(){var e=this;e.householdMemberAndAuthority&&e.householdMemberAndAuthority.relation===Komodo.CustomerAuthorityDelegatedRoles.OTHER?(e.set("showRoleText",!0),e.registerValidator(e.get("householdMemberAndAuthority"),"role",{type:"string",isRequired:!0,minLength:2,maxLength:50,regExPattern:"^[a-zA-Z ]*$",functions:Komodo.UI.Validators.shouldNotStartWithSpace,displayName:kl.value(e.localeBase+"role")})):(e.set("showRoleText",!1),e.householdMemberAndAuthority.set("role",void 0),e.removeDependentProperty("roleValidator"))}.observes("householdMemberAndAuthority.relation"),customerClassChanged:function(){var e=this;e.set("businessTypes",[]),e.get("customerDataModel")&&(Ember.set(e.customerDataModel,"businessType",void 0),e.get("establishmentTypeRelationship")&&e.customerDataModel.get("customerClass")&&$.each($.makeArray(e.get("establishmentTypeRelationship")),function(t,o){o.CanonicalKey===e.customerDataModel.customerClass&&$.each($.makeArray(o.CustomerTypes.CustomerType),function(t,o){e.get("businessTypes").addObject(o)})}))}.observes("customerDataModel.customerClass"),showDocumentGridView:function(){var e=this;return!!(e.customerDataModel&&e.customerDataModel.customerDocuments&&e.customerDataModel.customerDocuments.length>0)}.property("customerDataModel.customerDocuments.length"),hidehouseholdMemberGrid:function(){return this.get("customerDataModel.householdMemberAndAuthority").length>0}.property("customerDataModel.householdMemberAndAuthority.length"),identityDetailTypeChanged:function(){var e=this;e.removeDependentProperty("roleValidator"),"1"===e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority.key")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:13,functions:Komodo.UI.Validators.numericValidator}):e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:8,maxLength:10,functions:Komodo.UI.Validators.alphanumericValidator})}.observes("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority"),actions:{addPhoneNumber:function(){this.addPhoneNumber()},removePhoneNumber:function(e){var t=this;t.set("contactNumbers",$.grep(t.contactNumbers,function(t){return t.Id!==e.content.Id})),0===$.grep(t.contactNumbers,function(e){return!0===e.isPrimary}).length&&Ember.set(t.contactNumbers[0],"isPrimary",!0),t.contactNumbers.length>1?t.customerDataModel.set("shouldDisableRemoveHomeButton",!1):t.customerDataModel.set("shouldDisableRemoveHomeButton",!0)},addEmail:function(){this.addEmail()},removeEmail:function(e){var t=this;t.set("emails",$.grep(t.emails,function(t){return t.Id!==e.content.Id})),0===$.grep(t.emails,function(e){return!0===e.isPrimary}).length&&Ember.set(t.emails[0],"isPrimary",!0)},addAuthorityInformation:function(){this.householdMemberAndAuthority.set("isAuthorityInfoVisible",!0)},addAuthorityDelegation:function(){var e=this;!1!==e.canSubmitData(this.householdMemberAndAuthority,e.viewTitle,{showInModal:!0})&&(this.holdMemberAndAuthorityNotAdded()||(this.addHoldMemberAndAuthorityToGrid(),this.clearholdMemberAndAuthority()))},editAuthorityDelegationGridItem:function(){this.editAuthorityDelegationGridItem()},deleteAuthorityDelegationGridItem:function(){this.deleteAuthorityDelegationGridItem()},saveCustomer:function(){var e=this;if(!1===e.isCreate&&void 0===e.UID&&void 0===e.SubscriberSystemUID)return Komodo.Controls.MessageBoxController.show(kl.value("locale.commercialcustomer:customerprofile.customerNotFoundTitle"),kl.value("locale.commercialcustomer:customerprofile.customerNotFound")),!1;if(!1!==e.isCreate&&(void 0===e.customerDataModel.acceptTermAndCondition||"1"!==e.customerDataModel.acceptTermAndCondition))return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"acceptTermAndConditionMandatory"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1;if(!1===e.canSubmitData(e.customerDataModel,e.viewTitle,{showInModal:!0}))return!1;if(e.checkContactCount())return!1;for(var t=void 0,o=0;o<e.contactNumbers.length&&(t=e.canSubmitData(e.contactNumbers[o],e.viewTitle,{showInModal:!0}));o++);if(void 0!==t&&!t)return!1;for(var a=0;a<e.emails.length&&(t=e.canSubmitData(e.emails[a],e.viewTitle,{showInModal:!0}));a++);if(void 0!==t&&!t)return!1;var n=$.grep(e.contactNumbers,function(e){return"2"===e.type&&void 0!==e.contactValue}).length>0;if(!n)return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value("locale.commercialcustomer:customerInformation.provideWork"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1;if(!(n=$.grep(e.emails,function(e){return void 0!==e.contactValue}).length>0))return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"provideEmail"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1;n=!1;var s=0;if(this.customerDataModel.addressInformation.forEach(function(e){"3"===e.addressType&&(n=!0),e.isPrimary&&s++}),!n)return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"providePhysicalAddress"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1;switch(s){case 0:return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"onePrimaryAddress"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1;case 1:break;default:return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"onlyOnePrimaryAddress"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1}if(!(n=$.grep(e.customerDataModel.householdMemberAndAuthority,function(e){return""!==e.firstNameHouseholdMemberAndAuthority&&void 0!==e.firstNameHouseholdMemberAndAuthority}).length>0))return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"provideAuthorityDelegation"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1;if(!($.grep(e.customerDataModel.householdMemberAndAuthority,function(e){return e.firstNameHouseholdMemberAndAuthority&&e.allowToTransactInfo===kl.value("locale.commercialcustomer:customerInformation.yes")}).length>0))return Komodo.Controls.MessageBoxController.show(e.viewTitle,kl.value(e.localeBase+"provideAuthorityDelegationTransact"),Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1;var i=e.validateCustomerDocuments();return""!==i?(Komodo.Controls.MessageBoxController.show(e.viewTitle,i,Komodo.Controls.MessageBoxOkButtons,this,"modelCommercialCustomer","danger"),!1):(!1===e.isCreate?this.publishUpdateDStvCustomerEvent():this.publishCreateCommercialCustomerEvent(),!1)},cancelCustomer:function(){this.showCreateView?Komodo.Services.uiService.getRoute("application").transitionTo("home"):Komodo.Services.uiService.getRoute("application").transitionTo("commercialCustomerProfile")},removeDocument:function(e){var t=this,o=-1;if(t.fileUploader){var a=e._parentView._childViews[0].text,n=t.get("customerDataModel");$(n.customerDocuments).each(function(e,t){t.documentName===a&&(o=e)}),o>-1&&(n.customerDocuments.removeAt(o),t.fileUploader.files.removeAt(o))}},changeCustomerStatus:function(){var e=Komodo.Services.uiService.getController("CustomerProfileContainer");e&&e.changeCustomerStatus()}},retrieveCustomer:function(e){var t=this,o=e;t.get("processId")||t.startNewProcess(),t.showBusyIndicator(),Komodo.Services.queryService.getJSON("/CustomerProfile/Get?customerId="+e).done(function(a){if(a&&a.CustomerDetail){if(void 0!==a.CustomerDetail.SubscriberSystemUID&&a.CustomerDetail.SubscriberSystemUID.SubscriberSystem.length>0&&(a.CustomerDetail.SubscriberSystemUID.SubscriberSystem[0].UID=o),t.mapCustomerInformation(a.CustomerDetail),t.retrieveFiscalCodeField(e),t.mapRDChequeInformation(a.RdCheque),t.enableDMXAccountType){var n=Komodo.Services.customerProfileService.getFinancialAccounts();n&&n.ResponseMessage&&n.ResponseMessage.Payload&&n.ResponseMessage.Payload.ListOfAccount&&n.ResponseMessage.Payload.ListOfAccount.Account&&$.each(n.ResponseMessage.Payload.ListOfAccount.Account,function(e,o){return o.Type!==Komodo.AccountTypes.DMX||(t.set("isDMXAccountType","1"),!1)})}t.hideBusyIndicator()}}).error(function(e){var o=JSON.stringify(e);Komodo.log("[ERROR] : retrieveCustomer ajax call failed. Error: "+o),t.hideBusyIndicator()})},retrieveFiscalCodeField:function(e){var t=this;if(t.showFiscalCode){Komodo.Services.queryService.getJSON("/CustomerProfile/GetCustomerFiscalCode?cusId="+e).done(function(e){e&&t.customerDataModel.set("ivrFiscalCode",e.FiscalCode)}).error(function(e){var o=JSON.stringify(e);Komodo.log("[ERROR] : retrieveFiscalCodeField ajax call failed. Error: "+o),t.hideBusyIndicator()})}},loadCustomerView:function(e){var t=this,o=e.ResponseMessage.Payload.CustomerDetail;if(t.hideBusyIndicator(),void 0!==o.UID&&void 0!==o.SubscriberSystemUID.UID){var a=Komodo.Models.CreateCustomerNamespace.CustomerCreatedModel.create();if(a.set("customerNumber",o.SubscriberSystemUID.UID),a.set("customerClass",o.Class),a.set("name",o.CompanyName),a.set("lastName",o.CompanyName),a.set("companyRegistrationNumber",o.CompanyRegistrationNumber),a.set("taxNumber",o.CompanyFiscalCode),a.set("vatNumber",o.VATNumber?o.VATNumber:"-"),t.get("commercialIsPinAvailable")&&a.set("pinTinNumber",o.PINNumber?o.PINNumber:"-"),a.set("customerType",t.getCustomerTypeText(o.Type)),a.set("isCreate",t.isCreate),a.set("isCommercialCustomer",t.isCommercialCustomer),void 0!==o.ListOfEmail){var n=$.grep($.makeArray(o.ListOfEmail.Email),function(e){return"true"===e.IsPrimary});1===n.length?a.set("email",void 0!==n[0]?$.trim(n[0].Value):""):a.set("email",void 0!==o.ListOfEmail.Email[0]?$.trim(o.ListOfEmail.Email[0].Value):"")}if(void 0!==o.ListOfAddress){var s=$.grep(t.customerDataModel.addressInformation,function(e){return e.addressType===Komodo.CanonicalValues.AddressTypes.Physical});1===s.length&&a.set("physicalAddress",void 0!==s[0]?s[0].addressString:"")}if(void 0!==o.ListOfPhoneNumber){var i=$.grep($.makeArray(o.ListOfPhoneNumber.PhoneNumber),function(e){return"true"===e.IsPrimary});1===i.length?a.set("mobileNumber",void 0!==i[0]?$.trim(i[0].Code)+$.trim(i[0].Number):""):a.set("mobileNumber",void 0!==o.ListOfPhoneNumber.PhoneNumber[0]?$.trim(o.ListOfPhoneNumber.PhoneNumber[0].Code)+$.trim(o.ListOfPhoneNumber.PhoneNumber[0].Number):"")}if(void 0!==o.Type&&void 0!==o.EstablishmentType){var r=$.grep(t.businessTypes,function(e){return e.CanonicalKey===o.Type}),l=$.grep(t.establishments,function(e){return e.key===o.EstablishmentType});void 0!==r[0]&&void 0!==l[0]&&a.set("businessTypeAndEstablishment",r[0].CanonicalValue+", "+l[0].value)}t.set("customerCreated",!1),t.clearFormData(),t.set("isCreateCustomerButtonDisable",!1);var d=Komodo.Services.uiService.getController("CustomerProfile");d&&d.set("isInformationComplete",!0);return Komodo.Services.uiService.getController("customerCreated").setResponseMessage(a),Komodo.Services.uiService.getRoute("application").transitionTo("customerCreated"),!0}return Komodo.Controls.MessageBoxController.show(t.viewTitle,kl.value(t.commercialLocaleBase+"commercialcustomerCreatedFailure")),!1},saveCustomer:function(e){var t=this,o=Komodo.Models.CreateCommercialCustomer.create(),a=Komodo.canonicalFacadeFactory(o,["Country","CustomerDetail","Account"]);a.set("Country",t.get("loggedInCountryId"));var n=Komodo.Models.CustomerDetail.create(),s=Komodo.canonicalFacadeFactory(n,["UID","SubscriberSystemUID","StartDate","EndDate","Status","Language","VATNumber","Class","Type","BusinessUnit","IsOptInForMarketing","PreferedMarketingMethod","IsTermsAccepted","IsSubscribedForMagazine","CompanyName","CompanyFiscalCode","CompanyRegistrationNumber","CompanyMarketSegment","EstablishmentType","ListOfCareOfPersonDetail","ListOfPhoneNumber","ListOfAddress","ListOfEmail","PersonalDetail","LeadUID","PINNumber"]);if(void 0!==t.customerDataModel.acceptTermAndCondition&&"1"===t.customerDataModel.acceptTermAndCondition&&s.set("IsTermsAccepted",!0),s.set("Class",t.customerDataModel.customerClass),s.set("Language",t.customerDataModel.language),s.set("Type",t.customerDataModel.businessType.CanonicalKey),s.set("CompanyName",t.customerDataModel.companyName),s.set("CompanyFiscalCode",t.customerDataModel.taxNumber),s.set("CompanyRegistrationNumber",t.customerDataModel.registrationNumber),s.set("VATNumber",t.customerDataModel.vatNumber),t.get("commercialIsPinAvailable")&&s.set("PINNumber",t.customerDataModel.pinTinNumber),s.set("EstablishmentType",t.customerDataModel.establishmentType.CanonicalKey),s.set("BusinessUnit","DStv"),void 0!==t.customerDataModel.leadUid&&a.set("LeadUID",t.customerDataModel.leadUid),s.set("ListOfCareOfPersonDetail",t.getCareOfPersonCollection(t.customerDataModel.householdMemberAndAuthority)),s.set("ListOfPhoneNumber",t.getPhoneNumberCollection(t.contactNumbers)),s.set("ListOfAddress",Komodo.UI.addressFunctions.getAddressCollection(t.customerDataModel.addressInformation)),s.set("ListOfEmail",t.getEmailCollection(t.emails)),s.set("PersonalDetail",t.getPersonalDetail()),a.set("CustomerDetail",n),t.set("isCreateCustomerButtonDisable",!0),s.set("IsSubscribedForMagazine","1"===t.customerDataModel.get("acceptMarketingInfo")),!0===t.isCreate)a.set("Account",t.getAccounts());else{var i=Komodo.Models.SubscriberSystem.create();i.set("UID",t.UID),i.set("Name","DStv Customer");var r=[];r.addObject(i),s.set("UID",t.SubscriberSystemUID),s.set("SubscriberSystemUID",r),s.set("Status",t.customerDataModel.status),o.set("Account",void 0)}t.startNewProcess(),Komodo.Services.CustomerService.publishCustomerEvent(this,o,e,"v1",!0).done(function(){if(Komodo.log("publish "+e+" Event : done"),t.get("originalRDChequeValue")!==t.customerDataModel.get("rdCheque")&&"-"!==t.customerDataModel.get("rdCheque")&&null!==t.customerDataModel.get("rdCheque")&&void 0!==t.customerDataModel.get("rdCheque")){var o=Komodo.Models.UpdateRDCheque.create();o.Country=t.get("loggedInCountryId"),o.CustomerUID=t.UID;var a=Komodo.Models.RDCheque.create();Komodo.Services.customerProfileService.rdCheque.forEach(function(e){e.value===t.customerDataModel.get("rdCheque")&&(a.Status=e.key)}),Komodo.Services.customerProfileService.rdChequeStatusReason.forEach(function(e){e.key===a.Status&&(a.StatusReason=e.key)}),o.RDCheque=a,Komodo.Services.CustomerService.publishCustomerEvent(t,o,"UpdateRDCheque","v1").done(function(){Komodo.log("publish UpdateRDCheque Event : done")}).fail(function(e){Komodo.log("publish UpdateRDCheque Event : failed. Error: "+e)})}}).fail(function(t){Komodo.log("publish "+e+" Event : failed. Error: "+t)}),t.showBusyIndicator()},publishCreateCommercialCustomerEvent:function(){this.saveCustomer("CreateCommercialCustomer")},publishUpdateDStvCustomerEvent:function(){this.saveCustomer("UpdateDStvCustomer")},messageCommercialCustomerCreatedReceived:function(e){var t=this,o=e.ResponseMessage.Payload.CustomerDetail;if(void 0!==o.UID&&void 0!==o.SubscriberSystemUID.UID){var a=Komodo.Services.customerProfileService,n=Komodo.Application.SharedObjectController.create();a.setCustomerProfile(void 0),n.retrieveCustomerProfile(o.SubscriberSystemUID.UID),t.set("customerId",o.SubscriberSystemUID.UID),Komodo.Services.CustomerService.isUserActivityToBeTracked&&Komodo.Services.CustomerService.startActivity(t.get("customerId")),t.set("customerCreatedMessage",e),t.uploadCustomerDocuments()}},messageDStvCustomerUpdatedReceived:function(e){var t=e.ResponseMessage.Payload.CustomerDetail;void 0!==t.UID&&void 0!==t.SubscriberSystemUID.UID&&(this.publishCreateInteraction(t.SubscriberSystemUID.UID),this.savetoRecentCustomer(t.CompanyName),this.updateFiscalCodeField()),this.loadCustomerView(e)},updateFiscalCodeField:function(){var e=this;if(e.showFiscalCode){var t="";Ember.isEmpty(e.customerDataModel.ivrFiscalCode)||(t=e.customerDataModel.ivrFiscalCode);var o=Komodo.Services.customerProfileService.personalDetails.customerNo,a={CustomerId:o,FiscalCode:t};Komodo.Services.queryService.postJSON("/CustomerProfile/UpdateCustomerFiscalCode",{data:a}).done(function(e){Komodo.log("Update Customer FiscalCode for Customer:-"+o+" started successfully")}).error(function(e){var t=JSON.stringify(e);Komodo.log("User Customer FiscalCode for Customer:-"+o+" could not be started. Error: "+t)})}},messageRDChequeUpdatedReceived:function(){Komodo.log("RDChequeUpdated response event of UpdateRDCheque Event received successfully.")},publishCreateInteraction:function(e){var t=this,o=Komodo.Models.CreateInteraction.create(),a=Komodo.Models.Case.create();a.set("InteracteeName",Komodo.Services.securityService.session.domainUserName),a.set("InteractionLocation",t.get("loggedInCountryId")),a.set("InteractionMedium","1"),a.set("CustomerUID",e),a.set("Category",3),a.set("SubCategory",13),a.set("Outcome",51),a.set("Status","1"),a.set("Notes",kl.value(t.commercialLocaleBase+"activityNote"));var n=Komodo.canonicalFacadeFactory(o,["Country","Case"]);n.set("Country",t.get("loggedInCountryId")),n.set("Case",a),Komodo.Services.CustomerService.publishCustomerEvent(this,o,"CreateInteraction","v1",!0)},messageFailureMessageEventReceived:function(e){var t=this;t.hideBusyIndicator(),t.set("isCreateCustomerButtonDisable",!1),Komodo.Controls.MessageBoxController.show(t.viewTitle,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButton,this,"id544246673","danger")},messageReceived:function(e){this.hideBusyIndicator(),Komodo.UI.log("[CommercialCustomerController.messageReceived] : event name = "+e.ResponseMessage.EventName)},messageDeliveryFailure:function(e){this.hideBusyIndicator(),Komodo.UI.warn("[CommercialCustomerController.messageDeliveryFailure] : messageId = "+e.messageId)},messageFault:function(e){this.hideBusyIndicator(),Komodo.UI.error("[CommercialCustomerController.messageFault] : messageId = "+e.messageId)},commercialClassId:[Komodo.CustomerClass.COMMERCIAL,Komodo.CustomerClass.NATIONAL_DEAL],customerId:void 0,viewTitle:"",countries:[],provinces:[],cities:[],suburbs:[],postalCodes:[],languages:[],fiscalCodes:[],countriesOfOrigin:[],banks:[],bankBranches:[],communicationMethods:[],addressTypes:[],paymentMethods:[],contactNumbers:[],emails:[],countriesWithCodes:[],loggedInCountry:void 0,identityDetailTypes:[],establishmentTypeRelationship:[],businessTypes:[],establishmentTypes:[],establishments:[],accountTypes:[],rdChequeStatuses:[],invoiceDays:[],customerTypes:[],customerClasses:[],commercialLocaleBase:"locale.commercialcustomer:customer.",localeBase:"locale.customer:customerInformation.",customerCreated:!0,isCreateCustomerButtonDisable:!0,disableVatNumber:!0,disableTaxNumber:!1,disablePinTinNumber:!1,pinTinNumber:void 0,isLocationIndicatorVisible:!1,submitCustomerDetails:null,countrySelection:void 0,disablePostalCode:!0,physicalAddress:!0,postalSameAsPhysical:!1,showSameAsPhysical:!1,showRoleText:!1,mobileCount:0,homephoneCount:0,workPhoneCount:0,MAXIMUM_CONTACT_PER_TYPE:4,firstNameFromQuote:void 0,lastNameFromQuote:void 0,leadUidFromQuote:void 0,debitOrderDaylabel:void 0,paymentMethodList:[],authorityRolesList:[],selectedpaymentMethod:void 0,disablePayer:!1,hide:!1,country:void 0,originalRDChequeValue:void 0,commercialIsPinAvailable:!1,enableNationalDealCustomer:!1,enableDMXAccountType:!1,isDMXAccountType:"0",documentTypes:[],defaultDocumentType:void 0,documentSerialNumbers:[],fileUploader:void 0,identificationMinLength:void 0,nameRegularExpression:"^[a-zA-Z]+[ ]?[a-zA-Z]*[ ]?[a-zA-Z]*$/"}),Komodo.Application.PendingPaymentPlanApplicationsController=Komodo.UI.Controller.extend({init:function(){Komodo.log("Constructing PendingPaymentPlanApplications controller"),this.set("processVersion","v1.1"),this.set("processName","PendingPaymentPlanApplications process"),this._super()},start:function(){var e=this;e.registerModel("pendingPaymentPlanApplicationsModel",Komodo.Models.PendingPaymentPlanApplicationsModel),e.set("allApplications",[]),e.loadApplicationStatus(),e._super()},getNewProcessID:function(){this.startNewProcess()},getXsdDate:function(e){function t(e){var t=e.toString();return t.length<2?"0"+t:t}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())},searchCreditApplications:function(){var e=this;e.getNewProcessID(),e.set("myProcessId",e.get("processId")),e.showBusyIndicator(),e.set("allApplications",[]);var t="customerNumber=";t+=Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.customerNumber"))?"":e.get("pendingPaymentPlanApplicationsModel.customerNumber"),t+="&idNumber=",t+=Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.idNumber"))?"":e.get("pendingPaymentPlanApplicationsModel.idNumber"),t+="&applicationStartDate=",Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.applicationStartDate"))||(t+=e.getXsdDate(e.get("pendingPaymentPlanApplicationsModel.applicationStartDate"))),t+="&applicationEndDate=",Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.applicationEndDate"))||(t+=e.getXsdDate(e.get("pendingPaymentPlanApplicationsModel.applicationEndDate"))),t+="&applicationStatus=",t+=Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.status"))?"":e.get("pendingPaymentPlanApplicationsModel.status"),Komodo.Services.queryService.getJSON("/CreditApplication/SearchCreditApplication?"+t).done(function(t){e.fillSearchedData(t),e.hideBusyIndicator()}).error(function(t){e.hideBusyIndicator(),e.diaplayError(t)})},diaplayError:function(e){var t=this,o=JSON.stringify(e);null!=o&&null!=JSON.parse(JSON.parse(o).responseText)&&JSON.parse(JSON.parse(o).responseText).Message?Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:pendingPaymentPlanApplications.useCaseTitle"),JSON.parse(JSON.parse(o).responseText).Message,Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger"):null!=o&&null!=JSON.parse(JSON.parse(o).responseText)&&JSON.parse(JSON.parse(o).responseText)?Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:pendingPaymentPlanApplications.useCaseTitle"),JSON.parse(JSON.parse(o).responseText),Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger"):Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:pendingPaymentPlanApplications.useCaseTitle"),o,Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger")},fillSearchedData:function(e){var t=this;if(null!=e){Komodo.Services.securityService.hasPermission("clarity://pendingPaymentPlanApplicationsView/viewOnly")?t.set("specificRole",!0):t.set("specificRole",!1),$.each(e,function(e,o){t.get("allApplications").pushObject(Ember.Object.create({idNumber:o.IdNumber,name:o.Name,customerNumber:Ember.isEmpty(o.CustomerNumber)?"-":o.CustomerNumber,applicationDate:t.getFormattedDate(o.CreatedDate),applicationStatus:o.StatusDescription,productTaken:Ember.isEmpty(o.ProductName)?"-":o.ProductName,applicationId:o.ApplicationId}))})}},getFormattedDate:function(e){var t="";if("0001-01-01T00:00:00"===e)return"";if(e){var o=e.split("T"),a=new Date(o[0]),n=a.getDate();n=n<10?"0"+n.toString():n.toString();var s=a.getMonth()+1;s=s<10?"0"+s.toString():s.toString();t=n+"-"+s+"-"+a.getFullYear()}return t},loadApplicationStatus:function(){var e=this;e.set("applicationStatus",[]),Komodo.Services.cachedDataService.fetch("CreditApplicationStatus",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId")}).done(function(t){$.each(t,function(t,o){e.applicationStatus.addObject(o)}),e.set("pendingPaymentPlanApplicationsModel.status","3")}).fail(function(e){Komodo.log("[ERROR] : could not retrieve Application Status from CDM")})},stop:function(){var e=this;e.set("applicationStatus",[]),e._super()},getProductDescription:function(e){var t=this,o="";return t.dppProducts.forEach(function(t){t.key===e&&(o=t.label)}),o},getCreditDetails:function(e){var t=this;Komodo.Services.uiService.getController("paymentPlanApplicationDetails").set("applicationId",e.applicationId),t.transitionToRoute("/paymentPlanApplicationDetails")},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("myProcessId"),Komodo.Services.busyIndicatorTypes.Busy,6e5,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("myProcessId"),"blocking")},search:function(){var e=this;if(!(Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.customerNumber"))&&Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.idNumber"))&&Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.status"))&&Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.applicationStartDate"))&&Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.applicationEndDate")))){if(!Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.customerNumber"))&&e.get("pendingPaymentPlanApplicationsModel.customerNumber").length<5)return;if(!Ember.isEmpty(e.get("pendingPaymentPlanApplicationsModel.idNumber"))&&e.get("pendingPaymentPlanApplicationsModel.idNumber").length<7)return;e.searchCreditApplications()}}.observes("pendingPaymentPlanApplicationsModel.customerNumber","pendingPaymentPlanApplicationsModel.idNumber","pendingPaymentPlanApplicationsModel.status","pendingPaymentPlanApplicationsModel.applicationStartDate","pendingPaymentPlanApplicationsModel.applicationEndDate"),actions:{redirect:function(e){this.getCreditDetails(e.content)}},allApplications:[],applicationStatus:[],dppProducts:[],specificRole:!1,myProcessId:null}),Komodo.Application.CreateCustomerController=Komodo.UI.Controller.extend({needs:["payment","genericPayment"],supervisorClaim:["clarity://createCustomer/supervisor"],init:function(){Komodo.log("Constructing Create Customer controller");var e=this;e.set("processVersion","v1.1"),e.set("processName","Create Customer process");var t=Ember.ArrayProxy.create({content:Ember.A([])});e.dataGridColumnsHouseholdMemberAndAuthority=[Komodo.Controls.DataGridColumn.create({name:"fullname",title:kl.value(e.localeBase+"fullname")}),Komodo.Controls.DataGridColumn.create({name:"identityDetailValueHouseholdMemberAndAuthority",title:kl.value(e.localeBase+"identityDetailValue")}),Komodo.Controls.DataGridColumn.create({name:"relation",title:kl.value(e.localeBase+"relation")}),Komodo.Controls.DataGridColumn.create({name:"householdMemberInfo",title:kl.value(e.localeBase+"householdMemberInfo")}),Komodo.Controls.DataGridColumn.create({name:"allowToTransactInfo",title:kl.value(e.localeBase+"allowToTransactInfo")}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"editButton"),displayText:kl.value(e.localeBase+"editButton"),width:"30px",action:"editHoldMemberAndAuthorityGridItem",displayType:"link"}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"delete"),displayText:kl.value(e.localeBase+"delete"),width:"30px",action:"deleteHoldMemberAndAuthorityGridItem",displayType:"link"})],e.getStaticCDMData(),e.registerValidation(),e.set("productsWithStandardObject",t),e._super()},start:function(){var e=this;e.getStaticCDMData(),e.registerModel("customerDataModel",Komodo.Models.CreateCustomerNamespace.CreateCustomerModel),e.set("identification",Komodo.Models.IdentificationModel.create()),e.createNewGridItemHoldMemberAndAuthority(),e.set("householdMemberAndAuthority",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.set("phoneNumber",Komodo.Models.CreateCustomerNamespace.ContactInformation.create()),e.set("email",Komodo.Models.CreateCustomerNamespace.ContactEmail.create()),e.set("customerDataModel.disablePaymentDay",!1),e.set("disablePaymentDay",!1),e.set("customerDataModel.hideAdditionalInformationFinance",!0),e.set("paymentDetails.payerIsCustomer",!0),e.populateCDMDataSets(),e.registerValidation(),e.showPopUp(),e.set("customerDataModel.hideFinInfo",!0),
e.set("disableCreateCustomerButton",!1),e.set("supervisorValidator",!0),e.setDefaults(),e.loadDateDOB(),e.loadMonthDOB(),e.loadYearDOB(),e.setPaymentType(),e._super()},getValueFromConstant:function(e,t){return Komodo.Services.CustomerService.getValueFromConstant(e,t)},setPaymentType:function(){this.get("paymentDetails._debitOrderAllowed")?this.set("paymentType",Komodo.MOP.DEBIT_ORDER):this.set("paymentType",Komodo.MOP.CASH)},showPopUp:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customerInformation.acceptTermAndConditionTitle"),kl.value("locale.customer:customerInformation.acceptTermAndCondition"),Komodo.Controls.MessageBoxAcceptDeclineButtons,e,"id5446673","").response=function(t){"accept"===t?e.set("customerDataModel.acceptTermAndCondition","1"):e.getUIService().getController("application").redirectReturn("home")}},setDefaults:function(){var e=this;switch(e.set("isPostal",!1),e.set("isAllowToTransactDisabled",!1),e.set("customerDataModel.isAddMobileButton",!1),e.set("customerDataModel.isAddWorkContactButton",!1),e.set("customerDataModel.isAddHomePhoneButton",!1),e.set("customerDataModel.isAddEmailButton",!1),e.set("customerDataModel.isIDFieldDisabled",!1),e.set("customerDataModel.startDate",new Date((new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getFullYear())),e.set("contactNumbers",[]),e.set("emails",[]),e.set("customerDataModel.addressInformation",[]),e.set("customerDataModel.householdMemberAndAuthority",[]),e.set("methodOfPayment",[]),e.set("customerDataModel.isRegisteredForVAT","0"),e.set("customerDataModel.isReceiveInvoice","0"),e.setDataFromQuoteToCustomer(),e.set("customerDataModel.acceptMarketingInfo","1"),e.set("customerDataModel.isMethodOfCommunicationDisabled",!1),e.set("customerDataModel.viewingPlatform","1"),e.set("identification.idType","1"),e.get("identification.idType")){case Komodo.CanonicalValues.IdentificationType.ID:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX"));break;case Komodo.CanonicalValues.IdentificationType.Refugee:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MAX"));break;case Komodo.CanonicalValues.IdentificationType.NRC:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX"))}Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableRealtimeAHVProcess").done(function(t){e.set("_enableRealtimeAHVProcess",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateCustomer","IsSingleBusinessUnit").done(function(t){switch(e.set("hideViewingPlatform",t),t){case!0:e.set("viewingPlatformlabel",kl.value(e.localeBase+"viewingPlatformSA"));break;default:e.set("viewingPlatformlabel",kl.value(e.localeBase+"viewingPlatform"))}}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableIdVerification").done(function(t){e.set("isDOBDisabled",t),e.set("isHouseholdMemberAndAuthorityDOBDisabled",t),e.set("_enableIdVerification",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","IsIdentificationNumberRequire").done(function(t){e.set("identification.isIdentificationNumberRequire",t),e.set("customerDataModel.isIdentificationNumberRequire",t),e.set("paymentDetails.isIdentificationNumberRequire",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","IsDateOfBirthEnable").done(function(t){e.set("_isDateOfBirthEnable",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateCustomer","IsIPDayDisabled").done(function(t){e.set("disablePaymentDay",t),e.set("isIPDayDefaultAndDisable",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),!1===e.get("identification.isIdentificationNumberRequire")&&e.set("identification.idType",void 0),e.setMethodOfPayment(),Komodo.Services.securityService.hasPermission("clarity://system/supervisor")?this.set("disableReceiveInvoice",!1):this.set("disableReceiveInvoice",!0)},registerValidation:function(){var e=this;e.registerValidator(e.get("customerDataModel"),"language",{type:"string",isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"title",{type:"string",isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"residenceType",{isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"firstName",{type:"string",isRequired:!0,minLength:1,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator}),e.registerValidator(e.get("customerDataModel"),"lastName",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator}),e.registerValidator(e.get("customerDataModel"),"dateOfBirth",{type:"date"}),e.registerValidator(e.get("customerDataModel"),"viewingPlatform",{type:"string"}),e.registerValidator(e.get("customerDataModel"),"vatNumber",{type:"string",isRequired:!0,minLength:3,maxLength:11,functions:Komodo.UI.Validators.alphanumericValidator}),e.registerValidator(e.get("customerDataModel"),"methodOfCommunication",{type:"string",isRequired:!1,displayName:kl.value(e.localeBase+"CommunicationMethod")}),e.registerValidator(e.get("customerDataModel"),"acceptMarketingInfo",{type:"string",displayName:kl.value(e.localeBase+"canWeSendMarketingVlidationText"),isRequired:!0}),e.registerValidator(e.get("customerDataModel"),"isAcceptTermAndCondition",{type:"bool",defaultValue:!1}),e.registerValidator(e.get("customerDataModel"),"acceptTermAndCondition",{type:"bool",displayName:kl.value(e.localeBase+"acceptTermAndCondition")}),e.registerValidator(e.get("householdMemberAndAuthority"),"householdMemberInfo",{type:"string",isRequired:!0}),e.registerValidator(e.get("householdMemberAndAuthority"),"allowToTransactInfo",{type:"string",isRequired:!0}),e.registerValidator(e.get("householdMemberAndAuthority"),"firstNameHouseholdMemberAndAuthority",{type:"string",minLength:1,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator}),e.registerValidator(e.get("householdMemberAndAuthority"),"lastNameHouseholdMemberAndAuthority",{type:"string",minLength:2,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator}),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailTypeHouseholdMemberAndAuthority"}),!0===e.get("identification.isIdentificationNumberRequire")&&e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}),e.registerValidator(e.get("householdMemberAndAuthority"),"relation",{type:"string",displayName:kl.value(e.localeBase+"relation")}),e.registerValidator(e.get("householdMemberAndAuthority"),"cDateOfBirth",{type:"date"})},populateCDMDataSets:function(){var e=this;e.populateHierachicalCDMDataSet("EstablishmentTypeRelationship",e.get("residenceTypeList"))},populateHierachicalCDMDataSet:function(e,t){Komodo.Services.cachedDataService.fetch(e,{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()}).done(function(o){var a=JSON.parse(o);switch(t.clear(),e){case"EstablishmentTypeRelationship":$.each(a.CustomerClasses.CustomerClass,function(e,o){"Residential"===o.CanonicalValue&&"General"===o.CustomerTypes.CustomerType.CanonicalValue&&$.each(o.CustomerTypes.CustomerType.EstablishmentTypes.EstablishmentType,function(e,o){"Holiday Home"!==o.CanonicalValue&&t.addObject(o)})});break;default:Komodo.error("[ERROR] : Unknown Hierarchical dataset: "+e)}}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for "+e)})},getStaticCDMData:function(){var e,t=this;Komodo.Services.featureToggleService.isEnabled("EditPaymentDetails","RemovePaymentDay1").done(function(o){var a={domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()};t.set("countryDescription",Komodo.Services.uiService.getController("application").get("_selectedCountryDescription")),Komodo.Services.cachedDataService.fetch("MethodOfPayment",a).done(function(n){t.get("methodsOfPaymentCanonical").clear(),$.each(n,function(e,o){t.get("methodsOfPaymentCanonical").addObject(o)}),Komodo.Services.cachedDataService.fetch("BankAccountType",a).done(function(n){t.get("methodsOfPayment").clear(),$.each(n,function(e,o){t.get("methodsOfPayment").addObject(o)}),Komodo.Services.cachedDataService.fetch("Title",a).done(function(n){t.get("_titles").clear(),n=n.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),$.each(n,function(e,o){t.get("_titles").addObject(o)}),Komodo.Services.cachedDataService.fetch("CommunicationLanguage",a).done(function(n){t.get("languages").clear(),$.each(n,function(e,o){t.get("languages").addObject(o)}),Komodo.Services.cachedDataService.fetch("CountryOfOrigin",a).done(function(n){t.get("countriesOfOrigin").clear(),$.each(n,function(e,o){t.get("countriesOfOrigin").addObject(o)}),Komodo.Services.cachedDataService.fetch("IDType",a).done(function(n){t.get("idTypes").clear(),t.get("_householdMemberIdType").clear(),$.each(n,function(e,o){t.get("idTypes").addObject(o),t.get("_householdMemberIdType").addObject(o)}),Komodo.Services.cachedDataService.fetch("CommunicationMethod",a).done(function(n){t.get("communicationMethods").clear(),$.each(n,function(e,o){"1"!==o.key&&t.get("communicationMethods").addObject(o)}),Komodo.Services.cachedDataService.fetch("HouseholdMemberRelation",a).done(function(n){t.get("_householdMemberRelation").clear(),$.each(n,function(e,o){t.get("_householdMemberRelation").addObject(o)}),Komodo.Services.cachedDataService.fetch("CountryDetail",a).done(function(n){e=JSON.parse(n),t.get("mobileCode").clear(),$.each(e.Countries.Country,function(e,o){t.get("mobileCode").addObject(o)}),t.dialingCode=$.grep(t.get("mobileCode"),function(e){return e.CanonicalValue.indexOf(t.get("countryDescription"))>=0}),Komodo.Services.cachedDataService.fetch("Location",a).done(function(n){e=JSON.parse(n),t.get("countries").clear(),$.each($.makeArray(e.Countries.Country),function(e,o){t.get("countries").addObject(o)}),Komodo.Services.cachedDataService.fetch("Country").done(function(e){t.set("isoData",[]),t.set("isoData",e);var n=void 0,s=void 0;!t.isoData instanceof Array&&(t.isoData=[t.isoData]),t.isoData.forEach(function(e){a.domain===e.key&&(n=e.key,s=e.value)}),void 0!==n&&(t.set("loggedInCountryId",n),t.set("country",s)),Komodo.Services.cachedDataService.fetch("BankDetail",a).done(function(e){var n=JSON.parse(e);t.get("banks").clear(),$.each($.makeArray(n.Banks.Bank),function(e,o){t.get("banks").addObject(o)}),Komodo.Services.cachedDataService.fetch("CustomerType",a).done(function(e){t.get("customertype").clear(),$.each(e,function(e,o){t.get("customertype").addObject(o)}),Komodo.Services.cachedDataService.fetch("InvoiceDay",a).done(function(e){t.get("debitOderDays").clear(),e=e.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),$.each(e,function(e,a){"29"!==a.key&&("1"===a.key?o||t.get("debitOderDays").addObject(a):t.get("debitOderDays").addObject(a))}),t.setMethodOfPayment(),Komodo.Services.cachedDataService.fetch("CaseOutcome").done(function(e){t.set("caseOutcome",e)})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for DebitOrderDay")})}).fail(function(){Komodo.error("could not retrieve customertype")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for BankDetail")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for CountryISO")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for Location")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for CountryDetail")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for HouseholdMemberRelation")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CommunicationMethod")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for IDType")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CountryOfOrigin")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CommunicationLanguage")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for Title")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for MethodOfPayment")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for MethodOfPayment")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve debit order day from CDM")})},setMethodOfPayment:function(){var e=this,t=new Date;!1===e.get("isIPDayDefaultAndDisable")?e.get("debitOderDays").forEach(function(o){t.getDate()>=29?t.getDate()+1==o.key&&e.set("paymentDetails.debitOrderDay",o.key):t.getDate()==o.key&&e.set("paymentDetails.debitOrderDay",o.key)}):e.set("paymentDetails.debitOrderDay",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DEFAULT_IP_DAY"))},stop:function(){var e=this;e.hideBusyIndicator(),e.set("loggedInCountryId",void 0),e.set("customerDataModel.payerIsCustomer",void 0);var t=["residenceTypeList","residenceTypes","countries","provinces","cities","suburbs","postalCodes","languages","countriesOfOrigin","banks","bankBranches","idTypes","communicationMethods","methodsOfPayment","contactNumbers","emails","methodOfPayment","_titles","_householdMemberRelation","_householdMemberIdType","PaymentDetailsModel"];t.forEach(function(t){e.set(t,[])},t),e._super()},loadDate:function(){var e=this;e.get("dateArray").clear(),e.get("dateArrayDOB").clear();for(var t=1;t<32;t++)e.get("dateArray").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)}),e.get("dateArrayDOB").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadMonth:function(){var e=this;e.get("monthArray").clear(),e.get("monthArrayDOB").clear();for(var t=1;t<13;t++)e.get("monthArray").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)}),e.get("monthArrayDOB").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadYear:function(e){var t=this;t.get("yearArray").clear();var o=(new Date).getFullYear();e&&(o-=18);for(var a=o;a>o-97;a--)t.get("yearArray").addObject({label:a.toString(),value:a})},loadDateDOB:function(){var e=this;e.get("dateArrayDOB").clear();for(var t=1;t<32;t++)e.get("dateArrayDOB").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadMonthDOB:function(){var e=this;e.get("monthArrayDOB").clear();for(var t=1;t<13;t++)e.get("monthArrayDOB").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadYearDOB:function(){var e=this;e.get("yearArrayDOB").clear();var t=(new Date).getFullYear();t-=18;for(var o=t;o>t-97;o--)e.get("yearArrayDOB").addObject({label:o.toString(),value:o})},isDateValid:function(e){var t=/^(\d{1,2})(\/|-)(\d{1,2})\2(\d{2}|\d{4})$/,o=e.match(t);if(null===o)return!1;var a=o[1],n=o[3],s=o[4];if(a<1||a>12)return!1;if(n<1||n>31)return!1;if((4===a||6===a||9===a||11===a)&&31===n)return!1;if(2===a){var i=s%4==0&&(s%100!=0||s%400==0);if(n>29||29===n&&!i)return!1}return!0},householdMemberdateChanged:function(){var e=String(this.get("householdMemberAndAuthority.mm")+"/"+this.get("householdMemberAndAuthority.dd")+"/"+this.get("householdMemberAndAuthority.yyyy"));void 0===this.get("householdMemberAndAuthority.mm")||void 0===this.get("householdMemberAndAuthority.dd")||void 0===this.get("householdMemberAndAuthority.yyyy")||null===this.get("householdMemberAndAuthority.mm")||null===this.get("householdMemberAndAuthority.dd")||null===this.get("householdMemberAndAuthority.yyyy")?this.set("householdMemberAndAuthority.cDateOfBirth",void 0):this.set("householdMemberAndAuthority.cDateOfBirth",this.isDateValid(e)?new Date(e):e)},setDataFromQuoteToCustomer:function(){var e=this;void 0!==e.get("firstNameFromQuote")&&e.set("customerDataModel.firstName",e.get("firstNameFromQuote")),void 0!==e.get("lastNameFromQuote")&&e.set("customerDataModel.lastName",e.get("lastNameFromQuote")),void 0!==e.get("leadUidFromQuote")&&e.set("customerDataModel.leadUid",e.get("leadUidFromQuote")),Ember.isEmpty(e.get("VATNumberFromQuote"))||(e.set("customerDataModel.isRegisteredForVAT","1"),e.set("customerDataModel.vatNumber",e.get("VATNumberFromQuote"))),void 0!==e.get("quoteNumberFromQuote")&&e.set("customerDataModel.quoteNumber",e.get("quoteNumberFromQuote")),void 0!==e.get("addressFromQuote")&&e.set("customerDataModel.addressInformation",e.get("addressFromQuote"))},customerDetails:function(e){var t=this;t.set("firstNameFromQuote",e.FirstName),t.set("lastNameFromQuote",e.LastName),t.set("leadUidFromQuote",e.leadUid),t.set("quoteNumberFromQuote",e.QuoteNumber),t.set("VATNumberFromQuote",e.VATNumber),Ember.isEmpty(e.Address)||(t.set("addressFromQuote",[e.Address]),t.get("addressFromQuote")[0].isPrimary?t.get("addressFromQuote")[0].set("isPrimaryString",kl.value(t.localeBase+"yes")):t.get("addressFromQuote")[0].set("isPrimaryString",kl.value(t.localeBase+"no"))),Ember.isEmpty(e.phone)||t.set("phoneFromQuote",e.phone),Ember.isEmpty(e.Email)||t.set("emailFromQuote",e.Email)},createNewGridItemContactInformation:function(){return this.set("newContactGriditem",Komodo.Models.CreateCustomerNamespace.ContactInformation.create()),!0},validateDetailsAndCreateCustomer:function(){var e=this,t=!1;if(e.set("logDocumentCase",!1),!Ember.isEmpty(e.get("customerDataModel.customerDocuments"))&&$.grep(e.get("customerDataModel.customerDocuments"),function(e){return Ember.isEmpty(e.documentType)}).length>0)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"documentTypeBlank"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");if(e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.get("paymentDetails.allowDocumentUploads")&&!Ember.isEmpty(e.fileUploader)&&0===e.fileUploader.files.length){Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"documentsNotAttached"),Komodo.Controls.MessageBoxAcceptDeclineButtons,e,"id5446673","").response=function(t){"accept"===t&&(e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("logDocumentCase",!0))}}else{if(e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.get("paymentDetails.allowDocumentUploads")&&!Ember.isEmpty(e.fileUploader)&&0===e.fileUploader.files.length)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"documentsNotAllAttached"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");if(!Ember.isEmpty(e.get("customerDataModel.customerDocuments"))&&e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.get("paymentDetails.allowDocumentUploads")){var o="";if($.grep(e.get("customerDataModel.customerDocuments"),function(e){return"Copy of ID"===e.documentType}).length>=1||(o+=", Copy of ID"),$.grep(e.get("customerDataModel.customerDocuments"),function(e){return"Bank Statement"===e.documentType}).length>=1||(o+=", Bank Statement"),!1===e.get("paymentDetails.payerIsCustomer")&&($.grep(e.get("customerDataModel.customerDocuments"),function(e){return"Third Party Deduction Authorisation Form"===e.documentType}).length>=1||(o+=", Third Party Deduction Authorisation Form")),""!==o){var a=kl.value("locale.customer:customerInformation.documentsAttachedMessage",{documentTypes:o.replace(/(^[,\s]+)|([,\s]+$)/g,"")});return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),a,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}}if($(e.get("customerDataModel.documentTypes")).each(function(o,a){$.grep(e.get("customerDataModel.customerDocuments"),function(e){return e.documentType===a.value}).length>1&&(t=!0)}),t)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"documentAlreadyAdded"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");if(e.get("_enableIdVerification")){var n=!1,s="";switch(e.get("identification.idType")){case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:e.get("customerDataModel.addressInformation").forEach(function(t){t.country===e.getValueFromConstant("ProductsConstants","productsConstants.products.SOUTH_AFRICA")&&(n=!0,s="locale.identificationControl:validateLesothoID")});break;case Komodo.CanonicalValues.IdentificationType.ID:e.get("customerDataModel.addressInformation").forEach(function(t){t.country===e.getValueFromConstant("ProductsConstants","productsConstants.products.LESOTHO")&&(n=!0,s="locale.identificationControl:validateSaID")});break;default:n=!1}if(n)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(s),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning")}if(!0===e.get("identification.isIdentificationNumberRequire")&&Komodo.UI.paymentDetailsFunctions.validateData(e.get("identification"),Object.keys(e.get("validators")),e,kl.value("locale.customer:customer.useCaseTitle")))return;if(!1===e.get("identification.isIdentificationNumberRequire")&&void 0!==e.get("identification.idType")&&null!==e.get("identification.idType")&&(void 0===e.get("identification.value")||null===e.get("identification.value"))&&Komodo.UI.paymentDetailsFunctions.validateData(e.get("identification"),Object.keys(e.get("validators")),e,kl.value("locale.customer:customer.useCaseTitle")))return;if(!1===e.get("identification.isIdentificationNumberRequire")&&void 0!==e.get("identification.idType")&&null!==e.get("identification.idType")&&void 0!==e.get("identification.value")&&null!==e.get("identification.value")&&Komodo.UI.paymentDetailsFunctions.validateData(e.get("identification"),Object.keys(e.get("validators")),e,kl.value("locale.customer:customer.useCaseTitle")))return;if(!e.get("identification.isValidated")&&1==e.get("identification.isIdentificationNumberRequire"))return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.identificationControl:validateID"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning");if(!1===e.canSubmitData(e.get("customerDataModel"),kl.value("locale.customer:customer.useCaseTitle"),{showInModal:!0}))return;if(Komodo.UI.contactFunctions.validatePhoneData(e.get("contactNumbers")))return;if(Komodo.UI.contactFunctions.validateEmailData(e.get("emails")))return;if(1==e.get("identification.isIdentificationNumberRequire")&&Komodo.UI.paymentDetailsFunctions.validateData(e.get("paymentDetails"),Object.keys(e.get("validators")),e,kl.value("locale.customer:customer.useCaseTitle")))return;if(!1===e.get("identification.isIdentificationNumberRequire")&&void 0!==e.get("identification.idType")&&null!==e.get("identification.idType")&&void 0!==e.get("identification.value")&&null!==e.get("identification.value")&&Komodo.UI.paymentDetailsFunctions.validateData(e.get("paymentDetails"),Object.keys(e.get("validators")),e,kl.value("locale.customer:customer.useCaseTitle")))return;if(e.get("_enableRealtimeAHVProcess")&&e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&!1===e.get("paymentDetails.ahvCompliant")&&!1===e.get("paymentDetails.ahvOverride"))return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.validateVerifyBankingDetails"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning");if(Ember.isEmpty(e.get("paymentDetails.debitOrderDay")))return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.selectPaymentDay"),Komodo.Controls.MessageOKButtons,e,"id5446673","warning");var i=!1,r=0,l=void 0;if(e.get("customerDataModel.addressInformation").forEach(function(e){e.addressType===Komodo.CanonicalValues.AddressTypes.Physical&&(i=!0),e.isPrimary&&(l=e.province,r++)}),!i)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"providePhysicalAddress"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");switch(r){case 0:return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"onePrimaryAddress"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");case 1:break;default:return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"onlyOnePrimaryAddress"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}if(void 0!==e.get("customerDataModel.DOBMonth")&&null!==e.get("customerDataModel.DOBMonth")||void 0!==e.get("customerDataModel.DOBDate")&&null!==e.get("customerDataModel.DOBDate")||void 0!==e.get("customerDataModel.DOBYear")&&null!==e.get("customerDataModel.DOBYear")||!1!==e.get("_isDateOfBirthEnable")){if((void 0===e.get("customerDataModel.DOBMonth")||void 0===e.get("customerDataModel.DOBDate")||void 0===e.get("customerDataModel.DOBYear")||null===e.get("customerDataModel.DOBMonth")||null===e.get("customerDataModel.DOBDate")||null===e.get("customerDataModel.DOBYear"))&&!0===e.get("_isDateOfBirthEnable"))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateRequiredForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,e,"id5090993","danger");var d=String(e.get("customerDataModel.DOBMonth")+"/"+e.get("customerDataModel.DOBDate")+"/"+e.get("customerDataModel.DOBYear"));if(!e.isDateValid(d))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"invalidDateForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,e,"id5090793","danger");var u=(new Date).getDate(),c=(new Date).getMonth()+1,m=(new Date).getFullYear()-18;if(e._datePast=c+"/"+u+"/"+m,!(new Date(d)<=new Date(e._datePast)))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateLessThanStandards"),Komodo.Controls.MessageBoxOkButtons,e,"id5090795","danger");e.set("customerDataModel.dateOfBirth",e.isDateValid(d)?new Date(d):d)}else e.set("customerDataModel.DOBMonth",void 0),e.get("customerDataModel.DOBDate",void 0),e.get("customerDataModel.DOBYear",void 0);e.publishCreateDStvCustomerEvent()}},validateDocumentsFromSuperVisor:function(){var e=this;if(e.get("_enableRealtimeAHVProcess")&&e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.get("paymentDetails.allowDocumentUploads")){var t=e.get("controllers.genericPayment"),o=Komodo.Services.securityService.get("domainUserName"),a=Komodo.Services.uiService.getController("application").get("_selectedCountryId");e.set("documentsVerified",void 0),e.set("customerDataModel.showButtons",!1),e.set("customerDataModel.loginButton",!0),e.registerValidator(e.get("customerDataModel"),"supervisorUsername",{isRequired:!0,type:"string"}),e.registerValidator(e.get("customerDataModel"),"passCode",{isRequired:!0,type:"string"}),e.customerDataModel.set("supervisorUsername",void 0),e.customerDataModel.set("passCode",void 0);var n=Komodo.Services.uiService.showModalPopup(kl.value(e.localeBase+"verifyDocumentstitle"),"VerifyDocuments",{view:Komodo.Application.VerifyDocumentsView,context:{data:e.get("customerDataModel"),validators:e.validators,login:function(){var n=this;t.validateUserClaim(a,n.data.get("supervisorUsername"),n.data.get("passCode"),e.get("supervisorClaim")).done(function(e){o===n.data.get("supervisorUsername")?(alert(kl.value("locale.onlinetill:customer.unauthoriseError")),n.data.set("supervisorUsername",void 0),n.data.set("passCode",void 0)):Ember.isEmpty(e)?(alert(kl.value("locale.onlinetill:customer.accessDenied")),n.data.set("supervisorUsername",void 0),n.data.set("passCode",void 0)):(n.data.set("showButtons",!0),n.data.set("loginButton",!1))})},verifyDocument:function(){n.close(),e.set("documentsVerified",!0),e.publishCreateDStvCustomerEvent()},documentsNotVerified:function(){e.set("documentsVerified",!1),n.close(),Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.documentsVerifiedMessage"),Komodo.Controls.MessageBoxAcceptDeclineButtons,e,"id5446673","").response=function(t){"accept"===t&&(e.set("paymentDetails.paymentType",Komodo.MOP.CASH),n.close(),e.set("logDocumentCase",!0),e.publishCreateDStvCustomerEvent())}}},canUserClose:!0})}else e.publishCreateDStvCustomerEvent()},actions:{addHouseHoldInfoVisible:function(){var e=this;e.set("isHouseHoldInfoVisible",!0),e.set("isAllowToTransactDisabled",!1),e.set("isEditMode",!1),e.set("householdMemberAndAuthority.householdMemberInfo","1"),e.set("householdMemberAndAuthority.allowToTransactInfo","0")},deleteHoldMemberAndAuthorityGridItem:function(){this.deleteHoldMemberAndAuthorityGridItem()},addHouseholdMemberAndAuthority:function(){var e=this;if(!1!==e.get("identification.isIdentificationNumberRequire")||void 0!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")&&null!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")||(this.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),this.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator")),!1!==e.canSubmitData(e.get("householdMemberAndAuthority"),kl.value("locale.customer:customer.useCaseTitle"),{showInModal:!0})){if(void 0!==e.get("householdMemberAndAuthority.mm")&&null!==e.get("householdMemberAndAuthority.mm")||void 0!==e.get("householdMemberAndAuthority.dd")&&null!==e.get("householdMemberAndAuthority.dd")||void 0!==e.get("householdMemberAndAuthority.yyyy")&&null!==e.get("householdMemberAndAuthority.yyyy")||!1!==e.get("_isDateOfBirthEnable")){
if(void 0===e.get("householdMemberAndAuthority.mm")||void 0===e.get("householdMemberAndAuthority.dd")||void 0===e.get("householdMemberAndAuthority.yyyy")||null===e.get("householdMemberAndAuthority.mm")||null===e.get("householdMemberAndAuthority.dd")||null===e.get("householdMemberAndAuthority.yyyy")&&!0===e.get("_isDateOfBirthEnable"))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateRequiredForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,e,"id5090773","danger");var t=String(e.get("householdMemberAndAuthority.mm")+"/"+e.get("householdMemberAndAuthority.dd")+"/"+e.get("householdMemberAndAuthority.yyyy"));if(!e.isDateValid(t))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"invalidDateForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,e,"id5090773","danger");var o=(new Date).getDate(),a=(new Date).getMonth()+1,n=(new Date).getFullYear()-18;if(e._datePast=a+"/"+o+"/"+n,void 0!==e.get("householdMemberAndAuthority.allowToTransactInfo"))switch(e.get("householdMemberAndAuthority.allowToTransactInfo")){case"1":if(!(new Date(t)<=new Date(e.get("_datePast"))))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateLessThanStandards"),Komodo.Controls.MessageBoxOkButtons,e,"id5090795","danger");e.set("householdMemberAndAuthority.cDateOfBirth",new Date(t));break;case"0":if(!(new Date(t)<=new Date))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateLessThanCurrentDate"),Komodo.Controls.MessageBoxOkButtons,e,"id5090795","danger");e.set("householdMemberAndAuthority.cDateOfBirth",new Date(t))}}else e.set("householdMemberAndAuthority.mm",void 0),e.get("householdMemberAndAuthority.dd",void 0),e.get("householdMemberAndAuthority.yyyy",void 0);if(e.get("_enableIdVerification")&&!e.get("isIdentityValidated")&&e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority.key")===Komodo.CanonicalValues.IdentificationType.ID)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.identificationControl:validateID"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning");e.holdMemberAndAuthorityNotAdded()||(e.addHoldMemberAndAuthorityToGrid(),e.clearholdMemberAndAuthority())}},createDStvCustomer:function(){this.validateDetailsAndCreateCustomer()},editHoldMemberAndAuthorityGridItem:function(){this.set("isEditMode",!0);var e=this;if(void 0!==e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority")){e.set("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("firstNameHouseholdMemberAndAuthority")),e.set("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("lastNameHouseholdMemberAndAuthority")),e.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject")),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailValueHouseholdMemberAndAuthority")),e.set("householdMemberAndAuthority.relation",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("relationObject")),e.set("householdMemberAndAuthority.cDateOfBirth",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("cDateOfBirth")),Ember.isEmpty(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject"))||e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject").key!==Komodo.CanonicalValues.IdentificationType.ID||e.set("isIdentityValidated",!0);var t=new Date(e.get("householdMemberAndAuthority.cDateOfBirth"));if(void 0!==t){var o=t.getDate(),a=t.getMonth()+1,n=t.getFullYear();parseInt(o)>9?e.set("householdMemberAndAuthority.dd",String(o)):e.set("householdMemberAndAuthority.dd","0"+String(o)),parseInt(a)>9?e.set("householdMemberAndAuthority.mm",String(a)):e.set("householdMemberAndAuthority.mm","0"+String(a)),e.set("householdMemberAndAuthority.yyyy",String(n))}e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("householdMemberInfo")===kl.value(e.localeBase+"no")?e.set("householdMemberAndAuthority.householdMemberInfo","0"):e.set("householdMemberAndAuthority.householdMemberInfo","1"),e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("allowToTransactInfo")===kl.value(e.localeBase+"no")?e.set("householdMemberAndAuthority.allowToTransactInfo","0"):e.set("householdMemberAndAuthority.allowToTransactInfo","1"),e.set("isHouseHoldInfoVisible",!0),e.get("customerDataModel.householdMemberAndAuthority").removeObject(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority")),e.set("isEditMode",!1)}}},getNewEmail:function(){var e=this,t=Komodo.Models.CreateCustomerNamespace.ContactEmail.create(),o="emailValidator"+(e.get("emails").length+1);return e.registerValidator(t,"contactValue",{type:"string",displayName:kl.value(e.localeBase+"email"),regExPattern:Komodo.UI.Validators.RegExPatterns.Email,name:o}),t.set("validator",e.validators[o]),t},addEmail:function(){var e=this;if(4===e.get("emails").length)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.maximumEmail"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning");for(var t=void 0,o=e.getNewEmail(),a=0;a<e.get("emails").length&&(t=e.canSubmitData(e.get("emails")[a],kl.value("locale.customer:customer.useCaseTitle"),{showInModal:!0}));a++)if(void 0===e.get("emails")[a].contactValue||""===e.get("emails")[a].contactValue){Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.emailMissing"),[Komodo.Controls.MessageBoxOkButton],void 0,"OK","danger"),t=!1;break}if(void 0===t||t){e.get("emails").length<1?o.set("Id",e.get("emails").length+1):o.set("Id",e.get("emails")[e.emails.length-1].Id+1);$.grep(e.get("emails"),function(e){return!0===e.isPrimary}).length<1&&o.set("isPrimary",!0),e.get("emails").addObject(o),e.get("emails").length>1?e.get("emails").forEach(function(e){e.set("isRemovable",!0)}):void 0!==e.get("emails")[0]&&e.get("emails")[0].set("isRemovable",!1)}},clearPersonalInformation:function(){this.set("customerDataModel.language",void 0),this.set("customerDataModel.countryOfOrigin",void 0),this.set("customerDataModel.firstName",void 0),this.set("customerDataModel.lastName",void 0),this.set("customerDataModel.title",void 0),this.set("customerDataModel.dateOfBirth",void 0)},clearFinacialInformation:function(){this.setMethodOfPayment(),this.set("customerDataModel.debitOrderDay",void 0),this.set("customerDataModel.accountNo",void 0),this.set("customerDataModel.bank",void 0),this.set("customerDataModel.branchCode",void 0)},clearContactInformation:function(){this.emails.clear(),this.addEmail(),this.set("customerDataModel.contactFacebook",void 0),this.set("customerDataModel.contactgooglePlus",void 0),this.set("customerDataModel.contactTwitter",void 0),this.set("customerDataModel.contactOther",void 0),this.set("customerDataModel.contactIn",void 0)},clearFormData:function(){this.clearPersonalInformation(),this.set("customerDataModel.dateOfBirth",void 0),this.clearContactInformation(),this.set("customerDataModel.acceptMarketingInfo","0"),this.set("customerDataModel.isRegisteredForVAT","0"),this.set("customerDataModel.ReceiveInvoice","0"),this.set("customerDataModel.methodOfCommunication",void 0),this.set("customerDataModel.addressInformation",[]),this.clearFinacialInformation(),this.set("customerDataModel.isAddMobileButton",!1),this.set("customerDataModel.isAddWorkContactButton",!1),this.set("customerDataModel.isAddHomePhoneButton",!1),this.set("customerDataModel.isAddEmailButton",!1),this.clearholdMemberAndAuthority(),this.set("customerDataModel.householdMemberAndAuthority",[])},getNewProcessID:function(){this.startNewProcess()},createDependentProperty:function(e,t){var o=this;t.forEach(function(t){void 0!==o.get("validators."+e)&&o.get("validators."+e).functions.addObject(t)}),void 0!==o.get("validators."+e)&&o.get("validators."+e).validate()},removeDependentProperty:function(e){var t=this;if(void 0!==t.get("validators."+e)&&void 0!==t.get("validators."+e)){t.get("validators."+e).functions.clear();try{t.get("validators."+e).validate()}catch(e){Komodo.error("[ERROR] : "+e.message)}}},getPointOfPresence:function(){var e,t=this,o=Komodo.Models.ListOfPointOfPresence.create();return void 0!==t.get("customerDataModel.contactFacebook")&&(e=Komodo.Models.PointOfPresence.create(),e.set("Type","1"),e.set("Value",t.get("customerDataModel.contactFacebook").trim()),e.set("IsPrimary",!1),e.set("IsMarketingEnabled",!1),o.PointOfPresence.push(e)),void 0!==t.get("customerDataModel.contactgooglePlus")&&(e=Komodo.Models.PointOfPresence.create(),e.set("Type","4"),e.set("Value",t.get("customerDataModel.contactgooglePlus").trim()),e.set("IsPrimary",!1),e.set("IsMarketingEnabled",!1),o.PointOfPresence.push(e)),void 0!==t.get("customerDataModel.contactTwitter")&&(e=Komodo.Models.PointOfPresence.create(),e.set("Type","2"),e.set("Value",t.get("customerDataModel.contactTwitter").trim()),e.set("IsPrimary",!1),e.set("IsMarketingEnabled",!1),o.PointOfPresence.push(e)),void 0!==t.get("customerDataModel.contactIn")&&(e=Komodo.Models.PointOfPresence.create(),e.set("Type","3"),e.set("Value",t.get("customerDataModel.contactIn").trim()),e.set("IsPrimary",!1),e.set("IsMarketingEnabled",!1),o.PointOfPresence.push(e)),void 0!==t.get("customerDataModel.contactOther")&&(e=Komodo.Models.PointOfPresence.create(),e.set("Type","5"),e.set("Value",t.get("customerDataModel.contactOther").trim()),e.set("IsPrimary",!1),e.set("IsMarketingEnabled",!1),o.PointOfPresence.push(e)),o},getPersonalDetail:function(){var e=Komodo.Services.systemService,t=this,o=Komodo.Models.PersonalDetail.create(),a=Komodo.canonicalFacadeFactory(o,["Title","FirstName","Surname","Initial","BirthDate","MaritalStatus","IdentityDetailType","IdentityDetailValue","CountryOfOrigin","ExpiryDate"]);return void 0!==t.get("customerDataModel.title")&&null!==t.get("customerDataModel.title")&&a.set("Title",t.get("customerDataModel.title").trim()),void 0!==t.get("customerDataModel.firstName")&&null!==t.get("customerDataModel.firstName")&&a.set("FirstName",t.get("customerDataModel.firstName").trim()),void 0!==t.get("customerDataModel.lastName")&&null!==t.get("customerDataModel.lastName")&&a.set("Surname",t.get("customerDataModel.lastName").trim()),Ember.isEmpty(t.get("identification.idType"))||a.set("IdentityDetailType",t.get("identification.idType").trim()),void 0!==t.get("customerDataModel.dateOfBirth")&&null!==t.get("customerDataModel.dateOfBirth")&&a.set("BirthDate",e.universalDateString(new Date(t.get("customerDataModel.dateOfBirth")))),Ember.isEmpty(t.get("identification.value"))||a.set("IdentityDetailValue",t.get("identification.value").trim()),Ember.isEmpty(t.get("identification.countryOrigin"))||a.set("CountryOfOrigin",t.get("identification.countryOrigin").trim()),Ember.isEmpty(t.get("identification.expiryDate"))||a.set("ExpiryDate",t.get("identification.expiryDate")),o},holdMemberAndAuthorityNotAdded:function(){var e=this,t=!1;return e.get("customerDataModel.householdMemberAndAuthority").forEach(function(o){return o.firstNameHouseholdMemberAndAuthority.toLowerCase()===e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority").toLowerCase()&&o.lastNameHouseholdMemberAndAuthority.toLowerCase()===e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority").toLowerCase()&&o.relation.toLowerCase()===e.get("householdMemberAndAuthority.relation").value.toLowerCase()&&(t=!0,Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"duplicateHouseholdMember"),null,e,"id123456","warning")),!t}),t},createNewGridItemHoldMemberAndAuthority:function(){return this.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),!0},addHoldMemberAndAuthorityToGrid:function(){var e=this;"0"===e.get("householdMemberAndAuthority.householdMemberInfo")?e.set("newHoldMemberAndAuthorityGriditem.householdMemberInfo",kl.value(e.localeBase+"no")):e.set("newHoldMemberAndAuthorityGriditem.householdMemberInfo",kl.value(e.localeBase+"yes")),"0"===e.get("householdMemberAndAuthority.allowToTransactInfo")?e.set("newHoldMemberAndAuthorityGriditem.allowToTransactInfo",kl.value(e.localeBase+"no")):e.set("newHoldMemberAndAuthorityGriditem.allowToTransactInfo",kl.value(e.localeBase+"yes")),e.set("newHoldMemberAndAuthorityGriditem.firstNameHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.lastNameHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")),void 0!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")&&null!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")&&e.set("newHoldMemberAndAuthorityGriditem.identityDetailTypeHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority").value),e.set("newHoldMemberAndAuthorityGriditem.fullname",e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")+" "+e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.identityDetailValueHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.expiryDate",e.get("householdMemberAndAuthority.expiryDate")),e.set("newHoldMemberAndAuthorityGriditem.relation",e.get("householdMemberAndAuthority.relation").value),e.set("newHoldMemberAndAuthorityGriditem.cDateOfBirth",e.get("householdMemberAndAuthority.cDateOfBirth")),e.set("newHoldMemberAndAuthorityGriditem.relationObject",e.get("householdMemberAndAuthority.relation")),e.set("newHoldMemberAndAuthorityGriditem.identityDetailTypeObject",e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")),e.addGridHoldMemberAndAuthorityRow(),e.set("isHouseHoldInfoVisible",!1)},addGridHoldMemberAndAuthorityRow:function(){this.customerDataModel.householdMemberAndAuthority.pushObject(this.get("newHoldMemberAndAuthorityGriditem")),this.createNewGridItemHoldMemberAndAuthority()},clearholdMemberAndAuthority:function(){this.set("householdMemberAndAuthority.householdMemberInfo","1"),this.set("householdMemberAndAuthority.allowToTransactInfo","0"),this.set("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",void 0),this.set("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",void 0),this.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",void 0),this.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),this.set("householdMemberAndAuthority.countryOfOrigin",void 0),this.set("householdMemberAndAuthority.expiryDate",void 0),this.set("householdMemberAndAuthority.relation",void 0),this.set("householdMemberAndAuthority.cDateOfBirth",void 0),this.set("householdMemberAndAuthority.relationObject",void 0),this.set("householdMemberAndAuthority.identityDetailTypeObject",void 0),this.set("householdMemberAndAuthority.dd",void 0),this.set("householdMemberAndAuthority.mm",void 0),this.set("householdMemberAndAuthority.yyyy",void 0),this.set("isIdentityValidated",!1)},deleteHoldMemberAndAuthorityGridItem:function(){var e=this;if(void 0!==e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority")){Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"delete"),kl.value(e.localeBase+"deleteItem"),Komodo.Controls.MessageBoxYesNoButtons,e,"id123456","warning").response=function(t){if(t===kl.value(e.localeBase+"yes")){var o=e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority");e.get("customerDataModel.householdMemberAndAuthority").removeObject(o)}}}},clearHouseholdMemberAndAuthorityCtrls:function(){var e=this;e.set("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",void 0),e.set("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",void 0),e.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",void 0),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),e.set("householdMemberAndAuthority.relation",void 0),e.set("householdMemberAndAuthority.cDateOfBirth",void 0),e.set("householdMemberAndAuthority.householdMemberInfo","1"),e.set("householdMemberAndAuthority.allowToTransactInfo","0")},getConsumerCollection:function(e){var t=Komodo.Models.ListOfConsumer.create(),o=this;return e.forEach(function(e){var a=Komodo.Models.Consumer.create();a.set("RelationshipType",e.relationObject.key),a.ConsumerDetail.set("BirthDate",e.cDateOfBirth),void 0!==e.householdMemberInfo&&e.householdMemberInfo===kl.value(o.localeBase+"yes")?a.set("IsHouseholdMember",!0):a.set("IsHouseholdMember",!1),void 0!==e.allowToTransactInfo&&e.allowToTransactInfo===kl.value(o.localeBase+"yes")?a.set("AllowedToTransact",!0):a.set("AllowedToTransact",!1),a.ConsumerDetail.set("FirstName",o.trimValue(e.firstNameHouseholdMemberAndAuthority)),a.ConsumerDetail.set("Surname",o.trimValue(e.lastNameHouseholdMemberAndAuthority)),a.ConsumerDetail.set("BirthDate",e.cDateOfBirth),"Yes"===e.allowToTransactInfo&&void 0!==e.identityDetailTypeObject&&null!==e.identityDetailTypeObject&&(a.ConsumerDetail.set("IdentityDetailType",e.identityDetailTypeObject.key),a.ConsumerDetail.set("IdentityDetailValue",o.trimValue(e.identityDetailValueHouseholdMemberAndAuthority))),t.Consumer.push(a)}),t},trimValue:function(e){return null!==e&&void 0!==e?e.trim():e},publishCreateDStvCustomerEvent:function(){var e,t=this;e=Komodo.Models.CreateDStvCustomer.create();var o;o=Komodo.canonicalFacadeFactory(e,["Country","CustomerDetail","Account"]),o.set("Country",t.get("loggedInCountryId"));var a,n=Komodo.Models.CustomerDetail.create();switch(a=Komodo.canonicalFacadeFactory(n,["UID","StartDate","EndDate","Status","Language","VATNumber","Class","IsSubscribedForInvoice","Type","EstablishmentType","BusinessUnit","IsOptInForMarketing","PreferedMarketingMethod","IsTermsAccepted","CompanyName","CompanyFiscalCode","CompanyMarketSegment","ListOfConsumer","ListOfPhoneNumber","ListOfAddress","ListOfEmail","ListOfPointOfPresence","PersonalDetail","LeadUID"]),$.each(t.get("customerDataModel.viewingPlatformData"),function(e,o){t.get("customerDataModel.viewingPlatform")===o.value&&a.set("BusinessUnit",o.title)}),t.get("customerDataModel.acceptMarketingInfo")){case"1":a.set("IsOptInForMarketing",!0),a.set("PreferedMarketingMethod",t.get("customerDataModel.methodOfCommunication"));break;default:a.set("IsOptInForMarketing",!1),a.set("PreferedMarketingMethod","1")}void 0!==t.get("customerDataModel.acceptTermAndCondition")&&"1"===t.get("customerDataModel.acceptTermAndCondition")&&a.set("IsTermsAccepted",!0),a.set("Language",t.get("customerDataModel.language")),a.set("Class","2"),void 0!==t.get("customerDataModel.leadUid")&&o.set("LeadUID",t.get("customerDataModel.leadUid")),a.set("VATNumber",t.get("customerDataModel.vatNumber"));var s=t.get("customerDataModel.isReceiveInvoice");a.set("IsSubscribedForInvoice","1"==s),a.set("Type","5"),a.set("EstablishmentType",t.get("customerDataModel.residenceType")),a.set("ListOfConsumer",t.getConsumerCollection(t.get("customerDataModel.householdMemberAndAuthority"))),a.set("ListOfPhoneNumber",Komodo.UI.contactFunctions.getPhoneNumberCollection(t.get("contactNumbers"))),a.set("ListOfAddress",Komodo.UI.addressFunctions.getAddressCollection(t.get("customerDataModel.addressInformation"))),a.set("ListOfEmail",Komodo.UI.contactFunctions.getEmailCollection(t.get("emails"))),a.set("ListOfPointOfPresence",t.getPointOfPresence()),a.set("PersonalDetail",t.getPersonalDetail()),o.set("CustomerDetail",n),o.set("Account",Komodo.UI.paymentDetailsFunctions.getAccounts(t.get("paymentDetails"),!1)),1==t.get("paymentDetails.ahvCompliant")&&t.get("_enableRealtimeAHVProcess")&&e.set("Account.PaymentDetail.AHVStatus",Komodo.AHVOverride.AHV_Realtime),1==t.get("paymentDetails.ahvOverride")&&t.get("_enableRealtimeAHVProcess")&&e.set("Account.PaymentDetail.AHVStatus",Komodo.AHVOverride.AHV_Override),t.getNewProcessID(),t.showBusyIndicator(),t.set("disableCreateCustomerButton",!0),Komodo.Services.CustomerService.submit(t,e).done(function(){Komodo.log("publishCreateDStvCustomerEvent() : Create Customer event has been published.")}).fail(function(){Komodo.error("publishCreateDStvCustomerEvent() : Create Customer event has failed.")})},getAccounts:function(){var e=this,t=Komodo.Models.Account.create(),o=Komodo.canonicalFacadeFactory(t,["Type","UID","StartDate","EndDate","DunningLevel","Balance","TermOfPayment","Status","PaymentDetail"]),a=new Date;o.set("StartDate",a);var n=Komodo.Models.PaymentDetail.create();return void 0!==e.get("paymentDetails.debitOrderDay")&&n.set("DebitOrderDay",e.get("paymentDetails.debitOrderDay")),e.get("paymentDetails.paymentType")!==Komodo.MOP.CASH&&void 0!==e.get("paymentDetails.paymentType")?(void 0!==e.get("paymentDetails.paymentType")&&n.set("BankAccountType",$.grep(e.get("methodsOfPayment"),function(t){if(t.key===e.get("paymentDetails.accountType"))return t})[0].value),e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&n.set("MethodOfPayment",$.grep(e.get("methodsOfPaymentCanonical"),function(e){if(e.value===n.BankAccountType)return e})[0].key),void 0!==e.get("paymentDetails.accountNo")&&n.set("AccountNumber",e.get("paymentDetails.accountNo")),null!==e.get("paymentDetails.branchName")&&null!==e.get("paymentDetails.bank")&&(n.set("BranchCode",e.get("paymentDetails.branchName").BranchCode),n.set("BankName",e.get("paymentDetails.bank").CanonicalKey),n.set("BranchName",e.get("paymentDetails.branchName").CanonicalValue)),void 0!==e.get("paymentDetails.debitOrderDay")&&n.set("DebitOrderDay",e.get("paymentDetails.debitOrderDay")),void 0!==e.get("paymentDetails.payerName")&&n.set("PayerName",e.get("paymentDetails.payerName")),void 0!==e.get("paymentDetails.payerID")&&n.set("PayerIDNumber",e.get("paymentDetails.payerID"))):n.set("MethodOfPayment",Komodo.MOP.CASH),o.set("PaymentDetail",n),t},uploadCustomerDocuments:function(){var e=this;if(1==e.get("paymentDetails.rejectAHV")&&e.get("_enableRealtimeAHVProcess")&&e.set("documentsVerified",!1),1==e.get("paymentDetails.ahvOverride")&&e.get("_enableRealtimeAHVProcess")&&e.set("documentsVerified",!0),e.get("_enableRealtimeAHVProcess")&&!0===e.get("documentsVerified")?e.publishCreateInteraction(Komodo.AHVOverride.InteractionMedium,e.customerId,Komodo.AHVOverride.Category,Komodo.AHVOverride.Subcategory,Komodo.AHVOverride.Verified_Outcome,Komodo.AHVOverride.status,Komodo.AHVOverride.priority,!0):e.get("_enableRealtimeAHVProcess")&&!1===e.get("documentsVerified")&&e.publishCreateInteraction(Komodo.AHVOverride.InteractionMedium,e.customerId,Komodo.AHVOverride.Category,Komodo.AHVOverride.Subcategory,Komodo.AHVOverride.NotVerified_Outcome,Komodo.AHVOverride.status,Komodo.AHVOverride.priority,!0),e.set("documentsVerified",void 0),e.get("paymentDetails.allowDocumentUploads")&&e.get("customerId")&&!e.get("logDocumentCase"))return $(e.fileUploader.files).each(function(e,t){2!==t.status&&4!==t.status||(t.status=1)}),e.fileUploader.uploadCanceled=!1,e.fileUploader.start(),!1;e.get("logDocumentCase")&&e.get("customerId")?(e.publishCreateInteraction(1,e.customerId,3,133,563,3,2,void 0),e.customerCreatedredirect()):e.customerCreatedredirect()},publishCreateInteraction:function(e,t,o,a,n,s,i,r){var l=this,d=Komodo.Models.CreateInteraction.create(),u=Komodo.Models.Case.create();u.set("InteracteeName",Komodo.Services.securityService.session.domainUserName),u.set("InteractionLocation",l.get("loggedInCountryId")),u.set("InteractionMedium",e),u.set("CustomerUID",t),u.set("Category",o),u.set("SubCategory",a),u.set("Outcome",n),u.set("Status",s),u.set("Priority",i),r?u.set("Notes",$.grep(l.get("caseOutcome"),function(e){return e.key==n})[0].value+" "+kl.value("locale.customer:customerInformation.byUser")+l.get("customerDataModel.supervisorUsername")):u.set("Notes",$.grep(l.get("caseOutcome"),function(e){return e.key==n})[0].value);var c=Komodo.canonicalFacadeFactory(d,["Country","Case"]);c.set("Country",l.get("loggedInCountryId")),c.set("Case",u),Komodo.Services.CustomerService.publishCustomerEvent(this,d,"CreateInteraction","v1",!0)},messageDStvCustomerCreatedReceived:function(e){Komodo.log("Received "+new Date);var t=this;t.set("customerCreatedPayload",e.ResponseMessage.Payload.CustomerDetail),t.set("customerId",t.get("customerCreatedPayload").SubscriberSystemUID.UID),Komodo.Services.CustomerService.isUserActivityToBeTracked&&Komodo.Services.CustomerService.startActivity(t.get("customerId")),t.uploadCustomerDocuments()},customerCreatedredirect:function(){var e,t=this,o=t.get("customerCreatedPayload");if(t.hideBusyIndicator(),void 0!==o.UID&&void 0!==o.SubscriberSystemUID.UID)if(void 0!==t.get("customerDataModel.quoteNumber")&&""!==t.get("customerDataModel.quoteNumber"))e={QuoteNumber:t.get("customerDataModel.quoteNumber"),CustomerNumber:o.SubscriberSystemUID.UID,Country:void 0,FirstName:o.PersonalDetail.FirstName,LastName:o.PersonalDetail.Surname,Email:void 0,phone:void 0},Komodo.Services.featureToggleService.isEnabled("ZeroSaleDevice","IsZeroSaleDeviceAllowed").done(function(t){if(t){var o=!1,a=Komodo.Services.uiService.getController("searchQuotation").data.productData;$.each(a,function(e,t){if("HARDWARE"==t.productCategory&&0==t.deviceCost)return o=!0,!1}),o?Komodo.Services.uiService.getController("searchQuotation").zeroSaleSupervisorApproval(e):Komodo.Services.eventAggregator.publish("PublishPaymentForQuotation",e)}else Komodo.Services.eventAggregator.publish("PublishPaymentForQuotation",e)}).fail(function(e){Komodo.log("Error while checking feature toggle. Error Details:"+e)});else{switch(e=Komodo.Models.CreateCustomerNamespace.CustomerCreatedModel.create(),$.each(t.get("_titles"),function(e,t){if(t.key===o.PersonalDetail.Title)return void(o.PersonalDetail.Title=t.value)}),e.set("title",o.PersonalDetail.Title),e.set("name",o.PersonalDetail.Title+" "+o.PersonalDetail.FirstName+" "+o.PersonalDetail.Surname),e.set("lastName",o.PersonalDetail.Surname),e.set("firstName",o.PersonalDetail.FirstName),e.set("quoteNumber",t.get("customerDataModel.quoteNumber")),e.set("customerNumber",o.SubscriberSystemUID.UID),e.set("customerClass",o.Class),e.set("customerType",t.getCustomerTypeText(o.Type)),e.set("typeId",o.Type),$.each(t.get("customerDataModel.viewingPlatformData"),function(o,a){if(t.get("customerDataModel.viewingPlatform")===a.value)return void e.set("viewingPlatform",a.title)}),t.get("customerDataModel.viewingPlatform")){case"1":e.set("isDsTvCustomer",!0);break;case"2":e.set("isGoTvCustomer",!0)}if($.each(t.get("languages"),function(o,a){if(t.get("customerDataModel.language")===a.key)return void e.set("language",a.value)}),e.set("idNumber",o.PersonalDetail.IdentityDetailValue),void 0!==o.ListOfEmail){var a=$.grep(t.get("emails"),function(e){return!0===e.isPrimary});1===a.length&&e.set("email",void 0!==a[0]?a[0].contactValue:"")}if(void 0!==o.ListOfAddress){var n=$.grep(t.get("customerDataModel.addressInformation"),function(e){return"3"===e.addressType});if(1===n.length)switch(e.set("physicalAddress",void 0!==n[0]?n[0].addressString:""),n[0].country){case"zaf":case"nam":e.set("marketSegment",t.getValueFromConstant("ProductsConstants","productsConstants.products.MARKET_SEGMENT"));break;case"lso":e.set("marketSegment",t.getValueFromConstant("ProductsConstants","productsConstants.products.LESOTHO_MARKET_SEGMENT"));break;default:e.set("marketSegment",t.getValueFromConstant("ProductsConstants","productsConstants.products.MARKET_SEGMENT"))}}if(void 0!==o.ListOfPhoneNumber){var s=$.grep(t.get("contactNumbers"),function(e){return!0===e.isPrimary});1===s.length&&e.set("mobileNumber",void 0!==s[0]?"+"+s[0].countryCode+" "+s[0].contactValue:"")}t.clearFormData();var i=Komodo.Services.uiService.getController("customerCreated");i.setResponseMessage(e),Komodo.Services.uiService.getRoute("application").transitionTo("customerCreated")}else Komodo.Controls.MessageBoxController.show(kl.value(t.localeBase+"customerCreated"),kl.value(t.localeBase+"customerCreatedFailure"),Komodo.Controls.MessageBoxOkButtons,t,"id5446673","danger")},messageCreateDStvCustomerDeliveryFailure:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.UI.warn("[CreateCustomerController.messageCreateDStvCustomerDeliveryFailure] : messageId = "+e.messageId),Komodo.Controls.MessageBoxController.show(kl.value(this.mainLocaleBase+"useCaseTitle"),kl.value(this.mainLocaleBase+"messageCreateDStvCustomerDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},messageFailureMessageEventReceived:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")},messageFault:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.UI.warn("[CreateCustomerController.messageGenerateQuotationDeliveryFailure] : messageId = "+e.messageId),Komodo.Controls.MessageBoxController.show(kl.value(this.mainLocaleBase+"useCaseTitle"),kl.value(this.mainLocaleBase+"messageCreateDStvCustomerDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},messageReceived:function(){this.hideBusyIndicator()},messageDeliveryFailure:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.UI.warn("[CreateCustomerController.messageGenerateQuotationDeliveryFailure] : messageId = "+e.messageId),Komodo.Controls.MessageBoxController.show(kl.value(this.mainLocaleBase+"useCaseTitle"),kl.value(this.mainLocaleBase+"messageCreateDStvCustomerDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,12e5,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},marketingInformationChanged:function(){var e=this;"0"===e.get("customerDataModel.acceptMarketingInfo")?(e.set("customerDataModel.methodOfCommunication","1"),e.set("customerDataModel.isMethodOfCommunicationDisabled",!0),e.set("isEmailCommunication",!1)):("zaf"!==e.get("loggedInCountryId")?(e.set("customerDataModel.methodOfCommunication","4"),e.set("isEmailCommunication",!1)):(e.set("customerDataModel.methodOfCommunication","2"),e.set("isEmailCommunication",!0)),e.set("customerDataModel.isMethodOfCommunicationDisabled",!1))}.observes("customerDataModel.acceptMarketingInfo"),isRegisteredForVATChanged:function(){this.customerDataModel.set("vatNumber",void 0),"0"===this.get("customerDataModel.isRegisteredForVAT")?(this.removeDependentProperty("vatNumberValidator"),this.set("disableVatNumber",!0),
this.set("customerDataModel.isReceiveInvoice","0")):(this.createDependentProperty("vatNumberValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator,Komodo.UI.Validators.alphanumericValidator]),this.set("disableVatNumber",!1),this.set("customerDataModel.isReceiveInvoice","1"))}.observes("customerDataModel.isRegisteredForVAT"),supervisorDetails:function(){var e=this;e.set("customerDataModel.disableAction",!0),1==e.get("paymentDetails.supervisorValidator")&&(Ember.isEmpty(e.get("validators.supervisorUsernameValidator"))||(e.get("validators.supervisorUsernameValidator").validate(),e.get("validators.passCodeValidator").validate(),0===e.get("validators.supervisorUsernameValidator.errors.length")&&0===e.get("validators.passCodeValidator.errors.length")&&e.set("customerDataModel.disableAction",!1)))}.observes("customerDataModel.supervisorUsername","customerDataModel.passCode"),methodOfCommunicationChanged:function(){var e=this.get("emails")[0];if(void 0!==this.get("customerDataModel.methodOfCommunication")&&void 0!==e&&null!==e){switch(this.get("customerDataModel.methodOfCommunication")){case"2":this.set("isEmailCommunication",!0);break;default:this.set("isEmailCommunication",!1),this.set("paymentDetails.disableAccountHolderEmailAddress",!1)}null!=this.get("customerDataModel.methodOfCommunication")&&1!=this.get("isEmailCommunication")||(this.set("customerDataModel.accountHolderEmailAddress",void 0),this.set("paymentDetails.accountHolderEmailAddress",void 0))}}.observes("customerDataModel.methodOfCommunication"),documentTypeChanged:function(){var e=this;$(e.get("documentTypes")).each(function(t,o){if($.grep(e.get("customerDataModel.customerDocuments"),function(e){return e.documentType===o.value}).length>1)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(e.localeBase+"documentAlreadyAdded"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})}.observes("customerDataModel.customerDocuments.@each.documentType"),isValidDay:function(e,t,o){var a=parseInt(t,10),n=parseInt(o,10),s=parseInt(e,10),i=new Date(s,a-1,n);return i.getFullYear()===s&&i.getMonth()+1===a&&i.getDate()===n},payerIsCustomerChanged:function(){var e=this;if(e.get("paymentDetails.payerIsCustomer")&&(!Ember.isEmpty(e.validators.firstNameValidator)&&!Ember.isEmpty(e.validators.lastNameValidator)&&e.validators.firstNameValidator.errors.length<=0&&e.validators.lastNameValidator.errors.length<=0&&e.set("paymentDetails.payerName",e.get("customerDataModel.firstName")+" "+e.get("customerDataModel.lastName")),e.set("paymentDetails.payerID",e.get("identification.value"))),!0===e.get("isDOBDisabled"))switch(e.clearCustomerDOB(),this.get("identification.idType")){case"1":!e.isEmpty(e.get("identification.value"))&&e.get("identification.value").length>=2&&(e.set("customerDataModel.DOBYear","19"+e.get("identification.value").substring(0,2)),e.get("identification.value").length>=4&&e.set("customerDataModel.DOBMonth",e.get("identification.value").substring(2,4)),e.get("identification.value").length>=6&&(e.isValidDay(e.get("customerDataModel.DOBYear"),e.get("customerDataModel.DOBMonth"),e.get("identification.value").substring(4,6))?e.set("customerDataModel.DOBDate",e.get("identification.value").substring(4,6)):e.set("customerDataModel.DOBDate","")))}switch(this.get("identification.idType")){case Komodo.CanonicalValues.IdentificationType.ID:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX")),e.removeDependentProperty("payerIDValidator"),Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?e.registerValidator(e.get("paymentDetails"),"payerID",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator}):e.registerValidator(e.get("paymentDetails"),"payerID",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator});break;case Komodo.CanonicalValues.IdentificationType.Refugee:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MAX")),e.removeDependentProperty("payerIDValidator"),e.registerValidator(e.get("paymentDetails"),"payerID",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator});break;case Komodo.CanonicalValues.IdentificationType.NRC:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX")),e.removeDependentProperty("payerIDValidator"),e.registerValidator(e.get("paymentDetails"),"payerID",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator})}}.observes("customerDataModel.firstName","customerDataModel.lastName","identification.value"),setValues:function(e,t,o){e.set(t,o)},identityTypeChanged:function(){var e=this;e.clearCustomerDOB(),e.set("paymentDetails.identificationType",e.get("identification.idType")),!1===e.get("customerDataModel.isIdentificationNumberRequire")&&e.set("paymentDetails.idType",e.get("identification.idType")),e.set("isDOBDisabled",!1),e.get("identification.idType")===Komodo.CanonicalValues.IdentificationType.ID&&e.set("isDOBDisabled",e.get("_enableIdVerification"))}.observes("identification.idType"),identityTypeChangedForHouseHold:function(){var e=this;if(e.clearhouseholdMemberAndAuthorityDOB(),e.get("isEditMode")||e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),e.set("isHouseholdMemberAndAuthorityDOBDisabled",!1),Ember.isEmpty(e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")))!1===e.get("identification.isIdentificationNumberRequire")&&(e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!0),this.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"));else{e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthority");var t=[];switch(e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority").key){case Komodo.CanonicalValues.IdentificationType.ID:e.set("isHouseholdMemberAndAuthorityDOBDisabled",e.get("_enableIdVerification")),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX")),t=!0===e.get("_enableIdVerification")?[Komodo.UI.Validators.SAIdValidator]:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator],!1===e.get("identification.isIdentificationNumberRequire")&&(e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1),Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator}):e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}));break;case Komodo.CanonicalValues.IdentificationType.Refugee:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MAX")),t=[Komodo.UI.Validators.alphanumericValidator];break;case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MAX")),t=[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.DrivingLicence:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MAX")),t=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.BOTSWANA")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?[Komodo.UI.Validators.numericValidator]:[Komodo.UI.Validators.alphanumericValidator],!1===e.get("identification.isIdentificationNumberRequire")&&(e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}));break;case Komodo.CanonicalValues.IdentificationType.VotersId:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MAX")),t=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator],!1===e.get("identification.isIdentificationNumberRequire")&&(e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1),Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator}):e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}));break;case Komodo.CanonicalValues.IdentificationType.NationalId:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MAX")),t=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters]:[Komodo.UI.Validators.alphanumericValidator],!1===e.get("identification.isIdentificationNumberRequire")&&(e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}));break;case Komodo.CanonicalValues.IdentificationType.NRC:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX")),t=[Komodo.UI.Validators.numericValidator],!1===e.get("identification.isIdentificationNumberRequire")&&(e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1),e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}));break;default:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MAX")),t=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.BOTSWANA")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator],Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")&&(t=[Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters]),!1===e.get("identification.isIdentificationNumberRequire")&&e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1)}e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:t})}}.observes("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority"),houseHoldMembers:function(){var e=this;e.get("isEditMode")||e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),e.isEmpty(e.get("householdMemberAndAuthority.relation"))&&e.isEmpty(e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority"))&&e.isEmpty(e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority"))?e.isEmpty(e.get("householdMemberAndAuthority.relation"))&&e.isEmpty(e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority"))&&e.isEmpty(e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority"))&&(e.removeHouseHoldValidations(),e.set("isAddButtonDisable",!0)):(e.pushHouseHoldValidations(),e.householdMemberInfoChnaged())}.observes("householdMemberAndAuthority.relation","householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority","householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority"),isEmpty:function(e){if(void 0===e)return!0;switch(e){case void 0:case"":case null:return!0;default:return!1}},clearCustomerDOB:function(){this.set("customerDataModel.DOBDate",void 0),this.set("customerDataModel.DOBMonth",void 0),this.set("customerDataModel.DOBYear",void 0)},clearhouseholdMemberAndAuthorityDOB:function(){this.set("householdMemberAndAuthority.dd",void 0),this.set("householdMemberAndAuthority.mm",void 0),this.set("householdMemberAndAuthority.yyyy",void 0)},communicationMethod:function(){var e=this;if(void 0!==e.get("customerDataModel.acceptMarketingInfo"))switch(e.get("customerDataModel.acceptMarketingInfo")){case"1":e.createDependentProperty("methodOfCommunicationValidator",[Komodo.UI.Validators.RequiredValidator]);break;case void 0:case null:case"0":e.removeDependentProperty("methodOfCommunicationValidator")}}.observes("customerDataModel.acceptMarketingInfo"),allowToTransactChanged:function(){var e=this;if(void 0!==e.get("householdMemberAndAuthority.allowToTransactInfo")){switch(Ember.isEmpty(e.get("dateArray"))&&(e.loadDate(),e.loadMonth(),e.loadYear(!0)),e.get("householdMemberAndAuthority.allowToTransactInfo")){case"1":e.createDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator",[Komodo.UI.Validators.RequiredValidator]),e.createDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator",[Komodo.UI.Validators.RequiredValidator]),e.set("isAllowToTransactDisabled",!0),e.set("isAddButtonDisable",!1);break;case"0":switch(e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),e.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",void 0),e.get("householdMemberAndAuthority.householdMemberInfo")){case"1":e.set("isAddButtonDisable",!1);break;case"0":e.set("isAddButtonDisable",!0),e.get("isEditMode")||Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.houseHoldMemberWarning"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning")}e.set("isAllowToTransactDisabled",!1)}!1!==e.get("identification.isIdentificationNumberRequire")||null!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")&&void 0!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")||(e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!0))}}.observes("householdMemberAndAuthority.allowToTransactInfo"),householdMemberInfoChnaged:function(){var e=this;switch(e.get("householdMemberAndAuthority.householdMemberInfo")){case"1":e.set("isAddButtonDisable",!1);break;case"0":switch(e.get("householdMemberAndAuthority.allowToTransactInfo")){case"1":e.set("isAddButtonDisable",!1);break;case"0":e.set("isAddButtonDisable",!0),e.get("isEditMode")||Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.houseHoldMemberWarning"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning")}}}.observes("householdMemberAndAuthority.householdMemberInfo"),acceptTermAndConditionChanged:function(){var e=this;switch(e.get("customerDataModel.acceptTermAndCondition")){case"1":e.set("isLocationIndicatorVisible",!0),e.set("customerDataModel.identityDetailType","1")}}.observes("customerDataModel.acceptTermAndCondition"),hidehouseholdMemberGrid:function(){return this.get("customerDataModel.householdMemberAndAuthority").length>0}.property("customerDataModel.householdMemberAndAuthority.length"),identityDetailValueHM:function(){var e=this;if(e.set("isIdentityValidated",!1),Ember.isEmpty(e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority"))||e.pushHouseHoldValidations(),!0===e.get("isHouseholdMemberAndAuthorityDOBDisabled")&&!Ember.isEmpty(e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")))switch(e.clearhouseholdMemberAndAuthorityDOB(),e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority").key){case Komodo.CanonicalValues.IdentificationType.ID:!e.isEmpty(e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority"))&&e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").length>=2&&(e.set("householdMemberAndAuthority.yyyy","19"+e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").substring(0,2)),e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").length>=4&&e.set("householdMemberAndAuthority.mm",e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").substring(2,4)),e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").length>=6&&(e.isValidDay(e.get("householdMemberAndAuthority.yyyy"),e.get("householdMemberAndAuthority.mm"),e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").substring(4,6))?e.set("householdMemberAndAuthority.dd",e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").substring(4,6)):e.set("householdMemberAndAuthority.dd","")),e.get("isIdentityValidated")||!e.get("_enableIdVerification")||e.get("isEditMode")||(e.get("validators.identityDetailValueHouseholdMemberAndAuthorityValidator").validate(),e.get("validators.firstNameHouseholdMemberAndAuthorityValidator").validate(),e.get("validators.lastNameHouseholdMemberAndAuthorityValidator").validate(),0===e.get("validators.identityDetailValueHouseholdMemberAndAuthorityValidator.errors.length")&&0===e.get("validators.firstNameHouseholdMemberAndAuthorityValidator.errors.length")&&0===e.get("validators.lastNameHouseholdMemberAndAuthorityValidator.errors.length")&&this.set("isIdentityValidated",!0)));break;case Komodo.CanonicalValues.IdentificationType.Refugee:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MIN")),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MAX"));break;case Komodo.CanonicalValues.IdentificationType.NRC:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN")),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX"))}}.observes("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority"),showQuoteContactDetails:function(){var e=this;Ember.isEmpty(e.get("phoneFromQuote"))||1!==e.get("contactNumbers").length||(e.get("contactNumbers")[0].set("contactValue",e.get("phoneFromQuote").split(" ")[1]),e.get("contactNumbers")[0].set("countryCode",e.get("phoneFromQuote").split(" ")[0].replace("+","",-1))),Ember.isEmpty(e.get("emailFromQuote"))||1!==e.get("emails").length||e.get("emails")[0].set("contactValue",e.get("emailFromQuote"))}.observes("contactNumbers.length","emails.length"),customerIsNotAccountHolder:function(){var e=this;e.set("paymentDetails.debitOrderDay",void 0),e.set("paymentDetails.accountNo",void 0),e.set("paymentDetails.accountType",void 0),e.set("paymentDetails.bank",void 0),e.set("paymentDetails.branchName",void 0),e.set("paymentDetails.payerName",void 0),e.set("paymentDetails.payerID",void 0),e.set("paymentDetails.countryCode",void 0),e.set("paymentDetails.contactValue",void 0),e.set("paymentDetails.accountHolderEmailAddress",void 0),e.setMethodOfPayment()}.observes("paymentDetails.payerIsCustomer"),contactValueChanged:function(){for(var e=this,t=0;t<e.get("contactNumbers").length;t++)void 0!=e.get("contactNumbers")[t].isPrimary&&void 0!=e.get("contactNumbers")[t].contactValue&&void 0!=e.get("contactNumbers")[t].countryCode&&!0===e.get("contactNumbers")[t].isPrimary&&(e.set("paymentDetails.countryCode",e.get("contactNumbers")[t].countryCode),e.set("paymentDetails.contactValue",e.get("contactNumbers")[t].countryCode+e.get("contactNumbers")[t].contactValue),e.set("customerDataModel.accountHoldercontactValue",e.get("contactNumbers")[t].countryCode+e.get("contactNumbers")[t].contactValue),e.set("paymentDetails.contactType",e.get("contactNumbers")[t].type))}.observes("contactNumbers.@each.countryCode","contactNumbers.@each.contactValue","paymentDetails.payerIsCustomer","contactNumbers.@each.type"),emailAddressChanged:function(){var e=this;e.set("paymentDetails.disableAccountHolderEmailAddress",!1);for(var t=0;t<e.get("emails").length;t++)void 0!=e.get("emails")[t].isPrimary&&void 0!=e.get("emails")[t].contactValue&&(Ember.isEmpty(e.get("emails")[t].contactValue)||e.set("paymentDetails.disableAccountHolderEmailAddress",!0),!0===e.get("emails")[t].isPrimary&&(e.set("paymentDetails.accountHolderEmailAddress",e.get("emails")[t].contactValue),e.set("customerDataModel.accountHolderEmailAddress",e.get("emails")[t].contactValue)))}.observes("emails.@each.contactValue","paymentDetails.payerIsCustomer"),paymentDetailsChanged:function(){var e=this;e.get("customerDataModel.customerDocuments")&&e.get("customerDataModel.customerDocuments").clear(),e.get("fileUploader.files")&&e.get("fileUploader.files").clear(),e.set("paymentDetails.nonAHVCompliant",!1),e.set("paymentDetails.AHVError",""),e.set("paymentDetails.ahvCompliant",!1),e.set("paymentDetails.ahvOverride",!1),e.set("paymentDetails.disabeAHVRealtime",!1)}.observes("paymentDetails.payerIsCustomer","paymentDetails.payerName","paymentDetails.bank","paymentDetails.accountNo","paymentDetails.branchName","paymentDetails.payerID","paymentDetails.accountType"),pushHouseHoldValidations:function(){this.createDependentProperty("relationValidator",[Komodo.UI.Validators.RequiredValidator]),this.createDependentProperty("firstNameHouseholdMemberAndAuthorityValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator,Komodo.UI.Validators.RegExValidator,Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator]),this.createDependentProperty("lastNameHouseholdMemberAndAuthorityValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator,Komodo.UI.Validators.RegExValidator,Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator])},removeHouseHoldValidations:function(){var e=this;e.removeDependentProperty("relationValidator"),e.removeDependentProperty("firstNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("lastNameHouseholdMemberAndAuthorityValidator")},getCustomerTypeText:function(e){for(var t=this.get("customertype"),o=0;o<t.length;o++)if(t[o].key===e)return t[o].value;return""},MOPChanged:function(){var e=this;!0===e.get("isIPDayDefaultAndDisable")&&(e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER?e.setIPDayDefault():e.get("paymentDetails.paymentType")===Komodo.MOP.CASH&&e.set("disablePaymentDay",!1))}.observes("paymentDetails.paymentType"),setIPDayDefault:function(){var e=this;e.set("disablePaymentDay",!0),e.set("paymentDetails.debitOrderDay",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DEFAULT_IP_DAY"))},residenceTypeList:[],residenceTypes:[],countries:[],provinces:[],cities:[],suburbs:[],postalCodes:[],languages:[],countriesOfOrigin:[],banks:[],bankBranches:[],idTypes:[],communicationMethods:[],methodsOfPayment:[],methodsOfPaymentCanonical:[],contactNumbers:[],countryDescription:void 0,emails:[],quoteDialingCode:void 0,methodOfPayment:[],_titles:[],_householdMemberRelation:[],_householdMemberIdType:[],localeBase:"locale.customer:customerInformation.",mainLocaleBase:"locale.customer:customer.",isAllowToTransactDisabled:!1,isLocationIndicatorVisible:!1,submitCustomerDetails:null,countrySelection:void 0,postalSameAsPhysical:!1,showSameAsPhysical:!1,mobileCount:0,homephoneCount:0,workPhoneCount:0,MAXIMUM_CONTACT_PER_TYPE:4,firstNameFromQuote:void 0,lastNameFromQuote:void 0,leadUidFromQuote:void 0,quoteNumberFromQuote:void 0,addressFromQuote:void 0,debitOrderDaylabel:void 0,debitOrderDay:void 0,disablePayer:!1,dialingCode:void 0,nameRegularExpression:"^[a-zA-Z]+[ ]?[a-zA-Z]*[ ]?[a-zA-Z]*$/",physicalAddress:!0,tempdate:void 0,isAddButtonDisable:!0,mobileCode:[],paymentType:void 0,customertype:[],disableCreateCustomerButton:!1,dateArray:[],monthArray:[],yearArray:[],dateArrayDOB:[],monthArrayDOB:[],yearArrayDOB:[],debitOderDays:[],_datePast:void 0,goTvAllowedProvince:"424",isEmailCommunication:!1,emailFromQuote:void 0,phoneFromQuote:void 0,customerId:void 0,country:void 0,customerCreatedPayload:void 0,logDocumentCase:!1,caseOutcome:[],identificationMinLength:void 0,isDOBDisabled:void 0,isHouseholdMemberAndAuthorityDOBDisabled:void 0,paymentDetails:Komodo.Models.PaymentDetailsModel.create(),identificationMaxLength:void 0,hideViewingPlatform:!0,isIdentityValidated:!1,isIPDayDefaultAndDisable:!1}),Komodo.Application.WhereItIsController=Komodo.UI.Controller.extend({salesDetails:[],found:!1,salesTracks:[],showImage:!1,notFound:!1,collected:!1,inTransit:!1,delivered:!1,disbleSearch:!1,init:function(){Komodo.log("Constructing Where It is controller"),this.set("processVersion","v1.1"),this.set("processName","WhereItIs process"),this._super()},start:function(){var e=this;e.registerModel("whereItIsModel",Komodo.Models.WhereItIsModel),e.set("found",!1),e.set("showImage",!1),e.set("notFound",!1),e.set("collected",!1),e.set("inTransit",!1),e.set("delivered",!1),Komodo.Services.securityService.hasPermission("clarity://whereItIsView/viewOnly")?e.set("disbleSearch",!0):e.set("disbleSearch",!1),e._super()},stop:function(){var e=this;e.set("notFound",!1),e.set("collected",!1),e.set("inTransit",!1),e.set("delivered",!1),e._super()},searchSalesDetails:function(){var e=this;Ember.isEmpty(e.get("whereItIsModel.deviceNumber"))&&e.set("whereItIsModel.deviceNumber",""),e.set("salesTracks",[]),Ember.isEmpty(e.get("whereItIsModel.parcelNumber1"))&&e.set("whereItIsModel.parcelNumber1",""),e.set("notFound",!1),e.set("collected",!1),e.set("inTransit",!1),e.set("delivered",!1),Komodo.Services.queryService.getJSON("/CreditApplication/SearchSalesActivity?deviceSerialNumber="+e.get("whereItIsModel.deviceNumber")+"&parcelNumber="+e.get("whereItIsModel.parcelNumber1")+"&customerNumber=").done(function(t){if(e.hideBusyIndicator(),null!=t)if(e.set("showImage",!0),e.set("found",!0),t.length>0)if(e.set("whereItIsModel.parcelNumber2",null!=t[0].SalesOrderDetail?t[0].SalesOrderDetail.ParcelNumber:"-"),null!=t[0].SalesOrderActivities&&t[0].SalesOrderActivities.length>0){
"Collected"===t[0].SalesOrderActivities[0].Activity?e.set("collected",!0):"In-Transit"===t[0].SalesOrderActivities[0].Activity?e.set("inTransit",!0):e.set("delivered",!0);for(var o=[],a=0;a<t[0].SalesOrderActivities.length;a++){o.push(new Date(t[0].SalesOrderActivities[a].CreatedTime));var n={date:t[0].SalesOrderActivities[a].CreatedTime,trackingProgress:t[0].SalesOrderActivities[a].Activity};e.get("salesTracks").pushObject(n)}for(var s=new Date(Math.max.apply(null,o)),i=0;i<t[0].SalesOrderActivities.length;i++)if(new Date(t[0].SalesOrderActivities[i].CreatedTime).toString()==s.toString())return void e.set("whereItIsModel.status",null!=t[0].SalesOrderActivities[i]?t[0].SalesOrderActivities[i].Activity:"-")}else e.set("notFound",!0),e.set("collected",!1),e.set("inTransit",!1),e.set("delivered",!1);else e.set("notFound",!0),e.set("collected",!1),e.set("inTransit",!1),e.set("delivered",!1),e.set("found",!1);else e.set("notFound",!0),e.set("collected",!1),e.set("inTransit",!1),e.set("delivered",!1),e.set("found",!1)}).error(function(t){e.set("showImage",!1),e.set("found",!1),e.hideBusyIndicator();var o=JSON.stringify(t);Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:whereItIs.title"),o,Komodo.Controls.MessageBoxOkButtons,e,"authmbx","danger")})},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,12e5,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},getNewProcessID:function(){this.startNewProcess()},actions:{find:function(){var e=this;if(e.set("showImage",!1),e.set("found",!1),Ember.isEmpty(e.get("whereItIsModel.deviceNumber"))&&Ember.isEmpty(e.get("whereItIsModel.parcelNumber1")))return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:whereItIs.title"),kl.value("Device Number or Parcel Number Required."),Komodo.Controls.MessageBoxOkButtons,e,"authmbx","danger");e.set("salesDetails",[]),e.set("whereItIsModel.parcelNumber",void 0),e.set("whereItIsModel.status",void 0),e.searchSalesDetails(),e.getNewProcessID(),e.showBusyIndicator()},view:function(){this.set("salesTracks",[])}}}),Komodo.Application.GetItOnPaymentPlanController=Komodo.UI.Controller.extend({init:function(){Komodo.log("Constructing GetItOnPaymentPlan controller"),this.set("processVersion","V2.0"),this.set("processName","GetItOnPaymentPlan process"),this.requiresDependency("_priceLockProductService",{singleton:Komodo.Services.PriceLockProductService}),this.registerModel("getItOnPaymentPlanModel",Komodo.Models.GetItOnPaymentPlanModel),this._super()},start:function(){var e=this;e.set("bankIsCompliant",!1),e.set("getItOnPaymentPlanModel.ahvStatus",void 0),e.loadCdmData(),e.registerModel("getItOnPaymentPlanModel",Komodo.Models.GetItOnPaymentPlanModel),e.set("phoneNumber",Komodo.Models.CreateCustomerNamespace.ContactInformation.create()),e.getItOnPaymentPlanModel.set("hideFinInfo",!0),e.loadProducts(),e.showPopUp(),e.setDefaults(),e.loadDateDOB(),e.loadMonthDOB(),e.loadYearDOB(),e.loadGender(),e.loadDependents(),e.loadYearsAtJob(),e.loadYearsAtBank(),e.loadYearsAtAddress(),e.registerValidation(),e.addPhoneNumberForPayer(),e._super()},stop:function(){var e=this;e.set("loggedInCountryId",void 0);var t=["countries","provinces","cities","suburbs","postalCodes","languages","countriesOfOrigin","banks","bankBranches","idTypes","communicationMethods","addressTypes","methodsOfPayment","contactNumbers","emails","methodOfPayment","_titles"];t.forEach(function(t){e.set(t,[])},t),e._super()},loadProducts:function(){var e=this;Komodo.Services.queryService.getJSON("/CreditApplication/GetAllDPPProducts").done(function(t){if(null!=t){e.set("_productName",[]);for(var o=0;o<t.length;o++)if(!0===t[o].Active){var a={key:t[o].Description,label:t[o].Description,provider:t[o].Provider,name:t[o].Name};e._productName.push(a)}}}).error(function(e){var t=JSON.stringify(e);Komodo.log("retrievePrintDocumentInfo ajax call failed. Error: "+t)})},showPopUp:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.acceptTermAndConditionTitle"),kl.value("locale.customer:getItOnPaymentPlan.acceptTermAndCondition"),Komodo.Controls.MessageBoxAcceptDeclineButtons,e,"id5446673","").response=function(t){"accept"===t?e.getItOnPaymentPlanModel.set("acceptTermAndCondition","1"):e.getUIService().getController("application").redirectReturn("home")}},setDefaults:function(){var e=this;e.set("getItOnPaymentPlanModel.checkQuestions",0),e.set("getItOnPaymentPlanModel.checkAllQns",!0),e.set("isPostal",!1),e.set("isAllowToTransactDisabled",!1),e.getItOnPaymentPlanModel.set("isAddMobileButton",!1),e.getItOnPaymentPlanModel.set("isAddWorkContactButton",!1),e.getItOnPaymentPlanModel.set("isAddHomePhoneButton",!1),e.getItOnPaymentPlanModel.set("isIDFieldDisabled",!1),e.set("getItOnPaymentPlanModel.startDate",new Date((new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getFullYear())),e.getItOnPaymentPlanModel.set("contactInformation",[]),e.getItOnPaymentPlanModel.set("addressInformation",[]),e.set("methodOfPayment",[])},loadDateDOB:function(){var e=this;e.dateArrayDOB.clear();for(var t=1;t<32;t++)e.dateArrayDOB.addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadMonthDOB:function(){var e=this;e.monthArrayDOB.clear();for(var t=1;t<13;t++)e.monthArrayDOB.addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadYearDOB:function(){var e=this;e.yearArrayDOB.clear();var t=(new Date).getFullYear();t-=18;for(var o=t;o>t-97;o--)e.yearArrayDOB.addObject({label:o.toString(),value:o})},loadGender:function(){var e=this;e.set("_gender",[]);var t={key:"1",label:"Male"},o={key:"2",label:"Female"};e._gender.push(t),e._gender.push(o)},loadDependents:function(){var e=this;e.set("_noOfDependent",[]);for(var t=0;t<9;t++){var o={key:t,label:t};e._noOfDependent.push(o)}var a={key:9,label:"8+"};e._noOfDependent.push(a)},loadYearsAtJob:function(){var e=this;e.set("_yearsAtJob",[]);for(var t=0;t<11;t++){var o={key:t,label:t};e._yearsAtJob.push(o)}e._yearsAtJob.push({key:11,label:"10+"})},loadYearsAtBank:function(){var e=this;e.set("_yearsAtBank",[]);for(var t=0;t<11;t++){var o={key:t,label:t};e._yearsAtBank.push(o)}e._yearsAtBank.push({key:11,label:"10+"})},loadYearsAtAddress:function(){var e=this;e.set("_yearsAtAddress",[]);for(var t=0;t<11;t++){var o={key:t,label:t};e._yearsAtAddress.push(o)}e._yearsAtAddress.push({key:11,label:"10+"})},addPhoneNumberForPayer:function(){var e=this;e.set("contactNumbersPayer",[]);var t=e.getNewPhoneNumber();void 0!==e.dialingCode&&(t.set("countryCode",e.dialingCode[0].DialingCode),e.contactNumbersPayer.pushObject(t))},getPriceLockProductService:function(){return this.get("_priceLockProductService")},loadCdmData:function(){var e=this,t=e.getPriceLockProductService();t.getIdTypes().done(function(t){e.set("identityTypes",t)}).fail(function(e){Komodo.log(e)}),e.set("countryDescription",Komodo.Services.uiService.getController("application").get("_selectedCountryDescription")),t.getCountryDetail().done(function(t,o){e.set("countries",t),e.set("provinces",o)}).fail(function(e){Komodo.log(e)}),t.getMaritalStatuses().done(function(t){e.set("_maritalStatus",t)}).fail(function(e){Komodo.log(e)}),t.getCountryOfOrigin().done(function(t){e.set("countryOfOrigin",t)}).fail(function(e){Komodo.log(e)}),t.getResidentialStatuses().done(function(t){e.set("residentialStatuses",t)}).fail(function(e){Komodo.log(e)}),t.getEmploymentStatuses().done(function(t){e.set("_employmentStatus",t)}).fail(function(e){Komodo.log(e)}),t.getAddressTypes().done(function(t){e.set("addressTypes",t)}).fail(function(e){Komodo.log(e)}),t.getMethodOfPayments().done(function(t){e.set("methodsOfPayment",t)}).fail(function(e){Komodo.log(e)}),t.getTitles().done(function(t){e.set("_titles",t)}).fail(function(e){Komodo.log(e)}),t.getCommunicationLanguages().done(function(t){e.set("languages",t)}).fail(function(e){Komodo.log(e)}),t.getCommunicationMethods().done(function(t){e.set("communicationMethods",t)}).fail(function(e){Komodo.log(e)}),t.getLoggedInCountryId().done(function(t){e.set("loggedInCountryId",t)}).fail(function(e){Komodo.log(e)}),t.getBankDetail().done(function(t){e.set("banks",t)}).fail(function(e){Komodo.log(e)}),t.getInvoiceProfileDay().done(function(t){e.set("debitOderDays",t)}).fail(function(e){Komodo.log(e)}),t.getDialingCodes(e.get("countryDescription")).done(function(t,o){e.set("dialingCode",t),e.set("mobileCode",o)}).fail(function(e){Komodo.log(e)})},registerValidation:function(){var e=this;e.getPriceLockProductService().registerValidators(e)},preloadDebitOrderDays:function(){var e=this;Komodo.Services.uiService.getController("application").get("_selectedCountryId"),Komodo.Services.localizationService.getCurrentLanguage();e.getPriceLockProductService().getInvoiceProfileDay().done(function(t){e.set("debitOderDays",t)}).fail(function(e){Komodo.log(e)})},createNewGridItemContactInformation:function(){return this.set("newContactGriditem",Komodo.Models.CreateCustomerNamespace.ContactInformation.create()),!0},showMessage:function(e,t){return e>this.MAXIMUM_CONTACT_PER_TYPE&&(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value(this.localeBase+"maximum"+t),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"),!0)},checkContactCount:function(){var e=this;return!!e.showMessage(e.mobileCount,"Mobile")||(!!e.showMessage(e.homephoneCount,"Home")||!!e.showMessage(e.workPhoneCount,"Work"))},AddPhoneNumber:function(){for(var e,t=this,o=0;o<t.contactNumbers.length;o++)if(void 0!==(e=t.canSubmitData(t.contactNumbers[o],kl.value("locale.customer:getItOnPaymentPlanModel.useCaseTitle"),{showInModal:!0}))&&!e)return;if(!t.checkContactCount()){var a=t.getNewPhoneNumber();if(t.mobileCount<t.MAXIMUM_CONTACT_PER_TYPE)a.set("type","1");else if(t.workPhoneCount<t.MAXIMUM_CONTACT_PER_TYPE)a.set("type","2");else{if(!(t.homephoneCount<t.MAXIMUM_CONTACT_PER_TYPE))return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlanModel.useCaseTitle"),kl.value(t.localeBase+"maximumContacts"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","warning");a.set("type","3")}t.contactNumbers.length<1?a.set("Id",t.contactNumbers.length+1):a.set("Id",t.contactNumbers[t.contactNumbers.length-1].Id+1);$.grep(t.contactNumbers,function(e){return!0===e.isPrimary}).length<1?Ember.set(a,"isPrimary",!0):Ember.set(a,"isPrimary",!1),void 0!==t.dialingCode&&(a.set("countryCode",t.dialingCode[0].DialingCode),t.contactNumbers.pushObject(a)),t.contactNumbers.length>1?t.getItOnPaymentPlanModel.set("shouldDisableRemoveHomeButton",!1):(t.getItOnPaymentPlanModel.set("shouldDisableAddHomeButton",!1),t.getItOnPaymentPlanModel.set("shouldDisableRemoveHomeButton",!0))}},getNewPhoneNumber:function(){var e=this,t=Komodo.Models.CreateCustomerNamespace.ContactInformation.create(),o="phoneNumberValidator"+(e.contactNumbers.length+1),a="countryCodeValidator"+(e.contactNumbers.length+1);return e.registerValidator(t,"contactValue",{type:"number",isRequired:!0,displayName:kl.value(e.localeBase+"phoneNumber"),minLength:7,maxLength:10,functions:Komodo.UI.Validators.numericValidator,name:o}),e.registerValidator(t,"countryCode",{type:"number",isRequired:!0,displayName:kl.value(e.localeBase+"countryCode"),minLength:2,maxLength:4,functions:Komodo.UI.Validators.numericValidator,name:a}),t.set("validator",e.validators[o]),t.set("countryCodeValidator",e.validators[a]),t},addressGridDelete:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"delete"),kl.value(e.localeBase+"deleteItem"),Komodo.Controls.MessageBoxYesNoButtons,e,"id123456","warning").response=function(t){if("yes"===t){var o=e.get("getItOnPaymentPlanModel.commandGridItemAddressInformation");e.get("getItOnPaymentPlanModel.addressInformation").removeObject(o)}}},checkApplicationFrequency:function(e){var t=this;Komodo.Services.queryService.getJSON("/CreditApplication/VerifyApplicationFrequency?idNumber="+e).done(function(o){if(!0===o){if(1==t.get("getItOnPaymentPlanModel.identitypes")){t.set("getItOnPaymentPlanModel.DOBDate",e.substring(4,6)),t.set("getItOnPaymentPlanModel.DOBMonth",e.substring(2,4)),t.set("getItOnPaymentPlanModel.DOBYear","19"+e.substring(0,2));var a=e.substring(6,7);a>=0&&a<=4?t.set("getItOnPaymentPlanModel.gender","2"):t.set("getItOnPaymentPlanModel.gender","1"),t.set("getItOnPaymentPlanModel.genderDisable",!0),t.set("getItOnPaymentPlanModel.DOBDateDisable",!0),t.set("getItOnPaymentPlanModel.DOBMonthDisable",!0),t.set("getItOnPaymentPlanModel.DOBYearDisable",!0),t.set("getItOnPaymentPlanModel.passportExpiryDate",""),t.set("getItOnPaymentPlanModel.WorkPermitExpiryDate",""),t.set("getItOnPaymentPlanModel.countryOfOrigin",t.get("loggedInCountryId")),t.set("getItOnPaymentPlanModel.countryOfOriginDisable",!0),t.set("getItOnPaymentPlanModel.countryOfOriginVisible",!1),t.set("getItOnPaymentPlanModel.passportExpiryVisible",!1)}else t.set("getItOnPaymentPlanModel.gender",""),t.set("getItOnPaymentPlanModel.genderDisable",!1),t.set("getItOnPaymentPlanModel.DOBDateDisable",!1),t.set("getItOnPaymentPlanModel.DOBMonthDisable",!1),t.set("getItOnPaymentPlanModel.DOBYearDisable",!1),t.set("getItOnPaymentPlanModel.countryOfOriginDisable",!1),t.set("getItOnPaymentPlanModel.countryOfOriginVisible",!0),t.set("getItOnPaymentPlanModel.passportExpiryVisible",!0);t.set("disableDODForExistingCustomer",!1),t.searchOnIdNumber(e);Komodo.Services.securityService.hasPermission("clarity://getItOnPaymentPlanView/viewOnly")?t.set("disableCreditAppButton",!0):t.set("disableCreditAppButton",!1)}else t.set("getItOnPaymentPlanModel.showPage",!1),t.hideBusyIndicator(),Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("locale.customer:getItOnPaymentPlan.appFrequency"),Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger")}).error(function(e){t.hideBusyIndicator();var o=JSON.stringify(e);null!=o&&null!=JSON.parse(JSON.parse(o).responseText)&&JSON.parse(JSON.parse(o).responseText).Message?Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),JSON.parse(JSON.parse(o).responseText).Message,Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger"):Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),o,Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger")})},removeBeforeSearch:function(){var e=this;e.set("getItOnPaymentPlanModel.firstName",void 0),e.set("getItOnPaymentPlanModel.lastName",void 0),e.set("getItOnPaymentPlanModel.title",void 0),e.set("getItOnPaymentPlanModel.noOfDependents",void 0),e.set("getItOnPaymentPlanModel.initial",void 0),e.set("getItOnPaymentPlanModel.language",void 0),e.set("getItOnPaymentPlanModel.emailAddress",void 0),e.set("getItOnPaymentPlanModel.DOBDate",void 0),e.set("getItOnPaymentPlanModel.DOBMonth",void 0),e.set("getItOnPaymentPlanModel.DOBYear",void 0),e.set("getItOnPaymentPlanModel.addressInformation",[]),e.set("hideAddressInformationGrid",!1),e.set("getItOnPaymentPlanModel.applicantIsAccount",!1),e.set("getItOnPaymentPlanModel.accountHoldersNameAndSurname",void 0),e.set("getItOnPaymentPlanModel.accountHoldersIDPassportNumber",void 0),e.set("getItOnPaymentPlanModel.bank",void 0),e.set("getItOnPaymentPlanModel.accountType",void 0),e.set("getItOnPaymentPlanModel.accountNo",void 0),e.set("getItOnPaymentPlanModel.branchCode",void 0),e.set("getItOnPaymentPlanModel.yearsAtBank",void 0),e.set("getItOnPaymentPlanModel.debitOrderDay",void 0),e.set("getItOnPaymentPlanModel.salaryMandated",!1),e.set("getItOnPaymentPlanModel.employmentStatus",void 0),e.set("getItOnPaymentPlanModel.occupation",void 0),e.set("getItOnPaymentPlanModel.yearsAtJob",void 0),e.set("getItOnPaymentPlanModel.netMonthlyIncome",void 0),e.set("getItOnPaymentPlanModel.debtCommitment",void 0),e.set("getItOnPaymentPlanModel.netMonthlyExpenses",void 0)},getNewProcessID:function(){this.startNewProcess()},validateContactDetails:function(){var e=this;return e.getPriceLockProductService().validateContacts(e)},validateAddressDetails:function(){var e=this;return e.getPriceLockProductService().validateAddress(e)},validateDateOfBirth:function(){var e=this;return e.getPriceLockProductService().validateBirthDate(e)},searchOnIdNumber:function(e){var t=this;t.set("hideAddressInformationGrid",!1),t.set("contactNumbers",[]),Komodo.Services.queryService.getJSON("/ElasticSearch/GetElasticSearchData?from=0&size="+parseInt(KomodoConfiguration.elasticSearchConfig.numberOfRecords)+"&documentType=&default_field="+KomodoConfiguration.elasticSearchConfig.default_field+"&searchText="+e.trim()+"&default_operator="+KomodoConfiguration.elasticSearchConfig.default_operator).done(function(o){if(t.hideBusyIndicator(),null!=o&&o.hits&&o.hits.hits&&o.hits.hits.length>0){var a=o.hits.hits;if(1===a.length){for(var n=0;n<a.length;n++)if(a[n]._type.toLowerCase()==ElasticSearchConfiguration.documentType.customer.toLowerCase()){var s=a[n]._source;return s.IdentityValue==e.trim()&&s.Class==Komodo.CanonicalValues.CustomerClass.Residential&&null!=s.CustomerNumber&&s.CustomerType==Komodo.CanonicalValues.CustomerType.General?(t.set("getItOnPaymentPlanModel.showPage",!0),void t.fillCustomerData(s)):(t.hideBusyIndicator(),t.set("getItOnPaymentPlanModel.showPage",!1),void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("locale.customer:getItOnPaymentPlan.dppValidationMessage"),Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger"))}}else{t.set("multipleCustomer",[]),t.set("customerInfo",[]);for(var i=0;i<a.length;i++)if(a[i]._type.toLowerCase()===ElasticSearchConfiguration.documentType.customer.toLowerCase()){var r=a[i]._source,l=Ember.Object.create({customerNumber:r.CustomerNumber,firstName:r.FirstName,surname:r.Surname,idNumber:r.IdentityValue,type:r.CustomerType,listOfPhone:r.ListOfPhoneNumber,listOfEmail:r.ListOfEmail,listOfAddress:r.ListOfAddress});t.get("multipleCustomer").pushObject(l),t.get("customerInfo").pushObject(r)}var d=Komodo.Services.uiService.showModalPopup(kl.value("locale.customer:getItOnPaymentPlan.searchResult"),null,{view:Komodo.Application.SearchOnIdNumberView,context:{data:t.get("multipleCustomer"),searchResultSelected:function(o){d.close();var a=o.get("content");t.get("customerInfo").forEach(function(o){if(a.customerNumber==o.CustomerNumber)return o.IdentityValue==e.trim()&&"Residential"==o.Class&&null!=o.CustomerNumber&&"General"==o.CustomerType?(t.set("getItOnPaymentPlanModel.showPage",!0),void t.fillCustomerData(o)):(t.hideBusyIndicator(),t.set("getItOnPaymentPlanModel.showPage",!1),void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("locale.customer:getItOnPaymentPlan.dppValidationMessage"),Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger"))})}},canUserClose:!0})}}else t.set("getItOnPaymentPlanModel.showPage",!0),t.hideBusyIndicator(),t.AddPhoneNumber()}).error(function(e){t.hideBusyIndicator();var o=JSON.stringify(e);Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),o,Komodo.Controls.MessageBoxOkButtons,t,"authmbx","danger")})},getAddressModel:function(e){var t=this,o=Komodo.Models.AddressModel.create();e.Type===Komodo.CanonicalValues.AddressTypes.Physical?o.set("addressTypeText","Physical"):e.Type===Komodo.CanonicalValues.AddressTypes.Delivery?o.set("addressTypeText","Delivery"):o.set("addressTypeText","Postal");var a=t.getPriceLockProductService();if(o.set("addressString",a.prepareAddress(e,t)),o.set("addressType",e.Type),o.set("country",e.Country),o.set("province",e.Province),o.set("city",e.City),o.set("suburb",e.Suburb),o.set("postalCode",e.PostCode),o.set("unit",e.HouseNumber),o.set("building",e.BuildingName),null!=e.Street&&""!=e.Street&&void 0!=e.Street){var n=e.Street.split(" "),s=n.length>1?n[0]:"",i="",r=0;n.length>1?($.each(n,function(e,t){r>0&&(i=i+" "+t),r++}),i=i.trim()):i=n[0],!Ember.isEmpty(s)&&/\d/.test(s)?o.set("streetNumber",s):Ember.isEmpty(i)||(i=e.Street),o.set("streetName",i.trim())}if(e.type==Komodo.CanonicalValues.AddressTypes.Postal&&(o.set("privateBag",e.Suite),o.set("boxType",void 0),!Ember.isEmpty(e.Suite)))if(-1!=e.Suite.replace(/\s/g,"").indexOf(Komodo.BoxTypes.PO_BOX.replace(/\s/g,""))){var l=e.Suite.split(" ");o.set("privateBag",l[2]),o.set("boxType",Komodo.BoxTypes.PO_BOX)}else if(-1!=e.Suite.indexOf(Komodo.BoxTypes.SUITE)){var d=e.Suite.split(" ");o.set("privateBag",d[1]),o.set("boxType",Komodo.BoxTypes.SUITE)}else if(-1!=e.Suite.replace(/\s/g,"").indexOf(Komodo.BoxTypes.PRIVATE_BAG.replace(/\s/g,""))){var u=e.Suite.split(" ");o.set("privateBag",u[2]),o.set("boxType",Komodo.BoxTypes.PRIVATE_BAG)}return o.set("isPrimary",e.IsPrimary),o.set("isPrimaryString",!0===e.IsPrimary?"Yes":"No"),o.set("isMarketingEnabled",!1),o.set("isAddressOverride",!1),o.set("isAddressOverride",!1),o.set("floor",e.Floor),o.set("exactLocation",e.LocationOnFloor),o},fillCustomerData:function(e){var t=this;t.getNewProcessID(),t.showBusyIndicator(),t.set("getItOnPaymentPlanModel.iccCustomerNumber",e.CustomerNumber),Komodo.Services.queryService.getJSON("/CustomerProfile?customerId="+e.CustomerNumber).done(function(o){if(t.hideBusyIndicator(),o&&o.CustomerDetail){var a=o.CustomerDetail;if(null!=a){if(t.set("getItOnPaymentPlanModel.crmCentralId",a.UID),t.set("getItOnPaymentPlanModel.firstName",a.PersonalDetail.FirstName),t.set("getItOnPaymentPlanModel.lastName",a.PersonalDetail.Surname),t.set("getItOnPaymentPlanModel.title",a.PersonalDetail.Title),t.set("getItOnPaymentPlanModel.initial",a.PersonalDetail.Initial),t.set("getItOnPaymentPlanModel.language",a.Language),null!=a.ListOfEmail&&void 0!=a.ListOfEmail)for(var n=0;n<a.ListOfEmail.Email.length;n++){var s=a.ListOfEmail.Email[n];s.IsPrimary&&t.set("getItOnPaymentPlanModel.emailAddress",s.Value)}if(null!=a.ListOfPhoneNumber&&void 0!=a.ListOfPhoneNumber)for(var i=a.ListOfPhoneNumber.PhoneNumber,r=0,n=0;n<i.length;n++)if(!i[n].IsBoxOfficeNumber){var l=t.getNewPhoneNumber();l.set("type",i[n].Type),l.set("Id",r++),l.set("countryCode",i[n].Code),l.set("contactValue",i[n].Number),l.set("isPrimary",i[n].IsPrimary),t.contactNumbers.pushObject(l),t.contactNumbers.length>1?t.getItOnPaymentPlanModel.set("shouldDisableRemoveHomeButton",!1):(t.getItOnPaymentPlanModel.set("shouldDisableAddHomeButton",!1),t.getItOnPaymentPlanModel.set("shouldDisableRemoveHomeButton",!0))}t.setValues(t.get("getItOnPaymentPlanModel"),"emailAddressPayer","");var d=a.PersonalDetail.BirthDate;if(null!=d){var u=d.split("-"),c=(new Date,String(u[0])),m=String(u[1]),h=String(u[2]).substr(0,2);t.set("getItOnPaymentPlanModel.DOBDate",h),t.set("getItOnPaymentPlanModel.DOBMonth",m),t.set("getItOnPaymentPlanModel.DOBYear",c)}t.set("getItOnPaymentPlanModel.addressInformation",[]);a.ListOfAddress.Address.forEach(function(e){t.getItOnPaymentPlanModel.addressInformation.pushObject(t.getAddressModel(e))})}t.fillFinanceDetails(e.CustomerNumber)}}).error(function(e){t.hideBusyIndicator();var o=JSON.stringify(e);Komodo.log("retrieveCustomer ajax call failed. Error: "+o)})},fillFinanceDetails:function(e){var t=this;Komodo.Services.queryService.getJSON("/CreditApplication/GetPaymentDetails?customerNumber="+e).done(function(e){null!=e&&(t.set("getItOnPaymentPlanModel.accountNo",e.BankAccountNumber),t.set("getItOnPaymentPlanModel.accountHoldersNameAndSurname",e.PayerName),t.set("getItOnPaymentPlanModel.accountHoldersIDPassportNumber",e.PayerIdNumber),t.set("getItOnPaymentPlanModel.methodOfPaymentId",e.MethodOfPaymentId),t.set("getItOnPaymentPlanModel.defaultFinancialAccountId",e.FinancialAccountId),t.set("bankBranches",[]),t.set("getItOnPaymentPlanModel.ahvStatus",e.AHVStatus),Ember.set(t.getItOnPaymentPlanModel,"branchCode",void 0),"1"===e.DebitOrderDay.toString()&&t.preloadDebitOrderDays(),$.each(t.get("banks"),function(o,a){a.CanonicalKey===e.BankCodeId&&(t.set("getItOnPaymentPlanModel.bank",a),a.Branches&&a.Branches.Branch&&($.isArray(a.Branches.Branch)?$.each(a.Branches.Branch,function(e,o){t.get("bankBranches").addObject(o)}):t.get("bankBranches").addObject(a.Branches.Branch)))}),null!=e.DebitOrderDay&&$.each(t.get("debitOderDays"),function(o,a){a.value.split(" ")[1]==e.DebitOrderDay&&(t.set("getItOnPaymentPlanModel.debitOrderDay",a.key),t.set("disableDODForExistingCustomer",!1))}),$.each(t.get("methodsOfPayment"),function(o,a){a.value==e.BankAccountTypeDescription&&t.set("getItOnPaymentPlanModel.accountType",a.key)}),null!=t.get("bankBranches")&&t.get("bankBranches").length>0&&t.set("getItOnPaymentPlanModel.branchCode",t.get("bankBranches")[0]),t.get("getItOnPaymentPlanModel.accountHoldersIDPassportNumber")===t.get("getItOnPaymentPlanModel.identityDetailValue")&&t.set("getItOnPaymentPlanModel.applicantIsAccount",!0))}).error(function(e){var t=JSON.stringify(e);Komodo.log("retrieveCustomer ajax call failed. Error: "+t)})},publishCaptureCreditApplication:function(){var e,t=this;e=Komodo.Models.CreateCreditApplication.create();var o=Komodo.canonicalFacadeFactory(e,["Country","ListOfHardware","CustomerDetail","PaymentDetail","NoOfDependents","YearsAtAddress"]);o.set("Country",t.get("loggedInCountryId"));for(var a=Komodo.Models.ListOfHardware.create(),n=Komodo.canonicalFacadeFactory(a,["Hardware"]),s=Komodo.Models.Hardware.create(),i=Komodo.canonicalFacadeFactory(s,["SerialNumber","Status","StatusReason","ManufactureDate","MACAddress","OriginalSmartcard","SmartcardDetail","InsuranceStartDate","CustomerWarrantyEndDate","CustomerWarrantyStartDate","ManufacturerWarrantyEndDate","ManufacturerWarrantyStartDate","InsuranceStatus","WarrantyStatus","LinkedSmartcard","LinkedSmartcardStatus","LinkedSmartcardStatusReason","ProductDetail","ListOfService","SecondaryHardware","IsAwaitingInstallation"]),r=Komodo.Models.ProductDetail.create(),l=Komodo.canonicalFacadeFactory(r,["UID","Type","Name","Model","Manufacturer","Description","Offers","Price","ProductFeatures"]),d="",u=0;u<t._productName.length;u++)if(t._productName[u].key===t.get("getItOnPaymentPlanModel.productName")){d=t._productName[u].name;break}l.set("Name",d),l.set("Description",t.get("getItOnPaymentPlanModel.productName")),i.set("ProductDetail",r),n.set("Hardware",s),o.set("ListOfHardware",a);var c=Komodo.Models.CustomerDetail.create(),m=Komodo.canonicalFacadeFactory(c,["UID","SubscriberSystemUID","StartDate","EndDate","Status","Language",,"VATNumber","Class","Type","EstablishmentType","StockHandlerType","BusinessUnit","IsOptInForMarketing","PreferedMarketingMethod","IsTermsAccepted","IsSubscribedForMagazine","ListOfConsumer","ListOfPhoneNumber","ListOfAddress","ListOfEmail","ListOfPointOfPresence","ListOfCareOfPersonDetail","PersonalDetail","CompanyRegistrationNumber","CompanyName","CompanyFiscalCode","CompanyMarketSegment","Position","Sponsor","OriginalCustomerNumber","EmployeeNumber","BusinessName","Department","BenefitEndDate","HomeEquipmentInformation"]);if(m.set("Class","2"),m.set("Type","5"),m.set("EstablishmentType",t.get("getItOnPaymentPlanModel.residentialStatus")),void 0!=t.get("getItOnPaymentPlanModel.iccCustomerNumber")){var h=Komodo.Models.SubscriberSystem.create();h.set("UID",t.get("getItOnPaymentPlanModel.iccCustomerNumber"));var p=[];p.addObject(h),m.set("SubscriberSystemUID",p)}void 0!=t.get("getItOnPaymentPlanModel.crmCentralId")&&m.set("UID",t.get("getItOnPaymentPlanModel.crmCentralId")),m.set("PersonalDetail",t.getPersonalDetail()),m.set("Language",t.getItOnPaymentPlanModel.get("language")),m.set("ListOfPhoneNumber",t.getPhoneNumberCollection(t.contactNumbers)),m.set("ListOfAddress",t.getAddressCollection(t.getItOnPaymentPlanModel.addressInformation));var g=Komodo.Models.ListOfEmail.create(),f=Komodo.Models.Email.create();f.set("Value",t.get("getItOnPaymentPlanModel.emailAddress")),g.Email.push(f),m.set("ListOfEmail",g),o.set("CustomerDetail",c),o.set("PaymentDetail",t.getPaymentDetail()),o.set("NoOfDependents",t.getItOnPaymentPlanModel.get("noOfDependents")),o.set("YearsAtAddress",t.getItOnPaymentPlanModel.get("yearsAtAddress")),t.getNewProcessID(),t.showBusyIndicator(),Komodo.Services.CustomerService.createCreditApplication(t,e).done(function(){Komodo.log("publishCreateCreditApplicationEvent() : Create Credit Application event has been published.")}).fail(function(){Komodo.log("publishCreateCreditApplicationEvent() : Create Credit Application event has failed.")})},getPhoneNumberCollection:function(e){var t=Komodo.Models.ListOfPhoneNumber.create();return e.forEach(function(e){var o=Komodo.Models.PhoneNumber.create();void 0!==e.countryCode&&void 0!==e.contactValue&&(o.set("Type",e.type),o.set("Code",$.trim(e.countryCode)),o.set("Number",e.contactValue.trim()),o.set("IsPrimary",e.isPrimary),!0===e.isPrimary?o.set("IsMarketingEnabled",!0):o.set("IsMarketingEnabled",!1),t.PhoneNumber.push(o))}),t},isAHVCompliantBank:function(e){var t=this,o=[];t.set("bankIsCompliant",!1),Komodo.Services.cachedDataService.fetch("AHVSupportedBanks").done(function(a){$.each(a,function(e,t){o.addObject(t)});for(var n=!1,s=o.length,i=0;i<s;i++)if(o[i].key==e.CanonicalKey){n=!0,t.set("bankIsCompliant",!0);break}n||Komodo.Controls.MessageBoxController.show(kl.value(t.localeBase+"useCaseTitle"),kl.value(t.localeBase+"ahvBankMessage"),Komodo.Controls.MessageBoxOkButtons,t,"id5098673","danger")}).fail(function(){Komodo.log(kl.value("locale.manageAccount.editPaymentDetails:paymentDetail.errNotRetrieveAHVBankDS"))})},setAccountDataToUpdate:function(){var e=Komodo.Models.Account.create(),t=Komodo.Models.PaymentDetail.create(),o=Komodo.canonicalFacadeFactory(e,["UID","Type","PaymentDetail"]),a=this;return o.set("UID",a.get("getItOnPaymentPlanModel.defaultFinancialAccountId")),o.set("Type",a.get("getItOnPaymentPlanModel.accountType")),t.set("MethodOfPayment",a.get("getItOnPaymentPlanModel.methodOfPaymentId")),t.set("AccountNumber",a.get("getItOnPaymentPlanModel.accountNo")),t.set("BankName",a.getItOnPaymentPlanModel.get("bank").CanonicalKey),t.set("BranchCode",a.get("getItOnPaymentPlanModel.branchCode.BranchCode")),t.set("BranchName",a.get("getItOnPaymentPlanModel.branchCode").CanonicalValue),t.set("PayerName",a.get("getItOnPaymentPlanModel.accountHoldersNameAndSurname")),t.set("PayerIDNumber",a.get("getItOnPaymentPlanModel.accountHoldersIDPassportNumber")),$.each(a.get("methodsOfPayment"),function(e,o){o.key===a.get("getItOnPaymentPlanModel.accountType")&&t.set("BankAccountType",o.value)}),t.set("DebitOrderDay",a.get("getItOnPaymentPlanModel.debitOrderDay")),o.set("PaymentDetail",t),e},publishRequestOnBus:function(e,t,o){var a=Komodo.Services.manageAccountService,n="Event Message for "+t+" ";a.publishEvent(this,e,t,o).done(function(){Komodo.log(n+" has been published successfully")}).fail(function(e,t){Komodo.log(n+" has been failed"),Komodo.Services.messagingService.removeMessages(t)})},getAddressCollection:function(e){var t=this,o=Komodo.Models.ListOfAddress.create();return e.forEach(function(e){o.Address.push(t.getAddress(e))}),o},getAddress:function(e){var t=this,o=Komodo.Models.Address.create();o.Type=e.addressType,Ember.empty(e.isPrimary)?o.IsPrimary=!1:o.IsPrimary=e.isPrimary,Ember.empty(e.unit)?o.HouseNumber="":o.HouseNumber=e.unit,Ember.empty(e.building)?o.BuildingName="":o.BuildingName=e.building.trim(),Ember.empty(e.streetNumber)||Ember.empty(e.streetName)?Ember.empty(e.streetNumber)?Ember.empty(e.streetName)?o.Street="":o.Street=e.streetName.trim():o.Street=e.streetNumber.trim():o.Street=e.streetNumber.trim()+" "+e.streetName.trim(),e.addressType==Komodo.CanonicalValues.AddressTypes.Postal&&(Ember.empty(e.boxType)||Ember.empty(e.privateBag)?Ember.empty(e.boxType)?Ember.empty(e.privateBag)?o.Street="":o.Street=e.privateBag.trim():o.Street=e.boxType.trim():o.PostBoxNumber=e.boxType+" "+e.privateBag),o.Suburb=e.suburb,o.City=e.city
;var a="",n=t.provinces.filter(function(t){return t.CanonicalKey===e.province})[0];return Ember.empty(n)||(a=n.CanonicalValue),o.Province=a+":"+e.province,o.Country=e.country,o.PostCode=e.postalCode,o.Longitude=void 0,o.Latitude=void 0,o.BuildingNumber=void 0,o.IsMarketingEnabled=!1,o.IsVerified=!e.isAddressOverride,o.Floor=e.floor,o.LocationOnFloor=e.exactLocation,o},getPaymentDetail:function(){var e=this,t=Komodo.Models.PaymentDetail.create(),o=Komodo.canonicalFacadeFactory(t,["MethodOfPayment","BankAccountType","AccountNumber","BankName","BranchName","BranchCode","DebitOrderDay","PayerName","PayerSurname","PayerIDType","PayerIDNumber","AHVStatus","YearsAtBank","IsSalaryMandated","PayerPhoneNumber","PayerEmail","IsBankAHVCompliant","IsThirdPartyPayer"]),a=Komodo.Models.PhoneNumber.create();a.set("Type",""),a.set("Code",""),a.set("Number",e.get("getItOnPaymentPlanModel.bankingDetailsContactNumber").trim()),o.set("PayerPhoneNumber",a);var n=Komodo.Models.Email.create();if(n.set("Value",e.get("getItOnPaymentPlanModel.emailAddressPayer")),o.set("PayerEmail",n),o.set("MethodOfPayment",""),Ember.isEmpty(e.getItOnPaymentPlanModel.get("accountType"))||o.set("BankAccountType",e.getItOnPaymentPlanModel.get("accountType")),Ember.isEmpty(e.getItOnPaymentPlanModel.get("accountNo"))||o.set("AccountNumber",e.getItOnPaymentPlanModel.get("accountNo")),Ember.isEmpty(e.getItOnPaymentPlanModel.get("bank"))||o.set("BankName",e.getItOnPaymentPlanModel.get("bank").CanonicalValue+":"+e.getItOnPaymentPlanModel.get("bank").CanonicalKey),Ember.isEmpty(e.getItOnPaymentPlanModel.get("branchCode"))||o.set("BranchName",e.getItOnPaymentPlanModel.get("branchCode").CanonicalValue+":"+e.getItOnPaymentPlanModel.get("branchCode").CanonicalKey),Ember.isEmpty(e.getItOnPaymentPlanModel.get("branchCode.BranchCode"))||o.set("BranchCode",e.getItOnPaymentPlanModel.get("branchCode.BranchCode")),!Ember.isEmpty(e.getItOnPaymentPlanModel.get("debitOrderDay"))){var s;Ember.empty(e.get("debitOderDays"))||$.each(this.get("debitOderDays"),function(t,o){o.key==e.get("getItOnPaymentPlanModel.debitOrderDay")&&(s=o.value.split(" ")[1])}),o.set("DebitOrderDay",s)}var i=e.getItOnPaymentPlanModel.get("accountHoldersNameAndSurname"),r=i.split(" ",1);if(!Ember.isEmpty(r)){o.set("PayerName",r[0]);var l=i.replace(r[0]+" ","");Ember.isEmpty(l)||o.set("PayerSurname",l)}return o.set("PayerIDType",e.get("getItOnPaymentPlanModel.identitypes")),e.get("getItOnPaymentPlanModel.identityDetailValue")===e.get("getItOnPaymentPlanModel.accountHoldersIDPassportNumber")?o.set("IsThirdPartyPayer",!1):o.set("IsThirdPartyPayer",!0),2==e.get("getItOnPaymentPlanModel.identitypes")?o.set("IsBankAHVCompliant",!1):o.set("IsBankAHVCompliant",e.get("bankIsCompliant")),Ember.isEmpty(e.getItOnPaymentPlanModel.get("accountHoldersIDPassportNumber"))||o.set("PayerIDNumber",e.getItOnPaymentPlanModel.get("accountHoldersIDPassportNumber")),o.set("AHVStatus",""),Ember.isEmpty(e.getItOnPaymentPlanModel.get("yearsAtBank"))||o.set("YearsAtBank",e.getItOnPaymentPlanModel.get("yearsAtBank")),Ember.isEmpty(e.getItOnPaymentPlanModel.get("salaryMandated"))||o.set("IsSalaryMandated",e.getItOnPaymentPlanModel.get("salaryMandated")),t},getPersonalDetail:function(){var e=Komodo.Services.systemService,t=this,o=Komodo.Models.EmploymentDetail.create(),a=Komodo.canonicalFacadeFactory(o,["Occupation","EmploymentStatus","YearsAtJob","WorkPermitExpiryDate"]);Ember.isEmpty(t.getItOnPaymentPlanModel.get("occupation"))||a.set("Occupation",t.getItOnPaymentPlanModel.get("occupation").trim()),Ember.isEmpty(t.getItOnPaymentPlanModel.get("employmentStatus"))||a.set("EmploymentStatus",t.getItOnPaymentPlanModel.get("employmentStatus").trim()),Ember.isEmpty(t.getItOnPaymentPlanModel.get("yearsAtJob"))||a.set("YearsAtJob",t.getItOnPaymentPlanModel.get("yearsAtJob"));var n;n=Ember.isEmpty(t.getItOnPaymentPlanModel.get("WorkPermitExpiryDate"))?new Date("0001-01-01"):t.getItOnPaymentPlanModel.get("WorkPermitExpiryDate"),a.set("WorkPermitExpiryDate",e.universalDateString(new Date(n)));var s=Komodo.Models.FinanceDetail.create(),i=Komodo.canonicalFacadeFactory(s,["NetMonthlyIncome","DebtCommitments","MonthlyExpenses"]);Ember.isEmpty(t.getItOnPaymentPlanModel.get("netMonthlyIncome"))||i.set("NetMonthlyIncome",t.getItOnPaymentPlanModel.get("netMonthlyIncome").trim()),Ember.isEmpty(t.getItOnPaymentPlanModel.get("debtCommitment"))||i.set("DebtCommitments",t.getItOnPaymentPlanModel.get("debtCommitment").trim()),Ember.isEmpty(t.getItOnPaymentPlanModel.get("netMonthlyExpenses"))||i.set("MonthlyExpenses",t.getItOnPaymentPlanModel.get("netMonthlyExpenses").trim());var r=Komodo.Models.PersonalDetail.create(),l=Komodo.canonicalFacadeFactory(r,["Title","FirstName","Surname","Initial","BirthDate","MaritalStatus","IdentityDetailType","IdentityDetailValue","CountryOfOrigin","ExpiryDate","EmploymentDetails","FinanceDetails","Gender"]);Ember.isEmpty(t.getItOnPaymentPlanModel.get("title"))||l.set("Title",t.getItOnPaymentPlanModel.get("title").trim()),Ember.isEmpty(t.getItOnPaymentPlanModel.get("firstName"))||l.set("FirstName",t.getItOnPaymentPlanModel.get("firstName").trim()),Ember.isEmpty(t.getItOnPaymentPlanModel.get("lastName"))||l.set("Surname",t.getItOnPaymentPlanModel.get("lastName").trim()),Ember.isEmpty(t.getItOnPaymentPlanModel.get("initials"))?l.set("Initial",""):l.set("Initial",t.getItOnPaymentPlanModel.get("initials")),Ember.isEmpty(t.getItOnPaymentPlanModel.get("gender"))?l.set("Gender","0"):l.set("Gender",t.getItOnPaymentPlanModel.get("gender").trim()),$.each(t.identityTypes,function(e,o){o.key===t.get("getItOnPaymentPlanModel.identitypes")&&l.set("IdentityDetailType",o.label)}),void 0!==t.getItOnPaymentPlanModel.get("dateOfBirth")&&null!==t.getItOnPaymentPlanModel.get("dateOfBirth")&&l.set("BirthDate",e.universalDateString(new Date(t.getItOnPaymentPlanModel.get("dateOfBirth")))),void 0!==t.getItOnPaymentPlanModel.get("maritalStatus")&&null!==t.getItOnPaymentPlanModel.get("maritalStatus")&&l.set("MaritalStatus",t.getItOnPaymentPlanModel.get("maritalStatus")),void 0!==t.getItOnPaymentPlanModel.get("identityDetailValue")&&null!==t.getItOnPaymentPlanModel.get("identityDetailValue")&&l.set("IdentityDetailValue",t.getItOnPaymentPlanModel.get("identityDetailValue").trim());var d=t.get("getItOnPaymentPlanModel.countryOfOrigin");$.each(t.countryOfOrigin,function(e,t){t.key==d&&(d=t.key)}),l.set("CountryOfOrigin",d);var u;return u=Ember.isEmpty(t.get("getItOnPaymentPlanModel.passportExpiryDate"))?new Date("0001-01-01"):t.get("getItOnPaymentPlanModel.passportExpiryDate"),l.set("ExpiryDate",u),void 0!==o&&null!==o&&l.set("EmploymentDetails",o),void 0!==s&&null!==t.financeDetails&&l.set("FinanceDetails",s),r},messageCreateCreditApplicationDeliveryFailure:function(e){this.hideBusyIndicator(),Komodo.UI.warn("[CreateCustomerController.messageCreateDStvCustomerDeliveryFailure] : messageId = "+e.messageId),Komodo.Controls.MessageBoxController.show(kl.value(this.localeBase+"useCaseTitle"),kl.value(this.localeBase+"messageCreateCreditApplicationDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},messageCreditApplicationCreatedReceived:function(e){var t=this;if(t.hideBusyIndicator(),null!=e&&null!=e.ResponseMessage){var o=e.ResponseMessage.Payload.CreditApplicationId;Komodo.Controls.MessageBoxController.show(kl.value(t.localeBase+"useCaseTitle"),kl.value(t.localeBase+"applicationCaptured"),Komodo.Controls.MessageBoxOkButton,t,"id5446673","success").response=function(a){var n=Komodo.Services.uiService.getController("paymentPlanApplicationDetails");n.set("processCoRelationId",e.ResponseMessage.EventMetaData.Process.CorrelationID),n.set("applicationId",o),t.transitionToRoute("/paymentPlanApplicationDetails")}}},messageReceived:function(){this.hideBusyIndicator()},messageDeliveryFailure:function(e){this.hideBusyIndicator(),Komodo.Controls.MessageBoxController.show(kl.value(this.localeBase+"useCaseTitle"),kl.value(this.localeBase+"messageCreateCreditApplicationDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},publishCreateActivity:function(){Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(e){var t=Komodo.Models.CreateInteraction.create(),o=Komodo.Models.Case.create(),a=Komodo.Services.customerProfileService.getCustomerPersonalDetail();o.set("InteracteeName",Komodo.Services.securityService.get("domainUserName").substring(3)),o.set("InteractionLocation",e.data.countryDescription),o.set("InteractionMedium","1"),o.set("CustomerUID",a.customerNo),o.set("HouseholdMemberUID","4"),o.set("ContactPerson","nilesh"),o.set("ContactPersonNumber","9800980020"),o.set("Category",3),o.set("SubCategory",13),o.set("Outcome",51),o.set("Status","1"),o.set("Notes","Updated customer information");var n=Komodo.canonicalFacadeFactory(t,["Country","Case"]);n.set("Country",e.data.countryCode),n.set("Case",o),this.publishRequestOnBus(t,"CreateInteraction","v1")})},getArrayItem:function(e){return e instanceof Array?e:[e]},messageFailureMessageEventReceived:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")},messageFault:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.Controls.MessageBoxController.show(kl.value(this.localeBase+"useCaseTitle"),kl.value(this.localeBase+"messageCreateCreditApplicationDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,6e4,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},setValues:function(e,t,o){e.set(t,o)},isEmpty:function(e){if(void 0===e)return!0;switch(e){case void 0:case"":case null:return!0;default:return!1}},actions:{calculateAffordability:function(){var e=this;Komodo.Services.securityService.hasPermission("clarity://getItOnPaymentPlanView/viewOnly")?e.set("disableCreditAppButton",!0):e.set("disableCreditAppButton",!1);var t=e.get("getItOnPaymentPlanModel.netMonthlyIncome"),o=e.get("getItOnPaymentPlanModel.netMonthlyExpenses"),a=e.get("getItOnPaymentPlanModel.debtCommitment"),n=t-o-a;e.set("getItOnPaymentPlanModel.calculateAffordabilityValue",t-o-a),0===n?Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.affordabilityHeader"),kl.value("locale.customer:getItOnPaymentPlan.affordabilityMsg1"),Komodo.Controls.MessageBoxOkButton,e,"id5446673","warning"):n<0?Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.affordabilityHeader"),kl.value("locale.customer:getItOnPaymentPlan.affordabilityMsg2"),Komodo.Controls.MessageBoxOkButton,e,"id5446673","danger"):Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.affordabilityHeader"),kl.value("locale.customer:getItOnPaymentPlan.affordabilityMsg3"),Komodo.Controls.MessageBoxOkButton,e,"id5446673","success")},addPhoneNumber:function(){this.AddPhoneNumber()},RemovePhoneNumber:function(e){var t=this;t.set("contactNumbers",$.grep(t.contactNumbers,function(t){return t.Id!==e.content.Id})),0===$.grep(t.contactNumbers,function(e){return!0===e.isPrimary}).length&&Ember.set(t.contactNumbers[0],"isPrimary",!0),t.contactNumbers.length>1?t.getItOnPaymentPlanModel.set("shouldDisableRemoveHomeButton",!1):t.getItOnPaymentPlanModel.set("shouldDisableRemoveHomeButton",!0)},captureCreditApplication:function(){var e=this;!1!==e.canSubmitData(this.getItOnPaymentPlanModel,kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),{showInModal:!0})&&e.validateContactDetails()&&e.validateAddressDetails()&&e.validateDateOfBirth()&&e.publishCaptureCreditApplication()},cancelCapture:function(){this.transitionToRoute("/home")},searchClick:function(){var e=this;if(e.preloadDebitOrderDays(),Ember.isEmpty(e.get("getItOnPaymentPlanModel.productName")))e.set("getItOnPaymentPlanModel.showPage",!1);else{e.getNewProcessID(),e.showBusyIndicator(),e.set("getItOnPaymentPlanModel.iccCustomerNumber",void 0),e.set("getItOnPaymentPlanModel.crmCentralId",void 0),e.set("getItOnPaymentPlanModel.maritalStatus",void 0),e.removeBeforeSearch(),e.set("getItOnPaymentPlanModel.addressInformation",[]),e.set("showControls",!1);var t=e.get("getItOnPaymentPlanModel.idNumber");null==e.validators.idNumberValidator.errors||0==e.validators.idNumberValidator.errors.length?(e.set("getItOnPaymentPlanModel.identityDetailValue",t),e.checkApplicationFrequency(t)):(e.hideBusyIndicator(),e.set("getItOnPaymentPlanModel.showPage",!1),Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:getItOnPaymentPlan.useCaseTitle"),kl.value("locale.customer:getItOnPaymentPlan.idNumberReq"),Komodo.Controls.MessageBoxOkButtons,e,"id5446674","danger"))}}},debitOrderDayChange:function(){var e=this;Ember.empty(e.get("debitOderDays"))||$.each(this.get("debitOderDays"),function(t,o){o.key==e.get("getItOnPaymentPlanModel.debitOrderDay")&&e.set("getItOnPaymentPlanModel.debitOrderDay",o.value.split(" ")[1])})}.observes("getItOnPaymentPlanModel.debitOrderDay1"),calculateTheAffordability:function(){var e=this;return void 0==e.get("getItOnPaymentPlanModel.netMonthlyIncome")||void 0==e.get("getItOnPaymentPlanModel.netMonthlyExpenses")||void 0==e.get("getItOnPaymentPlanModel.debtCommitment")?(e.set("getItOnPaymentPlanModel.calculateAffordabilityValue",kl.value("locale.customer:getItOnPaymentPlan.notCalculated")),e.set("getItOnPaymentPlanModel.disableCalculateButton",!0),void e.set("disableCreditAppButton",!0)):e.get("getItOnPaymentPlanModel.netMonthlyIncome").length>0&&e.get("getItOnPaymentPlanModel.netMonthlyExpenses").length>0&&e.get("getItOnPaymentPlanModel.debtCommitment").length>0?void(isNaN(e.get("getItOnPaymentPlanModel.netMonthlyIncome"))||isNaN(e.get("getItOnPaymentPlanModel.netMonthlyExpenses"))||isNaN(e.get("getItOnPaymentPlanModel.debtCommitment"))?(e.set("getItOnPaymentPlanModel.calculateAffordabilityValue",kl.value("locale.customer:getItOnPaymentPlan.notCalculated")),e.set("getItOnPaymentPlanModel.disableCalculateButton",!0),e.set("disableCreditAppButton",!0)):e.set("getItOnPaymentPlanModel.disableCalculateButton",!1)):(e.set("getItOnPaymentPlanModel.calculateAffordabilityValue",kl.value("locale.customer:getItOnPaymentPlan.notCalculated")),e.set("getItOnPaymentPlanModel.disableCalculateButton",!0),void e.set("disableCreditAppButton",!0))}.observes("getItOnPaymentPlanModel.netMonthlyIncome1","getItOnPaymentPlanModel.netMonthlyExpenses1","getItOnPaymentPlanModel.debtCommitment1"),identityTypeChanged:function(){var e=this;Ember.isEmpty(e.get("getItOnPaymentPlanModel.identitypes"))?(e.set("getItOnPaymentPlanModel.idNumberDisable",!0),e.set("getItOnPaymentPlanModel.idNumber","")):e.set("getItOnPaymentPlanModel.idNumberDisable",!1);var t=e.get("getItOnPaymentPlanModel.idNumber");if(Ember.isEmpty(t)&&(e.set("getItOnPaymentPlanModel.identityDetailValue",""),e.set("getItOnPaymentPlanModel.gender",""),e.set("getItOnPaymentPlanModel.genderDisable",!1),e.set("getItOnPaymentPlanModel.DOBDate",""),e.set("getItOnPaymentPlanModel.DOBMonth",""),e.set("getItOnPaymentPlanModel.DOBYear",""),e.set("getItOnPaymentPlanModel.DOBDateDisable",!1),e.set("getItOnPaymentPlanModel.DOBMonthDisable",!1),e.set("getItOnPaymentPlanModel.DOBYearDisable",!1),e.set("getItOnPaymentPlanModel.countryOfOriginDisable",!1),e.set("getItOnPaymentPlanModel.countryOfOriginVisible",!1),e.set("getItOnPaymentPlanModel.passportExpiryVisible",!1)),Ember.isEmpty(t)||1!=e.get("getItOnPaymentPlanModel.identitypes"))Ember.isEmpty(t)||2!=e.get("getItOnPaymentPlanModel.identitypes")||(e.set("getItOnPaymentPlanModel.identityDetailValue",e.get("getItOnPaymentPlanModel.idNumber")),e.registerValidator(e.get("getItOnPaymentPlanModel"),"identityDetailValue",{type:"string",isRequired:!0,minLength:7,maxLength:10}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"idNumber",{type:"string",isRequired:!0,minLength:7,maxLength:10}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"countryOfOrigin",{type:"string",isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"passportExpiryDate",{type:"date",isRequired:!0,functions:this.registerCustomValidation,minDate:new Date((new Date).getFullYear(),(new Date).getMonth()+24,(new Date).getDate())}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"WorkPermitExpiryDate",{type:"date",isRequired:!0,functions:this.registerCustomValidation,minDate:new Date((new Date).getFullYear(),(new Date).getMonth()+24,(new Date).getDate())}),e.set("getItOnPaymentPlanModel.gender",""),e.set("getItOnPaymentPlanModel.genderDisable",!1),e.set("getItOnPaymentPlanModel.DOBDate",""),e.set("getItOnPaymentPlanModel.DOBMonth",""),e.set("getItOnPaymentPlanModel.DOBYear",""),e.set("getItOnPaymentPlanModel.DOBDateDisable",!1),e.set("getItOnPaymentPlanModel.DOBMonthDisable",!1),e.set("getItOnPaymentPlanModel.DOBYearDisable",!1),e.set("getItOnPaymentPlanModel.countryOfOriginDisable",!1),e.set("getItOnPaymentPlanModel.countryOfOriginVisible",!0),e.set("getItOnPaymentPlanModel.passportExpiryVisible",!0));else{e.set("getItOnPaymentPlanModel.identityDetailValue",e.get("getItOnPaymentPlanModel.idNumber")),e.registerValidator(e.get("getItOnPaymentPlanModel"),"idNumber",{limitValueToType:!0,type:"number",functions:Komodo.UI.Validators.RSA_IDValidator,isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"identityDetailValue",{limitValueToType:!0,type:"number",functions:Komodo.UI.Validators.RSA_IDValidator,isRequired:!0}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"countryOfOrigin",{isRequired:!1}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"passportExpiryDate",{type:"date",isRequired:!1}),e.registerValidator(e.get("getItOnPaymentPlanModel"),"WorkPermitExpiryDate",{type:"date",isRequired:!1}),e.set("getItOnPaymentPlanModel.DOBDate",t.substring(4,6)),e.set("getItOnPaymentPlanModel.DOBMonth",t.substring(2,4)),e.set("getItOnPaymentPlanModel.DOBYear","19"+t.substring(0,2));var o=t.substring(6,7);o>=0&&o<=4?e.set("getItOnPaymentPlanModel.gender","2"):e.set("getItOnPaymentPlanModel.gender","1"),e.set("getItOnPaymentPlanModel.genderDisable",!0),e.set("getItOnPaymentPlanModel.DOBDateDisable",!0),e.set("getItOnPaymentPlanModel.DOBMonthDisable",!0),e.set("getItOnPaymentPlanModel.DOBYearDisable",!0),e.set("getItOnPaymentPlanModel.passportExpiryDate",""),e.set("getItOnPaymentPlanModel.WorkPermitExpiryDate",""),e.set("getItOnPaymentPlanModel.countryOfOrigin",""),e.set("getItOnPaymentPlanModel.countryOfOriginDisable",!0),e.set("getItOnPaymentPlanModel.countryOfOriginVisible",!1),e.set("getItOnPaymentPlanModel.passportExpiryVisible",!1)}}.observes("getItOnPaymentPlanModel.identitypes","getItOnPaymentPlanModel.idNumber"),contactNumbersChanged:function(){var e=this;e.contactNumbers.length>1?e.contactNumbers.forEach(function(e){e.set("isRemovable",!0)}):e.contactNumbers.forEach(function(e){e.set("isRemovable",!1)})}.observes("contactNumbers.length"),chechForAHVComplainBank:function(){var e=this;Ember.isEmpty(e.getItOnPaymentPlanModel.get("bank"))||e.isAHVCompliantBank(e.getItOnPaymentPlanModel.get("bank"))}.observes("getItOnPaymentPlanModel.bank"),payerIsCustomerChanged:function(){if(void 0!==this.get("getItOnPaymentPlanModel.applicantIsAccount"))switch(this.get("getItOnPaymentPlanModel.applicantIsAccount")){case!1:this.get("getItOnPaymentPlanModel.accountHoldersIDPassportNumber")==this.get("getItOnPaymentPlanModel.identityDetailValue")&&(this.setValues(this.get("getItOnPaymentPlanModel"),"emailAddressPayer",""),this.setValues(this.get("getItOnPaymentPlanModel"),"accountHoldersNameAndSurname",""),this.setValues(this.get("getItOnPaymentPlanModel"),"accountHoldersIDPassportNumber",""),this.set("getItOnPaymentPlanModel.bankingDetailsContactNumber","")),this.setValues(this.get("getItOnPaymentPlanModel"),"sameIdNumber",!1),this.setValues(this.get("getItOnPaymentPlanModel"),"samePayerNameAndSurname",!1);break;case!0:this.validators.firstNameValidator.errors.length<=0&&this.validators.lastNameValidator.errors.length<=0&&""!==this.get("getItOnPaymentPlanModel.firstName")&&""!==this.get("getItOnPaymentPlanModel.lastName")?this.setValues(this.get("getItOnPaymentPlanModel"),"accountHoldersNameAndSurname",this.get("getItOnPaymentPlanModel.firstName")+" "+this.get("getItOnPaymentPlanModel.lastName")):this.setValues(this.get("getItOnPaymentPlanModel"),"accountHoldersNameAndSurname",""),0!==this.validators.identityDetailValueValidator.length&&void 0!==this.validators.identityDetailValueValidator.length||""===this.get("getItOnPaymentPlanModel.identityDetailValue")?this.setValues(this.get("getItOnPaymentPlanModel"),"accountHoldersIDPassportNumber",""):this.setValues(this.get("getItOnPaymentPlanModel"),"accountHoldersIDPassportNumber",this.get("getItOnPaymentPlanModel.identityDetailValue")),Ember.isEmpty(this.get("getItOnPaymentPlanModel.emailAddress"))?this.setValues(this.get("getItOnPaymentPlanModel"),"emailAddressPayer",""):this.setValues(this.get("getItOnPaymentPlanModel"),"emailAddressPayer",this.get("getItOnPaymentPlanModel.emailAddress"));var e=this;e.contactNumbers.forEach(function(t){t.isPrimary&&e.set("getItOnPaymentPlanModel.bankingDetailsContactNumber",t.countryCode+(Ember.isEmpty(t.contactValue)?"":t.contactValue))}),e.setValues(e.get("getItOnPaymentPlanModel"),"sameIdNumber",!0),e.setValues(e.get("getItOnPaymentPlanModel"),"samePayerNameAndSurname",!0)}}.observes("getItOnPaymentPlanModel.applicantIsAccount","getItOnPaymentPlanModel.firstName","getItOnPaymentPlanModel.lastName","getItOnPaymentPlanModel.identityDetailValue","getItOnPaymentPlanModel.emailAddress","getItOnPaymentPlanModel.initials","contactNumbers.@each.isPrimary","contactNumbers.@each.countryCode","contactNumbers.@each.contactValue"),countContactType:function(){var e=this;e.mobileCount=0,e.homephoneCount=0,e.workPhoneCount=0,e.contactNumbers.forEach(function(t){switch(t.type){case"1":e.mobileCount++;break;case"2":e.workPhoneCount++;break;case"3":e.homephoneCount++}}),e.checkContactCount()}.observes("contactNumbers.length","contactNumbers.@each.type"),bankChanged:function(){var e=this;e.set("bankBranches",[]),Ember.set(e.getItOnPaymentPlanModel,"branchCode",void 0),e.get("getItOnPaymentPlanModel.bank")&&$.each(e.get("banks"),function(t,o){o.CanonicalKey===e.get("getItOnPaymentPlanModel.bank").CanonicalKey&&o.Branches&&o.Branches.Branch&&($.isArray(o.Branches.Branch)?$.each(o.Branches.Branch,function(t,o){e.get("bankBranches").addObject(o)}):e.get("bankBranches").addObject(o.Branches.Branch))})}.observes("getItOnPaymentPlanModel.bank"),questionChecked:function(){var e=this;return e.get("getItOnPaymentPlanModel.qns1")&&e.get("getItOnPaymentPlanModel.qns2")&&e.get("getItOnPaymentPlanModel.qns3")&&e.get("getItOnPaymentPlanModel.qns4")?void e.set("getItOnPaymentPlanModel.checkAllQns",!1):(e.set("getItOnPaymentPlanModel.checkAllQns",!0),void e.set("getItOnPaymentPlanModel.idNumber",""))}.observes("getItOnPaymentPlanModel.qns4","getItOnPaymentPlanModel.qns3","getItOnPaymentPlanModel.qns2","getItOnPaymentPlanModel.qns1"),mobileNumberObserverForValidation:function(){for(var e=0;e<this.contactNumbers.length;e++){var t=this.contactNumbers[e].contactValue;void 0!=this.contactNumbers[e].contactValue&&0==t.charAt(0)&&(t=t.replace(/^0+/,""),this.contactNumbers[e].set("contactValue",t))}}.observes("contactNumbers.@each.contactValue"),disableDODForExistingCustomer:!1,countries:[],provinces:[],cities:[],suburbs:[],postalCodes:[],languages:[],countriesOfOrigin:[],banks:[],bankBranches:[],idTypes:[],communicationMethods:[],addressTypes:[],methodsOfPayment:[],contactNumbers:[],contactNumbersPayer:[],countryDescription:void 0,emails:[],quoteDialingCode:void 0,methodOfPayment:[],_titles:[],_gender:[],_productName:[],_yearsAtBank:[],_yearsAtAddress:[],_employmentStatus:[],_noOfDependent:[],_maritalStatus:[],_yearsAtJob:[],localeBase:"locale.customer:getItOnPaymentPlan.",isAllowToTransactDisabled:!1,isLocationIndicatorVisible:!1,submitCustomerDetails:null,countrySelection:void 0,postalSameAsPhysical:!1,showSameAsPhysical:!1,mobileCount:0,totalMobileCount:0,totalAddressCount:0,homephoneCount:0,workPhoneCount:0,MAXIMUM_CONTACT_PER_TYPE:4,debitOrderDay:void 0,disablePayer:!1,dialingCode:void 0,nameRegularExpression:"^[a-zA-Z]+[ ]?[a-zA-Z]*[ ]?[a-zA-Z]*$/",physicalAddress:!0,tempdate:void 0,isAddButtonDisable:!0,paymentType:void 0,disableCreateCustomerButton:!1,dateArray:[],monthArray:[],yearArray:[],dateArrayDOB:[],monthArrayDOB:[],yearArrayDOB:[],debitOderDays:[],identityTypes:[],countryOfOrigin:[],_datePast:void 0,disableCreditAppButton:!0,showControls:!1,contactDetailsBeforeChange:[],contactDetailsAfterChange:[],listOfContactPrimaries:[],multipleCustomer:[],customerInfo:[],oldBankingDetails:void 0,isPaymentDetailsChanges:!1,residentialStatuses:[],bankIsCompliant:!1,mobileCode:[]}),Komodo.Application.SpecialistCustomerController=Komodo.UI.Controller.extend({needs:["genericPayment"],supervisorClaim:["clarity://createCustomer/supervisor"],init:function(){var e=this;e.set("processVersion","v1.1"),e.set("processName","Create Customer process"),Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.userLoggedIn,e,e.initialiseData),e.initialiseData(),e._super()},start:function(){var e=this;e.getStaticCDMData().done(function(){e.set("phoneNumber",Komodo.Models.CreateCustomerNamespace.ContactInformation.create()),e.set("email",Komodo.Models.CreateCustomerNamespace.ContactEmail.create()),e.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.set("householdMemberAndAuthority",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.setDefaults(),e.set("customerDataModel.hideFinInfo",!0),e.acceptTermAndConditionChanged(),e.set("disableCreateCustomerButton",!1),e.set("paymentDetails.payerIsCustomer",!0),Komodo.Services.featureToggleService.isEnabled("SAClarityRoles","RolesAndPermissions").done(function(t){switch(t){case!0:Komodo.Services.securityService.hasPermission(e.accessOnlyEmployee)?(e.get("_customerTypes").forEach(function(t){switch(t.CanonicalKey){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES"):e.get("employeeCustType").pushObject(t)}}),e.get("_customerTypes").clear(),e.set("_customerTypes",e.get("employeeCustType"))):Komodo.Services.securityService.hasPermission(e.accessOnlypanelist)&&(e.get("_customerTypes").forEach(function(t){switch(t.CanonicalKey){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST"):e.get("vipCustType").pushObject(t),e.set("customerDataModel.custType",t)}}),e.get("_customerTypes").clear(),e.set("_customerTypes",e.get("vipCustType")))}}).fail(function(e){Komodo.Services.log("Error while checking permissions. Error Details:"+e)})}).fail(function(){Komodo.error("[ERROR] : populateHierachicalCDMDataSet")}),Komodo.Services.featureToggleService.isEnabled("specialistCustomer","HidePaymentDetailsForSalesPromoter").done(function(t){switch(t){case!0:e.set("isHidePaymentDetailsForSalesPromoter",!0);break;default:e.set("isHidePaymentDetailsForSalesPromoter",!1)}}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),e._super()},getValueFromConstant:function(e,t){return Komodo.Services.CustomerService.getValueFromConstant(e,t)},destroy:function(){var e=this;Komodo.Services.eventAggregator.unsubscribe(Komodo.EventNames.userLoggedIn,e,e.initialiseData),e._super()},initialiseData:function(){var e=this;e.dataGridColumnAuthorityDelegation=[Komodo.Controls.DataGridColumn.create({name:"fullname",title:kl.value(e.localeBase+"fullname")}),Komodo.Controls.DataGridColumn.create({name:"identityDetailValueHouseholdMemberAndAuthority",title:kl.value(e.localeBase+"identityDetailValue")}),Komodo.Controls.DataGridColumn.create({name:"relation",title:kl.value(e.localeBase+"role")}),Komodo.Controls.DataGridColumn.create({name:"allowToTransactInfo",title:kl.value(e.localeBase+"allowToTransactInfo")}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"editButton"),displayText:kl.value(e.localeBase+"editButton"),width:"30px",action:"editAuthorityDelegationGridItem",displayType:"link"}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"delete"),displayText:kl.value(e.localeBase+"delete"),width:"30px",action:"deleteAuthorityDelegationGridItem",displayType:"link"})],e.dataGridColumnsHouseholdMemberAndAuthority=[Komodo.Controls.DataGridColumn.create({name:"fullname",title:kl.value(e.localeBase+"fullname")}),Komodo.Controls.DataGridColumn.create({name:"identityDetailValueHouseholdMemberAndAuthority",title:kl.value(e.localeBase+"identityDetailValue")}),Komodo.Controls.DataGridColumn.create({name:"relation",title:kl.value(e.localeBase+"relation")}),Komodo.Controls.DataGridColumn.create({name:"householdMemberInfo",title:kl.value(e.localeBase+"householdMemberInfo")}),Komodo.Controls.DataGridColumn.create({name:"allowToTransactInfo",title:kl.value(e.localeBase+"allowToTransactInfo")}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"editButton"),displayText:kl.value(e.localeBase+"editButton"),width:"30px",action:"editAuthorityDelegationGridItem",displayType:"link"}),Komodo.Controls.DataGridCommandColumn.create({title:kl.value(e.localeBase+"delete"),displayText:kl.value(e.localeBase+"delete"),width:"30px",action:"deleteAuthorityDelegationGridItem",displayType:"link"})],e.registerModel("customerDataModel",Komodo.Models.CreateCustomerNamespace.SpecialistCustomerModel),e.registerModel("householdMemberAndAuthority",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority),e.set("householdMemberAndAuthority",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),e.set("paymentType",Komodo.MOP.DEBIT_ORDER),e.set("customerDataModel.hideFinInfo",!0),e.set("customerDataModel.viewingPlatform","1"),e.loadDateDOB(),e.loadMonthDOB(),e.loadYearDOB(),e.loadDate(),e.loadMonth(),e.loadYear(!0),e.set("disableCreateCustomerButton",!0),e.set("customerDataModel.identityDetailType","1"),e.set("householdMemberAndAuthority.householdMemberInfo",void 0)},createNewGridItemHoldMemberAndAuthority:function(){return this.set("newHoldMemberAndAuthorityGriditem",Komodo.Models.CreateCustomerNamespace.HouseholdMemberAndAuthority.create()),!0},setDefaults:function(){var e=this;e.set("isPostal",!1),e.set("customerDataModel.isAddMobileButton",!1),e.set("customerDataModel.isAddWorkContactButton",!1),e.set("customerDataModel.isAddHomePhoneButton",!1),e.set("customerDataModel.isAddEmailButton",!1),e.set("customerDataModel.isIDFieldDisabled",!1),e.set("customerDataModel.contactInformation",[]),e.set("customerDataModel.addressInformation",[]),e.set("customerDataModel.householdMemberAndAuthority",[]),e.set("customerDataModel.isMethodOfCommunicationDisabled",!0),e.set("customerDataModel.viewingPlatform","1"),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableRealtimeAHVProcess").done(function(t){e.set("_enableRealtimeAHVProcess",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateCustomer","IsSingleBusinessUnit").done(function(t){switch(t){case!0:e.set("viewingPlatformlabel",kl.value(e.localeBase+"viewingPlatformSA")),e.set("hideViewingPlatform",!0);break;default:
e.set("viewingPlatformlabel",kl.value(e.localeBase+"viewingPlatform")),e.set("hideViewingPlatform",!1)}}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","IsDateOfBirthEnable").done(function(t){e.set("_isDateOfBirthEnable",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","IsIdentificationNumberRequire").done(function(t){e.set("customerDataModel.isIdentificationNumberRequire",t),e.set("paymentDetails.isIdentificationNumberRequire",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),e.set("methodOfPayment",[]),e.set("customerDataModel.methodOfPayment",void 0),e.setDataFromQuoteToCustomer()},setDataFromQuoteToCustomer:function(){var e=this;void 0!==e.get("firstNameFromQuote")&&e.set("customerDataModel.firstName",e.get("firstNameFromQuote")),void 0!==e.get("lastNameFromQuote")&&e.set("customerDataModel.lastName",e.get("lastNameFromQuote")),void 0!==e.get("leadUidFromQuote")&&e.set("customerDataModel.leadUid",e.get("leadUidFromQuote"))},registerValidation:function(){var that=this;that.registerValidator(that.get("customerDataModel"),"firstName",{type:"string",isRequired:!0,minLength:1,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator}),that.registerValidator(that.get("customerDataModel"),"lastName",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator}),that.registerValidator(that.get("customerDataModel"),"title",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"custType",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"position",{type:"string",isRequired:!0,minLength:2,maxLength:50,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),that.registerValidator(that.get("customerDataModel"),"companyName",{type:"string",isRequired:!0,minLength:2,maxLength:50,functions:Komodo.UI.Validators.nameValidator}),that.registerValidator(that.get("customerDataModel"),"locationIndicator",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"employmentType",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"businessName",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"customerNo",{type:"string",minLength:1,maxLength:7,functions:Komodo.UI.Validators.numericValidator}),that.registerValidator(that.get("customerDataModel"),"passportExpiryDate",{type:"date",minDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())}),that.registerValidator(that.get("customerDataModel"),"countryOfOrigin",{type:"string"}),!0===that.get("customerDataModel.isIdentificationNumberRequire")&&(that.registerValidator(that.get("customerDataModel"),"identityDetailType",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:that.get("identificationMinLength"),maxLength:that.get("identificationMaxLength"),functions:!0===that.get("_enableIdVerification")?Komodo.UI.Validators.SAIdValidator:Komodo.Services.queryService.getSelectedCountryId()===that.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator]})),that.registerValidator(that.get("customerDataModel"),"companyRegNo",{type:"string",isRequired:!0,minLength:2,maxLength:50,functions:Komodo.UI.Validators.alphanumericValidatorExtended}),that.registerValidator(that.get("customerDataModel"),"demoType",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"viewingPlatform",{type:"string"}),that.registerValidator(that.get("customerDataModel"),"language",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"sponsor",{type:"string",isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"homeEquipment",{type:"string",minLength:2,maxLength:256,functions:Komodo.UI.Validators.addressLineItemValidator}),that.registerValidator(that.get("customerDataModel"),"acceptMarketingInfo",{type:"string",displayName:kl.value(that.localeBase+"canWeSendMarketingVlidationText"),isRequired:!0}),that.registerValidator(that.get("customerDataModel"),"methodOfCommunication",{type:"string",isRequired:!1,displayName:kl.value(that.localeBase+"CommunicationMethod")}),that.registerValidator(that.get("customerDataModel"),"isAcceptTermAndCondition",{type:"bool",defaultValue:!1}),that.registerValidator(that.get("customerDataModel"),"acceptTermAndCondition",{type:"bool",displayName:kl.value(that.localeBase+"acceptTermAndCondition")}),that.registerValidator(that.get("householdMemberAndAuthority"),"allowToTransactInfo",{type:"string",isRequired:!0}),that.registerValidator(that.get("householdMemberAndAuthority"),"firstNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),that.registerValidator(that.get("householdMemberAndAuthority"),"lastNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),that.registerValidator(that.get("householdMemberAndAuthority"),"householdMemberInfo",{type:"string",isRequired:!0}),that.registerValidator(that.get("householdMemberAndAuthority"),"cDateOfBirth",{type:"date"}),void 0!=that.get("_customerTypeSelected")&&(that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE")||that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE")||that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS")||that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES")||that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST")?(that.registerValidator(that.get("householdMemberAndAuthority"),"relation",{type:"string",displayName:kl.value(that.localeBase+"relation")}),!0===that.get("customerDataModel.isIdentificationNumberRequire")&&(that.registerValidator(that.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailTypeHouseholdMemberAndAuthority"}),that.registerValidator(that.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:that.get("identificationMinLength"),maxLength:that.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}))):(that.registerValidator(that.get("householdMemberAndAuthority"),"relation",{type:"string",isRequired:!0,minLength:2,maxLength:50,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),!0===that.get("customerDataModel.isIdentificationNumberRequire")&&(that.registerValidator(that.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailTypeHouseholdMemberAndAuthority"}),that.registerValidator(that.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:that.get("identificationMinLength"),maxLength:that.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}))),that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO")||that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MONITORING")||that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE")?that.registerValidator(that.get("customerDataModel"),"department",{type:"string",isRequired:!0}):that.registerValidator(that.get("customerDataModel"),"department",{type:"string"}),that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE")||that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE")||that.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS")?that.registerValidator(that.get("customerDataModel"),"employeeNo",{type:"string",isRequired:!0,minLength:1,maxLength:that.get("employeenoMaxLength"),functions:eval(that.get("employeenoValidator"))}):that.registerValidator(that.get("customerDataModel"),"employeeNo",{type:"string",minLength:1,maxLength:that.get("employeenoMaxLength"),functions:eval(that.get("employeenoValidator"))}))},fillCompanyNameDropDown:function(){var e=this;if(void 0!==e.get("_customerTypeSelected")){var t={domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()};switch(e.get("_customerTypeSelected")){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES"):Komodo.Services.cachedDataService.fetch("EstablishmentTypeBusinessNameRelationship",t).done(function(t){var o=JSON.parse(t).CustomerTypes.CustomerType;$.each(o,function(t,o){o.CanonicalKey===e.get("_customerTypeSelected")&&(e.get("_businessNames").clear(),$.each($.makeArray(o.EstablishmentTypes.EstablishmentType),function(t,o){o.CanonicalKey===e.get("customerDataModel.locationIndicator").CanonicalKey&&$.each($.makeArray(o.BusinessNames.BusinessName),function(t,o){var a={key:o.CanonicalKey,value:o.CanonicalValue};e.get("_businessNames").addObject(a)})}))})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for BusinessName")});break;default:Komodo.Services.cachedDataService.fetch("BusinessName",t).done(function(t){e.get("_businessNames").clear(),$.each(t,function(t,o){e.get("_businessNames").addObject(o)})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for BusinessName")})}}},showForms:function(){var e=this;e.set("_customerTypeSelected",void 0),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX")),e.set("employeenoMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.EMPLOYEENOMAX")),e.set("employeenoValidator",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.EMPLOYEENOVALIDATOR")),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableIdVerification").done(function(t){e.set("isDOBDisabled",t),e.set("isHouseholdMemberAndAuthorityDOBDisabled",t),e.set("_enableIdVerification",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateSpecialistCustomer","IsDefaultEmployee").done(function(t){switch(t){case!0:void 0!=e.get("customerDataModel.custType")?e.set("_customerTypeSelected",e.get("customerDataModel.custType.CanonicalKey")):e.set("_customerTypeSelected",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE"));break;default:Komodo.Services.securityService.hasPermission(e.accessOnlypanelist)?e.set("_customerTypeSelected",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST")):void 0!=e.get("customerDataModel.custType")?e.set("_customerTypeSelected",e.get("customerDataModel.custType.CanonicalKey")):e.set("_customerTypeSelected",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"))}}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("SpecialistCustomer","BenefitEndDate").done(function(t){switch(t){case!0:e.set("isBenifitEndDateVisible",!0),e.registerValidator(e.get("customerDataModel"),"benefitEndDate",{type:"date",isRequired:!0,functions:Komodo.UI.Validators.dateValidator});break;default:e.set("isBenifitEndDateVisible",!1),e.removeDependentProperty("benefitEndDateValidator")}}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateCustomer","IsIPDayDisabled").done(function(t){e.set("isIPDayDefaultAndDisable",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),e.clearFormData(),e.clearContactInformation(),e.registerValidation(),e.bindFlags();var t=[{value:Komodo.MOP.DEBIT_ORDER,title:kl.value(e._localeBase+"debitOrder")},{value:Komodo.MOP.CASH,title:kl.value(e._localeBase+"cash")}];Komodo.MOP.DEBIT_ORDER,kl.value(e._localeBase+"debitOrder");switch(e.get("paymentTypesList").clear(),e.set("paymentType",Komodo.MOP.DEBIT_ORDER),e.set("defaultDayShow",void 0),e.set("startIPDayWithOne",!1),e.set("paymentDetails.debitOrderDay",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DEFAULT_IP_DAY")),e.get("_customerTypeSelected")){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.VIP"):e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("customerDataModel.hideVIP",!0);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DIPLOMAT"):e.set("paymentTypesList",t),e.set("customerDataModel.hideDiplomat",!0),e.set("customerDataModel.hideAdditionalInformationFinance",!0),e.get("isIPDayDefaultAndDisable")&&(e.set("startIPDayWithOne",!0),e.set("disablePaymentDay",!0),e.set("defaultDayShow",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DEFAULT_IP_DAY")));break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.SHAREHOLDERS"):e.set("paymentTypesList",t),e.set("customerDataModel.hideShareholder",!0),e.set("customerDataModel.hideAdditionalInformationFinance",!0),e.set("startIPDayWithOne",!0);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE"):e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("customerDataModel.hideEmployee",!0),e.set("customerDataModel.hideHouseHoldAuthInformation",!0);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.SALES_PROMOTERS"):e.set("customerDataModel.hideSalesPromoter",!0),!0!==e.get("isHidePaymentDetailsForSalesPromoter")?(e.set("customerDataModel.hideAdditionalInformationFinance",!0),e.set("startIPDayWithOne",!0),e.set("paymentTypesList",t)):e.set("paymentDetails.paymentType",Komodo.MOP.CASH);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO"):e.set("_floorBinding",!0),e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("customerDataModel.hideInternalDemo",!0),e.set("customerDataModel.hideDelegateAuthInformation",!0),e.set("householdMemberAndAuthority.isAuthorityInfoVisible",!0);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO"):e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("customerDataModel.hideExternalDemo",!0),e.set("customerDataModel.hideDelegateAuthInformation",!0),e.set("householdMemberAndAuthority.isAuthorityInfoVisible",!0);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"):e.set("disableMOP",!0),e.set("disablePaymentDay",!0),e.set("defaultDayShow",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE_IP_DAY")),e.set("customerDataModel.hideMultichoice",!0),e.set("customerDataModel.hideAdditionalInformationFinance",!0),e.set("customerDataModel.hideHouseHoldAuthInformation",!0);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS"):e.set("disableMOP",!0),e.set("disablePaymentDay",!0),e.set("defaultDayShow",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS_IP_DAY")),e.set("customerDataModel.hideNaspers",!0),e.set("customerDataModel.hideAdditionalInformationFinance",!0),e.set("customerDataModel.hideHouseHoldAuthInformation",!0);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES"):e.set("disableMOP",!0),e.set("paymentTypesList",t),e.set("customerDataModel.hideAgencies",!0),e.set("customerDataModel.hideAdditionalInformationFinance",!0),e.set("customerDataModel.hideHouseHoldAuthInformation",!0),e.set("disablePaymentDay",!0),e.set("defaultDayShow",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEETHIRDPARTY_IP_DAY"));break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST"):e.set("emailRequired",!1),e.set("paymentTypesList",t),e.set("customerDataModel.hidePanelist",!0),e.set("customerDataModel.hideAdditionalInformationFinance",!0),e.set("customerDataModel.hideHouseHoldAuthInformation",!0),e.set("startIPDayWithOne",!0),e.get("isIPDayDefaultAndDisable")&&(e.set("disablePaymentDay",!0),e.set("defaultDayShow",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DEFAULT_IP_DAY")));break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.FIELD_TRIALS"):e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("customerDataModel.hideFieldTrialist",!0),e.removeDependentProperty("languageValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MONITORING"):e.set("_floorBinding",!0),e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("customerDataModel.hideMonitoring",!0),e.set("customerDataModel.hideDelegateAuthInformation",!0),e.set("householdMemberAndAuthority.isAuthorityInfoVisible",!0);break;default:e.set("customerDataModel.hideSubmitButton",!1)}!1===e.get("customerDataModel.isIdentificationNumberRequire")?e.set("customerDataModel.identityDetailType",void 0):e.set("customerDataModel.identityDetailType","1"),e.set("customerDataModel.acceptMarketingInfo","1"),e.customerDataModel.set("isBenefitEndDtDisabled",!1),e.set("paymentDetails.payerIsCustomer",!0),e.createNewGridItemHoldMemberAndAuthority()}.observes("customerDataModel.custType.@each"),getStaticCDMData:function(){var e=this,t=$.Deferred(),o={domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()};return e.set("countryDescription",Komodo.Services.uiService.getController("application").get("_selectedCountryDescription")),Komodo.Services.cachedDataService.fetch("Title",o).done(function(a){e.get("paymentTypesList").clear(),e.paymentTypesList=e.get("customerDataModel.paymentTypeList"),e.get("_titles").clear(),a=a.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),$.each(a,function(t,o){e.get("_titles").addObject(o)}),Komodo.Services.cachedDataService.fetch("CountryOfOrigin",o).done(function(a){e.get("countriesOfOrigin").clear(),$.each(a,function(t,o){e.get("countriesOfOrigin").addObject(o)}),Komodo.Services.cachedDataService.fetch("IDType",o).done(function(a){e.get("idTypes").clear(),$.each(a,function(t,o){e.get("idTypes").addObject(o)}),Komodo.Services.cachedDataService.fetch("CountryDetail",o).done(function(a){var n=JSON.parse(a);e.get("mobileCode").clear(),$.each(n.Countries.Country,function(t,o){e.get("mobileCode").addObject(o)}),e.dialingCode=$.grep(e.get("mobileCode"),function(t){return t.CanonicalValue.indexOf(e.get("countryDescription"))>=0}),Komodo.Services.cachedDataService.fetch("Location",o).done(function(a){var n=JSON.parse(a);e.get("countries").clear(),$.each($.makeArray(n.Countries.Country),function(t,o){e.get("countries").addObject(o)}),Komodo.Services.cachedDataService.fetch("Country").done(function(a){e.set("isoData",[]),e.set("isoData",a);var n=void 0,s=void 0;!e.isoData instanceof Array&&(e.isoData=[e.isoData]),e.get("isoData").forEach(function(e){o.domain===e.key&&(n=e.key,s=e.value)}),void 0!=n&&(e.set("loggedInCountryId",n),e.set("country",s)),Komodo.Services.cachedDataService.fetch("Sponsor",o).done(function(a){e.get("sponsors").clear(),$.each(a,function(t,o){e.get("sponsors").addObject(o)}),Komodo.Services.cachedDataService.fetch("MethodOfPayment",o).done(function(a){e.get("methodsOfPaymentCanonical").clear(),$.each(a,function(t,o){e.get("methodsOfPaymentCanonical").addObject(o)}),Komodo.Services.cachedDataService.fetch("BankAccountType",o).done(function(a){e.get("methodsOfPayment").clear(),$.each(a,function(t,o){e.get("methodsOfPayment").addObject(o)}),Komodo.Services.cachedDataService.fetch("BankDetail",o).done(function(a){var n=JSON.parse(a);e.get("banks").clear(),$.each(n.Banks.Bank,function(t,o){e.get("banks").addObject(o)}),Komodo.Services.cachedDataService.fetch("Department",o).done(function(a){e.get("_departments").clear(),$.each(a,function(t,o){e.get("_departments").addObject(o)}),Komodo.Services.cachedDataService.fetch("HouseholdMemberRelation",o).done(function(a){e.get("_householdMemberRelation").clear(),$.each(a,function(t,o){e.get("_householdMemberRelation").addObject(o)}),Komodo.Services.cachedDataService.fetch("CommunicationLanguage",o).done(function(a){e.get("languages").clear(),$.each(a,function(t,o){e.get("languages").addObject(o)}),Komodo.Services.cachedDataService.fetch("CommunicationMethod",o).done(function(a){e.get("communicationMethods").clear(),$.each(a,function(t,o){"1"!==o.value&&e.get("communicationMethods").addObject(o)}),Komodo.Services.cachedDataService.fetch("CustomerType",o).done(function(a){e.get("customertype").clear(),e.set("locationIndicatorInternalDemo",a),Komodo.Services.cachedDataService.fetch("InvoiceDay",o).done(function(o){e.get("debitOderDays").clear(),o=o.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),e.set("debitOderDays",$.grep(o,function(e){return"29"!==e.key})),Komodo.Services.cachedDataService.fetch("EstablishmentTypeRelationship",{domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()}).done(function(t){var o=JSON.parse(t);e.get("locationIndicatorInternalDemo").clear(),e.get("demoTypes").clear(),e.get("locationIndicatorsVIP").clear(),e.get("locationIndicatorsDiplomat").clear(),e.get("locationIndicatorsShareholders").clear(),e.get("locationIndicatorSalesPromoter").clear(),e.get("locationIndicatorsMultichoice").clear(),e.get("locationIndicatorsNaspers").clear(),e.get("locationIndicatorsAgencies").clear(),e.get("locationIndicatorsPanelist").clear(),e.get("locationIndicatorsFieldTrialist").clear(),e.get("locationIndicatorMonitoring").clear(),e.get("employmentTypes").clear(),e.get("_customerTypes").clear(),$.each($.makeArray(o.CustomerClasses.CustomerClass),function(t,o){"Specialist"===o.CanonicalValue&&$.each($.makeArray(o.CustomerTypes.CustomerType),function(t,o){o.CanonicalKey!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE_RELATED")&&e.get("_customerTypes").addObject(o),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO")&&e.set("locationIndicatorInternalDemo",$.makeArray(o.EstablishmentTypes.EstablishmentType)),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MONITORING")&&e.set("locationIndicatorMonitoring",$.makeArray(o.EstablishmentTypes.EstablishmentType)),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO")&&e.set("demoTypes",$.makeArray(o.EstablishmentTypes.EstablishmentType)),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.VIP")&&e.set("locationIndicatorsVIP",$.makeArray(o.EstablishmentTypes.EstablishmentType)),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DIPLOMAT")&&(void 0===o.EstablishmentTypes.EstablishmentType.length?e.get("locationIndicatorsDiplomat").addObject(o.EstablishmentTypes.EstablishmentType):e.set("locationIndicatorsDiplomat",$.makeArray(o.EstablishmentTypes.EstablishmentType))),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.SHAREHOLDERS")&&e.set("locationIndicatorsShareholders",$.makeArray(o.EstablishmentTypes.EstablishmentType)),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE")&&$.each($.makeArray(o.EstablishmentTypes.EstablishmentType),function(t,a){a.CanonicalKey!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.FAMILY_MEMBER")&&e.get("employmentTypes").addObject(a),Komodo.Services.featureToggleService.isEnabled("CreateSpecialistCustomer","IsDefaultEmployee").done(function(t){switch(t){case!0:void 0===e.get("customerDataModel.custType")&&(e.set("_customerTypeSelected",void 0),e._customerTypeSelected=e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE"),e.set("customerDataModel.custType",o))}}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)})}),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.SALES_PROMOTERS")&&e.set("locationIndicatorSalesPromoter",$.makeArray(o.EstablishmentTypes.EstablishmentType)),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE")&&$.each($.makeArray(o.EstablishmentTypes.EstablishmentType),function(t,a){e.get("locationIndicatorsMultichoice").addObject(a),Komodo.Services.featureToggleService.isEnabled("CreateSpecialistCustomer","IsDefaultEmployee").done(function(t){switch(t){case!1:void 0===e.get("customerDataModel.custType")&&(e.set("_customerTypeSelected",void 0),e._customerTypeSelected=e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"),e.set("customerDataModel.custType",o))}}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)})}),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS")&&$.each($.makeArray(o.EstablishmentTypes.EstablishmentType),function(t,o){e.get("locationIndicatorsNaspers").addObject(o)}),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES")&&$.each($.makeArray(o.EstablishmentTypes.EstablishmentType),function(t,o){e.get("locationIndicatorsAgencies").addObject(o)}),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST")&&$.each($.makeArray(o.EstablishmentTypes.EstablishmentType),function(t,o){e.get("locationIndicatorsPanelist").addObject(o)}),o.CanonicalKey===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.FIELD_TRIALS")&&$.each($.makeArray(o.EstablishmentTypes.EstablishmentType),function(t,o){e.get("locationIndicatorsFieldTrialist").addObject(o)})})}),Komodo.Services.cachedDataService.fetch("CaseOutcome").done(function(t){e.set("caseOutcome",t)})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for EstablishmentTypeRelationship")}),t.resolve(!0)}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for DebitOrderDay")})}).fail(function(){Komodo.error("could not retrieve customertype")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CommunicationMethod")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CommunicationLanguage")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for HouseholdMemberRelation")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for Departments")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for BankDetail")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for MethodOfPayment")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for MethodOfPayment")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for Sponsors")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CountryISO")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for Countries")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CountryDetail")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for IDType")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CountryOfOrigin")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for Title")}),t},createDependentProperty:function(e,t){var o=this;t.forEach(function(t){void 0!==o.get("validators."+e)&&o.get("validators."+e).functions.addObject(t)}),void 0!==o.get("validators."+e)&&o.get("validators."+e).validate()},removeDependentProperty:function(e){var t=this;if(void 0!==t.get("validators."+e)&&void 0!==t.get("validators."+e)){t.get("validators."+e).functions.clear();try{t.get("validators."+e).validate()}catch(e){Komodo.error("[ERROR] : "+e.message)}}},stop:function(){var e=this;e.get("contactNumbers").clear(),e.get("emails").clear(),e.set("customerDataModel.methodOfPayment",void 0),e.set("_customerTypeSelected",void 0),e.set("customerDataModel.custType",void 0),e.set("customerDataModel.customerDocuments",[]),e.set("loggedInCountryId",void 0),e.set("customerDataModel.payerIsCustomer",void 0),e.set(e.get("mobileCode"),[]),e.set(e.get("customertype"),[])
;var t=["_titles","countriesOfOrigin","idTypes","addressTypes","countries","sponsors","methodsOfPayment","banks","_departments","_householdMemberRelation","languages","_businessNames","debitOderDays","locationIndicatorInternalDemo","demoTypes","locationIndicatorsVIP","locationIndicatorsDiplomat","locationIndicatorsShareholders","locationIndicatorsShareholders","employmentTypes","_customerTypes","contactDetailType","locationIndicatorsPanelist","paymentTypesList","communicationMethods","locationIndicatorsFieldTrialist","employeeCustType","vipCustType","employeeVIPCustType","locationIndicatorMonitoring","PaymentDetailsModel"];t.forEach(function(t){e.set(t,[])},t),e._super()},loadDate:function(){var e=this;e.get("dateArray").clear(),e.get("dateArrayDOB").clear();for(var t=1;t<32;t++)e.get("dateArray").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)}),e.get("dateArrayDOB").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadMonth:function(){var e=this;e.get("monthArray").clear(),e.get("monthArrayDOB").clear();for(var t=1;t<13;t++)e.get("monthArray").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)}),e.get("monthArrayDOB").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadYear:function(e){var t=this;t.get("yearArray").clear();var o=(new Date).getFullYear();e&&(o-=18);for(var a=o;a>o-97;a--)t.get("yearArray").addObject({label:a.toString(),value:a})},loadDateDOB:function(){var e=this;e.get("dateArrayDOB").clear();for(var t=1;t<32;t++)e.get("dateArrayDOB").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadMonthDOB:function(){var e=this;e.get("monthArrayDOB").clear();for(var t=1;t<13;t++)e.get("monthArrayDOB").addObject({label:("0"+t.toString()).slice(-2),value:("0"+t.toString()).slice(-2)})},loadYearDOB:function(){var e=this;e.get("yearArrayDOB").clear();var t=(new Date).getFullYear();t-=18;for(var o=t;o>t-97;o--)e.get("yearArrayDOB").addObject({label:o.toString(),value:o})},isDateValid:function(e){var t=/^(\d{1,2})(\/|-)(\d{1,2})\2(\d{2}|\d{4})$/,o=e.match(t);if(null===o)return!1;var a=o[1],n=o[3],s=o[4];if(a<1||a>12)return!1;if(n<1||n>31)return!1;if((4===a||6===a||9===a||11===a)&&31===n)return!1;if(2===a){var i=s%4==0&&(s%100!=0||s%400==0);if(n>29||29===n&&!i)return!1}return!0},uploadCustomerDocuments:function(){var e=this;if(1==e.get("paymentDetails.rejectAHV")&&e.get("_enableRealtimeAHVProcess")&&e.set("documentsVerified",!1),1==e.get("paymentDetails.ahvOverride")&&e.get("_enableRealtimeAHVProcess")&&e.set("documentsVerified",!0),e.get("_enableRealtimeAHVProcess")&&!0===e.get("documentsVerified")?e.publishCreateInteraction(5,e.customerId,5,290,843,1,4,!0):e.get("_enableRealtimeAHVProcess")&&!1===e.get("documentsVerified")&&e.publishCreateInteraction(5,e.customerId,5,290,842,1,4,!0),e.set("documentsVerified",void 0),e.get("paymentDetails.allowDocumentUploads")&&e.get("customerId")&&!e.get("logDocumentCase"))return $(e.fileUploader.files).each(function(e,t){2!==t.status&&4!==t.status||(t.status=1)}),e.fileUploader.uploadCanceled=!1,e.fileUploader.start(),!1;e.get("logDocumentCase")&&e.get("customerId")?(e.publishCreateInteraction(1,e.customerId,3,133,563,3,2,void 0),e.customerCreatedredirect()):e.customerCreatedredirect()},validateDetailsAndCreateCustomer:function(){var e=this,t=!1;if(e.set("logDocumentCase",!1),!Ember.isEmpty(e.get("customerDataModel.customerDocuments"))&&$.grep(e.get("customerDataModel.customerDocuments"),function(e){return Ember.isEmpty(e.documentType)}).length>0)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value(e.localeBase+"documentTypeBlank"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");if(e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.get("paymentDetails.allowDocumentUploads")&&!Ember.isEmpty(e.fileUploader)&&0===e.fileUploader.files.length){Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value(e.localeBase+"documentsNotAttached"),Komodo.Controls.MessageBoxAcceptDeclineButtons,e,"id5446673","").response=function(t){"accept"===t&&(0==e.get("disableMOP")?(e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("logDocumentCase",!0)):(e.set("paymentDetails.paymentType",Komodo.MOP.DEBIT_ORDER),e.set("logDocumentCase",!1)))}}else{if(e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.get("paymentDetails.allowDocumentUploads")&&!Ember.isEmpty(e.fileUploader)&&0===e.fileUploader.files.length)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value(e.localeBase+"documentsNotAllAttached"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");if(!Ember.isEmpty(e.get("customerDataModel.customerDocuments"))&&e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.get("paymentDetails.allowDocumentUploads")){var o="";if($.grep(e.get("customerDataModel.customerDocuments"),function(e){return"Copy of ID"===e.documentType}).length>=1||(o+=", Copy of ID"),$.grep(e.get("customerDataModel.customerDocuments"),function(e){return"Bank Statement"===e.documentType}).length>=1||(o+=", Bank Statement"),!1===e.get("paymentDetails.payerIsCustomer")&&($.grep(e.get("customerDataModel.customerDocuments"),function(e){return"Third Party Deduction Authorisation Form"===e.documentType}).length>=1||(o+=", Third Party Deduction Authorisation Form")),""!==o){var a=kl.value("locale.customer:customerInformation.documentsAttachedMessage",{documentTypes:o.replace(/(^[,\s]+)|([,\s]+$)/g,"")});return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),a,Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")}}if($(e.get("customerDataModel.documentTypes")).each(function(o,a){$.grep(e.get("customerDataModel.customerDocuments"),function(e){return e.documentType===a.value}).length>1&&(t=!0)}),t)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value(e.localeBase+"documentAlreadyAdded"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");if(e.checkValidations(),!1===e.canSubmitData(e.get("customerDataModel"),kl.value("locale.specialistCustomer:customer.useCaseTitle"),{showInModal:!0}))return!1;if(Komodo.UI.contactFunctions.validatePhoneData(e.get("contactNumbers")))return;if(Komodo.UI.contactFunctions.validateEmailData(e.get("emails")))return;if(Komodo.UI.paymentDetailsFunctions.validateData(e.get("paymentDetails"),Object.keys(e.get("validators")),e,kl.value("locale.specialistCustomer:customer.useCaseTitle")))return;if(e.get("_enableRealtimeAHVProcess")&&e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&!1===e.get("paymentDetails.ahvCompliant")&&!1===e.get("paymentDetails.ahvOverride"))return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.validateVerifyBankingDetails"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning");if(e.get("_enableIdVerification")&&!e.get("isIdentityValidated")&&e.get("customerDataModel.idValue")===Komodo.CanonicalValues.IdentificationType.ID)return Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.identificationControl:validateID"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning"),!1;if(e.get("_enableIdVerification")){var n=!1,s="";switch(e.get("customerDataModel.identityDetailType")){case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:e.get("customerDataModel.addressInformation").forEach(function(t){t.country===e.getValueFromConstant("ProductsConstants","productsConstants.products.SOUTH_AFRICA")&&(n=!0,s="locale.identificationControl:validateLesothoID")});break;case Komodo.CanonicalValues.IdentificationType.ID:e.get("customerDataModel.addressInformation").forEach(function(t){t.country===e.getValueFromConstant("ProductsConstants","productsConstants.products.LESOTHO")&&(n=!0,s="locale.identificationControl:validateSaID")});break;default:n=!1}if(n)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value(s),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning")}switch(e.get("_customerTypeSelected")){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.FIELD_TRIALS"):var i=!1;if(e.get("customerDataModel.addressInformation").forEach(function(e){e.addressType===Komodo.CanonicalValues.AddressTypes.Physical&&(i=!0)}),!i)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value(e.localeBase+"providePhysicalAddress"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MONITORING"):if(!(i=$.grep(e.get("customerDataModel.householdMemberAndAuthority"),function(e){return""!==e.firstNameHouseholdMemberAndAuthority&&void 0!==e.firstNameHouseholdMemberAndAuthority}).length>0))return Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value(e.localeBase+"provideAuthorityDelegation"),Komodo.Controls.MessageBoxOkButtons,e,"353536","danger"),!1;break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO"):if(!(i=$.grep(e.get("customerDataModel.householdMemberAndAuthority"),function(e){return""!==e.firstNameHouseholdMemberAndAuthority&&void 0!==e.firstNameHouseholdMemberAndAuthority}).length>0))return Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value(e.localeBase+"provideAuthorityDelegation"),Komodo.Controls.MessageBoxOkButtons,e,"767544","danger"),!1;break;default:if(void 0!==e.get("customerDataModel.DOBMonth")&&null!==e.get("customerDataModel.DOBMonth")||void 0!==e.get("customerDataModel.DOBDate")&&null!==e.get("customerDataModel.DOBDate")||void 0!==e.get("customerDataModel.DOBYear")&&null!==e.get("customerDataModel.DOBYear")||!1!==e.get("_isDateOfBirthEnable")){if((void 0===e.get("customerDataModel.DOBMonth")||void 0===e.get("customerDataModel.DOBDate")||void 0===e.get("customerDataModel.DOBYear")||null===e.get("customerDataModel.DOBMonth")||null===e.get("customerDataModel.DOBDate")||null===e.get("customerDataModel.DOBYear"))&&!0===e.get("_isDateOfBirthEnable"))return Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateRequiredForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,e,"id5090993","danger"),!1;var r=String(e.get("customerDataModel.DOBMonth")+"/"+e.get("customerDataModel.DOBDate")+"/"+e.get("customerDataModel.DOBYear"));if(!e.isDateValid(r))return Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"invalidDateForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,e,"id5090793","danger"),!1;var l=(new Date).getDate(),d=(new Date).getMonth()+1,u=(new Date).getFullYear()-18;if(e._datePast=d+"/"+l+"/"+u,!(new Date(r)<=new Date(e.get("_datePast"))))return Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateLessThanStandards"),Komodo.Controls.MessageBoxOkButtons,e,"id5090795","danger"),!1;this.set("customerDataModel.dateOfBirth",e.isDateValid(r)?new Date(r):r)}else e.set("customerDataModel.DOBMonth",void 0),e.get("customerDataModel.DOBDate",void 0),e.get("customerDataModel.DOBYear",void 0)}e.publishCreateSplCustomerEvent()}},validateDocumentsFromSuperVisor:function(){var e=this;if(e.get("_enableRealtimeAHVProcess")&&e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.get("paymentDetails.allowDocumentUploads")){var t=e.get("controllers.genericPayment"),o=Komodo.Services.securityService.get("domainUserName"),a=Komodo.Services.uiService.getController("application").get("_selectedCountryId");e.set("documentsVerified",void 0),e.set("customerDataModel.showButtons",!1),e.set("customerDataModel.loginButton",!0),e.registerValidator(e.get("customerDataModel"),"supervisorUsername",{isRequired:!0,type:"string"}),e.registerValidator(e.get("customerDataModel"),"passCode",{isRequired:!0,type:"string"}),e.customerDataModel.set("supervisorUsername",void 0),e.customerDataModel.set("passCode",void 0);var n=Komodo.Services.uiService.showModalPopup(kl.value("locale.customer:customerInformation.verifyDocumentstitle"),"VerifyDocuments",{view:Komodo.Application.VerifyDocumentsView,context:{data:e.get("customerDataModel"),validators:e.validators,login:function(){var n=this;t.validateUserClaim(a,n.data.get("supervisorUsername"),n.data.get("passCode"),e.get("supervisorClaim")).done(function(e){o===n.data.get("supervisorUsername")?(alert(kl.value("locale.onlinetill:customer.unauthoriseError")),n.data.set("supervisorUsername",void 0),n.data.set("passCode",void 0)):Ember.isEmpty(e)?(alert(kl.value("locale.onlinetill:customer.accessDenied")),n.data.set("supervisorUsername",void 0),n.data.set("passCode",void 0)):(n.data.set("showButtons",!0),n.data.set("loginButton",!1))})},verifyDocument:function(){n.close(),e.set("documentsVerified",!0),e.publishCreateSplCustomerEvent()},documentsNotVerified:function(){e.set("documentsVerified",!1),n.close(),Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.documentsVerifiedMessage"),Komodo.Controls.MessageBoxAcceptDeclineButtons,e,"id5446673","").response=function(t){"accept"===t&&(e.set("paymentDetails.paymentType",Komodo.MOP.CASH),n.close(),e.set("logDocumentCase",!0),e.publishCreateSplCustomerEvent())}}},canUserClose:!0})}else e.publishCreateSplCustomerEvent()},validateHouseHouldMemberDetails:function(){var e=this;return!1!==e.get("customerDataModel.isIdentificationNumberRequire")||null!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")&&void 0!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")||(e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!0)),!1!==e.canSubmitData(e.get("householdMemberAndAuthority"),kl.value("locale.specialistCustomer:customer.useCaseTitle"),{showInModal:!0})&&(!(e.get("_enableIdVerification")&&!e.get("isHmIdentityValidated")&&e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority.key")===Komodo.CanonicalValues.IdentificationType.ID)||(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),kl.value("locale.identificationControl:validateID"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning"),!1))},actions:{addHouseHoldInfoVisible:function(){var e=this;e.set("isHouseHoldInfoVisible",!0),e.set("isAllowToTransactDisabled",!1),e.set("isEditMode",!1),e.set("householdMemberAndAuthority.householdMemberInfo","1"),e.set("householdMemberAndAuthority.allowToTransactInfo","0")},deleteHoldMemberAndAuthorityGridItem:function(){this.deleteHoldMemberAndAuthorityGridItem()},addAuthorityInformation:function(){this.set("householdMemberAndAuthority.isAuthorityInfoVisible",!0)},addAuthorityDelegation:function(){var e=this;if(e.validateHouseHouldMemberDetails()){if((e.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO")||e.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO")||e.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MONITORING"))&&"0"===e.get("householdMemberAndAuthority.allowToTransactInfo")){if(!(e.get("customerDataModel.householdMemberAndAuthority").length>0))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.localeBase+"allowedToTransactRequired"),null,e,"id5446675","warning");var t=e.get("customerDataModel.householdMemberAndAuthority").filter(function(t){return t.allowToTransactInfo===kl.value(e.localeBase+"yes")});if(t&&0===t.length)return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.localeBase+"allowedToTransactRequired"),null,e,"id5446675","warning")}this.holdMemberAndAuthorityNotAdded()||(this.addHoldMemberAndAuthorityToGrid(),this.clearholdMemberAndAuthority())}},addHouseholdMemberAndAuthority:function(){var e=this;if(e.validateHouseHouldMemberDetails()){if(void 0!==e.get("householdMemberAndAuthority.mm")&&null!==e.get("householdMemberAndAuthority.mm")||void 0!==e.get("householdMemberAndAuthority.dd")&&null!==e.get("householdMemberAndAuthority.dd")||void 0!==e.get("householdMemberAndAuthority.yyyy")&&null!==e.get("householdMemberAndAuthority.yyyy")||!1!==e.get("_isDateOfBirthEnable")){if((Ember.isEmpty(e.get("householdMemberAndAuthority.mm"))||Ember.isEmpty(e.get("householdMemberAndAuthority.dd"))||Ember.isEmpty(e.get("householdMemberAndAuthority.yyyy")))&&!0===e.get("_isDateOfBirthEnable"))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateRequiredForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,e,"id5090773","warning");var t=String(e.get("householdMemberAndAuthority.mm")+"/"+e.get("householdMemberAndAuthority.dd")+"/"+e.get("householdMemberAndAuthority.yyyy"));if(!e.isDateValid(t))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"invalidDateForHouseholdMember"),Komodo.Controls.MessageBoxOkButtons,e,"id5090773","warning");var o=(new Date).getDate(),a=(new Date).getMonth()+1,n=(new Date).getFullYear()-18;if(e._datePast=a+"/"+o+"/"+n,void 0!==e.get("householdMemberAndAuthority.allowToTransactInfo"))switch(e.get("householdMemberAndAuthority.allowToTransactInfo")){case"1":if(!(new Date(t)<=new Date(e.get("_datePast"))))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateLessThanStandards"),Komodo.Controls.MessageBoxOkButtons,e,"id5090795","warning");this.set("householdMemberAndAuthority.cDateOfBirth",new Date(t));break;case"0":if(!(new Date(t)<new Date))return void Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.mainLocaleBase+"dateLessThanCurrentDate"),Komodo.Controls.MessageBoxOkButtons,e,"id5090795","warning");this.set("householdMemberAndAuthority.cDateOfBirth",new Date(t))}}else e.set("householdMemberAndAuthority.mm",void 0),e.get("householdMemberAndAuthority.dd",void 0),e.get("householdMemberAndAuthority.yyyy",void 0);if(!this.holdMemberAndAuthorityNotAdded()){switch(e.get("_customerTypeSelected")){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST"):e.addHouseHoldMemberAndAuthorityToGrid();break;default:e.addHoldMemberAndAuthorityToGrid()}this.clearholdMemberAndAuthority()}}},editAuthorityDelegationGridItem:function(){this.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE")||this.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE")||this.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS")||this.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES")||this.get("_customerTypeSelected")===that.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST")?this.editHoldMemberAndAuthorityGridItem():this.editAuthorityDelegationGridItem()},deleteAuthorityDelegationGridItem:function(){this.deleteAuthorityDelegationGridItem()},createSpecialistCustomer:function(){this.validateDetailsAndCreateCustomer()}},publishCreateSplCustomerEvent:function(){var e,t=this;e=Komodo.Models.CreateDStvCustomer.create();var o=Komodo.canonicalFacadeFactory(e,["Country","CustomerDetail","Account"]);o.set("Country",t.get("loggedInCountryId"));var a=Komodo.Models.CustomerDetail.create(),n=Komodo.canonicalFacadeFactory(a,["UID","Class","Type","Language","BusinessUnit","IsOptInForMarketing","PreferedMarketingMethod","CompanyFiscalCode","CompanyMarketSegment","CompanyRegistrationNumber","EmployeeNumber","BusinessName","Department","EstablishmentType","OriginalCustomerNumber","CompanyName","Position","HomeEquipmentInformation","BenefitEndDate","Sponsor","ListOfConsumer","ListOfPhoneNumber","ListOfAddress","ListOfEmail","ListOfPointOfPresence","PersonalDetail","ListOfCareOfPersonDetail","LeadUID"]);switch($.each(t.get("customerDataModel.viewingPlatformData"),function(e,o){t.get("customerDataModel.viewingPlatform")===o.value&&n.set("BusinessUnit",o.title)}),t.get("customerDataModel.acceptMarketingInfo")){case"1":n.set("IsOptInForMarketing",!0),n.set("PreferedMarketingMethod",t.get("customerDataModel.methodOfCommunication"));break;default:n.set("IsOptInForMarketing",!1),n.set("PreferedMarketingMethod","1")}switch(n.set("Language",t.get("customerDataModel.language")),n.set("Class","3"),void 0!==t.get("customerDataModel.leadUid")&&o.set("LeadUID",t.get("customerDataModel.leadUid")),n.set("Type",t.get("customerDataModel.custType").CanonicalKey),n.set("ListOfPhoneNumber",Komodo.UI.contactFunctions.getPhoneNumberCollection(t.get("contactNumbers"))),n.set("ListOfAddress",Komodo.UI.addressFunctions.getAddressCollection(t.get("customerDataModel.addressInformation"))),n.set("ListOfEmail",Komodo.UI.contactFunctions.getEmailCollection(t.get("emails"))),void 0!=t.get("customerDataModel.benefitEndDate")&&n.set("BenefitEndDate",t.get("customerDataModel.benefitEndDate")),n.set("Department",t.get("customerDataModel.department")),n.set("EmployeeNumber",t.get("customerDataModel.employeeNo")),n.set("HomeEquipmentInformation",t.get("customerDataModel.homeEquipment")),n.set("Position",t.get("customerDataModel.position")),n.set("Sponsor",t.get("customerDataModel.sponsor")),n.set("CompanyName",t.get("customerDataModel.companyName")),t.get("_customerTypeSelected")){case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE"):void 0!=t.get("customerDataModel.employmentType")?n.set("EstablishmentType",t.get("customerDataModel.employmentType").CanonicalKey):n.set("EstablishmentType",t.get("customerDataModel.employmentType")),t.get("customerDataModel.businessName"),n.set("BusinessName",t.get("customerDataModel.businessName")),n.set("ListOfConsumer",t.getConsumerCollection(t.get("customerDataModel.householdMemberAndAuthority")));break;case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO"):void 0!=t.get("customerDataModel.demoType")?n.set("EstablishmentType",t.get("customerDataModel.demoType").CanonicalKey):n.set("EstablishmentType",t.get("customerDataModel.demoType")),n.set("ListOfCareOfPersonDetail",t.getCareOfPersonCollection(t.get("customerDataModel.householdMemberAndAuthority"))),n.set("CompanyRegistrationNumber",t.get("customerDataModel.companyRegNo"));break;case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO"):case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MONITORING"):void 0!=t.get("customerDataModel.locationIndicator")?n.set("EstablishmentType",t.get("customerDataModel.locationIndicator").CanonicalKey):n.set("EstablishmentType",t.get("customerDataModel.locationIndicator")),t.get("customerDataModel.businessName"),n.set("BusinessName",t.get("customerDataModel.businessName")),n.set("ListOfCareOfPersonDetail",t.getCareOfPersonCollection(t.get("customerDataModel.householdMemberAndAuthority")));break;case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"):case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS"):case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES"):t.get("customerDataModel.businessName"),n.set("BusinessName",t.get("customerDataModel.businessName")),n.set("ListOfConsumer",t.getConsumerCollection(t.get("customerDataModel.householdMemberAndAuthority"))),void 0!=t.get("customerDataModel.locationIndicator")?n.set("EstablishmentType",t.get("customerDataModel.locationIndicator").CanonicalKey):n.set("EstablishmentType",t.get("customerDataModel.locationIndicator"));break;case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST"):n.set("ListOfConsumer",t.getConsumerCollection(t.get("customerDataModel.householdMemberAndAuthority"))),void 0!=t.get("customerDataModel.locationIndicator")?n.set("EstablishmentType",t.get("customerDataModel.locationIndicator").CanonicalKey):n.set("EstablishmentType",t.get("customerDataModel.locationIndicator"));break;case t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.FIELD_TRIALS"):void 0!=t.get("customerDataModel.locationIndicator")?n.set("EstablishmentType",t.get("customerDataModel.locationIndicator").CanonicalKey):n.set("EstablishmentType",t.get("customerDataModel.locationIndicator")),void 0==t.get("customerDataModel.customerNo")||Ember.isEmpty(t.get("customerDataModel.customerNo"))||n.set("OriginalCustomerNumber",t.get("customerDataModel.customerNo").trim());break;default:void 0!=t.get("customerDataModel.locationIndicator")?n.set("EstablishmentType",t.get("customerDataModel.locationIndicator").CanonicalKey):n.set("EstablishmentType",t.get("customerDataModel.locationIndicator"))}n.set("PersonalDetail",t.getPersonalDetail()),o.set("CustomerDetail",a),t.get("customerDataModel.hideAdditionalInformationFinance")&&o.set("Account",Komodo.UI.paymentDetailsFunctions.getAccounts(t.get("paymentDetails"),!0)),1==t.get("paymentDetails.ahvCompliant")&&t.get("_enableRealtimeAHVProcess")&&e.set("Account.PaymentDetail.AHVStatus",Komodo.AHVOverride.AHV_Realtime),1==t.get("paymentDetails.ahvOverride")&&t.get("_enableRealtimeAHVProcess")&&e.set("Account.PaymentDetail.AHVStatus",Komodo.AHVOverride.AHV_Override),t.getNewProcessID(),t.showBusyIndicator(),t.set("disableCreateCustomerButton",!0),Komodo.Services.CustomerService.submit(t,e).done(function(){Komodo.log("publishCreateSplCustomerEvent() : Create Customer event has been published.")}).fail(function(){Komodo.error("publishCreateSplCustomerEvent() : Create Customer event has failed.")})},publishCreateInteraction:function(e,t,o,a,n,s,i,r){var l=this,d=Komodo.Models.CreateInteraction.create(),u=Komodo.Models.Case.create();u.set("InteracteeName",Komodo.Services.securityService.session.domainUserName),u.set("InteractionLocation",l.get("loggedInCountryId")),u.set("InteractionMedium",e),u.set("CustomerUID",t),u.set("Category",o),u.set("SubCategory",a),u.set("Outcome",n),u.set("Status",s),u.set("Priority",i),r?u.set("Notes",$.grep(l.get("caseOutcome"),function(e){return e.key==n})[0].value+" "+kl.value("locale.customer:customerInformation.byUser")+l.get("customerDataModel.supervisorUsername")):u.set("Notes",$.grep(l.get("caseOutcome"),function(e){return e.key==n})[0].value);var c=Komodo.canonicalFacadeFactory(d,["Country","Case"]);c.set("Country",l.get("loggedInCountryId")),c.set("Case",u),Komodo.Services.CustomerService.publishCustomerEvent(this,d,"CreateInteraction","v1",!0)},messageDStvCustomerCreatedReceived:function(e){Komodo.log("Received "+new Date);var t=this;t.set("customerCreatedPayload",e.ResponseMessage.Payload.CustomerDetail),t.set("customerId",t.get("customerCreatedPayload").SubscriberSystemUID.UID),Komodo.Services.CustomerService.isUserActivityToBeTracked&&Komodo.Services.CustomerService.startActivity(t.get("customerId")),t.uploadCustomerDocuments()},customerCreatedredirect:function(e){var t=this,o=t.get("customerCreatedPayload");if(t.hideBusyIndicator(),void 0!==o.UID&&void 0!==o.SubscriberSystemUID.UID){var a=Komodo.Models.CreateCustomerNamespace.CustomerCreatedModel.create();if($.each(t.get("_titles"),function(e,t){if(t.key===o.PersonalDetail.Title)return void(o.PersonalDetail.Title=t.value)}),null===o.PersonalDetail.FirstName&&null===o.PersonalDetail.Surname){var n;o.Type===t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO")?(n=this.getCompanyNamebyId(o.BusinessName),a.set("title",""),a.set("name",n),a.set("lastName",""),a.set("firstName","")):o.Type===t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO")?(n=o.CompanyName,a.set("title",""),a.set("name",n),a.set("lastName",""),a.set("firstName","")):(a.set("title",""),a.set("name",""),a.set("lastName",""),a.set("firstName",""))}else a.set("title",o.PersonalDetail.Title),a.set("name",o.PersonalDetail.Title+" "+o.PersonalDetail.FirstName+" "+o.PersonalDetail.Surname),a.set("lastName",o.PersonalDetail.Surname),a.set("firstName",o.PersonalDetail.FirstName);switch(a.set("customerNumber",o.SubscriberSystemUID.UID),a.set("customerClass",o.Class),a.set("customerType",t.getCustomerTypeText(o.Type)),a.set("typeId",o.Type),$.each(t.get("customerDataModel.viewingPlatformData"),function(e,o){if(t.get("customerDataModel.viewingPlatform")===o.value)return void a.set("viewingPlatform",o.title)}),t.get("customerDataModel.viewingPlatform")){case"1":a.set("isDsTvCustomer",!0);break;case"2":a.set("isGoTvCustomer",!0)}if($.each(t.get("languages"),function(e,o){if(t.get("customerDataModel.language")===o.key)return void a.set("language",o.value)}),a.set("idNumber",o.PersonalDetail.IdentityDetailValue),void 0!==o.ListOfEmail){var s=$.grep(t.get("emails"),function(e){return!0===e.isPrimary});1===s.length&&a.set("email",void 0!==s[0]?s[0].contactValue:"")}if(void 0!==o.ListOfAddress){var i=$.grep(t.get("customerDataModel.addressInformation"),function(e){return"3"===e.addressType});if(1===i.length)switch(a.set("physicalAddress",void 0!==i[0]?i[0].addressString:""),i[0].country){case"zaf":case"nam":a.set("marketSegment",t.getValueFromConstant("ProductsConstants","productsConstants.products.MARKET_SEGMENT"));break;case"lso":a.set("marketSegment",t.getValueFromConstant("ProductsConstants","productsConstants.products.LESOTHO_MARKET_SEGMENT"));break;default:a.set("marketSegment",t.getValueFromConstant("ProductsConstants","productsConstants.products.MARKET_SEGMENT"))}}if(void 0!==o.ListOfPhoneNumber){var r=$.grep(t.get("contactNumbers"),function(e){return!0===e.isPrimary});1===r.length&&a.set("mobileNumber",void 0!==r[0]?"+"+r[0].countryCode+" "+r[0].contactValue:"")}t.clearFormData(),t.clearholdMemberAndAuthority()
;Komodo.Services.uiService.getController("customerCreated").setResponseMessage(a),Komodo.Services.uiService.getRoute("application").transitionTo("customerCreated")}else Komodo.Controls.MessageBoxController.show(kl.value(t.localeBase+"customerCreated"),kl.value(t.localeBase+"customerCreatedFailure"),Komodo.Controls.MessageBoxOkButtons,t,"id5446673","danger")},getCompanyNamebyId:function(e){var t=void 0,o=this;return $.each(o.get("_businessNames"),function(o,a){return a.key!==e||(t=a.value,!1)}),t},messageCreateDStvCustomerDeliveryFailure:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.UI.warn("[CreateCustomerController.messageCreateDStvCustomerDeliveryFailure] : messageId = "+e.messageId),Komodo.Controls.MessageBoxController.show(kl.value(this.mainLocaleBase+"useCaseTitle"),kl.value(this.mainLocaleBase+"messageCreateDStvCustomerDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},messageFailureMessageEventReceived:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.Controls.MessageBoxController.show(e.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")},messageFault:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.UI.warn("[CreateCustomerController.messageCreateDStvCustomerDeliveryFailure] : messageId = "+e.messageId),Komodo.Controls.MessageBoxController.show(kl.value(this.mainLocaleBase+"useCaseTitle"),kl.value(this.mainLocaleBase+"messageCreateDStvCustomerDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},messageReceived:function(){this.hideBusyIndicator()},messageDeliveryFailure:function(e){this.hideBusyIndicator(),this.set("disableCreateCustomerButton",!1),Komodo.UI.warn("[CreateCustomerController.messageCreateDStvCustomerDeliveryFailure] : messageId = "+e.messageId),Komodo.Controls.MessageBoxController.show(kl.value(this.mainLocaleBase+"useCaseTitle"),kl.value(this.mainLocaleBase+"messageCreateDStvCustomerDeliveryFailure"),Komodo.Controls.MessageBoxOkButtons,this,"id5098673","danger")},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,12e5,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},getCustomerTypeText:function(e){for(var t=this.get("customertype"),o=0;o<t.length;o++)if(t[o].key===e)return t[o].value;return""},getNewProcessID:function(){this.startNewProcess()},getPersonalDetail:function(){var e=Komodo.Services.systemService,t=this,o=Komodo.Models.PersonalDetail.create(),a=Komodo.canonicalFacadeFactory(o,["Title","FirstName","Surname","Initial","BirthDate","MaritalStatus","IdentityDetailType","IdentityDetailValue","CountryOfOrigin","ExpiryDate"]);return Ember.isEmpty(t.get("customerDataModel.title"))?a.set("Surname"," "):a.set("Title",t.get("customerDataModel.title").trim()),Ember.isEmpty(t.get("customerDataModel.firstName"))?a.set("FirstName"," "):a.set("FirstName",t.get("customerDataModel.firstName").trim()),Ember.isEmpty(t.get("customerDataModel.lastName"))?a.set("Surname"," "):a.set("Surname",t.get("customerDataModel.lastName").trim()),Ember.isEmpty(t.get("customerDataModel.identityDetailType"))||a.set("IdentityDetailType",t.get("customerDataModel.identityDetailType").trim()),Ember.isEmpty(t.get("customerDataModel.dateOfBirth"))||a.set("BirthDate",e.universalDateString(new Date(t.customerDataModel.get("dateOfBirth")))),Ember.isEmpty(t.get("customerDataModel.idValue"))||a.set("IdentityDetailValue",t.get("customerDataModel.idValue").trim()),Ember.isEmpty(t.get("customerDataModel.countryOfOrigin"))||a.set("CountryOfOrigin",t.get("customerDataModel.countryOfOrigin").trim()),Ember.isEmpty(t.get("customerDataModel.passportExpiryDate"))||a.set("ExpiryDate",t.get("customerDataModel.passportExpiryDate")),o},holdMemberAndAuthorityNotAdded:function(){var e=this,t=!1;return e.get("customerDataModel.householdMemberAndAuthority").forEach(function(o){switch(e.get("_customerTypeSelected")){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST"):o.firstNameHouseholdMemberAndAuthority.toLowerCase()===e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority").toLowerCase()&&o.lastNameHouseholdMemberAndAuthority.toLowerCase()===e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority").toLowerCase()&&o.relation.toLowerCase()===e.get("householdMemberAndAuthority.relation").value.toLowerCase()&&(t=!0,Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.localeBase+"duplicateHouseholdMember"),null,e,"id123456","alert"));break;default:o.firstNameHouseholdMemberAndAuthority.toLowerCase()===e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority").toLowerCase()&&o.lastNameHouseholdMemberAndAuthority.toLowerCase()===e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority").toLowerCase()&&o.relation.toLowerCase()===e.get("householdMemberAndAuthority.relation").toLowerCase()&&(t=!0,Komodo.Controls.MessageBoxController.show(kl.value(e.mainLocaleBase+"useCaseTitle"),kl.value(e.localeBase+"duplicateDelgateAuthorityMember"),null,e,"id123456","alert"))}return!t}),t},addHoldMemberAndAuthorityToGrid:function(){var e=this;"0"===e.get("householdMemberAndAuthority.allowToTransactInfo")?e.set("newHoldMemberAndAuthorityGriditem.allowToTransactInfo",kl.value(e.localeBase+"no")):e.set("newHoldMemberAndAuthorityGriditem.allowToTransactInfo",kl.value(e.localeBase+"yes")),e.set("newHoldMemberAndAuthorityGriditem.firstNameHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.lastNameHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")),Ember.isEmpty(e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority"))||e.set("newHoldMemberAndAuthorityGriditem.identityDetailTypeHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority").value),e.set("newHoldMemberAndAuthorityGriditem.fullname",e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")+" "+e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.identityDetailValueHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.identityDetailTypeObject",e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")),null!==e.get("householdMemberAndAuthority.relation")&&"object"==typeof e.householdMemberAndAuthority.relation?e.set("newHoldMemberAndAuthorityGriditem.relation",e.get("householdMemberAndAuthority.relation").value):e.set("newHoldMemberAndAuthorityGriditem.relation",e.get("householdMemberAndAuthority.relation")),e.addGridHoldMemberAndAuthorityRow(),e.set("householdMemberAndAuthority.isAuthorityInfoVisible",!1)},addHouseHoldMemberAndAuthorityToGrid:function(){var e=this;"0"===e.get("householdMemberAndAuthority.householdMemberInfo")?e.set("newHoldMemberAndAuthorityGriditem.householdMemberInfo",kl.value(e.localeBase+"no")):e.set("newHoldMemberAndAuthorityGriditem.householdMemberInfo",kl.value(e.localeBase+"yes")),"0"===e.get("householdMemberAndAuthority.allowToTransactInfo")?e.set("newHoldMemberAndAuthorityGriditem.allowToTransactInfo",kl.value(e.localeBase+"no")):e.set("newHoldMemberAndAuthorityGriditem.allowToTransactInfo",kl.value(e.localeBase+"yes")),e.set("newHoldMemberAndAuthorityGriditem.firstNameHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.lastNameHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")),Ember.isEmpty(e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority"))||e.set("newHoldMemberAndAuthorityGriditem.identityDetailTypeHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority").value),e.set("newHoldMemberAndAuthorityGriditem.fullname",e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")+" "+e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.identityDetailValueHouseholdMemberAndAuthority",e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.expiryDate",e.get("householdMemberAndAuthority.expiryDate")),e.set("newHoldMemberAndAuthorityGriditem.cDateOfBirth",e.get("householdMemberAndAuthority.cDateOfBirth")),e.set("newHoldMemberAndAuthorityGriditem.identityDetailTypeObject",e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")),e.set("newHoldMemberAndAuthorityGriditem.relation",e.get("householdMemberAndAuthority.relation").value),e.set("newHoldMemberAndAuthorityGriditem.relationObject",e.get("householdMemberAndAuthority.relation")),e.addGridHoldMemberAndAuthorityRow(),e.set("isHouseHoldInfoVisible",!1)},addGridHoldMemberAndAuthorityRow:function(){var e=this;return e.customerDataModel.householdMemberAndAuthority.pushObject(e.get("newHoldMemberAndAuthorityGriditem")),this.createNewGridItemHoldMemberAndAuthority(),!0},editAuthorityDelegationGridItem:function(){var e=this;void 0!==e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority")&&(e.set("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("firstNameHouseholdMemberAndAuthority")),e.set("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("lastNameHouseholdMemberAndAuthority")),e.set("householdMemberAndAuthority.relation",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("relation")),e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("allowToTransactInfo")===kl.value(e.localeBase+"no")?e.set("householdMemberAndAuthority.allowToTransactInfo","0"):e.set("householdMemberAndAuthority.allowToTransactInfo","1"),e.set("householdMemberAndAuthority.isAuthorityInfoVisible",!0),e.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject")),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailValueHouseholdMemberAndAuthority")),e.clearAuthorityDelegationGrid())},editHoldMemberAndAuthorityGridItem:function(){this.set("isEditMode",!0);var e=this;if(void 0!==e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority")){e.set("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("firstNameHouseholdMemberAndAuthority")),e.set("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("lastNameHouseholdMemberAndAuthority")),e.set("householdMemberAndAuthority.relation",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("relationObject")),e.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject")),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailValueHouseholdMemberAndAuthority")),e.set("householdMemberAndAuthority.cDateOfBirth",e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("cDateOfBirth")),Ember.isEmpty(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject"))||e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("identityDetailTypeObject").key!==Komodo.CanonicalValues.IdentificationType.ID||e.set("isHmIdentityValidated",!0);var t=new Date(e.get("householdMemberAndAuthority.cDateOfBirth"));if(!Ember.isEmpty(t)){var o=t.getDate(),a=t.getMonth()+1,n=t.getFullYear();parseInt(o)>9?e.set("householdMemberAndAuthority.dd",String(o)):e.set("householdMemberAndAuthority.dd","0"+String(o)),parseInt(a)>9?e.set("householdMemberAndAuthority.mm",String(a)):e.set("householdMemberAndAuthority.mm","0"+String(a)),e.set("householdMemberAndAuthority.yyyy",String(n))}e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("householdMemberInfo")===kl.value(e.localeBase+"no")?e.set("householdMemberAndAuthority.householdMemberInfo","0"):e.set("householdMemberAndAuthority.householdMemberInfo","1"),e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority").get("allowToTransactInfo")===kl.value(e.localeBase+"no")?e.set("householdMemberAndAuthority.allowToTransactInfo","0"):e.set("householdMemberAndAuthority.allowToTransactInfo","1"),e.set("isHouseHoldInfoVisible",!0),e.customerDataModel.householdMemberAndAuthority.removeObject(e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority")),e.set("isEditMode",!1)}},deleteAuthorityDelegationGridItem:function(){var e=this;Komodo.Controls.MessageBoxController.show(kl.value(e.localeBase+"delete"),kl.value(e.localeBase+"deleteItem"),Komodo.Controls.MessageBoxYesNoButtons,e,"id123456","alert").response=function(t){if("yes"===t){var o=e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority");e.get("customerDataModel.householdMemberAndAuthority").removeObject(o)}}},clearAuthorityDelegationGrid:function(){var e=this;e.set("customerDataModel.householdMemberAndAuthority",$.grep(e.get("customerDataModel.householdMemberAndAuthority"),function(t){return e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority.firstNameHouseholdMemberAndAuthority")!==t.firstNameHouseholdMemberAndAuthority||e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority.lastNameHouseholdMemberAndAuthority")!==t.lastNameHouseholdMemberAndAuthority||e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")!==t.identityDetailTypeHouseholdMemberAndAuthority||e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")!==t.identityDetailValueHouseholdMemberAndAuthority||e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority.relation")!==t.relation||e.get("customerDataModel.commandGridItemHouseholdMemberAndAuthority.allowToTransactInfo")!==t.allowToTransactInfo}))},getCareOfPersonCollection:function(e){var t=Komodo.Models.ListOfCareOfPersonDetail.create(),o=this;return e.forEach(function(e){var a=Komodo.Models.CareOfPersonDetail.create();a.set("Role",e.relation),void 0!==e.allowToTransactInfo&&e.allowToTransactInfo===kl.value(o.localeBase+"yes")?a.set("IsAllowedToTransact",!0):a.set("IsAllowedToTransact",!1),a.PersonalDetail=Komodo.Models.PersonalDetail.create(),a.PersonalDetail.set("FirstName",$.trim(e.firstNameHouseholdMemberAndAuthority)),a.PersonalDetail.set("Surname",$.trim(e.lastNameHouseholdMemberAndAuthority)),Ember.isEmpty(e.identityDetailTypeObject)||(a.PersonalDetail.set("IdentityDetailType",e.identityDetailTypeObject.key),a.PersonalDetail.set("IdentityDetailValue",$.trim(e.identityDetailValueHouseholdMemberAndAuthority))),a.set("ListOfPhoneNumber",Komodo.UI.contactFunctions.getPhoneNumberCollection(o.get("contactNumbers"))),a.set("ListOfEmail",Komodo.UI.contactFunctions.getEmailCollection(o.get("emails"))),t.CareOfPersonDetail.push(a)}),t},getConsumerCollection:function(e){var t=Komodo.Models.ListOfConsumer.create(),o=this;return e.forEach(function(e){var a=Komodo.Models.Consumer.create();a.set("RelationshipType",e.relationObject.key),a.ConsumerDetail.set("BirthDate",e.cDateOfBirth),void 0!==e.householdMemberInfo&&e.householdMemberInfo===kl.value(o.localeBase+"yes")?a.set("IsHouseholdMember",!0):a.set("IsHouseholdMember",!1),void 0!==e.allowToTransactInfo&&e.allowToTransactInfo===kl.value(o.localeBase+"yes")?a.set("AllowedToTransact",!0):a.set("AllowedToTransact",!1),a.ConsumerDetail.set("FirstName",o.trimValue(e.firstNameHouseholdMemberAndAuthority)),a.ConsumerDetail.set("Surname",o.trimValue(e.lastNameHouseholdMemberAndAuthority)),a.ConsumerDetail.set("BirthDate",e.cDateOfBirth),e.allowToTransactInfo===kl.value(o.localeBase+"yes")&&(Ember.isEmpty(e.identityDetailTypeObject)||(a.ConsumerDetail.set("IdentityDetailType",e.identityDetailTypeObject.key),a.ConsumerDetail.set("IdentityDetailValue",o.trimValue(e.identityDetailValueHouseholdMemberAndAuthority)))),t.Consumer.push(a)}),t},trimValue:function(e){return null!==e&&void 0!==e?e.trim():e},checkValidations:function(){var e=this;switch(e.get("_customerTypeSelected")){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.VIP"):e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("companyNameValidator"),e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("employeeNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("benefitEndDateValidator"),e.removeDependentProperty("customerNoValidator"),e.removeDependentProperty("departmentValidator"),e.removeDependentProperty("businessNameValidator"),e.removeDependentProperty("employmentTypeValidator"),e.removeDependentProperty("firstNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("relationValidator"),e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("lastNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DIPLOMAT"):e.removeDependentProperty("companyNameValidator"),e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("employeeNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("benefitEndDateValidator"),e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("customerNoValidator"),e.removeDependentProperty("departmentValidator"),e.removeDependentProperty("businessNameValidator"),e.removeDependentProperty("employmentTypeValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("firstNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("relationValidator"),e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("lastNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.SHAREHOLDERS"):e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("employeeNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("benefitEndDateValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("customerNoValidator"),e.removeDependentProperty("departmentValidator"),e.removeDependentProperty("businessNameValidator"),e.removeDependentProperty("employmentTypeValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("firstNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("relationValidator"),e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("lastNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE"):e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("companyNameValidator"),e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("locationIndicatorValidator"),e.removeDependentProperty("customerNoValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.SALES_PROMOTERS"):e.removeDependentProperty("departmentValidator"),e.removeDependentProperty("businessNameValidator"),e.removeDependentProperty("employmentTypeValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("companyNameValidator"),e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("employeeNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("benefitEndDateValidator"),e.removeDependentProperty("customerNoValidator"),e.removeDependentProperty("firstNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("relationValidator"),e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("lastNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MONITORING"):e.removeDependentProperty("firstNameValidator"),e.removeDependentProperty("lastNameValidator"),e.removeDependentProperty("titleValidator"),e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("identityDetailTypeValidator"),e.removeDependentProperty("idValueValidator"),e.removeDependentProperty("passportExpiryDateValidator"),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("employmentTypeValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("companyNameValidator"),e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("employeeNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("customerNoValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO"):e.removeDependentProperty("firstNameValidator"),e.removeDependentProperty("lastNameValidator"),e.removeDependentProperty("titleValidator"),e.removeDependentProperty("locationIndicatorValidator"),e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("identityDetailTypeValidator"),e.removeDependentProperty("idValueValidator"),e.removeDependentProperty("passportExpiryDateValidator"),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("departmentValidator"),e.removeDependentProperty("businessNameValidator"),e.removeDependentProperty("employmentTypeValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("employeeNoValidator"),e.removeDependentProperty("customerNoValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES"):e.removeDependentProperty("companyNameValidator"),e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("employmentTypeValidator"),e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("customerNoValidator"),e.removeDependentProperty("benefitEndDateValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST"):e.removeDependentProperty("companyNameValidator"),e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("employeeNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("benefitEndDateValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("customerNoValidator"),e.removeDependentProperty("departmentValidator"),e.removeDependentProperty("businessNameValidator"),e.removeDependentProperty("employmentTypeValidator");break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.FIELD_TRIALS"):e.removeDependentProperty("acceptMarketingInfoValidator"),e.removeDependentProperty("methodOfCommunicationValidator"),e.removeDependentProperty("companyNameValidator"),e.removeDependentProperty("companyRegNoValidator"),e.removeDependentProperty("demoTypeValidator"),e.removeDependentProperty("benefitEndDateValidator"),e.removeDependentProperty("employeeNoValidator"),e.removeDependentProperty("sponsorValidator"),e.removeDependentProperty("positionValidator"),e.removeDependentProperty("departmentValidator"),e.removeDependentProperty("businessNameValidator"),e.removeDependentProperty("employmentTypeValidator"),e.removeDependentProperty("firstNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("relationValidator"),e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("lastNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator")}!1===e.get("customerDataModel.hideAdditionalInformationFinance")&&e.removeDependentProperty("payerIDValidator")},acceptTermAndConditionChanged:function(){var e=this;e.set("isLocationIndicatorVisible",!0),!1===e.get("customerDataModel.isIdentificationNumberRequire")?e.set("customerDataModel.identityDetailType",void 0):e.set("customerDataModel.identityDetailType","1")},clearPersonalInformation:function(){this.set("customerDataModel.language",void 0),this.set("customerDataModel.identityDetailType",void 0),this.set("customerDataModel.idValue",void 0),this.set("customerDataModel.countryOfOrigin",void 0),this.set("customerDataModel.firstName",void 0),this.set("customerDataModel.lastName",void 0),this.set("customerDataModel.title",void 0),this.set("customerDataModel.dateOfBirth",void 0),this.get("_businessNames").clear()},clearContactInformation:function(){var e=this,t=[];e.get("contactNumbers").forEach(function(e){1===e.Id&&(e.set("contactValue",void 0),t.pushObject(e))}),e.get("contactNumbers").clear(),e.set("contactNumbers",t),t=[],e.get("emails").forEach(function(e){1===e.Id&&(e.set("contactValue",void 0),t.pushObject(e))}),e.get("emails").clear(),e.set("emails",t)},clearFinacialInformation:function(){this.set("paymentDetails.paymentType",Komodo.MOP.DEBIT_ORDER),this.set("paymentDetails.accountNo",void 0),this.set("paymentDetails.bank",void 0),this.set("paymentDetails.branchName",void 0),this.set("paymentDetails.payerName",void 0),this.set("paymentDetails.payerID",void 0),this.set("paymentDetails.payerIsCustomer",void 0)},clearFormData:function(){this.clearPersonalInformation(),this.set("customerDataModel.acceptMarketingInfo",void 0),this.set("customerDataModel.methodOfCommunication",void 0),this.set("customerDataModel.addressInformation",[]),Komodo.UI.paymentDetailsFunctions.clearData(this.get("paymentDetails")),this.set("customerDataModel.isAddMobileButton",!1),this.set("customerDataModel.isAddWorkContactButton",!1),this.set("customerDataModel.isAddHomePhoneButton",!1),this.set("customerDataModel.isAddEmailButton",!1),this.clearholdMemberAndAuthority(),this.set("customerDataModel.householdMemberAndAuthority",[]),this.set("customerDataModel.DOBDate",void 0),this.set("customerDataModel.DOBMonth",void 0),this.set("customerDataModel.DOBYear",void 0),this.clearOtherInformation()},clearholdMemberAndAuthority:function(){this.set("householdMemberAndAuthority.householdMemberInfo","1"),this.set("householdMemberAndAuthority.allowToTransactInfo","0"),this.set("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority",void 0),this.set("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority",void 0),this.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",void 0),this.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),this.set("householdMemberAndAuthority.countryOfOrigin",void 0),this.set("householdMemberAndAuthority.expiryDate",void 0),this.set("householdMemberAndAuthority.relation",void 0),this.set("householdMemberAndAuthority.relationObject",void 0),this.set("householdMemberAndAuthority.identityDetailTypeObject",void 0),this.set("householdMemberAndAuthority.cDateOfBirth",void 0),this.set("householdMemberAndAuthority.dd",void 0),this.set("householdMemberAndAuthority.mm",void 0),this.set("householdMemberAndAuthority.yyyy",void 0),this.set("isHmIdentityValidated",!1)},clearOtherInformation:function(){this.set("customerDataModel.locationIndicator",void 0),this.set("customerDataModel.position",void 0),this.set("customerDataModel.sponsor",void 0),this.set("customerDataModel.employmentType",void 0),this.set("customerDataModel.department",void 0),this.set("customerDataModel.businessName",void 0),this.set("customerDataModel.benefitEndDate",void 0),this.set("customerDataModel.employeeNo",void 0),this.set("customerDataModel.demoType",void 0),this.set("customerDataModel.companyRegNo",void 0),this.set("customerDataModel.companyName",void 0),this.set("customerDataModel.homeEquipment",void 0),this.set("customerDataModel.customerNo",void 0)},removeHouseHoldValidations:function(){var e=this;e.removeDependentProperty("relationValidator"),e.removeDependentProperty("firstNameHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("lastNameHouseholdMemberAndAuthorityValidator")},pushHouseHoldValidations:function(){this.createDependentProperty("relationValidator",[Komodo.UI.Validators.RequiredValidator]),
this.createDependentProperty("firstNameHouseholdMemberAndAuthorityValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator,Komodo.UI.Validators.RegExValidator,Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator]),this.createDependentProperty("lastNameHouseholdMemberAndAuthorityValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator,Komodo.UI.Validators.RegExValidator,Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator])},bindFlags:function(){var e=this;e.set("emailRequired",!0),e.set("disableCreateCustomerButton",!1),e.set("_floorBinding",!1),e.set("paymentType",void 0),e.set("disablePaymentDay",!1),e.set("disableMOP",!1),e.set("paymentDetails.debitOrderDay",void 0),e.set("customerDataModel.hideVIP",!1),e.set("customerDataModel.hideDiplomat",!1),e.set("customerDataModel.hideShareholder",!1),e.set("customerDataModel.hideEmployee",!1),e.set("customerDataModel.hideSalesPromoter",!1),e.set("customerDataModel.hideInternalDemo",!1),e.set("customerDataModel.hideExternalDemo",!1),e.set("customerDataModel.hideFieldTrialist",!1),e.set("customerDataModel.hideMultichoice",!1),e.set("customerDataModel.hideNaspers",!1),e.set("customerDataModel.hideAgencies",!1),e.set("customerDataModel.hidePanelist",!1),e.set("customerDataModel.hideAdditionalInformationFinance",!1),e.set("customerDataModel.hideAdditionalInformationBenefitEndDate",!1),e.set("customerDataModel.hideDelegateAuthInformation",!1),e.set("customerDataModel.hideHouseHoldAuthInformation",!1),e.set("customerDataModel.hideSubmitButton",!0),e.set("householdMemberAndAuthority.isAuthorityInfoVisible",!1),e.set("customerDataModel.hideMonitoring",!1)},supervisorDetails:function(){var e=this;e.set("customerDataModel.disableAction",!0),!0===e.get("paymentDetails.supervisorValidator")&&(Ember.isEmpty(e.get("validators.supervisorUsernameValidator"))||(e.get("validators.supervisorUsernameValidator").validate(),e.get("validators.passCodeValidator").validate(),0===e.get("validators.supervisorUsernameValidator.errors.length")&&0===e.get("validators.passCodeValidator.errors.length")&&e.set("customerDataModel.disableAction",!1)))}.observes("customerDataModel.supervisorUsername","customerDataModel.passCode"),marketingInformationChanged:function(){var e=this;"0"===e.get("customerDataModel.acceptMarketingInfo")?(e.set("customerDataModel.methodOfCommunication","1"),e.set("customerDataModel.isMethodOfCommunicationDisabled",!0),e.set("emailRequired",!1)):("nam"===e.get("loggedInCountryId")&&e.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.FIELD_TRIALS")?(e.set("customerDataModel.methodOfCommunication","4"),e.set("emailRequired",!0)):"zaf"!==e.get("loggedInCountryId")?(e.set("customerDataModel.methodOfCommunication","4"),e.set("emailRequired",!1)):(e.set("customerDataModel.methodOfCommunication","2"),e.set("emailRequired",!0)),e.set("customerDataModel.isMethodOfCommunicationDisabled",!1))}.observes("customerDataModel.acceptMarketingInfo"),communicationMethod:function(){var e=this;if(void 0!==e.get("customerDataModel.acceptMarketingInfo"))switch(e.get("customerDataModel.acceptMarketingInfo")){case"1":e.createDependentProperty("methodOfCommunicationValidator",[Komodo.UI.Validators.RequiredValidator]);break;case void 0:case null:case"0":e.removeDependentProperty("methodOfCommunicationValidator")}}.observes("customerDataModel.acceptMarketingInfo"),methodOfCommunicationChanged:function(){var e=this.get("emails")[0];this.get("emails").length;if(void 0!==this.get("customerDataModel.methodOfCommunication")&&void 0!==e&&null!==e)switch(this.get("customerDataModel.methodOfCommunication")){case"2":this.set("emailRequired",!0);break;default:this.set("emailRequired",!1)}}.observes("customerDataModel.methodOfCommunication"),identityTypeChanged:function(){var e=this;switch(e.clearCustomerDOB(),this.set("customerDataModel.idValue",void 0),e.set("isDOBDisabled",!1),e.set("customerDataModel.passportExpiryDate",void 0),e.set("paymentDetails.identificationType",e.get("customerDataModel.identityDetailType")),!1===e.get("customerDataModel.isIdentificationNumberRequire")&&e.set("paymentDetails.idType",e.get("customerDataModel.identityDetailType")),this.get("customerDataModel.identityDetailType")){case void 0:case null:e.set("customerDataModel.isDriverLicense",!1),e.set("customerDataModel.hideIndetityDetail",!1),e.set("customerDataModel.isIDFieldDisabled",!0),e.set("customerDataModel.idValue",void 0),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("passportExpiryDateValidator"),!1!==e.get("customerDataModel.isIdentificationNumberRequire")||null!==e.get("customerDataModel.identityDetailType")&&void 0!==e.get("customerDataModel.identityDetailType")||(e.removeDependentProperty("identityDetailTypeValidator"),e.removeDependentProperty("idValueValidator"));break;case"1":e.set("customerDataModel.isDriverLicense",!1),e.set("customerDataModel.hideIndetityDetail",!1),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("passportExpiryDateValidator"),e.set("customerDataModel.isIDFieldDisabled",!1),e.set("isDOBDisabled",e.get("_enableIdVerification")),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX")),e.removeDependentProperty("idValueValidator"),e.removeDependentProperty("payerIDValidator"),e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:!0===e.get("_enableIdVerification")?Komodo.UI.Validators.SAIdValidator:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator]}),e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.registerValidator(e.get("paymentDetails"),"payerID",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator});break;case Komodo.CanonicalValues.IdentificationType.Refugee:e.set("customerDataModel.isDriverLicense",!1),e.set("customerDataModel.isIDFieldDisabled",!1),e.set("customerDataModel.hideIndetityDetail",!0),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MAX")),e.createDependentProperty("countryOfOriginValidator",[Komodo.UI.Validators.RequiredValidator]),e.createDependentProperty("passportExpiryDateValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.DatePickerValidator]),e.removeDependentProperty("idValueValidator"),e.removeDependentProperty("payerIDValidator"),e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator}),e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&e.registerValidator(e.get("paymentDetails"),"payerID",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator});break;case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:e.set("customerDataModel.isDriverLicense",!1),e.set("customerDataModel.hideIndetityDetail",!1),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("passportExpiryDateValidator"),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MAX")),e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator});break;case Komodo.CanonicalValues.IdentificationType.NRC:e.set("customerDataModel.isDriverLicense",!1),e.set("customerDataModel.isIDFieldDisabled",!1),e.set("customerDataModel.hideIndetityDetail",!1),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("passportExpiryDateValidator"),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX")),e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator});break;case Komodo.CanonicalValues.IdentificationType.DrivingLicence:e.set("customerDataModel.isIDFieldDisabled",!1),e.set("customerDataModel.hideIndetityDetail",!1),e.set("customerDataModel.isDriverLicense",!0),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("passportExpiryDateValidator"),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MAX")),e.createDependentProperty("passportExpiryDateValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.DatePickerValidator]),Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.BOTSWANA")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}):e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator});break;case Komodo.CanonicalValues.IdentificationType.VotersId:e.set("customerDataModel.isDriverLicense",!1),e.set("customerDataModel.isIDFieldDisabled",!1),e.set("customerDataModel.hideIndetityDetail",!1),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("passportExpiryDateValidator"),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MAX")),Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")?e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator}):e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator});break;case Komodo.CanonicalValues.IdentificationType.NationalId:e.set("customerDataModel.isDriverLicense",!1),e.set("customerDataModel.isIDFieldDisabled",!1),e.set("customerDataModel.hideIndetityDetail",!1),e.removeDependentProperty("countryOfOriginValidator"),e.removeDependentProperty("passportExpiryDateValidator"),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MAX")),Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters}):e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator});break;default:e.set("customerDataModel.isDriverLicense",!1),e.set("customerDataModel.isIDFieldDisabled",!1),e.set("customerDataModel.hideIndetityDetail",!0),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MAX")),e.createDependentProperty("countryOfOriginValidator",[Komodo.UI.Validators.RequiredValidator]),e.createDependentProperty("passportExpiryDateValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.DatePickerValidator]),Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters}):Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}):e.registerValidator(e.get("customerDataModel"),"idValue",{type:"string",isRequired:!0,minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.alphanumericValidator})}}.observes("customerDataModel.identityDetailType"),identityTypeChangedForHouseHold:function(){var e=this;if(e.clearhouseholdMemberAndAuthorityDOB(),e.get("_enableIdVerification")&&e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),e.get("isEditMode")||e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),e.set("isHouseholdMemberAndAuthorityDOBDisabled",!1),Ember.isEmpty(e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")))!1!==e.get("customerDataModel.isIdentificationNumberRequire")||null!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")&&void 0!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")||(e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!0));else{var t=[];switch(e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority").key){case Komodo.CanonicalValues.IdentificationType.ID:e.set("isHouseholdMemberAndAuthorityDOBDisabled",e.get("_enableIdVerification")),e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX")),t=!0===e.get("_enableIdVerification")?[Komodo.UI.Validators.SAIdValidator]:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator],e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator]}),!1===e.get("customerDataModel.isIdentificationNumberRequire")&&e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.Refugee:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MAX")),t=[Komodo.UI.Validators.alphanumericValidator];break;case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MAX")),t=[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.DrivingLicence:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MAX")),t=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.BOTSWANA")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?[Komodo.UI.Validators.numericValidator]:[Komodo.UI.Validators.alphanumericValidator],e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.VotersId:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MAX")),t=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator],e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.NationalId:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MAX")),t=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters]:[Komodo.UI.Validators.alphanumericValidator],e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.NRC:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX")),t=[Komodo.UI.Validators.numericValidator],e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1);break;default:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MAX")),t=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters]:Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?[Komodo.UI.Validators.numericValidator]:[Komodo.UI.Validators.alphanumericValidator],e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:Komodo.UI.Validators.numericValidator}),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!1)}e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailValueHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailValueHouseholdMemberAndAuthority",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:t})}}.observes("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority"),houseHoldMembers:function(){var e=this;e.registerValidator(e.get("householdMemberAndAuthority"),"firstNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),e.registerValidator(e.get("householdMemberAndAuthority"),"lastNameHouseholdMemberAndAuthority",{type:"string",isRequired:!0,minLength:2,maxLength:30,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}),"0"===e.get("householdMemberAndAuthority.allowToTransactInfo")&&(this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO")||this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO")||this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MONITORING")?e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailTypeHouseholdMemberAndAuthority"}):(e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),e.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",void 0))),void 0!=this.get("_customerTypeSelected")&&(this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE")||this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE")||this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS")||this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES")||this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST")?(e.registerValidator(e.get("householdMemberAndAuthority"),"relation",{type:"string",displayName:kl.value(e.localeBase+"relation")}),e.isEmpty(e.get("householdMemberAndAuthority.relation"))&&e.isEmpty(e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority"))&&e.isEmpty(e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority"))?e.isEmpty(e.get("householdMemberAndAuthority.relation"))&&e.isEmpty(e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority"))&&e.isEmpty(e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority"))&&(e.removeHouseHoldValidations(),e.set("isAddButtonDisable",!0)):(e.pushHouseHoldValidations(),e.householdMemberInfoChnaged(),e.set("isAddButtonDisable",!1))):e.registerValidator(e.get("householdMemberAndAuthority"),"relation",{type:"string",isRequired:!0,minLength:2,maxLength:50,functions:Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator}))}.observes("householdMemberAndAuthority.relation","householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority","householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority"),isEmpty:function(e){if(void 0===e)return!0;switch(e){case void 0:case"":case null:return!0;default:return!1}},clearCustomerDOB:function(){this.set("customerDataModel.DOBDate",void 0),this.set("customerDataModel.DOBMonth",void 0),this.set("customerDataModel.DOBYear",void 0)},clearhouseholdMemberAndAuthorityDOB:function(){this.set("householdMemberAndAuthority.dd",void 0),this.set("householdMemberAndAuthority.mm",void 0),this.set("householdMemberAndAuthority.yyyy",void 0)},householdMemberInfoChnaged:function(){var e=this;if(void 0!=e.get("_customerTypeSelected")&&!(e.get("_customerTypeSelected")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEE")&&e.get("_customerTypeSelected")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE")&&e.get("_customerTypeSelected")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS")&&e.get("_customerTypeSelected")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES")||e.isEmpty(e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority"))&&e.isEmpty(e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority"))))switch(e.get("householdMemberAndAuthority.householdMemberInfo")){case"1":e.set("isAddButtonDisable",!1);break;case"0":switch(e.get("householdMemberAndAuthority.allowToTransactInfo")){case"1":e.set("isAddButtonDisable",!1);break;case"0":e.set("isAddButtonDisable",!0),e.get("isEditMode")||Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value("locale.customer:customerInformation.houseHoldMemberWarning"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","alert")}}}.observes("householdMemberAndAuthority.householdMemberInfo"),allowToTransactChanged:function(){var e=this;if(!Ember.isEmpty(e.get("householdMemberAndAuthority.allowToTransactInfo"))){switch(Ember.isEmpty(e.get("dateArray"))&&(e.loadDate(),e.loadMonth(),e.loadYear(!0)),e.get("householdMemberAndAuthority.allowToTransactInfo")){case"1":e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailTypeHouseholdMemberAndAuthority"}),e.createDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator",[Komodo.UI.Validators.RequiredValidator]),e.set("isAllowToTransactDisabled",!0),e.set("isAddButtonDisable",!1);break;case"0":switch(this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EXTERNAL_DEMO")||this.get("_customerTypeSelected")===e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.INTERNAL_DEMO")?(e.registerValidator(e.get("householdMemberAndAuthority"),"identityDetailTypeHouseholdMemberAndAuthority",{type:"string",isRequired:!0,displayName:"identityDetailTypeHouseholdMemberAndAuthority"}),e.createDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator",[Komodo.UI.Validators.RequiredValidator])):(e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority",void 0),e.set("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority",void 0)),e.get("householdMemberAndAuthority.householdMemberInfo")){case"1":e.set("isAddButtonDisable",!1);break;case"0":if(e.set("isAddButtonDisable",!0),!e.get("isEditMode"))break}e.set("isAllowToTransactDisabled",!1)}!1!==e.get("customerDataModel.isIdentificationNumberRequire")||null!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")&&void 0!==e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority")||(e.removeDependentProperty("identityDetailTypeHouseholdMemberAndAuthorityValidator"),e.removeDependentProperty("identityDetailValueHouseholdMemberAndAuthorityValidator"),e.set("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthorityDisable",!0))}}.observes("householdMemberAndAuthority.allowToTransactInfo"),hidehouseholdMemberGrid:function(){return this.get("customerDataModel.householdMemberAndAuthority").length>0}.property("customerDataModel.householdMemberAndAuthority.length"),isValidDay:function(e,t,o){var a=parseInt(t,10),n=parseInt(o,10),s=parseInt(e,10),i=new Date(s,a-1,n);return i.getFullYear()===s&&i.getMonth()+1===a&&i.getDate()===n},payerIsCustomerChanged:function(){var e=this;e.get("_enableIdVerification")&&e.set("customerDataModel.idValue",void 0),e.get("paymentDetails.payerIsCustomer")&&!Ember.isEmpty(e.validators.firstNameValidator)&&!Ember.isEmpty(e.validators.lastNameValidator)&&e.validators.firstNameValidator.errors.length<=0&&e.validators.lastNameValidator.errors.length<=0&&e.set("paymentDetails.payerName",e.get("customerDataModel.firstName")+" "+e.get("customerDataModel.lastName"))}.observes("customerDataModel.firstName","customerDataModel.lastName"),idValueChange:function(){var e=this;switch(e.set("isIdentityValidated",!1),e.get("customerDataModel.idValue")){case"":case null:case void 0:break;default:
if(e.get("paymentDetails.payerIsCustomer")&&(!Ember.isEmpty(e.validators.firstNameValidator)&&!Ember.isEmpty(e.validators.lastNameValidator)&&e.validators.firstNameValidator.errors.length<=0&&e.validators.lastNameValidator.errors.length<=0&&e.set("paymentDetails.payerName",e.get("customerDataModel.firstName")+" "+e.get("customerDataModel.lastName")),e.set("paymentDetails.payerID",e.get("customerDataModel.idValue"))),!0===e.get("isDOBDisabled"))switch(e.clearCustomerDOB(),this.get("customerDataModel.identityDetailType")){case Komodo.CanonicalValues.IdentificationType.ID:!e.isEmpty(e.get("customerDataModel.idValue"))&&e.get("customerDataModel.idValue").length>=2&&(e.set("customerDataModel.DOBYear","19"+e.get("customerDataModel.idValue").substring(0,2)),e.get("customerDataModel.idValue").length>=4&&e.set("customerDataModel.DOBMonth",e.get("customerDataModel.idValue").substring(2,4)),e.get("customerDataModel.idValue").length>=6&&(e.isValidDay(e.get("customerDataModel.DOBYear"),e.get("customerDataModel.DOBMonth"),e.get("customerDataModel.idValue").substring(4,6))?e.set("customerDataModel.DOBDate",e.get("customerDataModel.idValue").substring(4,6)):e.set("customerDataModel.DOBDate",""))),e.validateIdentificationNumber(!0,e.get("validators.firstNameValidator"),e.get("validators.lastNameValidator"),e.get("validators.idValueValidator"),e.get("customerDataModel.firstName"),e.get("customerDataModel.lastName"),e.get("customerDataModel.idValue"))}}}.observes("customerDataModel.idValue"),validateIdentificationNumber:function(e,t,o,a,n,s,i){var r=this;r.get("_enableIdVerification")&&!r.get("isEditMode")&&(t.validate(),o.validate(),a.validate(),0===a.errors.length&&0===o.errors.length&&0===a.errors.length&&(e?r.set("isIdentityValidated",!0):r.set("isHmIdentityValidated",!0)))},identityDetailValueChanged:function(){var e=this;if(e.set("isHmIdentityValidated",!1),!Ember.isEmpty(e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority"))&&(void 0!==e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")&&""!==e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority")&&e.pushHouseHoldValidations(),!0===e.get("isHouseholdMemberAndAuthorityDOBDisabled")&&!Ember.isEmpty(e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority"))))switch(e.clearhouseholdMemberAndAuthorityDOB(),e.get("householdMemberAndAuthority.identityDetailTypeHouseholdMemberAndAuthority").key){case Komodo.CanonicalValues.IdentificationType.ID:!e.isEmpty(e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority"))&&e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").length>=2&&(e.set("householdMemberAndAuthority.yyyy","19"+e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").substring(0,2)),e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").length>=4&&e.set("householdMemberAndAuthority.mm",e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").substring(2,4)),e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").length>=6&&(e.isValidDay(e.get("householdMemberAndAuthority.yyyy"),e.get("householdMemberAndAuthority.mm"),e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").substring(4,6))?e.set("householdMemberAndAuthority.dd",e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority").substring(4,6)):e.set("householdMemberAndAuthority.dd",""))),e.validateIdentificationNumber(!1,e.get("validators.firstNameHouseholdMemberAndAuthorityValidator"),e.get("validators.lastNameHouseholdMemberAndAuthorityValidator"),e.get("validators.identityDetailValueHouseholdMemberAndAuthorityValidator"),e.get("householdMemberAndAuthority.firstNameHouseholdMemberAndAuthority"),e.get("householdMemberAndAuthority.lastNameHouseholdMemberAndAuthority"),e.get("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority"))}}.observes("householdMemberAndAuthority.identityDetailValueHouseholdMemberAndAuthority"),setValues:function(e,t,o){e.set(t,o)},establishmentTypeChaned:function(){var e=this,t=[{value:Komodo.MOP.DEBIT_ORDER,title:kl.value(e._localeBase+"debitOrder")},{value:Komodo.MOP.CASH,title:kl.value(e._localeBase+"cash")}],o=[{value:Komodo.MOP.DEBIT_ORDER,title:kl.value(e._localeBase+"debitOrder")}];if(void 0!=e.get("_customerTypeSelected"))switch(Ember.isEmpty(e.get("customerDataModel.locationIndicator"))?(e.get("_businessNames").clear(),Ember.isEmpty(e.get("customerDataModel.businessName"))||e.set("customerDataModel.businessName",void 0)):e.fillCompanyNameDropDown(),e.get("_customerTypeSelected")){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCIES"):if(!Ember.isEmpty(e.get("customerDataModel.locationIndicator")))switch(e.get("paymentTypesList").clear(),e.set("paymentType",Komodo.MOP.DEBIT_ORDER),e.get("customerDataModel.locationIndicator").CanonicalKey){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.RETRENCHEE"):e.set("paymentTypesList",t),e.set("customerDataModel.isBenefitEndDtDisabled",!1);break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.LEARNERSHIP"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.TEMPORARY"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.THIRD_PARTY_TEMPORARY"):case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.AGENCY"):e.set("paymentTypesList",o);break;default:e.set("paymentTypesList",t),e.set("customerDataModel.isBenefitEndDtDisabled",!0),e.removeDependentProperty("benefitEndDateValidator")}break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE"):if(null!=e.get("customerDataModel.locationIndicator")||void 0!=e.get("customerDataModel.locationIndicator"))switch(e.get("customerDataModel.locationIndicator").CanonicalKey){case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.RETRENCHEE"):e.set("customerDataModel.isBenefitEndDtDisabled",!1);break;default:e.set("customerDataModel.isBenefitEndDtDisabled",!0),e.removeDependentProperty("benefitEndDateValidator")}break;case e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS"):e.set("customerDataModel.isBenefitEndDtDisabled",!0),e.removeDependentProperty("benefitEndDateValidator");break;default:e.set("customerDataModel.isBenefitEndDtDisabled",!1)}}.observes("customerDataModel.locationIndicator"),employmentTypeChanged:function(){var e=this;void 0!=e.get("_customerTypeSelected")&&(null!=e.get("customerDataModel.employmentType")||void 0!=e.get("customerDataModel.employmentType")?e.fillCompanyNameDropDown():e.get("_businessNames").clear())}.observes("customerDataModel.employmentType"),documentTypeChanged:function(){var e=this;$(e.get("documentTypes")).each(function(t,o){if($.grep(e.get("customerDataModel.customerDocuments"),function(e){return e.documentType===o.value}).length>1)return void Komodo.Controls.MessageBoxController.show(kl.value("locale.specialistCustomer:customer.useCaseTitle"),kl.value(e.localeBase+"documentAlreadyAdded"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","danger")})}.observes("customerDataModel.customerDocuments.@each.documentType"),customerIsNotAccountHolder:function(){var e=this;e.set("paymentDetails.paymentType",Komodo.MOP.DEBIT_ORDER),e.get("_customerTypeSelected")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.MULTICHOICE")&&e.get("_customerTypeSelected")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.NASPERS")&&Ember.isEmpty(e.get("defaultDayShow"))&&e.set("paymentDetails.debitOrderDay",void 0),e.set("paymentDetails.accountNo",void 0),e.set("paymentDetails.accountType",void 0),e.set("paymentDetails.bank",void 0),e.set("paymentDetails.branchName",void 0),e.set("paymentDetails.payerName",void 0),e.set("paymentDetails.payerID",void 0),e.set("paymentDetails.countryCode",void 0),e.set("paymentDetails.contactValue",void 0),e.set("paymentDetails.accountHolderEmailAddress",void 0)}.observes("paymentDetails.payerIsCustomer"),contactValueChanged:function(){for(var e=this,t=0;t<e.get("contactNumbers").length;t++)void 0!=e.get("contactNumbers")[t].isPrimary&&void 0!=e.get("contactNumbers")[t].contactValue&&void 0!=e.get("contactNumbers")[t].countryCode&&!0===e.get("contactNumbers")[t].isPrimary&&(e.set("paymentDetails.countryCode",e.get("contactNumbers")[t].countryCode),e.set("paymentDetails.contactValue",e.get("contactNumbers")[t].countryCode+e.get("contactNumbers")[t].contactValue),e.set("paymentDetails.contactType",e.get("contactNumbers")[t].type))}.observes("contactNumbers.@each.countryCode","contactNumbers.@each.contactValue","paymentDetails.payerIsCustomer","contactNumbers.@each.type"),emailAddressChanged:function(){var e=this;e.set("paymentDetails.disableAccountHolderEmailAddress",!1);for(var t=0;t<e.get("emails").length;t++)void 0!=e.get("emails")[t].isPrimary&&void 0!=e.get("emails")[t].contactValue&&(Ember.isEmpty(e.get("emails")[t].contactValue)||e.set("paymentDetails.disableAccountHolderEmailAddress",!0),!0===e.get("emails")[t].isPrimary&&e.set("paymentDetails.accountHolderEmailAddress",e.get("emails")[t].contactValue))}.observes("emails.@each.contactValue","paymentDetails.payerIsCustomer"),paymentDetailsChanged:function(){var e=this;e.get("customerDataModel.customerDocuments")&&e.get("customerDataModel.customerDocuments").clear(),e.get("fileUploader.files")&&e.get("fileUploader.files").clear(),e.set("paymentDetails.nonAHVCompliant",!1),e.set("paymentDetails.AHVError",""),e.set("paymentDetails.ahvCompliant",!1),e.set("paymentDetails.ahvOverride",!1),e.set("paymentDetails.disabeAHVRealtime",!1)}.observes("paymentDetails.payerIsCustomer","paymentDetails.payerName","paymentDetails.bank","paymentDetails.accountNo","paymentDetails.branchName","paymentDetails.payerID","paymentDetails.accountType"),MOPChanged:function(){var e=this;e.set("defaultDayShow",void 0),e.get("isIPDayDefaultAndDisable")&&(e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER?e.setIPDayToDefault():e.get("paymentDetails.paymentType")===Komodo.MOP.CASH&&e.set("disablePaymentDay",!1))}.observes("paymentDetails.paymentType"),setIPDayToDefault:function(){var e=this;!e.get("isIPDayDefaultAndDisable")||e.get("_customerTypeSelected")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DIPLOMAT")&&e.get("_customerTypeSelected")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.PANELIST")?e.set("disablePaymentDay",!1):(e.set("disablePaymentDay",!0),e.set("defaultDayShow",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.DEFAULT_IP_DAY")))},countries:[],provinces:[],cities:[],suburbs:[],postalCodes:[],languages:[],countriesOfOrigin:[],banks:[],bankBranches:[],idTypes:[],communicationMethods:[],addressTypes:[],methodsOfPayment:[],methodsOfPaymentCanonical:[],contactNumbers:[],countryDescription:void 0,emails:[],quoteDialingCode:void 0,methodOfPayment:[],_titles:[],_customerTypes:[],_businessNames:[],_departments:[],sponsors:[],demoTypes:[],_customerTypeSelected:void 0,locationIndicatorsVIP:[],locationIndicatorsDiplomat:[],locationIndicatorsShareholders:[],locationIndicatorSalesPromoter:[],locationIndicatorInternalDemo:[],locationIndicatorsMultichoice:[],locationIndicatorsNaspers:[],locationIndicatorsAgencies:[],locationIndicatorsPanelist:[],locationIndicatorsFieldTrialist:[],locationIndicatorMonitoring:[],employmentTypes:[],_householdMemberRelation:[],localeBase:"locale.specialistCustomer:customerInformation.",mainLocaleBase:"locale.specialistCustomer:customer.",submitCustomerDetails:null,countrySelection:void 0,postalSameAsPhysical:!1,showSameAsPhysical:!1,mobileCount:0,homephoneCount:0,workPhoneCount:0,MAXIMUM_CONTACT_PER_TYPE:4,firstNameFromQuote:void 0,lastNameFromQuote:void 0,leadUidFromQuote:void 0,debitOrderDaylabel:void 0,debitOrderDay:void 0,disablePayer:!1,dialingCode:void 0,nameRegularExpression:"^[a-zA-Z]+[ ]?[a-zA-Z]*[ ]?[a-zA-Z]*$/",physicaladdress:!0,mobileCode:[],paymentType:void 0,customertype:[],dateArray:[],monthArray:[],yearArray:[],dateArrayDOB:[],monthArrayDOB:[],yearArrayDOB:[],debitOderDays:[],objectForEmployee:void 0,_datePast:void 0,paymentTypesList:[],hideViewingPlatform:!0,emailRequired:void 0,accessOnlyEmployee:"clarity://specialistCustomer/employeeAccounts",accessOnlypanelist:"clarity://specialistCustomer/panelistAccount",employeeCustType:[],vipCustType:[],employeeVIPCustType:[],customerId:void 0,country:void 0,customerCreatedPayload:void 0,logDocumentCase:!1,caseOutcome:[],identificationMinLength:void 0,isDOBDisabled:void 0,isHouseholdMemberAndAuthorityDOBDisabled:void 0,defaultDayShow:void 0,startIPDayWithOne:void 0,isHidePaymentDetailsForSalesPromoter:!1,paymentDetails:Komodo.Models.PaymentDetailsModel.create(),identificationMaxLength:void 0,isIdentityValidated:!1,isHmIdentityValidated:!1,isEditMode:!1,isIPDayDefaultAndDisable:!1}),Komodo.Services.localizationService.registerNamespace("locale.customer"),Komodo.Services.localizationService.registerNamespace("locale.commercialcustomer"),Komodo.Services.localizationService.registerNamespace("locale.csicustomer"),Komodo.Services.localizationService.registerNamespace("locale.errorcodes"),Komodo.Services.localizationService.registerNamespace("locale.specialistCustomer"),Komodo.Services.localizationService.registerNamespace("locale.createDealer"),Komodo.Services.localizationService.registerNamespace("locale.addressControl"),Komodo.Services.localizationService.registerNamespace("locale.Contact"),Komodo.Services.localizationService.registerNamespace("locale.identificationControl"),Komodo.Services.localizationService.registerNamespace("locale.datepickerControl");