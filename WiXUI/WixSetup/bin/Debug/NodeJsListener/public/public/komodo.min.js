!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Z.type(e);return"function"!==n&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pe[e]={};return Z.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function s(){K.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ye,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ve.test(n)?Z.parseJSON(n):n)}catch(e){}me.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return K.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=He.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;n<r;n++)ge.set(e[n],"globalEval",!t||ge.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(ge.hasData(e)&&(o=ge.access(e),s=ge.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)Z.event.add(t,i,l[i][n])}me.hasData(e)&&(a=me.access(e),u=Z.extend({},a),me.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Te.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function x(t,n){var r=Z(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:Z.css(r[0],"display");return r.detach(),i}function b(e){var t=K,n=Me[e];return n||(n=x(e,t),"none"!==n&&n||(Pe=(Pe||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Pe[0].contentDocument,t.write(),t.close(),n=x(e,t),Pe.detach()),Me[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||$e(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),We.test(s)&&Re.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ue.length;i--;)if((t=Ue[i]+n)in e)return t;return r}function N(e,t,n){var r=Ie.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=Z.css(e,n+be[o],!0,i)),r?("content"===n&&(s-=Z.css(e,"padding"+be[o],!0,i)),"margin"!==n&&(s-=Z.css(e,"border"+be[o]+"Width",!0,i))):(s+=Z.css(e,"padding"+be[o],!0,i),"padding"!==n&&(s+=Z.css(e,"border"+be[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=$e(e),s="border-box"===Z.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=w(e,t,o),(i<0||null==i)&&(i=e.style[t]),We.test(i))return i;r=s&&(J.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function D(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)r=e[s],r.style&&(o[s]=ge.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&we(r)&&(o[s]=ge.access(r,"olddisplay",b(r.nodeName)))):o[s]||(i=we(r),(n&&"none"!==n||!i)&&ge.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;s<a;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function j(e,t,n,r,i){return new j.prototype.init(e,t,n,r,i)}function S(){return setTimeout(function(){Ve=void 0}),Ve=Z.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=be[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(Ze[t]||[]).concat(Ze["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c=this,f={},p=e.style,d=e.nodeType&&we(e),h=ge.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=Z.css(e,"display"),"none"===l&&(l=b(e.nodeName)),"inline"===l&&"none"===Z.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ge.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;d=!0}f[r]=h&&h[r]||Z.style(e,r)}if(!Z.isEmptyObject(f)){h?"hidden"in h&&(d=h.hidden):h=ge.access(e,"fxshow",{}),o&&(h.hidden=!d),d?Z(e).show():c.done(function(){Z(e).hide()}),c.done(function(){var t;ge.remove(e,"fxshow");for(t in f)Z.style(e,t,f[t])});for(r in f)s=L(d?h[r]:0,r,c),r in h||(h[r]=s.start,d&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=Z.cssHooks[r])&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=Ke.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ve||S(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),o<1&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ve||S(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);o<s;o++)if(r=Ke[o].call(l,e,c,l.opts))return r;return Z.map(c,L,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(fe)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,Z.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===vt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function M(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function R(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||bt.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function B(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var I=[],_=I.slice,X=I.concat,z=I.push,U=I.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q="".trim,J={},K=e.document,Z=function(e,t){return new Z.fn.init(e,t)},ee=/^-ms-/,te=/-([\da-z])/gi,ne=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:"2.1.0",constructor:Z,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:I.sort,splice:I.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Z.extend({expando:"jQuery"+("2.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if("object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=Z.trim(e))&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ee,"ms-").replace(te,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,s=n(e);if(r){if(s)for(;i<o&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(s)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":Q.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):z.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;o<s;o++)null!=(i=t(e[o],o,r))&&u.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&u.push(i);return X.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e))return r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i},now:Date.now,support:J}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,n,r){var i,o,s,a,l,p,d,h,g,m;if((t?t.ownerDocument||t:R)!==A&&S(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(q&&!r){if(i=me.exec(e))if(s=i[1]){if(9===a){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&P(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!H||!H.test(e))){if(h=d=M,g=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(p=c(e),(d=t.getAttribute("id"))?h=d.replace(ye,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=p.length;l--;)p[l]=h+f(p[l]);g=ve.test(e)&&u(t.parentNode)||t,m=p.join(",")}if(m)try{return J.apply(n,g.querySelectorAll(m)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return x(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[M]=!0,e}function i(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&typeof e.getElementsByTagName!==z&&e}function l(){}function c(e,n){var r,i,o,s,a,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){r&&!(i=ae.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ue.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),a=a.slice(r.length));for(s in T.filter)!(i=pe[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):I(e,u).slice(0)}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[W,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[M]||(t[M]={}),(a=u[r])&&a[0]===W&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),l&&t.push(a)));return s}function g(e,t,n,i,o,s){return i&&!i[M]&&(i=g(i)),o&&!o[M]&&(o=g(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],g=s.length,m=r||y(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?m:h(m,p,e,a,u),x=n?o||(r?e:g||i)?[]:s:v;if(n&&n(v,x,a,u),i)for(l=h(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(v[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(v[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?Z.call(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=h(x===s?x.splice(g,x.length):x),o?o(null,s,x,u):J.apply(s,x)})}function m(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=p(function(e){return e===t},s,!0),l=p(function(e){return Z.call(t,e)>-1},s,!0),c=[function(e,n,r){return!o&&(r||n!==E)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];a<i;a++)if(n=T.relative[e[a].type])c=[p(d(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[M]){for(r=++a;r<i&&!T.relative[e[r].type];r++);return g(a>1&&d(c),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(se,"$1"),n,a<r&&m(e.slice(a,r)),r<i&&m(e=e.slice(r)),r<i&&f(e))}c.push(n)}return d(c)}function v(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,g="0",m=r&&[],v=[],y=E,x=r||o&&T.find.TAG("*",l),b=W+=null==y?1:Math.random()||.1,w=x.length;for(l&&(E=s!==A&&s);g!==w&&null!=(c=x[g]);g++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(W=b)}i&&((c=!p&&c)&&d--,r&&m.push(c))}if(d+=g,i&&g!==d){for(f=0;p=n[f++];)p(m,v,s,a);if(r){if(d>0)for(;g--;)m[g]||v[g]||(v[g]=G.call(u));v=h(v)}J.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(W=b,E=y),m};return i?r(s):s}function y(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function x(e,t,n,r){var i,o,s,a,l,p=c(e);if(!r&&1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&q&&T.relative[o[1].type]){if(!(t=(T.find.ID(s.matches[0].replace(xe,be),t)||[])[0]))return n;e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((l=T.find[a])&&(r=l(s.matches[0].replace(xe,be),ve.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return J.apply(n,r),n;break}}return k(e,p)(r,t,!q,n,ve.test(e)&&u(t.parentNode)||t),n}var b,w,T,C,N,k,E,D,j,S,A,L,q,H,O,F,P,M="sizzle"+-new Date,R=e.document,W=0,$=0,B=n(),I=n(),_=n(),X=function(e,t){return e===t&&(j=!0),0},z="undefined",U=1<<31,V={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,J=Y.push,K=Y.slice,Z=Y.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ne.replace("w","w#"),ie="\\["+te+"*("+ne+")"+te+"*(?:([*^$|!~]?=)"+te+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+re+")|)|)"+te+"*\\]",oe=":("+ne+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ie.replace(3,8)+")*)|.*)\\)|)",se=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ae=new RegExp("^"+te+"*,"+te+"*"),ue=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),le=new RegExp("="+te+"*([^\\]'\"]*?)"+te+"*\\]","g"),ce=new RegExp(oe),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{J.apply(Y=K.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(e){J={apply:Y.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},S=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:R,r=n.defaultView;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,L=n.documentElement,q=!N(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){S()},!1):r.attachEvent&&r.attachEvent("onunload",function(){S()})),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=i(function(e){return L.appendChild(e).id=M,!n.getElementsByName||!n.getElementsByName(M).length}),w.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==z&&q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(xe,be);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(xe,be);return function(e){var n=typeof e.getAttributeNode!==z&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==z)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==z&&q)return t.getElementsByClassName(e)},O=[],H=[],(w.qsa=ge.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&H.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+te+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(w.matchesSelector=ge.test(F=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){w.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),O.push("!=",oe)}),H=H.length&&new RegExp(H.join("|")),O=O.length&&new RegExp(O.join("|")),t=ge.test(L.compareDocumentPosition),P=t||ge.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return j=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===R&&P(R,e)?-1:t===n||t.ownerDocument===R&&P(R,t)?1:D?Z.call(D,e)-Z.call(D,t):0:4&r?-1:1)}:function(e,t){if(e===t)return j=!0,0;var r,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:D?Z.call(D,e)-Z.call(D,t):0;if(o===a)return s(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},n):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&S(e),n=n.replace(le,"='$1']"),w.matchesSelector&&q&&(!O||!O.test(n))&&(!H||!H.test(n)))try{var r=F.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&S(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&S(e);var n=T.attrHandle[t.toLowerCase()],r=n&&V.call(T.attrHandle,t.toLowerCase())?n(e,t,!q):void 0;return void 0!==r?r:w.attributes||!q?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(X),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,be),e[3]=(e[4]||e[5]||"").replace(xe,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ce.test(n)&&(t=c(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==z&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[M]||(m[M]={}),l=c[e]||[],d=l[0]===W&&l[1],p=l[0]===W&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[W,d,p];break}}else if(y&&(l=(t[M]||(t[M]={}))[e])&&l[0]===W)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[M]||(f[M]={}))[e]=[W,p]),f!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[M]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=Z.call(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(se,"$1"));return i[M]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,be).toLowerCase(),function(t){var n;do{if(n=q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return l.prototype=T.filters=T.pseudos,T.setFilters=new l,k=t.compile=function(e,t){var n,r=[],i=[],o=_[e+" "];if(!o){for(t||(t=c(e)),n=t.length;n--;)o=m(t[n]),o[M]?r.push(o):i.push(o);o=_(e,v(i,r))}return o},w.sortStable=M.split("").sort(X).join("")===M,w.detectDuplicates=!!j,S(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ee,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=re,Z.expr=re.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=re.uniqueSort,Z.text=re.getText,Z.isXMLDoc=re.isXML,Z.contains=re.contains;var ie=Z.expr.match.needsContext,oe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;t<n;t++)if(Z.contains(i[t],this))return!0}));for(t=0;t<n;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){
return!!r(this,"string"==typeof e&&ie.test(e)?Z(e):e||[],!1).length}});var ae,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e))||!n[1]&&t)return!t||t.jquery?(t||ae).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),oe.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=K.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?void 0!==ae.ready?ae.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))}).prototype=Z.fn,ae=Z(K);var le=/^(?:parents|prev(?:Until|All))/,ce={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=ie.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(Z(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(ce[e]||Z.unique(i),le.test(e)&&i.reverse()),this.pushStack(i)}});var fe=/\S+/g,pe={};Z.Callbacks=function(e){e="string"==typeof e?pe[e]||o(e):Z.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&a<s;a++)if(!1===u[a].apply(o[0],o[1])&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function t(n){Z.each(n,function(n,r){var i=Z.type(r);"function"===i?e.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),r&&(n<=s&&s--,n<=a&&a--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var s=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,u=1===a?e:Z.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var de;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(!0===e?--Z.readyWait:Z.isReady)||(Z.isReady=!0,!0!==e&&--Z.readyWait>0||(de.resolveWith(K,[Z]),Z.fn.trigger&&Z(K).trigger("ready").off("ready")))}}),Z.ready.promise=function(t){return de||(de=Z.Deferred(),"complete"===K.readyState?setTimeout(Z.ready):(K.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),de.promise(t)},Z.ready.promise();var he=Z.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Z(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(fe)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ge=new a,me=new a,ve=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ye=/([A-Z])/g;Z.extend({hasData:function(e){return me.hasData(e)||ge.hasData(e)},data:function(e,t,n){return me.access(e,t,n)},removeData:function(e,t){me.remove(e,t)},_data:function(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=me.get(o),1===o.nodeType&&!ge.get(o,"hasDataAttrs"))){for(n=s.length;n--;)r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r]));ge.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){me.set(this,e)}):he(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(void 0!==(n=me.get(o,e)))return n;if(void 0!==(n=me.get(o,r)))return n;if(void 0!==(n=u(o,r,void 0)))return n}else this.each(function(){var n=me.get(this,r);me.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&me.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){me.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ge.get(e,t),n&&(!r||Z.isArray(n)?r=ge.access(e,t,Z.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ge.get(e,n)||ge.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ge.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,be=["Top","Right","Bottom","Left"],we=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Te=/^(?:checkbox|radio)$/i;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();J.focusinBubbles="onfocusin"in e;var Ce=/^key/,Ne=/^(?:mouse|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ge.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==Z&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],l=t.length;l--;)a=Ee.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=Z.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Z.event.special[d]||{},c=Z.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,s)||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Z.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ge.hasData(e)&&ge.get(e);if(m&&(u=m.events)){for(t=(t||"").match(fe)||[""],l=t.length;l--;)if(a=Ee.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=Z.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||Z.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)Z.event.remove(e,d+t[l],n,r,!0);Z.isEmptyObject(u)&&(delete m.handle,ge.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||K],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!ke.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Z.expando]?t:new Z.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),f=Z.event.special[d]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!Z.isWindow(r)){for(u=f.delegateType||d,ke.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||K)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(ge.get(s,"events")||{})[t.type]&&ge.get(s,"handle"),c&&c.apply(s,n),(c=l&&s[l])&&c.apply&&Z.acceptData(s)&&(t.result=c.apply(s,n),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),n)||!Z.acceptData(r)||l&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[l],a&&(r[l]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(ge.get(this,"events")||{})[e.type]||[],l=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=Z.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;n<a;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ne.test(i)?this.mouseHooks:Ce.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Z.nodeName(this,"input"))return this.click(),!1},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){if(!(this instanceof Z.Event))return new Z.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),this[Z.expando]=!0},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Z.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ge.access(r,t);i||r.addEventListener(e,n,!0),ge.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ge.access(r,t)-1;i?ge.access(r,t,i):(r.removeEventListener(e,n,!0),ge.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Z.event.trigger(e,t,n,!0)}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,je=/<([\w:]+)/,Se=/<|&#?\w+;/,Ae=/<(?:script|style|link)/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^$|\/(?:java|ecma)script/i,He=/^true\/(.*)/,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,Z.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;r<i;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;r<i;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if((i=e[p])||0===i)if("object"===Z.type(i))Z.merge(f,i.nodeType?[i]:i);else if(Se.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(je.exec(i)||["",""])[1].toLowerCase(),a=Fe[s]||Fe._default,o.innerHTML=a[1]+i.replace(De,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Z.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||-1===Z.inArray(i,r))&&(u=Z.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)qe.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o,s,a=Z.event.special,u=0;void 0!==(n=e[u]);u++){if(Z.acceptData(n)&&(o=n[ge.expando])&&(t=ge.cache[o])){if(r=Object.keys(t.events||{}),r.length)for(s=0;void 0!==(i=r[s]);s++)a[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);ge.cache[o]&&delete ge.cache[o]}delete me.cache[n[me.expando]]}}}),Z.fn.extend({text:function(e){return he(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){p(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return he(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!Fe[(je.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(De,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=Z.isFunction(p);if(g||l>1&&"string"==typeof p&&!J.checkClone&&Le.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(v(n,"script"),d),o=i.length;u<l;u++)s=n,u!==f&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,h),u=0;u<o;u++)s=i[u],qe.test(s.type||"")&&!ge.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Oe,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),Z(i[s])[t](n),z.apply(r,n.get());return this.pushStack(r)}});var Pe,Me={},Re=/^margin/,We=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),$e=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",i.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=K.documentElement,o=K.createElement("div"),s=K.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(s),e.getComputedStyle&&Z.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),s.innerHTML="",t}})}(),Z.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var Be=/^(none|table(?!-c[ea]).+)/,Ie=new RegExp("^("+xe+")(.*)$","i"),_e=new RegExp("^([+-])=("+xe+")","i"),Xe={position:"absolute",visibility:"hidden",display:"block"},ze={letterSpacing:0,fontWeight:400},Ue=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Z.camelCase(t),u=e.style;if(t=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),s=Z.cssHooks[t]||Z.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t];o=typeof n,"string"===o&&(i=_e.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]="",u[t]=n))}},css:function(e,t,n,r){var i,o,s,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=C(e.style,a)),s=Z.cssHooks[t]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in ze&&(i=ze[t]),""===n||n?(o=parseFloat(i),!0===n||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&Be.test(Z.css(e,"display"))?Z.swap(e,Xe,function(){return E(e,t,r)}):E(e,t,r)},set:function(e,n,r){var i=r&&$e(e);return N(e,n,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=T(J.reliableMarginRight,function(e,t){if(t)return Z.swap(e,{display:"inline-block"},w,[e,"marginRight"])}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+be[r]+t]=o[r]||o[r-2]||o[0];return i}},Re.test(e)||(Z.cssHooks[e+t].set=N)}),Z.fn.extend({css:function(e,t){return he(this,function(e,t,n){var r,i,o={},s=0;if(Z.isArray(t)){for(r=$e(e),i=t.length;s<i;s++)o[t[s]]=Z.css(e,t[s],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){we(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=j,j.prototype={constructor:j,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=j.prototype.init,Z.fx.step={};var Ve,Ye,Ge=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),Je=/queueHooks$/,Ke=[q],Ze={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Qe.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==o&&+r)&&Qe.exec(Z.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do{a=a||".5",s/=a,Z.style(n.elem,e,s+o)}while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],Ze[n]=Ze[n]||[],Ze[n].unshift(t)},prefilter:function(e,t){t?Ke.unshift(e):Ke.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(we).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),s=function(){var t=O(this,Z.extend({},e),o);(i||ge.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,s=ge.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Je.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||Z.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ge.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Ve=Z.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Ve=void 0},Z.fx.timer=function(e){Z.timers.push(e),
e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Ye||(Ye=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Ye),Ye=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var et,tt=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return he(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?et:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(fe);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),et={set:function(e,t,n){return!1===t?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=tt[t]||Z.find.attr;tt[t]=function(e,t,r){var i,o;return r||(o=tt[t],tt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,tt[t]=o),i}});var nt=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return he(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||nt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var rt=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];u<l;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(rt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];u<l;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(rt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(fe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else"undefined"!==n&&"boolean"!==n||(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||!1===e?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(rt," ").indexOf(t)>=0)return!0;return!1}});var it=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),(t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(it,""):null==n?"":n)}}}),Z.extend({valHooks:{select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&(J.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(Z(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){if(Z.isArray(t))return e.checked=Z.inArray(Z(e).val(),t)>=0}},J.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ot=Z.now(),st=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+e),t};var at,ut,lt=/#.*$/,ct=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,dt=/^(?:GET|HEAD)$/,ht=/^\/\//,gt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,mt={},vt={},yt="*/".concat("*");try{ut=location.href}catch(e){ut=K.createElement("a"),ut.href="",ut=ut.href}at=gt.exec(ut.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut,type:"GET",isLocal:pt.test(at[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,Z.ajaxSettings),t):M(Z.ajaxSettings,e)},ajaxPrefilter:F(mt),ajaxTransport:F(vt),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(y=R(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),(b=w.getResponseHeader("etag"))&&(Z.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=Z.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?Z(p):Z.event,h=Z.Deferred(),g=Z.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=ft.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||ut)+"").replace(lt,"").replace(ht,at[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().match(fe)||[""],null==f.crossDomain&&(u=gt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===at[1]&&u[2]===at[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(at[3]||("http:"===at[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),P(mt,f,t,w),2===x)return w;l=f.global,l&&0==Z.active++&&Z.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!dt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(st.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=ct.test(i)?i.replace(ct,"$1_="+ot++):i+(st.test(i)?"&":"?")+"_="+ot++)),f.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+yt+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(p,w,f)||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(vt,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(e){if(!(x<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var xt=/%20/g,bt=/\[\]$/,wt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(xt,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Ct.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!Te.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Nt=0,kt={},Et={0:200,1223:204},Dt=Z.ajaxSettings.xhr();e.ActiveXObject&&Z(e).on("unload",function(){for(var e in kt)kt[e]()}),J.cors=!!Dt&&"withCredentials"in Dt,J.ajax=Dt=!!Dt,Z.ajaxTransport(function(e){var t;if(J.cors||Dt&&!e.crossDomain)return{send:function(n,r){var i,o=e.xhr(),s=++Nt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete kt[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Et[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=kt[s]=t("abort"),o.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var jt=[],St=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||Z.expando+"_"+ot++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=!1!==t.jsonp&&(St.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&St.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(St,"$1"+i):!1!==t.jsonp&&(t.url+=(st.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,jt.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var r=oe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var At=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&At)return At.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=e.slice(a),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Lt=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=Z.css(e,"position"),f=Z(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=Z.css(e,"top"),u=Z.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Z.contains(t,r)?(void 0!==r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=B(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Lt;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Lt})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return he(this,function(t,i,o){var s=B(t);if(void 0===o)return s?s[n]:t[i];s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=T(J.pixelPosition,function(e,n){if(n)return n=w(e,t),We.test(n)?Z(e).position()[t]+"px":n})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return he(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,s):Z.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var qt=e.jQuery,Ht=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Ht),t&&e.jQuery===Z&&(e.jQuery=qt),Z},void 0===t&&(e.jQuery=e.$=Z),Z});
jQuery.ajax({async:!1,type:"GET",cache:!1,url:KomodoConfiguration.apiUrl+(-1==KomodoConfiguration.apiUrl.indexOf("/",KomodoConfiguration.apiUrl.length-1)?"/":"")+"browserconfiguration"}).done(function(o){KomodoConfiguration.browser=o}).fail(function(o,r,n){var i="[could not get browser configuration] : "+n;throw alert(i),new Error(i)}),$.ajax();
var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),e=function(t){"use strict";function e(t){return a[t]||"&amp;"}function s(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])}function i(t){return t instanceof o?t.toString():t||0===t?(t=""+t,c.test(t)?t.replace(h,e):t):""}function n(t){return!t&&0!==t||!(!u(t)||0!==t.length)}var r={},o=t,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},h=/[&<>"'`]/g,c=/[&<>"'`]/;r.extend=s;var p=Object.prototype.toString;r.toString=p;var l=function(t){return"function"==typeof t};l(/x/)&&(l=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)});var l;r.isFunction=l;var u=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};return r.isArray=u,r.escapeExpression=i,r.isEmpty=n,r}(t),s=function(){"use strict";function t(){for(var t=Error.prototype.constructor.apply(this,arguments),s=0;s<e.length;s++)this[e[s]]=t[e[s]]}var e=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),i=function(t,e){"use strict";function s(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,s){var i=s.inverse||function(){},n=s.fn;return p(e)&&(e=e.call(this)),!0===e?n(this):!1===e||null==e?i(this):c(e)?e.length>0?t.helpers.each(e,s):i(this):n(e)}),t.registerHelper("each",function(t,e){var s,i=e.fn,n=e.inverse,r=0,o="";if(p(t)&&(t=t.call(this)),e.data&&(s=f(e.data)),t&&"object"==typeof t)if(c(t))for(var a=t.length;r<a;r++)s&&(s.index=r,s.first=0===r,s.last=r===t.length-1),o+=i(t[r],{data:s});else for(var h in t)t.hasOwnProperty(h)&&(s&&(s.key=h),o+=i(t[h],{data:s}),r++);return 0===r&&(o=n(this)),o}),t.registerHelper("if",function(t,e){return p(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,s){return t.helpers.if.call(this,e,{fn:s.inverse,inverse:s.fn,hash:s.hash})}),t.registerHelper("with",function(t,e){if(p(t)&&(t=t.call(this)),!o.isEmpty(t))return e.fn(t)}),t.registerHelper("log",function(e,s){var i=s.data&&null!=s.data.level?parseInt(s.data.level,10):1;t.log(i,e)})}function n(t,e){u.log(t,e)}var r={},o=t,a=e;r.VERSION="1.1.2";r.COMPILER_REVISION=4;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=h;var c=o.isArray,p=o.isFunction,l=o.toString;r.HandlebarsEnvironment=s,s.prototype={constructor:s,logger:u,log:n,registerHelper:function(t,e,s){if("[object Object]"===l.call(t)){if(s||e)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else s&&(e.not=s),this.helpers[t]=e},registerPartial:function(t,e){"[object Object]"===l.call(t)?o.extend(this.partials,t):this.partials[t]=e}};var u={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(u.level<=t){var s=u.methodMap[t];"undefined"!=typeof console&&console[s]&&console[s].call(console,e)}}};r.logger=u,r.log=n;var f=function(t){var e={};return o.extend(e,t),e};return r.createFrame=f,r}(e,s),n=function(t,e,s){"use strict";function i(t){var e=t&&t[0]||1,s=u;if(e!==s){if(e<s){var i=f[s],n=f[e];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+n+").")}throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function n(t,e){if(!e)throw new Error("No environment passed to template");var s;s=e.compile?function(t,s,i,n,r,o){var h=a.apply(this,arguments);if(h)return h;var c={helpers:n,partials:r,data:o};return r[s]=e.compile(t,{data:void 0!==o},e),r[s](i,c)}:function(t,e){var s=a.apply(this,arguments);if(s)return s;throw new l("The partial "+e+" could not be compiled when running in runtime-only mode")};var n={escapeExpression:p.escapeExpression,invokePartial:s,programs:[],program:function(t,e,s){var i=this.programs[t];return s?i=o(t,e,s):i||(i=this.programs[t]=o(t,e)),i},merge:function(t,e){var s=t||e;return t&&e&&t!==e&&(s={},p.extend(s,e),p.extend(s,t)),s},programWithDepth:r,noop:h,compilerInfo:null};return function(s,r){r=r||{};var o,a,h=r.partial?r:e;r.partial||(o=r.helpers,a=r.partials);var c=t.call(n,h,s,o,a,r.data);return r.partial||i(n.compilerInfo),c}}function r(t,e,s){var i=Array.prototype.slice.call(arguments,3),n=function(t,n){return n=n||{},e.apply(this,[t,n.data||s].concat(i))};return n.program=t,n.depth=i.length,n}function o(t,e,s){var i=function(t,i){return i=i||{},e(t,i.data||s)};return i.program=t,i.depth=0,i}function a(t,e,s,i,n,r){var o={partial:!0,helpers:i,partials:n,data:r};if(void 0===t)throw new l("The partial "+e+" could not be found");if(t instanceof Function)return t(s,o)}function h(){return""}var c={},p=t,l=e,u=s.COMPILER_REVISION,f=s.REVISION_CHANGES;return c.template=n,c.programWithDepth=r,c.program=o,c.invokePartial=a,c.noop=h,c}(e,s,i),r=function(t,e,s,i,n){"use strict";var r=t,o=e,a=s,h=i,c=n,p=function(){var t=new r.HandlebarsEnvironment;return h.extend(t,r),t.SafeString=o,t.Exception=a,t.Utils=h,t.VM=c,t.template=function(e){return c.template(e,t)},t},l=p();return l.create=p,l}(i,t,s,e,n),o=function(t){"use strict";function e(t,s,i){this.type="program",this.statements=t,this.strip={},i?(this.inverse=new e(i,s),this.strip.right=s.left):s&&(this.strip.left=s.right)}function s(t,e,s,i){this.type="mustache",this.hash=e,this.strip=i;var n=s[3]||s[2];this.escaped="{"!==n&&"&"!==n;var r=this.id=t[0],o=this.params=t.slice(1),a=this.eligibleHelper=r.isSimple;this.isHelper=a&&(o.length||e)}function i(t,e,s){this.type="partial",this.partialName=t,this.context=e,this.strip=s}function n(t,e,s,i){if(t.id.original!==i.path.original)throw new g(t.id.original+" doesn't match "+i.path.original);this.type="block",this.mustache=t,this.program=e,this.inverse=s,this.strip={left:t.strip.left,right:i.strip.right},(e||s).strip.left=t.strip.right,(s||e).strip.right=i.strip.left,s&&!e&&(this.isInverse=!0)}function r(t){this.type="content",this.string=t}function o(t){this.type="hash",this.pairs=t}function a(t){this.type="ID";for(var e="",s=[],i=0,n=0,r=t.length;n<r;n++){var o=t[n].part;if(e+=(t[n].separator||"")+o,".."===o||"."===o||"this"===o){if(s.length>0)throw new g("Invalid path: "+e);".."===o?i++:this.isScoped=!0}else s.push(o)}this.original=e,this.parts=s,this.string=s.join("."),this.depth=i,this.isSimple=1===t.length&&!this.isScoped&&0===i,this.stringModeValue=this.string}function h(t){this.type="PARTIAL_NAME",this.name=t.original}function c(t){this.type="DATA",this.id=t}function p(t){this.type="STRING",this.original=this.string=this.stringModeValue=t}function l(t){this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)}function u(t){this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t}function f(t){this.type="comment",this.comment=t}var d={},g=t;return d.ProgramNode=e,d.MustacheNode=s,d.PartialNode=i,d.BlockNode=n,d.ContentNode=r,d.HashNode=o,d.IdNode=a,d.PartialNameNode=h,d.DataNode=c,d.StringNode=p,d.IntegerNode=l,d.BooleanNode=u,d.CommentNode=f,d}(s),a=function(){"use strict";return function(){function t(t,e){return{left:"~"===t[2],right:"~"===e[0]||"~"===e[1]}}function e(){this.yy={}}var s={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,inMustache_repetition0:28,inMustache_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,hash:35,hash_repetition_plus0:36,hashSegment:37,ID:38,EQUALS:39,DATA:40,pathSegments:41,SEP:42,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",38:"ID",39:"EQUALS",40:"DATA",42:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[35,1],[37,3],[26,1],[26,1],[26,1],[30,2],[21,1],[41,3],[41,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[36,1],[36,2]],performAction:function(e,s,i,n,r,o,a){var h=o.length-1;switch(r){case 1:return new n.ProgramNode(o[h-1]);case 2:return new n.ProgramNode([]);case 3:this.$=new n.ProgramNode([],o[h-1],o[h]);break;case 4:this.$=new n.ProgramNode(o[h-2],o[h-1],o[h]);break;case 5:this.$=new n.ProgramNode(o[h-1],o[h],[]);break;case 6:this.$=new n.ProgramNode(o[h]);break;case 7:case 8:this.$=new n.ProgramNode([]);break;case 9:this.$=[o[h]];break;case 10:o[h-1].push(o[h]),this.$=o[h-1];break;case 11:this.$=new n.BlockNode(o[h-2],o[h-1].inverse,o[h-1],o[h]);break;case 12:this.$=new n.BlockNode(o[h-2],o[h-1],o[h-1].inverse,o[h]);break;case 13:case 14:this.$=o[h];break;case 15:this.$=new n.ContentNode(o[h]);break;case 16:this.$=new n.CommentNode(o[h]);break;case 17:case 18:this.$=new n.MustacheNode(o[h-1][0],o[h-1][1],o[h-2],t(o[h-2],o[h]));break;case 19:this.$={path:o[h-1],strip:t(o[h-2],o[h])};break;case 20:case 21:this.$=new n.MustacheNode(o[h-1][0],o[h-1][1],o[h-2],t(o[h-2],o[h]));break;case 22:this.$=new n.PartialNode(o[h-2],o[h-1],t(o[h-3],o[h]));break;case 23:this.$=t(o[h-1],o[h]);break;case 24:this.$=[[o[h-2]].concat(o[h-1]),o[h]];break;case 25:this.$=[[o[h]],null];break;case 26:this.$=o[h];break;case 27:this.$=new n.StringNode(o[h]);break;case 28:this.$=new n.IntegerNode(o[h]);break;case 29:this.$=new n.BooleanNode(o[h]);break;case 30:this.$=o[h];break;case 31:this.$=new n.HashNode(o[h]);break;case 32:this.$=[o[h-2],o[h]];break;case 33:this.$=new n.PartialNameNode(o[h]);break;case 34:this.$=new n.PartialNameNode(new n.StringNode(o[h]));break;case 35:this.$=new n.PartialNameNode(new n.IntegerNode(o[h]));break;case 36:this.$=new n.DataNode(o[h]);break;case 37:this.$=new n.IdNode(o[h]);break;case 38:o[h-2].push({part:o[h],separator:o[h-1]}),this.$=o[h-2];break;case 39:this.$=[{part:o[h]}];break;case 42:this.$=[];break;case 43:o[h-1].push(o[h]);break;case 46:this.$=[o[h]];break;case 47:o[h-1].push(o[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:29,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:30,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:31,21:24,30:25,38:[1,28],40:[1,27],41:26},{21:33,26:32,32:[1,34],33:[1,35],38:[1,28],41:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,38:[1,28],40:[1,27],41:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,42],24:[2,42],28:43,32:[2,42],33:[2,42],34:[2,42],38:[2,42],40:[2,42]},{18:[2,25],24:[2,25]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],38:[2,37],40:[2,37],42:[1,44]},{21:45,38:[1,28],41:26},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],40:[2,39],42:[2,39]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,40],21:50,27:49,38:[1,28],41:26},{18:[2,33],38:[2,33]},{18:[2,34],38:[2,34]},{18:[2,35],38:[2,35]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,38:[1,28],41:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,44],21:56,24:[2,44],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:55,36:61,37:62,38:[1,63],40:[1,27],41:26},{38:[1,64]},{18:[2,36],24:[2,36],32:[2,36],33:[2,36],34:[2,36],38:[2,36],40:[2,36]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,65]},{18:[2,41]},{18:[1,66]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24]},{18:[2,43],24:[2,43],32:[2,43],33:[2,43],34:[2,43],38:[2,43],40:[2,43]},{18:[2,45],24:[2,45]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],38:[2,26],40:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],38:[2,27],40:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],38:[2,28],40:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],38:[2,29],40:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],38:[2,30],40:[2,30]},{18:[2,31],24:[2,31],37:67,38:[1,68]},{18:[2,46],24:[2,46],38:[2,46]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],39:[1,69],40:[2,39],42:[2,39]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],38:[2,38],40:[2,38],42:[2,38]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{18:[2,47],24:[2,47],38:[2,47]},{39:[1,69]},{21:56,30:60,31:70,32:[1,57],33:[1,58],34:[1,59],38:[1,28],40:[1,27],41:26},{18:[2,32],24:[2,32],38:[2,32]}],defaultActions:{3:[2,2],16:[2,1],50:[2,41]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,s=[0],i=[null],n=[],r=this.table,o="",a=0,h=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;n.push(p);var l=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,f,d,g,m,y,v,k,S,x={};;){if(d=s[s.length-1],this.defaultActions[d]?g=this.defaultActions[d]:(null!==u&&void 0!==u||(u=function(){var t;return t=e.lexer.lex()||1,"number"!=typeof t&&(t=e.symbols_[t]||t),t}()),g=r[d]&&r[d][u]),void 0===g||!g.length||!g[0]){var b="";if(!c){S=[];for(y in r[d])this.terminals_[y]&&y>2&&S.push("'"+this.terminals_[y]+"'");b=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(b,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:p,expected:S})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+u);switch(g[0]){case 1:s.push(u),i.push(this.lexer.yytext),n.push(this.lexer.yylloc),s.push(g[1]),u=null,f?(u=f,f=null):(h=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,c>0&&c--);break;case 2:if(v=this.productions_[g[1]][1],x.$=i[i.length-v],x._$={first_line:n[n.length-(v||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(v||1)].first_column,last_column:n[n.length-1].last_column},l&&(x._$.range=[n[n.length-(v||1)].range[0],n[n.length-1].range[1]]),void 0!==(m=this.performAction.call(x,o,h,a,this.yy,g[1],i,n)))return m;v&&(s=s.slice(0,-1*v*2),i=i.slice(0,-1*v),n=n.slice(0,-1*v)),s.push(this.productions_[g[1]][0]),i.push(x.$),n.push(x._$),k=r[s[s.length-2]][s[s.length-1]],s.push(k);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,s,i,n;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(!(s=this._input.match(this.rules[r[o]]))||e&&!(s[0].length>e[0].length)||(e=s,i=o,this.options.flex));o++);return e?(n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,s,i){function n(t,s){return e.yytext=e.yytext.substr(t,e.yyleng-s)}switch(s){case 0:if("\\\\"===e.yytext.slice(-2)?(n(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(n(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==e.yytext.slice(-1)&&this.popState(),"\\"===e.yytext.slice(-1)&&n(0,1),14;case 3:return n(0,4),this.popState(),15;case 4:return 25;case 5:return 16;case 6:return 20;case 7:case 8:return 19;case 9:return 23;case 10:return 22;case 11:this.popState(),this.begin("com");break;case 12:return n(3,5),this.popState(),15;case 13:return 22;case 14:return 39;case 15:case 16:return 38;case 17:return 42;case 18:break;case 19:return this.popState(),24;case 20:return this.popState(),18;case 21:return e.yytext=n(1,2).replace(/\\"/g,'"'),32;case 22:return e.yytext=n(1,2).replace(/\\'/g,"'"),32;case 23:return 40;case 24:case 25:return 34;case 26:return 33;case 27:return 38;case 28:return e.yytext=n(1,2),38;case 29:return"INVALID";case 30:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s])))/,/^(?:false(?=([~}\s])))/,/^(?:-?[0-9]+(?=([~}\s])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,30],inclusive:!0}},t}();return s.lexer=i,e.prototype=s,s.Parser=e,new e}()}(),h=function(t,e){"use strict";function s(t){return t.constructor===r.ProgramNode?t:(n.yy=r,n.parse(t))}var i={},n=t,r=e;return i.parser=n,i.parse=s,i}(a,o),c=function(t){"use strict";function e(t){this.value=t}function s(){}var i=t.COMPILER_REVISION,n=t.REVISION_CHANGES,r=t.log;s.prototype={nameLookup:function(t,e){var i,n;return 0===t.indexOf("depth")&&(i=!0),n=/^[0-9]+$/.test(e)?t+"["+e+"]":s.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",i?"("+t+" && "+n+")":n},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,s,i){this.environment=t,this.options=e||{},r("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!s,this.context=s||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var n,o=t.opcodes;this.i=0;for(var a=o.length;this.i<a;this.i++)n=o[this.i],"DECLARE"===n.opcode?this[n.name]=n.value:this[n.opcode].apply(this,n.args),n.opcode!==this.stripNext&&(this.stripNext=!1);return this.pushSource(""),this.createFunctionContext(i)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,s="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(s=s+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(s+=" data = data || {};"),t.push(s)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var s in this.context.aliases)this.context.aliases.hasOwnProperty(s)&&(this.source[1]=this.source[1]+", "+s+"="+this.context.aliases[s]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var o=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],a=0,h=this.environment.depths.list.length;a<h;a++)o.push("depth"+this.environment.depths.list[a]);var c=this.mergeSource();if(!this.isChild){var p=i;c="this.compilerInfo = ["+p+",'"+n[p]+"'];\n"+c}if(t)return o.push(c),Function.apply(this,o);var l="function "+(this.name||"")+"("+o.join(",")+") {\n  "+c+"}";return r("debug",l+"\n\n"),l},mergeSource:function(){for(var t,e="",s=0,i=this.source.length;s<i;s++){var n=this.source[s];n.appendToBuffer?t=t?t+"\n    + "+n.content:n.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=n+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),t[t.length-1]="options",this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"string"==typeof t?this.pushString(t):this.pushStackLiteral(t)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=void 0,this.options.stringParams&&(this.register("hashContexts","{"+t.contexts.join(",")+"}"),this.register("hashTypes","{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e){this.context.aliases.helperMissing="helpers.helperMissing";var s=this.lastHelper=this.setupHelper(t,e,!0),i=this.nameLookup("depth"+this.lastContext,e,"context");this.push(s.name+" || "+i),this.replaceStack(function(t){return t+" ? "+t+".call("+s.callParams+") : helperMissing.call("+s.helperMissingParams+")"})},invokeKnownHelper:function(t,e){var s=this.setupHelper(t,e);this.push(s.name+".call("+s.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var s=this.setupHelper(0,t,e),i=this.lastHelper=this.nameLookup("helpers",t,"helper"),n=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();this.pushSource("if ("+r+" = "+i+") { "+r+" = "+r+".call("+s.callParams+"); }"),this.pushSource("else { "+r+" = "+n+"; "+r+" = typeof "+r+" === functionType ? "+r+".call("+s.callParams+") : "+r+"; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,s,i=this.popStack();this.options.stringParams&&(s=this.popStack(),e=this.popStack());var n=this.hash;e&&n.contexts.push("'"+t+"': "+e),s&&n.types.push("'"+t+"': "+s),n.values.push("'"+t+"': ("+i+")")},compiler:s,compileChildren:function(t,e){for(var s,i,n=t.children,r=0,o=n.length;r<o;r++){s=n[r],i=new this.compiler;var a=this.matchExistingProgram(s);null==a?(this.context.programs.push(""),a=this.context.programs.length,s.index=a,s.name="program"+a,this.context.programs[a]=i.compile(s,e,this.context),this.context.environments[a]=s):(s.index=a,s.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,s=this.context.environments.length;e<s;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,s=this.environment.children[t],i=s.depths.list,n=[s.index,s.name,"data"],r=0,o=i.length;r<o;r++)e=i[r],1===e?n.push("depth0"):n.push("depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+n.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new e(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var s,i="",n=this.isInline();if(n){var r=this.popStack(!0);if(r instanceof e)s=r.value;else{var o=this.stackSlot?this.topStackName():this.incrStack();i="("+this.push(o)+" = "+r+"),",s=this.topStack()}}else s=this.topStack();var a=t.call(this,s);return n?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+i+a+")")):(/^stack/.test(s)||(s=this.nextStack()),this.pushSource(s+" = ("+i+a+");")),s},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var s=0,i=t.length;s<i;s++){var n=t[s];n instanceof e?this.compileStack.push(n):this.pushStack(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var s=this.isInline(),i=(s?this.inlineStack:this.compileStack).pop();return!t&&i instanceof e?i.value:(s||this.stackSlot--,i)},topStack:function(t){var s=this.isInline()?this.inlineStack:this.compileStack,i=s[s.length-1];return!t&&i instanceof e?i.value:i},
quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,s){var i=[];return this.setupParams(t,i,s),{params:i,name:this.nameLookup("helpers",e,"helper"),callParams:["depth0"].concat(i).join(", "),helperMissingParams:s&&["depth0",this.quotedString(e)].concat(i).join(", ")}},setupParams:function(t,e,s){var i,n,r,o=[],a=[],h=[];o.push("hash:"+this.popStack()),n=this.popStack(),((r=this.popStack())||n)&&(r||(this.context.aliases.self="this",r="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),o.push("inverse:"+n),o.push("fn:"+r));for(var c=0;c<t;c++)i=this.popStack(),e.push(i),this.options.stringParams&&(h.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+a.join(",")+"]"),o.push("types:["+h.join(",")+"]"),o.push("hashContexts:hashContexts"),o.push("hashTypes:hashTypes")),this.options.data&&o.push("data:data"),o="{"+o.join(",")+"}",s?(this.register("options",o),e.push("options")):e.push(o),e.join(", ")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),a=s.RESERVED_WORDS={},h=0,c=o.length;h<c;h++)a[o[h]]=!0;return s.isValidJavaScriptVariableName=function(t){return!(s.RESERVED_WORDS[t]||!/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(t))},s}(i),p=function(t,e,s,i){"use strict";function n(){}function r(t,e){if(null==t||"string"!=typeof t&&t.constructor!==l.ProgramNode)throw new h("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0);var s=c(t),i=(new n).compile(s,e);return(new p).compile(i,e)}function o(t,e,s){function i(){var i=c(t),r=(new n).compile(i,e),o=(new p).compile(r,e,void 0,!0);return s.template(o)}if(null==t||"string"!=typeof t&&t.constructor!==l.ProgramNode)throw new h("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=e||{})||(e.data=!0);var r;return function(t,e){return r||(r=i()),r.call(this,t,e)}}var a={},h=t,c=e.parse,p=s,l=i;return a.Compiler=n,n.prototype={compiler:n,disassemble:function(){for(var t,e,s,i=this.opcodes,n=[],r=0,o=i.length;r<o;r++)if(t=i[r],"DECLARE"===t.opcode)n.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)s=t.args[a],"string"==typeof s&&(s='"'+s.replace("\n","\\n")+'"'),e.push(s);n.push(t.opcode+" "+e.join(" "))}return n.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var s=0;s<e;s++){var i=this.opcodes[s],n=t.opcodes[s];if(i.opcode!==n.opcode||i.args.length!==n.args.length)return!1;for(var r=0;r<i.args.length;r++)if(i.args[r]!==n.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(s=0;s<e;s++)if(!this.children[s].equals(t.children[s]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var s=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0},s)for(var i in s)this.options.knownHelpers[i]=s[i];return this.accept(t)},accept:function(t){var e,s=t.strip||{};return s.left&&this.opcode("strip"),e=this[t.type](t),s.right&&this.opcode("strip"),e},program:function(t){for(var e=t.statements,s=0,i=e.length;s<i;s++)this.accept(e[s]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,s=(new this.compiler).compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||s.usePartial,this.children[i]=s;for(var n=0,r=s.depths.list.length;n<r;n++)(e=s.depths.list[n])<2||this.addDepth(e-1);return i},block:function(t){var e=t.mustache,s=t.program,i=t.inverse;s&&(s=this.compileProgram(s)),i&&(i=this.compileProgram(i));var n=this.classifyMustache(e);"helper"===n?this.helperMustache(e,s,i):"simple"===n?(this.simpleMustache(e),this.opcode("pushProgram",s),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(e,s,i),this.opcode("pushProgram",s),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,s,i=t.pairs;this.opcode("pushHash");for(var n=0,r=i.length;n<r;n++)e=i[n],s=e[1],this.options.stringParams?(s.depth&&this.addDepth(s.depth),this.opcode("getContext",s.depth||0),this.opcode("pushStringParam",s.stringModeValue,s.type)):this.accept(s),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){var e=this.options,s=this.classifyMustache(t);"simple"===s?this.simpleMustache(t):"helper"===s?this.helperMustache(t):this.ambiguousMustache(t),t.escaped&&!e.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(t,e,s){var i=t.id,n=i.parts[0],r=null!=e||null!=s;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.opcode("invokeAmbiguous",n,r)},simpleMustache:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(t,e,s){var i=this.setupFullMustacheParams(t,e,s),n=t.id.parts[0];if(this.options.knownHelpers[n])this.opcode("invokeKnownHelper",i.length,n);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+n);this.opcode("invokeHelper",i.length,n)}},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth),t.parts[0]?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var e=1,s=t.parts.length;e<s;e++)this.opcode("lookup",t.parts[e])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new h("Scoped data references are not supported: "+t.original);this.opcode("lookupData");for(var e=t.id.parts,s=0,i=e.length;s<i;s++)this.opcode("lookup",e[s])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){if(isNaN(t))throw new Error("EWOT");0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifyMustache:function(t){var e=t.isHelper,s=t.eligibleHelper,i=this.options;if(s&&!e){var n=t.id.parts[0];i.knownHelpers[n]?e=!0:i.knownHelpersOnly&&(s=!1)}return e?"helper":s?"ambiguous":"simple"},pushParams:function(t){for(var e,s=t.length;s--;)e=t[s],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type)):this[e.type](e)},setupMustacheParams:function(t){var e=t.params;return this.pushParams(e),t.hash?this.hash(t.hash):this.opcode("emptyHash"),e},setupFullMustacheParams:function(t,e,s){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",s),t.hash?this.hash(t.hash):this.opcode("emptyHash"),i}},a.precompile=r,a.compile=o,a}(s,h,c,o);return function(t,e,s,i,n){"use strict";var r=t,o=e,a=s.parser,h=s.parse,c=i.Compiler,p=i.compile,l=i.precompile,u=n,f=r.create,d=function(){var t=f();return t.compile=function(e,s){return p(e,s,t)},t.precompile=l,t.AST=o,t.Compiler=c,t.JavaScriptCompiler=u,t.Parser=a,t.parse=h,t};return r=d(),r.create=d,r}(r,o,h,p,c)}();
!function(){var e,t,r,n,i;!function(){if(i=this.Ember=this.Ember||{},void 0===i&&(i={}),void 0===i.__loader){var a={},o={};e=function(e,t,r){a[e]={deps:t,callback:r}},n=r=t=function(e){if(o.hasOwnProperty(e))return o[e];if(o[e]={},!a[e])throw new Error("Could not find module "+e);for(var r,n=a[e],i=n.deps,s=n.callback,l=[],u=0,c=i.length;u<c;u++)"exports"===i[u]?l.push(r={}):l.push(t(function(t){if("."!==t.charAt(0))return t;for(var r=t.split("/"),n=e.split("/").slice(0,-1),i=0,a=r.length;i<a;i++){var o=r[i];if(".."===o)n.pop();else{if("."===o)continue;n.push(o)}}return n.join("/")}(i[u])));var h=s.apply(this,l);return o[e]=r||h},n._eak_seen=a,i.__loader={define:e,require:r,registry:a}}else e=i.__loader.define,n=r=t=i.__loader.require}(),function(){e("ember-debug",["ember-metal/core","ember-metal/error","ember-metal/logger"],function(e,t,r){"use strict";var n=e.default,i=t.default,a=r.default;if(n.assert=function(e,t){if(!t)throw new i("Assertion Failed: "+e)},n.warn=function(e,t){t||(a.warn("WARNING: "+e),"trace"in a&&a.trace())},n.debug=function(e){a.debug("DEBUG: "+e)},n.deprecate=function(e,t){if(!t){if(n.ENV.RAISE_ON_DEPRECATION)throw new i(e);var r;try{__fail__.fail()}catch(e){r=e}if(n.LOG_STACKTRACE_ON_DEPRECATION&&r.stack){var o,s="";r.arguments?(o=r.stack.replace(/^\s+at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}($1)").split("\n"),o.shift()):o=r.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n"),s="\n    "+o.slice(2).join("\n    "),e+=s}a.warn("DEPRECATION: "+e)}},n.deprecateFunc=function(e,t){return function(){return n.deprecate(e),t.apply(this,arguments)}},n.runInDebug=function(e){e()},!n.testing){var o="undefined"!=typeof InstallTrigger,s=!!window.chrome&&!window.opera;"undefined"!=typeof window&&(o||s)&&window.addEventListener&&window.addEventListener("load",function(){if(document.documentElement&&document.documentElement.dataset&&!document.documentElement.dataset.emberExtension){var e;s?e="https://chrome.google.com/webstore/detail/ember-inspector/bmdblncegkenkacieihfhpjfppoconhi":o&&(e="https://addons.mozilla.org/en-US/firefox/addon/ember-inspector/"),n.debug("For more advanced debugging, install the Ember Inspector from "+e)}},!1)}})}(),function(){e("ember-metal/array",["exports"],function(e){"use strict";var t=Array.prototype,r=function(e){return e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1},n=r(t.map)?t.map:function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=new Array(r),i=arguments[1],a=0;a<r;a++)a in t&&(n[a]=e.call(i,t[a],a,t));return n},a=r(t.forEach)?t.forEach:function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=arguments[1],i=0;i<r;i++)i in t&&e.call(n,t[i],i,t)},o=r(t.indexOf)?t.indexOf:function(e,t){null===t||void 0===t?t=0:t<0&&(t=Math.max(0,this.length+t));for(var r=t,n=this.length;r<n;r++)if(this[r]===e)return r;return-1},s=r(t.filter)?t.filter:function(e,t){var r,n,i=[],a=this.length;for(r=0;r<a;r++)this.hasOwnProperty(r)&&(n=this[r],e.call(t,n,r,this)&&i.push(n));return i};i.SHIM_ES5&&(t.map||(t.map=n),t.forEach||(t.forEach=a),t.filter||(t.filter=s),t.indexOf||(t.indexOf=o)),e.map=n,e.forEach=a,e.filter=s,e.indexOf=o}),e("ember-metal/binding",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/map","ember-metal/observer","ember-metal/run_loop","exports"],function(e,t,r,n,i,a,o,s){"use strict";function l(e){return w.test(e)}function u(e,t){return d(l(t)?p.lookup:e,t)}function c(e,t,r){return new x(t,r).connect(e)}function h(e,t,r){return new x(t,r).oneWay().connect(e)}var p=e.default,d=t.get,f=(r.set,r.trySet),m=n.guidFor,v=i.Map,b=a.addObserver,y=a.removeObserver,g=a._suspendObserver,_=o.default;p.LOG_BINDINGS=!!p.ENV.LOG_BINDINGS;var w=/^([A-Z$]|([0-9][A-Z$]))/,x=function(e,t){this._direction="fwd",this._from=t,this._to=e,this._directionMap=v.create()};x.prototype={copy:function(){var e=new x(this._to,this._from);return this._oneWay&&(e._oneWay=!0),e},from:function(e){return this._from=e,this},to:function(e){return this._to=e,this},oneWay:function(){return this._oneWay=!0,this},toString:function(){var e=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+m(this)+">("+this._from+" -> "+this._to+")"+e},connect:function(e){p.assert("Must pass a valid object to Ember.Binding.connect()",!!e);var t=this._from,r=this._to;return f(e,r,u(e,t)),b(e,t,this,this.fromDidChange),this._oneWay||b(e,r,this,this.toDidChange),this._readyToSync=!0,this},disconnect:function(e){p.assert("Must pass a valid object to Ember.Binding.disconnect()",!!e);var t=!this._oneWay;return y(e,this._from,this,this.fromDidChange),t&&y(e,this._to,this,this.toDidChange),this._readyToSync=!1,this},fromDidChange:function(e){this._scheduleSync(e,"fwd")},toDidChange:function(e){this._scheduleSync(e,"back")},_scheduleSync:function(e,t){var r=this._directionMap,n=r.get(e);n||(_.schedule("sync",this,this._sync,e),r.set(e,t)),"back"===n&&"fwd"===t&&r.set(e,"fwd")},_sync:function(e){var t=p.LOG_BINDINGS;if(!e.isDestroyed&&this._readyToSync){var r=this._directionMap,n=r.get(e),i=this._from,a=this._to;if(r.remove(e),"fwd"===n){var o=u(e,this._from);t&&p.Logger.log(" ",this.toString(),"->",o,e),this._oneWay?f(e,a,o):g(e,a,this,this.toDidChange,function(){f(e,a,o)})}else if("back"===n){var s=d(e,this._to);t&&p.Logger.log(" ",this.toString(),"<-",s,e),g(e,i,this,this.fromDidChange,function(){f(l(i)?p.lookup:e,i,s)})}}}},function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}(x,{from:function(){var e=this,t=new e;return t.from.apply(t,arguments)},to:function(){var e=this,t=new e;return t.to.apply(t,arguments)},oneWay:function(e,t){return new this(null,e).oneWay(t)}}),s.Binding=x,s.bind=c,s.oneWay=h,s.isGlobalPath=l}),e("ember-metal/chains",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/array","ember-metal/watch_key","exports"],function(e,t,r,n,i,a){"use strict";function o(e){return e.match(C)[0]}function s(){if(0!==E.length){var e=E;E=[],y.call(e,function(e){e[0].add(e[1])}),x("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",0===E.length)}}function l(e,t,r){if(e&&"object"==typeof e){var n=w(e),i=n.chainWatchers;n.hasOwnProperty("chainWatchers")||(i=n.chainWatchers={}),i[t]||(i[t]=[]),i[t].push(r),g(e,t,n)}}function u(e,t,r){if(e&&"object"==typeof e){var n=e[b];if(!n||n.hasOwnProperty("chainWatchers")){var i=n&&n.chainWatchers;if(i&&i[t]){i=i[t];for(var a=0,o=i.length;a<o;a++)i[a]===r&&i.splice(a,1)}_(e,t,n)}}}function c(e,t,r){this._parent=e,this._key=t,this._watching=void 0===r,this._value=r,this._paths={},this._watching&&(this._object=e.value(),this._object&&l(this._object,this._key,this)),this._parent&&"@each"===this._parent._key&&this.value()}function h(e,t){if(e){var r=e[b];if(!r||r.proto!==e){if("@each"===t)return f(e,t);var n=r&&r.descs[t];return n&&n._cacheable?t in r.cache?r.cache[t]:void 0:f(e,t)}}}function p(e){var t=e[b],r=t&&t.chains;r&&(r.value()!==e?w(e).chains=r=r.copy(e):r.didChange(null))}var d=e.default,f=t.get,m=t.normalizeTuple,v=r.meta,b=r.META_KEY,y=n.forEach,g=i.watchKey,_=i.unwatchKey,w=v,x=d.warn,C=/^([^\.]+)/,E=[],O=c.prototype;O.value=function(){if(void 0===this._value&&this._watching){var e=this._parent.value();this._value=h(e,this._key)}return this._value},O.destroy=function(){if(this._watching){var e=this._object;e&&u(e,this._key,this),this._watching=!1}},O.copy=function(e){var t,r=new c(null,null,e),n=this._paths;for(t in n)n[t]<=0||r.add(t);return r},O.add=function(e){var t,r,n,i,a;if(a=this._paths,a[e]=(a[e]||0)+1,t=this.value(),r=m(t,e),r[0]&&r[0]===t)e=r[1],n=o(e),e=e.slice(n.length+1);else{if(!r[0])return E.push([this,e]),void(r.length=0);i=r[0],n=e.slice(0,0-(r[1].length+1)),e=r[1]}r.length=0,this.chain(n,e,i)},O.remove=function(e){var t,r,n,i;i=this._paths,i[e]>0&&i[e]--,t=this.value(),r=m(t,e),r[0]===t?(e=r[1],n=o(e),e=e.slice(n.length+1)):(r[0],n=e.slice(0,0-(r[1].length+1)),e=r[1]),r.length=0,this.unchain(n,e)},O.count=0,O.chain=function(e,t,r){var n,i=this._chains;i||(i=this._chains={}),n=i[e],n||(n=i[e]=new c(this,e,r)),n.count++,t&&t.length>0&&(e=o(t),t=t.slice(e.length+1),n.chain(e,t))},O.unchain=function(e,t){var r=this._chains,n=r[e];t&&t.length>1&&(e=o(t),t=t.slice(e.length+1),n.unchain(e,t)),--n.count<=0&&(delete r[n._key],n.destroy())},O.willChange=function(e){var t=this._chains;if(t)for(var r in t)t.hasOwnProperty(r)&&t[r].willChange(e);this._parent&&this._parent.chainWillChange(this,this._key,1,e)},O.chainWillChange=function(e,t,r,n){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainWillChange(this,t,r+1,n):(r>1&&n.push(this.value(),t),t="this."+t,this._paths[t]>0&&n.push(this.value(),t))},O.chainDidChange=function(e,t,r,n){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainDidChange(this,t,r+1,n):(r>1&&n.push(this.value(),t),t="this."+t,this._paths[t]>0&&n.push(this.value(),t))},O.didChange=function(e){if(this._watching){var t=this._parent.value();t!==this._object&&(u(this._object,this._key,this),this._object=t,l(t,this._key,this)),this._value=void 0,this._parent&&"@each"===this._parent._key&&this.value()}var r=this._chains;if(r)for(var n in r)r.hasOwnProperty(n)&&r[n].didChange(e);null!==e&&this._parent&&this._parent.chainDidChange(this,this._key,1,e)},a.flushPendingChains=s,a.removeChainWatcher=u,a.ChainNode=c,a.finishChains=p}),e("ember-metal/computed",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/watching","ember-metal/expand_properties","ember-metal/error","ember-metal/properties","ember-metal/property_events","ember-metal/is_empty","ember-metal/is_none","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d){"use strict";function f(){}function m(e,t){var r=e[t];return r?e.hasOwnProperty(t)||(r=e[t]=K(r)):r=e[t]={},r}function v(e){return m(e,"deps")}function b(e,t,r,n){var i,a,o,s,l,u=e._dependentKeys;if(u)for(i=v(n),a=0,o=u.length;a<o;a++)s=u[a],l=m(i,s),l[r]=(l[r]||0)+1,R(t,s,n)}function y(e,t,r,n){var i,a,o,s,l,u=e._dependentKeys;if(u)for(i=v(n),a=0,o=u.length;a<o;a++)s=u[a],l=m(i,s),l[r]=(l[r]||0)-1,k(t,s,n)}function g(e,t){e.__ember_arity__=e.length,this.func=e,this._cacheable=!t||void 0===t.cacheable||t.cacheable,this._dependentKeys=t&&t.dependentKeys,this._readOnly=t&&(void 0!==t.readOnly||!!t.readOnly)||!1}function _(e){for(var t=0,r=e.length;t<r;t++)e[t].didChange(null)}function w(e){var t;if(arguments.length>1&&(t=q.call(arguments,0,-1),e=q.call(arguments,-1)[0]),"function"!=typeof e)throw new D("Computed Property declared without a property function");var r=new g(e);return t&&r.property.apply(r,t),r}function x(e,t){var r=e[I],n=r&&r.cache,i=n&&n[t];if(i!==f)return i}function C(e,t){for(var r={},n=0;n<t.length;n++)r[t[n]]=A(e,t[n]);return r}function E(e,t){w[e]=function(e){var r=q.call(arguments);return w(e,function(){return t.apply(this,r)})}}function O(e,t){w[e]=function(){var e=q.call(arguments),r=w(function(){return t.apply(this,[C(this,e)])});return r.property.apply(r,e)}}var P=e.default,A=t.get,T=r.set,N=n.meta,I=n.META_KEY,S=(n.guidFor,n.typeOf,n.inspect),V=(i.default,a.create),R=o.watch,k=o.unwatch,j=s.default,D=l.default,M=u.Descriptor,L=u.defineProperty,H=c.propertyWillChange,B=c.propertyDidChange,F=h.default,z=p.isNone;P.warn("The CP_DEFAULT_CACHEABLE flag has been removed and computed properties are always cached by default. Use `volatile` if you don't want caching.",!1!==P.ENV.CP_DEFAULT_CACHEABLE);var U=N,q=[].slice,K=V;g.prototype=new M;var W=g.prototype;W._dependentKeys=void 0,W._suspended=void 0,W._meta=void 0,W.cacheable=function(e){return this._cacheable=!1!==e,this},W.volatile=function(){return this.cacheable(!1)},W.readOnly=function(e){return this._readOnly=void 0===e||!!e,this},W.property=function(){var e,t=function(t){e.push(t)};e=[];for(var r=0,n=arguments.length;r<n;r++)j(arguments[r],t);return this._dependentKeys=e,this},W.meta=function(e){return 0===arguments.length?this._meta||{}:(this._meta=e,this)},W.didChange=function(e,t){if(this._cacheable&&this._suspended!==e){var r=U(e);void 0!==r.cache[t]&&(r.cache[t]=void 0,y(this,e,t,r))}},W.get=function(e,t){var r,n,i,a;if(this._cacheable){i=U(e),n=i.cache;var o=n[t];if(o===f)return;if(void 0!==o)return o;r=this.func.call(e,t),n[t]=void 0===r?f:r,a=i.chainWatchers&&i.chainWatchers[t],a&&_(a),b(this,e,t,i)}else r=this.func.call(e,t);return r},W.set=function(e,t,r){var n,i,a,o=this._cacheable,s=this.func,l=U(e,o),u=this._suspended,c=!1,h=l.cache;if(this._readOnly)throw new D('Cannot set read-only property "'+t+'" on object: '+S(e));this._suspended=e;try{if(o&&void 0!==h[t]&&(i=h[t],c=!0),3===(n=s.wrappedFunction?s.wrappedFunction.__ember_arity__:s.__ember_arity__))a=s.call(e,t,r,i);else{if(2!==n)return L(e,t,null,i),void T(e,t,r);a=s.call(e,t,r)}if(c&&i===a)return;var p=l.watching[t];p&&H(e,t),c&&(h[t]=void 0),o&&(c||b(this,e,t,l),h[t]=void 0===a?f:a),p&&B(e,t)}finally{this._suspended=u}return a},W.teardown=function(e,t){var r=U(e);return t in r.cache&&y(this,e,t,r),this._cacheable&&delete r.cache[t],null},x.set=function(e,t,r){e[t]=void 0===r?f:r},x.get=function(e,t){var r=e[t];if(r!==f)return r},x.remove=function(e,t){e[t]=void 0},w.empty=function(e){return w(e+".length",function(){return F(A(this,e))})},E("notEmpty",function(e){return!F(A(this,e))}),E("none",function(e){return z(A(this,e))}),E("not",function(e){return!A(this,e)}),E("bool",function(e){return!!A(this,e)}),E("match",function(e,t){var r=A(this,e);return"string"==typeof r&&t.test(r)}),E("equal",function(e,t){return A(this,e)===t}),E("gt",function(e,t){return A(this,e)>t}),E("gte",function(e,t){return A(this,e)>=t}),E("lt",function(e,t){return A(this,e)<t}),E("lte",function(e,t){return A(this,e)<=t}),O("and",function(e){for(var t in e)if(e.hasOwnProperty(t)&&!e[t])return!1;return!0}),O("or",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0;return!1}),O("any",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return e[t];return null}),O("collect",function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&(z(e[r])?t.push(null):t.push(e[r]));return t}),w.alias=function(e){return w(e,function(t,r){return arguments.length>1?(T(this,e,r),A(this,e)):A(this,e)})},w.oneWay=function(e){return w(e,function(){return A(this,e)})},w.readOnly=function(e){return w(e,function(){return A(this,e)}).readOnly()},w.defaultTo=function(e){return w(function(t,r,n){return 1===arguments.length?A(this,e):null!=r?r:A(this,e)})},d.ComputedProperty=g,d.computed=w,d.cacheFor=x}),e("ember-metal/core",["exports"],function(e){"use strict";void 0===i&&(i={});var t=(i.imports=i.imports||this,i.exports=i.exports||this);i.lookup=i.lookup||this;t.Em=t.Ember=i,i.isNamespace=!0,i.toString=function(){return"Ember"},i.VERSION="1.6.1",i.ENV||("undefined"!=typeof EmberENV?i.ENV=EmberENV:"undefined"!=typeof ENV?i.ENV=ENV:i.ENV={}),i.config=i.config||{},void 0===i.ENV.DISABLE_RANGE_API&&(i.ENV.DISABLE_RANGE_API=!0),"undefined"==typeof MetamorphENV&&(t.MetamorphENV={}),MetamorphENV.DISABLE_RANGE_API=i.ENV.DISABLE_RANGE_API,i.FEATURES=i.ENV.FEATURES||{},i.FEATURES.isEnabled=function(e){var t=i.FEATURES[e];return!!i.ENV.ENABLE_ALL_FEATURES||(!0===t||!1===t||void 0===t?t:!!i.ENV.ENABLE_OPTIONAL_FEATURES)},i.EXTEND_PROTOTYPES=i.ENV.EXTEND_PROTOTYPES,void 0===i.EXTEND_PROTOTYPES&&(i.EXTEND_PROTOTYPES=!0),i.LOG_STACKTRACE_ON_DEPRECATION=!1!==i.ENV.LOG_STACKTRACE_ON_DEPRECATION,i.SHIM_ES5=!1!==i.ENV.SHIM_ES5&&i.EXTEND_PROTOTYPES,i.LOG_VERSION=!1!==i.ENV.LOG_VERSION,i.K=function(){return this},void 0===i.assert&&(i.assert=i.K),void 0===i.warn&&(i.warn=i.K),void 0===i.debug&&(i.debug=i.K),void 0===i.runInDebug&&(i.runInDebug=i.K),void 0===i.deprecate&&(i.deprecate=i.K),void 0===i.deprecateFunc&&(i.deprecateFunc=function(e,t){return t}),i.uuid=0,e.default=i}),e("ember-metal/enumerable_utils",["ember-metal/array","exports"],function(e,t){"use strict";var r,n,i,a,o,r=e.map,n=e.forEach,i=e.indexOf,o=e.filter;r=Array.prototype.map||r,n=Array.prototype.forEach||n,i=Array.prototype.indexOf||i,o=Array.prototype.filter||o,a=Array.prototype.splice;var s={map:function(e,t,n){return e.map?e.map.call(e,t,n):r.call(e,t,n)},forEach:function(e,t,r){return e.forEach?e.forEach.call(e,t,r):n.call(e,t,r)},filter:function(e,t,r){return e.filter?e.filter.call(e,t,r):o.call(e,t,r)},indexOf:function(e,t,r){return e.indexOf?e.indexOf.call(e,t,r):i.call(e,t,r)},indexesOf:function(e,t){return void 0===t?[]:s.map(t,function(t){return s.indexOf(e,t)})},addObject:function(e,t){-1===s.indexOf(e,t)&&e.push(t)},removeObject:function(e,t){var r=s.indexOf(e,t);-1!==r&&e.splice(r,1)},_replace:function(e,t,r,n){for(var i,o,s=[].concat(n),l=[],u=t,c=r;s.length;)o=c>6e4?6e4:c,o<=0&&(o=0),i=s.splice(0,6e4),i=[u,o].concat(i),u+=6e4,c-=o,l=l.concat(a.apply(e,i));return l},replace:function(e,t,r,n){return e.replace?e.replace(t,r,n):s._replace(e,t,r,n)},intersection:function(e,t){var r=[];return s.forEach(e,function(e){s.indexOf(t,e)>=0&&r.push(e)}),r}};t.default=s}),e("ember-metal/error",["ember-metal/platform","exports"],function(e,t){"use strict";var r=e.create,n=["description","fileName","lineNumber","message","name","number","stack"],a=function(){var e=Error.apply(this,arguments);Error.captureStackTrace&&Error.captureStackTrace(this,i.Error);for(var t=0;t<n.length;t++)this[n[t]]=e[n[t]]};a.prototype=r(Error.prototype),t.default=a}),e("ember-metal/events",["ember-metal/core","ember-metal/utils","ember-metal/platform","exports"],function(e,t,r,n){"use strict";function i(e,t,r){for(var n=-1,i=e.length-3;i>=0;i-=3)if(t===e[i]&&r===e[i+1]){n=i;break}return n}function a(e,t){var r,n=O(e,!0);return n.listeners||(n.listeners={}),n.hasOwnProperty("listeners")||(n.listeners=C(n.listeners)),r=n.listeners[t],r&&!n.listeners.hasOwnProperty(t)?r=n.listeners[t]=n.listeners[t].slice():r||(r=n.listeners[t]=[]),r}function o(e,t,r){var n=e[g],a=n&&n.listeners&&n.listeners[t];if(a)for(var o=a.length-3;o>=0;o-=3){var s=a[o],l=a[o+1],u=a[o+2],c=i(r,s,l);-1===c&&r.push(s,l,u)}}function s(e,t,r){var n=e[g],a=n&&n.listeners&&n.listeners[t],o=[];if(a){for(var s=a.length-3;s>=0;s-=3){var l=a[s],u=a[s+1],c=a[s+2];-1===i(r,l,u)&&(r.push(l,u,c),o.push(l,u,c))}return o}}function l(e,t,r,n,o){b.assert("You must pass at least an object and event name to Ember.addListener",!!e&&!!t),n||"function"!=typeof r||(n=r,r=null);var s=a(e,t),l=i(s,r,n),u=0;o&&(u|=P),-1===l&&(s.push(r,n,u),"function"==typeof e.didAddListener&&e.didAddListener(t,r,n))}function u(e,t,r,n){function o(r,n){var o=a(e,t),s=i(o,r,n);-1!==s&&(o.splice(s,3),"function"==typeof e.didRemoveListener&&e.didRemoveListener(t,r,n))}if(b.assert("You must pass at least an object and event name to Ember.removeListener",!!e&&!!t),n||"function"!=typeof r||(n=r,r=null),n)o(r,n);else{var s=e[g],l=s&&s.listeners&&s.listeners[t];if(!l)return;for(var u=l.length-3;u>=0;u-=3)o(l[u],l[u+1])}}function c(e,t,r,n,o){function s(){return o.call(r)}function l(){-1!==c&&(u[c+2]&=~A)}n||"function"!=typeof r||(n=r,r=null);var u=a(e,t),c=i(u,r,n);return-1!==c&&(u[c+2]|=A),_(s,l)}function h(e,t,r,n,o){function s(){return o.call(r)}function l(){for(var e=0,t=d.length;e<t;e++){var r=d[e];f[e][r+2]&=~A}}n||"function"!=typeof r||(n=r,r=null);var u,c,h,p,d=[],f=[];for(h=0,p=t.length;h<p;h++){u=t[h],c=a(e,u);var m=i(c,r,n);-1!==m&&(c[m+2]|=A,d.push(m),f.push(c))}return _(s,l)}function p(e){var t=e[g].listeners,r=[];if(t)for(var n in t)t[n]&&r.push(n);return r}function d(e,t,r,n){if(e!==b&&"function"==typeof e.sendEvent&&e.sendEvent(t,r),!n){var i=e[g];n=i&&i.listeners&&i.listeners[t]}if(n){for(var a=n.length-3;a>=0;a-=3){var o=n[a],s=n[a+1],l=n[a+2];s&&(l&A||(l&P&&u(e,t,o,s),o||(o=e),"string"==typeof s?r?x(o,s,r):o[s]():r?w(o,s,r):s.call(o)))}return!0}}function f(e,t){var r=e[g],n=r&&r.listeners&&r.listeners[t];return!(!n||!n.length)}function m(e,t){var r=[],n=e[g],i=n&&n.listeners&&n.listeners[t];if(!i)return r;for(var a=0,o=i.length;a<o;a+=3){var s=i[a],l=i[a+1];r.push([s,l])}return r}function v(){var e=E.call(arguments,-1)[0],t=E.call(arguments,0,-1);return e.__ember_listens__=t,e}var b=e.default,y=t.meta,g=t.META_KEY,_=t.tryFinally,w=t.apply,x=t.applyStr,C=r.create,E=[].slice,O=y,P=1,A=2;n.on=v,n.addListener=l,n.removeListener=u,n.suspendListener=c,n.suspendListeners=h,n.sendEvent=d,n.hasListeners=f,n.watchedEvents=p,n.listenersFor=m,n.listenersDiff=s,n.listenersUnion=o}),e("ember-metal/expand_properties",["ember-metal/error","ember-metal/enumerable_utils","exports"],function(e,t,r){"use strict";function n(e,t){var r,n,a;if(e.indexOf(" ")>-1)throw new i("Brace expanded properties cannot contain spaces, e.g. `user.{firstName, lastName}` should be `user.{firstName,lastName}`");(r=s.exec(e))?(n=r[1],a=r[2],o(a.split(","),function(e){t(n+e)})):t(e)}var i=e.default,a=t.default,o=a.forEach,s=/^((?:[^\.]*\.)*)\{(.*)\}$/;r.default=n}),e("ember-metal/get_properties",["ember-metal/property_get","ember-metal/utils","exports"],function(e,t,r){"use strict";function n(e){var t={},r=arguments,n=1;2===arguments.length&&"array"===a(arguments[1])&&(n=0,r=arguments[1]);for(var o=r.length;n<o;n++)t[r[n]]=i(e,r[n]);return t}var i=e.get,a=t.typeOf;r.default=n}),e("ember-metal/instrumentation",["ember-metal/core","ember-metal/utils","exports"],function(e,t,r){"use strict";function n(e,t,r,n){function i(){for(v=0,b=f.length;v<b;v++)m=f[v],y[v]=m.before(e,p(),t);return r.call(n)}function a(e){t=t||{},t.exception=e}function o(){for(v=0,b=f.length;v<b;v++)m=f[v],m.after(e,p(),t,y[v]);s.STRUCTURED_PROFILE&&console.timeEnd(u)}var u,d,f=c[e];if(s.STRUCTURED_PROFILE&&(u=e+": "+t.object,console.time(u)),f||(f=h(e)),0===f.length)return d=r.call(n),s.STRUCTURED_PROFILE&&console.timeEnd(u),d;var m,v,b,y=[];return l(i,a,o)}function i(e,t){for(var r,n=e.split("."),i=[],a=0,o=n.length;a<o;a++)r=n[a],"*"===r?i.push("[^\\.]*"):i.push(r);i=i.join("\\."),i+="(\\..*)?";var s={pattern:e,regex:new RegExp("^"+i+"$"),object:t};return u.push(s),c={},s}function a(e){for(var t,r=0,n=u.length;r<n;r++)u[r]===e&&(t=r);u.splice(t,1),c={}}function o(){u=[],c={}}var s=e.default,l=t.tryCatchFinally,u=[],c={},h=function(e){for(var t,r=[],n=0,i=u.length;n<i;n++)t=u[n],t.regex.test(e)&&r.push(t.object);return c[e]=r,r},p=function(){var e="undefined"!=typeof window?window.performance||{}:{},t=e.now||e.mozNow||e.webkitNow||e.msNow||e.oNow;return t?t.bind(e):function(){return+new Date}}();r.instrument=n,r.subscribe=i,r.unsubscribe=a,r.reset=o}),e("ember-metal/is_blank",["ember-metal/core","ember-metal/is_empty","exports"],function(e,t,r){"use strict";function n(e){return i(e)||"string"==typeof e&&null===e.match(/\S/)}var i=(e.default,t.default);r.default=n}),e("ember-metal/is_empty",["ember-metal/core","ember-metal/property_get","ember-metal/is_none","exports"],function(e,t,r,n){"use strict";var i=e.default,a=t.get,o=r.default,s=function(e){return o(e)||0===e.length&&"function"!=typeof e||"object"==typeof e&&0===a(e,"length")},l=i.deprecateFunc("Ember.empty is deprecated. Please use Ember.isEmpty instead.",s);n.default=s,n.isEmpty=s,n.empty=l}),e("ember-metal/is_none",["ember-metal/core","exports"],function(e,t){"use strict";var r=e.default,n=function(e){return null===e||void 0===e},i=r.deprecateFunc("Ember.none is deprecated. Please use Ember.isNone instead.",n);t.default=n,t.isNone=n,t.none=i}),e("ember-metal/libraries",["ember-metal/enumerable_utils","exports"],function(e,t){"use strict";var r=e.default,n=r.forEach,i=r.indexOf,a=function(){var e=[],t=0,r=function(t){for(var r=0;r<e.length;r++)if(e[r].name===t)return e[r]};return e.register=function(t,n){r(t)||e.push({name:t,version:n})},e.registerCoreLibrary=function(n,i){r(n)||e.splice(t++,0,{name:n,version:i})},e.deRegister=function(t){var n=r(t);n&&e.splice(i(e,n),1)},e.each=function(t){n(e,function(e){t(e.name,e.version)})},e}();t.default=a}),e("ember-metal/logger",["ember-metal/core","ember-metal/error","exports"],function(e,t,r){"use strict";function n(e){var t,r;a.imports.console?t=a.imports.console:"undefined"!=typeof console&&(t=console);var n="object"==typeof t?t[e]:null;if(n)return"function"==typeof n.apply?(r=function(){n.apply(t,arguments)},r.displayName="console."+e,r):function(){var e=Array.prototype.join.call(arguments,", ");n(e)}}function i(e,t){if(!e)try{throw new o("assertion failed: "+t)}catch(e){setTimeout(function(){throw e},0)}}var a=e.default,o=t.default,s={log:n("log")||a.K,warn:n("warn")||a.K,error:n("error")||a.K,info:n("info")||a.K,debug:n("debug")||n("info")||a.K,assert:n("assert")||i};r.default=s}),e("ember-metal",["ember-metal/core","ember-metal/merge","ember-metal/instrumentation","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/array","ember-metal/logger","ember-metal/property_get","ember-metal/events","ember-metal/observer_set","ember-metal/property_events","ember-metal/properties","ember-metal/property_set","ember-metal/map","ember-metal/get_properties","ember-metal/set_properties","ember-metal/watch_key","ember-metal/chains","ember-metal/watch_path","ember-metal/watching","ember-metal/expand_properties","ember-metal/computed","ember-metal/observer","ember-metal/mixin","ember-metal/binding","ember-metal/run_loop","ember-metal/libraries","ember-metal/is_none","ember-metal/is_empty","ember-metal/is_blank","exports"],function(e,r,n,a,o,s,l,u,c,h,p,d,f,m,v,b,y,g,_,w,x,C,E,O,P,A,T,N,I,S,V,R,k){"use strict";var j=i.Instrumentation={};j.instrument=n.instrument,j.subscribe=n.subscribe,j.unsubscribe=n.unsubscribe,j.reset=n.reset,i.instrument=n.instrument,i.subscribe=n.subscribe,i.generateGuid=a.generateGuid,i.GUID_KEY=a.GUID_KEY,i.GUID_PREFIX=a.GUID_PREFIX,i.create=l.create,i.platform=l.platform;var D=i.ArrayPolyfills={};D.map=u.map,D.forEach=u.forEach,D.filter=u.filter,D.indexOf=u.indexOf,i.Error=o.default,i.guidFor=a.guidFor,i.META_DESC=a.META_DESC,i.EMPTY_META=a.EMPTY_META,i.meta=a.meta,i.getMeta=a.getMeta,i.setMeta=a.setMeta,i.metaPath=a.metaPath,i.inspect=a.inspect,i.typeOf=a.typeOf,i.tryCatchFinally=a.tryCatchFinally,i.isArray=a.isArray,i.makeArray=a.makeArray,i.canInvoke=a.canInvoke,i.tryInvoke=a.tryInvoke,i.tryFinally=a.tryFinally,i.wrap=a.wrap,i.apply=a.apply,i.applyStr=a.applyStr,i.Logger=c.default,i.get=h.get,i.getWithDefault=h.getWithDefault,i.normalizeTuple=h.normalizeTuple,i._getPath=h._getPath,i.EnumerableUtils=s.default,i.on=p.on,i.addListener=p.addListener,i.removeListener=p.removeListener,i._suspendListener=p.suspendListener,i._suspendListeners=p.suspendListeners,i.sendEvent=p.sendEvent,i.hasListeners=p.hasListeners,i.watchedEvents=p.watchedEvents,i.listenersFor=p.listenersFor,i.listenersDiff=p.listenersDiff,i.listenersUnion=p.listenersUnion,i._ObserverSet=d.default,i.propertyWillChange=f.propertyWillChange,i.propertyDidChange=f.propertyDidChange,i.overrideChains=f.overrideChains,i.beginPropertyChanges=f.beginPropertyChanges,i.endPropertyChanges=f.endPropertyChanges,i.changeProperties=f.changeProperties,i.Descriptor=m.Descriptor,i.defineProperty=m.defineProperty,i.set=v.set,i.trySet=v.trySet,i.OrderedSet=b.OrderedSet,i.Map=b.Map,i.MapWithDefault=b.MapWithDefault,i.getProperties=y.default,i.setProperties=g.default,i.watchKey=_.watchKey,i.unwatchKey=_.unwatchKey,i.flushPendingChains=w.flushPendingChains,i.removeChainWatcher=w.removeChainWatcher,i._ChainNode=w.ChainNode,i.finishChains=w.finishChains,i.watchPath=x.watchPath,i.unwatchPath=x.unwatchPath,i.watch=C.watch,i.isWatching=C.isWatching,i.unwatch=C.unwatch,i.rewatch=C.rewatch,i.destroy=C.destroy,i.expandProperties=E.default,i.ComputedProperty=O.ComputedProperty,i.computed=O.computed,i.cacheFor=O.cacheFor,i.addObserver=P.addObserver,i.observersFor=P.observersFor,i.removeObserver=P.removeObserver,i.addBeforeObserver=P.addBeforeObserver,i._suspendBeforeObserver=P._suspendBeforeObserver,i._suspendBeforeObservers=P._suspendBeforeObservers,i._suspendObserver=P._suspendObserver,i._suspendObservers=P._suspendObservers,i.beforeObserversFor=P.beforeObserversFor,i.removeBeforeObserver=P.removeBeforeObserver,i.IS_BINDING=A.IS_BINDING,i.required=A.required,i.aliasMethod=A.aliasMethod,i.observer=A.observer,i.immediateObserver=A.immediateObserver,i.beforeObserver=A.beforeObserver,i.mixin=A.mixin,i.Mixin=A.Mixin,i.oneWay=T.oneWay,i.bind=T.bind,i.Binding=T.Binding,i.isGlobalPath=T.isGlobalPath,i.run=N.default,i.libraries=I.default,i.libraries.registerCoreLibrary("Ember",i.VERSION),i.isNone=S.isNone,i.none=S.none,i.isEmpty=V.isEmpty,i.empty=V.empty,i.isBlank=R.default,i.merge=r.default,i.onerror=null,i.__loader.registry["ember-debug"]&&t("ember-debug"),k.default=i}),e("ember-metal/map",["ember-metal/property_set","ember-metal/utils","ember-metal/array","ember-metal/platform","exports"],function(e,t,r,n,a){"use strict";function o(){this.clear()}function s(e){f.call(this),this.defaultValue=e.defaultValue}var l=e.set,u=t.guidFor,c=r.indexOf,h=n.create,p=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},d=function(e,t){var r=e.keys.copy(),n=p(e.values);return t.keys=r,t.values=n,t.length=e.length,t};o.create=function(){return new o},o.prototype={clear:function(){this.presenceSet={},this.list=[]},add:function(e){var t=u(e),r=this.presenceSet,n=this.list;t in r||(r[t]=!0,n.push(e))},remove:function(e){var t=u(e),r=this.presenceSet,n=this.list;delete r[t];var i=c.call(n,e);i>-1&&n.splice(i,1)},isEmpty:function(){return 0===this.list.length},has:function(e){return u(e)in this.presenceSet},forEach:function(e,t){for(var r=this.toArray(),n=0,i=r.length;n<i;n++)e.call(t,r[n])},toArray:function(){return this.list.slice()},copy:function(){var e=new o;return e.presenceSet=p(this.presenceSet),e.list=this.toArray(),e}};var f=i.Map=function(){this.keys=o.create(),this.values={}};f.create=function(){return new f},f.prototype={length:0,get:function(e){return this.values[u(e)]},set:function(e,t){var r=this.keys,n=this.values,i=u(e);r.add(e),n[i]=t,l(this,"length",r.list.length)},remove:function(e){var t=this.keys,r=this.values,n=u(e);return!!r.hasOwnProperty(n)&&(t.remove(e),delete r[n],l(this,"length",t.list.length),!0)},has:function(e){var t=this.values,r=u(e);return t.hasOwnProperty(r)},forEach:function(e,t){var r=this.keys,n=this.values;r.forEach(function(r){var i=u(r);e.call(t,r,n[i])})},copy:function(){return d(this,new f)}},s.create=function(e){return e?new s(e):new f},s.prototype=h(f.prototype),s.prototype.get=function(e){if(this.has(e))return f.prototype.get.call(this,e);var t=this.defaultValue(e);return this.set(e,t),t},s.prototype.copy=function(){return d(this,new s({defaultValue:this.defaultValue}))},a.OrderedSet=o,a.Map=f,a.MapWithDefault=s}),e("ember-metal/merge",["exports"],function(e){"use strict";function t(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}e.default=t}),e("ember-metal/mixin",["ember-metal/core","ember-metal/merge","ember-metal/array","ember-metal/platform","ember-metal/utils","ember-metal/expand_properties","ember-metal/properties","ember-metal/computed","ember-metal/binding","ember-metal/observer","ember-metal/events","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h){"use strict";function p(){var e,t=this.__nextSuper;return t&&(this.__nextSuper=null,e=Z(this,t,arguments),this.__nextSuper=t),e}function d(e){var t=ve(e,!0),r=t.mixins;return r?t.hasOwnProperty("mixins")||(r=t.mixins=me(r)):r=t.mixins={},r}function f(e,t){return t&&t.length>0&&(e.mixins=he.call(t,function(e){if(e instanceof V)return e;var t=new V;return t.properties=e,t})),e}function m(e){return"function"==typeof e&&!1!==e.isMethod&&e!==Boolean&&e!==Object&&e!==Number&&e!==Array&&e!==Date&&e!==String}function v(e,t){var r;return t instanceof V?(r=G(t),e[r]?be:(e[r]=t,t.properties)):t}function b(e,t,r,n){var i;return i=r[e]||n[e],
t[e]&&(i=i?i.concat(t[e]):t[e]),i}function y(e,t,r,n,i){var a;return void 0===n[t]&&(a=i[t]),(a=a||e.descs[t])&&a instanceof ne?(r=me(r),r.func=J(r.func,a.func),r):r}function g(e,t,r,n,i){var a;return void 0===i[t]&&(a=n[t]),a=a||e[t],"function"!=typeof a?r:J(r,a)}function _(e,t,r,n){var i=n[t]||e[t];return i?"function"==typeof i.concat?i.concat(r):X(i).concat(r):X(r)}function w(e,t,r,n){var i=n[t]||e[t];if(!i)return r;var a=U({},i),o=!1;for(var s in r)if(r.hasOwnProperty(s)){var l=r[s];m(l)?(o=!0,a[s]=g(e,s,l,i,{})):a[s]=l}return o&&(a._super=p),a}function x(e,t,r,n,i,a,o,s){if(r instanceof te){if(r===B&&i[t])return be;r.func&&(r=y(n,t,r,a,i)),i[t]=r,a[t]=void 0}else o&&pe.call(o,t)>=0||"concatenatedProperties"===t||"mergedProperties"===t?r=_(e,t,r,a):s&&pe.call(s,t)>=0?r=w(e,t,r,a):m(r)&&(r=g(e,t,r,a,i)),i[t]=void 0,a[t]=r}function C(e,t,r,n,i,a){function o(e){delete r[e],delete n[e]}for(var s,l,u,c,h,p,d=0,f=e.length;d<f;d++)if(s=e[d],z.assert("Expected hash or Mixin instance, got "+Object.prototype.toString.call(s),"object"==typeof s&&null!==s&&"[object Array]"!==Object.prototype.toString.call(s)),(l=v(t,s))!==be)if(l){p=ve(i),i.willMergeMixin&&i.willMergeMixin(l),c=b("concatenatedProperties",l,n,i),h=b("mergedProperties",l,n,i);for(u in l)l.hasOwnProperty(u)&&(a.push(u),x(i,u,l[u],p,r,n,c,h));l.hasOwnProperty("toString")&&(i.toString=l.toString)}else s.mixins&&(C(s.mixins,t,r,n,i,a),s._without&&de.call(s._without,o))}function E(e,t,r,n){if(ye.test(t)){var i=n.bindings;i?n.hasOwnProperty("bindings")||(i=n.bindings=me(n.bindings)):i=n.bindings={},i[t]=r}}function O(e,t){var r,n,i,a=t.bindings;if(a){for(r in a)(n=a[r])&&(i=r.slice(0,-7),n instanceof ie?(n=n.copy(),n.to(i)):n=new ie(i,n),n.connect(e),e[r]=n);t.bindings={}}}function P(e,t){return O(e,t||ve(e)),e}function A(e,t,r,n,i){var a,o=t.methodName;return n[o]||i[o]?(a=i[o],t=n[o]):r.descs[o]?(t=r.descs[o],a=void 0):(t=void 0,a=e[o]),{desc:t,value:a}}function T(e,t,r,n,i){var a=r[n];if(a)for(var o=0,s=a.length;o<s;o++)i(e,a[o],null,t)}function N(e,t,r){var n=e[t];"function"==typeof n&&(T(e,t,n,"__ember_observesBefore__",le),T(e,t,n,"__ember_observes__",oe),T(e,t,n,"__ember_listens__",ce)),"function"==typeof r&&(T(e,t,r,"__ember_observesBefore__",se),T(e,t,r,"__ember_observes__",ae),T(e,t,r,"__ember_listens__",ue))}function I(e,t,r){var n,i,a,o={},s={},l=ve(e),u=[];e._super=p,C(t,d(e),o,s,e,u);for(var c=0,h=u.length;c<h;c++)if("constructor"!==(n=u[c])&&s.hasOwnProperty(n)&&(a=o[n],i=s[n],a!==B)){for(;a&&a instanceof F;){var f=A(e,a,l,o,s);a=f.desc,i=f.value}void 0===a&&void 0===i||(N(e,n,i),E(e,n,i,l),re(e,n,a,i,l))}return r||P(e,l),e}function S(e){return I(e,fe.call(arguments,1),!1),e}function V(){return f(this,arguments)}function R(e,t,r){var n=G(e);if(r[n])return!1;if(r[n]=!0,e===t)return!0;for(var i=e.mixins,a=i?i.length:0;--a>=0;)if(R(i[a],t,r))return!0;return!1}function k(e,t,r){if(!r[G(t)])if(r[G(t)]=!0,t.properties){var n=t.properties;for(var i in n)n.hasOwnProperty(i)&&(e[i]=!0)}else t.mixins&&de.call(t.mixins,function(t){k(e,t,r)})}function j(){return B}function D(e){return new F(e)}function M(){var e,t=fe.call(arguments,-1)[0],r=function(t){e.push(t)},n=fe.call(arguments,0,-1);"function"!=typeof t&&(t=arguments[0],n=fe.call(arguments,1)),e=[];for(var i=0;i<n.length;++i)ee(n[i],r);if("function"!=typeof t)throw new z.Error("Ember.observer called without a function");return t.__ember_observes__=e,t}function L(){for(var e=0,t=arguments.length;e<t;e++){var r=arguments[e];z.assert("Immediate observers must observe internal properties only, not properties on other objects.","string"!=typeof r||-1===r.indexOf("."))}return M.apply(this,arguments)}function H(){var e,t=fe.call(arguments,-1)[0],r=function(t){e.push(t)},n=fe.call(arguments,0,-1);"function"!=typeof t&&(t=arguments[0],n=fe.call(arguments,1)),e=[];for(var i=0;i<n.length;++i)ee(n[i],r);if("function"!=typeof t)throw new z.Error("Ember.beforeObserver called without a function");return t.__ember_observesBefore__=e,t}var B,F,z=e.default,U=t.default,q=r.map,K=r.indexOf,W=r.forEach,Y=n.create,G=i.guidFor,$=i.meta,Q=i.META_KEY,J=i.wrap,X=i.makeArray,Z=i.apply,ee=a.default,te=o.Descriptor,re=o.defineProperty,ne=s.ComputedProperty,ie=l.Binding,ae=u.addObserver,oe=u.removeObserver,se=u.addBeforeObserver,le=u.removeBeforeObserver,ue=c.addListener,ce=c.removeListener,he=q,pe=K,de=W,fe=[].slice,me=Y,re=re,ve=$,be={},ye=/^.+Binding$/;V.prototype={properties:null,mixins:null,ownerConstructor:null},V._apply=I,V.applyPartial=function(e){return I(e,fe.call(arguments,1),!0)},V.finishPartial=P,z.anyUnprocessedMixins=!1,V.create=function(){return z.anyUnprocessedMixins=!0,f(new this,arguments)};var ge=V.prototype;ge.reopen=function(){var e,t;this.properties?(e=V.create(),e.properties=this.properties,delete this.properties,this.mixins=[e]):this.mixins||(this.mixins=[]);var r,n=arguments.length,i=this.mixins;for(r=0;r<n;r++)e=arguments[r],z.assert("Expected hash or Mixin instance, got "+Object.prototype.toString.call(e),"object"==typeof e&&null!==e&&"[object Array]"!==Object.prototype.toString.call(e)),e instanceof V?i.push(e):(t=V.create(),t.properties=e,i.push(t));return this},ge.apply=function(e){return I(e,[this],!1)},ge.applyPartial=function(e){return I(e,[this],!0)},ge.detect=function(e){if(!e)return!1;if(e instanceof V)return R(e,this,{});var t=e[Q],r=t&&t.mixins;return!!r&&!!r[G(this)]},ge.without=function(){var e=new V(this);return e._without=fe.call(arguments),e},ge.keys=function(){var e={},t={},r=[];k(e,this,t);for(var n in e)e.hasOwnProperty(n)&&r.push(n);return r},V.mixins=function(e){var t=e[Q],r=t&&t.mixins,n=[];if(!r)return n;for(var i in r){var a=r[i];a.properties||n.push(a)}return n},B=new te,B.toString=function(){return"(Required Property)"},F=function(e){this.methodName=e},F.prototype=new te,h.IS_BINDING=ye,h.mixin=S,h.Mixin=V,h.required=j,h.aliasMethod=D,h.observer=M,h.immediateObserver=L,h.beforeObserver=H}),e("ember-metal/observer",["ember-metal/watching","ember-metal/array","ember-metal/events","exports"],function(e,t,r,n){"use strict";function i(e){return e+E}function a(e){return e+O}function o(e,t,r,n){return _(e,i(t),r,n),v(e,t),this}function s(e,t){return g(e,i(t))}function l(e,t,r,n){return b(e,t),w(e,i(t),r,n),this}function u(e,t,r,n){return _(e,a(t),r,n),v(e,t),this}function c(e,t,r,n,i){return C(e,a(t),r,n,i)}function h(e,t,r,n,a){return C(e,i(t),r,n,a)}function p(e,t,r,n,i){var o=y.call(t,a);return x(e,o,r,n,i)}function d(e,t,r,n,a){var o=y.call(t,i);return x(e,o,r,n,a)}function f(e,t){return g(e,a(t))}function m(e,t,r,n){return b(e,t),w(e,a(t),r,n),this}var v=e.watch,b=e.unwatch,y=t.map,g=r.listenersFor,_=r.addListener,w=r.removeListener,x=r.suspendListeners,C=r.suspendListener,E=":change",O=":before";n.addObserver=o,n.observersFor=s,n.removeObserver=l,n.addBeforeObserver=u,n._suspendBeforeObserver=c,n._suspendObserver=h,n._suspendBeforeObservers=p,n._suspendObservers=d,n.beforeObserversFor=f,n.removeBeforeObserver=m}),e("ember-metal/observer_set",["ember-metal/utils","ember-metal/events","exports"],function(e,t,r){"use strict";function n(){this.clear()}var i=e.guidFor,a=t.sendEvent;n.prototype.add=function(e,t,r){var n,a=this.observerSet,o=this.observers,s=i(e),l=a[s];return l||(a[s]=l={}),n=l[t],void 0===n&&(n=o.push({sender:e,keyName:t,eventName:r,listeners:[]})-1,l[t]=n),o[n].listeners},n.prototype.flush=function(){var e,t,r,n,i=this.observers;for(this.clear(),e=0,t=i.length;e<t;++e)r=i[e],n=r.sender,n.isDestroying||n.isDestroyed||a(n,r.eventName,[n,r.keyName],r.listeners)},n.prototype.clear=function(){this.observerSet={},this.observers=[]},r.default=n}),e("ember-metal/platform",["ember-metal/core","exports"],function(e,t){"use strict";var r=e.default,n={},i=Object.create;if(i&&2!==i({a:1},{a:{value:2}}).a&&(i=null),!i||r.ENV.STUB_OBJECT_CREATE){var a=function(){};i=function(e,t){if(a.prototype=e,e=new a,t){a.prototype=e;for(var r in t)a.prototype[r]=t[r].value;e=new a}return a.prototype=null,e},i.isSimulated=!0}var o,s,l=Object.defineProperty;if(l)try{l({},"a",{get:function(){}})}catch(e){l=null}l&&(o=function(){var e={};return l(e,"a",{configurable:!0,enumerable:!0,get:function(){},set:function(){}}),l(e,"a",{configurable:!0,enumerable:!0,writable:!0,value:!0}),!0===e.a}(),s=function(){try{return l(document.createElement("div"),"definePropertyOnDOM",{}),!0}catch(e){}return!1}(),o?s||(l=function(e,t,r){var n;return n="object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,n?e[t]=r.value:Object.defineProperty(e,t,r)}):l=null),n.defineProperty=l,n.hasPropertyAccessors=!0,n.defineProperty||(n.hasPropertyAccessors=!1,n.defineProperty=function(e,t,r){r.get||(e[t]=r.value)},n.defineProperty.isSimulated=!0),r.ENV.MANDATORY_SETTER&&!n.hasPropertyAccessors&&(r.ENV.MANDATORY_SETTER=!1),t.create=i,t.platform=n}),e("ember-metal/properties",["ember-metal/core","ember-metal/utils","ember-metal/platform","ember-metal/property_events","exports"],function(e,t,r,n,i){"use strict";function a(){}function o(e,t,r,n,i){var o,s,l,u;return i||(i=p(e)),o=i.descs,s=i.descs[t],l=i.watching[t]>0,s instanceof a&&s.teardown(e,t),r instanceof a?(u=r,o[t]=r,f&&l?d(e,t,{configurable:!0,enumerable:!0,writable:!0,value:void 0}):e[t]=void 0):(o[t]=void 0,null==r?(u=n,f&&l?(i.values[t]=n,d(e,t,{configurable:!0,enumerable:!0,set:m,get:v(t)})):e[t]=n):(u=r,d(e,t,r))),l&&h(e,t,i),e.didDefineProperty&&e.didDefineProperty(e,t,u),this}var s=e.default,l=t.META_KEY,u=t.meta,c=r.platform,h=n.overrideChains,p=u,d=c.defineProperty,f=s.ENV.MANDATORY_SETTER,m=s.MANDATORY_SETTER_FUNCTION=function(e){s.assert("You must use Ember.set() to access this property (of "+this+")",!1)},v=s.DEFAULT_GETTER_FUNCTION=function(e){return function(){var t=this[l];return t&&t.values[e]}};i.Descriptor=a,i.defineProperty=o}),e("ember-metal/property_events",["ember-metal/utils","ember-metal/events","ember-metal/observer_set","exports"],function(e,t,r,n){"use strict";function i(e,t){var r=e[g],n=r&&r.watching[t]>0||"length"===t,i=r&&r.proto,a=r&&r.descs[t];n&&i!==e&&(a&&a.willChange&&a.willChange(e,t),o(e,t,r),u(e,t,r),m(e,t))}function a(e,t){var r=e[g],n=r&&r.watching[t]>0||"length"===t,i=r&&r.proto,a=r&&r.descs[t];i!==e&&(a&&a.didChange&&a.didChange(e,t),(n||"length"===t)&&(s(e,t,r),c(e,t,r,!1),v(e,t)))}function o(e,t,r){if(!e.isDestroying){var n=b,a=!n;a&&(n=b={}),l(i,e,t,n,r),a&&(b=null)}}function s(e,t,r){if(!e.isDestroying){var n=y,i=!n;i&&(n=y={}),l(a,e,t,n,r),i&&(y=null)}}function l(e,t,r,n,i){var a=_(t);if(n[a]||(n[a]={}),!n[a][r]){n[a][r]=!0;var o=i.deps;if(o=o&&o[r])for(var s in o){var l=i.descs[s];l&&l._suspended===t||e(t,s)}}}function u(e,t,r){if(r.hasOwnProperty("chainWatchers")&&r.chainWatchers[t]){var n,a,o=r.chainWatchers[t],s=[];for(n=0,a=o.length;n<a;n++)o[n].willChange(s);for(n=0,a=s.length;n<a;n+=2)i(s[n],s[n+1])}}function c(e,t,r,n){if(r&&r.hasOwnProperty("chainWatchers")&&r.chainWatchers[t]){var i,o,s=r.chainWatchers[t],l=n?null:[];for(i=0,o=s.length;i<o;i++)s[i].didChange(l);if(!n)for(i=0,o=l.length;i<o;i+=2)a(l[i],l[i+1])}}function h(e,t,r){c(e,t,r,!0)}function p(){T++}function d(){--T<=0&&(P.clear(),A.flush())}function f(e,t){p(),w(e,d,t)}function m(e,t){if(!e.isDestroying){var r,n,i=t+":before";T?(r=P.add(e,t,i),n=E(e,i,r),x(e,i,[e,t],n)):x(e,i,[e,t])}}function v(e,t){if(!e.isDestroying){var r,n=t+":change";T?(r=A.add(e,t,n),C(e,n,r)):x(e,n,[e,t])}}var b,y,g=e.META_KEY,_=e.guidFor,w=e.tryFinally,x=t.sendEvent,C=t.listenersUnion,E=t.listenersDiff,O=r.default,P=new O,A=new O,T=0;n.propertyWillChange=i,n.propertyDidChange=a,n.overrideChains=h,n.beginPropertyChanges=p,n.endPropertyChanges=d,n.changeProperties=f}),e("ember-metal/property_get",["ember-metal/core","ember-metal/utils","ember-metal/error","exports"],function(e,t,r,n){"use strict";function i(e,t){var r,n=0===t.indexOf(d),i=!n&&p.test(t);if(e&&!i||(e=l.lookup),n&&(t=t.slice(5)),e===l.lookup&&(r=t.match(f)[0],e=s(e,r),t=t.slice(r.length+1)),!t||0===t.length)throw new c("Path cannot be empty");return[e,t]}function a(e,t){var r,n,a,o,u;if(null===e&&-1===t.indexOf("."))return s(l.lookup,t);for(r=0===t.indexOf(d),e&&!r||(a=i(e,t),e=a[0],t=a[1],a.length=0),n=t.split("."),u=n.length,o=0;null!=e&&o<u;o++)if((e=s(e,n[o],!0))&&e.isDestroyed)return;return e}function o(e,t,r){var n=s(e,t);return void 0===n?r:n}var s,l=e.default,u=t.META_KEY,c=r.default,h=l.ENV.MANDATORY_SETTER,p=/^([A-Z$]|([0-9][A-Z$])).*[\.]/,d="this.",f=/^([^\.]+)/;s=function(e,t){if(""===t)return e;if(t||"string"!=typeof e||(t=e,e=null),l.assert("Cannot call get with "+t+" key.",!!t),l.assert("Cannot call get with '"+t+"' on an undefined object.",void 0!==e),null===e)return a(e,t);var r,n=e[u],i=n&&n.descs[t];return void 0===i&&-1!==t.indexOf(".")?a(e,t):i?i.get(e,t):(r=h&&n&&n.watching[t]>0?n.values[t]:e[t],void 0!==r||"object"!=typeof e||t in e||"function"!=typeof e.unknownProperty?r:e.unknownProperty(t))},l.config.overrideAccessors&&(l.get=s,l.config.overrideAccessors(),s=l.get),n.default=s,n.get=s,n.getWithDefault=o,n.normalizeTuple=i,n._getPath=a}),e("ember-metal/property_set",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/property_events","ember-metal/properties","ember-metal/error","exports"],function(e,t,r,n,i,a,o){"use strict";function s(e,t,r,n){var i;if(i=t.slice(t.lastIndexOf(".")+1),t=t===i?i:t.slice(0,t.length-(i.length+1)),"this"!==t&&(e=c(e,t)),!i||0===i.length)throw new m("Property set failed: You passed an empty path");if(!e){if(n)return;throw new m('Property set failed: object in path "'+t+'" could not be found or was destroyed.')}return y(e,i,r)}function l(e,t,r){return y(e,t,r,!0)}var u=e.default,c=t._getPath,h=r.META_KEY,p=n.propertyWillChange,d=n.propertyDidChange,f=i.defineProperty,m=a.default,v=u.ENV.MANDATORY_SETTER,b=/^([A-Z$]|([0-9][A-Z$]))/,y=function(e,t,r,n){if("string"==typeof e&&(u.assert("Path '"+e+"' must be global if no obj is given.",b.test(e)),r=t,t=e,e=null),u.assert("Cannot call set with "+t+" key.",!!t),!e)return s(e,t,r,n);var i,a,o=e[h],l=o&&o.descs[t];if(void 0===l&&-1!==t.indexOf("."))return s(e,t,r,n);if(u.assert("You need to provide an object and key to `set`.",!!e&&void 0!==t),u.assert("calling set on destroyed object",!e.isDestroyed),void 0!==l)l.set(e,t,r);else{if("object"==typeof e&&null!==e&&void 0!==r&&e[t]===r)return r;i="object"==typeof e&&!(t in e),i&&"function"==typeof e.setUnknownProperty?e.setUnknownProperty(t,r):o&&o.watching[t]>0?(a=v?o.values[t]:e[t],r!==a&&(p(e,t),v?(void 0!==a||t in e)&&e.propertyIsEnumerable(t)?o.values[t]=r:f(e,t,null,r):e[t]=r,d(e,t))):e[t]=r}return r};u.config.overrideAccessors&&(u.set=y,u.config.overrideAccessors(),y=u.set),o.set=y,o.trySet=l}),e("ember-metal/run_loop",["ember-metal/core","ember-metal/utils","ember-metal/array","ember-metal/property_events","exports"],function(e,r,n,i,a){"use strict";function o(){b.currentRunLoop||s.assert("You have turned on testing mode, which disabled the run-loop's autorun. You will need to wrap any code with asynchronous side-effects in an run",!s.testing)}var s=e.default,l=r.apply,u=n.indexOf,c=i.beginPropertyChanges,h=i.endPropertyChanges,p=function(e){b.currentRunLoop=e},d=function(e,t){b.currentRunLoop=t},f=t("backburner").Backburner,m=new f(["sync","actions","destroy"],{sync:{before:c,after:h},defaultQueue:"actions",onBegin:p,onEnd:d,onErrorTarget:s,onErrorMethod:"onerror"}),v=[].slice,b=function(){return l(m,m.run,arguments)};b.join=function(e,t){if(!b.currentRunLoop)return l(s,b,arguments);var r=v.call(arguments);r.unshift("actions"),l(b,b.schedule,r)},b.bind=function(e,t){var r=v.call(arguments);return function(){return l(b,b.join,r.concat(v.call(arguments)))}},b.backburner=m,b.currentRunLoop=null,b.queues=m.queueNames,b.begin=function(){m.begin()},b.end=function(){m.end()},b.schedule=function(e,t,r){o(),l(m,m.schedule,arguments)},b.hasScheduledTimers=function(){return m.hasTimers()},b.cancelTimers=function(){m.cancelTimers()},b.sync=function(){m.currentInstance&&m.currentInstance.queues.sync.flush()},b.later=function(e,t){return l(m,m.later,arguments)},b.once=function(e,t){o();var r=v.call(arguments);return r.unshift("actions"),l(m,m.scheduleOnce,r)},b.scheduleOnce=function(e,t,r){return o(),l(m,m.scheduleOnce,arguments)},b.next=function(){var e=v.call(arguments);return e.push(1),l(m,m.later,e)},b.cancel=function(e){return m.cancel(e)},b.debounce=function(){return l(m,m.debounce,arguments)},b.throttle=function(){return l(m,m.throttle,arguments)},b._addQueue=function(e,t){-1===u.call(b.queues,e)&&b.queues.splice(u.call(b.queues,t)+1,0,e)},a.default=b}),e("ember-metal/set_properties",["ember-metal/property_events","ember-metal/property_set","exports"],function(e,t,r){"use strict";function n(e,t){return i(function(){for(var r in t)t.hasOwnProperty(r)&&a(e,r,t[r])}),e}var i=e.changeProperties,a=t.set;r.default=n}),e("ember-metal/utils",["ember-metal/core","ember-metal/platform","ember-metal/array","exports"],function(e,r,i,a){"use strict";function o(e,t){t||(t=P);var r=t+S++;return e&&(null===e[R]?e[R]=r:(k.value=r,A(e,R,k))),r}function s(e){if(void 0===e)return"(undefined)";if(null===e)return"(null)";var t;switch(typeof e){case"number":return t=N[e],t||(t=N[e]="nu"+e),t;case"string":return t=I[e],t||(t=I[e]="st"+S++),t;case"boolean":return e?"(true)":"(false)";default:return e[R]?e[R]:e===Object?"(Object)":e===Array?"(Array)":(t="ember"+S++,null===e[R]?e[R]=t:(k.value=t,A(e,R,k)),t)}}function l(e){this.descs={},this.watching={},this.cache={},this.cacheMeta={},this.source=e}function u(e,t){var r=e[D];return!1===t?r||L:(r?r.source!==e&&(M||A(e,D,j),r=T(r),r.descs=T(r.descs),r.watching=T(r.watching),r.cache={},r.cacheMeta={},r.source=e,V&&(r.values=T(r.values)),e[D]=r):(M||A(e,D,j),r=new l(e),V&&(r.values={}),e[D]=r,r.descs.constructor=null),r)}function c(e,t){return u(e,!1)[t]}function h(e,t,r){return u(e,!0)[t]=r,r}function p(e,t,r){x.deprecate("Ember.metaPath is deprecated and will be removed from future releases.");for(var n,i,a=u(e,r),o=0,s=t.length;o<s;o++){if(n=t[o],i=a[n]){if(i.__ember_source__!==e){if(!r)return;i=a[n]=T(i),i.__ember_source__=e}}else{if(!r)return;i=a[n]={__ember_source__:e}}a=i}return i}function d(e,t){function r(){var r,n=this.__nextSuper;return this.__nextSuper=t,r=_(this,e,arguments),this.__nextSuper=n,r}return r.wrappedFunction=e,r.wrappedFunction.__ember_arity__=e.length,r.__ember_observes__=e.__ember_observes__,r.__ember_observesBefore__=e.__ember_observesBefore__,r.__ember_listens__=e.__ember_listens__,r}function f(e){var r,i;return void 0===H&&(r="ember-runtime/mixins/array",n._eak_seen[r]&&(H=t(r).default)),!(!e||e.setInterval)&&(!(!Array.isArray||!Array.isArray(e))||(!(!H||!H.detect(e))||("array"===(i=y(e))||void 0!==e.length&&"object"===i)))}function m(e){return null===e||void 0===e?[]:f(e)?e:[e]}function v(e,t){return!(!e||"function"!=typeof e[t])}function b(e,t,r){if(v(e,t))return r?w(e,t,r):w(e,t)}function y(e){var r,i;return void 0===K&&(i="ember-runtime/system/object",n._eak_seen[i]&&(K=t(i).default)),r=null===e||void 0===e?String(e):U[W.call(e)]||"object","function"===r?K&&K.detect(e)&&(r="class"):"object"===r&&(e instanceof Error?r="error":K&&e instanceof K?r="instance":e instanceof Date&&(r="date")),r}function g(e){var t=y(e);if("array"===t)return"["+e+"]";if("object"!==t)return e+"";var r,n=[];for(var i in e)if(e.hasOwnProperty(i)){if("toString"===(r=e[i]))continue;"function"===y(r)&&(r="function() { ... }"),n.push(i+": "+r)}return"{"+n.join(", ")+"}"}function _(e,t,r){var n=r&&r.length;if(!r||!n)return t.call(e);switch(n){case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2]);case 4:return t.call(e,r[0],r[1],r[2],r[3]);case 5:return t.call(e,r[0],r[1],r[2],r[3],r[4]);default:return t.apply(e,r)}}function w(e,t,r){var n=r&&r.length;if(!r||!n)return e[t]();switch(n){case 1:return e[t](r[0]);case 2:return e[t](r[0],r[1]);case 3:return e[t](r[0],r[1],r[2]);case 4:return e[t](r[0],r[1],r[2],r[3]);case 5:return e[t](r[0],r[1],r[2],r[3],r[4]);default:return e[t].apply(e,r)}}var x=e.default,C=r.platform,E=r.create,O=i.forEach,P="ember",A=C.defineProperty,T=E,N=[],I={},S=0,V=x.ENV.MANDATORY_SETTER,R="__ember"+ +new Date,k={writable:!1,configurable:!1,enumerable:!1,value:null},j={writable:!0,configurable:!1,enumerable:!1,value:null},D="__ember_meta__",M=C.defineProperty.isSimulated;l.prototype={descs:null,deps:null,watching:null,listeners:null,cache:null,cacheMeta:null,source:null,mixins:null,bindings:null,chains:null,chainWatchers:null,values:null,proto:null},M&&(l.prototype.__preventPlainObject__=!0,l.prototype.toJSON=function(){});var L=new l(null);V&&(L.values={});var H,B,F=function(){var e=0;try{throw e++,new Error("needsFinallyFixTest")}catch(e){}return 1!==e}();B=F?function(e,t,r){var n,i,a;r=r||this;try{n=e.call(r)}finally{try{i=t.call(r)}catch(e){a=e}}if(a)throw a;return void 0===i?n:i}:function(e,t,r){var n,i;r=r||this;try{n=e.call(r)}finally{i=t.call(r)}return void 0===i?n:i};var z;z=F?function(e,t,r,n){var i,a,o;n=n||this;try{i=e.call(n)}catch(e){i=t.call(n,e)}finally{try{a=r.call(n)}catch(e){o=e}}if(o)throw o;return void 0===a?i:a}:function(e,t,r,n){var i,a;n=n||this;try{i=e.call(n)}catch(e){i=t.call(n,e)}finally{a=r.call(n)}return void 0===a?i:a};var U={},q="Boolean Number String Function Array Date RegExp Object".split(" ");O.call(q,function(e){U["[object "+e+"]"]=e.toLowerCase()});var K,W=Object.prototype.toString;a.generateGuid=o,a.GUID_KEY=R,a.GUID_PREFIX=P,a.guidFor=s,a.META_DESC=j,a.EMPTY_META=L,a.META_KEY=D,a.meta=u,a.getMeta=c,a.setMeta=h,a.metaPath=p,a.inspect=g,a.typeOf=y,a.tryCatchFinally=z,a.isArray=f,a.makeArray=m,a.canInvoke=v,a.tryInvoke=b,a.tryFinally=B,a.wrap=d,a.applyStr=w,a.apply=_}),e("backburner",["backburner/utils","backburner/deferred_action_queues","exports"],function(e,t,r){"use strict";function n(e){return w(e)||E.test(e)}function i(e,t){this.queueNames=e,this.options=t||{},this.options.defaultQueue||(this.options.defaultQueue=e[0]),this.instanceStack=[],this._debouncees=[],this._throttlers=[]}function a(e){return function(){try{return e.apply(this,arguments)}catch(e){throw e}}}function o(e){return e.onError||e.onErrorTarget&&e.onErrorTarget[e.onErrorMethod]}function s(e){e.begin(),e._autorun=C.setTimeout(function(){e._autorun=null,e.end()})}function l(e,t,r){(!e._laterTimer||t<e._laterTimerExpiresAt)&&(e._laterTimer=C.setTimeout(function(){e._laterTimer=null,e._laterTimerExpiresAt=null,u(e)},r),e._laterTimerExpiresAt=t)}function u(e){var t,r,n,i=+new Date;e.run(function(){for(r=d(i,x),t=x.splice(0,r),r=1,n=t.length;r<n;r+=2)e.schedule(e.options.defaultQueue,null,t[r])}),x.length&&l(e,x[0],x[0]-i)}function c(e,t,r){return p(e,t,r)}function h(e,t,r){return p(e,t,r)}function p(e,t,r){for(var n,i=-1,a=0,o=r.length;a<o;a++)if(n=r[a],n[0]===e&&n[1]===t){i=a;break}return i}function d(e,t){for(var r,n,i=0,a=t.length-2;i<a;)n=(a-i)/2,r=i+n-n%2,e>=t[r]?i=r+2:a=r;return e>=t[i]?i+2:i}var f=e.default,m=t.DeferredActionQueues,v=[].slice,b=[].pop,y=f.each,g=f.isString,_=f.isFunction,w=f.isNumber,x=[],C=this,E=/\d+/,O=function(e,t){try{t()}catch(e){}return!1}();if(i.prototype={queueNames:null,options:null,currentInstance:null,instanceStack:null,begin:function(){var e=this.options,t=e&&e.onBegin,r=this.currentInstance;r&&this.instanceStack.push(r),this.currentInstance=new m(this.queueNames,e),t&&t(this.currentInstance,r)},end:function(){var e=this.options,t=e&&e.onEnd,r=this.currentInstance,n=null,i=!1;try{r.flush()}finally{i||(i=!0,this.currentInstance=null,this.instanceStack.length&&(n=this.instanceStack.pop(),this.currentInstance=n),t&&t(r,n))}},run:function(e,t){var r=o(this.options);this.begin(),t||(t=e,e=null),g(t)&&(t=e[t]);var n=v.call(arguments,2),i=!1;if(r)try{return t.apply(e,n)}catch(e){r(e)}finally{i||(i=!0,this.end())}else try{return t.apply(e,n)}finally{i||(i=!0,this.end())}},defer:function(e,t,r){r||(r=t,t=null),g(r)&&(r=t[r]);var n=this.DEBUG?new Error:void 0,i=arguments.length>3?v.call(arguments,3):void 0;return this.currentInstance||s(this),this.currentInstance.schedule(e,t,r,i,!1,n)},deferOnce:function(e,t,r){r||(r=t,t=null),g(r)&&(r=t[r]);var n=this.DEBUG?new Error:void 0,i=arguments.length>3?v.call(arguments,3):void 0;return this.currentInstance||s(this),this.currentInstance.schedule(e,t,r,i,!0,n)},setTimeout:function(){function e(){if(m)try{t.apply(i,c)}catch(e){m(e)}else t.apply(i,c)}var t,r,i,a,s,u,c=v.call(arguments),h=c.length;if(0!==h){if(1===h)t=c.shift(),r=0;else if(2===h)a=c[0],s=c[1],_(s)||_(a[s])?(i=c.shift(),t=c.shift(),r=0):n(s)?(t=c.shift(),r=c.shift()):(t=c.shift(),r=0);else{var p=c[c.length-1];r=n(p)?c.pop():0,a=c[0],u=c[1],_(u)||g(u)&&null!==a&&u in a?(i=c.shift(),t=c.shift()):t=c.shift()}var f=+new Date+parseInt(r,10);g(t)&&(t=i[t]);var m=o(this.options),b=d(f,x);return x.splice(b,0,f,e),l(this,f,r),e}},throttle:function(e,t){var r,n,i,a,o=this,s=arguments,l=b.call(s);return w(l)||g(l)?(r=l,l=!0):r=b.call(s),r=parseInt(r,10),(i=h(e,t,this._throttlers))>-1?this._throttlers[i]:(a=C.setTimeout(function(){l||o.run.apply(o,s);var r=h(e,t,o._throttlers);r>-1&&o._throttlers.splice(r,1)},r),l&&o.run.apply(o,s),n=[e,t,a],this._throttlers.push(n),n)},debounce:function(e,t){var r,n,i,a,o=this,s=arguments,l=b.call(s);return w(l)||g(l)?(r=l,l=!1):r=b.call(s),r=parseInt(r,10),n=c(e,t,this._debouncees),n>-1&&(i=this._debouncees[n],this._debouncees.splice(n,1),clearTimeout(i[2])),a=C.setTimeout(function(){l||o.run.apply(o,s);var r=c(e,t,o._debouncees);r>-1&&o._debouncees.splice(r,1)},r),l&&-1===n&&o.run.apply(o,s),i=[e,t,a],o._debouncees.push(i),i},cancelTimers:function(){var e=function(e){clearTimeout(e[2])};y(this._throttlers,e),this._throttlers=[],y(this._debouncees,e),this._debouncees=[],this._laterTimer&&(clearTimeout(this._laterTimer),this._laterTimer=null),x=[],this._autorun&&(clearTimeout(this._autorun),this._autorun=null)},hasTimers:function(){return!!x.length||!!this._debouncees.length||!!this._throttlers.length||this._autorun},cancel:function(e){var t=typeof e;if(e&&"object"===t&&e.queue&&e.method)return e.queue.cancel(e);if("function"!==t)return"[object Array]"===Object.prototype.toString.call(e)?this._cancelItem(h,this._throttlers,e)||this._cancelItem(c,this._debouncees,e):void 0;for(var r=0,n=x.length;r<n;r+=2)if(x[r+1]===e)return x.splice(r,2),!0},_cancelItem:function(e,t,r){var n,i;return!(r.length<3)&&((i=e(r[0],r[1],t))>-1&&(n=t[i],n[2]===r[2])&&(t.splice(i,1),clearTimeout(r[2]),!0))}},i.prototype.schedule=i.prototype.defer,i.prototype.scheduleOnce=i.prototype.deferOnce,i.prototype.later=i.prototype.setTimeout,O){var P=i.prototype.run;i.prototype.run=a(P);var A=i.prototype.end;i.prototype.end=a(A)}r.Backburner=i}),e("backburner/deferred_action_queues",["backburner/utils","backburner/queue","exports"],function(e,t,r){"use strict";function n(e,t){var r=this.queues={};this.queueNames=e=e||[],this.options=t,s(e,function(e){r[e]=new o(this,e,t)})}function i(e,t){for(var r,n,i=0,a=t;i<=a;i++)if(r=e.queueNames[i],n=e.queues[r],n._queue.length)return i;return-1}var a=e.default,o=t.Queue,s=a.each,l=a.isString;n.prototype={queueNames:null,queues:null,options:null,schedule:function(e,t,r,n,i,a){var o=this.queues,s=o[e];if(!s)throw new Error("You attempted to schedule an action in a queue ("+e+") that doesn't exist");return i?s.pushUnique(t,r,n,a):s.push(t,r,n,a)},invoke:function(e,t,r,n){r&&r.length>0?t.apply(e,r):t.call(e)},invokeWithOnError:function(e,t,r,n){try{r&&r.length>0?t.apply(e,r):t.call(e)}catch(e){n(e)}},flush:function(){for(var e,t,r,n,a=this.queues,o=this.queueNames,s=0,u=o.length,c=this.options,h=c.onError||c.onErrorTarget&&c.onErrorTarget[c.onErrorMethod],p=h?this.invokeWithOnError:this.invoke;s<u;){e=o[s],t=a[e],r=t._queueBeingFlushed=t._queue.slice(),t._queue=[];var d,f,m,v=t.options,b=v&&v.before,y=v&&v.after,g=0,_=r.length;for(_&&b&&b();g<_;)d=r[g],f=r[g+1],m=r[g+2],r[g+3],l(f)&&(f=d[f]),f&&p(d,f,m,h),g+=4;t._queueBeingFlushed=null,_&&y&&y(),-1===(n=i(this,s))?s++:s=n}}},r.DeferredActionQueues=n}),e("backburner/queue",["exports"],function(e){"use strict";function t(e,t,r){this.daq=e,this.name=t,this.globalOptions=r,this.options=r[t],this._queue=[]}t.prototype={daq:null,name:null,options:null,onError:null,_queue:null,push:function(e,t,r,n){return this._queue.push(e,t,r,n),{queue:this,target:e,method:t}},pushUnique:function(e,t,r,n){var i,a,o,s,l=this._queue;for(o=0,s=l.length;o<s;o+=4)if(i=l[o],a=l[o+1],i===e&&a===t)return l[o+2]=r,l[o+3]=n,{queue:this,target:e,method:t};return l.push(e,t,r,n),{queue:this,target:e,method:t}},flush:function(){var e,t,r,n,i=this._queue,a=this.globalOptions,o=this.options,s=o&&o.before,l=o&&o.after,u=a.onError||a.onErrorTarget&&a.onErrorTarget[a.onErrorMethod],c=i.length;for(c&&s&&s(),n=0;n<c;n+=4)if(e=i[n],t=i[n+1],r=i[n+2],i[n+3],r&&r.length>0)if(u)try{t.apply(e,r)}catch(e){u(e)}else t.apply(e,r);else if(u)try{t.call(e)}catch(e){u(e)}else t.call(e);c&&l&&l(),i.length>c?(this._queue=i.slice(c),this.flush()):this._queue.length=0},cancel:function(e){var t,r,n,i,a=this._queue;for(n=0,i=a.length;n<i;n+=4)if(t=a[n],r=a[n+1],t===e.target&&r===e.method)return a.splice(n,4),!0;if(a=this._queueBeingFlushed)for(n=0,i=a.length;n<i;n+=4)if(t=a[n],r=a[n+1],t===e.target&&r===e.method)return a[n+1]=null,!0}},e.Queue=t}),e("backburner/utils",["exports"],function(e){"use strict";e.default={each:function(e,t){for(var r=0;r<e.length;r++)t(e[r])},isString:function(e){return"string"==typeof e},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e}}}),e("ember-metal/watch_key",["ember-metal/core","ember-metal/utils","ember-metal/platform","exports"],function(e,t,r,n){"use strict";function i(e,t,r){if("length"!==t||"array"!==l(e)){var n=r||c(e),i=n.watching;i[t]?i[t]=(i[t]||0)+1:(i[t]=1,"function"==typeof e.willWatchProperty&&e.willWatchProperty(t),h&&t in e&&(n.values[t]=e[t],p(e,t,{configurable:!0,enumerable:e.propertyIsEnumerable(t),set:o.MANDATORY_SETTER_FUNCTION,get:o.DEFAULT_GETTER_FUNCTION(t)})))}}function a(e,t,r){var n=r||c(e),i=n.watching;1===i[t]?(i[t]=0,"function"==typeof e.didUnwatchProperty&&e.didUnwatchProperty(t),h&&t in e&&p(e,t,{configurable:!0,enumerable:e.propertyIsEnumerable(t),set:function(r){p(e,t,{configurable:!0,writable:!0,enumerable:!0,value:r}),delete n.values[t]},get:o.DEFAULT_GETTER_FUNCTION(t)})):i[t]>1&&i[t]--}var o=e.default,s=t.meta,l=t.typeOf,u=r.platform,c=s,h=o.ENV.MANDATORY_SETTER,p=u.defineProperty;n.watchKey=i,n.unwatchKey=a}),e("ember-metal/watch_path",["ember-metal/utils","ember-metal/chains","exports"],function(e,t,r){"use strict";function n(e,t){var r=t||u(e),n=r.chains;return n?n.value()!==e&&(n=r.chains=n.copy(e)):n=r.chains=new l(null,null,e),n}function i(e,t,r){if("length"!==t||"array"!==s(e)){var i=r||u(e),a=i.watching;a[t]?a[t]=(a[t]||0)+1:(a[t]=1,n(e,i).add(t))}}function a(e,t,r){var i=r||u(e),a=i.watching;1===a[t]?(a[t]=0,n(e,i).remove(t)):a[t]>1&&a[t]--}var o=e.meta,s=e.typeOf,l=t.ChainNode,u=o;r.watchPath=i,r.unwatchPath=a}),e("ember-metal/watching",["ember-metal/utils","ember-metal/chains","ember-metal/watch_key","ember-metal/watch_path","exports"],function(e,t,r,n,i){"use strict";function a(e){return-1===e.indexOf(".")}function o(e,t,r){"length"===t&&"array"===d(e)||(a(t)?b(e,t,r):g(e,t,r))}function s(e,t){var r=e[h];return(r&&r.watching[t])>0}function l(e,t,r){"length"===t&&"array"===d(e)||(a(t)?y(e,t,r):_(e,t,r))}function u(e){var t=e[h],r=t&&t.chains;p in e&&!e.hasOwnProperty(p)&&f(e),r&&r.value()!==e&&(t.chains=r.copy(e))}function c(e){var t,r,n,i,a=e[h];if(a&&(e[h]=null,t=a.chains))for(w.push(t);w.length>0;){if(t=w.pop(),r=t._chains)for(n in r)r.hasOwnProperty(n)&&w.push(r[n]);t._watching&&(i=t._object)&&m(i,t._key,t)}}var h=(e.meta,e.META_KEY),p=e.GUID_KEY,d=e.typeOf,f=e.generateGuid,m=t.removeChainWatcher,v=t.flushPendingChains,b=r.watchKey,y=r.unwatchKey,g=n.watchPath,_=n.unwatchPath;o.flushPending=v;var w=[];i.watch=o,i.isWatching=s,i.unwatch=l,i.rewatch=u,i.destroy=c})}(),function(){
e("rsvp/all",["./promise","exports"],function(e,t){"use strict";var r=e.default;t.default=function(e,t){return r.all(e,t)}}),e("rsvp/all_settled",["./promise","./utils","exports"],function(e,t,r){"use strict";function n(e){return{state:"fulfilled",value:e}}function i(e){return{state:"rejected",reason:e}}var a=e.default,o=t.isArray,s=t.isNonThenable;r.default=function(e,t){return new a(function(t,r){function l(e,r){h[e]=r,0==--c&&t(h)}if(!o(e))throw new TypeError("You must pass an array to allSettled.");var u,c=e.length;if(0===c)return void t([]);for(var h=new Array(c),p=0;p<e.length;p++)u=e[p],s(u)?l(p,n(u)):a.cast(u).then(function(e){return function(t){l(e,n(t))}}(p),function(e){return function(t){l(e,i(t))}}(p))},t)}}),e("rsvp/config",["./events","exports"],function(e,t){"use strict";function r(e,t){return"onerror"===e?void i.on("error",t):2!==arguments.length?i[e]:void(i[e]=t)}var n=e.default,i={instrument:!1};n.mixin(i),t.config=i,t.configure=r}),e("rsvp/defer",["./promise","exports"],function(e,t){"use strict";var r=e.default;t.default=function(e){var t={};return t.promise=new r(function(e,r){t.resolve=e,t.reject=r},e),t}}),e("rsvp/events",["exports"],function(e){"use strict";var t=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},r=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t};e.default={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,n){var i,a=r(this);i=a[e],i||(i=a[e]=[]),-1===t(i,n)&&i.push(n)},off:function(e,n){var i,a,o=r(this);if(!n)return void(o[e]=[]);i=o[e],-1!==(a=t(i,n))&&i.splice(a,1)},trigger:function(e,t){var n,i=r(this);if(n=i[e])for(var a=0;a<n.length;a++)(0,n[a])(t)}}}),e("rsvp/filter",["./all","./map","./utils","exports"],function(e,t,r,n){"use strict";function i(e,t,r){return a(e,r).then(function(n){if(!l(e))throw new TypeError("You must pass an array to filter.");if(!s(t))throw new TypeError("You must pass a function to filter's second argument.");return o(e,t,r).then(function(e){var t,r=n.length,i=[];for(t=0;t<r;t++)e[t]&&i.push(n[t]);return i})})}var a=e.default,o=t.default,s=r.isFunction,l=r.isArray;n.default=i}),e("rsvp/hash",["./promise","./utils","exports"],function(e,t,r){"use strict";var n=e.default,i=t.isNonThenable,a=t.keysOf;r.default=function(e,t){return new n(function(t,r){function o(e){h=0,r(e)}var s,l,u={},c=a(e),h=c.length;if(0===h)return void t(u);for(var p=0;p<c.length;p++)l=c[p],s=e[l],i(s)?(u[l]=s,0==--h&&t(u)):n.cast(s).then(function(e){return function(r){u[e]=r,0==--h&&t(u)}}(l),o)})}}),e("rsvp/instrument",["./config","./utils","exports"],function(e,t,r){"use strict";var n=e.config,i=t.now;r.default=function(e,t,r){try{n.trigger(e,{guid:t._guidKey+t._id,eventName:e,detail:t._detail,childGuid:r&&t._guidKey+r._id,label:t._label,timeStamp:i(),stack:new Error(t._label).stack})}catch(e){setTimeout(function(){throw e},0)}}}),e("rsvp/map",["./promise","./all","./utils","exports"],function(e,t,r,n){"use strict";var i=(e.default,t.default),a=r.isArray,o=r.isFunction;n.default=function(e,t,r){return i(e,r).then(function(n){if(!a(e))throw new TypeError("You must pass an array to map.");if(!o(t))throw new TypeError("You must pass a function to map's second argument.");var s,l=n.length,u=[];for(s=0;s<l;s++)u.push(t(n[s]));return i(u,r)})}}),e("rsvp/node",["./promise","exports"],function(e,t){"use strict";function r(e,t){return function(r,n){r?t(r):e(arguments.length>2?i.call(arguments,1):n)}}var n=e.default,i=Array.prototype.slice;t.default=function(e,t){return function(){var a=i.call(arguments),o=this||t;return new n(function(t,i){n.all(a).then(function(n){try{n.push(r(t,i)),e.apply(o,n)}catch(e){i(e)}})})}}}),e("rsvp/promise",["./config","./events","./instrument","./utils","./promise/cast","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(e,t,r,n,i,a,o,s,l,u){"use strict";function c(){}function h(e,t){if(!O(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof h))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._id=R++,this._label=t,this._subscribers=[],x.instrument&&C("created",this),c!==e&&p(e,this)}function p(e,t){function r(e){b(t,e)}function n(e){g(t,e)}try{e(r,n)}catch(e){n(e)}}function d(e,t,r,n){var i=e._subscribers,a=i.length;i[a]=t,i[a+D]=r,i[a+M]=n}function f(e,t){var r,n,i=e._subscribers,a=e._detail;x.instrument&&C(t===D?"fulfilled":"rejected",e);for(var o=0;o<i.length;o+=3)r=i[o],n=i[o+t],m(t,r,n,a);e._subscribers=null}function m(e,t,r,n){var i,a,o,s,l=O(r);if(l)try{i=r(n),o=!0}catch(e){s=!0,a=e}else i=n,o=!0;v(t,i)||(l&&o?b(t,i):s?g(t,a):e===D?b(t,i):e===M&&g(t,i))}function v(e,t){var r,n=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(E(t)&&(n=t.then,O(n)))return n.call(t,function(n){if(r)return!0;r=!0,t!==n?b(e,n):y(e,n)},function(t){if(r)return!0;r=!0,g(e,t)},"derived from: "+(e._label||" unknown promise")),!0}catch(t){return!!r||(g(e,t),!0)}return!1}function b(e,t){e===t?y(e,t):v(e,t)||y(e,t)}function y(e,t){e._state===k&&(e._state=j,e._detail=t,x.async(_,e))}function g(e,t){e._state===k&&(e._state=j,e._detail=t,x.async(w,e))}function _(e){f(e,e._state=D)}function w(e){e._onerror&&e._onerror(e._detail),f(e,e._state=M)}var x=e.config,C=(t.default,r.default),E=n.objectOrFunction,O=n.isFunction,P=n.now,A=i.default,T=a.default,N=o.default,I=s.default,S=l.default,V="rsvp_"+P()+"-",R=0;u.default=h,h.cast=A,h.all=T,h.race=N,h.resolve=I,h.reject=S;var k=void 0,j=0,D=1,M=2;h.prototype={constructor:h,_id:void 0,_guidKey:V,_label:void 0,_state:void 0,_detail:void 0,_subscribers:void 0,_onerror:function(e){x.trigger("error",e)},then:function(e,t,r){var n=this;this._onerror=null;var i=new this.constructor(c,r);if(this._state){var a=arguments;x.async(function(){m(n._state,i,a[n._state-1],n._detail)})}else d(this,i,e,t);return x.instrument&&C("chained",n,i),i},catch:function(e,t){return this.then(null,e,t)},finally:function(e,t){var r=this.constructor;return this.then(function(t){return r.cast(e()).then(function(){return t})},function(t){return r.cast(e()).then(function(){throw t})},t)}}}),e("rsvp/promise/all",["../utils","exports"],function(e,t){"use strict";var r=e.isArray,n=e.isNonThenable;t.default=function(e,t){var i=this;return new i(function(t,a){function o(e){l=0,a(e)}if(!r(e))throw new TypeError("You must pass an array to all.");var s,l=e.length,u=new Array(l);if(0===l)return void t(u);for(var c=0;c<e.length;c++)s=e[c],n(s)?(u[c]=s,0==--l&&t(u)):i.cast(s).then(function(e){return function(r){u[e]=r,0==--l&&t(u)}}(c),o)},t)}}),e("rsvp/promise/cast",["exports"],function(e){"use strict";e.default=function(e,t){var r=this;return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)},t)}}),e("rsvp/promise/race",["../utils","exports"],function(e,t){"use strict";var r=e.isArray,n=(e.isFunction,e.isNonThenable);t.default=function(e,t){var i,a=this;return new a(function(t,o){function s(e){u&&(u=!1,t(e))}function l(e){u&&(u=!1,o(e))}if(!r(e))throw new TypeError("You must pass an array to race.");for(var u=!0,c=0;c<e.length;c++){if(i=e[c],n(i))return u=!1,void t(i);a.cast(i).then(s,l)}},t)}}),e("rsvp/promise/reject",["exports"],function(e){"use strict";e.default=function(e,t){return new this(function(t,r){r(e)},t)}}),e("rsvp/promise/resolve",["exports"],function(e){"use strict";e.default=function(e,t){return new this(function(t,r){t(e)},t)}}),e("rsvp/race",["./promise","exports"],function(e,t){"use strict";var r=e.default;t.default=function(e,t){return r.race(e,t)}}),e("rsvp/reject",["./promise","exports"],function(e,t){"use strict";var r=e.default;t.default=function(e,t){return r.reject(e,t)}}),e("rsvp/resolve",["./promise","exports"],function(e,t){"use strict";var r=e.default;t.default=function(e,t){return r.resolve(e,t)}}),e("rsvp/rethrow",["exports"],function(e){"use strict";e.default=function(e){throw setTimeout(function(){throw e}),e}}),e("rsvp/utils",["exports"],function(e){"use strict";function t(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function n(e){return!t(e)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}e.objectOrFunction=t,e.isFunction=r,e.isNonThenable=n,e.isArray=i;var a=Date.now||function(){return(new Date).getTime()};e.now=a;var o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.keysOf=o}),e("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all_settled","./rsvp/race","./rsvp/hash","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f){"use strict";function m(e,t){A.async(e,t)}function v(){A.on.apply(A,arguments)}function b(){A.off.apply(A,arguments)}var y=e.default,g=t.default,_=r.default,w=n.default,x=i.default,C=a.default,E=o.default,O=s.default,P=l.default,A=u.config,T=u.configure,N=c.default,I=h.default,S=p.default,V=d.default;if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var R=window.__PROMISE_INSTRUMENTATION__;T("instrument",!0);for(var k in R)R.hasOwnProperty(k)&&v(k,R[k])}f.Promise=y,f.EventTarget=g,f.all=w,f.allSettled=x,f.race=C,f.hash=E,f.rethrow=O,f.defer=P,f.denodeify=_,f.configure=T,f.on=v,f.off=b,f.resolve=I,f.reject=S,f.async=m,f.map=N,f.filter=V})}(),function(){e("container/container",["container/inheriting_dict","exports"],function(e,t){"use strict";function r(e){this.parent=e,this.children=[],this.resolver=e&&e.resolver||function(){},this.registry=new g(e&&e.registry),this.cache=new g(e&&e.cache),this.factoryCache=new g(e&&e.factoryCache),this.resolveCache=new g(e&&e.resolveCache),this.typeInjections=new g(e&&e.typeInjections),this.injections={},this.factoryTypeInjections=new g(e&&e.factoryTypeInjections),this.factoryInjections={},this._options=new g(e&&e._options),this._typeOptions=new g(e&&e._typeOptions)}function n(e,t){return!!e.cache.has(t)||!!e.resolve(t)}function a(e,t,r){if(r=r||{},e.cache.has(t)&&!1!==r.singleton)return e.cache.get(t);var n=d(e,t);return void 0!==n?(s(e,t)&&!1!==r.singleton&&e.cache.set(t,n),n):void 0}function o(e){throw new Error(e+" is not currently supported on child containers")}function s(e,t){return!1!==u(e,t,"singleton")}function l(e,t){var r={};if(!t)return r;for(var n,i,o=0,s=t.length;o<s;o++){if(n=t[o],void 0===(i=a(e,n.fullName)))throw new Error("Attempting to inject an unknown injection: `"+n.fullName+"`");r[n.property]=i}return r}function u(e,t,r){var n=e._options.get(t);if(n&&void 0!==n[r])return n[r];var i=t.split(":")[0];return n=e._typeOptions.get(i),n?n[r]:void 0}function c(e,t){var r,n=t,a=e.resolve(n),o=e.factoryCache,s=t.split(":")[0];if(void 0!==a){if(o.has(t))return o.get(t);if(!a||"function"!=typeof a.extend||!i.MODEL_FACTORY_INJECTIONS&&"model"===s)return a;var l=h(e,t),u=p(e,t);return u._toString=e.makeToString(a,t),r=a.extend(l),r.reopenClass(u),o.set(t,r),r}}function h(e,t){var r=t.split(":"),n=r[0],i=[];return i=i.concat(e.typeInjections.get(n)||[]),i=i.concat(e.injections[t]||[]),i=l(e,i),i._debugContainerKey=t,i.container=e,i}function p(e,t){var r=t.split(":"),n=r[0],i=[];return i=i.concat(e.factoryTypeInjections.get(n)||[]),i=i.concat(e.factoryInjections[t]||[]),i=l(e,i),i._debugContainerKey=t,i}function d(e,t){var r=c(e,t);return!1===u(e,t,"instantiate")?r:r?"function"==typeof r.extend?r.create():r.create(h(e,t)):void 0}function f(e,t){e.cache.eachLocal(function(r,n){!1!==u(e,r,"instantiate")&&t(n)})}function m(e){e.cache.eachLocal(function(t,r){!1!==u(e,t,"instantiate")&&r.destroy()}),e.cache.dict={}}function v(e,t,r,n){var i=e.get(t);i||(i=[],e.set(t,i)),i.push({property:r,fullName:n})}function b(e){if(!_.test(e))throw new TypeError("Invalid Fullname, expected: `type:name` got: "+e)}function y(e,t,r,n){(e[t]=e[t]||[]).push({property:r,fullName:n})}var g=e.default;r.prototype={parent:null,children:null,resolver:null,registry:null,cache:null,typeInjections:null,injections:null,_options:null,_typeOptions:null,child:function(){var e=new r(this);return this.children.push(e),e},set:function(e,t,r){e[t]=r},register:function(e,t,r){if(b(e),void 0===t)throw new TypeError("Attempting to register an unknown factory: `"+e+"`");var n=this.normalize(e);if(this.cache.has(n))throw new Error("Cannot re-register: `"+e+"`, as it has already been looked up.");this.registry.set(n,t),this._options.set(n,r||{})},unregister:function(e){b(e);var t=this.normalize(e);this.registry.remove(t),this.cache.remove(t),this.factoryCache.remove(t),this.resolveCache.remove(t),this._options.remove(t)},resolve:function(e){b(e);var t=this.normalize(e),r=this.resolveCache.get(t);if(r)return r;var n=this.resolver(t)||this.registry.get(t);return this.resolveCache.set(t,n),n},describe:function(e){return e},normalize:function(e){return e},makeToString:function(e,t){return e.toString()},lookup:function(e,t){return b(e),a(this,this.normalize(e),t)},lookupFactory:function(e){return b(e),c(this,this.normalize(e))},has:function(e){return b(e),n(this,this.normalize(e))},optionsForType:function(e,t){this.parent&&o("optionsForType"),this._typeOptions.set(e,t)},options:function(e,t){this.optionsForType(e,t)},typeInjection:function(e,t,r){if(b(r),this.parent&&o("typeInjection"),r.split(":")[0]===e)throw new Error("Cannot inject a `"+r+"` on other "+e+"(s). Register the `"+r+"` as a different type and perform the typeInjection.");v(this.typeInjections,e,t,r)},injection:function(e,t,r){this.parent&&o("injection"),b(r);var n=this.normalize(r);if(-1===e.indexOf(":"))return this.typeInjection(e,t,n);b(e);var i=this.normalize(e);y(this.injections,i,t,n)},factoryTypeInjection:function(e,t,r){this.parent&&o("factoryTypeInjection"),v(this.factoryTypeInjections,e,t,this.normalize(r))},factoryInjection:function(e,t,r){this.parent&&o("injection");var n=this.normalize(e),i=this.normalize(r);if(b(r),-1===e.indexOf(":"))return this.factoryTypeInjection(n,t,i);b(e),y(this.factoryInjections,n,t,i)},destroy:function(){for(var e=0,t=this.children.length;e<t;e++)this.children[e].destroy();this.children=[],f(this,function(e){e.destroy()}),this.parent=void 0,this.isDestroyed=!0},reset:function(){for(var e=0,t=this.children.length;e<t;e++)m(this.children[e]);m(this)}};var _=/^[^:]+.+:[^:]+$/;t.default=r}),e("container/inheriting_dict",["exports"],function(e){"use strict";function t(e){this.parent=e,this.dict={}}t.prototype={parent:null,dict:null,get:function(e){var t=this.dict;return t.hasOwnProperty(e)?t[e]:this.parent?this.parent.get(e):void 0},set:function(e,t){this.dict[e]=t},remove:function(e){delete this.dict[e]},has:function(e){return!!this.dict.hasOwnProperty(e)||!!this.parent&&this.parent.has(e)},eachLocal:function(e,t){var r=this.dict;for(var n in r)r.hasOwnProperty(n)&&e.call(t,n,r[n])}},e.default=t}),e("container",["container/container","exports"],function(e,t){"use strict";i.MODEL_FACTORY_INJECTIONS=!1,i.ENV&&void 0!==i.ENV.MODEL_FACTORY_INJECTIONS&&(i.MODEL_FACTORY_INJECTIONS=!!i.ENV.MODEL_FACTORY_INJECTIONS);var r=e.default;t.default=r})}(),function(){e("ember-runtime/compare",["ember-metal/core","ember-metal/utils","ember-runtime/mixins/comparable","exports"],function(e,t,r,n){"use strict";function i(e,t){if(e===t)return 0;var r=o(e),n=o(t);if(s){if("instance"===r&&s.detect(e.constructor))return e.constructor.compare(e,t);if("instance"===n&&s.detect(t.constructor))return 1-t.constructor.compare(t,e)}var l=a.ORDER_DEFINITION_MAPPING;if(!l){var u=a.ORDER_DEFINITION;l=a.ORDER_DEFINITION_MAPPING={};var c,h;for(c=0,h=u.length;c<h;++c)l[u[c]]=c;delete a.ORDER_DEFINITION}var p=l[r],d=l[n];if(p<d)return-1;if(p>d)return 1;switch(r){case"boolean":case"number":return e<t?-1:e>t?1:0;case"string":var f=e.localeCompare(t);return f<0?-1:f>0?1:0;case"array":for(var m=e.length,v=t.length,b=Math.min(m,v),y=0,g=0;0===y&&g<b;)y=i(e[g],t[g]),g++;return 0!==y?y:m<v?-1:m>v?1:0;case"instance":return s&&s.detect(e)?e.compare(e,t):0;case"date":var _=e.getTime(),w=t.getTime();return _<w?-1:_>w?1:0;default:return 0}}var a=e.default,o=t.typeOf,s=r.default;a.ORDER_DEFINITION=a.ENV.ORDER_DEFINITION||["undefined","null","boolean","number","string","array","object","instance","function","class","date"],n.default=i}),e("ember-runtime/computed/array_computed",["ember-metal/core","ember-runtime/computed/reduce_computed","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/observer","ember-metal/error","exports"],function(e,t,r,n,i,a,o){"use strict";function s(){var e=this;return c.apply(this,arguments),this.func=function(t){return function(r){return e._hasInstanceMeta(this,r)||b(e._dependentKeys,function(t){d(this,t,function(){e.recomputeOnce.call(this,r)})},this),t.apply(this,arguments)}}(this.func),this}function l(e){var t;if(arguments.length>1&&(t=m.call(arguments,0,-1),e=m.call(arguments,-1)[0]),"object"!=typeof e)throw new f("Array Computed Property declared without an options hash");var r=new s(e);return t&&r.property.apply(r,t),r}var u=e.default,c=(t.reduceComputed,t.ReduceComputedProperty),h=r.default,p=n.create,d=i.addObserver,f=a.default,m=[].slice,v=p,b=h.forEach;s.prototype=v(c.prototype),s.prototype.initialValue=function(){return u.A()},s.prototype.resetValue=function(e){return e.clear(),e},s.prototype.didChange=function(e,t){},o.arrayComputed=l,o.ArrayComputedProperty=s}),e("ember-runtime/computed/reduce_computed",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/property_events","ember-metal/expand_properties","ember-metal/observer","ember-metal/computed","ember-metal/platform","ember-metal/enumerable_utils","ember-runtime/system/tracked_array","ember-runtime/mixins/array","ember-metal/run_loop","ember-runtime/system/set","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m){"use strict";function v(e,t){return"@this"===t?e:I(e,t)}function b(e,t,r,n,i,a){this.callbacks=e,this.cp=t,this.instanceMeta=r,this.dependentKeysByGuid={},this.trackedArraysByGuid={},this.suspended=!1,this.changedItems={},this.changedItemCount=0}function y(e,t,r){N.assert("Internal error: trackedArray is null or undefined",r),this.dependentArray=e,this.index=t,this.item=e.objectAt(t),this.trackedArray=r,this.beforeObserver=null,this.observer=null,this.destroyed=!1}function g(e,t,r){return e<0?Math.max(0,t+e):e<t?e:Math.min(t-r,e)}function _(e,t,r){return Math.min(r,t-e)}function w(e,t,r,n,i,a){var o={arrayChanged:e,index:r,item:t,propertyName:n,property:i};return a&&(o.previousValues=a),o}function x(e,t,r,n,i){te(e,function(a,o){i.setValue(t.addedItem.call(this,i.getValue(),a,w(e,a,o,n,r),i.sugarMeta))},this)}function C(e,t){var r;e._callbacks();e._hasInstanceMeta(this,t)?(r=e._instanceMeta(this,t),r.setValue(e.resetValue(r.getValue()))):r=e._instanceMeta(this,t),e.options.initialize&&e.options.initialize.call(this,r.getValue(),{property:e,propertyName:t},r.sugarMeta)}function E(e,t){if(ie.test(t))return!1;var r=v(e,t);return W.detect(r)}function O(e,t,r){this.context=e,this.propertyName=t,this.cache=V(e).cache,this.dependentArrays={},this.sugarMeta={},this.initialValue=r}function P(e){var t=this;this.options=e,this._dependentKeys=null,this._itemPropertyKeys={},this._previousItemPropertyKeys={},this.readOnly(),this.cacheable(),this.recomputeOnce=function(e){Y.once(this,r,e)};var r=function(e){var r=(t._dependentKeys,t._instanceMeta(this,e)),n=t._callbacks();C.call(this,t,e),r.dependentArraysObserver.suspendArrayObservers(function(){te(t._dependentKeys,function(e){if(N.assert("dependent array "+e+" must be an `Ember.Array`.  If you are not extending arrays, you will need to wrap native arrays with `Ember.A`",!($(v(this,e))&&!W.detect(v(this,e)))),E(this,e)){var n=v(this,e),i=r.dependentArrays[e];n===i?t._previousItemPropertyKeys[e]&&(delete t._previousItemPropertyKeys[e],r.dependentArraysObserver.setupPropertyObservers(e,t._itemPropertyKeys[e])):(r.dependentArrays[e]=n,i&&r.dependentArraysObserver.teardownObservers(i,e),n&&r.dependentArraysObserver.setupObservers(n,e))}},this)},this),te(t._dependentKeys,function(i){if(E(this,i)){var a=v(this,i);a&&x.call(this,a,n,t,e,r)}},this)};this.func=function(e){return N.assert("Computed reduce values require at least one dependent key",t._dependentKeys),r.call(this,e),t._instanceMeta(this,e).getValue()}}function A(e){return e}function T(e){var t;if(arguments.length>1&&(t=Z.call(arguments,0,-1),e=Z.call(arguments,-1)[0]),"object"!=typeof e)throw new R("Reduce Computed Property declared without an options hash");if(!("initialValue"in e))throw new R("Reduce Computed Property declared without an initial value");var r=new P(e);return t&&r.property.apply(r,t),r}var N=e.default,I=t.get,S=(r.set,n.guidFor),V=n.meta,R=i.default,k=a.propertyWillChange,j=a.propertyDidChange,D=o.default,M=s.addObserver,L=(s.observersFor,s.removeObserver),H=s.addBeforeObserver,B=s.removeBeforeObserver,F=l.ComputedProperty,z=l.cacheFor,U=u.create,q=c.default,K=h.default,W=p.default,Y=d.default,G=f.default,$=n.isArray,Q=z.set,J=z.get,X=z.remove,Z=[].slice,ee=U,te=q.forEach,re=/^(.*)\.@each\.(.*)/,ne=/(.*\.@each){2,}/,ie=/\.\[\]$/;b.prototype={setValue:function(e){this.instanceMeta.setValue(e,!0)},getValue:function(){return this.instanceMeta.getValue()},setupObservers:function(e,t){this.dependentKeysByGuid[S(e)]=t,e.addArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"}),this.cp._itemPropertyKeys[t]&&this.setupPropertyObservers(t,this.cp._itemPropertyKeys[t])},teardownObservers:function(e,t){var r=this.cp._itemPropertyKeys[t]||[];delete this.dependentKeysByGuid[S(e)],this.teardownPropertyObservers(t,r),e.removeArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"})},suspendArrayObservers:function(e,t){var r=this.suspended;this.suspended=!0,e.call(t),this.suspended=r},setupPropertyObservers:function(e,t){var r=v(this.instanceMeta.context,e),n=v(r,"length"),i=new Array(n);this.resetTransformations(e,i),te(r,function(n,a){var o=this.createPropertyObserverContext(r,a,this.trackedArraysByGuid[e]);i[a]=o,te(t,function(e){H(n,e,this,o.beforeObserver),M(n,e,this,o.observer)},this)},this)},teardownPropertyObservers:function(e,t){var r,n,i,a=this,o=this.trackedArraysByGuid[e];o&&o.apply(function(e,o,s){s!==K.DELETE&&te(e,function(e){e.destroyed=!0,r=e.beforeObserver,n=e.observer,i=e.item,te(t,function(e){B(i,e,a,r),L(i,e,a,n)})})})},createPropertyObserverContext:function(e,t,r){var n=new y(e,t,r);return this.createPropertyObserver(n),n},createPropertyObserver:function(e){var t=this;e.beforeObserver=function(r,n){return t.itemPropertyWillChange(r,n,e.dependentArray,e)},e.observer=function(r,n){return t.itemPropertyDidChange(r,n,e.dependentArray,e)}},resetTransformations:function(e,t){this.trackedArraysByGuid[e]=new K(t)},trackAdd:function(e,t,r){var n=this.trackedArraysByGuid[e];n&&n.addItems(t,r)},trackRemove:function(e,t,r){var n=this.trackedArraysByGuid[e];return n?n.removeItems(t,r):[]},updateIndexes:function(e,t){var r=v(t,"length");e.apply(function(e,t,n,i){n!==K.DELETE&&(0===i&&n===K.RETAIN&&e.length===r&&0===t||te(e,function(e,r){e.index=r+t}))})},dependentArrayWillChange:function(e,t,r,n){function i(e){u[l].destroyed=!0,B(o,e,this,u[l].beforeObserver),L(o,e,this,u[l].observer)}if(!this.suspended){var a,o,s,l,u,c=this.callbacks.removedItem,h=S(e),p=this.dependentKeysByGuid[h],d=this.cp._itemPropertyKeys[p]||[],f=v(e,"length"),m=g(t,f,0),b=_(m,f,r);for(u=this.trackRemove(p,m,b),l=b-1;l>=0&&!((s=m+l)>=f);--l)o=e.objectAt(s),te(d,i,this),a=w(e,o,s,this.instanceMeta.propertyName,this.cp),this.setValue(c.call(this.instanceMeta.context,this.getValue(),o,a,this.instanceMeta.sugarMeta))}},dependentArrayDidChange:function(e,t,r,n){if(!this.suspended){var i,a,o=this.callbacks.addedItem,s=S(e),l=this.dependentKeysByGuid[s],u=new Array(n),c=this.cp._itemPropertyKeys[l],h=v(e,"length"),p=g(t,h,n);te(e.slice(p,p+n),function(t,r){c&&(a=u[r]=this.createPropertyObserverContext(e,p+r,this.trackedArraysByGuid[l]),te(c,function(e){H(t,e,this,a.beforeObserver),M(t,e,this,a.observer)},this)),i=w(e,t,p+r,this.instanceMeta.propertyName,this.cp),this.setValue(o.call(this.instanceMeta.context,this.getValue(),t,i,this.instanceMeta.sugarMeta))},this),this.trackAdd(l,p,u)}},itemPropertyWillChange:function(e,t,r,n){var i=S(e);this.changedItems[i]||(this.changedItems[i]={array:r,observerContext:n,obj:e,previousValues:{}}),++this.changedItemCount,this.changedItems[i].previousValues[t]=v(e,t)},itemPropertyDidChange:function(e,t,r,n){0==--this.changedItemCount&&this.flushChanges()},flushChanges:function(){var e,t,r,n=this.changedItems;for(e in n)t=n[e],t.observerContext.destroyed||(this.updateIndexes(t.observerContext.trackedArray,t.observerContext.dependentArray),r=w(t.array,t.obj,t.observerContext.index,this.instanceMeta.propertyName,this.cp,t.previousValues),this.setValue(this.callbacks.removedItem.call(this.instanceMeta.context,this.getValue(),t.obj,r,this.instanceMeta.sugarMeta)),this.setValue(this.callbacks.addedItem.call(this.instanceMeta.context,this.getValue(),t.obj,r,this.instanceMeta.sugarMeta)));this.changedItems={}}},O.prototype={getValue:function(){var e=J(this.cache,this.propertyName);return void 0!==e?e:this.initialValue},setValue:function(e,t){e!==J(this.cache,this.propertyName)&&(t&&k(this.context,this.propertyName),void 0===e?X(this.cache,this.propertyName):Q(this.cache,this.propertyName,e),t&&j(this.context,this.propertyName))}},P.prototype=ee(F.prototype),P.prototype._callbacks=function(){if(!this.callbacks){var e=this.options;this.callbacks={removedItem:e.removedItem||A,addedItem:e.addedItem||A}}return this.callbacks},P.prototype._hasInstanceMeta=function(e,t){return!!V(e).cacheMeta[t]},P.prototype._instanceMeta=function(e,t){var r=V(e).cacheMeta,n=r[t];return n||(n=r[t]=new O(e,t,this.initialValue()),n.dependentArraysObserver=new b(this._callbacks(),this,n,e,t,n.sugarMeta)),n},P.prototype.initialValue=function(){return"function"==typeof this.options.initialValue?this.options.initialValue():this.options.initialValue},P.prototype.resetValue=function(e){return this.initialValue()},P.prototype.itemPropertyKey=function(e,t){this._itemPropertyKeys[e]=this._itemPropertyKeys[e]||[],this._itemPropertyKeys[e].push(t)},P.prototype.clearItemPropertyKeys=function(e){this._itemPropertyKeys[e]&&(this._previousItemPropertyKeys[e]=this._itemPropertyKeys[e],this._itemPropertyKeys[e]=[])},P.prototype.property=function(){var e,t,r=this,n=Z.call(arguments),i=new G;return te(n,function(n){if(ne.test(n))throw new R("Nested @each properties not supported: "+n);if(e=re.exec(n)){t=e[1];var a=e[2];D(a,function(e){r.itemPropertyKey(t,e)}),i.add(t)}else i.add(n)}),F.prototype.property.apply(this,i.toArray())},m.reduceComputed=T,m.ReduceComputedProperty=P}),e("ember-runtime/computed/reduce_computed_macros",["ember-metal/core","ember-metal/merge","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/run_loop","ember-metal/observer","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/system/object_proxy","ember-runtime/system/subarray","ember-runtime/keys","ember-runtime/compare","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m){"use strict";function v(e){return H(e,{initialValue:0,addedItem:function(e,t,r,n){return e+t},removedItem:function(e,t,r,n){return e-t}})}function b(e){return H(e,{initialValue:-1/0,addedItem:function(e,t,r,n){return Math.max(e,t)},removedItem:function(e,t,r,n){if(t<e)return e}})}function y(e){return H(e,{initialValue:1/0,addedItem:function(e,t,r,n){return Math.min(e,t)},removedItem:function(e,t,r,n){if(t>e)return e}})}function g(e,t){return L(e,{addedItem:function(e,r,n,i){var a=t.call(this,r);return e.insertAt(n.index,a),e},removedItem:function(e,t,r,n){return e.removeAt(r.index,1),e}})}function _(e,t){return g(e+".@each."+t,function(e){return S(e,t)})}function w(e,t){return L(e,{initialize:function(e,t,r){r.filteredArrayIndexes=new F},addedItem:function(e,r,n,i){var a=!!t.call(this,r),o=i.filteredArrayIndexes.addItem(n.index,a);return a&&e.insertAt(o,r),e},removedItem:function(e,t,r,n){var i=n.filteredArrayIndexes.removeItem(r.index);return i>-1&&e.removeAt(i),e}})}function x(e,t,r){var n;return n=2===arguments.length?function(e){return S(e,t)}:function(e){return S(e,t)===r},w(e+".@each."+t,n)}function C(){var e=q.call(arguments);return e.push({initialize:function(e,t,r){r.itemCounts={}},addedItem:function(e,t,r,n){var i=R(t);return n.itemCounts[i]?++n.itemCounts[i]:n.itemCounts[i]=1,e.addObject(t),e},removedItem:function(e,t,r,n){var i=R(t);return 0==--n.itemCounts[i]&&e.removeObject(t),e}}),L.apply(null,e)}function E(){var e=function(e){return j.map(e.property._dependentKeys,function(e){return R(e)})},t=q.call(arguments);return t.push({initialize:function(e,t,r){r.itemCounts={}},addedItem:function(t,r,n,i){var a=R(r),o=(e(n),R(n.arrayChanged)),s=n.property._dependentKeys.length,l=i.itemCounts;return l[a]||(l[a]={}),void 0===l[a][o]&&(l[a][o]=0),1==++l[a][o]&&s===z(l[a]).length&&t.addObject(r),t},removedItem:function(t,r,n,i){var a,o=R(r),s=(e(n),R(n.arrayChanged)),l=(n.property._dependentKeys.length,i.itemCounts);return void 0===l[o][s]&&(l[o][s]=0),0==--l[o][s]&&(delete l[o][s],a=z(l[o]).length,0===a&&delete l[o],t.removeObject(r)),t}}),L.apply(null,t)}function O(e,t){if(2!==arguments.length)throw new k("setDiff requires exactly two dependent arrays.");return L(e,t,{addedItem:function(r,n,i,a){var o=S(this,e),s=S(this,t);return i.arrayChanged===o?s.contains(n)||r.addObject(n):r.removeObject(n),r},removedItem:function(r,n,i,a){var o=S(this,e),s=S(this,t);return i.arrayChanged===s?o.contains(n)&&r.addObject(n):r.removeObject(n),r}})}function P(e,t,r,n){function i(e){return R(T.detectInstance(e)?S(e,"content"):e)}var a,o,s,l,u;return arguments.length<4&&(n=S(e,"length")),arguments.length<3&&(r=0),r===n?r:(a=r+Math.floor((n-r)/2),o=e.objectAt(a),l=i(o),u=i(t),l===u?a:(s=this.order(o,t),0===s&&(s=l<u?-1:1),s<0?this.binarySearch(e,t,a+1,n):s>0?this.binarySearch(e,t,r,a):a))}function A(e,t){N.assert("Ember.computed.sort requires two arguments: an array key to sort and either a sort properties key or sort function",2===arguments.length);var r,n;return"function"==typeof t?r=function(e,r,n){n.order=t,n.binarySearch=P}:(n=t,r=function(t,r,i){function a(){var t,a,s,l=S(this,n),u=i.sortProperties=[],c=i.sortPropertyAscending={};N.assert("Cannot sort: '"+n+"' is not an array.",V(l)),r.property.clearItemPropertyKeys(e),K(l,function(n){-1!==(a=n.indexOf(":"))?(t=n.substring(0,a),s="desc"!==n.substring(a+1).toLowerCase()):(t=n,s=!0),u.push(t),c[t]=s,r.property.itemPropertyKey(e,t)}),l.addObserver("@each",this,o)}function o(){D.once(this,s,r.propertyName)}function s(e){a.call(this),r.property.recomputeOnce.call(this,e)}M(this,n,o),a.call(this),i.order=function(e,t){for(var r,n,i,a=t instanceof T,o=0;o<this.sortProperties.length;++o)if(r=this.sortProperties[o],0!==(n=U(S(e,r),a?t[r]:S(t,r))))return i=this.sortPropertyAscending[r],i?n:-1*n;return 0},i.binarySearch=P}),L(e,{initialize:r,addedItem:function(e,t,r,n){var i=n.binarySearch(e,t);return e.insertAt(i,t),e},removedItem:function(e,t,r,n){var i,a,o;return r.previousValues?(i=I({content:t},r.previousValues),o=T.create(i)):o=t,a=n.binarySearch(e,o),e.removeAt(a),e}})}var T,N=e.default,I=t.default,S=r.get,V=(n.set,i.isArray),R=i.guidFor,k=a.default,j=o.default,D=s.default,M=l.addObserver,L=u.arrayComputed,H=c.reduceComputed,B=h.default,F=p.default,z=d.default,U=f.default,q=[].slice,K=j.forEach,W=_,Y=x,G=C,T=B.extend();m.sum=v,m.min=y,m.max=b,m.map=g,m.sort=A,m.setDiff=O,m.mapBy=_,m.mapProperty=W,m.filter=w,m.filterBy=x,m.filterProperty=Y,m.uniq=C,m.union=G,
m.intersect=E}),e("ember-runtime/controllers/array_controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-runtime/system/array_proxy","ember-runtime/mixins/sortable","ember-runtime/controllers/controller","ember-metal/computed","ember-metal/error","exports"],function(e,t,r,n,i,a,o,s,l,u){"use strict";var c=e.default,h=t.get,p=(r.set,n.default),d=i.default,f=a.default,m=o.ControllerMixin,v=s.computed,b=l.default,y=p.forEach,g=p.replace,_=d.extend(m,f,{itemController:null,lookupItemController:function(e){return h(this,"itemController")},objectAtContent:function(e){var t=h(this,"length"),r=h(this,"arrangedContent"),n=r&&r.objectAt(e);if(e>=0&&e<t){var i=this.lookupItemController(n);if(i)return this.controllerAt(e,n,i)}return n},arrangedContentDidChange:function(){this._super(),this._resetSubControllers()},arrayContentDidChange:function(e,t,r){var n=h(this,"_subControllers"),i=n.slice(e,e+t);y(i,function(e){e&&e.destroy()}),g(n,e,t,new Array(r)),this._super(e,t,r)},init:function(){this._super(),this.set("_subControllers",[])},content:v(function(){return c.A()}),_isVirtual:!1,controllerAt:function(e,t,r){var n,i=h(this,"container"),a=h(this,"_subControllers"),o=a[e];if(o)return o;if(n="controller:"+r,!i.has(n))throw new b('Could not resolve itemController: "'+r+'"');var s;return this._isVirtual&&(s=h(this,"parentController")),s=s||this,o=i.lookupFactory(n).create({target:this,parentController:s,content:t}),a[e]=o,o},_subControllers:null,_resetSubControllers:function(){var e,t=h(this,"_subControllers");if(t.length){for(var r=0,n=t.length;n>r;r++)(e=t[r])&&e.destroy();t.length=0}},willDestroy:function(){this._resetSubControllers(),this._super()}});u.default=_}),e("ember-runtime/controllers/controller",["ember-metal/core","ember-metal/property_get","ember-runtime/system/object","ember-metal/mixin","ember-metal/computed","ember-runtime/mixins/action_handler","exports"],function(e,t,r,n,i,a,o){"use strict";var s=e.default,l=(t.get,r.default),u=n.Mixin,c=i.computed,h=a.default,p=u.create(h,{isController:!0,target:null,container:null,parentController:null,store:null,model:c.alias("content"),deprecatedSendHandles:function(e){return!!this[e]},deprecatedSend:function(e){var t=[].slice.call(arguments,1);s.assert(this+" has the action "+e+" but it is not a function","function"==typeof this[e]),s.deprecate("Action handlers implemented directly on controllers are deprecated in favor of action handlers on an `actions` object ( action: `"+e+"` on "+this+")",!1),this[e].apply(this,t)}}),d=l.extend(p);o.Controller=d,o.ControllerMixin=p}),e("ember-runtime/controllers/object_controller",["ember-runtime/controllers/controller","ember-runtime/system/object_proxy","exports"],function(e,t,r){"use strict";var n=e.ControllerMixin,i=t.default,a=i.extend(n);r.default=a}),e("ember-runtime/copy",["ember-metal/enumerable_utils","ember-metal/utils","ember-runtime/system/object","ember-runtime/mixins/copyable","ember-metal/platform","exports"],function(e,t,r,n,a,o){"use strict";function s(e,t,r,n){var a,o,l;if("object"!=typeof e||null===e)return e;if(t&&(o=d(r,e))>=0)return n[o];if(i.assert("Cannot clone an Ember.Object that does not implement Ember.Copyable",!(e instanceof h)||p&&p.detect(e)),"array"===c(e)){if(a=e.slice(),t)for(o=a.length;--o>=0;)a[o]=s(a[o],t,r,n)}else if(p&&p.detect(e))a=e.copy(t,r,n);else if(e instanceof Date)a=new Date(e.getTime());else{a={};for(l in e)e.hasOwnProperty(l)&&"__"!==l.substring(0,2)&&(a[l]=t?s(e[l],t,r,n):e[l])}return t&&(r.push(e),n.push(a)),a}function l(e,t){return"object"!=typeof e||null===e?e:p&&p.detect(e)?e.copy(t):s(e,t,t?[]:null,t?[]:null)}var u=e.default,c=t.typeOf,h=r.default,p=n.default,d=(a.create,u.indexOf);o.default=l}),e("ember-runtime/core",["exports"],function(e){"use strict";function t(e,t){return e&&"function"==typeof e.isEqual?e.isEqual(t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t}e.isEqual=t}),e("ember-runtime/ext/function",["ember-metal/core","ember-metal/expand_properties","ember-metal/computed"],function(e,t,r){"use strict";var n=e.default,i=t.default,a=r.computed,o=Array.prototype.slice,s=Function.prototype;(!0===n.EXTEND_PROTOTYPES||n.EXTEND_PROTOTYPES.Function)&&(s.property=function(){var e=a(this);return e.property.apply(e,arguments)},s.observes=function(){for(var e=function(e){t.push(e)},t=[],r=0;r<arguments.length;++r)i(arguments[r],e);return this.__ember_observes__=t,this},s.observesImmediately=function(){for(var e=0,t=arguments.length;e<t;e++){var r=arguments[e];n.assert("Immediate observers must observe internal properties only, not properties on other objects.",-1===r.indexOf("."))}return this.observes.apply(this,arguments)},s.observesBefore=function(){for(var e=function(e){t.push(e)},t=[],r=0;r<arguments.length;++r)i(arguments[r],e);return this.__ember_observesBefore__=t,this},s.on=function(){var e=o.call(arguments);return this.__ember_listens__=e,this})}),e("ember-runtime/ext/rsvp",["ember-metal/core","ember-metal/logger","exports"],function(e,r,n){"use strict";var i,a=e.default,o=r.default,s=t("rsvp");s.onerrorDefault=function(e){if(e instanceof Error)if(a.testing){if(!i&&a.__loader.registry["ember-testing/test"]&&(i=t("ember-testing/test").default),!i||!i.adapter)throw e;i.adapter.exception(e)}else a.onerror?a.onerror(e):(o.error(e.stack),a.assert(e,!1))},s.on("error",s.onerrorDefault),n.default=s}),e("ember-runtime/ext/string",["ember-metal/core","ember-runtime/system/string"],function(e,t){"use strict";var r=e.default,n=t.fmt,i=t.w,a=t.loc,o=t.camelize,s=t.decamelize,l=t.dasherize,u=t.underscore,c=t.capitalize,h=t.classify,p=String.prototype;(!0===r.EXTEND_PROTOTYPES||r.EXTEND_PROTOTYPES.String)&&(p.fmt=function(){return n(this,arguments)},p.w=function(){return i(this)},p.loc=function(){return a(this,arguments)},p.camelize=function(){return o(this)},p.decamelize=function(){return s(this)},p.dasherize=function(){return l(this)},p.underscore=function(){return u(this)},p.classify=function(){return h(this)},p.capitalize=function(){return c(this)})}),e("ember-runtime/keys",["ember-metal/enumerable_utils","ember-metal/platform","exports"],function(e,t,r){"use strict";var n=e.default,i=t.create,a=Object.keys;if(!a||i.isSimulated){var o=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","valueOf","toLocaleString","toString"],s=function(e,t,r){"__"!==r.substring(0,2)&&"_super"!==r&&(n.indexOf(t,r)>=0||("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(r))&&t.push(r))};a=function(e){var t,r=[];for(t in e)s(e,r,t);for(var n=0,i=o.length;n<i;n++)t=o[n],s(e,r,t);return r}}r.default=a}),e("ember-runtime",["ember-metal","ember-runtime/core","ember-runtime/keys","ember-runtime/compare","ember-runtime/copy","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/tracked_array","ember-runtime/system/subarray","ember-runtime/system/container","ember-runtime/system/application","ember-runtime/system/array_proxy","ember-runtime/system/object_proxy","ember-runtime/system/core_object","ember-runtime/system/each_proxy","ember-runtime/system/native_array","ember-runtime/system/set","ember-runtime/system/string","ember-runtime/system/deferred","ember-runtime/system/lazy_load","ember-runtime/mixins/array","ember-runtime/mixins/comparable","ember-runtime/mixins/copyable","ember-runtime/mixins/enumerable","ember-runtime/mixins/freezable","ember-runtime/mixins/observable","ember-runtime/mixins/action_handler","ember-runtime/mixins/deferred","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/mutable_array","ember-runtime/mixins/target_action_support","ember-runtime/mixins/evented","ember-runtime/mixins/promise_proxy","ember-runtime/mixins/sortable","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/computed/reduce_computed_macros","ember-runtime/controllers/array_controller","ember-runtime/controllers/object_controller","ember-runtime/controllers/controller","ember-runtime/ext/rsvp","ember-runtime/ext/string","ember-runtime/ext/function","exports"],function(e,t,r,n,a,o,s,l,u,c,h,p,d,f,m,v,b,y,g,_,w,x,C,E,O,P,A,T,N,I,S,V,R,k,j,D,M,L,H,B,F,z,U,q){"use strict";i.compare=n.default,i.copy=a.default,i.isEqual=t.isEqual,i.keys=r.default,i.Array=w.default,i.Comparable=x.default,i.Copyable=C.default,i.SortableMixin=k.default,i.Freezable=O.Freezable,i.FROZEN_ERROR=O.FROZEN_ERROR,i.DeferredMixin=T.default,i.MutableEnumerable=N.default,i.MutableArray=I.default,i.TargetActionSupport=S.default,i.Evented=V.default,i.PromiseProxyMixin=R.default,i.Observable=P.default,i.arrayComputed=j.arrayComputed,i.ArrayComputedProperty=j.ArrayComputedProperty,i.reduceComputed=D.reduceComputed,i.ReduceComputedProperty=D.ReduceComputedProperty;var K=i.computed;K.sum=M.sum,K.min=M.min,K.max=M.max,K.map=M.map,K.sort=M.sort,K.setDiff=M.setDiff,K.mapBy=M.mapBy,K.mapProperty=M.mapProperty,K.filter=M.filter,K.filterBy=M.filterBy,K.filterProperty=M.filterProperty,K.uniq=M.uniq,K.union=M.union,K.intersect=M.intersect,i.String=y.default,i.Object=s.default,i.TrackedArray=l.default,i.SubArray=u.default,i.Container=c.default,i.Namespace=o.default,i.Application=h.default,i.Enumerable=E.default,i.ArrayProxy=p.default,i.ObjectProxy=d.default,i.ActionHandler=A.default,i.CoreObject=f.default,i.EachArray=m.EachArray,i.EachProxy=m.EachProxy,i.NativeArray=v.default,i.Set=b.default,i.Deferred=g.default,i.onLoad=_.onLoad,i.runLoadHooks=_.runLoadHooks,i.ArrayController=L.default,i.ObjectController=H.default,i.Controller=B.Controller,i.ControllerMixin=B.ControllerMixin,i.RSVP=F.default,q.default=i}),e("ember-runtime/mixins/action_handler",["ember-metal/merge","ember-metal/mixin","ember-metal/property_get","ember-metal/utils","exports"],function(e,t,r,n,a){"use strict";var o=e.default,s=t.Mixin,l=r.get,u=n.typeOf,c=s.create({mergedProperties:["_actions"],willMergeMixin:function(e){var t;e._actions||(i.assert("'actions' should not be a function","function"!=typeof e.actions),"object"===u(e.actions)?t="actions":"object"===u(e.events)&&(i.deprecate("Action handlers contained in an `events` object are deprecated in favor of putting them in an `actions` object",!1),t="events"),t&&(e._actions=o(e._actions||{},e[t])),delete e[t])},send:function(e){var t,r=[].slice.call(arguments,1);if(this._actions&&this._actions[e]){if(!0!==this._actions[e].apply(this,r))return}else if(!i.FEATURES.isEnabled("ember-routing-drop-deprecated-action-style")&&this.deprecatedSend&&this.deprecatedSendHandles&&this.deprecatedSendHandles(e)&&(i.warn("The current default is deprecated but will prefer to handle actions directly on the controller instead of a similarly named action in the actions hash. To turn off this deprecated feature set: Ember.FEATURES['ember-routing-drop-deprecated-action-style'] = true"),!0!==this.deprecatedSend.apply(this,[].slice.call(arguments))))return;(t=l(this,"target"))&&(i.assert("The `target` for "+this+" ("+t+") does not have a `send` method","function"==typeof t.send),t.send.apply(t,arguments))}});a.default=c}),e("ember-runtime/mixins/array",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/is_none","ember-runtime/mixins/enumerable","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/property_events","ember-metal/events","ember-metal/watching","exports"],function(e,r,n,i,a,o,s,l,u,c,h,p){"use strict";var d=e.default,f=r.get,m=(n.set,i.computed),v=i.cacheFor,b=a.isNone,y=(a.none,o.default),g=s.default,_=l.Mixin,w=l.required,x=u.propertyWillChange,C=u.propertyDidChange,E=c.addListener,O=c.removeListener,P=c.sendEvent,A=c.hasListeners,T=h.isWatching,N=g.map,I=_.create(y,{length:w(),objectAt:function(e){if(!(e<0||e>=f(this,"length")))return f(this,e)},objectsAt:function(e){var t=this;return N(e,function(e){return t.objectAt(e)})},nextObject:function(e){return this.objectAt(e)},"[]":m(function(e,t){return void 0!==t&&this.replace(0,f(this,"length"),t),this}),firstObject:m(function(){return this.objectAt(0)}),lastObject:m(function(){return this.objectAt(f(this,"length")-1)}),contains:function(e){return this.indexOf(e)>=0},slice:function(e,t){var r=d.A(),n=f(this,"length");for(b(e)&&(e=0),(b(t)||t>n)&&(t=n),e<0&&(e=n+e),t<0&&(t=n+t);e<t;)r[r.length]=this.objectAt(e++);return r},indexOf:function(e,t){var r,n=f(this,"length");for(void 0===t&&(t=0),t<0&&(t+=n),r=t;r<n;r++)if(this.objectAt(r)===e)return r;return-1},lastIndexOf:function(e,t){var r,n=f(this,"length");for((void 0===t||t>=n)&&(t=n-1),t<0&&(t+=n),r=t;r>=0;r--)if(this.objectAt(r)===e)return r;return-1},addArrayObserver:function(e,t){var r=t&&t.willChange||"arrayWillChange",n=t&&t.didChange||"arrayDidChange",i=f(this,"hasArrayObservers");return i||x(this,"hasArrayObservers"),E(this,"@array:before",e,r),E(this,"@array:change",e,n),i||C(this,"hasArrayObservers"),this},removeArrayObserver:function(e,t){var r=t&&t.willChange||"arrayWillChange",n=t&&t.didChange||"arrayDidChange",i=f(this,"hasArrayObservers");return i&&x(this,"hasArrayObservers"),O(this,"@array:before",e,r),O(this,"@array:change",e,n),i&&C(this,"hasArrayObservers"),this},hasArrayObservers:m(function(){return A(this,"@array:change")||A(this,"@array:before")}),arrayContentWillChange:function(e,t,r){void 0===e?(e=0,t=r=-1):(void 0===t&&(t=-1),void 0===r&&(r=-1)),T(this,"@each")&&f(this,"@each"),P(this,"@array:before",[this,e,t,r]);var n,i;if(e>=0&&t>=0&&f(this,"hasEnumerableObservers")){n=[],i=e+t;for(var a=e;a<i;a++)n.push(this.objectAt(a))}else n=t;return this.enumerableContentWillChange(n,r),this},arrayContentDidChange:function(e,t,r){void 0===e?(e=0,t=r=-1):(void 0===t&&(t=-1),void 0===r&&(r=-1));var n,i;if(e>=0&&r>=0&&f(this,"hasEnumerableObservers")){n=[],i=e+r;for(var a=e;a<i;a++)n.push(this.objectAt(a))}else n=r;this.enumerableContentDidChange(t,n),P(this,"@array:change",[this,e,t,r]);var o=f(this,"length"),s=v(this,"firstObject"),l=v(this,"lastObject");return this.objectAt(0)!==s&&(x(this,"firstObject"),C(this,"firstObject")),this.objectAt(o-1)!==l&&(x(this,"lastObject"),C(this,"lastObject")),this},"@each":m(function(){if(!this.__each){var e=t("ember-runtime/system/each_proxy").EachProxy;this.__each=new e(this)}return this.__each})});p.default=I}),e("ember-runtime/mixins/comparable",["ember-metal/mixin","exports"],function(e,t){"use strict";var r=e.Mixin,n=e.required,i=r.create({compare:n(Function)});t.default=i}),e("ember-runtime/mixins/copyable",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/freezable","ember-runtime/system/string","ember-metal/error","exports"],function(e,t,r,n,i,a,o){"use strict";var s=e.get,l=(t.set,r.required),u=n.Freezable,c=r.Mixin,h=i.fmt,p=a.default,d=c.create({copy:l(Function),frozenCopy:function(){if(u&&u.detect(this))return s(this,"isFrozen")?this:this.copy().freeze();throw new p(h("%@ does not support freezing",[this]))}});o.default=d}),e("ember-runtime/mixins/deferred",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","ember-metal/computed","ember-metal/run_loop","ember-runtime/ext/rsvp","exports"],function(e,t,r,n,i,a,o){"use strict";var s=e.default,l=t.get,u=r.Mixin,c=n.computed,h=i.default,p=a.default,d=function(){s.Test&&s.Test.adapter&&s.Test.adapter.asyncStart()},f=function(){s.Test&&s.Test.adapter&&s.Test.adapter.asyncEnd()};p.configure("async",function(e,t){var r=!h.currentRunLoop;s.testing&&r&&d(),h.backburner.schedule("actions",function(){s.testing&&r&&f(),e(t)})}),p.Promise.prototype.fail=function(e,t){return s.deprecate("RSVP.Promise.fail has been renamed as RSVP.Promise.catch"),this.catch(e,t)};var m=u.create({then:function(e,t,r){function n(t){return e(t===a?o:t)}var i,a,o;return o=this,i=l(this,"_deferred"),a=i.promise,a.then(e&&n,t,r)},resolve:function(e){var t,r;t=l(this,"_deferred"),r=t.promise,e===this?t.resolve(r):t.resolve(e)},reject:function(e){l(this,"_deferred").reject(e)},_deferred:c(function(){return p.defer("Ember: DeferredMixin - "+this)})});o.default=m}),e("ember-runtime/mixins/enumerable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/property_events","ember-metal/events","ember-runtime/compare","exports"],function(e,t,r,n,i,a,o,s,l,u,c){"use strict";function h(){return 0===V.length?{}:V.pop()}function p(e){return V.push(e),null}function d(e,t){function r(r){var i=m(r,e);return n?t===i:!!i}var n=2===arguments.length;return r}var f=e.default,m=t.get,v=r.set,b=n.apply,y=i.Mixin,g=i.required,_=i.aliasMethod,w=a.default,x=o.computed,C=s.propertyWillChange,E=s.propertyDidChange,O=l.addListener,P=l.removeListener,A=l.sendEvent,T=l.hasListeners,N=u.default,I=Array.prototype.slice,S=w.indexOf,V=[],R=y.create({nextObject:g(Function),firstObject:x(function(){if(0!==m(this,"length")){var e,t=h();return e=this.nextObject(0,null,t),p(t),e}}).property("[]"),lastObject:x(function(){if(0!==m(this,"length")){var e,t=h(),r=0,n=null;do{n=e,e=this.nextObject(r++,n,t)}while(void 0!==e);return p(t),n}}).property("[]"),contains:function(e){return void 0!==this.find(function(t){return t===e})},forEach:function(e,t){if("function"!=typeof e)throw new TypeError;var r=m(this,"length"),n=null,i=h();void 0===t&&(t=null);for(var a=0;a<r;a++){var o=this.nextObject(a,n,i);e.call(t,o,a,this),n=o}return n=null,i=p(i),this},getEach:function(e){return this.mapBy(e)},setEach:function(e,t){return this.forEach(function(r){v(r,e,t)})},map:function(e,t){var r=f.A();return this.forEach(function(n,i,a){r[i]=e.call(t,n,i,a)}),r},mapBy:function(e){return this.map(function(t){return m(t,e)})},mapProperty:_("mapBy"),filter:function(e,t){var r=f.A();return this.forEach(function(n,i,a){e.call(t,n,i,a)&&r.push(n)}),r},reject:function(e,t){return this.filter(function(){return!b(t,e,arguments)})},filterBy:function(e,t){return this.filter(b(this,d,arguments))},filterProperty:_("filterBy"),rejectBy:function(e,t){var r=function(r){return m(r,e)===t},n=function(t){return!!m(t,e)},i=2===arguments.length?r:n;return this.reject(i)},rejectProperty:_("rejectBy"),find:function(e,t){var r=m(this,"length");void 0===t&&(t=null);for(var n,i,a=null,o=!1,s=h(),l=0;l<r&&!o;l++)n=this.nextObject(l,a,s),(o=e.call(t,n,l,this))&&(i=n),a=n;return n=a=null,s=p(s),i},findBy:function(e,t){return this.find(b(this,d,arguments))},findProperty:_("findBy"),every:function(e,t){return!this.find(function(r,n,i){return!e.call(t,r,n,i)})},everyBy:_("isEvery"),everyProperty:_("isEvery"),isEvery:function(e,t){return this.every(b(this,d,arguments))},any:function(e,t){var r,n,i=m(this,"length"),a=h(),o=!1,s=null;for(void 0===t&&(t=null),n=0;n<i&&!o;n++)r=this.nextObject(n,s,a),o=e.call(t,r,n,this),s=r;return r=s=null,a=p(a),o},some:_("any"),isAny:function(e,t){return this.any(b(this,d,arguments))},anyBy:_("isAny"),someProperty:_("isAny"),reduce:function(e,t,r){if("function"!=typeof e)throw new TypeError;var n=t;return this.forEach(function(t,i){n=e(n,t,i,this,r)},this),n},invoke:function(e){var t,r=f.A();return arguments.length>1&&(t=I.call(arguments,1)),this.forEach(function(n,i){var a=n&&n[e];"function"==typeof a&&(r[i]=t?b(n,a,t):n[e]())},this),r},toArray:function(){var e=f.A();return this.forEach(function(t,r){e[r]=t}),e},compact:function(){return this.filter(function(e){return null!=e})},without:function(e){if(!this.contains(e))return this;var t=f.A();return this.forEach(function(r){r!==e&&(t[t.length]=r)}),t},uniq:function(){var e=f.A();return this.forEach(function(t){S(e,t)<0&&e.push(t)}),e},"[]":x(function(e,t){return this}),addEnumerableObserver:function(e,t){var r=t&&t.willChange||"enumerableWillChange",n=t&&t.didChange||"enumerableDidChange",i=m(this,"hasEnumerableObservers");return i||C(this,"hasEnumerableObservers"),O(this,"@enumerable:before",e,r),O(this,"@enumerable:change",e,n),i||E(this,"hasEnumerableObservers"),this},removeEnumerableObserver:function(e,t){var r=t&&t.willChange||"enumerableWillChange",n=t&&t.didChange||"enumerableDidChange",i=m(this,"hasEnumerableObservers");return i&&C(this,"hasEnumerableObservers"),P(this,"@enumerable:before",e,r),P(this,"@enumerable:change",e,n),i&&E(this,"hasEnumerableObservers"),this},hasEnumerableObservers:x(function(){return T(this,"@enumerable:change")||T(this,"@enumerable:before")}),enumerableContentWillChange:function(e,t){var r,n,i;return r="number"==typeof e?e:e?m(e,"length"):e=-1,n="number"==typeof t?t:t?m(t,"length"):t=-1,i=n<0||r<0||n-r!=0,-1===e&&(e=null),-1===t&&(t=null),C(this,"[]"),i&&C(this,"length"),A(this,"@enumerable:before",[this,e,t]),this},enumerableContentDidChange:function(e,t){var r,n,i;return r="number"==typeof e?e:e?m(e,"length"):e=-1,n="number"==typeof t?t:t?m(t,"length"):t=-1,i=n<0||r<0||n-r!=0,-1===e&&(e=null),-1===t&&(t=null),A(this,"@enumerable:change",[this,e,t]),i&&E(this,"length"),E(this,"[]"),this},sortBy:function(){var e=arguments;return this.toArray().sort(function(t,r){for(var n=0;n<e.length;n++){var i=e[n],a=m(t,i),o=m(r,i),s=N(a,o);if(s)return s}return 0})}});c.default=R}),e("ember-runtime/mixins/evented",["ember-metal/mixin","ember-metal/events","exports"],function(e,t,r){"use strict";var n=e.Mixin,i=t.addListener,a=t.removeListener,o=t.hasListeners,s=t.sendEvent,l=n.create({on:function(e,t,r){return i(this,e,t,r),this},one:function(e,t,r){return r||(r=t,t=null),i(this,e,t,r,!0),this},trigger:function(e){var t,r,n=[];for(t=1,r=arguments.length;t<r;t++)n.push(arguments[t]);s(this,e,n)},off:function(e,t,r){return a(this,e,t,r),this},has:function(e){return o(this,e)}});r.default=l}),e("ember-runtime/mixins/freezable",["ember-metal/mixin","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,r,n){"use strict";var i=e.Mixin,a=t.get,o=r.set,s=i.create({isFrozen:!1,freeze:function(){return a(this,"isFrozen")?this:(o(this,"isFrozen",!0),this)}});n.Freezable=s,n.FROZEN_ERROR="Frozen object cannot be modified."}),e("ember-runtime/mixins/mutable_array",["ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/mixin","ember-runtime/mixins/array","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","exports"],function(e,t,r,n,i,a,o,s,l){"use strict";var u=[],c=e.get,h=(t.set,r.isArray),p=n.default,d=i.Mixin,f=i.required,m=a.default,v=o.default,b=s.default,y=d.create(m,v,{replace:f(),clear:function(){var e=c(this,"length");return 0===e?this:(this.replace(0,e,u),this)},insertAt:function(e,t){if(e>c(this,"length"))throw new p("Index out of range");return this.replace(e,0,[t]),this},removeAt:function(e,t){if("number"==typeof e){if(e<0||e>=c(this,"length"))throw new p("Index out of range");void 0===t&&(t=1),this.replace(e,t,u)}return this},pushObject:function(e){return this.insertAt(c(this,"length"),e),e},pushObjects:function(e){if(!b.detect(e)&&!h(e))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this.replace(c(this,"length"),0,e),this},popObject:function(){var e=c(this,"length");if(0===e)return null;var t=this.objectAt(e-1);return this.removeAt(e-1,1),t},shiftObject:function(){if(0===c(this,"length"))return null;var e=this.objectAt(0);return this.removeAt(0),e},unshiftObject:function(e){return this.insertAt(0,e),e},unshiftObjects:function(e){return this.replace(0,0,e),this},reverseObjects:function(){var e=c(this,"length");if(0===e)return this;var t=this.toArray().reverse();return this.replace(0,e,t),this},setObjects:function(e){if(0===e.length)return this.clear();var t=c(this,"length");return this.replace(0,t,e),this},removeObject:function(e){for(var t=c(this,"length")||0;--t>=0;){this.objectAt(t)===e&&this.removeAt(t)}return this},addObject:function(e){return this.contains(e)||this.pushObject(e),this}});l.default=y}),e("ember-runtime/mixins/mutable_enumerable",["ember-metal/enumerable_utils","ember-runtime/mixins/enumerable","ember-metal/mixin","ember-metal/property_events","exports"],function(e,t,r,n,i){"use strict";var a=e.default,o=t.default,s=r.Mixin,l=r.required,u=n.beginPropertyChanges,c=n.endPropertyChanges,h=a.forEach,p=s.create(o,{addObject:l(Function),addObjects:function(e){return u(this),h(e,function(e){this.addObject(e)},this),c(this),this},removeObject:l(Function),removeObjects:function(e){u(this);for(var t=e.length-1;t>=0;t--)this.removeObject(e[t]);return c(this),this}});i.default=p}),e("ember-runtime/mixins/observable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/get_properties","ember-metal/set_properties","ember-metal/mixin","ember-metal/events","ember-metal/property_events","ember-metal/observer","ember-metal/computed","ember-metal/is_none","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p){"use strict";var d=e.default,f=t.get,m=t.getWithDefault,v=r.set,b=n.apply,y=i.default,g=a.default,_=o.Mixin,w=s.hasListeners,x=l.beginPropertyChanges,C=l.propertyWillChange,E=l.propertyDidChange,O=l.endPropertyChanges,P=u.addObserver,A=u.addBeforeObserver,T=u.removeObserver,N=u.observersFor,I=c.cacheFor,S=h.isNone,V=Array.prototype.slice,R=_.create({get:function(e){return f(this,e)},getProperties:function(){return b(null,y,[this].concat(V.call(arguments)))},set:function(e,t){return v(this,e,t),this},setProperties:function(e){return g(this,e)},beginPropertyChanges:function(){return x(),this},endPropertyChanges:function(){return O(),this},propertyWillChange:function(e){return C(this,e),this},propertyDidChange:function(e){return E(this,e),this},notifyPropertyChange:function(e){return this.propertyWillChange(e),this.propertyDidChange(e),this},addBeforeObserver:function(e,t,r){A(this,e,t,r)},addObserver:function(e,t,r){P(this,e,t,r)},removeObserver:function(e,t,r){T(this,e,t,r)},hasObserverFor:function(e){return w(this,e+":change")},getWithDefault:function(e,t){return m(this,e,t)},incrementProperty:function(e,t){return S(t)&&(t=1),d.assert("Must pass a numeric value to incrementProperty",!isNaN(parseFloat(t))&&isFinite(t)),v(this,e,(parseFloat(f(this,e))||0)+t),f(this,e)},decrementProperty:function(e,t){return S(t)&&(t=1),d.assert("Must pass a numeric value to decrementProperty",!isNaN(parseFloat(t))&&isFinite(t)),v(this,e,(f(this,e)||0)-t),f(this,e)},toggleProperty:function(e){return v(this,e,!f(this,e)),f(this,e)},cacheFor:function(e){return I(this,e)},observersForKey:function(e){return N(this,e)}});p.default=R}),e("ember-runtime/mixins/promise_proxy",["ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/mixin","ember-metal/error","exports"],function(e,t,r,n,i,a){"use strict";function o(e,t){return u(e,"isFulfilled",!1),u(e,"isRejected",!1),t.then(function(t){return u(e,"isFulfilled",!0),u(e,"content",t),t},function(t){throw u(e,"isRejected",!0),u(e,"reason",t),t},"Ember: PromiseProxy")}function s(e){return function(){var t=l(this,"promise");return t[e].apply(t,arguments)}}var l=e.get,u=t.set,c=r.computed,h=n.Mixin,p=i.default,d=c.not,f=c.or,m=h.create({reason:null,isPending:d("isSettled").readOnly(),isSettled:f("isRejected","isFulfilled").readOnly(),isRejected:!1,isFulfilled:!1,promise:c(function(e,t){if(2===arguments.length)return o(this,t);throw new p("PromiseProxy's promise must be set")}),then:s("then"),catch:s("catch"),finally:s("finally")});a.default=m}),e("ember-runtime/mixins/sortable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-metal/mixin","ember-runtime/mixins/mutable_enumerable","ember-runtime/compare","ember-metal/observer","ember-metal/computed","exports"],function(e,t,r,n,i,a,o,s,l,u){"use strict";var c=e.default,h=t.get,p=(r.set,n.default),d=i.Mixin,f=a.default,m=o.default,v=s.addObserver,b=s.removeObserver,y=l.computed,g=i.beforeObserver,_=i.observer,w=p.forEach,x=d.create(f,{sortProperties:null,sortAscending:!0,sortFunction:m,orderBy:function(e,t){var r=0,n=h(this,"sortProperties"),i=h(this,"sortAscending"),a=h(this,"sortFunction");return c.assert("you need to define `sortProperties`",!!n),w(n,function(n){0===r&&(0===(r=a.call(this,h(e,n),h(t,n)))||i||(r*=-1))},this),r},destroy:function(){var e=h(this,"content"),t=h(this,"sortProperties");return e&&t&&w(e,function(e){w(t,function(t){b(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()},isSorted:y.notEmpty("sortProperties"),arrangedContent:y("content","sortProperties.@each",function(e,t){var r=h(this,"content"),n=h(this,"isSorted"),i=h(this,"sortProperties"),a=this;return r&&n?(r=r.slice(),r.sort(function(e,t){return a.orderBy(e,t)}),w(r,function(e){w(i,function(t){v(e,t,this,"contentItemSortPropertyDidChange")},this)},this),c.A(r)):r}),_contentWillChange:g("content",function(){var e=h(this,"content"),t=h(this,"sortProperties");e&&t&&w(e,function(e){w(t,function(t){b(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()}),sortPropertiesWillChange:g("sortProperties",function(){this._lastSortAscending=void 0}),sortPropertiesDidChange:_("sortProperties",function(){this._lastSortAscending=void 0}),sortAscendingWillChange:g("sortAscending",function(){this._lastSortAscending=h(this,"sortAscending")}),sortAscendingDidChange:_("sortAscending",function(){if(void 0!==this._lastSortAscending&&h(this,"sortAscending")!==this._lastSortAscending){h(this,"arrangedContent").reverseObjects()}}),contentArrayWillChange:function(e,t,r,n){if(h(this,"isSorted")){var i=h(this,"arrangedContent"),a=e.slice(t,t+r),o=h(this,"sortProperties");w(a,function(e){i.removeObject(e),w(o,function(t){b(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(e,t,r,n)},contentArrayDidChange:function(e,t,r,n){var i=h(this,"isSorted"),a=h(this,"sortProperties");if(i){var o=e.slice(t,t+n);w(o,function(e){this.insertItemSorted(e),w(a,function(t){v(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(e,t,r,n)},insertItemSorted:function(e){var t=h(this,"arrangedContent"),r=h(t,"length"),n=this._binarySearch(e,0,r);t.insertAt(n,e)},contentItemSortPropertyDidChange:function(e){var t=h(this,"arrangedContent"),r=t.indexOf(e),n=t.objectAt(r-1),i=t.objectAt(r+1),a=n&&this.orderBy(e,n),o=i&&this.orderBy(e,i);(a<0||o>0)&&(t.removeObject(e),this.insertItemSorted(e))},_binarySearch:function(e,t,r){var n,i,a,o;return t===r?t:(o=h(this,"arrangedContent"),n=t+Math.floor((r-t)/2),i=o.objectAt(n),a=this.orderBy(i,e),a<0?this._binarySearch(e,n+1,r):a>0?this._binarySearch(e,t,n):n)}});u.default=x}),e("ember-runtime/mixins/target_action_support",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/computed","exports"],function(e,t,r,n,i,a,o){"use strict";var s=e.default,l=t.get,u=(r.set,n.typeOf),c=i.Mixin,h=a.computed,p=c.create({target:null,action:null,actionContext:null,targetObject:h(function(){var e=l(this,"target");if("string"===u(e)){var t=l(this,e);return void 0===t&&(t=l(s.lookup,e)),t}return e}).property("target"),actionContextObject:h(function(){var e=l(this,"actionContext");if("string"===u(e)){var t=l(this,e);return void 0===t&&(t=l(s.lookup,e)),t}return e}).property("actionContext"),triggerAction:function(e){function t(e,t){var r=[];return t&&r.push(t),r.concat(e)}e=e||{};var r=e.action||l(this,"action"),n=e.target||l(this,"targetObject"),i=e.actionContext;if(void 0===i&&(i=l(this,"actionContextObject")||this),n&&r){var a;return n.send?a=n.send.apply(n,t(i,r)):(s.assert("The action '"+r+"' did not exist on "+n,"function"==typeof n[r]),a=n[r].apply(n,t(i))),!1!==a&&(a=!0),a}return!1}});o.default=p}),e("ember-runtime/system/application",["ember-runtime/system/namespace","exports"],function(e,t){"use strict";var r=e.default,n=r.extend();t.default=n}),
e("ember-runtime/system/array_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/property_events","ember-metal/error","ember-runtime/system/object","ember-runtime/mixins/mutable_array","ember-runtime/mixins/enumerable","ember-runtime/system/string","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p){"use strict";var d=e.default,f=t.get,m=(r.set,n.isArray),v=n.apply,b=i.computed,y=a.beforeObserver,g=a.observer,_=o.beginPropertyChanges,w=o.endPropertyChanges,x=s.default,C=l.default,E=u.default,O=c.default,P=h.fmt,A=[],T=b.alias,N=d.K,I=C.extend(E,{content:null,arrangedContent:T("content"),objectAtContent:function(e){return f(this,"arrangedContent").objectAt(e)},replaceContent:function(e,t,r){f(this,"content").replace(e,t,r)},_contentWillChange:y("content",function(){this._teardownContent()}),_teardownContent:function(){var e=f(this,"content");e&&e.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},contentArrayWillChange:N,contentArrayDidChange:N,_contentDidChange:g("content",function(){var e=f(this,"content");d.assert("Can't set ArrayProxy's content to itself",e!==this),this._setupContent()}),_setupContent:function(){var e=f(this,"content");e&&(d.assert(P("ArrayProxy expects an Array or Ember.ArrayProxy, but you passed %@",[typeof e]),m(e)||e.isDestroyed),e.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"}))},_arrangedContentWillChange:y("arrangedContent",function(){var e=f(this,"arrangedContent"),t=e?f(e,"length"):0;this.arrangedContentArrayWillChange(this,0,t,void 0),this.arrangedContentWillChange(this),this._teardownArrangedContent(e)}),_arrangedContentDidChange:g("arrangedContent",function(){var e=f(this,"arrangedContent"),t=e?f(e,"length"):0;d.assert("Can't set ArrayProxy's content to itself",e!==this),this._setupArrangedContent(),this.arrangedContentDidChange(this),this.arrangedContentArrayDidChange(this,0,void 0,t)}),_setupArrangedContent:function(){var e=f(this,"arrangedContent");e&&(d.assert(P("ArrayProxy expects an Array or Ember.ArrayProxy, but you passed %@",[typeof e]),m(e)||e.isDestroyed),e.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"}))},_teardownArrangedContent:function(){var e=f(this,"arrangedContent");e&&e.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},arrangedContentWillChange:N,arrangedContentDidChange:N,objectAt:function(e){return f(this,"content")&&this.objectAtContent(e)},length:b(function(){var e=f(this,"arrangedContent");return e?f(e,"length"):0}),_replace:function(e,t,r){var n=f(this,"content");return d.assert("The content property of "+this.constructor+" should be set before modifying it",n),n&&this.replaceContent(e,t,r),this},replace:function(){if(f(this,"arrangedContent")!==f(this,"content"))throw new x("Using replace on an arranged ArrayProxy is not allowed.");v(this,this._replace,arguments)},_insertAt:function(e,t){if(e>f(this,"content.length"))throw new x("Index out of range");return this._replace(e,0,[t]),this},insertAt:function(e,t){if(f(this,"arrangedContent")===f(this,"content"))return this._insertAt(e,t);throw new x("Using insertAt on an arranged ArrayProxy is not allowed.")},removeAt:function(e,t){if("number"==typeof e){var r,n=f(this,"content"),i=f(this,"arrangedContent"),a=[];if(e<0||e>=f(this,"length"))throw new x("Index out of range");for(void 0===t&&(t=1),r=e;r<e+t;r++)a.push(n.indexOf(i.objectAt(r)));for(a.sort(function(e,t){return t-e}),_(),r=0;r<a.length;r++)this._replace(a[r],1,A);w()}return this},pushObject:function(e){return this._insertAt(f(this,"content.length"),e),e},pushObjects:function(e){if(!O.detect(e)&&!m(e))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this._replace(f(this,"length"),0,e),this},setObjects:function(e){if(0===e.length)return this.clear();var t=f(this,"length");return this._replace(0,t,e),this},unshiftObject:function(e){return this._insertAt(0,e),e},unshiftObjects:function(e){return this._replace(0,0,e),this},slice:function(){var e=this.toArray();return e.slice.apply(e,arguments)},arrangedContentArrayWillChange:function(e,t,r,n){this.arrayContentWillChange(t,r,n)},arrangedContentArrayDidChange:function(e,t,r,n){this.arrayContentDidChange(t,r,n)},init:function(){this._super(),this._setupContent(),this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent(),this._teardownContent()}});p.default=I}),e("ember-runtime/system/container",["ember-metal/property_set","exports"],function(e,r){"use strict";var n=e.default,i=t("container").default;i.set=n,r.default=i}),e("ember-runtime/system/core_object",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/platform","ember-metal/watching","ember-metal/chains","ember-metal/events","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/error","ember-runtime/keys","ember-runtime/mixins/action_handler","ember-metal/properties","ember-metal/binding","ember-metal/computed","ember-metal/run_loop","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b){"use strict";function y(){var e,t,r=!1,n=function(){r||n.proto(),W(this,O,te),W(this,"__nextSuper",ee);var i=P(this),a=i.proto;if(i.proto=this,e){var o=e;e=null,x(this,this.reopen,o)}if(t){var s=t;t=null;for(var l=this.concatenatedProperties,u=0,c=s.length;u<c;u++){var h=s[u];if(_.assert("Ember.Object.create no longer supports mixing in other definitions, use createWithMixins instead.",!(h instanceof R)),"object"!=typeof h&&void 0!==h)throw new D("Ember.Object.create only accepts objects.");if(h)for(var p=L(h),d=0,f=p.length;d<f;d++){var m=p[d];if(h.hasOwnProperty(m)){var v=h[m];if(V.test(m)){var b=i.bindings;b?i.hasOwnProperty("bindings")||(b=i.bindings=K(i.bindings)):b=i.bindings={},b[m]=v}var y=i.descs[m];if(_.assert("Ember.Object.create no longer supports defining computed properties. Define computed properties using extend() or reopen() before calling create().",!(v instanceof z)),_.assert("Ember.Object.create no longer supports defining methods that call _super.",!("function"==typeof v&&-1!==v.toString().indexOf("._super"))),_.assert("`actions` must be provided at extend time, not at create time, when Ember.ActionHandler is used (i.e. views, controllers & routes).",!("actions"===m&&H.detect(this))),l&&X(l,m)>=0){var g=this[m];v=g?"function"==typeof g.concat?g.concat(v):T(g).concat(v):T(v)}y?y.set(this,m,v):"function"!=typeof this.setUnknownProperty||m in this?J?B(this,m,null,v):this[m]=v:this.setUnknownProperty(m,v)}}}}$(this,i),x(this,this.init,arguments),i.proto=a,I(this),S(this,"init")};return n.toString=R.prototype.toString,n.willReopen=function(){r&&(n.PrototypeMixin=R.create(n.PrototypeMixin)),r=!1},n._initMixins=function(t){e=t},n._initProperties=function(e){t=e},n.proto=function(){var e=n.superclass;return e&&e.proto(),r||(r=!0,n.PrototypeMixin.applyPartial(n.prototype),N(n.prototype)),this.prototype},n}function g(e){return function(){return e}}var _=e.default,w=(t.get,r.set,n.guidFor),x=n.apply,C=i.create,E=n.generateGuid,O=n.GUID_KEY,P=n.meta,A=n.META_KEY,T=n.makeArray,N=a.rewatch,I=o.finishChains,S=s.sendEvent,V=l.IS_BINDING,R=l.Mixin,k=l.required,j=u.default,D=c.default,M=i.platform,L=h.default,H=p.default,B=d.defineProperty,F=f.Binding,z=m.ComputedProperty,U=v.default,q=a.destroy,K=C,W=M.defineProperty,Y=U.schedule,G=R._apply,$=R.finishPartial,Q=R.prototype.reopen,J=_.ENV.MANDATORY_SETTER,X=j.indexOf,Z=_.K,ee={configurable:!0,writable:!0,enumerable:!1,value:void 0},te={configurable:!0,writable:!0,enumerable:!1,value:null},re=y();re.toString=function(){return"Ember.CoreObject"},re.PrototypeMixin=R.create({reopen:function(){return G(this,arguments,!0),this},init:function(){},concatenatedProperties:null,isDestroyed:!1,isDestroying:!1,destroy:function(){if(!this.isDestroying)return this.isDestroying=!0,Y("actions",this,this.willDestroy),Y("destroy",this,this._scheduledDestroy),this},willDestroy:Z,_scheduledDestroy:function(){this.isDestroyed||(q(this),this.isDestroyed=!0)},bind:function(e,t){return t instanceof F||(t=F.from(t)),t.to(e).connect(this),t},toString:function(){var e="function"==typeof this.toStringExtension,t=e?":"+this.toStringExtension():"",r="<"+this.constructor.toString()+":"+w(this)+t+">";return this.toString=g(r),r}}),re.PrototypeMixin.ownerConstructor=re,_.config.overridePrototypeMixin&&_.config.overridePrototypeMixin(re.PrototypeMixin),re.__super__=null;var ne=R.create({ClassMixin:k(),PrototypeMixin:k(),isClass:!0,isMethod:!1,extend:function(){var e,t=y();return t.ClassMixin=R.create(this.ClassMixin),t.PrototypeMixin=R.create(this.PrototypeMixin),t.ClassMixin.ownerConstructor=t,t.PrototypeMixin.ownerConstructor=t,Q.apply(t.PrototypeMixin,arguments),t.superclass=this,t.__super__=this.prototype,e=t.prototype=K(this.prototype),e.constructor=t,E(e),P(e).proto=e,t.ClassMixin.apply(t),t},createWithMixins:function(){var e=this;return arguments.length>0&&this._initMixins(arguments),new e},create:function(){var e=this;return arguments.length>0&&this._initProperties(arguments),new e},reopen:function(){return this.willReopen(),x(this.PrototypeMixin,Q,arguments),this},reopenClass:function(){return x(this.ClassMixin,Q,arguments),G(this,arguments,!1),this},detect:function(e){if("function"!=typeof e)return!1;for(;e;){if(e===this)return!0;e=e.superclass}return!1},detectInstance:function(e){return e instanceof this},metaForProperty:function(e){var t=this.proto()[A],r=t&&t.descs[e];return _.assert("metaForProperty() could not find a computed property with key '"+e+"'.",!!r&&r instanceof z),r._meta||{}},eachComputedProperty:function(e,t){var r,n=this.proto(),i=P(n).descs,a={};for(var o in i)(r=i[o])instanceof z&&e.call(t||this,o,r._meta||a)}});ne.ownerConstructor=re,_.config.overrideClassMixin&&_.config.overrideClassMixin(ne),re.ClassMixin=ne,ne.apply(re),b.default=re}),e("ember-runtime/system/deferred",["ember-runtime/mixins/deferred","ember-metal/property_get","ember-runtime/system/object","exports"],function(e,t,r,n){"use strict";var i=e.default,a=(t.get,r.default),o=a.extend(i);o.reopenClass({promise:function(e,t){var r=o.create();return e.call(t,r),r}}),n.default=o}),e("ember-runtime/system/each_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/enumerable_utils","ember-metal/array","ember-runtime/mixins/array","ember-runtime/system/object","ember-metal/computed","ember-metal/observer","ember-metal/events","ember-metal/properties","ember-metal/property_events","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d){"use strict";function f(e,t,r,n,i){var a,o=r._objects;for(o||(o=r._objects={});--i>=n;){var s=e.objectAt(i);s&&(v.assert("When using @each to observe the array "+e+", the array must return an object","instance"===T(s)||"object"===T(s)),O(s,t,r,"contentKeyWillChange"),E(s,t,r,"contentKeyDidChange"),a=y(s),o[a]||(o[a]=[]),o[a].push(i))}}function m(e,t,r,n,i){var a=r._objects;a||(a=r._objects={});for(var o,s;--i>=n;){var l=e.objectAt(i);l&&(P(l,t,r,"contentKeyWillChange"),A(l,t,r,"contentKeyDidChange"),s=y(l),o=a[s],o[_.call(o,i)]=null)}}var v=e.default,b=t.get,y=(r.set,n.guidFor),g=i.default,_=a.indexOf,w=o.default,x=s.default,C=l.computed,E=u.addObserver,O=u.addBeforeObserver,P=u.removeBeforeObserver,A=u.removeObserver,T=n.typeOf,N=c.watchedEvents,I=h.defineProperty,S=p.beginPropertyChanges,V=p.propertyDidChange,R=p.propertyWillChange,k=p.endPropertyChanges,j=p.changeProperties,D=g.forEach,M=x.extend(w,{init:function(e,t,r){this._super(),this._keyName=t,this._owner=r,this._content=e},objectAt:function(e){var t=this._content.objectAt(e);return t&&b(t,this._keyName)},length:C(function(){var e=this._content;return e?b(e,"length"):0})}),L=/^.+:(before|change)$/,H=x.extend({init:function(e){this._super(),this._content=e,e.addArrayObserver(this),D(N(this),function(e){this.didAddListener(e)},this)},unknownProperty:function(e,t){var r;return r=new M(this._content,e,this),I(this,e,null,r),this.beginObservingContentKey(e),r},arrayWillChange:function(e,t,r,n){var i,a,o=this._keys;a=r>0?t+r:-1,S(this);for(i in o)o.hasOwnProperty(i)&&(a>0&&m(e,i,this,t,a),R(this,i));R(this._content,"@each"),k(this)},arrayDidChange:function(e,t,r,n){var i,a=this._keys;i=n>0?t+n:-1,j(function(){for(var r in a)a.hasOwnProperty(r)&&(i>0&&f(e,r,this,t,i),V(this,r));V(this._content,"@each")},this)},didAddListener:function(e){L.test(e)&&this.beginObservingContentKey(e.slice(0,-7))},didRemoveListener:function(e){L.test(e)&&this.stopObservingContentKey(e.slice(0,-7))},beginObservingContentKey:function(e){var t=this._keys;if(t||(t=this._keys={}),t[e])t[e]++;else{t[e]=1;var r=this._content;f(r,e,this,0,b(r,"length"))}},stopObservingContentKey:function(e){var t=this._keys;if(t&&t[e]>0&&--t[e]<=0){var r=this._content;m(r,e,this,0,b(r,"length"))}},contentKeyWillChange:function(e,t){R(this,t)},contentKeyDidChange:function(e,t){V(this,t)}});d.EachArray=M,d.EachProxy=H}),e("ember-runtime/system/lazy_load",["ember-metal/core","ember-metal/array","ember-runtime/system/native_array","exports"],function(e,t,r,n){"use strict";function i(e,t){var r;l[e]=l[e]||o.A(),l[e].pushObject(t),(r=u[e])&&t(r)}function a(e,t){if(u[e]=t,"object"==typeof window&&"function"==typeof window.dispatchEvent&&"function"==typeof CustomEvent){var r=new CustomEvent(e,{detail:t,name:e});window.dispatchEvent(r)}l[e]&&s.call(l[e],function(e){e(t)})}var o=e.default,s=t.forEach,l=o.ENV.EMBER_LOAD_HOOKS||{},u={};n.onLoad=i,n.runLoadHooks=a}),e("ember-runtime/system/namespace",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/utils","ember-metal/mixin","ember-runtime/system/object","exports"],function(e,t,r,n,i,a,o){"use strict";function s(e,t,r){var n=e.length;w[e.join(".")]=t;for(var i in t)if(x.call(t,i)){var a=t[i];if(e[n]=i,a&&a.toString===c)a.toString=p(e.join(".")),a[E]=e.join(".");else if(a&&a.isNamespace){if(r[b(a)])continue;r[b(a)]=!0,s(e,a,r)}}e.length=n}function l(){var e,t,r=d.lookup;if(!_.PROCESSED)for(var n in r)if(C.test(n)&&(!r.hasOwnProperty||r.hasOwnProperty(n))){try{e=r[n],t=e&&e.isNamespace}catch(e){continue}t&&(e[E]=n)}}function u(e){var t=e.superclass;return t?t[E]?t[E]:u(t):void 0}function c(){d.BOOTED||this[E]||h();var e;if(this[E])e=this[E];else if(this._toString)e=this._toString;else{var t=u(this);e=t?"(subclass of "+t+")":"(unknown mixin)",this.toString=p(e)}return e}function h(){var e=!_.PROCESSED,t=d.anyUnprocessedMixins;if(e&&(l(),_.PROCESSED=!0),e||t){for(var r,n=_.NAMESPACES,i=0,a=n.length;i<a;i++)r=n[i],s([r.toString()],r,{});d.anyUnprocessedMixins=!1}}function p(e){return function(){return e}}var d=e.default,f=t.get,m=r.indexOf,v=n.GUID_KEY,b=n.guidFor,y=i.Mixin,g=a.default,_=g.extend({isNamespace:!0,init:function(){_.NAMESPACES.push(this),_.PROCESSED=!1},toString:function(){var e=f(this,"name");return e||(l(),this[E])},nameClasses:function(){s([this.toString()],this,{})},destroy:function(){var e=_.NAMESPACES,t=this.toString();t&&(d.lookup[t]=void 0,delete _.NAMESPACES_BY_ID[t]),e.splice(m.call(e,this),1),this._super()}});_.reopenClass({NAMESPACES:[d],NAMESPACES_BY_ID:{},PROCESSED:!1,processAll:h,byName:function(e){return d.BOOTED||h(),w[e]}});var w=_.NAMESPACES_BY_ID,x={}.hasOwnProperty,C=/^[A-Z]/,E=d.NAME_KEY=v+"_name";y.prototype.toString=c,o.default=_}),e("ember-runtime/system/native_array",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-metal/mixin","ember-runtime/mixins/array","ember-runtime/mixins/mutable_array","ember-runtime/mixins/observable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-runtime/copy","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h){"use strict";var p=e.default,d=t.get,f=(r.set,n.default),m=i.Mixin,v=a.default,b=o.default,y=s.default,g=l.default,_=u.FROZEN_ERROR,w=c.default,x=f._replace,C=f.forEach,E=m.create(b,y,g,{get:function(e){return"length"===e?this.length:"number"==typeof e?this[e]:this._super(e)},objectAt:function(e){return this[e]},replace:function(e,t,r){if(this.isFrozen)throw _;var n=r?d(r,"length"):0;return this.arrayContentWillChange(e,t,n),0===n?this.splice(e,t):x(this,e,t,r),this.arrayContentDidChange(e,t,n),this},unknownProperty:function(e,t){var r;return void 0!==t&&void 0===r&&(r=this[e]=t),r},indexOf:function(e,t){var r,n=this.length;for(t=void 0===t?0:t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=n),r=t;r<n;r++)if(this[r]===e)return r;return-1},lastIndexOf:function(e,t){var r,n=this.length;for(t=void 0===t?n-1:t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=n),r=t;r>=0;r--)if(this[r]===e)return r;return-1},copy:function(e){return e?this.map(function(e){return w(e,!0)}):this.slice()}}),O=["length"];C(E.keys(),function(e){Array.prototype[e]&&O.push(e)}),O.length>0&&(E=E.without.apply(E,O));var P=function(e){return void 0===e&&(e=[]),v.detect(e)?e:E.apply(e)};E.activate=function(){E.apply(Array.prototype),P=function(e){return e||[]}},(!0===p.EXTEND_PROTOTYPES||p.EXTEND_PROTOTYPES.Array)&&E.activate(),p.A=P,h.A=P,h.NativeArray=E,h.default=E}),e("ember-runtime/system/object",["ember-runtime/system/core_object","ember-runtime/mixins/observable","exports"],function(e,t,r){"use strict";var n=e.default,i=t.default,a=n.extend(i);a.toString=function(){return"Ember.Object"},r.default=a}),e("ember-runtime/system/object_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/property_events","ember-metal/computed","ember-metal/properties","ember-metal/mixin","ember-runtime/system/string","ember-runtime/system/object","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h){"use strict";function p(e,t){var r=t.slice(8);r in this||x(this,r)}function d(e,t){var r=t.slice(8);r in this||C(this,r)}var f=e.default,m=t.get,v=r.set,b=n.meta,y=i.addObserver,g=i.removeObserver,_=i.addBeforeObserver,w=i.removeBeforeObserver,x=a.propertyWillChange,C=a.propertyDidChange,E=o.computed,O=s.defineProperty,P=l.observer,A=u.fmt,T=c.default,N=T.extend({content:null,_contentDidChange:P("content",function(){f.assert("Can't set ObjectProxy's content to itself",m(this,"content")!==this)}),isTruthy:E.bool("content"),_debugContainerKey:null,willWatchProperty:function(e){var t="content."+e;_(this,t,null,p),y(this,t,null,d)},didUnwatchProperty:function(e){var t="content."+e;w(this,t,null,p),g(this,t,null,d)},unknownProperty:function(e){var t=m(this,"content");if(t)return m(t,e)},setUnknownProperty:function(e,t){if(b(this).proto===this)return O(this,e,null,t),t;var r=m(this,"content");return f.assert(A("Cannot delegate set('%@', %@) to the 'content' property of object proxy %@: its 'content' is undefined.",[e,t,this]),r),v(r,e,t)}});h.default=N}),e("ember-runtime/system/set",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/is_none","ember-runtime/system/string","ember-runtime/system/core_object","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-metal/error","ember-metal/property_events","ember-metal/mixin","ember-metal/computed","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m){"use strict";var v=(e.default,t.get),b=r.set,y=n.guidFor,g=i.isNone,_=a.fmt,w=o.default,x=s.default,C=l.default,E=u.default,O=c.Freezable,P=c.FROZEN_ERROR,A=h.default,T=p.propertyWillChange,N=p.propertyDidChange,I=d.aliasMethod,S=f.computed,V=w.extend(x,E,O,{length:0,clear:function(){if(this.isFrozen)throw new A(P);var e=v(this,"length");if(0===e)return this;var t;this.enumerableContentWillChange(e,0),T(this,"firstObject"),T(this,"lastObject");for(var r=0;r<e;r++)t=y(this[r]),delete this[t],delete this[r];return b(this,"length",0),N(this,"firstObject"),N(this,"lastObject"),this.enumerableContentDidChange(e,0),this},isEqual:function(e){if(!C.detect(e))return!1;var t=v(this,"length");if(v(e,"length")!==t)return!1;for(;--t>=0;)if(!e.contains(this[t]))return!1;return!0},add:I("addObject"),remove:I("removeObject"),pop:function(){if(v(this,"isFrozen"))throw new A(P);var e=this.length>0?this[this.length-1]:null;return this.remove(e),e},push:I("addObject"),shift:I("pop"),unshift:I("push"),addEach:I("addObjects"),removeEach:I("removeObjects"),init:function(e){this._super(),e&&this.addObjects(e)},nextObject:function(e){return this[e]},firstObject:S(function(){return this.length>0?this[0]:void 0}),lastObject:S(function(){return this.length>0?this[this.length-1]:void 0}),addObject:function(e){if(v(this,"isFrozen"))throw new A(P);if(g(e))return this;var t,r=y(e),n=this[r],i=v(this,"length");return n>=0&&n<i&&this[n]===e?this:(t=[e],this.enumerableContentWillChange(null,t),T(this,"lastObject"),i=v(this,"length"),this[r]=i,this[i]=e,b(this,"length",i+1),N(this,"lastObject"),this.enumerableContentDidChange(null,t),this)},removeObject:function(e){if(v(this,"isFrozen"))throw new A(P);if(g(e))return this;var t,r,n=y(e),i=this[n],a=v(this,"length"),o=0===i,s=i===a-1;return i>=0&&i<a&&this[i]===e&&(r=[e],this.enumerableContentWillChange(r,null),o&&T(this,"firstObject"),s&&T(this,"lastObject"),i<a-1&&(t=this[a-1],this[i]=t,this[y(t)]=i),delete this[n],delete this[a-1],b(this,"length",a-1),o&&N(this,"firstObject"),s&&N(this,"lastObject"),this.enumerableContentDidChange(r,null)),this},contains:function(e){return this[y(e)]>=0},copy:function(){var e=this.constructor,t=new e,r=v(this,"length");for(b(t,"length",r);--r>=0;)t[r]=this[r],t[y(this[r])]=r;return t},toString:function(){var e,t=this.length,r=[];for(e=0;e<t;e++)r[e]=this[e];return _("Ember.Set<%@>",[r.join(",")])}});m.default=V}),e("ember-runtime/system/string",["ember-metal/core","ember-metal/utils","exports"],function(e,t,r){"use strict";function n(e,t){var r=0;return e.replace(/%@([0-9]+)?/g,function(e,n){return n=n?parseInt(n,10)-1:r++,e=t[n],null===e?"(null)":void 0===e?"":d(e)})}function i(e,t){return e=p.STRINGS[e]||e,n(e,t)}function a(e){return e.split(/\s+/)}function o(e){return e.replace(v,"$1_$2").toLowerCase()}function s(e){var t,r=m,n=r.hasOwnProperty(e);return n?r[e]:(t=o(e).replace(f,"-"),r[e]=t,t)}function l(e){return e.replace(b,function(e,t,r){return r?r.toUpperCase():""}).replace(/^([A-Z])/,function(e,t,r){return e.toLowerCase()})}function u(e){for(var t=e.split("."),r=[],n=0,i=t.length;n<i;n++){var a=l(t[n]);r.push(a.charAt(0).toUpperCase()+a.substr(1))}return r.join(".")}function c(e){return e.replace(y,"$1_$2").replace(g,"_").toLowerCase()}function h(e){return e.charAt(0).toUpperCase()+e.substr(1)}var p=e.default,d=t.inspect,f=/[ _]/g,m={},v=/([a-z\d])([A-Z])/g,b=/(\-|_|\.|\s)+(.)?/g,y=/([a-z\d])([A-Z]+)/g,g=/\-|\s+/g;p.STRINGS={};var _={fmt:n,loc:i,w:a,decamelize:o,dasherize:s,camelize:l,classify:u,underscore:c,capitalize:h};r.default=_,r.fmt=n,r.loc=i,r.w=a,r.decamelize=o,r.dasherize=s,r.camelize=l,r.classify=u,r.underscore=c,r.capitalize=h}),e("ember-runtime/system/subarray",["ember-metal/property_get","ember-metal/error","ember-metal/enumerable_utils","exports"],function(e,t,r,n){"use strict";function i(e,t){this.type=e,this.count=t}function a(e){arguments.length<1&&(e=0),this._operations=e>0?[new i(s,e)]:[]}var o=(e.get,t.default),s=(r.default,"r");a.prototype={addItem:function(e,t){var r=-1,n=t?s:"f",a=this;return this._findOperation(e,function(o,l,u,c,h){var p,d;n===o.type?++o.count:e===u?a._operations.splice(l,0,new i(n,1)):(p=new i(n,1),d=new i(o.type,c-e+1),o.count=e-u,a._operations.splice(l+1,0,p,d)),t&&(r=o.type===s?h+(e-u):h),a._composeAt(l)},function(e){a._operations.push(new i(n,1)),t&&(r=e),a._composeAt(a._operations.length-1)}),r},removeItem:function(e){var t=-1,r=this;return this._findOperation(e,function(n,i,a,o,l){n.type===s&&(t=l+(e-a)),n.count>1?--n.count:(r._operations.splice(i,1),r._composeAt(i))},function(){throw new o("Can't remove an item that has never been added.")}),t},_findOperation:function(e,t,r){var n,i,a,o,l,u=0;for(n=o=0,i=this._operations.length;n<i;o=l+1,++n){if(a=this._operations[n],l=o+a.count-1,e>=o&&e<=l)return void t(a,n,o,l,u);a.type===s&&(u+=a.count)}r(u)},_composeAt:function(e){var t,r=this._operations[e];r&&(e>0&&(t=this._operations[e-1],t.type===r.type&&(r.count+=t.count,this._operations.splice(e-1,1),--e)),e<this._operations.length-1&&(t=this._operations[e+1],t.type===r.type&&(r.count+=t.count,this._operations.splice(e+1,1))))},toString:function(){var e="";return forEach(this._operations,function(t){e+=" "+t.type+":"+t.count}),e.substring(1)}},n.default=a}),e("ember-runtime/system/tracked_array",["ember-metal/property_get","ember-metal/enumerable_utils","exports"],function(e,t,r){"use strict";function n(e){arguments.length<1&&(e=[]);var t=o(e,"length");this._operations=t?[new i(u,t,e)]:[]}function i(e,t,r){this.type=e,this.count=t,this.items=r}function a(e,t,r,n){this.operation=e,this.index=t,this.split=r,this.rangeStart=n}var o=e.get,s=t.default,l=s.forEach,u="r";n.RETAIN=u,n.INSERT="i",n.DELETE="d",n.prototype={addItems:function(e,t){var r=o(t,"length");if(!(r<1)){var n,a,s=this._findArrayOperation(e),l=s.operation,u=s.index,c=s.rangeStart;a=new i("i",r,t),l?s.split?(this._split(u,e-c,a),n=u+1):(this._operations.splice(u,0,a),n=u):(this._operations.push(a),n=u),this._composeInsert(n)}},removeItems:function(e,t){if(!(t<1)){var r,n,a=this._findArrayOperation(e),o=(a.operation,a.index),s=a.rangeStart;return r=new i("d",t),a.split?(this._split(o,e-s,r),n=o+1):(this._operations.splice(o,0,r),n=o),this._composeDelete(n)}},apply:function(e){var t=[],r=0;l(this._operations,function(n,i){e(n.items,r,n.type,i),"d"!==n.type&&(r+=n.count,t=t.concat(n.items))}),this._operations=[new i(u,t.length,t)]},_findArrayOperation:function(e){var t,r,n,i,o,s=!1;for(t=i=0,r=this._operations.length;t<r;++t)if(n=this._operations[t],"d"!==n.type){if(o=i+n.count-1,e===i)break;if(e>i&&e<=o){s=!0;break}i=o+1}return new a(n,t,s,i)},_split:function(e,t,r){var n=this._operations[e],a=n.items.slice(t),o=new i(n.type,a.length,a);n.count=t,n.items=n.items.slice(0,t),this._operations.splice(e+1,0,r,o)},_composeInsert:function(e){var t=this._operations[e],r=this._operations[e-1],n=this._operations[e+1],i=r&&r.type,a=n&&n.type;"i"===i?(r.count+=t.count,r.items=r.items.concat(t.items),"i"===a?(r.count+=n.count,r.items=r.items.concat(n.items),this._operations.splice(e,2)):this._operations.splice(e,1)):"i"===a&&(t.count+=n.count,t.items=t.items.concat(n.items),this._operations.splice(e+1,1))},_composeDelete:function(e){var t,r,n,i=this._operations[e],a=i.count,o=this._operations[e-1],s=o&&o.type,l=!1,u=[];"d"===s&&(i=o,e-=1);for(var c=e+1;a>0;++c)t=this._operations[c],r=t.type,n=t.count,"d"!==r?(n>a?(u=u.concat(t.items.splice(0,a)),t.count-=a,c-=1,n=a,a=0):(n===a&&(l=!0),u=u.concat(t.items),a-=n),"i"===r&&(i.count-=n)):i.count+=n;return i.count>0?this._operations.splice(e+1,c-1-e):this._operations.splice(e,l?2:1),u},toString:function(){var e="";return l(this._operations,function(t){e+=" "+t.type+":"+t.count}),e.substring(1)}},r.default=n})}(),function(){e("ember-views",["ember-runtime","ember-views/system/jquery","ember-views/system/utils","ember-views/system/render_buffer","ember-views/system/ext","ember-views/views/states","ember-views/views/view","ember-views/views/container_view","ember-views/views/collection_view","ember-views/views/component","ember-views/system/event_dispatcher","ember-views/mixins/view_target_action_support","exports"],function(e,t,r,n,a,o,s,l,u,c,h,p,d){"use strict";i.$=t.default,i.ViewTargetActionSupport=p.default,i.RenderBuffer=n.default;var f=i.ViewUtils={};f.setInnerHTML=r.setInnerHTML,f.isSimpleClick=r.isSimpleClick,i.CoreView=s.CoreView,i.View=s.View,i.View.states=o.states,i.View.cloneStates=o.cloneStates,i._ViewCollection=s.ViewCollection,i.ContainerView=l.default,i.CollectionView=u.default,i.Component=c.default,i.EventDispatcher=h.default,d.default=i}),e("ember-views/mixins/component_template_deprecation",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","exports"],function(e,t,r,n){"use strict";var i=e.default,a=t.get,o=r.Mixin,s=o.create({willMergeMixin:function(e){this._super.apply(this,arguments);var t,r,n=e.layoutName||e.layout||a(this,"layoutName");e.templateName&&!n&&(t="templateName",r="layoutName",e.layoutName=e.templateName,delete e.templateName),e.template&&!n&&(t="template",r="layout",e.layout=e.template,delete e.template),t&&i.deprecate("Do not specify "+t+" on a Component, use "+r+" instead.",!1)}});n.default=s}),e("ember-views/mixins/view_target_action_support",["ember-metal/mixin","ember-runtime/mixins/target_action_support","ember-metal/computed","exports"],function(e,t,r,n){"use strict";var i=e.Mixin,a=t.default,o=r.computed,s=o.alias,l=i.create(a,{target:s("controller"),actionContext:s("context")});n.default=l}),e("ember-views/system/event_dispatcher",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/object","ember-views/system/jquery","ember-views/views/view","exports"],function(e,r,n,i,a,o,s,l,u,c,h){"use strict";var p,d=e.default,f=r.get,m=n.set,v=i.isNone,b=a.default,y=o.typeOf,g=s.fmt,_=l.default,w=u.default,x=c.View,C=_.extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",setup:function(e,t){var r,n=f(this,"events");w.extend(n,e||{}),v(t)||m(this,"rootElement",t),t=w(f(this,"rootElement")),d.assert(g("You cannot use the same root element (%@) multiple times in an Ember.Application",[t.selector||t[0].tagName]),!t.is(".ember-application")),d.assert("You cannot make a new Ember.Application using a root element that is a descendent of an existing Ember.Application",!t.closest(".ember-application").length),d.assert("You cannot make a new Ember.Application using a root element that is an ancestor of an existing Ember.Application",!t.find(".ember-application").length),t.addClass("ember-application"),d.assert('Unable to add "ember-application" class to rootElement. Make sure you set rootElement to the body or an element in the body.',t.is(".ember-application"));for(r in n)n.hasOwnProperty(r)&&this.setupHandler(t,r,n[r])},setupHandler:function(e,r,n){var i=this;e.on(r+".ember",".ember-view",function(e,t){var r=x.views[this.id],a=!0,o=null;return o=i._findNearestEventManager(r,n),o&&o!==t?a=i._dispatchEvent(o,e,n,r):r?a=i._bubbleEvent(r,e,n):e.stopPropagation(),a}),e.on(r+".ember","[data-ember-action]",function(e){p||(p=t("ember-routing/helpers/action").ActionHelper);var r=w(e.currentTarget).attr("data-ember-action"),i=p.registeredActions[r];if(i&&i.eventName===n)return i.handler(e)})},_findNearestEventManager:function(e,t){for(var r=null;e&&(!(r=f(e,"eventManager"))||!r[t]);)e=f(e,"parentView");return r},_dispatchEvent:function(e,t,r,n){var i=!0,a=e[r];return"function"===y(a)?(i=b(e,a,t,n),t.stopPropagation()):i=this._bubbleEvent(n,t,r),i},_bubbleEvent:function(e,t,r){return b(e,e.handleEvent,r,t)},destroy:function(){var e=f(this,"rootElement");return w(e).off(".ember","**").removeClass("ember-application"),this._super()}});h.default=C}),e("ember-views/system/ext",["ember-metal/run_loop"],function(e){"use strict";var t=e.default;t.queues;t._addQueue("render","actions"),t._addQueue("afterRender","render")}),
e("ember-views/system/jquery",["ember-metal/core","ember-runtime/system/string","ember-metal/enumerable_utils","exports"],function(e,t,n,i){"use strict";var a=e.default,o=t.w,s=n.default,l=s.forEach,u=a.imports&&a.imports.jQuery||this&&this.jQuery;if(u||"function"!=typeof r||(u=r("jquery")),a.assert("Ember Views require jQuery between 1.7 and 2.1",u&&(u().jquery.match(/^((1\.(7|8|9|10|11))|(2\.(0|1)))(\.\d+)?(pre|rc\d?)?/)||a.ENV.FORCE_JQUERY)),u){l(o("dragstart drag dragenter dragleave dragover drop dragend"),function(e){u.event.fixHooks[e]={props:["dataTransfer"]}})}i.default=u}),e("ember-views/system/render_buffer",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-views/system/utils","ember-views/system/jquery","exports"],function(e,t,r,n,i,a){"use strict";function o(){this.seen={},this.list=[]}function s(e){return e&&h.test(e)?e.replace(p,""):e}function l(e){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(e){return t[e]||"&amp;"},n=e.toString();return f.test(n)?n.replace(d,r):n}var u=(e.default,t.get,r.set,n.setInnerHTML),c=i.default;o.prototype={add:function(e){e in this.seen||(this.seen[e]=!0,this.list.push(e))},toDOM:function(){return this.list.join(" ")}};var h=/[^a-zA-Z0-9\-]/,p=/[^a-zA-Z0-9\-]/g,d=/&(?!\w+;)|[<>"'`]/g,f=/[&<>"'`]/,m=function(){var e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("name","foo"),e.appendChild(t),!!e.innerHTML.match("foo")}(),v=function(e){return new b(e)},b=function(e){this.tagNames=[e||null],this.buffer=""};b.prototype={_element:null,_hasElement:!0,elementClasses:null,classes:null,elementId:null,elementAttributes:null,elementProperties:null,elementTag:null,elementStyle:null,parentBuffer:null,push:function(e){return this.buffer+=e,this},addClass:function(e){return this.elementClasses=this.elementClasses||new o,this.elementClasses.add(e),this.classes=this.elementClasses.list,this},setClasses:function(e){this.elementClasses=null;var t,r=e.length;for(t=0;t<r;t++)this.addClass(e[t])},id:function(e){return this.elementId=e,this},attr:function(e,t){var r=this.elementAttributes=this.elementAttributes||{};return 1===arguments.length?r[e]:(r[e]=t,this)},removeAttr:function(e){var t=this.elementAttributes;return t&&delete t[e],this},prop:function(e,t){var r=this.elementProperties=this.elementProperties||{};return 1===arguments.length?r[e]:(r[e]=t,this)},removeProp:function(e){var t=this.elementProperties;return t&&delete t[e],this},style:function(e,t){return this.elementStyle=this.elementStyle||{},this.elementStyle[e]=t,this},begin:function(e){return this.tagNames.push(e||null),this},pushOpeningTag:function(){var e=this.currentTagName();if(e){if(this._hasElement&&!this._element&&0===this.buffer.length)return void(this._element=this.generateElement());var t,r,n=this.buffer,i=this.elementId,a=this.classes,o=this.elementAttributes,u=this.elementProperties,c=this.elementStyle;if(n+="<"+s(e),i&&(n+=' id="'+l(i)+'"',this.elementId=null),a&&(n+=' class="'+l(a.join(" "))+'"',this.classes=null,this.elementClasses=null),c){n+=' style="';for(r in c)c.hasOwnProperty(r)&&(n+=r+":"+l(c[r])+";");n+='"',this.elementStyle=null}if(o){for(t in o)o.hasOwnProperty(t)&&(n+=" "+t+'="'+l(o[t])+'"');this.elementAttributes=null}if(u){for(r in u)if(u.hasOwnProperty(r)){var h=u[r];(h||"number"==typeof h)&&(n+=!0===h?" "+r+'="'+r+'"':" "+r+'="'+l(u[r])+'"')}this.elementProperties=null}n+=">",this.buffer=n}},pushClosingTag:function(){var e=this.tagNames.pop();e&&(this.buffer+="</"+s(e)+">")},currentTagName:function(){return this.tagNames[this.tagNames.length-1]},generateElement:function(){var e,t,r,n=this.tagNames.pop(),i=this.elementId,a=this.classes,o=this.elementAttributes,u=this.elementProperties,h=this.elementStyle,p="";r=o&&o.name&&!m?"<"+s(n)+' name="'+l(o.name)+'">':n;var d=document.createElement(r),f=c(d);if(i&&(f.attr("id",i),this.elementId=null),a&&(f.attr("class",a.join(" ")),this.classes=null,this.elementClasses=null),h){for(t in h)h.hasOwnProperty(t)&&(p+=t+":"+h[t]+";");f.attr("style",p),this.elementStyle=null}if(o){for(e in o)o.hasOwnProperty(e)&&f.attr(e,o[e]);this.elementAttributes=null}if(u){for(t in u)u.hasOwnProperty(t)&&f.prop(t,u[t]);this.elementProperties=null}return d},element:function(){var e=this.innerString();return e&&(this._element=u(this._element,e)),this._element},string:function(){if(this._hasElement&&this._element){var e=this.element(),t=e.outerHTML;return void 0===t?c("<div/>").append(e).html():t}return this.innerString()},innerString:function(){return this.buffer}},a.default=v}),e("ember-views/system/utils",["ember-metal/core","exports"],function(e,t){"use strict";function r(e){var t=e.shiftKey||e.metaKey||e.altKey||e.ctrlKey,r=e.which>1;return!t&&!r}var n=e.default,i="undefined"!=typeof document&&function(){var e=document.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script><\/script>",""===e.firstChild.innerHTML}(),a="undefined"!=typeof document&&function(){var e=document.createElement("div");return e.innerHTML="Test: <script type='text/x-placeholder'><\/script>Value","Test:"===e.childNodes[0].nodeValue&&" Value"===e.childNodes[2].nodeValue}(),o=function(e,t){if(e.getAttribute("id")===t)return e;var r,n,i,a=e.childNodes.length;for(r=0;r<a;r++)if(n=e.childNodes[r],i=1===n.nodeType&&o(n,t))return i},s=function(e,t){i&&(t="&shy;"+t);var r=[];if(a&&(t=t.replace(/(\s+)(<script id='([^']+)')/g,function(e,t,n,i){return r.push([i,t]),n})),e.innerHTML=t,r.length>0){var n,s=r.length;for(n=0;n<s;n++){var l=o(e,r[n][0]),u=document.createTextNode(r[n][1]);l.parentNode.insertBefore(u,l)}}if(i){for(var c=e.firstChild;1===c.nodeType&&!c.nodeName;)c=c.firstChild;3===c.nodeType&&"\xad"===c.nodeValue.charAt(0)&&(c.nodeValue=c.nodeValue.slice(1))}},l={},u=function(e){if(void 0!==l[e])return l[e];var t=!0;if("select"===e.toLowerCase()){var r=document.createElement("select");s(r,'<option value="test">Test</option>'),t=1===r.options.length}return l[e]=t,t},c=function(e,t){var r=e.tagName;if(u(r))s(e,t);else{var i=e.outerHTML||(new XMLSerializer).serializeToString(e);n.assert("Can't set innerHTML on "+e.tagName+" in this browser",i);var a=i.match(new RegExp("<"+r+"([^>]*)>","i"))[0],o="</"+r+">",l=document.createElement("div");for(s(l,a+t+o),e=l.firstChild;e.tagName!==r;)e=e.nextSibling}return e};t.setInnerHTML=c,t.isSimpleClick=r}),e("ember-views/views/collection_view",["ember-metal/core","ember-metal/platform","ember-metal/binding","ember-metal/merge","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-views/views/container_view","ember-views/views/view","ember-metal/mixin","ember-runtime/mixins/array","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h){"use strict";var p=e.default,d=(t.create,r.isGlobalPath),f=(n.default,i.get),m=a.set,v=o.fmt,b=s.default,y=l.CoreView,g=l.View,_=u.observer,w=u.beforeObserver,x=c.default,C=b.extend({content:null,emptyViewClass:g,emptyView:null,itemViewClass:g,init:function(){var e=this._super();return this._contentDidChange(),e},_contentWillChange:w("content",function(){var e=this.get("content");e&&e.removeArrayObserver(this);var t=e?f(e,"length"):0;this.arrayWillChange(e,0,t)}),_contentDidChange:_("content",function(){var e=f(this,"content");e&&(this._assertArrayLike(e),e.addArrayObserver(this));var t=e?f(e,"length"):0;this.arrayDidChange(e,0,null,t)}),_assertArrayLike:function(e){p.assert(v("an Ember.CollectionView's content must implement Ember.Array. You passed %@",[e]),x.detect(e))},destroy:function(){if(this._super()){var e=f(this,"content");return e&&e.removeArrayObserver(this),this._createdEmptyView&&this._createdEmptyView.destroy(),this}},arrayWillChange:function(e,t,r){var n=f(this,"emptyView");n&&n instanceof g&&n.removeFromParent();var i,a,o,s=this._childViews;o=this._childViews.length;var l=r===o;for(l&&(this.currentState.empty(this),this.invokeRecursively(function(e){e.removedFromDOM=!0},!1)),a=t+r-1;a>=t;a--)i=s[a],i.destroy()},arrayDidChange:function(e,t,r,n){var i,a,o,s,l,u=[];if(e?f(e,"length"):0)for(s=f(this,"itemViewClass"),"string"==typeof s&&d(s)&&(s=f(s)||s),p.assert(v("itemViewClass must be a subclass of Ember.View, not %@",[s]),"string"==typeof s||g.detect(s)),o=t;o<t+n;o++)a=e.objectAt(o),i=this.createChildView(s,{content:a,contentIndex:o}),u.push(i);else{if(!(l=f(this,"emptyView")))return;"string"==typeof l&&d(l)&&(l=f(l)||l),l=this.createChildView(l),u.push(l),m(this,"emptyView",l),y.detect(l)&&(this._createdEmptyView=l)}this.replace(t,0,u)},createChildView:function(e,t){e=this._super(e,t);var r=f(e,"tagName");return null!==r&&void 0!==r||(r=C.CONTAINER_MAP[f(this,"tagName")],m(e,"tagName",r)),e}});C.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"},h.default=C}),e("ember-views/views/component",["ember-metal/core","ember-views/mixins/component_template_deprecation","ember-runtime/mixins/target_action_support","ember-views/views/view","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/computed","exports"],function(e,t,r,n,i,a,o,s,l){"use strict";var u=e.default,c=t.default,h=r.default,p=n.View,d=i.get,f=a.set,m=o.isNone,v=s.computed,b=Array.prototype.slice,y=p.extend(h,c,{instrumentName:"component",instrumentDisplay:v(function(){if(this._debugContainerKey)return"{{"+this._debugContainerKey.split(":")[1]+"}}"}),init:function(){this._super(),f(this,"context",this),f(this,"controller",this)},defaultLayout:function(e,t){u.Handlebars.helpers.yield.call(e,t)},template:v(function(e,t){if(void 0!==t)return t;var r=d(this,"templateName"),n=this.templateForName(r,"template");return u.assert("You specified the templateName "+r+" for "+this+", but it did not exist.",!r||n),n||d(this,"defaultTemplate")}).property("templateName"),templateName:null,cloneKeywords:function(){return{view:this,controller:this}},_yield:function(e,t){var r=t.data.view,n=this._parentView,i=d(this,"template");i&&(u.assert("A Component must have a parent view in order to yield.",n),r.appendChild(p,{isVirtual:!0,tagName:"",_contextView:n,template:i,context:d(n,"context"),controller:d(n,"controller"),templateData:{keywords:n.cloneKeywords()}}))},targetObject:v(function(e){var t=d(this,"_parentView");return t?d(t,"controller"):null}).property("_parentView"),sendAction:function(e){var t,r=b.call(arguments,1);void 0===e?(t=d(this,"action"),u.assert("The default action was triggered on the component "+this.toString()+", but the action name ("+t+") was not a string.",m(t)||"string"==typeof t)):(t=d(this,e),u.assert("The "+e+" action was triggered on the component "+this.toString()+", but the action name ("+t+") was not a string.",m(t)||"string"==typeof t)),void 0!==t&&this.triggerAction({action:t,actionContext:r})}});l.default=y}),e("ember-views/views/container_view",["ember-metal/core","ember-metal/merge","ember-runtime/mixins/mutable_array","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/states","ember-metal/error","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/run_loop","ember-metal/properties","ember-views/system/render_buffer","ember-metal/mixin","ember-runtime/system/native_array","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m){"use strict";function v(e,t,r,n){t.triggerRecursively("willInsertElement"),r?r.domManager.after(r,n.string()):e.domManager.prepend(e,n.string()),t.forEach(function(e){e.transitionTo("inDOM"),e.propertyDidChange("element"),e.triggerRecursively("didInsertElement")})}var b=e.default,y=t.default,g=r.default,_=n.get,w=i.set,x=a.View,C=a.ViewCollection,E=o.cloneStates,O=o.states,P=s.default,A=l.default,T=A.forEach,N=u.computed,I=c.default,S=h.defineProperty,V=p.default,R=d.observer,k=d.beforeObserver,j=f.A,D=E(O),M=x.extend(g,{states:D,init:function(){this._super();var e=_(this,"childViews");S(this,"childViews",x.childViewsProperty);var t=this._childViews;T(e,function(e,r){var n;"string"==typeof e?(n=_(this,e),n=this.createChildView(n),w(this,e,n)):n=this.createChildView(e),t[r]=n},this);var r=_(this,"currentView");r&&(t.length||(t=this._childViews=this._childViews.slice()),t.push(this.createChildView(r)))},replace:function(e,t,r){var n=r?_(r,"length"):0,i=this;if(b.assert("You can't add a child to a container - the child is already a child of another view",j(r).every(function(e){return!_(e,"_parentView")||_(e,"_parentView")===i})),this.arrayContentWillChange(e,t,n),this.childViewsWillChange(this._childViews,e,t),0===n)this._childViews.splice(e,t);else{var a=[e,t].concat(r);r.length&&!this._childViews.length&&(this._childViews=this._childViews.slice()),this._childViews.splice.apply(this._childViews,a)}return this.arrayContentDidChange(e,t,n),this.childViewsDidChange(this._childViews,e,t,n),this},objectAt:function(e){return this._childViews[e]},length:N(function(){return this._childViews.length}).volatile(),render:function(e){this.forEachChildView(function(t){t.renderToBuffer(e)})},instrumentName:"container",childViewsWillChange:function(e,t,r){if(this.propertyWillChange("childViews"),r>0){var n=e.slice(t,t+r);this.currentState.childViewsWillChange(this,e,t,r),this.initializeViews(n,null,null)}},removeChild:function(e){return this.removeObject(e),this},childViewsDidChange:function(e,t,r,n){if(n>0){var i=e.slice(t,t+n);this.initializeViews(i,this,_(this,"templateData")),this.currentState.childViewsDidChange(this,e,t,n)}this.propertyDidChange("childViews")},initializeViews:function(e,t,r){T(e,function(e){w(e,"_parentView",t),!e.container&&t&&w(e,"container",t.container),_(e,"templateData")||w(e,"templateData",r)})},currentView:null,_currentViewWillChange:k("currentView",function(){var e=_(this,"currentView");e&&e.destroy()}),_currentViewDidChange:R("currentView",function(){var e=_(this,"currentView");e&&(b.assert("You tried to set a current view that already has a parent. Make sure you don't have multiple outlets in the same view.",!_(e,"_parentView")),this.pushObject(e))}),_ensureChildrenAreInDOM:function(){this.currentState.ensureChildrenAreInDOM(this)}});y(D._default,{childViewsWillChange:b.K,childViewsDidChange:b.K,ensureChildrenAreInDOM:b.K}),y(D.inBuffer,{childViewsDidChange:function(e,t,r,n){throw new P("You cannot modify child views while in the inBuffer state")}}),y(D.hasElement,{childViewsWillChange:function(e,t,r,n){for(var i=r;i<r+n;i++)t[i].remove()},childViewsDidChange:function(e,t,r,n){I.scheduleOnce("render",e,"_ensureChildrenAreInDOM")},ensureChildrenAreInDOM:function(e){var t,r,n,i,a,o=e._childViews,s=new C;for(t=0,r=o.length;t<r;t++)n=o[t],a||(a=V(),a._hasElement=!1),n.renderToBufferIfNeeded(a)?s.push(n):s.length?(v(e,s,i,a),a=null,i=n,s.clear()):i=n;s.length&&v(e,s,i,a)}}),m.default=M}),e("ember-views/views/states",["ember-metal/platform","ember-metal/merge","ember-views/views/states/default","ember-views/views/states/pre_render","ember-views/views/states/in_buffer","ember-views/views/states/has_element","ember-views/views/states/in_dom","ember-views/views/states/destroying","exports"],function(e,t,r,n,i,a,o,s,l){"use strict";function u(e){var t={};t._default={},t.preRender=c(t._default),t.destroying=c(t._default),t.inBuffer=c(t._default),t.hasElement=c(t._default),t.inDOM=c(t.hasElement);for(var r in e)e.hasOwnProperty(r)&&h(t[r],e[r]);return t}var c=e.create,h=t.default,p=r.default,d=n.default,f=i.default,m=a.default,v=o.default,b=s.default,y={_default:p,preRender:d,inDOM:v,inBuffer:f,hasElement:m,destroying:b};l.cloneStates=u,l.states=y}),e("ember-views/views/states/default",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/error","exports"],function(e,t,r,n,i,a){"use strict";var o=e.default,s=(t.get,r.set),l=n.default,u=i.default,c={appendChild:function(){throw new u("You can't use appendChild outside of the rendering process")},$:function(){},getElement:function(){return null},handleEvent:function(){return!0},destroyElement:function(e){return s(e,"element",null),e._scheduledInsert&&(l.cancel(e._scheduledInsert),e._scheduledInsert=null),e},renderToBufferIfNeeded:function(){return!1},rerender:o.K,invokeObserver:o.K};a.default=c}),e("ember-views/views/states/destroying",["ember-metal/merge","ember-metal/platform","ember-runtime/system/string","ember-views/views/states/default","ember-metal/error","exports"],function(e,t,r,n,a,o){"use strict";var s=e.default,l=t.create,u=r.fmt,c=n.default,h=a.default,p="You can't call %@ on a view being destroyed",d=l(c);s(d,{appendChild:function(){throw new h(u(p,["appendChild"]))},rerender:function(){throw new h(u(p,["rerender"]))},destroyElement:function(){throw new h(u(p,["destroyElement"]))},empty:function(){throw new h(u(p,["empty"]))},setElement:function(){throw new h(u(p,["set('element', ...)"]))},renderToBufferIfNeeded:function(){return!1},insertElement:i.K}),o.default=d}),e("ember-views/views/states/has_element",["ember-views/views/states/default","ember-metal/run_loop","ember-metal/merge","ember-metal/platform","ember-views/system/jquery","ember-metal/error","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,r,n,i,a,o,s,l){"use strict";var u=e.default,c=t.default,h=r.default,p=n.create,d=i.default,f=a.default,m=o.get,v=s.set,b=p(u);h(b,{$:function(e,t){var r=m(e,"element");return t?d(t,r):d(r)},getElement:function(e){var t=m(e,"parentView");return t&&(t=m(t,"element")),t?e.findElementInParentElement(t):d("#"+m(e,"elementId"))[0]},setElement:function(e,t){if(null!==t)throw new f("You cannot set an element to a non-null value when the element is already in the DOM.");return e.transitionTo("preRender"),t},rerender:function(e){return e.triggerRecursively("willClearRender"),e.clearRenderedChildren(),e.domManager.replace(e),e},destroyElement:function(e){return e._notifyWillDestroyElement(),e.domManager.remove(e),v(e,"element",null),e._scheduledInsert&&(c.cancel(e._scheduledInsert),e._scheduledInsert=null),e},empty:function(e){var t,r,n=e._childViews;if(n)for(t=n.length,r=0;r<t;r++)n[r]._notifyWillDestroyElement();e.domManager.empty(e)},handleEvent:function(e,t,r){return!e.has(t)||e.trigger(t,r)},invokeObserver:function(e,t){t.call(e)}}),l.default=b}),e("ember-views/views/states/in_buffer",["ember-views/views/states/default","ember-metal/error","ember-metal/core","ember-metal/platform","ember-metal/merge","exports"],function(e,t,r,n,i,a){"use strict";var o=e.default,s=t.default,l=r.default,u=n.create,c=i.default,h=u(o);c(h,{$:function(e,t){return e.rerender(),l.$()},rerender:function(e){throw new s("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")},appendChild:function(e,t,r){var n=e.buffer,i=e._childViews;return t=e.createChildView(t,r),i.length||(i=e._childViews=i.slice()),i.push(t),t.renderToBuffer(n),e.propertyDidChange("childViews"),t},destroyElement:function(e){return e.clearBuffer(),e._notifyWillDestroyElement().transitionTo("preRender",!1),e},empty:function(){l.assert("Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications.")},renderToBufferIfNeeded:function(e,t){return!1},insertElement:function(){throw new s("You can't insert an element that has already been rendered")},setElement:function(e,t){return null===t?e.transitionTo("preRender"):(e.clearBuffer(),e.transitionTo("hasElement")),t},invokeObserver:function(e,t){t.call(e)}}),a.default=h}),e("ember-views/views/states/in_dom",["ember-metal/core","ember-metal/platform","ember-metal/merge","ember-metal/error","ember-views/views/states/has_element","exports"],function(e,r,n,i,a,o){"use strict";var s,l=e.default,u=r.create,c=n.default,h=i.default,p=a.default,d=u(p);c(d,{enter:function(e){s||(s=t("ember-views/views/view").View),e.isVirtual||(l.assert("Attempted to register a view with an id already in use: "+e.elementId,!s.views[e.elementId]),s.views[e.elementId]=e),e.addBeforeObserver("elementId",function(){throw new h("Changing a view's elementId after creation is not allowed")})},exit:function(e){s||(s=t("ember-views/views/view").View),this.isVirtual||delete s.views[e.elementId]},insertElement:function(e,t){throw new h("You can't insert an element into the DOM that has already been inserted")}}),o.default=d}),e("ember-views/views/states/pre_render",["ember-views/views/states/default","ember-metal/platform","ember-metal/merge","exports"],function(e,t,r,n){"use strict";var a=e.default,o=t.create,s=r.default,l=o(a);s(l,{insertElement:function(e,t){e.createElement();var r=e.viewHierarchyCollection();r.trigger("willInsertElement"),t.call(e);var n=e.get("element");document.body.contains(n)&&(r.transitionTo("inDOM",!1),r.trigger("didInsertElement"))},renderToBufferIfNeeded:function(e,t){return e.renderToBuffer(t),!0},empty:i.K,setElement:function(e,t){return null!==t&&e.transitionTo("hasElement"),t}}),n.default=l}),e("ember-views/views/view",["ember-metal/core","ember-metal/error","ember-runtime/system/object","ember-runtime/mixins/evented","ember-runtime/mixins/action_handler","ember-views/system/render_buffer","ember-metal/property_get","ember-metal/property_set","ember-metal/set_properties","ember-metal/run_loop","ember-metal/observer","ember-metal/properties","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/is_none","container/container","ember-runtime/system/native_array","ember-metal/instrumentation","ember-runtime/system/string","ember-metal/enumerable_utils","ember-runtime/copy","ember-metal/binding","ember-metal/property_events","ember-views/views/states","ember-views/system/jquery","ember-views/system/ext","exports"],function(e,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b,y,g,_,w,x,C,E,O,P,A,T){"use strict";function N(e){e.buffer=null}function I(e){Y(e).cache.element=void 0}function S(){z.once(_e,"notifyMutationListeners")}var V,R=e.default,k=r.default,j=n.default,D=i.default,M=a.default,L=o.default,H=s.get,B=l.set,F=u.default,z=c.default,U=h.addObserver,q=h.removeObserver,K=p.defineProperty,W=d.guidFor,Y=d.meta,G=f.computed,$=m.observer,Q=d.typeOf,J=d.isArray,X=v.isNone,Z=m.Mixin,ee=b.default,te=y.A,re=g.instrument,ne=_.dasherize,ie=w.default,ae=ie.forEach,oe=ie.addObject,se=ie.removeObject,le=m.beforeObserver,ue=x.default,ce=C.isGlobalPath,he=E.propertyWillChange,pe=E.propertyDidChange,de=O.cloneStates,fe=O.states,me=P.default,ve=G(function(){var e=this._childViews,r=te(),n=this;return ae(e,function(e){var t;e.isVirtual?(t=H(e,"childViews"))&&r.pushObjects(t):r.push(e)}),r.replace=function(e,r,i){if(V||(V=t("ember-views/views/container_view").default),n instanceof V)return R.deprecate("Manipulating an Ember.ContainerView through its childViews property is deprecated. Please use the ContainerView instance itself as an Ember.MutableArray."),n.replace(e,r,i);throw new k("childViews is immutable")},r});R.warn("The VIEW_PRESERVES_CONTEXT flag has been removed and the functionality can no longer be disabled.",!1!==R.ENV.VIEW_PRESERVES_CONTEXT),R.TEMPLATES={};var be=j.extend(D,M,{isView:!0,states:de(fe),init:function(){this._super(),this.transitionTo("preRender"),this._isVisible=H(this,"isVisible")},parentView:G("_parentView",function(){var e=this._parentView;return e&&e.isVirtual?H(e,"parentView"):e}),state:null,_parentView:null,concreteView:G("parentView",function(){return this.isVirtual?H(this,"parentView.concreteView"):this}),instrumentName:"core_view",instrumentDetails:function(e){e.object=this.toString(),e.containerKey=this._debugContainerKey,e.view=this},renderToBuffer:function(e,t){var r="render."+this.instrumentName,n={};return this.instrumentDetails(n),re(r,n,function(){return this._renderToBuffer(e,t)},this)},_renderToBuffer:function(e,t){var r=this.tagName;null!==r&&void 0!==r||(r="div");var n=this.buffer=e&&e.begin(r)||L(r);return this.transitionTo("inBuffer",!1),this.beforeRender(n),this.render(n),this.afterRender(n),n},trigger:function(e){this._super.apply(this,arguments);var t=this[e];if(t){var r,n,i=[];for(r=1,n=arguments.length;r<n;r++)i.push(arguments[r]);return t.apply(this,i)}},deprecatedSendHandles:function(e){return!!this[e]},deprecatedSend:function(e){var t=[].slice.call(arguments,1);R.assert(this+" has the action "+e+" but it is not a function","function"==typeof this[e]),R.deprecate("Action handlers implemented directly on views are deprecated in favor of action handlers on an `actions` object ( action: `"+e+"` on "+this+")",!1),this[e].apply(this,t)},has:function(e){return"function"===Q(this[e])||this._super(e)},destroy:function(){var e=this._parentView;if(this._super())return this.removedFromDOM||this.destroyElement(),e&&e.removeChild(this),this.transitionTo("destroying",!1),this},clearRenderedChildren:R.K,triggerRecursively:R.K,invokeRecursively:R.K,transitionTo:R.K,destroyElement:R.K}),ye=function(e){var t=this.views=e||[];this.length=t.length};ye.prototype={length:0,trigger:function(e){for(var t,r=this.views,n=0,i=r.length;n<i;n++)t=r[n],t.trigger&&t.trigger(e)},triggerRecursively:function(e){for(var t=this.views,r=0,n=t.length;r<n;r++)t[r].triggerRecursively(e)},invokeRecursively:function(e){for(var t,r=this.views,n=0,i=r.length;n<i;n++)t=r[n],e(t)},transitionTo:function(e,t){for(var r=this.views,n=0,i=r.length;n<i;n++)r[n].transitionTo(e,t)},push:function(){this.length+=arguments.length;var e=this.views;return e.push.apply(e,arguments)},objectAt:function(e){return this.views[e]},forEach:function(e){var t=this.views;return ae(t,e)},clear:function(){this.length=0,this.views.length=0}};var ge=[],_e=be.extend({concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:!0,templateName:null,layoutName:null,instrumentDisplay:G(function(){if(this.helperName)return"{{"+this.helperName+"}}"}),template:G("templateName",function(e,t){if(void 0!==t)return t;var r=H(this,"templateName"),n=this.templateForName(r,"template");return R.assert("You specified the templateName "+r+" for "+this+", but it did not exist.",!r||n),n||H(this,"defaultTemplate")}),controller:G("_parentView",function(e){var t=H(this,"_parentView");return t?H(t,"controller"):null}),layout:G(function(e){var t=H(this,"layoutName"),r=this.templateForName(t,"layout");return R.assert("You specified the layoutName "+t+" for "+this+", but it did not exist.",!t||r),r||H(this,"defaultLayout")}).property("layoutName"),_yield:function(e,t){var r=H(this,"template");r&&r(e,t)},templateForName:function(e,t){if(e){R.assert("templateNames are not allowed to contain periods: "+e,-1===e.indexOf("."));var r=this.container||ee&&ee.defaultContainer;return r&&r.lookup("template:"+e)}},context:G(function(e,t){return 2===arguments.length?(B(this,"_context",t),t):H(this,"_context")}).volatile(),_context:G(function(e){var t,r;return(r=H(this,"controller"))?r:(t=this._parentView,t?H(t,"_context"):null)}),_contextDidChange:$("context",function(){this.rerender()}),isVisible:!0,childViews:ve,_childViews:ge,_childViewsWillChange:le("childViews",function(){if(this.isVirtual){var e=H(this,"parentView");e&&he(e,"childViews")}}),_childViewsDidChange:$("childViews",function(){if(this.isVirtual){var e=H(this,"parentView");e&&pe(e,"childViews")}}),nearestInstanceOf:function(e){R.deprecate("nearestInstanceOf is deprecated and will be removed from future releases. Use nearestOfType.");for(var t=H(this,"parentView");t;){if(t instanceof e)return t;t=H(t,"parentView")}},nearestOfType:function(e){for(var t=H(this,"parentView"),r=e instanceof Z?function(t){return e.detect(t)}:function(t){return e.detect(t.constructor)};t;){if(r(t))return t;t=H(t,"parentView")}},nearestWithProperty:function(e){for(var t=H(this,"parentView");t;){if(e in t)return t;t=H(t,"parentView")}},nearestChildOf:function(e){for(var t=H(this,"parentView");t;){if(H(t,"parentView")instanceof e)return t;t=H(t,"parentView")}},_parentViewDidChange:$("_parentView",function(){this.isDestroying||(this.trigger("parentViewDidChange"),H(this,"parentView.controller")&&!H(this,"controller")&&this.notifyPropertyChange("controller"))}),_controllerDidChange:$("controller",function(){this.isDestroying||(this.rerender(),this.forEachChildView(function(e){e.propertyDidChange("controller")}))}),cloneKeywords:function(){var e=H(this,"templateData"),t=e?ue(e.keywords):{};return B(t,"view",H(this,"concreteView")),B(t,"_view",this),B(t,"controller",H(this,"controller")),t},render:function(e){var t=H(this,"layout")||H(this,"template");if(t){var r,n=H(this,"context"),i=this.cloneKeywords(),a={view:this,buffer:e,isRenderData:!0,keywords:i,insideGroup:H(this,"templateData.insideGroup")};R.assert('template must be a function. Did you mean to call Ember.Handlebars.compile("...") or specify templateName instead?',"function"==typeof t),r=t(n,{data:a}),void 0!==r&&e.push(r)}},rerender:function(){return this.currentState.rerender(this)},clearRenderedChildren:function(){for(var e=this.lengthBeforeRender,t=this.lengthAfterRender,r=this._childViews,n=t-1;n>=e;n--)r[n]&&r[n].destroy()},_applyClassNameBindings:function(e){var t,r,n,i=this.classNames;ae(e,function(e){R.assert("classNameBindings must not have spaces in them. Multiple class name bindings can be provided as elements of an array, e.g. ['foo', ':bar']",-1===e.indexOf(" "));var a,o=_e._parsePropertyPath(e),s=function(){r=this._classStringForProperty(e),t=this.$(),a&&(t.removeClass(a),i.removeObject(a)),r?(t.addClass(r),a=r):a=null};n=this._classStringForProperty(e),n&&(oe(i,n),a=n),this.registerObserver(this,o.path,s),this.one("willClearRender",function(){a&&(i.removeObject(a),a=null)})},this)},_unspecifiedAttributeBindings:null,_applyAttributeBindings:function(e,t){var r,n=this._unspecifiedAttributeBindings=this._unspecifiedAttributeBindings||{};ae(t,function(t){var i=t.split(":"),a=i[0],o=i[1]||a;a in this?(this._setupAttributeBindingObservation(a,o),r=H(this,a),_e.applyAttributeBindings(e,o,r)):n[a]=o},this),this.setUnknownProperty=this._setUnknownProperty},_setupAttributeBindingObservation:function(e,t){var r,n,i=function(){n=this.$(),r=H(this,e),_e.applyAttributeBindings(n,t,r)};this.registerObserver(this,e,i)},setUnknownProperty:null,_setUnknownProperty:function(e,t){var r=this._unspecifiedAttributeBindings&&this._unspecifiedAttributeBindings[e];return r&&this._setupAttributeBindingObservation(e,r),K(this,e),B(this,e,t)},_classStringForProperty:function(e){var t=_e._parsePropertyPath(e),r=t.path,n=H(this,r);return void 0===n&&ce(r)&&(n=H(R.lookup,r)),_e._classStringForValue(r,n,t.className,t.falsyClassName)},element:G("_parentView",function(e,t){return void 0!==t?this.currentState.setElement(this,t):this.currentState.getElement(this)}),$:function(e){return this.currentState.$(this,e)},mutateChildViews:function(e){for(var t,r=this._childViews,n=r.length;--n>=0;)t=r[n],e(this,t,n);return this},forEachChildView:function(e){var t=this._childViews;if(!t)return this;var r,n,i=t.length;for(n=0;n<i;n++)r=t[n],e(r);return this},appendTo:function(e){return this._insertElementLater(function(){R.assert("You tried to append to ("+e+") but that isn't in the DOM",me(e).length>0),R.assert("You cannot append to an existing Ember.View. Consider using Ember.ContainerView instead.",!me(e).is(".ember-view")&&!me(e).parents().is(".ember-view")),this.$().appendTo(e)}),this},replaceIn:function(e){return R.assert("You tried to replace in ("+e+") but that isn't in the DOM",me(e).length>0),R.assert("You cannot replace an existing Ember.View. Consider using Ember.ContainerView instead.",!me(e).is(".ember-view")&&!me(e).parents().is(".ember-view")),this._insertElementLater(function(){me(e).empty(),this.$().appendTo(e)}),this},_insertElementLater:function(e){this._scheduledInsert=z.scheduleOnce("render",this,"_insertElement",e)},_insertElement:function(e){this._scheduledInsert=null,this.currentState.insertElement(this,e)},append:function(){return this.appendTo(document.body)},remove:function(){this.removedFromDOM||this.destroyElement(),
this.invokeRecursively(function(e){e.clearRenderedChildren&&e.clearRenderedChildren()})},elementId:null,findElementInParentElement:function(e){var t="#"+this.elementId;return me(t)[0]||me(t,e)[0]},createElement:function(){if(H(this,"element"))return this;var e=this.renderToBuffer();return B(this,"element",e.element()),this},willInsertElement:R.K,didInsertElement:R.K,willClearRender:R.K,invokeRecursively:function(e,t){for(var r,n,i,a=!1===t?this._childViews:[this];a.length;){r=a.slice(),a=[];for(var o=0,s=r.length;o<s;o++)n=r[o],i=n._childViews?n._childViews.slice(0):null,e(n),i&&a.push.apply(a,i)}},triggerRecursively:function(e){for(var t,r,n,i=[this];i.length;){t=i.slice(),i=[];for(var a=0,o=t.length;a<o;a++)r=t[a],n=r._childViews?r._childViews.slice(0):null,r.trigger&&r.trigger(e),n&&i.push.apply(i,n)}},viewHierarchyCollection:function(){for(var e,t=new ye([this]),r=0;r<t.length;r++)e=t.objectAt(r),e._childViews&&t.push.apply(t,e._childViews);return t},destroyElement:function(){return this.currentState.destroyElement(this)},willDestroyElement:R.K,_notifyWillDestroyElement:function(){var e=this.viewHierarchyCollection();return e.trigger("willClearRender"),e.trigger("willDestroyElement"),e},_elementDidChange:$("element",function(){this.forEachChildView(I)}),parentViewDidChange:R.K,instrumentName:"view",instrumentDetails:function(e){e.template=H(this,"templateName"),this._super(e)},_renderToBuffer:function(e,t){this.lengthBeforeRender=this._childViews.length;var r=this._super(e,t);return this.lengthAfterRender=this._childViews.length,r},renderToBufferIfNeeded:function(e){return this.currentState.renderToBufferIfNeeded(this,e)},beforeRender:function(e){this.applyAttributesToBuffer(e),e.pushOpeningTag()},afterRender:function(e){e.pushClosingTag()},applyAttributesToBuffer:function(e){var t=H(this,"classNameBindings");t.length&&this._applyClassNameBindings(t);var r=H(this,"attributeBindings");r.length&&this._applyAttributeBindings(e,r),e.setClasses(this.classNames),e.id(this.elementId);var n=H(this,"ariaRole");n&&e.attr("role",n),!1===H(this,"isVisible")&&e.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:ge,attributeBindings:ge,init:function(){this.elementId=this.elementId||W(this),this._super(),this._childViews=this._childViews.slice(),R.assert("Only arrays are allowed for 'classNameBindings'","array"===Q(this.classNameBindings)),this.classNameBindings=te(this.classNameBindings.slice()),R.assert("Only arrays are allowed for 'classNames'","array"===Q(this.classNames)),this.classNames=te(this.classNames.slice())},appendChild:function(e,t){return this.currentState.appendChild(this,e,t)},removeChild:function(e){if(!this.isDestroying){B(e,"_parentView",null);var t=this._childViews;return se(t,e),this.propertyDidChange("childViews"),this}},removeAllChildren:function(){return this.mutateChildViews(function(e,t){e.removeChild(t)})},destroyAllChildren:function(){return this.mutateChildViews(function(e,t){t.destroy()})},removeFromParent:function(){var e=this._parentView;return this.remove(),e&&e.removeChild(this),this},destroy:function(){var e,t,r=this._childViews,n=H(this,"parentView"),i=this.viewName;if(this._super()){for(e=r.length,t=e-1;t>=0;t--)r[t].removedFromDOM=!0;for(i&&n&&n.set(i,null),e=r.length,t=e-1;t>=0;t--)r[t].destroy();return this}},createChildView:function(e,t){if(!e)throw new TypeError("createChildViews first argument must exist");if(e.isView&&e._parentView===this&&e.container===this.container)return e;if(t=t||{},t._parentView=this,be.detect(e))t.templateData=t.templateData||H(this,"templateData"),t.container=this.container,e=e.create(t),e.viewName&&B(H(this,"concreteView"),e.viewName,e);else if("string"==typeof e){var r="view:"+e,n=this.container.lookupFactory(r);R.assert("Could not find view: '"+r+"'",!!n),t.templateData=H(this,"templateData"),e=n.create(t)}else R.assert("You must pass instance or subclass of View",e.isView),t.container=this.container,H(e,"templateData")||(t.templateData=H(this,"templateData")),F(e,t);return e},becameVisible:R.K,becameHidden:R.K,_isVisibleDidChange:$("isVisible",function(){this._isVisible!==H(this,"isVisible")&&z.scheduleOnce("render",this,this._toggleVisibility)}),_toggleVisibility:function(){var e=this.$();if(e){var t=H(this,"isVisible");this._isVisible!==t&&(e.toggle(t),this._isVisible=t,this._isAncestorHidden()||(t?this._notifyBecameVisible():this._notifyBecameHidden()))}},_notifyBecameVisible:function(){this.trigger("becameVisible"),this.forEachChildView(function(e){var t=H(e,"isVisible");(t||null===t)&&e._notifyBecameVisible()})},_notifyBecameHidden:function(){this.trigger("becameHidden"),this.forEachChildView(function(e){var t=H(e,"isVisible");(t||null===t)&&e._notifyBecameHidden()})},_isAncestorHidden:function(){for(var e=H(this,"parentView");e;){if(!1===H(e,"isVisible"))return!0;e=H(e,"parentView")}return!1},clearBuffer:function(){this.invokeRecursively(N)},transitionTo:function(e,t){var r=this.currentState,n=this.currentState=this.states[e];this.state=e,r&&r.exit&&r.exit(this),n.enter&&n.enter(this),"inDOM"===e&&(Y(this).cache.element=void 0),!1!==t&&this.forEachChildView(function(t){t.transitionTo(e)})},handleEvent:function(e,t){return this.currentState.handleEvent(this,e,t)},registerObserver:function(e,t,r,n){if(n||"function"!=typeof r||(n=r,r=null),e&&"object"==typeof e){var i=this,a=function(){i.currentState.invokeObserver(this,n)},o=function(){z.scheduleOnce("render",this,a)};U(e,t,r,o),this.one("willClearRender",function(){q(e,t,r,o)})}}}),we={prepend:function(e,t){e.$().prepend(t),S()},after:function(e,t){e.$().after(t),S()},html:function(e,t){e.$().html(t),S()},replace:function(e){var t=H(e,"element");B(e,"element",null),e._insertElementLater(function(){me(t).replaceWith(H(e,"element")),S()})},remove:function(e){e.$().remove(),S()},empty:function(e){e.$().empty(),S()}};_e.reopen({domManager:we}),_e.reopenClass({_parsePropertyPath:function(e){var t,r,n=e.split(":"),i=n[0],a="";return n.length>1&&(t=n[1],3===n.length&&(r=n[2]),a=":"+t,r&&(a+=":"+r)),{path:i,classNames:a,className:""===t?void 0:t,falsyClassName:r}},_classStringForValue:function(e,t,r,n){if(J(t)&&(t=0!==H(t,"length")),r||n)return r&&t?r:n&&!t?n:null;if(!0===t){var i=e.split(".");return ne(i[i.length-1])}return!1!==t&&null!=t?t:null}});var xe=j.extend(D).create();_e.addMutationListener=function(e){xe.on("change",e)},_e.removeMutationListener=function(e){xe.off("change",e)},_e.notifyMutationListeners=function(){xe.trigger("change")},_e.views={},_e.childViewsProperty=ve,_e.applyAttributeBindings=function(e,t,r){var n=Q(r);"value"===t||"string"!==n&&("number"!==n||isNaN(r))?"value"===t||"boolean"===n?X(r)||!1===r?(e.removeAttr(t),e.prop(t,"")):r!==e.prop(t)&&e.prop(t,r):r||e.removeAttr(t):r!==e.attr(t)&&e.attr(t,r)},T.CoreView=be,T.View=_e,T.ViewCollection=ye})}(),function(){e("metamorph",[],function(){"use strict";var e=function(){},t=0,r=function(){return"undefined"!=typeof MetamorphENV?MetamorphENV.DISABLE_RANGE_API:"undefined"!==ENV&&ENV.DISABLE_RANGE_API}(),n=!r&&"undefined"!=typeof document&&"createRange"in document&&"undefined"!=typeof Range&&Range.prototype.createContextualFragment,i="undefined"!=typeof document&&function(){var e=document.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script><\/script>",""===e.firstChild.innerHTML}(),a=document&&function(){var e=document.createElement("div");return e.innerHTML="Test: <script type='text/x-placeholder'><\/script>Value","Test:"===e.childNodes[0].nodeValue&&" Value"===e.childNodes[2].nodeValue}(),o=function(r){var n;n=this instanceof o?this:new e,n.innerHTML=r;var i="metamorph-"+t++;return n.start=i+"-start",n.end=i+"-end",n};e.prototype=o.prototype;var s,l,u,c,h,p,d,f,m;if(c=function(){return this.startTag()+this.innerHTML+this.endTag()},f=function(){return"<script id='"+this.start+"' type='text/x-placeholder'><\/script>"},m=function(){return"<script id='"+this.end+"' type='text/x-placeholder'><\/script>"},n)s=function(e,t){var r=document.createRange(),n=document.getElementById(e.start),i=document.getElementById(e.end);return t?(r.setStartBefore(n),r.setEndAfter(i)):(r.setStartAfter(n),r.setEndBefore(i)),r},l=function(e,t){var r=s(this,t);r.deleteContents();var n=r.createContextualFragment(e);r.insertNode(n)},u=function(){s(this,!0).deleteContents()},h=function(e){var t=document.createRange();t.setStart(e),t.collapse(!1);var r=t.createContextualFragment(this.outerHTML());e.appendChild(r)},p=function(e){var t=document.createRange(),r=document.getElementById(this.end);t.setStartAfter(r),t.setEndAfter(r);var n=t.createContextualFragment(e);t.insertNode(n)},d=function(e){var t=document.createRange(),r=document.getElementById(this.start);t.setStartAfter(r),t.setEndAfter(r);var n=t.createContextualFragment(e);t.insertNode(n)};else{var v={select:[1,"<select multiple='multiple'>","</select>"],fieldset:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"],colgroup:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],map:[1,"<map>","</map>"],_default:[0,"",""]},b=function(e,t){if(e.getAttribute("id")===t)return e;var r,n,i,a=e.childNodes.length;for(r=0;r<a;r++)if(n=e.childNodes[r],i=1===n.nodeType&&b(n,t))return i},y=function(e,t){var r=[];if(a&&(t=t.replace(/(\s+)(<script id='([^']+)')/g,function(e,t,n,i){return r.push([i,t]),n})),e.innerHTML=t,r.length>0){var n,i=r.length;for(n=0;n<i;n++){var o=b(e,r[n][0]),s=document.createTextNode(r[n][1]);o.parentNode.insertBefore(s,o)}}},g=function(e,t){var r=v[e.tagName.toLowerCase()]||v._default,n=r[0],a=r[1],o=r[2];i&&(t="&shy;"+t);var s=document.createElement("div");y(s,a+t+o);for(var l=0;l<=n;l++)s=s.firstChild;if(i){for(var u=s;1===u.nodeType&&!u.nodeName;)u=u.firstChild;3===u.nodeType&&"\xad"===u.nodeValue.charAt(0)&&(u.nodeValue=u.nodeValue.slice(1))}return s},_=function(e){for(;""===e.parentNode.tagName;)e=e.parentNode;return e},w=function(e,t){e.parentNode!==t.parentNode&&t.parentNode.insertBefore(e,t.parentNode.firstChild)};l=function(e,t){var r,n,i,a=_(document.getElementById(this.start)),o=document.getElementById(this.end),s=o.parentNode;for(w(a,o),r=a.nextSibling;r;){if(n=r.nextSibling,i=r===o){if(!t)break;o=r.nextSibling}if(r.parentNode.removeChild(r),i)break;r=n}for(r=g(a.parentNode,e),t&&a.parentNode.removeChild(a);r;)n=r.nextSibling,s.insertBefore(r,o),r=n},u=function(){var e=_(document.getElementById(this.start)),t=document.getElementById(this.end);this.html(""),e.parentNode.removeChild(e),t.parentNode.removeChild(t)},h=function(e){for(var t,r=g(e,this.outerHTML());r;)t=r.nextSibling,e.appendChild(r),r=t},p=function(e){var t,r,n=document.getElementById(this.end),i=n.nextSibling,a=n.parentNode;for(r=g(a,e);r;)t=r.nextSibling,a.insertBefore(r,i),r=t},d=function(e){var t,r,n=document.getElementById(this.start),i=n.parentNode;r=g(i,e);for(var a=n.nextSibling;r;)t=r.nextSibling,i.insertBefore(r,a),r=t}}return o.prototype.html=function(e){if(this.checkRemoved(),void 0===e)return this.innerHTML;l.call(this,e),this.innerHTML=e},o.prototype.replaceWith=function(e){this.checkRemoved(),l.call(this,e,!0)},o.prototype.remove=u,o.prototype.outerHTML=c,o.prototype.appendTo=h,o.prototype.after=p,o.prototype.prepend=d,o.prototype.startTag=f,o.prototype.endTag=m,o.prototype.isRemoved=function(){var e=document.getElementById(this.start),t=document.getElementById(this.end);return!e||!t},o.prototype.checkRemoved=function(){if(this.isRemoved())throw new Error("Cannot perform operations on a Metamorph that is not in the DOM.")},o})}(),function(){e("ember-handlebars-compiler",["ember-metal/core","exports"],function(e,n){"use strict";var i=e.default;void 0===i.assert&&(i.assert=function(){}),void 0===i.FEATURES&&(i.FEATURES={isEnabled:function(){}});var a,o,s=Object.create||function(e){function t(){}return t.prototype=e,new t},l=i.imports&&i.imports.Handlebars||this&&this.Handlebars;l||"function"!=typeof r||(l=r("handlebars")),i.assert("Ember Handlebars requires Handlebars version 1.0 or 1.1. Include a SCRIPT tag in the HTML HEAD linking to the Handlebars file before you link to Ember.",l),i.assert("Ember Handlebars requires Handlebars version 1.0 or 1.1, COMPILER_REVISION expected: 4, got: "+l.COMPILER_REVISION+" - Please note: Builds of master may have other COMPILER_REVISION values.",4===l.COMPILER_REVISION);var u=i.Handlebars=s(l);u.helper=function(e,r){a||(a=t("ember-views/views/view").View),o||(o=t("ember-views/views/component").default),i.assert("You tried to register a component named '"+e+"', but component names must include a '-'",!o.detect(r)||e.match(/-/)),a.detect(r)?u.registerHelper(e,u.makeViewHelper(r)):u.registerBoundHelper.apply(null,arguments)},u.makeViewHelper=function(e){return function(t){return i.assert("You can only pass attributes (such as name=value) not bare values to a helper for a View found in '"+e.toString()+"'",arguments.length<2),u.helpers.view.call(this,e,t)}},u.helpers=s(l.helpers),u.Compiler=function(){},l.Compiler&&(u.Compiler.prototype=s(l.Compiler.prototype)),u.Compiler.prototype.compiler=u.Compiler,u.JavaScriptCompiler=function(){},l.JavaScriptCompiler&&(u.JavaScriptCompiler.prototype=s(l.JavaScriptCompiler.prototype),u.JavaScriptCompiler.prototype.compiler=u.JavaScriptCompiler),u.JavaScriptCompiler.prototype.namespace="Ember.Handlebars",u.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"},u.JavaScriptCompiler.prototype.appendToBuffer=function(e){return"data.buffer.push("+e+");"};var c=/helpers\.(.*?)\)/,h=/helpers\['(.*?)'/,p=/(.*blockHelperMissing\.call\(.*)(stack[0-9]+)(,.*)/;u.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation=function(e){var t=e[e.length-1],r=(c.exec(t)||h.exec(t))[1],n=p.exec(t);e[e.length-1]=n[1]+"'"+r+"'"+n[3]};var d=u.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation,f=u.JavaScriptCompiler.prototype.blockValue;u.JavaScriptCompiler.prototype.blockValue=function(){f.apply(this,arguments),d(this.source)};var m=u.JavaScriptCompiler.prototype.ambiguousBlockValue;u.JavaScriptCompiler.prototype.ambiguousBlockValue=function(){m.apply(this,arguments),d(this.source)},u.Compiler.prototype.mustache=function(e){if(!e.params.length&&!e.hash){var t=new l.AST.IdNode([{part:"_triageMustache"}]);e.escaped||(e.hash=e.hash||new l.AST.HashNode([]),e.hash.pairs.push(["unescaped",new l.AST.StringNode("true")])),e=new l.AST.MustacheNode([t].concat([e.id]),e.hash,!e.escaped)}return l.Compiler.prototype.mustache.call(this,e)},u.precompile=function(e,t){var r=l.parse(e),n={knownHelpers:{action:!0,unbound:!0,"bind-attr":!0,template:!0,view:!0,_triageMustache:!0},data:!0,stringParams:!0};t=void 0===t||t;var i=(new u.Compiler).compile(r,n);return(new u.JavaScriptCompiler).compile(i,n,void 0,t)},l.compile&&(u.compile=function(e){var t=l.parse(e),r={data:!0,stringParams:!0},n=(new u.Compiler).compile(t,r),i=(new u.JavaScriptCompiler).compile(n,r,void 0,!0),a=u.template(i);return a.isMethod=!1,a}),n.default=u})}(),function(){e("ember-handlebars/component_lookup",["ember-runtime/system/object","exports"],function(e,t){"use strict";var r=e.default,n=r.extend({lookupFactory:function(e,t){t=t||this.container;var r="component:"+e,n="template:components/"+e,a=t&&t.has(n);a&&t.injection(r,"layout",n);var o=t.lookupFactory(r);if(a||o)return o||(t.register(r,i.Component),o=t.lookupFactory(r)),o}});t.default=n}),e("ember-handlebars/controls",["ember-handlebars/controls/checkbox","ember-handlebars/controls/text_field","ember-handlebars/controls/text_area","ember-metal/core","ember-handlebars-compiler","exports"],function(e,t,r,n,i,a){"use strict";function o(e){h.assert("You can only pass attributes to the `input` helper, not arguments",arguments.length<2);var t=e.hash,r=(e.hashTypes,t.type),n=t.on;return delete t.type,delete t.on,"checkbox"===r?(h.assert("{{input type='checkbox'}} does not support setting `value=someBooleanValue`; you must use `checked=someBooleanValue` instead.","ID"!==e.hashTypes.value),d.view.call(this,l,e)):(r&&(t.type=r),t.onEvent=n||"enter",d.view.call(this,u,e))}function s(e){h.assert("You can only pass attributes to the `textarea` helper, not arguments",arguments.length<2);e.hash,e.hashTypes;return d.view.call(this,c,e)}var l=e.default,u=t.default,c=r.default,h=n.default,p=i.default,d=p.helpers;a.inputHelper=o,a.textareaHelper=s}),e("ember-handlebars/controls/checkbox",["ember-metal/property_get","ember-metal/property_set","ember-views/views/view","exports"],function(e,t,r,n){"use strict";var i=e.get,a=t.set,o=r.View,s=o.extend({instrumentDisplay:'{{input type="checkbox"}}',classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","indeterminate","disabled","tabindex","name","autofocus","required","form"],type:"checkbox",checked:!1,disabled:!1,indeterminate:!1,init:function(){this._super(),this.on("change",this,this._updateElementValue)},didInsertElement:function(){this._super(),i(this,"element").indeterminate=!!i(this,"indeterminate")},_updateElementValue:function(){a(this,"checked",this.$().prop("checked"))}});n.default=s}),e("ember-handlebars/controls/select",["ember-handlebars-compiler","ember-metal/enumerable_utils","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/collection_view","ember-metal/utils","ember-metal/is_none","ember-metal/computed","ember-runtime/system/native_array","ember-metal/mixin","ember-metal/properties","exports"],function(e,t,r,n,a,o,s,l,u,c,h,p,d){"use strict";var f=e.default,m=t.default,v=r.get,b=n.set,y=a.View,g=o.default,_=s.isArray,w=l.default,x=u.computed,C=c.A,E=h.observer,O=p.defineProperty,P=m.indexOf,A=m.indexesOf,T=m.forEach,N=m.replace,I=(f.compile,y.extend({instrumentDisplay:"Ember.SelectOption",tagName:"option",attributeBindings:["value","selected"],defaultTemplate:function(e,t){t={data:t.data,hash:{}},f.helpers.bind.call(e,"view.label",t)},init:function(){this.labelPathDidChange(),this.valuePathDidChange(),this._super()},selected:x(function(){var e=v(this,"content"),t=v(this,"parentView.selection");return v(this,"parentView.multiple")?t&&P(t,e.valueOf())>-1:e==t}).property("content","parentView.selection"),labelPathDidChange:E("parentView.optionLabelPath",function(){var e=v(this,"parentView.optionLabelPath");e&&O(this,"label",x(function(){return v(this,e)}).property(e))}),valuePathDidChange:E("parentView.optionValuePath",function(){var e=v(this,"parentView.optionValuePath");e&&O(this,"value",x(function(){return v(this,e)}).property(e))})})),S=g.extend({instrumentDisplay:"Ember.SelectOptgroup",tagName:"optgroup",attributeBindings:["label"],selectionBinding:"parentView.selection",multipleBinding:"parentView.multiple",optionLabelPathBinding:"parentView.optionLabelPath",optionValuePathBinding:"parentView.optionValuePath",itemViewClassBinding:"parentView.optionView"}),V=y.extend({instrumentDisplay:"Ember.Select",tagName:"select",classNames:["ember-select"],defaultTemplate:i.Handlebars.template(function(e,t,r,n,a){function o(e,t){var n;return t.buffer.push('<option value="">'),n=r._triageMustache.call(e,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(n||0===n)&&t.buffer.push(n),t.buffer.push("</option>"),""}function s(e,t){var n;n=r.each.call(e,"view.groupedContent",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(4,l,t),contexts:[e],types:["ID"],data:t}),n||0===n?t.buffer.push(n):t.buffer.push("")}function l(e,t){t.buffer.push(p(r.view.call(e,"view.groupView",{hash:{content:"content",label:"label"},hashTypes:{content:"ID",label:"ID"},hashContexts:{content:e,label:e},contexts:[e],types:["ID"],data:t})))}function u(e,t){var n;n=r.each.call(e,"view.content",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(7,c,t),contexts:[e],types:["ID"],data:t}),n||0===n?t.buffer.push(n):t.buffer.push("")}function c(e,t){t.buffer.push(p(r.view.call(e,"view.optionView",{hash:{content:""},hashTypes:{content:"ID"},hashContexts:{content:e},contexts:[e],types:["ID"],data:t})))}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,i.Handlebars.helpers),a=a||{};var h,p=this.escapeExpression,d=this;return h=r.if.call(t,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(1,o,a),contexts:[t],types:["ID"],data:a}),(h||0===h)&&a.buffer.push(h),h=r.if.call(t,"view.optionGroupPath",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(6,u,a),fn:d.program(3,s,a),contexts:[t],types:["ID"],data:a}),(h||0===h)&&a.buffer.push(h),""}),attributeBindings:["multiple","disabled","tabindex","name","required","autofocus","form","size"],multiple:!1,disabled:!1,required:!1,content:null,selection:null,value:x(function(e,t){if(2===arguments.length)return t;var r=v(this,"optionValuePath").replace(/^content\.?/,"");return r?v(this,"selection."+r):v(this,"selection")}).property("selection"),prompt:null,optionLabelPath:"content",optionValuePath:"content",optionGroupPath:null,groupView:S,groupedContent:x(function(){var e=v(this,"optionGroupPath"),t=C(),r=v(this,"content")||[];return T(r,function(r){var n=v(r,e);v(t,"lastObject.label")!==n&&t.pushObject({label:n,content:C()}),v(t,"lastObject.content").push(r)}),t}).property("optionGroupPath","content.@each"),optionView:I,_change:function(){v(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:E("selection.@each",function(){var e=v(this,"selection");if(v(this,"multiple")){if(!_(e))return void b(this,"selection",C([e]));this._selectionDidChangeMultiple()}else this._selectionDidChangeSingle()}),valueDidChange:E("value",function(){var e,t=v(this,"content"),r=v(this,"value"),n=v(this,"optionValuePath").replace(/^content\.?/,""),i=n?v(this,"selection."+n):v(this,"selection");r!==i&&(e=t?t.find(function(e){return r===(n?v(e,n):e)}):null,this.set("selection",e))}),_triggerChange:function(){var e=v(this,"selection"),t=v(this,"value");w(e)||this.selectionDidChange(),w(t)||this.valueDidChange(),this._change()},_changeSingle:function(){var e=this.$()[0].selectedIndex,t=v(this,"content"),r=v(this,"prompt");if(t&&v(t,"length")){if(r&&0===e)return void b(this,"selection",null);r&&(e-=1),b(this,"selection",t.objectAt(e))}},_changeMultiple:function(){var e=this.$("option:selected"),t=v(this,"prompt"),r=t?1:0,n=v(this,"content"),i=v(this,"selection");if(n&&e){var a=e.map(function(){return this.index-r}).toArray(),o=n.objectsAt(a);_(i)?N(i,0,v(i,"length"),o):b(this,"selection",o)}},_selectionDidChangeSingle:function(){var e=this.get("element");if(e){var t=v(this,"content"),r=v(this,"selection"),n=t?P(t,r):-1;v(this,"prompt")&&(n+=1),e&&(e.selectedIndex=n)}},_selectionDidChangeMultiple:function(){var e,t=v(this,"content"),r=v(this,"selection"),n=t?A(t,r):[-1],i=v(this,"prompt"),a=i?1:0,o=this.$("option");o&&o.each(function(){e=this.index>-1?this.index-a:-1,this.selected=P(n,e)>-1})},init:function(){this._super(),this.on("didInsertElement",this,this._triggerChange),this.on("change",this,this._change)}});d.default=V,d.Select=V,d.SelectOption=I,d.SelectOptgroup=S}),e("ember-handlebars/controls/text_area",["ember-metal/property_get","ember-views/views/component","ember-handlebars/controls/text_support","ember-metal/mixin","exports"],function(e,t,r,n,i){"use strict";var a=e.get,o=t.default,s=r.default,l=n.observer,u=o.extend(s,{instrumentDisplay:"{{textarea}}",classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols","name","selectionEnd","selectionStart","wrap"],rows:null,cols:null,_updateElementValue:l("value",function(){var e=a(this,"value"),t=this.$();t&&e!==t.val()&&t.val(e)}),init:function(){this._super(),this.on("didInsertElement",this,this._updateElementValue)}});i.default=u}),e("ember-handlebars/controls/text_field",["ember-metal/property_get","ember-metal/property_set","ember-views/views/component","ember-handlebars/controls/text_support","exports"],function(e,t,r,n,i){"use strict";var a=(e.get,t.set,r.default),o=n.default,s=a.extend(o,{instrumentDisplay:'{{input type="text"}}',classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size","pattern","name","min","max","accept","autocomplete","autosave","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","list","multiple","pattern","step","width"],value:"",type:"text",size:null,pattern:null,min:null,max:null});i.default=s}),e("ember-handlebars/controls/text_support",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/target_action_support","exports"],function(e,t,r,n,i){"use strict";function a(e,t,r){var n=o(t,e),i=o(t,"onEvent"),a=o(t,"value");(i===e||"keyPress"===i&&"key-press"===e)&&t.sendAction("action",a),t.sendAction(e,a),(n||i===e)&&(o(t,"bubbles")||r.stopPropagation())}var o=e.get,s=t.set,l=r.Mixin,u=n.default,c=l.create(u,{value:"",attributeBindings:["placeholder","disabled","maxlength","tabindex","readonly","autofocus","form","selectionDirection","spellcheck","required","title","autocapitalize","autocorrect"],placeholder:null,disabled:!1,maxlength:null,init:function(){this._super(),this.on("focusOut",this,this._elementValueDidChange),this.on("change",this,this._elementValueDidChange),this.on("paste",this,this._elementValueDidChange),this.on("cut",this,this._elementValueDidChange),this.on("input",this,this._elementValueDidChange),this.on("keyUp",this,this.interpretKeyEvents)},action:null,onEvent:"enter",bubbles:!1,interpretKeyEvents:function(e){var t=c.KEY_EVENTS,r=t[e.keyCode];if(this._elementValueDidChange(),r)return this[r](e)},_elementValueDidChange:function(){s(this,"value",this.$().val())},insertNewline:function(e){a("enter",this,e),a("insert-newline",this,e)},cancel:function(e){a("escape-press",this,e)},focusIn:function(e){a("focus-in",this,e)},focusOut:function(e){a("focus-out",this,e)},keyPress:function(e){a("key-press",this,e)}});c.KEY_EVENTS={13:"insertNewline",27:"cancel"},i.default=c}),e("ember-handlebars/ext",["ember-metal/core","ember-runtime/system/string","ember-handlebars-compiler","ember-metal/property_get","ember-metal/binding","ember-metal/error","ember-metal/mixin","ember-metal/is_empty","exports"],function(e,r,n,i,a,o,s,l,u){"use strict";function c(e,t,r){var n,i,a=r&&r.keywords||{};return n=t.split(".",1)[0],a.hasOwnProperty(n)&&(e=a[n],i=!0,t=t===n?"":t.substr(n.length+1)),{root:e,path:t,isKeyword:i}}function h(e,t,r){var n,i=r&&r.data,a=c(e,t,i);return e=a.root,t=a.path,n=A(e,t),void 0===n&&e!==C.lookup&&T(t)&&(n=A(C.lookup,t)),n}function p(e,t,r){var n=h(e,t,r);return null===n||void 0===n?n="":n instanceof Handlebars.SafeString||(n=String(n)),r.hash.unescaped||(n=Handlebars.Utils.escapeExpression(n)),n}function d(e,t,r){for(var n,i,a=[],o=r.types,s=0,l=t.length;s<l;s++)n=t[s],i=o[s],"ID"===i?a.push(h(e,n,r)):a.push(n);return a}function f(e,t,r){var n,i={},a=r.hashTypes;for(var o in t)t.hasOwnProperty(o)&&(n=a[o],i[o]="ID"===n?h(e,t[o],r):t[o]);return i}function m(e){w||(w=t("ember-handlebars/helpers/binding").resolveHelper);var r,n="",i=arguments[arguments.length-1],a=w(i.data.view.container,e);if(a)return a.apply(this,V.call(arguments,1));throw r="%@ Handlebars error: Could not find property '%@' on object %@.",i.data&&(n=i.data.view),new N(E(r,[n,e,this]))}function v(e){w||(w=t("ember-handlebars/helpers/binding").resolveHelper);var r=arguments[arguments.length-1];C.assert("`blockHelperMissing` was invoked without a helper name, which is most likely due to a mismatch between the version of Ember.js you're running now and the one used to precompile your templates. Please make sure the version of `ember-handlebars-compiler` you're using is up to date.",e);var n=w(r.data.view.container,e);return n?n.apply(this,V.call(arguments,1)):P.helperMissing.call(this,e)}function b(e,t){var r=V.call(arguments,1),n=y.apply(this,r);O.registerHelper(e,n)}function y(e){function r(){var t,r,i,a,o,s=V.call(arguments,0,-1),l=s.length,u=arguments[arguments.length-1],h=[],p=u.data,d=p.isUnbound?V.call(u.types,1):u.types,f=u.hash,m=p.view,v=u.contexts,b=v&&v.length?v[0]:this,y="",_=x.prototype.normalizedValue;C.assert("registerBoundHelper-generated helpers do not support use with Handlebars blocks.",!u.fn);var w=f.boundOptions={};for(i in f)I.test(i)&&(w[i.slice(0,-7)]=f[i]);var E=[];for(p.properties=[],t=0;t<l;++t)if(p.properties.push(s[t]),"ID"===d[t]){var O=c(b,s[t],p);h.push(O),E.push(O)}else p.isUnbound?h.push({path:s[t]}):h.push(null);if(p.isUnbound)return g(this,e,h,u);var P=new x(null,null,!u.hash.unescaped,u.data);P.normalizedValue=function(){var r,n=[];for(r in w)w.hasOwnProperty(r)&&(o=c(b,w[r],p),P.path=o.path,P.pathRoot=o.root,f[r]=_.call(P));for(t=0;t<l;++t)o=h[t],o?(P.path=o.path,P.pathRoot=o.root,n.push(_.call(P))):n.push(s[t]);return n.push(u),e.apply(b,n)},m.appendChild(P);for(a in w)w.hasOwnProperty(a)&&E.push(c(b,w[a],p));for(t=0,r=E.length;t<r;++t)o=E[t],m.registerObserver(o.root,o.path,P,P.rerender);if("ID"===d[0]&&0!==h.length){var A=h[0],T=A.root,N=A.path;S(N)||(y=N+".");for(var R=0,k=n.length;R<k;R++)m.registerObserver(T,y+n[R],P,P.rerender)}}x||(x=t("ember-handlebars/views/handlebars_bound_view").SimpleHandlebarsView);var n=V.call(arguments,1);return r._rawFunction=e,r}function g(e,t,r,n){var i,a,o,s,l,u=[],c=n.hash,p=c.boundOptions,d=V.call(n.types,1);for(l in p)p.hasOwnProperty(l)&&(c[l]=h(e,p[l],n));for(i=0,a=r.length;i<a;++i)o=r[i],s=d[i],"ID"===s?u.push(h(o.root,o.path,n)):u.push(o.path);return u.push(n),t.apply(e,u)}function _(e){var t=R(e);return t.isTop=!0,t}var w,x,C=e.default,E=r.fmt,O=n.default,P=O.helpers,A=i.get,T=a.isGlobalPath,N=o.default,I=s.IS_BINDING,S=l.default,V=[].slice,R=O.template;u.normalizePath=c,u.template=_,u.makeBoundHelper=y,u.registerBoundHelper=b,u.resolveHash=f,u.resolveParams=d,u.handlebarsGet=h,u.getEscaped=p,u.evaluateUnboundHelper=g,u.helperMissingHelper=m,u.blockHelperMissingHelper=v}),e("ember-handlebars/helpers/binding",["ember-metal/core","ember-handlebars-compiler","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-metal/utils","ember-metal/platform","ember-metal/is_none","ember-metal/enumerable_utils","ember-metal/array","ember-views/views/view","ember-metal/run_loop","ember-handlebars/views/handlebars_bound_view","ember-metal/observer","ember-metal/binding","ember-views/system/jquery","ember-handlebars/ext","ember-runtime/keys","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b,y){"use strict";function g(e){return!z(e)}function _(e,t,r,n,i,a){var o,s,l,u=t.data,c=t.fn,h=t.inverse,p=u.view,d=this||window;if(o=te(d,e,u),"object"==typeof this){if(u.insideGroup){s=function(){K.once(p,"rerender")};var f,m,v=re(d,e,t);v=i?i(v):v,m=r?d:v,n(v)?f=c:h&&(f=h),f(m,{data:t.data})}else{var b=W,y={preserveContext:r,shouldDisplayFunc:n,valueNormalizerFunc:i,displayTemplate:c,inverseTemplate:h,path:e,pathRoot:d,previousContext:d,isEscaped:!t.hash.unescaped,templateData:t.data,templateHash:t.hash,helperName:t.helperName};t.isWithHelper&&(b=ae);var g=p.createChildView(b,y);p.appendChild(g),s=function(){K.scheduleOnce("render",g,"rerenderIfNeeded")}}if(""!==o.path&&(p.registerObserver(o.root,o.path,s),a))for(l=0;l<a.length;l++)p.registerObserver(o.root,o.path+"."+a[l],s)}else u.buffer.push(ne(d,e,t))}function w(e,t,r){var n,i,a,o,s=r.data,l=s.view;if(n=te(e,t,s),(a=n.root)&&"object"==typeof a){if(s.insideGroup)i=function(){K.once(l,"rerender")},o=ne(e,t,r),s.buffer.push(o);else{var u=new Y(t,e,!r.hash.unescaped,r.data);u._parentView=l,l.appendChild(u),i=function(){K.scheduleOnce("render",u,"rerender")}}""!==n.path&&l.registerObserver(n.root,n.path,i)}else o=ne(e,t,r),s.buffer.push(o)}function x(e){var t=e&&L(e,"isTruthy");return"boolean"==typeof t?t:ee(e)?0!==L(e,"length"):!!e}function C(e,t){k.assert("You cannot pass more than one argument to the _triageMustache helper",arguments.length<=2);var r=j.resolveHelper(t.data.view.container,e);return r?r.call(this,t):D.bind.call(this,e,t)}function E(e,t){
if(D[t])return D[t];if(e&&-1!==t.indexOf("-")){var r=e.lookup("helper:"+t);if(!r){var n=e.lookup("component-lookup:main");k.assert("Could not find 'component-lookup:main' on the provided container, which is necessary for performing component lookups",n);var i=n.lookupFactory(t,e);i&&(r=j.makeViewHelper(i),e.register("helper:"+t,r))}return r}}function O(e,t){k.assert("You cannot pass more than one argument to the bind helper",arguments.length<=2);var r=t.contexts&&t.contexts.length?t.contexts[0]:this;return t.fn?(t.helperName="bind",_.call(r,e,t,!1,g)):w(r,e,t)}function P(e,t){var r=t.contexts&&t.contexts.length?t.contexts[0]:this;return t.helperName=t.helperName||"boundIf",_.call(r,e,t,!0,x,x,["isTruthy","length"])}function A(e,t){var r,n=t.contexts&&t.contexts.length?t.contexts[0]:this,i=t.data,a=t.fn,o=t.inverse;te(n,e,i),r=re(n,e,t),x(r)||(a=o),a(n,{data:i})}function T(e,t){var r,n,i="with";if(4===arguments.length){var a,o,s,l,u;k.assert("If you pass more than one argument to the with helper, it must be in the form #with foo as bar","as"===arguments[1]),t=arguments[3],a=arguments[2],o=arguments[0],o&&(i+=" "+o+" as "+a),k.assert("You must pass a block to the with helper",t.fn&&t.fn!==Handlebars.VM.noop);var c=F(t);if(c.data=F(t.data),c.data.keywords=F(t.data.keywords||{}),$(o))u=o;else{l=te(this,o,t.data),o=l.path,s=l.root;var h=Z.expando+J(s);c.data.keywords[h]=s,u=o?h+"."+o:h}c.hash.keywordName=a,c.hash.keywordPath=u,r=this,e=o,t=c,n=!0}else k.assert("You must pass exactly one argument to the with helper",2===arguments.length),k.assert("You must pass a block to the with helper",t.fn&&t.fn!==Handlebars.VM.noop),i+=" "+e,r=t.contexts[0],n=!1;return t.helperName=i,t.isWithHelper=!0,_.call(r,e,t,n,g)}function N(e,t){return k.assert("You must pass exactly one argument to the if helper",2===arguments.length),k.assert("You must pass a block to the if helper",t.fn&&t.fn!==Handlebars.VM.noop),t.helperName=t.helperName||"if "+e,t.data.isUnbound?D.unboundIf.call(t.contexts[0],e,t):D.boundIf.call(t.contexts[0],e,t)}function I(e,t){k.assert("You must pass exactly one argument to the unless helper",2===arguments.length),k.assert("You must pass a block to the unless helper",t.fn&&t.fn!==Handlebars.VM.noop);var r=t.fn,n=t.inverse,i="unless";return e&&(i+=" "+e),t.fn=n,t.inverse=r,t.helperName=t.helperName||i,t.data.isUnbound?D.unboundIf.call(t.contexts[0],e,t):D.boundIf.call(t.contexts[0],e,t)}function S(e){var t=e.hash;k.assert("You must specify at least one hash argument to bind-attr",!!ie(t).length);var r=e.data.view,n=[],i=this||window,a=++k.uuid,o=t.class;if(null!=o){var s=R(i,o,r,a,e);n.push('class="'+Handlebars.Utils.escapeExpression(s.join(" "))+'"'),delete t.class}var l=ie(t);return U.call(l,function(o){var s,l=t[o];k.assert(H("You must provide an expression as the value of bound attribute. You specified: %@=%@",[o,l]),"string"==typeof l),s=te(i,l,e.data);var u="this"===l?s.root:re(i,l,e),c=X(u);k.assert(H("Attributes must be numbers, strings or booleans, not %@",[u]),null===u||void 0===u||"number"===c||"string"===c||"boolean"===c);var h;h=function(){var t=re(i,l,e);k.assert(H("Attributes must be numbers, strings or booleans, not %@",[t]),null===t||void 0===t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t);var n=r.$("[data-bindattr-"+a+"='"+a+"']");if(!n||0===n.length)return void G(s.root,s.path,void 0);q.applyAttributeBindings(n,o,t)},"this"===l||s.isKeyword&&""===s.path||r.registerObserver(s.root,s.path,h),"string"===c||"number"===c&&!isNaN(u)?n.push(o+'="'+Handlebars.Utils.escapeExpression(u)+'"'):u&&"boolean"===c&&n.push(o+'="'+o+'"')},this),n.push("data-bindattr-"+a+'="'+a+'"'),new M(n.join(" "))}function V(){return k.warn("The 'bindAttr' view helper is deprecated in favor of 'bind-attr'"),D["bind-attr"].apply(this,arguments)}function R(e,t,r,n,i){var a,o,s,l=[],u=function(e,t,r){var n,i=t.path;return n="this"===i?e:""===i||re(e,i,r),q._classStringForValue(i,n,t.className,t.falsyClassName)};return U.call(t.split(" "),function(t){var c,h,p,d=q._parsePropertyPath(t),f=d.path,m=e;""!==f&&"this"!==f&&(p=te(e,f,i.data),m=p.root,f=p.path),h=function(){a=u(e,d,i),s=n?r.$("[data-bindattr-"+n+"='"+n+"']"):r.$(),s&&0!==s.length?(c&&s.removeClass(c),a?(s.addClass(a),c=a):c=null):G(m,f,void 0)},""!==f&&"this"!==f&&r.registerObserver(m,f,h),(o=u(e,d,i))&&(l.push(o),c=o)}),l}var k=e.default,j=t.default,D=j.helpers,M=j.SafeString,L=r.get,H=(n.set,i.fmt),B=a.apply,F=o.create,z=s.default,U=(l.default,u.forEach),q=c.View,K=h.default,W=p._HandlebarsBoundView,Y=p.SimpleHandlebarsView,G=d.removeObserver,$=f.isGlobalPath,Q=f.bind,J=a.guidFor,X=a.typeOf,Z=m.default,ee=a.isArray,te=v.normalizePath,re=v.handlebarsGet,ne=(v.getEscaped,v.getEscaped),ie=b.default,ae=W.extend({init:function(){var e;B(this,this._super,arguments);var t=this.templateData.keywords,r=this.templateHash.keywordName,n=this.templateHash.keywordPath,i=this.templateHash.controller,a=this.preserveContext;if(i){var o=this.previousContext;if(e=this.container.lookupFactory("controller:"+i).create({parentController:o,target:o}),this._generatedController=e,a){var s=Z.expando+J(e);t[s]=e,Q(t,s+".model",n),n=s}else this.set("controller",e),this.valueNormalizerFunc=function(t){return e.set("model",t),e}}a&&Q(t,r,n)},willDestroy:function(){this._super(),this._generatedController&&this._generatedController.destroy()}});y.bind=_,y._triageMustacheHelper=C,y.resolveHelper=E,y.bindHelper=O,y.boundIfHelper=P,y.unboundIfHelper=A,y.withHelper=T,y.ifHelper=N,y.unlessHelper=I,y.bindAttrHelper=S,y.bindAttrHelperDeprecated=V,y.bindClasses=R}),e("ember-handlebars/helpers/collection",["ember-metal/core","ember-metal/utils","ember-handlebars-compiler","ember-runtime/system/string","ember-metal/property_get","ember-handlebars/ext","ember-handlebars/helpers/view","ember-metal/computed","ember-views/views/collection_view","exports"],function(e,t,r,n,i,a,o,s,l,u){"use strict";function c(e,t){h.deprecate("Using the {{collection}} helper without specifying a class has been deprecated as the {{each}} helper now supports the same functionality.","collection"!==e),e&&e.data&&e.data.isRenderData?(t=e,e=void 0,h.assert("You cannot pass more than one argument to the collection helper",1===arguments.length)):h.assert("You cannot pass more than one argument to the collection helper",2===arguments.length);var r,n,i,a=t.fn,o=t.data,s=t.inverse;t.data.view;e?(r=o.keywords.controller,n=r&&r.container,i=v(this,e,t)||n.lookupFactory("view:"+e),h.assert(f("%@ #collection: Could not find collection class %@",[o.view,e]),!!i)):i=g;var l,u,c=t.hash,y={},w=i.proto();c.itemView?(r=o.keywords.controller,h.assert('You specified an itemView, but the current context has no container to look the itemView up in. This probably means that you created a view manually, instead of through the container. Instead, use container.lookup("view:viewName"), which will properly instantiate your view.',r&&r.container),n=r.container,u=n.lookupFactory("view:"+c.itemView),h.assert("You specified the itemView "+c.itemView+", but it was not found at "+n.describe("view:"+c.itemView)+" (and it was not registered in the container)",!!u)):u=c.itemViewClass?v(w,c.itemViewClass,t):w.itemViewClass,h.assert(f("%@ #collection: Could not find itemViewClass %@",[o.view,u]),!!u),delete c.itemViewClass,delete c.itemView;for(var x in c)c.hasOwnProperty(x)&&(l=x.match(/^item(.)(.*)$/))&&"itemController"!==x&&(y[l[1].toLowerCase()+l[2]]=c[x],delete c[x]);a&&(y.template=a,delete t.fn);var C;s&&s!==p.VM.noop?(C=m(w,"emptyViewClass"),C=C.extend({template:s,tagName:y.tagName})):c.emptyViewClass&&(C=v(this,c.emptyViewClass,t)),C&&(c.emptyView=C),c.keyword?y._context=this:y._context=_("content");var E=b.propertiesFromHTMLOptions({data:o,hash:y},this);return c.itemViewClass=u.extend(E),t.helperName=t.helperName||"collection",d.view.call(this,i,t)}var h=e.default,p=(t.inspect,r.default),d=p.helpers,f=n.fmt,m=i.get,v=a.handlebarsGet,b=o.ViewHelper,y=s.computed,g=l.default,_=y.alias;u.default=c}),e("ember-handlebars/helpers/debug",["ember-metal/core","ember-metal/utils","ember-metal/logger","ember-metal/property_get","ember-handlebars/ext","exports"],function(e,t,r,n,i,a){"use strict";function o(){for(var e=p.call(arguments,0,-1),t=arguments[arguments.length-1],r=u.log,n=[],i=0;i<e.length;i++){if("ID"===t.types[i]){var a=t.contexts&&t.contexts[i]||this,o=c(a,e[i],t.data);"this"===o.path?n.push(o.root):n.push(h(o.root,o.path,t))}else n.push(e[i])}r.apply(r,n)}function s(e){var t=this;l(t)}var l=(e.default,t.inspect),u=r.default,c=(n.get,i.normalizePath),h=i.handlebarsGet,p=[].slice;a.logHelper=o,a.debuggerHelper=s}),e("ember-handlebars/helpers/each",["ember-metal/core","ember-handlebars-compiler","ember-runtime/system/string","ember-metal/property_get","ember-metal/property_set","ember-handlebars/views/metamorph_view","ember-views/views/collection_view","ember-metal/binding","ember-runtime/controllers/controller","ember-runtime/controllers/array_controller","ember-runtime/mixins/array","ember-runtime/copy","ember-metal/run_loop","ember-metal/observer","ember-metal/events","ember-handlebars/ext","ember-metal/computed","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b){"use strict";function y(){z.reopen({_checkMetamorph:B("didInsertElement",function(){_.assert("The metamorph tags, "+this.morph.start+" and "+this.morph.end+", have different parents.\nThe browser has fixed your template to output valid HTML (for example, check that you have properly closed all tags and have used a TBODY tag when creating a table with '{{#each}}')",document.getElementById(this.morph.start).parentNode===document.getElementById(this.morph.end).parentNode)})})}function g(e,t){var r,n="each";if(4===arguments.length){_.assert("If you pass more than one argument to the each helper, it must be in the form #each foo in bar","in"===arguments[1]);var i=arguments[0];t=arguments[3],e=arguments[2],n+=" "+i+" in "+e,""===e&&(e="this"),t.hash.keyword=i}else 1===arguments.length?(t=e,e="this"):n+=" "+e;if(t.hash.dataSourceBinding=e,r=this||window,t.helperName=t.helperName||n,!t.data.insideGroup||t.hash.groupedRows||t.hash.itemViewClass)return C.collection.call(r,"Ember.Handlebars.EachView",t);new U(r,e,t).render()}var _=e.default,w=_.K,x=t.default,C=x.helpers,E=r.fmt,O=n.get,P=i.set,A=a._Metamorph,T=a._MetamorphView,N=o.default,I=s.Binding,S=l.ControllerMixin,V=u.default,R=c.default,k=h.default,j=p.default,D=d.addObserver,M=d.removeObserver,L=d.addBeforeObserver,H=d.removeBeforeObserver,B=f.on,F=m.handlebarsGet,F=(v.computed,m.handlebarsGet),z=N.extend(A,{init:function(){var e,t=O(this,"itemController");if(t){var r=O(this,"controller.container").lookupFactory("controller:array").create({_isVirtual:!0,parentController:O(this,"controller"),itemController:t,target:O(this,"controller"),_eachView:this});this.disableContentObservers(function(){P(this,"content",r),e=new I("content","_eachView.dataSource").oneWay(),e.connect(r)}),P(this,"_arrayController",r)}else this.disableContentObservers(function(){e=new I("content","dataSource").oneWay(),e.connect(this)});return this._super()},_assertArrayLike:function(e){_.assert(E("The value that #each loops over must be an Array. You passed %@, but it should have been an ArrayController",[e.constructor]),!S.detect(e)||e&&e.isGenerated||e instanceof V),_.assert(E("The value that #each loops over must be an Array. You passed %@",[S.detect(e)&&void 0!==e.get("model")?E("'%@' (wrapped in %@)",[e.get("model"),e]):e]),R.detect(e))},disableContentObservers:function(e){H(this,"content",null,"_contentWillChange"),M(this,"content",null,"_contentDidChange"),e.call(this),L(this,"content",null,"_contentWillChange"),D(this,"content",null,"_contentDidChange")},itemViewClass:T,emptyViewClass:T,createChildView:function(e,t){e=this._super(e,t);var r=O(this,"keyword"),n=O(e,"content");if(r){var i=O(e,"templateData");i=k(i),i.keywords=e.cloneKeywords(),P(e,"templateData",i),i.keywords[r]=n}return n&&n.isController&&P(e,"controller",n),e},destroy:function(){if(this._super()){var e=O(this,"_arrayController");return e&&e.destroy(),this}}});!function(e){e()}(function(){y()});var U=x.GroupedEach=function(e,t,r){var n=this,i=x.normalizePath(e,t,r.data);this.context=e,this.path=t,this.options=r,this.template=r.fn,this.containingView=r.data.view,this.normalizedRoot=i.root,this.normalizedPath=i.path,this.content=this.lookupContent(),this.addContentObservers(),this.addArrayObservers(),this.containingView.on("willClearRender",function(){n.destroy()})};U.prototype={contentWillChange:function(){this.removeArrayObservers()},contentDidChange:function(){this.content=this.lookupContent(),this.addArrayObservers(),this.rerenderContainingView()},contentArrayWillChange:w,contentArrayDidChange:function(){this.rerenderContainingView()},lookupContent:function(){return F(this.normalizedRoot,this.normalizedPath,this.options)},addArrayObservers:function(){this.content&&this.content.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},removeArrayObservers:function(){this.content&&this.content.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},addContentObservers:function(){L(this.normalizedRoot,this.normalizedPath,this,this.contentWillChange),D(this.normalizedRoot,this.normalizedPath,this,this.contentDidChange)},removeContentObservers:function(){H(this.normalizedRoot,this.normalizedPath,this.contentWillChange),M(this.normalizedRoot,this.normalizedPath,this.contentDidChange)},render:function(){if(this.content){var e=this.content,t=O(e,"length"),r=this.options.data,n=this.template;r.insideEach=!0;for(var i=0;i<t;i++)n(e.objectAt(i),{data:r})}},rerenderContainingView:function(){var e=this;j.scheduleOnce("render",this,function(){e.destroyed||e.containingView.rerender()})},destroy:function(){this.removeContentObservers(),this.content&&this.removeArrayObservers(),this.destroyed=!0}},b.EachView=z,b.GroupedEach=U,b.eachHelper=g}),e("ember-handlebars/helpers/loc",["ember-runtime/system/string","exports"],function(e,t){"use strict";function r(e){return n(e)}var n=e.loc;t.default=r}),e("ember-handlebars/helpers/partial",["ember-metal/core","ember-metal/is_none","ember-handlebars/ext","ember-handlebars/helpers/binding","exports"],function(e,t,r,n,i){"use strict";function a(e,t){var r=t.contexts&&t.contexts.length?t.contexts[0]:this;if(t.helperName=t.helperName||"partial","ID"===t.types[0])return t.fn=function(t,r){s(t,c(t,e,r),r)},h.call(r,e,t,!0,o);s(r,e,t)}function o(e){return!u(e)}function s(e,t,r){var n=t.split("/"),i=n[n.length-1];n[n.length-1]="_"+i;var a=r.data.view,o=n.join("/"),s=a.templateForName(o),u=!s&&a.templateForName(t);l.assert("Unable to find partial with name '"+t+"'.",s||u),(s=s||u)(e,{data:r.data})}var l=e.default,u=t.isNone,c=r.handlebarsGet,h=n.bind;i.default=a}),e("ember-handlebars/helpers/shared",["ember-handlebars/ext","exports"],function(e,t){"use strict";function r(e){for(var t=[],r=e.contexts,i=e.roots,a=e.data,o=0,s=r.length;o<s;o++)t.push(n(i[o],r[o],{data:a}));return t}var n=e.handlebarsGet;t.default=r}),e("ember-handlebars/helpers/template",["ember-metal/core","ember-handlebars-compiler","exports"],function(e,t,r){"use strict";function n(e,t){return i.deprecate("The `template` helper has been deprecated in favor of the `partial` helper. Please use `partial` instead, which will work the same way."),t.helperName=t.helperName||"template",o.partial.apply(this,arguments)}var i=e.default,a=t.default,o=a.helpers;r.default=n}),e("ember-handlebars/helpers/unbound",["ember-handlebars-compiler","ember-handlebars/helpers/binding","ember-handlebars/ext","exports"],function(e,t,r,n){"use strict";function i(e,t){var r,n,i,a,c=arguments[arguments.length-1],h=c.data.view.container;return a=this,arguments.length>2?(c.data.isUnbound=!0,r=s(h,e)||o.helperMissing,i=r.apply(a,u.call(arguments,1)),delete c.data.isUnbound,i):(n=t.contexts&&t.contexts.length?t.contexts[0]:a,l(n,e,t))}var a=e.default,o=a.helpers,s=t.resolveHelper,l=r.handlebarsGet,u=[].slice;n.default=i}),e("ember-handlebars/helpers/view",["ember-metal/core","ember-runtime/system/object","ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-views/system/jquery","ember-views/views/view","ember-metal/binding","ember-handlebars/ext","ember-runtime/system/string","exports"],function(e,t,r,n,i,a,o,s,l,u,c){"use strict";function h(e,t){var r=t.hash,n=t.hashTypes;for(var i in r)if("ID"===n[i]){var a=r[i];v.test(i)?d.warn("You're attempting to render a view by passing "+i+"="+a+" to a view helper, but this syntax is ambiguous. You should either surround "+a+" in quotes or remove `Binding` from "+i+"."):(r[i+"Binding"]=a,n[i+"Binding"]="STRING",delete r[i],delete n[i])}r.hasOwnProperty("idBinding")&&(r.id=w(e,r.idBinding,t),n.id="STRING",delete r.idBinding,delete n.idBinding)}function p(e,t){return d.assert("The view helper only takes a single argument",arguments.length<=2),e&&e.data&&e.data.isRenderData&&(t=e,e="Ember.View"),t.helperName=t.helperName||"view",O.helper(this,e,t)}var d=e.default,f=t.default,m=r.get,v=(n.set,i.IS_BINDING),b=a.default,y=o.View,g=s.isGlobalPath,_=l.normalizePath,w=l.handlebarsGet,x=u.default,C=/^[a-z]/,E=/^view\./,O=f.create({propertiesFromHTMLOptions:function(e){var t=e.hash,r=e.data,n={},i=t.class,a=!1;t.id&&(n.elementId=t.id,a=!0),t.tag&&(n.tagName=t.tag,a=!0),i&&(i=i.split(" "),n.classNames=i,a=!0),t.classBinding&&(n.classNameBindings=t.classBinding.split(" "),a=!0),t.classNameBindings&&(void 0===n.classNameBindings&&(n.classNameBindings=[]),n.classNameBindings=n.classNameBindings.concat(t.classNameBindings.split(" ")),a=!0),t.attributeBindings&&(d.assert("Setting 'attributeBindings' via Handlebars is not allowed. Please subclass Ember.View and set it there instead."),n.attributeBindings=null,a=!0),a&&(t=b.extend({},t),delete t.id,delete t.tag,delete t.class,delete t.classBinding);var o;for(var s in t)t.hasOwnProperty(s)&&v.test(s)&&"string"==typeof t[s]&&(o=this.contextualizeBindingPath(t[s],r))&&(t[s]=o);if(n.classNameBindings)for(var l in n.classNameBindings){var u=n.classNameBindings[l];if("string"==typeof u){var c=y._parsePropertyPath(u);o=this.contextualizeBindingPath(c.path,r),o&&(n.classNameBindings[l]=o+c.classNames)}}return b.extend(t,n)},contextualizeBindingPath:function(e,t){return _(null,e,t).isKeyword?"templateData.keywords."+e:g(e)?null:"this"===e||""===e?"_parentView.context":"_parentView.context."+e},helper:function(e,t,r){var n,i=r.data,a=r.fn;h(e,r),"string"==typeof t?("STRING"===r.types[0]&&C.test(t)&&!E.test(t)?(d.assert("View requires a container",!!i.view.container),n=i.view.container.lookupFactory("view:"+t)):n=w(e,t,r),d.assert("Unable to find view at path '"+t+"'",!!n)):n=t,d.assert(x.fmt("You must pass a view to the #view helper, not %@ (%@)",[t,n]),y.detect(n)||y.detectInstance(n));var o=this.propertiesFromHTMLOptions(r,e),s=i.view;o.templateData=i;var l=n.proto?n.proto():n;a&&(d.assert("You cannot provide a template block if you also specified a templateName",!m(o,"templateName")&&!m(l,"templateName")),o.template=a),l.controller||l.controllerBinding||o.controller||o.controllerBinding||(o._context=e),r.helperName&&(o.helperName=r.helperName),s.appendChild(n,o)}});c.ViewHelper=O,c.viewHelper=p}),e("ember-handlebars/helpers/yield",["ember-metal/core","ember-metal/property_get","exports"],function(e,t,r){"use strict";function n(e){for(var t=e.data.view;t&&!a(t,"layout");)t=t._contextView?t._contextView:a(t,"_parentView");i.assert("You called yield in a template that was not a layout",!!t),t._yield(this,e)}var i=e.default,a=t.get;r.default=n}),e("ember-handlebars/loader",["ember-handlebars/component_lookup","ember-views/system/jquery","ember-metal/error","ember-runtime/system/lazy_load","ember-handlebars-compiler","exports"],function(e,t,r,n,a,o){"use strict";function s(e){h('script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]',e).each(function(){var e=h(this),t="text/x-raw-handlebars"===e.attr("type")?h.proxy(Handlebars.compile,Handlebars):h.proxy(f.compile,f),r=e.attr("data-template-name")||e.attr("id")||"application",n=t(e.html());if(void 0!==i.TEMPLATES[r])throw new p('Template named "'+r+'" already exists.');i.TEMPLATES[r]=n,e.remove()})}function l(){s(h(document))}function u(e){e.register("component-lookup:main",c)}var c=e.default,h=t.default,p=r.default,d=n.onLoad,f=a.default;d("Ember.Application",function(e){e.initializer({name:"domTemplates",initialize:l}),e.initializer({name:"registerComponentLookup",after:"domTemplates",initialize:u})}),o.default=s}),e("ember-handlebars",["ember-handlebars-compiler","ember-metal/core","ember-runtime/system/lazy_load","ember-handlebars/loader","ember-handlebars/ext","ember-handlebars/string","ember-handlebars/helpers/shared","ember-handlebars/helpers/binding","ember-handlebars/helpers/collection","ember-handlebars/helpers/view","ember-handlebars/helpers/unbound","ember-handlebars/helpers/debug","ember-handlebars/helpers/each","ember-handlebars/helpers/template","ember-handlebars/helpers/partial","ember-handlebars/helpers/yield","ember-handlebars/helpers/loc","ember-handlebars/controls/checkbox","ember-handlebars/controls/select","ember-handlebars/controls/text_area","ember-handlebars/controls/text_field","ember-handlebars/controls/text_support","ember-handlebars/controls","ember-handlebars/component_lookup","ember-handlebars/views/handlebars_bound_view","ember-handlebars/views/metamorph_view","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b,y,g,_,w,x,C,E,O,P){"use strict";var A=e.default,T=t.default,N=r.runLoadHooks,I=n.default,S=i.normalizePath,V=i.template,R=i.makeBoundHelper,k=i.registerBoundHelper,j=i.resolveHash,D=i.resolveParams,M=i.getEscaped,L=i.handlebarsGet,H=i.evaluateUnboundHelper,B=i.helperMissingHelper,F=i.blockHelperMissingHelper,z=o.default,U=s.bind,q=s._triageMustacheHelper,K=s.resolveHelper,W=s.bindHelper,Y=s.boundIfHelper,G=s.unboundIfHelper,$=s.withHelper,Q=s.ifHelper,J=s.unlessHelper,X=s.bindAttrHelper,Z=s.bindAttrHelperDeprecated,ee=s.bindClasses,te=l.default,re=u.ViewHelper,ne=u.viewHelper,ie=c.default,ae=h.logHelper,oe=h.debuggerHelper,se=p.EachView,le=p.GroupedEach,ue=p.eachHelper,ce=d.default,he=f.default,pe=m.default,de=v.default,fe=b.default,me=y.Select,ve=y.SelectOption,be=y.SelectOptgroup,ye=g.default,ge=_.default,_e=w.default,_e=w.default,we=x.inputHelper,xe=x.textareaHelper,Ce=C.default,Ee=E._HandlebarsBoundView,Oe=E.SimpleHandlebarsView,Pe=O._SimpleMetamorphView,Ae=O._MetamorphView,Te=O._Metamorph;A.bootstrap=I,A.template=V,A.makeBoundHelper=R,A.registerBoundHelper=k,A.resolveHash=j,A.resolveParams=D,A.resolveHelper=K,A.get=L,A.getEscaped=M,A.evaluateUnboundHelper=H,A.bind=U,A.bindClasses=ee,A.EachView=se,A.GroupedEach=le,A.resolvePaths=z,A.ViewHelper=re,A.normalizePath=S,T.Handlebars=A,T.ComponentLookup=Ce,T._SimpleHandlebarsView=Oe,T._HandlebarsBoundView=Ee,T._SimpleMetamorphView=Pe,T._MetamorphView=Ae,T._Metamorph=Te,T.TextSupport=_e,T.Checkbox=fe,T.Select=me,T.SelectOption=ve,T.SelectOptgroup=be,T.TextArea=ye,T.TextField=ge,T.TextSupport=_e,A.registerHelper("helperMissing",B),A.registerHelper("blockHelperMissing",F),A.registerHelper("bind",W),A.registerHelper("boundIf",Y),A.registerHelper("_triageMustache",q),A.registerHelper("unboundIf",G),A.registerHelper("with",$),A.registerHelper("if",Q),A.registerHelper("unless",J),A.registerHelper("bind-attr",X),A.registerHelper("bindAttr",Z),A.registerHelper("collection",te),A.registerHelper("log",ae),A.registerHelper("debugger",oe),A.registerHelper("each",ue),A.registerHelper("loc",de),A.registerHelper("partial",he),A.registerHelper("template",ce),A.registerHelper("yield",pe),A.registerHelper("view",ne),A.registerHelper("unbound",ie),A.registerHelper("input",we),A.registerHelper("textarea",xe),A.registerHelper("ifeq",function(e,t,r){return T.Handlebars.bind.call(r.contexts[0],e,r,!0,function(e){return e===t})}),N("Ember.Handlebars",A),P.default=A}),e("ember-handlebars/string",["ember-runtime/system/string","exports"],function(e,t){"use strict";function r(e){return new Handlebars.SafeString(e)}e.default.htmlSafe=r,(!0===i.EXTEND_PROTOTYPES||i.EXTEND_PROTOTYPES.String)&&(String.prototype.htmlSafe=function(){return r(this)}),t.default=r}),e("ember-handlebars/views/handlebars_bound_view",["ember-handlebars-compiler","ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-metal/run_loop","ember-metal/computed","ember-views/views/view","ember-views/views/states","ember-handlebars/views/metamorph_view","ember-handlebars/ext","exports"],function(e,r,n,i,a,o,s,l,u,c,h,p,d){"use strict";function f(e,t,r,n){this.path=e,this.pathRoot=t,this.isEscaped=r,this.templateData=n,this.morph=g(),this.state="preRender",this.updateId=null,this._parentView=null,this.buffer=null}var m=e.default,v=m.SafeString,b=r.default,y=b.K,g=t("metamorph"),_=n.default,w=i.get,x=a.set,C=o.default,E=s.default,O=(l.computed,u.View,c.cloneStates),P=c.states,A=P,T=h._MetamorphView,N=p.handlebarsGet;f.prototype={isVirtual:!0,isView:!0,destroy:function(){this.updateId&&(E.cancel(this.updateId),this.updateId=null),this._parentView&&this._parentView.removeChild(this),this.morph=null,this.state="destroyed"},propertyWillChange:y,propertyDidChange:y,normalizedValue:function(){var e,t,r=this.path,n=this.pathRoot;return""===r?e=n:(t=this.templateData,e=N(n,r,{data:t})),e},renderToBuffer:function(e){var t="";t+=this.morph.startTag(),t+=this.render(),t+=this.morph.endTag(),e.push(t)},render:function(){var e=this.isEscaped,t=this.normalizedValue();return null===t||void 0===t?t="":t instanceof v||(t=String(t)),e&&(t=Handlebars.Utils.escapeExpression(t)),t},rerender:function(){switch(this.state){case"preRender":case"destroyed":break;case"inBuffer":throw new _("Something you did tried to replace an {{expression}} before it was inserted into the DOM.");case"hasElement":case"inDOM":this.updateId=E.scheduleOnce("render",this,"update")}return this},update:function(){this.updateId=null,this.morph.html(this.render())},transitionTo:function(e){this.state=e}};var P=O(A);C(P._default,{rerenderIfNeeded:y}),C(P.inDOM,{rerenderIfNeeded:function(e){e.normalizedValue()!==e._lastNormalizedValue&&e.rerender()}});var I=T.extend({states:P,instrumentName:"boundHandlebars",shouldDisplayFunc:null,preserveContext:!1,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,normalizedValue:function(){var e,t,r=w(this,"path"),n=w(this,"pathRoot"),i=w(this,"valueNormalizerFunc");return""===r?e=n:(t=w(this,"templateData"),e=N(n,r,{data:t})),i?i(e):e},rerenderIfNeeded:function(){this.currentState.rerenderIfNeeded(this)},render:function(e){var t=w(this,"isEscaped"),r=w(this,"shouldDisplayFunc"),n=w(this,"preserveContext"),i=w(this,"previousContext"),a=w(this,"inverseTemplate"),o=w(this,"displayTemplate"),s=this.normalizedValue();if(this._lastNormalizedValue=s,r(s))if(x(this,"template",o),n)x(this,"_context",i);else{if(!o)return null===s||void 0===s?s="":s instanceof v||(s=String(s)),t&&(s=Handlebars.Utils.escapeExpression(s)),void e.push(s);x(this,"_context",s)}else a?(x(this,"template",a),n?x(this,"_context",i):x(this,"_context",s)):x(this,"template",function(){return""});return this._super(e)}});d._HandlebarsBoundView=I,d.SimpleHandlebarsView=f}),e("ember-handlebars/views/metamorph_view",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-metal/mixin","ember-metal/run_loop","exports"],function(e,r,n,i,a,o,s){"use strict";function l(){d.once(h,"notifyMutationListeners")}var u=e.default,c=(r.get,n.default,i.CoreView),h=i.View,p=a.Mixin,d=o.default,f=t("metamorph"),m={remove:function(e){e.morph.remove(),l()},prepend:function(e,t){e.morph.prepend(t),l()},after:function(e,t){e.morph.after(t),l()},html:function(e,t){e.morph.html(t),l()},replace:function(e){var t=e.morph;e.transitionTo("preRender"),d.schedule("render",this,function(){if(!e.isDestroying){e.clearRenderedChildren();var r=e.renderToBuffer();e.invokeRecursively(function(e){e.propertyWillChange("element")}),e.triggerRecursively("willInsertElement"),t.replaceWith(r.string()),e.transitionTo("inDOM"),e.invokeRecursively(function(e){e.propertyDidChange("element")}),e.triggerRecursively("didInsertElement"),l()}})},empty:function(e){e.morph.html(""),l()}},v=p.create({isVirtual:!0,tagName:"",instrumentName:"metamorph",init:function(){this._super(),this.morph=f(),u.deprecate("Supplying a tagName to Metamorph views is unreliable and is deprecated. You may be setting the tagName on a Handlebars helper that creates a Metamorph.",!this.tagName)},beforeRender:function(e){e.push(this.morph.startTag()),e.pushOpeningTag()},afterRender:function(e){e.pushClosingTag(),e.push(this.morph.endTag())},createElement:function(){var e=this.renderToBuffer();this.outerHTML=e.string(),this.clearBuffer()},domManager:m}),b=h.extend(v),y=c.extend(v);s._SimpleMetamorphView=y,s._MetamorphView=b,s._Metamorph=v})}(),function(){e("ember-routing/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-runtime/controllers/controller","exports"],function(e,t,r,n,i,a){"use strict";var o=e.default,s=t.get,l=(r.set,n.default),u=(l.map,i.ControllerMixin);u.reopen({transitionToRoute:function(){var e=s(this,"target");return(e.transitionToRoute||e.transitionTo).apply(e,arguments)},transitionTo:function(){return o.deprecate("transitionTo is deprecated. Please use transitionToRoute."),this.transitionToRoute.apply(this,arguments)},replaceRoute:function(){var e=s(this,"target");return(e.replaceRoute||e.replaceWith).apply(e,arguments)},replaceWith:function(){return o.deprecate("replaceWith is deprecated. Please use replaceRoute."),this.replaceRoute.apply(this,arguments)}}),a.default=u}),e("ember-routing/ext/run_loop",["ember-metal/run_loop"],function(e){"use strict";var t=e.default;t.queues;t._addQueue("routerTransitions","actions")}),e("ember-routing/ext/view",["ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-views/views/view","exports"],function(e,t,r,n,i){"use strict";var a=e.get,o=t.set,s=r.default,l=n.View;l.reopen({init:function(){o(this,"_outlets",{}),this._super()},connectOutlet:function(e,t){if(this._pendingDisconnections&&delete this._pendingDisconnections[e],this._hasEquivalentView(e,t))return void t.destroy();var r=a(this,"_outlets"),n=a(this,"container"),i=n&&n.lookup("router:main"),s=a(t,"renderedName");o(r,e,t),i&&s&&i._connectActiveView(s,t)},_hasEquivalentView:function(e,t){var r=a(this,"_outlets."+e);return r&&r.constructor===t.constructor&&r.get("template")===t.get("template")&&r.get("context")===t.get("context")},disconnectOutlet:function(e){this._pendingDisconnections||(this._pendingDisconnections={}),this._pendingDisconnections[e]=!0,s.once(this,"_finishDisconnections")},_finishDisconnections:function(){if(!this.isDestroyed){var e=a(this,"_outlets"),t=this._pendingDisconnections;this._pendingDisconnections=null;for(var r in t)o(e,r,null)}}}),i.default=l}),e("ember-routing/helpers/action",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/run_loop","ember-views/system/utils","ember-handlebars","ember-routing/system/router","ember-handlebars/ext","ember-handlebars/helpers/view","ember-routing/helpers/shared","exports"],function(e,t,r,n,i,a,o,s,l,u,c){"use strict";function h(e,t){var r=[];t&&r.push(t);var n=e.options.types.slice(1),i=e.options.data;return r.concat(g(e.context,e.params,{types:n,data:i}))}function p(e){var t=arguments[arguments.length-1],r=w.call(arguments,1,-1),n=t.hash,i=t.data.keywords.controller,a={eventName:n.on||"click",parameters:{context:this,options:t,params:r},view:t.data.view,bubbles:n.bubbles,preventDefault:n.preventDefault,target:{options:t},boundProperty:"ID"===t.types[0]};n.target?(a.target.root=this,a.target.target=n.target):i&&(a.target.root=i)
;var o=x.registerAction(e,a,n.allowedKeys);return new _('data-ember-action="'+o+'"')}var d=e.default,f=(t.get,r.forEach),m=n.default,v=i.isSimpleClick,b=a.default,b=(o.default,a.default),y=s.handlebarsGet,g=(l.viewHelper,u.resolveParams),_=(u.resolvePath,b.SafeString),w=Array.prototype.slice,x={registeredActions:{}},C=["alt","shift","meta","ctrl"],E=/^click|mouse|touch/,O=function(e,t){if(void 0===t){if(E.test(e.type))return v(e);t=""}if(t.indexOf("any")>=0)return!0;var r=!0;return f.call(C,function(n){e[n+"Key"]&&-1===t.indexOf(n)&&(r=!1)}),r};x.registerAction=function(e,t,r){var n=++d.uuid;return x.registeredActions[n]={eventName:t.eventName,handler:function(n){if(!O(n,r))return!0;!1!==t.preventDefault&&n.preventDefault(),!1===t.bubbles&&n.stopPropagation();var i,a=t.target,o=t.parameters;a=a.target?y(a.root,a.target,a.options):a.root,t.boundProperty&&(void 0!==(i=g(o.context,[e],{types:["ID"],data:o.options.data})[0])&&"function"!=typeof i||(d.assert("You specified a quoteless path to the {{action}} helper '"+e+"' which did not resolve to an actionName. Perhaps you meant to use a quoted actionName? (e.g. {{action '"+e+"'}}).",!0),i=e)),i||(i=e),m(function(){a.send?a.send.apply(a,h(o,i)):(d.assert("The action '"+i+"' did not exist on "+a,"function"==typeof a[i]),a[i].apply(a,h(o)))})}},t.view.on("willClearRender",function(){delete x.registeredActions[n]}),n},c.ActionHelper=x,c.actionHelper=p}),e("ember-routing/helpers/link_to",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-metal/run_loop","ember-metal/computed","ember-runtime/system/lazy_load","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/keys","ember-views/system/utils","ember-views/views/view","ember-handlebars","ember-handlebars/helpers/view","ember-routing/system/router","ember-routing/helpers/shared","exports"],function(e,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b){"use strict";function y(e,t){var r=e.parameters,n=E(e,"queryParamsObject"),i={};n&&O(i,n.values);for(var a=E(e,"resolvedParams"),o=E(e,"router"),s=a[0],l=o._queryParamsFor(s),u=l.qps,c={},h=0,p=u.length;h<p;++h){var d,f=u[h],m=null;if(f.prop in i?(d=i[f.prop],m=n.types[f.prop],delete i[f.prop]):f.urlKey in i&&(d=i[f.urlKey],m=n.types[f.urlKey],delete i[f.urlKey]),m){if("ID"===m){var v=R.normalizePath(r.context,d,r.options.data);d=R.get(v.root,v.path,r.options)}d=f.route.serializeQueryParam(d,f.urlKey,f.type)}else d=f.svalue;t&&d===f.sdef||(c[f.urlKey]=d)}return c}function g(e){var t=e.get("routeArgs");return t[t.length-1].queryParams?(t=t.slice(),t[t.length-1]={queryParams:y(e,!0)},t):t}function _(e){var t=e.options.types,r=e.options.data;return D(e.context,e.params,{types:t,data:r})}function w(e){var t=M.call(arguments,-1)[0],r=M.call(arguments,0,-1),n=t.hash;if(r[r.length-1]instanceof H&&(n.queryParamsObject=r.pop()),n.disabledBinding=n.disabledWhen,!t.fn){var i=r.shift(),a=this;"ID"===t.types.shift()?(t.linkTextPath=i,t.fn=function(){return R.getEscaped(a,i,t)}):t.fn=function(){return i}}return n.parameters={context:this,options:t,params:r},t.helperName=t.helperName||"link-to",k.call(this,B,t)}function x(){return C.warn("The 'linkTo' view helper is deprecated in favor of 'link-to'"),w.apply(this,arguments)}var C=e.default,E=r.get,O=(n.set,i.default),P=a.default,A=o.computed,T=(s.onLoad,l.fmt),N=u.default,I=c.default,S=h.isSimpleClick,V=p.View,R=d.default,k=f.viewHelper,j=(m.default,v.resolveParams),D=v.resolvePaths,M=[].slice;t("ember-handlebars");var L=function(e,t){for(var r=0,n=0,i=t.length;n<i&&(r+=t[n].names.length,t[n].handler!==e);n++);return r},H=N.extend({values:null}),B=C.LinkView=V.extend({tagName:"a",currentWhen:null,title:null,rel:null,activeClass:"active",loadingClass:"loading",disabledClass:"disabled",_isDisabled:!1,replace:!1,attributeBindings:["href","title","rel"],classNameBindings:["active","loading","disabled"],eventName:"click",init:function(){this._super.apply(this,arguments);var e=E(this,"eventName");this.on(e,this,this._invoke)},_paramsChanged:function(){this.notifyPropertyChange("resolvedParams")},_setupPathObservers:function(){var e,t,r,n=this.parameters,i=n.options.linkTextPath,a=_(n),o=a.length;for(i&&(r=R.normalizePath(n.context,i,n.options.data),this.registerObserver(r.root,r.path,this,this.rerender)),t=0;t<o;t++)null!==(e=a[t])&&(r=R.normalizePath(n.context,e,n.options.data),this.registerObserver(r.root,r.path,this,this._paramsChanged));var s=this.queryParamsObject;if(s){var l=s.values;for(var u in l)l.hasOwnProperty(u)&&"ID"===s.types[u]&&(r=R.normalizePath(n.context,l[u],n.options.data),this.registerObserver(r.root,r.path,this,this._paramsChanged))}},afterRender:function(){this._super.apply(this,arguments),this._setupPathObservers()},concreteView:A(function(){return E(this,"parentView")}).property("parentView"),disabled:A(function(e,t){return void 0!==t&&this.set("_isDisabled",t),!!t&&E(this,"disabledClass")}),active:A(function(){if(E(this,"loading"))return!1;var e=E(this,"router"),t=E(this,"routeArgs"),r=t.slice(1),n=(E(this,"resolvedParams"),this.currentWhen||t[0]),i=L(n,e.router.recognizer.handlersFor(n));return r.length>i&&(n=t[0]),e.isActive.apply(e,[n].concat(r))?E(this,"activeClass"):void 0}).property("resolvedParams","routeArgs"),loading:A(function(){if(!E(this,"routeArgs"))return E(this,"loadingClass")}).property("routeArgs"),router:A(function(){return E(this,"controller").container.lookup("router:main")}),_invoke:function(e){if(!S(e))return!0;if(!1!==this.preventDefault&&e.preventDefault(),!1===this.bubbles&&e.stopPropagation(),E(this,"_isDisabled"))return!1;if(E(this,"loading"))return C.Logger.warn("This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid."),!1;var t,r=E(this,"router"),n=E(this,"routeArgs");t=E(this,"replace")?r.replaceWith.apply(r,n):r.transitionTo.apply(r,n);var i=r.router.generate.apply(r.router,g(this));P.scheduleOnce("routerTransitions",this,this._eagerUpdateUrl,t,i)},_eagerUpdateUrl:function(e,t){if(e.isActive&&e.urlMethod){0===t.indexOf("#")&&(t=t.slice(1));var r=E(this,"router.router");"update"===e.urlMethod?r.updateURL(t):"replace"===e.urlMethod&&r.replaceURL(t),e.method(null)}},resolvedParams:A(function(){var e=this.parameters,t=e.options,r=t.types,n=t.data;if(0===e.params.length){var i=this.container.lookup("controller:application");return[E(i,"currentRouteName")]}return j(e.context,e.params,{types:r,data:n})}).property("router.url"),routeArgs:A(function(){var e=E(this,"resolvedParams").slice(0),t=E(this,"router"),r=e[0];if(r){C.assert(T("The attempt to link-to route '%@' failed. The router did not find '%@' in its possible routes: '%@'",[r,r,I(t.router.recognizer.names).join("', '")]),t.hasRoute(r));var n=t.router.recognizer.handlersFor(r);r!==n[n.length-1].handler&&(this.currentWhen||this.set("currentWhen",r),r=n[n.length-1].handler,e[0]=r);for(var i=1,a=e.length;i<a;++i){var o=e[i];if(null===o||void 0===o)return}return e}}).property("resolvedParams","queryParams"),queryParamsObject:null,queryParams:A(function(){return y(this,!1)}).property("resolvedParams.[]"),href:A(function(){if("a"===E(this,"tagName")){var e=E(this,"router"),t=E(this,"routeArgs");return t?e.generate.apply(e,t):E(this,"loadingHref")}}).property("routeArgs"),loadingHref:"#"});B.toString=function(){return"LinkView"},b.LinkView=B,b.deprecatedLinkToHelper=x,b.linkToHelper=w}),e("ember-routing/helpers/outlet",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-views/views/container_view","ember-handlebars/views/metamorph_view","ember-handlebars/helpers/view","exports"],function(e,t,r,n,i,a,o,s){"use strict";function l(e,t){var r,n,i,a,o;for(e&&e.data&&e.data.isRenderData&&(t=e,e="main"),n=t.data.view.container,r=t.data.view;!r.get("template.isTop");)r=r.get("_parentView");return i=t.hash.view,i&&(o="view:"+i,u.assert("Using a quoteless view parameter with {{outlet}} is not supported. Please update to quoted usage '{{outlet \""+i+'"}}.',"ID"!==t.hashTypes.view),u.assert("The view name you supplied '"+i+"' did not resolve to a view.",n.has(o))),a=i?n.lookupFactory(o):t.hash.viewClass||d,t.data.view.set("outletSource",r),t.hash.currentViewBinding="_view.outletSource._outlets."+e,t.helperName=t.helperName||"outlet",p.call(this,a,t)}var u=e.default,c=(t.get,r.set,n.onLoad,i.default),h=a._Metamorph,p=o.viewHelper,d=c.extend(h);s.outletHelper=l,s.OutletView=d}),e("ember-routing/helpers/render",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-routing/system/controller_for","ember-handlebars/ext","ember-handlebars/helpers/view","exports"],function(e,t,r,n,i,a,o,s,l){"use strict";function u(e,t,r){var n,i,a,o,s,l=arguments.length;if(n=(r||t).data.keywords.controller.container,i=n.lookup("router:main"),2===l)r=t,t=void 0,c.assert('You can only use the {{render}} helper once without a model object as its second argument, as in {{render "post" post}}.',!i||!i._lookupActiveView(e));else{if(3!==l)throw h("You must pass a templateName to render");s=m(r.contexts[1],t,r)}c.deprecate("Using a quoteless parameter with {{render}} is deprecated. Please update to quoted usage '{{render \""+e+'"}}.',"ID"!==r.types[0]),e=e.replace(/\//g,"."),o=n.lookup("view:"+e)||n.lookup("view:default");var u=r.hash.controller||e,b="controller:"+u;r.hash.controller&&c.assert("The controller name you supplied '"+u+"' did not resolve to a controller.",n.has(b));var y=r.data.keywords.controller;if(l>2){var g=n.lookupFactory(b)||d(n,u,s);a=g.create({model:s,parentController:y,target:y}),o.one("willDestroyElement",function(){a.destroy()})}else a=n.lookup(b)||f(n,u),a.setProperties({target:y,parentController:y});var _=r.contexts[1];_&&o.registerObserver(_,t,function(){a.set("model",m(_,t,r))}),r.hash.viewName=p(e);var w="template:"+e;c.assert("You used `{{render '"+e+"'}}`, but '"+e+"' can not be found as either a template or a view.",n.has("view:"+e)||n.has(w)||r.fn),r.hash.template=n.lookup(w),r.hash.controller=a,i&&!s&&i._connectActiveView(e,o),r.helperName=r.helperName||'render "'+e+'"',v.call(this,o,r)}var c=e.default,h=t.default,p=(r.get,n.set,i.camelize),d=a.generateControllerFactory,f=a.generateController,m=o.handlebarsGet,v=s.viewHelper;l.default=u}),e("ember-routing/helpers/shared",["ember-metal/property_get","ember-metal/array","ember-runtime/system/lazy_load","ember-runtime/controllers/controller","ember-routing/system/router","ember-handlebars/ext","exports"],function(e,t,r,n,i,a,o){"use strict";function s(e,t,r){return c.call(l(e,t,r),function(n,i){return null===n?t[i]:d(e,n,r)})}function l(e,t,r){function n(e,t){return"controller"===t?t:h.detect(e)?n(u(e,"model"),t?t+".model":"model"):t}var i=p(e,t,r),a=r.types;return c.call(i,function(e,r){return"ID"===a[r]?n(e,t[r]):null})}var u=e.get,c=t.map,h=(r.onLoad,n.ControllerMixin),p=(i.default,a.resolveParams),d=a.handlebarsGet;o.resolveParams=s,o.resolvePaths=l}),e("ember-routing/location/api",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,r,n){"use strict";var i=e.default,a=(t.get,r.set,{create:function(e){var t=e&&e.implementation;i.assert("Ember.Location.create: you must specify a 'implementation' option",!!t);var r=this.implementations[t];return i.assert("Ember.Location.create: "+t+" is not a valid implementation",!!r),r.create.apply(r,arguments)},registerImplementation:function(e,t){i.deprecate("Using the Ember.Location.registerImplementation is no longer supported. Register your custom location implementation with the container instead.",!1),this.implementations[e]=t},implementations:{},_location:window.location,_getHash:function(){var e=(this._location||this.location).href,t=e.indexOf("#");return-1===t?"":e.substr(t)}});n.default=a}),e("ember-routing/location/auto_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-routing/location/api","ember-routing/location/history_location","ember-routing/location/hash_location","ember-routing/location/none_location","exports"],function(e,t,r,n,i,a,o,s){"use strict";var l=e.default,u=(t.get,r.set),c=n.default,h=i.default,p=a.default,d=o.default,f={cancelRouterSetup:!1,rootURL:"/",_window:window,_location:window.location,_history:window.history,_HistoryLocation:h,_HashLocation:p,_NoneLocation:d,_getOrigin:function(){var e=this._location,t=e.origin;return t||(t=e.protocol+"//"+e.hostname,e.port&&(t+=":"+e.port)),t},_getSupportsHistory:function(){var e=this._window.navigator.userAgent;return(-1===e.indexOf("Android 2")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome"))&&!!(this._history&&"pushState"in this._history)},_getSupportsHashChange:function(){var e=this._window,t=e.document.documentMode;return"onhashchange"in e&&(void 0===t||t>7)},_replacePath:function(e){this._location.replace(this._getOrigin()+e)},_getRootURL:function(){return this.rootURL},_getPath:function(){var e=this._location.pathname;return"/"!==e.charAt(0)&&(e="/"+e),e},_getHash:c._getHash,_getQuery:function(){return this._location.search},_getFullPath:function(){return this._getPath()+this._getQuery()+this._getHash()},_getHistoryPath:function(){var e,t,r=this._getRootURL(),n=this._getPath(),i=this._getHash(),a=this._getQuery(),o=n.indexOf(r);return l.assert("Path "+n+" does not start with the provided rootURL "+r,0===o),"#/"===i.substr(0,2)?(t=i.substr(1).split("#"),e=t.shift(),"/"===n.slice(-1)&&(e=e.substr(1)),n+=e,n+=a,t.length&&(n+="#"+t.join("#"))):(n+=a,n+=i),n},_getHashPath:function(){var e=this._getRootURL(),t=e,r=this._getHistoryPath(),n=r.substr(e.length);return""!==n&&("/"!==n.charAt(0)&&(n="/"+n),t+="#"+n),t},create:function(e){e&&e.rootURL&&(l.assert('rootURL must end with a trailing forward slash e.g. "/app/"',"/"===e.rootURL.charAt(e.rootURL.length-1)),this.rootURL=e.rootURL);var t,r,n=!1,i=this._NoneLocation,a=this._getFullPath();this._getSupportsHistory()?(t=this._getHistoryPath(),a===t?i=this._HistoryLocation:(n=!0,this._replacePath(t))):this._getSupportsHashChange()&&(r=this._getHashPath(),a===r||"/"===a&&"/#/"===r?i=this._HashLocation:(n=!0,this._replacePath(r)));var o=i.create.apply(i,arguments);return n&&u(o,"cancelRouterSetup",!0),o}};s.default=f}),e("ember-routing/location/hash_location",["ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/object","ember-routing/location/api","ember-views/system/jquery","exports"],function(e,t,r,n,i,a,o,s){"use strict";var l=e.get,u=t.set,c=r.default,h=n.guidFor,p=i.default,d=a.default,f=o.default,m=p.extend({implementation:"hash",init:function(){u(this,"location",l(this,"_location")||window.location)},getHash:d._getHash,getURL:function(){return this.getHash().substr(1)},setURL:function(e){l(this,"location").hash=e,u(this,"lastSetURL",e)},replaceURL:function(e){l(this,"location").replace("#"+e),u(this,"lastSetURL",e)},onUpdateURL:function(e){var t=this,r=h(this);f(window).on("hashchange.ember-location-"+r,function(){c(function(){var r=t.getURL();l(t,"lastSetURL")!==r&&(u(t,"lastSetURL",null),e(r))})})},formatURL:function(e){return"#"+e},willDestroy:function(){var e=h(this);f(window).off("hashchange.ember-location-"+e)}});s.default=m}),e("ember-routing/location/history_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/object","ember-views/system/jquery","exports"],function(e,t,r,n,i,a,o){"use strict";var s=(e.default,t.get),l=r.set,u=n.guidFor,c=i.default,h=a.default,p=!1,d=window.history&&"state"in window.history,f=c.extend({implementation:"history",init:function(){l(this,"location",s(this,"location")||window.location),l(this,"baseURL",h("base").attr("href")||"")},initState:function(){l(this,"history",s(this,"history")||window.history),this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var e=s(this,"rootURL"),t=s(this,"location"),r=t.pathname,n=s(this,"baseURL");return e=e.replace(/\/$/,""),n=n.replace(/\/$/,""),r.replace(n,"").replace(e,"")},setURL:function(e){var t=this.getState();e=this.formatURL(e),t&&t.path===e||this.pushState(e)},replaceURL:function(e){var t=this.getState();e=this.formatURL(e),t&&t.path===e||this.replaceState(e)},getState:function(){return d?s(this,"history").state:this._historyState},pushState:function(e){var t={path:e};s(this,"history").pushState(t,null,e),d||(this._historyState=t),this._previousURL=this.getURL()},replaceState:function(e){var t={path:e};s(this,"history").replaceState(t,null,e),d||(this._historyState=t),this._previousURL=this.getURL()},onUpdateURL:function(e){var t=u(this),r=this;h(window).on("popstate.ember-location-"+t,function(t){(p||(p=!0,r.getURL()!==r._previousURL))&&e(r.getURL())})},formatURL:function(e){var t=s(this,"rootURL"),r=s(this,"baseURL");return""!==e?(t=t.replace(/\/$/,""),r=r.replace(/\/$/,"")):r.match(/^\//)&&t.match(/^\//)&&(r=r.replace(/\/$/,"")),r+t+e},willDestroy:function(){var e=u(this);h(window).off("popstate.ember-location-"+e)}});o.default=f}),e("ember-routing/location/none_location",["ember-metal/property_get","ember-metal/property_set","ember-runtime/system/object","exports"],function(e,t,r,n){"use strict";var i=e.get,a=t.set,o=r.default,s=o.extend({implementation:"none",path:"",getURL:function(){return i(this,"path")},setURL:function(e){a(this,"path",e)},onUpdateURL:function(e){this.updateCallback=e},handleURL:function(e){a(this,"path",e),this.updateCallback(e)},formatURL:function(e){return e}});n.default=s}),e("ember-routing",["ember-handlebars","ember-metal/core","ember-routing/ext/run_loop","ember-routing/ext/controller","ember-routing/ext/view","ember-routing/helpers/shared","ember-routing/helpers/link_to","ember-routing/location/api","ember-routing/location/none_location","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/system/controller_for","ember-routing/system/dsl","ember-routing/system/router","ember-routing/system/route","ember-routing/helpers/outlet","ember-routing/helpers/render","ember-routing/helpers/action","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b,y,g){"use strict";var _=e.default,w=t.default,x=a.resolvePaths,C=a.resolveParams,E=o.deprecatedLinkToHelper,O=o.linkToHelper,P=o.LinkView,A=s.default,T=l.default,N=u.default,I=c.default,S=h.default,V=p.controllerFor,R=p.generateControllerFactory,k=p.generateController,j=d.default,D=f.default,M=m.default,L=v.outletHelper,H=v.OutletView,B=b.default,F=y.ActionHelper,z=y.actionHelper;w.Location=A,w.AutoLocation=S,w.HashLocation=N,w.HistoryLocation=I,w.NoneLocation=T,w.controllerFor=V,w.generateControllerFactory=R,w.generateController=k,w.RouterDSL=j,w.Router=D,w.Route=M,w.LinkView=P,D.resolveParams=C,D.resolvePaths=x,_.ActionHelper=F,_.OutletView=H,_.registerHelper("render",B),_.registerHelper("action",z),_.registerHelper("outlet",L),_.registerHelper("link-to",O),_.registerHelper("linkTo",E),g.default=w}),e("ember-routing/system/controller_for",["ember-metal/core","ember-metal/property_get","ember-metal/utils","exports"],function(e,t,r,n){"use strict";var i=e.default,a=t.get,o=r.isArray,s=function(e,t,r){return e.lookup("controller:"+t,r)},l=function(e,t,r){var n,i,a,s;return s=r&&o(r)?"array":r?"object":"basic",a="controller:"+s,n=e.lookupFactory(a).extend({isGenerated:!0,toString:function(){return"(generated "+t+" controller)"}}),i="controller:"+t,e.register(i,n),n},u=function(e,t,r){l(e,t,r);var n="controller:"+t,o=e.lookup(n);return a(o,"namespace.LOG_ACTIVE_GENERATION")&&i.Logger.info("generated -> "+n,{fullName:n}),o};n.controllerFor=s,n.generateControllerFactory=l,n.generateController=u}),e("ember-routing/system/dsl",["ember-metal/core","exports"],function(e,t){"use strict";function r(e){this.parent=e,this.matches=[]}function n(e,t,r){i.assert("You must use `this.resource` to nest","function"!=typeof r),r=r||{},"string"!=typeof r.path&&(r.path="/"+t),e.parent&&"application"!==e.parent&&(t=e.parent+"."+t),e.push(r.path,t,null)}var i=e.default;r.prototype={resource:function(e,t,a){if(i.assert("'basic' cannot be used as a resource name.","basic"!==e),2===arguments.length&&"function"==typeof t&&(a=t,t={}),1===arguments.length&&(t={}),"string"!=typeof t.path&&(t.path="/"+e),a){var o=new r(e);n(o,"loading"),n(o,"error",{path:"/_unused_dummy_error_path_route_"+e+"/:error"}),a.call(o),this.push(t.path,e,o.generate())}else this.push(t.path,e,null)},push:function(e,t,r){var n=t.split(".");""!==e&&"/"!==e&&"index"!==n[n.length-1]||(this.explicitIndex=!0),this.matches.push([e,t,r])},route:function(e,t){i.assert("'basic' cannot be used as a route name.","basic"!==e),n(this,e,t)},generate:function(){var e=this.matches;return this.explicitIndex||this.route("index",{path:"/"}),function(t){for(var r=0,n=e.length;r<n;r++){var i=e[r];t(i[0]).to(i[1],i[2])}}}},r.map=function(e){var t=new r;return e.call(t),t},t.default=r}),e("ember-routing/system/route",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/get_properties","ember-metal/enumerable_utils","ember-metal/is_none","ember-metal/computed","ember-metal/utils","ember-metal/run_loop","ember-runtime/keys","ember-runtime/copy","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/action_handler","ember-routing/system/controller_for","exports"],function(e,t,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v){"use strict";function b(e){var t=e.router.router.state.handlerInfos;if(t)for(var r,n,i=0,a=t.length;i<a;i++){if((n=t[i].handler)===e)return r;r=n}}function y(e){var t,r=b(e);if(r)return(t=r.lastRenderedTemplate)?t:y(r)}function g(e,t,r,n){n=n||{},n.into=n.into?n.into.replace(/\//g,"."):y(e),n.outlet=n.outlet||"main",n.name=t,n.template=r,n.LOG_VIEW_LOOKUPS=P(e.router,"namespace.LOG_VIEW_LOOKUPS"),E.assert("An outlet ("+n.outlet+") was specified but was not found.","main"===n.outlet||n.into);var i,a=n.controller,o=n.model;if("string"==typeof(a=n.controller?n.controller:(i=e.container.lookup("controller:"+t))?i:e.controllerName||e.routeName)){var s=a;if(!(a=e.container.lookup("controller:"+s)))throw new O("You passed `controller: '"+s+"'` into the `render` method, but no such controller could be found.")}return o&&a.set("model",o),n.controller=a,n}function _(e,t,r){if(e)r.LOG_VIEW_LOOKUPS&&E.Logger.info("Rendering "+r.name+" with "+e,{fullName:"view:"+r.name});else{var n=r.into?"view:default":"view:toplevel";e=t.lookup(n),r.LOG_VIEW_LOOKUPS&&E.Logger.info("Rendering "+r.name+" with default view "+e,{fullName:"view:"+r.name})}return P(e,"templateName")||(A(e,"template",r.template),A(e,"_debugTemplateName",r.name)),A(e,"renderedName",r.name),A(e,"controller",r.controller),e}function w(e,t,r){if(r.into){var n=e.router._lookupActiveView(r.into),i=C(n,r.outlet);e.teardownOutletViews||(e.teardownOutletViews=[]),L(e.teardownOutletViews,0,0,[i]),n.connectOutlet(r.outlet,t)}else{var a=P(e,"router.namespace.rootElement");e.teardownTopLevelView&&e.teardownTopLevelView(),e.router._connectActiveView(r.name,t),e.teardownTopLevelView=x(t),t.appendTo(a)}}function x(e){return function(){e.destroy()}}function C(e,t){return function(){e.disconnectOutlet(t)}}var E=e.default,O=t.default,P=r.get,A=n.set,T=i.default,N=a.default,I=o.isNone,S=s.computed,V=(l.typeOf,u.default,c.default,h.default),R=p.classify,k=(p.fmt,d.default),j=f.default,D=m.generateController,M=N.forEach,L=N.replace,H=k.extend(j,{exit:function(){this.deactivate(),this.teardownViews()},enter:function(){this.activate()},viewName:null,templateName:null,controllerName:null,_actions:{queryParamsDidChange:function(e,t,r){},finalizeQueryParamChange:function(e,t,r){}},events:null,mergedProperties:["events"],deactivate:E.K,activate:E.K,transitionTo:function(e,t){var r=this.router;return r.transitionTo.apply(r,arguments)},intermediateTransitionTo:function(){var e=this.router;e.intermediateTransitionTo.apply(e,arguments)},refresh:function(){return this.router.router.refresh(this)},replaceWith:function(){var e=this.router;return e.replaceWith.apply(e,arguments)},send:function(){return this.router.send.apply(this.router,arguments)},setup:function(e,t){var r=this.controllerName||this.routeName,n=this.controllerFor(r,!0);n||(n=this.generateController(r,e)),this.controller=n,this.setupControllers?(E.deprecate("Ember.Route.setupControllers is deprecated. Please use Ember.Route.setupController(controller, model) instead."),this.setupControllers(n,e)):this.setupController(n,e),this.renderTemplates?(E.deprecate("Ember.Route.renderTemplates is deprecated. Please use Ember.Route.renderTemplate(controller, model) instead."),this.renderTemplates(e)):this.renderTemplate(n,e)},beforeModel:E.K,afterModel:E.K,redirect:E.K,contextDidChange:function(){this.currentModel=this.context},model:function(e,t){var r,n,i,a;for(var o in e)"queryParams"!==o&&((r=o.match(/^(.*)_id$/))&&(n=r[1],a=e[o]),i=!0);if(!n&&i)return V(e);if(!n){if(t.resolveIndex!==t.state.handlerInfos.length-1)return;return t.state.handlerInfos[t.resolveIndex-1].context}return this.findModel(n,a)},deserialize:function(e,t){return this.model(e,t)},findModel:function(){var e=P(this,"store");return e.find.apply(e,arguments)},store:S(function(){var e=this.container,t=this.routeName,r=P(this,"router.namespace");return{find:function(n,i){var a=e.lookupFactory("model:"+n);if(E.assert("You used the dynamic segment "+n+"_id in your route "+t+", but "+r+"."+R(n)+" did not exist and you did not override your route's `model` hook.",a),a)return E.assert(R(n)+" has no method `find`.","function"==typeof a.find),a.find(i)}}}),serialize:function(e,t){if(!(t.length<1)&&e){var r=t[0],n={};return/_id$/.test(r)&&1===t.length?n[r]=P(e,"id"):n=T(e,t),n}},setupController:function(e,t,r){e&&void 0!==t&&A(e,"model",t)},controllerFor:function(e,t){var r,n=this.container,i=n.lookup("route:"+e);return i&&i.controllerName&&(e=i.controllerName),r=n.lookup("controller:"+e),E.assert("The controller named '"+e+"' could not be found. Make sure that this route exists and has already been entered at least once. If you are accessing a controller not associated with a route, make sure the controller class is explicitly defined.",r||!0===t),r},generateController:function(e,t){var r=this.container;return t=t||this.modelFor(e),D(r,e,t)},modelFor:function(e){var t=this.container.lookup("route:"+e),r=this.router?this.router.router.activeTransition:null;if(r){var n=t&&t.routeName||e;if(r.resolvedModels.hasOwnProperty(n))return r.resolvedModels[n]}return t&&t.currentModel},renderTemplate:function(e,t){this.render()},render:function(e,t){E.assert("The name in the given arguments is undefined",!(arguments.length>0)||!I(arguments[0]));var r="string"==typeof e&&!!e;"object"!=typeof e||t||(t=e,e=this.routeName),t=t||{};var n;e?(e=e.replace(/\//g,"."),n=e):(e=this.routeName,n=this.templateName||e);var i=t.view||r&&e||this.viewName||e,a=this.container,o=a.lookup("view:"+i),s=o?o.get("template"):null;if(s||(s=a.lookup("template:"+n)),!o&&!s)return E.assert('Could not find "'+e+'" template or view.',E.isEmpty(arguments[0])),void(P(this.router,"namespace.LOG_VIEW_LOOKUPS")&&E.Logger.info('Could not find "'+e+'" template or view. Nothing will be rendered',{fullName:"template:"+e}));t=g(this,e,s,t),o=_(o,a,t),"main"===t.outlet&&(this.lastRenderedTemplate=e),w(this,o,t)},disconnectOutlet:function(e){if(!e||"string"==typeof e){var t=e;e={},e.outlet=t}e.parentView=e.parentView?e.parentView.replace(/\//g,"."):y(this),e.outlet=e.outlet||"main";var r=this.router._lookupActiveView(e.parentView);r&&r.disconnectOutlet(e.outlet)},willDestroy:function(){this.teardownViews()},teardownViews:function(){this.teardownTopLevelView&&this.teardownTopLevelView();var e=this.teardownOutletViews||[];M(e,function(e){e()}),delete this.teardownTopLevelView,delete this.teardownOutletViews,delete this.lastRenderedTemplate}});v.default=H}),e("ember-routing/system/router",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/array","ember-metal/properties","ember-metal/computed","ember-metal/merge","ember-metal/run_loop","ember-metal/enumerable_utils","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/evented","ember-routing/system/dsl","ember-views/views/view","ember-routing/location/api","ember-handlebars/views/metamorph_view","exports"],function(e,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b,y){"use strict";function g(e,t,r){for(var n=t.state.handlerInfos,i=!1,a=n.length-1;a>=0;--a){var o=n[a],s=o.handler;if(i){if(!0!==r(s,n[a+1].handler))return!1}else e===s&&(i=!0)}return!0}function _(e,t){var r=[];t&&r.push(t),e&&(e.message&&r.push(e.message),e.stack&&r.push(e.stack),"string"==typeof e&&r.push(e)),O.Logger.error.apply(this,r)}function w(e,t,r){var n,i=e.router;t.routeName.split(".").pop();if(n=("application"===e.routeName?"":e.routeName+".")+r,x(i,n))return n}function x(e,t){var r=e.container;return e.hasRoute(t)&&(r.has("template:"+t)||r.has("route:"+t))}function C(e,t,r){var n=r.shift();if(!e){if(t)return;throw new P("Can't trigger action '"+n+"' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call `.send()` on the `Transition` object passed to the `model/beforeModel/afterModel` hooks.")}for(var i=!1,a=e.length-1;a>=0;a--){var o=e[a],s=o.handler;if(s._actions&&s._actions[n]){if(!0!==s._actions[n].apply(s,r))return;i=!0}}if(q[n])return void q[n].apply(null,r);if(!i&&!t)throw new P("Nothing handled the action '"+n+"'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.")}function E(e){var t=e.container.lookup("controller:application");if(t){var r=e.router.currentHandlerInfos,n=U._routePath(r);"currentPath"in t||N(t,"currentPath"),T(t,"currentPath",n),"currentRouteName"in t||N(t,"currentRouteName"),T(t,"currentRouteName",r[r.length-1].name)}}var O=e.default,P=r.default,A=n.get,T=i.set,N=(a.forEach,o.defineProperty),I=s.computed,S=l.default,V=u.default,R=c.default,k=(h.fmt,p.default),j=d.default,D=f.default,M=m.View,L=v.default,H=b._MetamorphView,B=t("router").default,F=(t("router/transition").Transition,[].slice),z=(R.forEach,H),U=k.extend(j,{location:"hash",rootURL:"/",init:function(){this.router=this.constructor.router||this.constructor.map(O.K),this._activeViews={},this._setupLocation(),this._qpCache={},this._queuedQPChanges={},A(this,"namespace.LOG_TRANSITIONS_INTERNAL")&&(this.router.log=O.Logger.debug)},url:I(function(){return A(this,"location").getURL()}),startRouting:function(){this.router=this.router||this.constructor.map(O.K);var e=this.router,t=A(this,"location"),r=this.container,n=this,i=A(this,"initialURL");A(t,"cancelRouterSetup")||(this._setupRouter(e,t),r.register("view:default",z),r.register("view:toplevel",M.extend()),t.onUpdateURL(function(e){n.handleURL(e)}),void 0===i&&(i=t.getURL()),this.handleURL(i))},didTransition:function(e){E(this),this._cancelLoadingEvent(),this.notifyPropertyChange("url"),V.once(this,this.trigger,"didTransition"),A(this,"namespace").LOG_TRANSITIONS&&O.Logger.log("Transitioned into '"+U._routePath(e)+"'")},handleURL:function(e){return this._doTransition("handleURL",[e])},transitionTo:function(){return this._doTransition("transitionTo",arguments)},intermediateTransitionTo:function(){this.router.intermediateTransitionTo.apply(this.router,arguments),E(this);var e=this.router.currentHandlerInfos;A(this,"namespace").LOG_TRANSITIONS&&O.Logger.log("Intermediate-transitioned into '"+U._routePath(e)+"'")},replaceWith:function(){return this._doTransition("replaceWith",arguments)},generate:function(){var e=this.router.generate.apply(this.router,arguments);return this.location.formatURL(e)},isActive:function(e){var t=this.router
;return t.isActive.apply(t,arguments)},send:function(e,t){this.router.trigger.apply(this.router,arguments)},hasRoute:function(e){return this.router.hasRoute(e)},reset:function(){this.router.reset()},_lookupActiveView:function(e){var t=this._activeViews[e];return t&&t[0]},_connectActiveView:function(e,t){function r(){delete this._activeViews[e]}var n=this._activeViews[e];n&&n[0].off("willDestroyElement",this,n[1]),this._activeViews[e]=[t,r],t.one("willDestroyElement",this,r)},_setupLocation:function(){var e=A(this,"location"),t=A(this,"rootURL");if(t&&!this.container.has("-location-setting:root-url")&&this.container.register("-location-setting:root-url",t,{instantiate:!1}),"string"==typeof e&&this.container){var r=this.container.lookup("location:"+e);if(void 0!==r)e=T(this,"location",r);else{var n={implementation:e};e=T(this,"location",L.create(n))}}t&&"string"==typeof t&&(e.rootURL=t),"function"==typeof e.initState&&e.initState()},_getHandlerFunction:function(){var e={},t=this.container,r=t.lookupFactory("route:basic"),n=this;return function(i){var a="route:"+i,o=t.lookup(a);return e[i]?o:(e[i]=!0,o||(t.register(a,r.extend()),o=t.lookup(a),A(n,"namespace.LOG_ACTIVE_GENERATION")&&O.Logger.info("generated -> "+a,{fullName:a})),o.routeName=i,o)}},_setupRouter:function(e,t){var r,n=this;e.getHandler=this._getHandlerFunction();var i=function(){t.setURL(r)};if(e.updateURL=function(e){r=e,V.once(i)},t.replaceURL){var a=function(){t.replaceURL(r)};e.replaceURL=function(e){r=e,V.once(a)}}e.didTransition=function(e){n.didTransition(e)}},_doTransition:function(e,t){t=F.call(t),t[0]=t[0]||"/";var r,n=t[0];if("/"!==n.charAt(0)&&O.assert("The route "+n+" was not found",this.router.hasRoute(n)),r){if(!n){var i=this.router.activeTransition?this.router.activeTransition.state.handlerInfos:this.router.state.handlerInfos;n=i[i.length-1].name,t.unshift(n)}var a=this._queryParamsFor(n),o=(a.qps,{});for(var s in r)if(r.hasOwnProperty(s)){var l=r[s],u=a.map[s];if(!u)throw new P("Unrecognized query param "+s+" provided as transition argument");o[u.urlKey]=u.route.serializeQueryParam(l,u.urlKey,u.type)}t[t.length-1].queryParams=o}var c=this.router[e].apply(this.router,t);return c.then(null,function(e){if(e&&e.name)return"UnrecognizedURLError"===e.name?O.assert("The URL '"+e.message+"' did not match any routes in your application"):"TransitionAborted"===e.name||_(e),e},"Ember: Process errors from Router"),c},_queryParamsFor:function(e){if(this._qpCache[e])return this._qpCache[e];for(var t={},r=[],n=(this._qpCache[e]={map:t,qps:r},this.router),i=n.recognizer.handlersFor(e),a=0,o=i.length;a<o;++a){var s=i[a],l=n.getHandler(s.handler),u=A(l,"_qp");u&&(S(t,u.map),r.push.apply(r,u.qps))}return{qps:r,map:t}},_scheduleLoadingEvent:function(e,t){this._cancelLoadingEvent(),this._loadingStateTimer=V.scheduleOnce("routerTransitions",this,"_fireLoadingEvent",e,t)},_fireLoadingEvent:function(e,t){this.router.activeTransition&&e.trigger(!0,"loading",e,t)},_cancelLoadingEvent:function(){this._loadingStateTimer&&V.cancel(this._loadingStateTimer),this._loadingStateTimer=null}}),q={willResolveModel:function(e,t){t.router._scheduleLoadingEvent(e,t)},error:function(e,t,r){var n=r.router;if(g(r,t,function(t,r){var i=w(t,r,"error");return!i||void n.intermediateTransitionTo(i,e)}))return x(r.router,"application_error")?void n.intermediateTransitionTo("application_error",e):void _(e,"Error while processing route: "+t.targetName)},loading:function(e,t){var r=t.router;if(g(t,e,function(t,n){var i=w(t,n,"loading");return i?void r.intermediateTransitionTo(i):e.pivotHandler!==t||void 0})&&x(t.router,"application_loading"))return void r.intermediateTransitionTo("application_loading")}};U.reopenClass({router:null,map:function(e){var t=this.router;t||(t=new B,t.callbacks=[],t.triggerEvent=C,this.reopenClass({router:t}));var r=D.map(function(){this.resource("application",{path:"/"},function(){for(var r=0;r<t.callbacks.length;r++)t.callbacks[r].call(this);e.call(this)})});return t.callbacks.push(e),t.map(r.generate()),t},_routePath:function(e){for(var t=[],r=1,n=e.length;r<n;r++){for(var i=e[r].name,a=i.split("."),o=F.call(t);o.length&&!function(e,t){for(var r=0,n=e.length;r<n;++r)if(e[r]!==t[r])return!1;return!0}(o,a);)o.shift();t.push.apply(t,a.slice(o.length))}return t.join(".")}}),y.default=U}),e("route-recognizer",["exports"],function(e){"use strict";function t(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){this.string=e}function n(e){this.name=e}function i(e){this.name=e}function a(){}function o(e,t,o){"/"===e.charAt(0)&&(e=e.substr(1));for(var s=e.split("/"),l=[],u=0,c=s.length;u<c;u++){var h,p=s[u];(h=p.match(/^:([^\/]+)$/))?(l.push(new n(h[1])),t.push(h[1]),o.dynamics++):(h=p.match(/^\*([^\/]+)$/))?(l.push(new i(h[1])),t.push(h[1]),o.stars++):""===p?l.push(new a):(l.push(new r(p)),o.statics++)}return l}function s(e){this.charSpec=e,this.nextStates=[]}function l(e){return e.sort(function(e,t){if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0})}function u(e,t){for(var r=[],n=0,i=e.length;n<i;n++){var a=e[n];r=r.concat(a.match(t))}return r}function c(e){this.queryParams=e||{}}function h(e,t,r){for(var n=e.handlers,i=e.regex,a=t.match(i),o=1,s=new c(r),l=0,u=n.length;l<u;l++){for(var h=n[l],p=h.names,d={},f=0,m=p.length;f<m;f++)d[p[f]]=a[o++];s.push({handler:h.handler,params:d,isDynamic:!!p.length})}return s}function p(e,t){return t.eachChar(function(t){e=e.put(t)}),e}function d(e,t,r){this.path=e,this.matcher=t,this.delegate=r}function f(e){this.routes={},this.children={},this.target=e}function m(e,t,r){return function(n,i){var a=e+n;if(!i)return new d(e+n,t,r);i(m(a,t,r))}}function v(e,t,r){for(var n=0,i=0,a=e.length;i<a;i++)n+=e[i].path.length;t=t.substr(n);var o={path:t,handler:r};e.push(o)}function b(e,t,r,n){var i=t.routes;for(var a in i)if(i.hasOwnProperty(a)){var o=e.slice();v(o,a,i[a]),t.children[a]?b(o,t.children[a],r,n):r.call(n,o)}}var y=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],g=new RegExp("(\\"+y.join("|\\")+")","g");r.prototype={eachChar:function(e){for(var t,r=this.string,n=0,i=r.length;n<i;n++)t=r.charAt(n),e({validChars:t})},regex:function(){return this.string.replace(g,"\\$1")},generate:function(){return this.string}},n.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},i.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},a.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},s.prototype={get:function(e){for(var t=this.nextStates,r=0,n=t.length;r<n;r++){var i=t[r],a=i.charSpec.validChars===e.validChars;if(a=a&&i.charSpec.invalidChars===e.invalidChars)return i}},put:function(e){var t;return(t=this.get(e))?t:(t=new s(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,r,n,i=this.nextStates,a=[],o=0,s=i.length;o<s;o++)t=i[o],r=t.charSpec,void 0!==(n=r.validChars)?-1!==n.indexOf(e)&&a.push(t):void 0!==(n=r.invalidChars)&&-1===n.indexOf(e)&&a.push(t);return a}};var _=Object.create||function(e){function t(){}return t.prototype=e,new t};c.prototype=_({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var w=function(){this.rootState=new s,this.names={}};w.prototype={add:function(e,t){for(var r,n=this.rootState,i="^",s={statics:0,dynamics:0,stars:0},l=[],u=[],c=!0,h=0,d=e.length;h<d;h++){var f=e[h],m=[],v=o(f.path,m,s);u=u.concat(v);for(var b=0,y=v.length;b<y;b++){var g=v[b];g instanceof a||(c=!1,n=n.put({validChars:"/"}),i+="/",n=p(n,g),i+=g.regex())}var _={handler:f.handler,names:m};l.push(_)}c&&(n=n.put({validChars:"/"}),i+="/"),n.handlers=l,n.regex=new RegExp(i+"$"),n.types=s,(r=t&&t.as)&&(this.names[r]={segments:u,handlers:l})},handlersFor:function(e){var t=this.names[e],r=[];if(!t)throw new Error("There is no route named "+e);for(var n=0,i=t.handlers.length;n<i;n++)r.push(t.handlers[n]);return r},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var r=this.names[e],n="";if(!r)throw new Error("There is no route named "+e);for(var i=r.segments,o=0,s=i.length;o<s;o++){var l=i[o];l instanceof a||(n+="/",n+=l.generate(t))}return"/"!==n.charAt(0)&&(n="/"+n),t&&t.queryParams&&(n+=this.generateQueryString(t.queryParams,r.handlers)),n},generateQueryString:function(e,r){var n=[],i=[];for(var a in e)e.hasOwnProperty(a)&&i.push(a);i.sort();for(var o=0,s=i.length;o<s;o++){a=i[o];var l=e[a];if(null!=l){var u=a;if(t(l))for(var c=0,h=l.length;c<h;c++){var p=a+"[]="+encodeURIComponent(l[c]);n.push(p)}else u+="="+encodeURIComponent(l),n.push(u)}}return 0===n.length?"":"?"+n.join("&")},parseQueryString:function(e){for(var t=e.split("&"),r={},n=0;n<t.length;n++){var i,a=t[n].split("="),o=decodeURIComponent(a[0]),s=o.length,l=!1;1===a.length?i="true":(s>2&&"[]"===o.slice(s-2)&&(l=!0,o=o.slice(0,s-2),r[o]||(r[o]=[])),i=a[1]?decodeURIComponent(a[1]):""),l?r[o].push(i):r[o]=decodeURIComponent(i)}return r},recognize:function(e){var t,r,n,i,a=[this.rootState],o={},s=!1;if(e=decodeURI(e),-1!==(i=e.indexOf("?"))){var c=e.substr(i+1,e.length);e=e.substr(0,i),o=this.parseQueryString(c)}for("/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),s=!0),r=0,n=e.length;r<n&&(a=u(a,e.charAt(r)),a.length);r++);var p=[];for(r=0,n=a.length;r<n;r++)a[r].handlers&&p.push(a[r]);a=l(p);var d=p[0];if(d&&d.handlers)return s&&"(.+)$"===d.regex.source.slice(-5)&&(e+="/"),h(d,e,o)}},e.default=w,d.prototype={to:function(e,t){var r=this.delegate;if(r&&r.willAddRoute&&(e=r.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},f.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,r,n){var i=new f(t);this.children[e]=i;var a=m(e,i,n);n&&n.contextEntered&&n.contextEntered(t,a),r(a)}},w.prototype.map=function(e,t){var r=new f;e(m("",r,this.delegate)),b([],r,function(e){t?t(this,e):this.add(e)},this)}}),e("router/handler-info",["./utils","rsvp/promise","exports"],function(e,t,r){"use strict";function n(e){var t=e||{};o(this,t),this.initialize(t)}function i(e,t){if(!e^!t)return!1;if(!e)return!0;for(var r in e)if(e.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0}var a=e.bind,o=e.merge,s=(e.serialize,e.promiseLabel),l=t.default;n.prototype={name:null,handler:null,params:null,context:null,factory:null,initialize:function(){},log:function(e,t){e.log&&e.log(this.name+": "+t)},promiseLabel:function(e){return s("'"+this.name+"' "+e)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},resolve:function(e,t){var r=a(this,this.checkForAbort,e),n=a(this,this.runBeforeModelHook,t),i=a(this,this.getModel,t),o=a(this,this.runAfterModelHook,t),s=a(this,this.becomeResolved,t);return l.resolve(void 0,this.promiseLabel("Start handler")).then(r,null,this.promiseLabel("Check for abort")).then(n,null,this.promiseLabel("Before model")).then(r,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(i,null,this.promiseLabel("Model")).then(r,null,this.promiseLabel("Check if aborted in 'model' hook")).then(o,null,this.promiseLabel("After model")).then(r,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(s,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(e){return e.trigger&&e.trigger(!0,"willResolveModel",e,this.handler),this.runSharedModelHook(e,"beforeModel",[])},runAfterModelHook:function(e,t){var r=this.name;return this.stashResolvedModel(e,t),this.runSharedModelHook(e,"afterModel",[t]).then(function(){return e.resolvedModels[r]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(e,t,r){this.log(e,"calling "+t+" hook"),this.queryParams&&r.push(this.queryParams),r.push(e);var n=this.handler,i=n[t]&&n[t].apply(n,r);return i&&i.isTransition&&(i=null),l.resolve(i,null,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(e,t){return l.resolve(e(),this.promiseLabel("Check for abort")).then(function(){return t},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(e,t){e.resolvedModels=e.resolvedModels||{},e.resolvedModels[this.name]=t},becomeResolved:function(e,t){var r=this.serialize(t);return e&&(this.stashResolvedModel(e,t),e.params=e.params||{},e.params[this.name]=r),this.factory("resolved",{context:t,name:this.name,handler:this.handler,params:r})},shouldSupercede:function(e){if(!e)return!0;var t=e.context===this.context;return e.name!==this.name||this.hasOwnProperty("context")&&!t||this.hasOwnProperty("params")&&!i(this.params,e.params)}},r.default=n}),e("router/handler-info/factory",["router/handler-info/resolved-handler-info","router/handler-info/unresolved-handler-info-by-object","router/handler-info/unresolved-handler-info-by-param","exports"],function(e,t,r,n){"use strict";function i(e,t){var r=i.klasses[e],n=new r(t||{});return n.factory=i,n}var a=e.default,o=t.default,s=r.default;i.klasses={resolved:a,param:s,object:o},n.default=i}),e("router/handler-info/resolved-handler-info",["../handler-info","router/utils","rsvp/promise","exports"],function(e,t,r,n){"use strict";var i=e.default,a=t.subclass,o=(t.promiseLabel,r.default),s=a(i,{resolve:function(e,t){return t&&t.resolvedModels&&(t.resolvedModels[this.name]=this.context),o.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:!0});n.default=s}),e("router/handler-info/unresolved-handler-info-by-object",["../handler-info","router/utils","rsvp/promise","exports"],function(e,t,r,n){"use strict";var i=e.default,a=(t.merge,t.subclass),o=(t.promiseLabel,t.isParam),s=r.default,l=a(i,{getModel:function(e){return this.log(e,this.name+": resolving provided model"),s.resolve(this.context)},initialize:function(e){this.names=e.names||[],this.context=e.context},serialize:function(e){var t=e||this.context,r=this.names,n=this.handler,i={};if(o(t))return i[r[0]]=t,i;if(n.serialize)return n.serialize(t,r);if(1===r.length){var a=r[0];return/_id$/.test(a)?i[a]=t.id:i[a]=t,i}}});n.default=l}),e("router/handler-info/unresolved-handler-info-by-param",["../handler-info","router/utils","exports"],function(e,t,r){"use strict";var n=e.default,i=t.merge,a=t.subclass,o=(t.promiseLabel,a(n,{initialize:function(e){this.params=e.params||{}},getModel:function(e){var t=this.params;e&&e.queryParams&&(t={},i(t,this.params),t.queryParams=e.queryParams);var r="function"==typeof this.handler.deserialize?"deserialize":"model";return this.runSharedModelHook(e,r,[t])}}));r.default=o}),e("router/router",["route-recognizer","rsvp/promise","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","exports"],function(e,t,r,n,i,a,o,s){"use strict";function l(){this.recognizer=new b,this.reset()}function u(e,t,r){var n=h(e.state,t);x(n.exited,function(e){var t=e.handler;delete t.context,t.exit&&t.exit()});var i=e.oldState=e.state;e.state=t;var a=e.currentHandlerInfos=n.unchanged.slice();try{x(n.updatedContext,function(e){return c(a,e,!1,r)}),x(n.entered,function(e){return c(a,e,!0,r)})}catch(t){throw e.state=i,e.currentHandlerInfos=i.handlerInfos,t}e.state.queryParams=v(e,a,t.queryParams,r)}function c(e,t,r,n){var i=t.handler,a=t.context;if(r&&i.enter&&i.enter(n),n&&n.isAborted)throw new I;if(i.context=a,i.contextDidChange&&i.contextDidChange(),i.setup&&i.setup(a,n),n&&n.isAborted)throw new I;return e.push(t),!0}function h(e,t){var r,n,i,a,o=e.handlerInfos,s=t.handlerInfos,l={updatedContext:[],exited:[],entered:[],unchanged:[]};for(i=0,a=s.length;i<a;i++){var u=o[i],c=s[i];u&&u.handler===c.handler||(r=!0),r?(l.entered.push(c),u&&l.exited.unshift(u)):n||u.context!==c.context?(n=!0,l.updatedContext.push(c)):l.unchanged.push(u)}for(i=s.length,a=o.length;i<a;i++)l.exited.unshift(o[i]);return l}function p(e,t,r){var n=e.urlMethod;if(n){for(var i=e.router,a=t.handlerInfos,o=a[a.length-1].name,s={},l=a.length-1;l>=0;--l){var u=a[l];C(s,u.params),u.handler.inaccessibleByURL&&(n=null)}if(n){s.queryParams=e._visibleQueryParams||t.queryParams;var c=i.recognizer.generate(o,s);"replace"===n?i.replaceURL(c):i.updateURL(c)}}}function d(e,t){try{_(e.router,e.sequence,"Resolved all models on destination route; finalizing transition.");var r=e.router,n=t.handlerInfos;e.sequence;return u(r,t,e),e.isAborted?(r.state.handlerInfos=r.currentHandlerInfos,y.reject(T(e))):(p(e,t,e.intent.url),e.isActive=!1,r.activeTransition=null,g(r,r.currentHandlerInfos,!0,["didTransition"]),r.didTransition&&r.didTransition(r.currentHandlerInfos),_(r,e.sequence,"TRANSITION COMPLETE."),n[n.length-1].handler)}catch(t){if(!(t instanceof I)){var i=e.state.handlerInfos;e.trigger(!0,"error",t,e,i[i.length-1].handler),e.abort()}throw t}}function f(e,t,r){var n=t[0]||"/",i=t[t.length-1],a={};i&&i.hasOwnProperty("queryParams")&&(a=R.call(t).queryParams);var o;if(0===t.length){_(e,"Updating query params");var s=e.state.handlerInfos;o=new S({name:s[s.length-1].name,contexts:[],queryParams:a})}else"/"===n.charAt(0)?(_(e,"Attempting URL transition to "+n),o=new V({url:n})):(_(e,"Attempting transition to "+n),o=new S({name:t[0],contexts:w.call(t,1),queryParams:a}));return e.transitionByIntent(o,r)}function m(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;++r)if(e[r]!==t[r])return!1;return!0}function v(e,t,r,n){for(var i in r)r.hasOwnProperty(i)&&null===r[i]&&delete r[i];var a=[];g(e,t,!0,["finalizeQueryParamChange",r,a,n]),n&&(n._visibleQueryParams={});for(var o={},s=0,l=a.length;s<l;++s){var u=a[s];o[u.key]=u.value,n&&!1!==u.visible&&(n._visibleQueryParams[u.key]=u.value)}return o}var b=e.default,y=t.default,g=r.trigger,_=r.log,w=r.slice,x=r.forEach,C=r.merge,E=(r.serialize,r.extractQueryParams),O=r.getChangelist,P=r.promiseLabel,A=n.default,T=i.logAbort,N=i.Transition,I=i.TransitionAborted,S=a.default,V=o.default,R=Array.prototype.pop;l.prototype={map:function(e){this.recognizer.delegate=this.delegate,this.recognizer.map(e,function(e,t){for(var r=t.length-1,n=!0;r>=0&&n;--r){var i=t[r];e.add(t,{as:i.handler}),n="/"===i.path||""===i.path||".index"===i.handler.slice(-6)}})},hasRoute:function(e){return this.recognizer.hasRoute(e)},transitionByIntent:function(e,t){var r,n=!!this.activeTransition,i=n?this.activeTransition.state:this.state,a=this;try{var o=e.applyToState(i,this.recognizer,this.getHandler,t);if(m(o.handlerInfos,i.handlerInfos)){var s=O(i.queryParams,o.queryParams);if(s){this._changedQueryParams=s.changed;for(var l in s.removed)s.removed.hasOwnProperty(l)&&(this._changedQueryParams[l]=null);return g(this,o.handlerInfos,!0,["queryParamsDidChange",s.changed,s.all,s.removed]),this._changedQueryParams=null,!n&&this.activeTransition?this.activeTransition:(r=new N(this),i.queryParams=v(this,o.handlerInfos,o.queryParams,r),r.promise=r.promise.then(function(e){return p(r,i,!0),a.didTransition&&a.didTransition(a.currentHandlerInfos),e},null,P("Transition complete")),r)}return new N(this)}return t?void u(this,o):(r=new N(this,e,o),this.activeTransition&&this.activeTransition.abort(),this.activeTransition=r,r.promise=r.promise.then(function(e){return d(r,e.state)},null,P("Settle transition promise when transition is finalized")),n||g(this,this.state.handlerInfos,!0,["willTransition",r]),r)}catch(t){return new N(this,e,null,t)}},reset:function(){this.state&&x(this.state.handlerInfos,function(e){var t=e.handler;t.exit&&t.exit()}),this.state=new A,this.currentHandlerInfos=null},activeTransition:null,handleURL:function(e){var t=w.call(arguments);return"/"!==e.charAt(0)&&(t[0]="/"+e),f(this,t).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(e){this.updateURL(e)},transitionTo:function(e){return f(this,arguments)},intermediateTransitionTo:function(e){f(this,arguments,!0)},refresh:function(e){for(var t=this.activeTransition?this.activeTransition.state:this.state,r=t.handlerInfos,n={},i=0,a=r.length;i<a;++i){var o=r[i];n[o.name]=o.params||{}}_(this,"Starting a refresh transition");var s=new S({name:r[r.length-1].name,pivotHandler:e||r[0].handler,contexts:[],queryParams:this._changedQueryParams||t.queryParams||{}});return this.transitionByIntent(s,!1)},replaceWith:function(e){return f(this,arguments).method("replace")},generate:function(e){for(var t=E(w.call(arguments,1)),r=t[0],n=t[1],i=new S({name:e,contexts:r}),a=i.applyToState(this.state,this.recognizer,this.getHandler),o={},s=0,l=a.handlerInfos.length;s<l;++s){var u=a.handlerInfos[s],c=u.serialize();C(o,c)}return o.queryParams=n,this.recognizer.generate(e,o)},isActive:function(e){var t,r,n=E(w.call(arguments,1)),i=n[0],a=n[1],o=this.state.queryParams,s=this.state.handlerInfos;if(!s.length)return!1;var l=s[s.length-1].name,u=this.recognizer.handlersFor(l),c=0;for(r=u.length;c<r&&(t=s[c],t.name!==e);++c);if(c===u.length)return!1;var h=new A;h.handlerInfos=s.slice(0,c+1),u=u.slice(0,c+1);var p=new S({name:l,contexts:i}),d=p.applyToHandlers(h,u,this.getHandler,l,!0,!0),f={};C(f,a);for(var v in o)o.hasOwnProperty(v)&&f.hasOwnProperty(v)&&(f[v]=o[v]);return m(d.handlerInfos,h.handlerInfos)&&!O(f,a)},trigger:function(e){var t=w.call(arguments);g(this,this.currentHandlerInfos,!1,t)},log:null},s.default=l}),e("router/transition-intent",["./utils","exports"],function(e,t){"use strict";function r(e){this.initialize(e),this.data=this.data||{}}e.merge;r.prototype={initialize:null,applyToState:null},t.default=r}),e("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(e,t,r,n,i){"use strict";var a=e.default,o=t.default,s=r.default,l=n.isParam,u=n.extractQueryParams,c=n.merge,h=n.subclass;i.default=h(a,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(e){this.name=e.name,this.pivotHandler=e.pivotHandler,this.contexts=e.contexts||[],this.queryParams=e.queryParams},applyToState:function(e,t,r,n){var i=u([this.name].concat(this.contexts)),a=i[0],o=(i[1],t.handlersFor(a[0])),s=o[o.length-1].handler;return this.applyToHandlers(e,o,r,s,n)},applyToHandlers:function(e,t,r,n,i,a){var s,l=new o,u=this.contexts.slice(0),h=t.length;if(this.pivotHandler)for(s=0;s<t.length;++s)if(r(t[s].handler)===this.pivotHandler){h=s;break}this.pivotHandler;for(s=t.length-1;s>=0;--s){var p=t[s],d=p.handler,f=r(d),m=e.handlerInfos[s],v=null;if(v=p.names.length>0?s>=h?this.createParamHandlerInfo(d,f,p.names,u,m):this.getHandlerInfoForDynamicSegment(d,f,p.names,u,m,n,s):this.createParamHandlerInfo(d,f,p.names,u,m),a){v=v.becomeResolved(null,v.context);var b=m&&m.context;p.names.length>0&&v.context===b&&(v.params=m&&m.params),v.context=b}var y=m;(s>=h||v.shouldSupercede(m))&&(h=Math.min(s,h),y=v),i&&!a&&(y=y.becomeResolved(null,y.context)),l.handlerInfos.unshift(y)}if(u.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+n);return i||this.invalidateChildren(l.handlerInfos,h),c(l.queryParams,e.queryParams),c(l.queryParams,this.queryParams||{}),l},invalidateChildren:function(e,t){for(var r=t,n=e.length;r<n;++r){e[r];e[r]=e[r].getUnresolved()}},getHandlerInfoForDynamicSegment:function(e,t,r,n,i,a,o){var u;r.length;if(n.length>0){if(u=n[n.length-1],l(u))return this.createParamHandlerInfo(e,t,r,n,i);n.pop()}else{if(i&&i.name===e)return i;if(!this.preTransitionState)return i;var c=this.preTransitionState.handlerInfos[o];u=c&&c.context}return s("object",{name:e,handler:t,context:u,names:r})},createParamHandlerInfo:function(e,t,r,n,i){for(var a={},o=r.length;o--;){var u=i&&e===i.name&&i.params||{},c=n[n.length-1],h=r[o];if(l(c))a[h]=""+n.pop();else{if(!u.hasOwnProperty(h))throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+e);a[h]=u[h]}}return s("param",{name:e,handler:t,params:a})}})}),e("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(e,t,r,n,i){"use strict";function a(e){this.message=e||"UnrecognizedURLError",this.name="UnrecognizedURLError"}var o=e.default,s=t.default,l=r.default,u=(n.oCreate,n.merge),c=n.subclass;i.default=c(o,{url:null,initialize:function(e){this.url=e.url},applyToState:function(e,t,r){var n,i,o=new s,c=t.recognize(this.url);if(!c)throw new a(this.url);var h=!1;for(n=0,i=c.length;n<i;++n){var p=c[n],d=p.handler,f=r(d);if(f.inaccessibleByURL)throw new a(this.url);var m=l("param",{name:d,handler:f,params:p.params}),v=e.handlerInfos[n];h||m.shouldSupercede(v)?(h=!0,o.handlerInfos[n]=m):o.handlerInfos[n]=v}return u(o.queryParams,c.queryParams),o}})}),e("router/transition-state",["./handler-info","./utils","rsvp/promise","exports"],function(e,t,r,n){"use strict";function i(e){this.handlerInfos=[],this.queryParams={},this.params={}}var a=(e.ResolvedHandlerInfo,t.forEach),o=t.promiseLabel,s=r.default;i.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(e){var t="";return a(this.handlerInfos,function(e){""!==t&&(t+="."),t+=e.name}),o("'"+t+"': "+e)},resolve:function(e,t){function r(){return s.resolve(e(),o("Check if should continue")).catch(function(e){return h=!0,s.reject(e)},o("Handle abort"))}function n(e){var r=c.handlerInfos,n=t.resolveIndex>=r.length?r.length-1:t.resolveIndex;return s.reject({error:e,handlerWithError:c.handlerInfos[n].handler,wasAborted:h,state:c})}function i(e){var n=c.handlerInfos[t.resolveIndex].isResolved;if(c.handlerInfos[t.resolveIndex++]=e,!n){var i=e.handler;i&&i.redirect&&i.redirect(e.context,t)}return r().then(l,null,o("Resolve handler"))}function l(){return t.resolveIndex===c.handlerInfos.length?{error:null,state:c}:c.handlerInfos[t.resolveIndex].resolve(r,t).then(i,null,o("Proceed"))}var u=this.params;a(this.handlerInfos,function(e){u[e.name]=e.params||{}}),t=t||{},t.resolveIndex=0;var c=this,h=!1;return s.resolve(null,this.promiseLabel("Start transition")).then(l,null,this.promiseLabel("Resolve handler")).catch(n,this.promiseLabel("Handle error"))}},n.default=i}),e("router/transition",["rsvp/promise","./handler-info","./utils","exports"],function(e,t,r,n){"use strict";function i(e,t,r,n){function o(){if(l.isAborted)return s.reject(void 0,h("Transition aborted - reject"))}var l=this;if(this.state=r||e.state,this.intent=t,this.router=e,this.data=this.intent&&this.intent.data||{},this.resolvedModels={},this.queryParams={},n)return void(this.promise=s.reject(n));if(r){this.params=r.params,this.queryParams=r.queryParams;var u=r.handlerInfos.length;u&&(this.targetName=r.handlerInfos[r.handlerInfos.length-1].name);for(var c=0;c<u;++c){var p=r.handlerInfos[c];if(!p.isResolved)break;this.pivotHandler=p.handler}this.sequence=i.currentSequence++,this.promise=r.resolve(o,this).catch(function(e){return e.wasAborted||l.isAborted?s.reject(a(l)):(l.trigger("error",e.error,l,e.handlerWithError),l.abort(),s.reject(e.error))},h("Handle Abort"))}else this.promise=s.resolve(this.state),this.params={}}function a(e){return c(e.router,e.sequence,"detected abort."),new o}function o(e){this.message=e||"TransitionAborted",this.name="TransitionAborted"}var s=e.default,l=(t.ResolvedHandlerInfo,r.trigger),u=r.slice,c=r.log,h=r.promiseLabel;i.currentSequence=0,i.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:!0,state:null,isTransition:!0,promise:null,data:null,then:function(e,t){return this.promise.then(e,t)},abort:function(){return this.isAborted?this:(c(this.router,this.sequence,this.targetName+": transition was aborted"),this.intent.preTransitionState=this.router.state,this.isAborted=!0,this.isActive=!1,this.router.activeTransition=null,this)},retry:function(){return this.abort(),this.router.transitionByIntent(this.intent,!1)},method:function(e){return this.urlMethod=e,this},trigger:function(e){var t=u.call(arguments);"boolean"==typeof e?t.shift():e=!1,l(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),e,t)},followRedirects:function(){var e=this.router;return this.promise.catch(function(t){return e.activeTransition?e.activeTransition.followRedirects():s.reject(t)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(e){c(this.router,this.sequence,e)}},i.prototype.send=i.prototype.trigger,n.Transition=i,n.logAbort=a,n.TransitionAborted=o}),e("router/utils",["exports"],function(e){"use strict";function t(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function r(e){var t,r,n=e&&e.length;return n&&n>0&&e[n-1]&&e[n-1].hasOwnProperty("queryParams")?(r=e[n-1].queryParams,t=d.call(e,0,n-1),[t,r]):[e,null]}function n(e){for(var t in e)if("number"==typeof e[t])e[t]=""+e[t];else if(f(e[t]))for(var r=0,n=e[t].length;r<n;r++)e[t][r]=""+e[t][r]}function i(e,t,r){e.log&&(3===arguments.length?e.log("Transition #"+t+": "+r):(r=t,e.log(r)))}function a(e,t){var r=arguments;return function(n){var i=d.call(r,2);return i.push(n),t.apply(e,i)}}function o(e){return"string"==typeof e||e instanceof String||"number"==typeof e||e instanceof Number}function s(e,t){for(var r=0,n=e.length;r<n&&!1!==t(e[r]);r++);}function l(e,t,r,n){if(e.triggerEvent)return void e.triggerEvent(t,r,n);var i=n.shift();if(!t){if(r)return;throw new Error("Could not trigger event '"+i+"'. There are no active handlers")}for(var a=!1,o=t.length-1;o>=0;o--){var s=t[o],l=s.handler;if(l.events&&l.events[i]){if(!0!==l.events[i].apply(l,n))return;a=!0}}if(!a&&!r)throw new Error("Nothing handled the event '"+i+"'.")}function u(e,r){var i,a={all:{},changed:{},removed:{}};t(a.all,r);var o=!1;n(e),n(r);for(i in e)e.hasOwnProperty(i)&&(r.hasOwnProperty(i)||(o=!0,a.removed[i]=e[i]));for(i in r)if(r.hasOwnProperty(i))if(f(e[i])&&f(r[i]))if(e[i].length!==r[i].length)a.changed[i]=r[i],o=!0;else for(var s=0,l=e[i].length;s<l;s++)e[i][s]!==r[i][s]&&(a.changed[i]=r[i],o=!0);else e[i]!==r[i]&&(a.changed[i]=r[i],o=!0);return o&&a}function c(e){return"Router: "+e}function h(e,r){function n(t){e.call(this,t||{})}return n.prototype=m(e.prototype),t(n.prototype,r),n}var p,d=Array.prototype.slice;p=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var f=p;e.isArray=f;var m=Object.create||function(e){function t(){}return t.prototype=e,new t};e.oCreate=m,e.extractQueryParams=r,e.log=i,e.bind=a,e.forEach=s,e.trigger=l,e.getChangelist=u,e.promiseLabel=c,e.subclass=h,e.merge=t,e.slice=d,e.isParam=o,e.coerceQueryParamsToString=n}),e("router",["./router/router","exports"],function(e,t){"use strict";var r=e.default;t.default=r})}(),function(){e("ember-application/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/error","ember-metal/utils","ember-metal/computed","ember-runtime/controllers/controller","ember-routing/system/controller_for","exports"],function(e,t,r,n,i,a,o,s,l){"use strict";function u(e,t,r){var n,i,a,o=[];for(i=0,a=r.length;i<a;i++)n=r[i],c.assert(d(e)+"#needs must not specify dependencies with periods in their names ("+n+")",-1===n.indexOf(".")),-1===n.indexOf(":")&&(n="controller:"+n),t.has(n)||o.push(n);if(o.length)throw new p(d(e)+" needs [ "+o.join(", ")+" ] but "+(o.length>1?"they":"it")+" could not be found")}var c=e.default,h=t.get,p=(r.set,
n.default),d=i.inspect,f=a.computed,m=o.ControllerMixin,v=i.meta,b=s.controllerFor,v=i.meta,y=f(function(){var e=this;return{needs:h(e,"needs"),container:h(e,"container"),unknownProperty:function(t){var r,n,i=this.needs;for(r=0,n=i.length;r<n;r++)if(i[r]===t)return this.container.lookup("controller:"+t);var a=d(e)+"#needs does not include `"+t+"`. To access the "+t+" controller from "+d(e)+", "+d(e)+" should have a `needs` property that is an array of the controllers it has access to.";throw new ReferenceError(a)},setUnknownProperty:function(t,r){throw new Error("You cannot overwrite the value of `controllers."+t+"` of "+d(e))}}});m.reopen({concatenatedProperties:["needs"],needs:[],init:function(){var e=h(this,"needs");h(e,"length")>0&&(c.assert(" `"+d(this)+" specifies `needs`, but does not have a container. Please ensure this controller was instantiated with a container.",this.container||v(this,!1).descs.controllers!==y),this.container&&u(this,this.container,e),h(this,"controllers")),this._super.apply(this,arguments)},controllerFor:function(e){return c.deprecate("Controller#controllerFor is deprecated, please use Controller#needs instead"),b(h(this,"container"),e)},controllers:y}),l.default=m}),e("ember-application",["ember-metal/core","ember-runtime/system/lazy_load","ember-application/system/dag","ember-application/system/resolver","ember-application/system/application","ember-application/ext/controller"],function(e,t,r,n,i,a){"use strict";var o=e.default,s=t.runLoadHooks,l=r.default,u=n.Resolver,c=n.DefaultResolver,h=i.default;o.Application=h,o.DAG=l,o.Resolver=u,o.DefaultResolver=c,s("Ember.Application",h)}),e("ember-application/system/application",["ember-metal","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-application/system/dag","ember-runtime/system/namespace","ember-runtime/mixins/deferred","ember-application/system/resolver","ember-metal/platform","ember-metal/run_loop","ember-metal/utils","container/container","ember-runtime/controllers/controller","ember-metal/enumerable_utils","ember-runtime/controllers/object_controller","ember-runtime/controllers/array_controller","ember-views/system/event_dispatcher","ember-extension-support/container_debug_adapter","ember-views/system/jquery","ember-routing/system/route","ember-routing/system/router","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/location/none_location","ember-handlebars-compiler","exports"],function(e,r,n,i,a,o,s,l,u,c,h,p,d,f,m,v,b,y,g,_,w,x,C,E,O,P,A){"use strict";function T(e){this._container=e}function N(e){function t(e){return n.resolve(e)}e.get("resolver")&&I.deprecate("Application.resolver is deprecated in favor of Application.Resolver",!1);var r=e.get("resolver")||e.get("Resolver")||M,n=r.create({namespace:e});return t.describe=function(e){return n.lookupDescription(e)},t.makeToString=function(e,t){return n.makeToString(e,t)},t.normalize=function(e){return n.normalize?n.normalize(e):(I.deprecate("The Resolver should now provide a 'normalize' function",!1),e)},t.__resolver__=n,t}var I=e.default,S=r.get,V=n.set,R=i.runLoadHooks,k=a.default,j=o.default,D=s.default,M=l.DefaultResolver,L=u.create,H=c.default,B=h.canInvoke,F=p.default,z=d.Controller,U=f.default,q=m.default,K=v.default,W=b.default,Y=y.default,G=g.default,$=_.default,Q=w.default,J=x.default,X=C.default,Z=E.default,ee=O.default,te=P.default,re=I.K;T.deprecate=function(e){return function(){var t=this._container;return I.deprecate("Using the defaultContainer is no longer supported. [defaultContainer#"+e+"] see: http://git.io/EKPpnA",!1),t[e].apply(t,arguments)}},T.prototype={_container:null,lookup:T.deprecate("lookup"),resolve:T.deprecate("resolve"),register:T.deprecate("register")};var ne=j.extend(D,{rootElement:"body",eventDispatcher:null,customEvents:null,_readinessDeferrals:1,init:function(){if(this.$||(this.$=G),this.__container__=this.buildContainer(),this.Router=this.defaultRouter(),this._super(),this.scheduleInitialize(),I.libraries.registerCoreLibrary("Handlebars",te.VERSION),I.libraries.registerCoreLibrary("jQuery",G().jquery),I.LOG_VERSION){I.LOG_VERSION=!1;var e=U.map(I.libraries,function(e){return S(e,"name.length")}),t=Math.max.apply(this,e);I.debug("-------------------------------"),I.libraries.each(function(e,r){var n=new Array(t-e.length+1).join(" ");I.debug([e,n," : ",r].join(""))}),I.debug("-------------------------------")}},buildContainer:function(){return this.__container__=ne.buildContainer(this)},defaultRouter:function(){if(!1!==this.Router){var e=this.__container__;return this.Router&&(e.unregister("router:main"),e.register("router:main",this.Router)),e.lookupFactory("router:main")}},scheduleInitialize:function(){var e=this;!this.$||this.$.isReady?H.schedule("actions",e,"_initialize"):this.$().ready(function(){H(e,"_initialize")})},deferReadiness:function(){I.assert("You must call deferReadiness on an instance of Ember.Application",this instanceof ne),I.assert("You cannot defer readiness since the `ready()` hook has already been called.",this._readinessDeferrals>0),this._readinessDeferrals++},advanceReadiness:function(){I.assert("You must call advanceReadiness on an instance of Ember.Application",this instanceof ne),0===--this._readinessDeferrals&&H.once(this,this.didBecomeReady)},register:function(){var e=this.__container__;e.register.apply(e,arguments)},inject:function(){var e=this.__container__;e.injection.apply(e,arguments)},initialize:function(){I.deprecate("Calling initialize manually is not supported. Please see Ember.Application#advanceReadiness and Ember.Application#deferReadiness")},_initialize:function(){if(!this.isDestroyed){if(this.Router){var e=this.__container__;e.unregister("router:main"),e.register("router:main",this.Router)}return this.runInitializers(),R("application",this),this.advanceReadiness(),this}},reset:function(){function e(){this.__container__.lookup("router:main").reset(),H(this.__container__,"destroy"),this.buildContainer(),H.schedule("actions",this,function(){this._initialize()})}this._readinessDeferrals=1,H.join(this,e)},runInitializers:function(){var e,t,r=S(this.constructor,"initializers"),n=this.__container__,i=new k,a=this;for(e in r)t=r[e],i.addEdges(t.name,t.initialize,t.before,t.after);i.topsort(function(e){var t=e.value;I.assert("No application initializer named '"+e.name+"'",t),t(n,a)})},didBecomeReady:function(){this.setupEventDispatcher(),this.ready(),this.startRouting(),I.testing||(I.Namespace.processAll(),I.BOOTED=!0),this.resolve(this)},setupEventDispatcher:function(){var e=S(this,"customEvents"),t=S(this,"rootElement"),r=this.__container__.lookup("event_dispatcher:main");V(this,"eventDispatcher",r),r.setup(e,t)},startRouting:function(){var e=this.__container__.lookup("router:main");e&&e.startRouting()},handleURL:function(e){this.__container__.lookup("router:main").handleURL(e)},ready:re,resolver:null,Resolver:null,willDestroy:function(){I.BOOTED=!1,this.__container__.lookup("router:main").reset(),this.__container__.destroy()},initializer:function(e){this.constructor.initializer(e)}});ne.reopenClass({initializers:{},initializer:function(e){void 0!==this.superclass.initializers&&this.superclass.initializers===this.initializers&&this.reopenClass({initializers:L(this.initializers)}),I.assert("The initializer '"+e.name+"' has already been registered",!this.initializers[e.name]),I.assert("An initializer cannot be registered without an initialize function",B(e,"initialize")),this.initializers[e.name]=e},buildContainer:function(e){var r=new F;return F.defaultContainer=new T(r),r.set=V,r.resolver=N(e),r.normalize=r.resolver.normalize,r.describe=r.resolver.describe,r.makeToString=r.resolver.makeToString,r.optionsForType("component",{singleton:!1}),r.optionsForType("view",{singleton:!1}),r.optionsForType("template",{instantiate:!1}),r.optionsForType("helper",{instantiate:!1}),r.register("application:main",e,{instantiate:!1}),r.register("controller:basic",z,{instantiate:!1}),r.register("controller:object",q,{instantiate:!1}),r.register("controller:array",K,{instantiate:!1}),r.register("route:basic",$,{instantiate:!1}),r.register("event_dispatcher:main",W),r.register("router:main",Q),r.injection("router:main","namespace","application:main"),r.register("location:auto",Z),r.register("location:hash",J),r.register("location:history",X),r.register("location:none",ee),r.injection("controller","target","router:main"),r.injection("controller","namespace","application:main"),r.injection("route","router","router:main"),r.injection("location","rootURL","-location-setting:root-url"),r.register("resolver-for-debugging:main",r.resolver.__resolver__,{instantiate:!1}),r.injection("container-debug-adapter:main","resolver","resolver-for-debugging:main"),r.injection("data-adapter:main","containerDebugAdapter","container-debug-adapter:main"),t("ember-extension-support"),r.register("container-debug-adapter:main",Y),r}}),A.default=ne}),e("ember-application/system/dag",["exports"],function(e){"use strict";function t(e,r,n,i){var a,o=e.name,s=e.incoming,l=e.incomingNames,u=l.length;if(n||(n={}),i||(i=[]),!n.hasOwnProperty(o)){for(i.push(o),n[o]=!0,a=0;a<u;a++)t(s[l[a]],r,n,i);r(e,i),i.pop()}}function r(){this.names=[],this.vertices={}}r.prototype.add=function(e){if(e){if(this.vertices.hasOwnProperty(e))return this.vertices[e];var t={name:e,incoming:{},incomingNames:[],hasOutgoing:!1,value:null};return this.vertices[e]=t,this.names.push(e),t}},r.prototype.map=function(e,t){this.add(e).value=t},r.prototype.addEdge=function(e,r){function n(e,t){if(e.name===r)throw new EmberError("cycle detected: "+r+" <- "+t.join(" <- "))}if(e&&r&&e!==r){var i=this.add(e),a=this.add(r);a.incoming.hasOwnProperty(e)||(t(i,n),i.hasOutgoing=!0,a.incoming[e]=i,a.incomingNames.push(e))}},r.prototype.topsort=function(e){var r,n,i={},a=this.vertices,o=this.names,s=o.length;for(r=0;r<s;r++)n=a[o[r]],n.hasOutgoing||t(n,e,i)},r.prototype.addEdges=function(e,t,r,n){var i;if(this.map(e,t),r)if("string"==typeof r)this.addEdge(e,r);else for(i=0;i<r.length;i++)this.addEdge(e,r[i]);if(n)if("string"==typeof n)this.addEdge(n,e);else for(i=0;i<n.length;i++)this.addEdge(n[i],e)},e.default=r}),e("ember-application/system/resolver",["ember-metal/core","ember-metal/property_get","ember-metal/logger","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/system/namespace","ember-handlebars","exports"],function(e,t,r,n,i,a,o,s){"use strict";var l=e.default,u=t.get,c=r.default,h=n.classify,p=n.capitalize,d=n.decamelize,f=i.default,m=a.default,v=o.default,b=f.extend({namespace:null,normalize:function(e){throw new Error("Invalid call to `resolver.normalize(fullName)`. Please override the 'normalize' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},resolve:function(e){throw new Error("Invalid call to `resolver.resolve(parsedName)`. Please override the 'resolve' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},parseName:function(e){throw new Error("Invalid call to `resolver.resolveByType(parsedName)`. Please override the 'resolveByType' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},lookupDescription:function(e){throw new Error("Invalid call to `resolver.lookupDescription(fullName)`. Please override the 'lookupDescription' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},makeToString:function(e,t){throw new Error("Invalid call to `resolver.makeToString(factory, fullName)`. Please override the 'makeToString' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},resolveOther:function(e){throw new Error("Invalid call to `resolver.resolveOther(parsedName)`. Please override the 'resolveOther' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},_logLookup:function(e,t){throw new Error("Invalid call to `resolver._logLookup(found, parsedName)`. Please override the '_logLookup' method in subclass of `Ember.Resolver` to prevent falling through to this error.")}}),y=f.extend({namespace:null,normalize:function(e){var t=e.split(":",2),r=t[0],n=t[1];if(l.assert("Tried to normalize a container name without a colon (:) in it. You probably tried to lookup a name that did not contain a type, a colon, and a name. A proper lookup name would be `view:post`.",2===t.length),"template"!==r){var i=n;return i.indexOf(".")>-1&&(i=i.replace(/\.(.)/g,function(e){return e.charAt(1).toUpperCase()})),n.indexOf("_")>-1&&(i=i.replace(/_(.)/g,function(e){return e.charAt(1).toUpperCase()})),r+":"+i}return e},resolve:function(e){var t,r=this.parseName(e),n=r.resolveMethodName;if(!r.name||!r.type)throw new TypeError("Invalid fullName: `"+e+"`, must be of the form `type:name` ");return this[n]&&(t=this[n](r)),t||(t=this.resolveOther(r)),r.root&&r.root.LOG_RESOLVER&&this._logLookup(t,r),t},parseName:function(e){var t=e.split(":"),r=t[0],n=t[1],i=n,a=u(this,"namespace"),o=a;if("template"!==r&&-1!==i.indexOf("/")){var s=i.split("/");i=s[s.length-1];var c=p(s.slice(0,-1).join("."));o=m.byName(c),l.assert("You are looking for a "+i+" "+r+" in the "+c+" namespace, but the namespace could not be found",o)}return{fullName:e,type:r,fullNameWithoutType:n,name:i,root:o,resolveMethodName:"resolve"+h(r)}},lookupDescription:function(e){var t=this.parseName(e);if("template"===t.type)return"template at "+t.fullNameWithoutType.replace(/\./g,"/");var r=t.root+"."+h(t.name);return"model"!==t.type&&(r+=h(t.type)),r},makeToString:function(e,t){return e.toString()},useRouterNaming:function(e){e.name=e.name.replace(/\./g,"_"),"basic"===e.name&&(e.name="")},resolveTemplate:function(e){var t=e.fullNameWithoutType.replace(/\./g,"/");return l.TEMPLATES[t]?l.TEMPLATES[t]:(t=d(t),l.TEMPLATES[t]?l.TEMPLATES[t]:void 0)},resolveView:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveController:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveRoute:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveModel:function(e){var t=h(e.name),r=u(e.root,t);if(r)return r},resolveHelper:function(e){return this.resolveOther(e)||v.helpers[e.fullNameWithoutType]},resolveOther:function(e){var t=h(e.name)+h(e.type),r=u(e.root,t);if(r)return r},_logLookup:function(e,t){var r,n;r=e?"[\u2713]":"[ ]",n=t.fullName.length>60?".":new Array(60-t.fullName.length).join("."),c.info(r,t.fullName,n,this.lookupDescription(t.fullName))}});s.Resolver=b,s.DefaultResolver=y})}(),function(){e("ember-extension-support/container_debug_adapter",["ember-metal/core","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","exports"],function(e,t,r,n,i,a){"use strict";var o=e.default,s=t.typeOf,l=r.dasherize,u=r.classify,c=n.default,h=i.default,p=h.extend({container:null,resolver:null,canCatalogEntriesByType:function(e){return"model"!==e&&"template"!==e},catalogEntriesByType:function(e){var t=o.A(c.NAMESPACES),r=o.A(),n=new RegExp(u(e)+"$");return t.forEach(function(e){if(e!==o)for(var t in e)if(e.hasOwnProperty(t)&&n.test(t)){var i=e[t];"class"===s(i)&&r.push(l(t.replace(n,"")))}}),r}});a.default=p}),e("ember-extension-support/data_adapter",["ember-metal/core","ember-metal/property_get","ember-metal/run_loop","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/native_array","ember-application/system/application","exports"],function(e,t,r,n,i,a,o,s,l){"use strict";var u=e.default,c=t.get,h=r.default,p=n.dasherize,d=i.default,f=a.default,m=o.A,v=s.default,b=f.extend({init:function(){this._super(),this.releaseMethods=m()},container:null,containerDebugAdapter:void 0,attributeLimit:3,releaseMethods:m(),getFilters:function(){return m()},watchModelTypes:function(e,t){var r,n=this.getModelTypes(),i=this,a=m();r=n.map(function(e){var r=e.klass,n=i.wrapModelType(r,e.name);return a.push(i.observeModelType(r,t)),n}),e(r);var o=function(){a.forEach(function(e){e()}),i.releaseMethods.removeObject(o)};return this.releaseMethods.pushObject(o),o},_nameToClass:function(e){return"string"==typeof e&&(e=this.container.lookupFactory("model:"+e)),e},watchRecords:function(e,t,r,n){var i,a=this,o=m(),s=this.getRecords(e),l=function(e){r([e])},c=s.map(function(e){return o.push(a.observeRecord(e,l)),a.wrapRecord(e)}),h=function(e,r,i,s){for(var u=r;u<r+s;u++){var c=e.objectAt(u),h=a.wrapRecord(c);o.push(a.observeRecord(c,l)),t([h])}i&&n(r,i)},p={didChange:h,willChange:u.K};return s.addArrayObserver(a,p),i=function(){o.forEach(function(e){e()}),s.removeArrayObserver(a,p),a.releaseMethods.removeObject(i)},t(c),this.releaseMethods.pushObject(i),i},willDestroy:function(){this._super(),this.releaseMethods.forEach(function(e){e()})},detect:function(e){return!1},columnsForType:function(e){return m()},observeModelType:function(e,t){var r=this,n=this.getRecords(e),i=function(){t([r.wrapModelType(e)])},a={didChange:function(){h.scheduleOnce("actions",this,i)},willChange:u.K};return n.addArrayObserver(this,a),function(){n.removeArrayObserver(r,a)}},wrapModelType:function(e,t){var r=this.getRecords(e);return{name:t||e.toString(),count:c(r,"length"),columns:this.columnsForType(e),object:e}},getModelTypes:function(){var e,t=this,r=this.get("containerDebugAdapter");return e=r.canCatalogEntriesByType("model")?r.catalogEntriesByType("model"):this._getObjectsOnNamespaces(),e=m(e).map(function(e){return{klass:t._nameToClass(e),name:e}}),e=m(e).filter(function(e){return t.detect(e.klass)}),m(e)},_getObjectsOnNamespaces:function(){var e=m(d.NAMESPACES),t=m(),r=this;return e.forEach(function(e){for(var n in e)if(e.hasOwnProperty(n)&&r.detect(e[n])){var i=p(n);e instanceof v||!e.toString()||(i=e+"/"+i),t.push(i)}}),t},getRecords:function(e){return m()},wrapRecord:function(e){var t={object:e};return t.columnValues=this.getRecordColumnValues(e),t.searchKeywords=this.getRecordKeywords(e),t.filterValues=this.getRecordFilterValues(e),t.color=this.getRecordColor(e),t},getRecordColumnValues:function(e){return{}},getRecordKeywords:function(e){return m()},getRecordFilterValues:function(e){return{}},getRecordColor:function(e){return null},observeRecord:function(e,t){return function(){}}});l.default=b}),e("ember-extension-support/initializers",[],function(){"use strict"}),e("ember-extension-support",["ember-metal/core","ember-extension-support/data_adapter","ember-extension-support/container_debug_adapter"],function(e,t,r){"use strict";var n=e.default,i=t.default,a=r.default;n.DataAdapter=i,n.ContainerDebugAdapter=a})}(),function(){e("ember-testing/adapters/adapter",["ember-metal/core","ember-metal/utils","ember-runtime/system/object","exports"],function(e,t,r,n){"use strict";var i=e.default,a=(t.inspect,r.default),o=a.extend({asyncStart:i.K,asyncEnd:i.K,exception:function(e){throw e}});n.default=o}),e("ember-testing/adapters/qunit",["ember-testing/adapters/adapter","ember-metal/utils","exports"],function(e,t,r){"use strict";var n=e.default,i=t.inspect,a=n.extend({asyncStart:function(){QUnit.stop()},asyncEnd:function(){QUnit.start()},exception:function(e){ok(!1,i(e))}});r.default=a}),e("ember-testing/helpers",["ember-metal/property_get","ember-metal/error","ember-metal/run_loop","ember-views/system/jquery","ember-testing/test"],function(e,t,r,n,i){"use strict";function a(e){var t=e.__container__.lookup("controller:application");return b(t,"currentRouteName")}function o(e){var t=e.__container__.lookup("controller:application");return b(t,"currentPath")}function s(e){var t=e.__container__.lookup("router:main");return b(t,"location").getURL()}function l(e,t){var r=e.__container__.lookup("router:main");return r.location.setURL(t),e._readinessDeferrals>0?(r.initialURL=t,g(e,"advanceReadiness"),delete r.initialURL):g(e,e.handleURL,t),v(e)}function u(e,t,r){var n=d(e,t,r);if(g(n,"mousedown"),n.is(":input")){var i=n.prop("type");"checkbox"!==i&&"radio"!==i&&"hidden"!==i&&g(n,function(){!document.hasFocus||document.hasFocus()?this.focus():this.trigger("focusin")})}return g(n,"mouseup"),g(n,"click"),v(e)}function c(e,t,r,n,i){3===arguments.length&&(n=r,r=null),void 0===i&&(i={});var a=d(e,t,r),o=_.Event(n,i);return g(a,"trigger",o),v(e)}function h(e,t,r,n,i){return void 0===i&&(i=n,n=r,r=null),c(e,t,r,n,{keyCode:i,which:i})}function p(e,t,r,n){var i;return void 0===n&&(n=r,r=null),i=d(e,t,r),g(function(){i.val(n).change()}),v(e)}function d(e,t,r){var n=f(e,t,r);if(0===n.length)throw new y("Element "+t+" not found.");return n}function f(e,t,r){return r=r||b(e,"rootElement"),e.$(t,r)}function m(e,t){return v(e,t(e))}function v(e,t){return w.promise(function(r){1==++E&&w.adapter.asyncStart();var n=setInterval(function(){!!e.__container__.lookup("router:main").router.activeTransition||w.pendingAjaxRequests||g.hasScheduledTimers()||g.currentRunLoop||w.waiters&&w.waiters.any(function(e){var t=e[0];return!e[1].call(t)})||(clearInterval(n),0==--E&&w.adapter.asyncEnd(),g(null,r,t))},10)})}var b=e.get,y=t.default,g=r.default,_=n.default,w=i.default,x=w.registerHelper,C=w.registerAsyncHelper,E=0;C("visit",l),C("click",u),C("keyEvent",h),C("fillIn",p),x("find",f),x("findWithAssert",d),C("wait",v),C("andThen",m),x("currentRouteName",a),x("currentPath",o),x("currentURL",s),C("triggerEvent",c)}),e("ember-testing/initializers",["ember-runtime/system/lazy_load"],function(e){"use strict";var t=e.onLoad,r="deferReadiness in `testing` mode";t("Ember.Application",function(e){e.initializers[r]||e.initializer({name:r,initialize:function(e,t){t.testing&&t.deferReadiness()}})})}),e("ember-testing",["ember-metal/core","ember-testing/initializers","ember-testing/support","ember-testing/setup_for_testing","ember-testing/test","ember-testing/adapters/adapter","ember-testing/adapters/qunit","ember-testing/helpers"],function(e,t,r,n,i,a,o,s){"use strict";var l=e.default,u=n.default,c=i.default,h=a.default,p=o.default;l.Test=c,l.Test.Adapter=h,l.Test.QUnitAdapter=p,l.setupForTesting=u}),e("ember-testing/setup_for_testing",["ember-metal/core","ember-testing/adapters/qunit","ember-views/system/jquery","exports"],function(e,r,n,i){"use strict";function a(){l.pendingAjaxRequests++}function o(){u.assert("An ajaxComplete event which would cause the number of pending AJAX requests to be negative has been triggered. This is most likely caused by AJAX events that were started before calling `injectTestHelpers()`.",0!==l.pendingAjaxRequests),l.pendingAjaxRequests--}function s(){l||(l=t("ember-testing/test").default),u.testing=!0,l.adapter||(l.adapter=c.create()),l.pendingAjaxRequests||(l.pendingAjaxRequests=0),h(document).off("ajaxSend",a),h(document).off("ajaxComplete",o),h(document).on("ajaxSend",a),h(document).on("ajaxComplete",o)}var l,u=e.default,c=r.default,h=n.default;i.default=s}),e("ember-testing/support",["ember-metal/core","ember-views/system/jquery"],function(e,t){"use strict";function r(e){a('<input type="checkbox">').css({position:"absolute",left:"-1000px",top:"-1000px"}).appendTo("body").on("click",e).trigger("click").remove()}var n=e.default,i=t.default,a=i;a(function(){r(function(){this.checked||a.event.special.click||(a.event.special.click={trigger:function(){if(a.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}})}),r(function(){n.warn("clicked checkboxes should be checked! the jQuery patch didn't work",this.checked)})})}),e("ember-testing/test",["ember-metal/core","ember-metal/run_loop","ember-metal/platform","ember-runtime/compare","ember-runtime/ext/rsvp","ember-testing/setup_for_testing","ember-application/system/application","exports"],function(e,t,r,n,i,a,o,s){"use strict";function l(e,t){var r=_[t].method,n=_[t].meta;return function(){var t=g.call(arguments),i=x.lastPromise;return t.unshift(e),n.wait?(i?u(function(){i=x.resolve(i).then(function(){return r.apply(e,t)})}):i=r.apply(e,t),i):r.apply(e,t)}}function u(e){d.currentRunLoop?e():d(e)}function c(e,t,r,n){e[t]=function(){var e=arguments;return n?r.apply(this,e):this.then(function(){return r.apply(this,e)})}}function h(e,t){var r,n;return x.lastPromise=null,r=e(t),n=x.lastPromise,r&&r instanceof x.Promise||!n?r:(u(function(){n=x.resolve(n).then(function(){return r})}),n)}var p=e.default,d=t.default,f=r.create,m=n.default,v=i.default,b=a.default,y=o.default,g=[].slice,_={},w=[],x={registerHelper:function(e,t){_[e]={method:t,meta:{wait:!1}}},registerAsyncHelper:function(e,t){_[e]={method:t,meta:{wait:!0}}},unregisterHelper:function(e){delete _[e],delete x.Promise.prototype[e]},onInjectHelpers:function(e){w.push(e)},promise:function(e){return new x.Promise(e)},adapter:null,resolve:function(e){return x.promise(function(t){return t(e)})},registerWaiter:function(e,t){1===arguments.length&&(t=e,e=null),this.waiters||(this.waiters=p.A()),this.waiters.push([e,t])},unregisterWaiter:function(e,t){var r;this.waiters&&(1===arguments.length&&(t=e,e=null),r=[e,t],this.waiters=p.A(this.waiters.filter(function(e){return 0!==m(e,r)})))}};y.reopen({testHelpers:{},originalMethods:{},testing:!1,setupForTesting:function(){b(),this.testing=!0,this.Router.reopen({location:"none"})},helperContainer:window,injectTestHelpers:function(e){e&&(this.helperContainer=e),this.testHelpers={};for(var t in _)this.originalMethods[t]=this.helperContainer[t],this.testHelpers[t]=this.helperContainer[t]=l(this,t),c(x.Promise.prototype,t,l(this,t),_[t].meta.wait);for(var r=0,n=w.length;r<n;r++)w[r](this)},removeTestHelpers:function(){for(var e in _)this.helperContainer[e]=this.originalMethods[e],delete this.testHelpers[e],delete this.originalMethods[e]}}),x.Promise=function(){v.Promise.apply(this,arguments),x.lastPromise=this},x.Promise.prototype=f(v.Promise.prototype),x.Promise.prototype.constructor=x.Promise;var C=v.Promise.prototype.then;x.Promise.prototype.then=function(e,t){return C.call(this,function(t){return h(e,t)},t)},s.default=x})}(),e("container/container",["container/inheriting_dict","exports"],function(e,t){"use strict";function r(e){this.parent=e,this.children=[],this.resolver=e&&e.resolver||function(){},this.registry=new g(e&&e.registry),this.cache=new g(e&&e.cache),this.factoryCache=new g(e&&e.factoryCache),this.resolveCache=new g(e&&e.resolveCache),this.typeInjections=new g(e&&e.typeInjections),this.injections={},this.factoryTypeInjections=new g(e&&e.factoryTypeInjections),this.factoryInjections={},this._options=new g(e&&e._options),this._typeOptions=new g(e&&e._typeOptions)}function n(e,t){return!!e.cache.has(t)||!!e.resolve(t)}function a(e,t,r){if(r=r||{},e.cache.has(t)&&!1!==r.singleton)return e.cache.get(t);var n=d(e,t);return void 0!==n?(s(e,t)&&!1!==r.singleton&&e.cache.set(t,n),n):void 0}function o(e){throw new Error(e+" is not currently supported on child containers")}function s(e,t){return!1!==u(e,t,"singleton")}function l(e,t){var r={};if(!t)return r;for(var n,i,o=0,s=t.length;o<s;o++){if(n=t[o],void 0===(i=a(e,n.fullName)))throw new Error("Attempting to inject an unknown injection: `"+n.fullName+"`");r[n.property]=i}return r}function u(e,t,r){var n=e._options.get(t);if(n&&void 0!==n[r])return n[r];var i=t.split(":")[0];return n=e._typeOptions.get(i),n?n[r]:void 0}function c(e,t){var r,n=t,a=e.resolve(n),o=e.factoryCache,s=t.split(":")[0];if(void 0!==a){if(o.has(t))return o.get(t);if(!a||"function"!=typeof a.extend||!i.MODEL_FACTORY_INJECTIONS&&"model"===s)return a;var l=h(e,t),u=p(e,t);return u._toString=e.makeToString(a,t),r=a.extend(l),r.reopenClass(u),o.set(t,r),r}}function h(e,t){var r=t.split(":"),n=r[0],i=[];return i=i.concat(e.typeInjections.get(n)||[]),i=i.concat(e.injections[t]||[]),i=l(e,i),i._debugContainerKey=t,i.container=e,i}function p(e,t){var r=t.split(":"),n=r[0],i=[];return i=i.concat(e.factoryTypeInjections.get(n)||[]),i=i.concat(e.factoryInjections[t]||[]),i=l(e,i),i._debugContainerKey=t,i}function d(e,t){var r=c(e,t);return!1===u(e,t,"instantiate")?r:r?"function"==typeof r.extend?r.create():r.create(h(e,t)):void 0}function f(e,t){e.cache.eachLocal(function(r,n){!1!==u(e,r,"instantiate")&&t(n)})}function m(e){e.cache.eachLocal(function(t,r){!1!==u(e,t,"instantiate")&&r.destroy()}),e.cache.dict={}}function v(e,t,r,n){var i=e.get(t);i||(i=[],e.set(t,i)),i.push({property:r,fullName:n})}function b(e){if(!_.test(e))throw new TypeError("Invalid Fullname, expected: `type:name` got: "+e)}function y(e,t,r,n){(e[t]=e[t]||[]).push({property:r,fullName:n})}var g=e.default;r.prototype={parent:null,children:null,resolver:null,registry:null,cache:null,typeInjections:null,injections:null,_options:null,_typeOptions:null,child:function(){var e=new r(this);return this.children.push(e),e},set:function(e,t,r){e[t]=r},register:function(e,t,r){if(b(e),void 0===t)throw new TypeError("Attempting to register an unknown factory: `"+e+"`");var n=this.normalize(e);if(this.cache.has(n))throw new Error("Cannot re-register: `"+e+"`, as it has already been looked up.");this.registry.set(n,t),this._options.set(n,r||{})},unregister:function(e){b(e);var t=this.normalize(e);this.registry.remove(t),this.cache.remove(t),this.factoryCache.remove(t),this.resolveCache.remove(t),this._options.remove(t)},resolve:function(e){b(e);var t=this.normalize(e),r=this.resolveCache.get(t);if(r)return r;var n=this.resolver(t)||this.registry.get(t);return this.resolveCache.set(t,n),n},describe:function(e){return e},normalize:function(e){return e},makeToString:function(e,t){return e.toString()},lookup:function(e,t){return b(e),a(this,this.normalize(e),t)},lookupFactory:function(e){return b(e),c(this,this.normalize(e))},has:function(e){return b(e),n(this,this.normalize(e))},optionsForType:function(e,t){this.parent&&o("optionsForType"),this._typeOptions.set(e,t)},options:function(e,t){this.optionsForType(e,t)},typeInjection:function(e,t,r){if(b(r),this.parent&&o("typeInjection"),r.split(":")[0]===e)throw new Error("Cannot inject a `"+r+"` on other "+e+"(s). Register the `"+r+"` as a different type and perform the typeInjection.");v(this.typeInjections,e,t,r)},injection:function(e,t,r){this.parent&&o("injection"),b(r);var n=this.normalize(r);if(-1===e.indexOf(":"))return this.typeInjection(e,t,n);b(e);var i=this.normalize(e);y(this.injections,i,t,n)},factoryTypeInjection:function(e,t,r){this.parent&&o("factoryTypeInjection"),v(this.factoryTypeInjections,e,t,this.normalize(r))},factoryInjection:function(e,t,r){this.parent&&o("injection");var n=this.normalize(e),i=this.normalize(r);if(b(r),-1===e.indexOf(":"))return this.factoryTypeInjection(n,t,i);b(e),y(this.factoryInjections,n,t,i)},destroy:function(){for(var e=0,t=this.children.length;e<t;e++)this.children[e].destroy();this.children=[],f(this,function(e){e.destroy()}),this.parent=void 0,this.isDestroyed=!0},reset:function(){for(var e=0,t=this.children.length;e<t;e++)m(this.children[e]);m(this)}};var _=/^[^:]+.+:[^:]+$/;t.default=r}),e("ember-runtime/ext/rsvp",["ember-metal/core","ember-metal/logger","exports"],function(e,r,n){"use strict";var i,a=e.default,o=r.default,s=t("rsvp");s.onerrorDefault=function(e){if(e instanceof Error)if(a.testing){if(!i&&a.__loader.registry["ember-testing/test"]&&(i=t("ember-testing/test").default),!i||!i.adapter)throw e;i.adapter.exception(e)}else a.onerror?a.onerror(e):(o.error(e.stack),a.assert(e,!1))},s.on("error",s.onerrorDefault),n.default=s}),e("ember-runtime/system/container",["ember-metal/property_set","exports"],function(e,r){"use strict";var n=e.default,i=t("container").default;i.set=n,r.default=i}),function(){function e(e){return function(){throw new i.Error(e)}}function r(t){var r=" has been moved into a plugin: https://github.com/emberjs/ember-states";return{extend:e(t+r),create:e(t+r)}}t("ember-metal"),t("ember-runtime"),t("ember-handlebars"),t("ember-views"),t("ember-routing"),t("ember-application"),t("ember-extension-support"),i.__loader.registry["ember-testing"]&&t("ember-testing"),i.StateManager=r("Ember.StateManager"),i.State=r("Ember.State")}()}();
(function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e){!1===_e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function s(e,t){var n=!0;return l(function(){return n&&(a(e),n=!1),t.apply(this,arguments)},t)}function r(e,t){ut[e]||(a(t),ut[e]=!0)}function i(e,t){return function(n){return f(e.call(this,n),t)}}function o(){}function u(e,t){!1!==t&&O(e),d(this,e),this._d=new Date(+e._d)}function c(e){var t=Y(e),n=t.year||0,a=t.quarter||0,s=t.month||0,r=t.week||0,i=t.day||0,o=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*o,this._days=+i+7*r,this._months=+s+3*a+12*n,this._data={},this._locale=_e.localeData(),this._bubble()}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t){var n,a,s;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=t._pf),void 0!==t._locale&&(e._locale=t._locale),Te.length>0)for(n in Te)a=Te[n],void 0!==(s=t[a])&&(e[a]=s);return e}function h(e){return e<0?Math.ceil(e):Math.floor(e)}function f(e,t,n){for(var a=""+Math.abs(e),s=e>=0;a.length<t;)a="0"+a;return(s?n?"+":"":"-")+a}function _(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function m(e,t){var n;return t=C(t,e),e.isBefore(t)?n=_(e,t):(n=_(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(e,t){return function(n,a){var s,i;return null===a||isNaN(+a)||(r(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=a,a=i),n="string"==typeof n?+n:n,s=_e.duration(n,a),p(this,s,e),this}}function p(e,t,n,a){var s=t._milliseconds,r=t._days,i=t._months;a=null==a||a,s&&e._d.setTime(+e._d+s*n),r&&ce(e,"Date",ue(e,"Date")+r*n),i&&oe(e,ue(e,"Month")+i*n),a&&_e.updateOffset(e,r||i)}function D(e){return"[object Array]"===Object.prototype.toString.call(e)}function M(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function g(e,t,n){var a,s=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0;for(a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&v(e[a])!==v(t[a]))&&i++;return i+r}function w(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=tt[e]||nt[t]||t}return e}function Y(e){var t,n,a={};for(n in e)e.hasOwnProperty(n)&&(t=w(n))&&(a[t]=e[n]);return a}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function k(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function b(e,t,n){return ae(_e([e,11,31+t-n]),t,n).week}function S(e){return T(e)?366:365}function T(e){return e%4==0&&e%100!=0||e%400==0}function O(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[ge]<0||e._a[ge]>11?ge:e._a[we]<1||e._a[we]>k(e._a[Me],e._a[ge])?we:e._a[Ye]<0||e._a[Ye]>23?Ye:e._a[ve]<0||e._a[ve]>59?ve:e._a[ke]<0||e._a[ke]>59?ke:e._a[be]<0||e._a[be]>999?be:-1,e._pf._overflowDayOfYear&&(t<Me||t>we)&&(t=we),e._pf.overflow=t)}function W(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function G(e){return e?e.toLowerCase().replace("_","-"):e}function F(e){for(var t,n,a,s,r=0;r<e.length;){for(s=G(e[r]).split("-"),t=s.length,n=G(e[r+1]),n=n?n.split("-"):null;t>0;){if(a=U(s.slice(0,t).join("-")))return a;if(n&&n.length>=t&&g(s,n,!0)>=t-1)break;t--}r++}return null}function U(e){var t=null;if(!Se[e]&&Oe)try{t=_e.locale(),require("./locale/"+e),_e.locale(t)}catch(e){}return Se[e]}function C(e,t){return t._isUTC?_e(e).zone(t._offset||0):_e(e).local()}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e){var t,n,a=e.match(Ue);for(t=0,n=a.length;t<n;t++)ot[a[t]]?a[t]=ot[a[t]]:a[t]=z(a[t]);return function(s){var r="";for(t=0;t<n;t++)r+=a[t]instanceof Function?a[t].call(s,e):a[t];return r}}function L(e,t){return e.isValid()?(t=I(t,e.localeData()),at[t]||(at[t]=P(t)),at[t](e)):e.localeData().invalidDate()}function I(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(Ce.lastIndex=0;a>=0&&Ce.test(e);)e=e.replace(Ce,n),Ce.lastIndex=0,a-=1;return e}function H(e,t){var n=t._strict;switch(e){case"Q":return je;case"DDDD":return qe;case"YYYY":case"GGGG":case"gggg":return n?$e:Le;case"Y":case"G":case"g":return Qe;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Je:Ie;case"S":if(n)return je;case"SS":if(n)return Ve;case"SSS":if(n)return qe;case"DDD":return Pe;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ae;case"a":case"A":return t._locale._meridiemParse;case"X":return Ne;case"Z":case"ZZ":return xe;case"T":return Ze;case"SSSS":return He;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Ve:ze;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ze;case"Do":return Ee;default:return new RegExp($(q(e.replace("\\",""))))}}function A(e){e=e||"";var t=e.match(xe)||[],n=t[t.length-1]||[],a=(n+"").match(Ke)||["-",0,0],s=60*a[1]+v(a[2]);return"+"===a[0]?-s:s}function x(e,t,n){var a,s=n._a;switch(e){case"Q":null!=t&&(s[ge]=3*(v(t)-1));break;case"M":case"MM":null!=t&&(s[ge]=v(t)-1);break;case"MMM":case"MMMM":a=n._locale.monthsParse(t),null!=a?s[ge]=a:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(s[we]=v(t));break;case"Do":null!=t&&(s[we]=v(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=v(t));break;case"YY":s[Me]=_e.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":s[Me]=v(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":s[Ye]=v(t);break;case"m":case"mm":s[ve]=v(t);break;case"s":case"ss":s[ke]=v(t);break;case"S":case"SS":case"SSS":case"SSSS":s[be]=v(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=A(t);break;case"dd":case"ddd":case"dddd":a=n._locale.weekdaysParse(t),null!=a?(n._w=n._w||{},n._w.d=a):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=v(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=_e.parseTwoDigitYear(t)}}function Z(e){var n,a,s,r,i,o,u;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(i=1,o=4,a=t(n.GG,e._a[Me],ae(_e(),1,4).year),s=t(n.W,1),r=t(n.E,1)):(i=e._locale._week.dow,o=e._locale._week.doy,a=t(n.gg,e._a[Me],ae(_e(),i,o).year),s=t(n.w,1),null!=n.d?(r=n.d)<i&&++s:r=null!=n.e?n.e+i:i),u=se(a,s,r,o,i),e._a[Me]=u.year,e._dayOfYear=u.dayOfYear}function N(e){var n,a,s,r,i=[];if(!e._d){for(s=j(e),e._w&&null==e._a[we]&&null==e._a[ge]&&Z(e),e._dayOfYear&&(r=t(e._a[Me],s[Me]),e._dayOfYear>S(r)&&(e._pf._overflowDayOfYear=!0),a=K(r,0,e._dayOfYear),e._a[ge]=a.getUTCMonth(),e._a[we]=a.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=i[n]=s[n];for(;n<7;n++)e._a[n]=i[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?K:R).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function E(e){var t;e._d||(t=Y(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],N(e))}function j(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function V(e){if(e._f===_e.ISO_8601)return void Q(e);e._a=[],e._pf.empty=!0;var t,n,a,s,r,i=""+e._i,o=i.length,u=0;for(a=I(e._f,e._locale).match(Ue)||[],t=0;t<a.length;t++)s=a[t],n=(i.match(H(s,e))||[])[0],n&&(r=i.substr(0,i.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),i=i.slice(i.indexOf(n)+n.length),u+=n.length),ot[s]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(s),x(s,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=o-u,i.length>0&&e._pf.unusedInput.push(i),e._isPm&&e._a[Ye]<12&&(e._a[Ye]+=12),!1===e._isPm&&12===e._a[Ye]&&(e._a[Ye]=0),N(e),O(e)}function q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,s){return t||n||a||s})}function $(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,a,s,r,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)i=0,t=d({},e),t._pf=n(),t._f=e._f[r],V(t),W(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==s||i<s)&&(s=i,a=t));l(e,a||t)}function Q(e){var t,n,a=e._i,s=Xe.exec(a);if(s){for(e._pf.iso=!0,t=0,n=Be.length;t<n;t++)if(Be[t][1].exec(a)){e._f=Be[t][0]+(s[6]||" ");break}for(t=0,n=Re.length;t<n;t++)if(Re[t][1].exec(a)){e._f+=Re[t][0];break}a.match(xe)&&(e._f+="Z"),V(e)}else e._isValid=!1}function X(e){Q(e),!1===e._isValid&&(delete e._isValid,_e.createFromInputFallback(e))}function B(t){var n,a=t._i;a===e?t._d=new Date:M(a)?t._d=new Date(+a):null!==(n=We.exec(a))?t._d=new Date(+n[1]):"string"==typeof a?X(t):D(a)?(t._a=a.slice(0),N(t)):"object"==typeof a?E(t):"number"==typeof a?t._d=new Date(a):_e.createFromInputFallback(t)}function R(e,t,n,a,s,r,i){var o=new Date(e,t,n,a,s,r,i);return e<1970&&o.setFullYear(e),o}function K(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ee(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}function te(e,t,n,a,s){return s.relativeTime(t||1,!!n,e,a)}function ne(e,t,n){var a=_e.duration(e).abs(),s=De(a.as("s")),r=De(a.as("m")),i=De(a.as("h")),o=De(a.as("d")),u=De(a.as("M")),c=De(a.as("y")),l=s<st.s&&["s",s]||1===r&&["m"]||r<st.m&&["mm",r]||1===i&&["h"]||i<st.h&&["hh",i]||1===o&&["d"]||o<st.d&&["dd",o]||1===u&&["M"]||u<st.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,te.apply({},l)}function ae(e,t,n){var a,s=n-t,r=n-e.day();return r>s&&(r-=7),r<s-7&&(r+=7),a=_e(e).add(r,"d"),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function se(e,t,n,a,s){var r,i,o=K(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:s,r=s-o+(o>a?7:0)-(o<s?7:0),i=7*(t-1)+(n-s)+r+1,{year:i>0?e:e-1,dayOfYear:i>0?i:S(e-1)+i}}function re(t){var n=t._i,a=t._f;return t._locale=t._locale||_e.localeData(t._l),null===n||a===e&&""===n?_e.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),_e.isMoment(n)?new u(n,!0):(a?D(a)?J(t):V(t):B(t),new u(t)))}function ie(e,t){var n,a;if(1===t.length&&D(t[0])&&(t=t[0]),!t.length)return _e();for(n=t[0],a=1;a<t.length;++a)t[a][e](n)&&(n=t[a]);return n}function oe(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(n=Math.min(e.date(),k(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ue(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function ce(e,t,n){return"Month"===t?oe(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function le(e,t){return function(n){return null!=n?(ce(this,e,n),_e.updateOffset(this,t),this):ue(this,e)}}function de(e){return 400*e/146097}function he(e){return 146097*e/400}function fe(e){"undefined"==typeof ender&&(me=pe.moment,pe.moment=e?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",_e):_e)}for(var _e,me,ye,pe="undefined"!=typeof global?global:this,De=Math.round,Me=0,ge=1,we=2,Ye=3,ve=4,ke=5,be=6,Se={},Te=[],Oe="undefined"!=typeof module&&module.exports,We=/^\/?Date\((\-?\d+)/i,Ge=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ue=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ce=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ze=/\d\d?/,Pe=/\d{1,3}/,Le=/\d{1,4}/,Ie=/[+\-]?\d{1,6}/,He=/\d+/,Ae=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xe=/Z|[\+\-]\d\d:?\d\d/gi,Ze=/T/i,Ne=/[\+\-]?\d+(\.\d{1,3})?/,Ee=/\d{1,2}/,je=/\d/,Ve=/\d\d/,qe=/\d{3}/,$e=/\d{4}/,Je=/[+-]?\d{6}/,Qe=/[+-]?\d+/,Xe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Re=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ke=/([\+\-]|\d\d)/gi,et=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),tt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},nt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},at={},st={s:45,m:45,h:22,d:26,M:11},rt="DDD w W M D d".split(" "),it="M D H h m s w W".split(" "),ot={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var e=this.year();return(e>=0?"+":"-")+f(Math.abs(e),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return v(this.milliseconds()/100)},SS:function(){return f(v(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+f(v(e/60),2)+":"+f(v(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+f(v(e/60),2)+f(v(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ut={},ct=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];rt.length;)ye=rt.pop(),ot[ye+"o"]=function(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}(ot[ye],ye);for(;it.length;)ye=it.pop(),ot[ye+ye]=i(ot[ye],2);ot.DDDD=i(ot.DDD,3),l(o.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,a;for(this._monthsParse||(this._monthsParse=[]),t=0;t<12;t++)if(this._monthsParse[t]||(n=_e.utc([2e3,t]),a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(a.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,a;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=_e([2e3,1]).day(t),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,a){var s=this._relativeTime[n];return"function"==typeof s?s(e,t,n,a):s.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ae(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),_e=function(t,a,s,r){var i;return"boolean"==typeof s&&(r=s,s=e),i={},i._isAMomentObject=!0,i._i=t,i._f=a,i._l=s,i._strict=r,i._isUTC=!1,i._pf=n(),re(i)},_e.suppressDeprecationWarnings=!1,_e.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),_e.min=function(){return ie("isBefore",[].slice.call(arguments,0))},_e.max=function(){return ie("isAfter",[].slice.call(arguments,0))},_e.utc=function(t,a,s,r){var i;return"boolean"==typeof s&&(r=s,s=e),i={},i._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=s,i._i=t,i._f=a,i._strict=r,i._pf=n(),re(i).utc()},_e.unix=function(e){return _e(1e3*e)},_e.duration=function(e,t){var n,a,s,r,i=e,o=null;return _e.isDuration(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(o=Ge.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:v(o[we])*n,h:v(o[Ye])*n,m:v(o[ve])*n,s:v(o[ke])*n,ms:v(o[be])*n}):(o=Fe.exec(e))?(n="-"===o[1]?-1:1,s=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},i={y:s(o[2]),M:s(o[3]),d:s(o[4]),h:s(o[5]),m:s(o[6]),s:s(o[7]),w:s(o[8])}):"object"==typeof i&&("from"in i||"to"in i)&&(r=m(_e(i.from),_e(i.to)),i={},i.ms=r.milliseconds,i.M=r.months),a=new c(i),_e.isDuration(e)&&e.hasOwnProperty("_locale")&&(a._locale=e._locale),a},_e.version="2.8.1",_e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",_e.ISO_8601=function(){},_e.momentProperties=Te,_e.updateOffset=function(){},_e.relativeTimeThreshold=function(t,n){return st[t]!==e&&(n===e?st[t]:(st[t]=n,!0))},_e.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return _e.locale(e,t)}),_e.locale=function(e,t){var n;return e&&(n=void 0!==t?_e.defineLocale(e,t):_e.localeData(e))&&(_e.duration._locale=_e._locale=n),_e._locale._abbr},_e.defineLocale=function(e,t){return null!==t?(t.abbr=e,Se[e]||(Se[e]=new o),Se[e].set(t),_e.locale(e),Se[e]):(delete Se[e],null)},_e.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(e){return _e.localeData(e)}),_e.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return _e._locale;if(!D(e)){if(t=U(e))return t;e=[e]}return F(e)},_e.isMoment=function(e){return e instanceof u||null!=e&&e.hasOwnProperty("_isAMomentObject")},_e.isDuration=function(e){return e instanceof c};for(ye=ct.length-1;ye>=0;--ye)!function(t){var n,a;if(0===t.indexOf("week"))n=7,a="day";else{if(0!==t.indexOf("month"))return;n=12,a="month"}_e[t]=function(s,r){var i,o,u=_e._locale[t],c=[];if("number"==typeof s&&(r=s,s=e),o=function(e){var t=_e().utc().set(a,e);return u.call(_e._locale,t,s||"")},null!=r)return o(r);for(i=0;i<n;i++)c.push(o(i));return c}}(ct[ye]);_e.normalizeUnits=function(e){return w(e)},_e.invalid=function(e){var t=_e.utc(NaN);return null!=e?l(t._pf,e):t._pf.userInvalidated=!0,t},_e.parseZone=function(){return _e.apply(null,arguments).parseZone()},_e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)},l(_e.fn=u.prototype,{clone:function(){return _e(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=_e(this).utc();return 0<e.year()&&e.year()<=9999?L(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return W(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&g(this._a,(this._isUTC?_e.utc(this._a):_e(this._a)).toArray())>0)},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._d.getTimezoneOffset(),"m")),this},format:function(e){var t=L(this,e||_e.defaultFormat);return this.localeData().postformat(t)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(e,t,n){var a,s,r=C(e,this),i=6e4*(this.zone()-r.zone());return t=w(t),"year"===t||"month"===t?(a=432e5*(this.daysInMonth()+r.daysInMonth()),s=12*(this.year()-r.year())+(this.month()-r.month()),s+=(this-_e(this).startOf("month")-(r-_e(r).startOf("month")))/a,s-=6e4*(this.zone()-_e(this).startOf("month").zone()-(r.zone()-_e(r).startOf("month").zone()))/a,"year"===t&&(s/=12)):(a=this-r,s="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-i)/864e5:"week"===t?(a-i)/6048e5:a),n?s:h(s)},from:function(e,t){return _e.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(_e(),e)},calendar:function(e){var t=e||_e(),n=C(t,this).startOf("day"),a=this.diff(n,"days",!0),s=a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this))},isLeapYear:function(){return T(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ee(e,this.localeData()),this.add(e-t,"d")):t},month:le("Month",!0),startOf:function(e){switch(e=w(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=w(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+_e(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+_e(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)==+C(e,this).startOf(t)},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=_e.apply(null,arguments),e<this?this:e}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=_e.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,a=this._offset||0;return null==e?this._isUTC?a:this._d.getTimezoneOffset():("string"==typeof e&&(e=A(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(n=this._d.getTimezoneOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),a!==e&&(!t||this._changeInProgress?p(this,_e.duration(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_e.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?_e(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return k(this.year(),this.month())},dayOfYear:function(e){var t=De((_e(this).startOf("day")-_e(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ae(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ae(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ae(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return b(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return b(this.year(),e.dow,e.doy)},get:function(e){return e=w(e),this[e]()},set:function(e,t){return e=w(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){return t===e?this._locale._abbr:(this._locale=_e.localeData(t),this)},lang:s("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():(this._locale=_e.localeData(t),this)}),localeData:function(){return this._locale}}),_e.fn.millisecond=_e.fn.milliseconds=le("Milliseconds",!1),_e.fn.second=_e.fn.seconds=le("Seconds",!1),_e.fn.minute=_e.fn.minutes=le("Minutes",!1),_e.fn.hour=_e.fn.hours=le("Hours",!0),_e.fn.date=le("Date",!0),_e.fn.dates=s("dates accessor is deprecated. Use date instead.",le("Date",!0)),_e.fn.year=le("FullYear",!0),_e.fn.years=s("years accessor is deprecated. Use year instead.",le("FullYear",!0)),_e.fn.days=_e.fn.day,_e.fn.months=_e.fn.month,_e.fn.weeks=_e.fn.week,_e.fn.isoWeeks=_e.fn.isoWeek,_e.fn.quarters=_e.fn.quarter,_e.fn.toJSON=_e.fn.toISOString,l(_e.duration.fn=c.prototype,{_bubble:function(){var e,t,n,a=this._milliseconds,s=this._days,r=this._months,i=this._data,o=0;i.milliseconds=a%1e3,e=h(a/1e3),i.seconds=e%60,t=h(e/60),i.minutes=t%60,n=h(t/60),i.hours=n%24,s+=h(n/24),o=h(de(s)),s-=h(he(o)),r+=h(s/30),s%=30,o+=h(r/12),r%=12,i.days=s,i.months=r,i.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},humanize:function(e){var t=ne(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=_e.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=_e.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=w(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=w(e),t=this._days+this._milliseconds/864e5,"month"===e||"year"===e)return n=this._months+12*de(t),"month"===e?n:n/12;switch(t+=he(this._months/12),e){case"week":return t/7;case"day":return t;case"hour":return 24*t;case"minute":return 24*t*60;case"second":return 24*t*60*60;case"millisecond":return 24*t*60*60*1e3;default:throw new Error("Unknown unit "+e)}},lang:_e.fn.lang,locale:_e.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),a=Math.abs(this.hours()),s=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(a||s||r?"T":"")+(a?a+"H":"")+(s?s+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}});for(ye in et)et.hasOwnProperty(ye)&&function(e){_e.duration.fn[e]=function(){return this._data[e]}}(ye.toLowerCase());_e.duration.fn.asMilliseconds=function(){return this.as("ms")},_e.duration.fn.asSeconds=function(){return this.as("s")},_e.duration.fn.asMinutes=function(){return this.as("m")},_e.duration.fn.asHours=function(){return this.as("h")},_e.duration.fn.asDays=function(){return this.as("d")},_e.duration.fn.asWeeks=function(){return this.as("weeks")},_e.duration.fn.asMonths=function(){return this.as("M")},_e.duration.fn.asYears=function(){return this.as("y")},_e.locale("en",{ordinal:function(e){var t=e%10;return e+(1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Oe?module.exports=_e:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&!0===n.config().noGlobal&&(pe.moment=me),_e}),fe(!0)):fe()}).call(this);
!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function n(t){return q(t,Xt)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,r){"views"!=e&&(t.isPlainObject(r)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Xt)?(n=null,t.each(r,function(t,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=r):(n||(n={}),n[t]=r)}),n&&(i[e]=n)):i[e]=r)}),i}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function s(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){t("body").addClass("fc-not-allowed")}function l(){t("body").removeClass("fc-not-allowed")}function a(e,n,i){var r=Math.floor(n/e.length),s=Math.floor(n-r*(e.length-1)),o=[],l=[],a=[],c=0;u(e),e.each(function(n,i){var u=n===e.length-1?s:r,d=t(i).outerHeight(!0);u>d?(o.push(i),l.push(d),a.push(t(i).height())):c+=d}),i&&(n-=c,r=Math.floor(n/o.length),s=Math.floor(n-r*(o.length-1))),t(o).each(function(e,n){var i=e===o.length-1?s:r,u=l[e],c=a[e],d=i-(u-c);i>u&&t(n).height(d)})}function u(t){t.height("")}function c(e){var n=0;return e.find("> span").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function d(t,e){var n,i=t.add(e);return i.css({position:"relative",left:-1}),n=t.outerHeight()-e.outerHeight(),i.css({position:"",left:""}),n}function h(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function f(t,e){var n=t.offset(),i=n.left-(e?e.left:0),r=n.top-(e?e.top:0);return{left:i,right:i+t.outerWidth(),top:r,bottom:r+t.outerHeight()}}function g(t,e){var n=t.offset(),i=v(t),r=n.left+S(t,"border-left-width")+i.left-(e?e.left:0),s=n.top+S(t,"border-top-width")+i.top-(e?e.top:0);return{left:r,right:r+t[0].clientWidth,top:s,bottom:s+t[0].clientHeight}}function p(t,e){var n=t.offset(),i=n.left+S(t,"border-left-width")+S(t,"padding-left")-(e?e.left:0),r=n.top+S(t,"border-top-width")+S(t,"padding-top")-(e?e.top:0);return{left:i,right:i+t.width(),top:r,bottom:r+t.height()}}function v(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return m()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function m(){return null===Qt&&(Qt=y()),Qt}function y(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),i=n.offset().left>e.offset().left;return e.remove(),i}function S(t,e){return parseFloat(t.css(e))||0}function w(t){return 1==t.which&&!t.ctrlKey}function E(t){if(void 0!==t.pageX)return t.pageX;var e=t.originalEvent.touches;return e?e[0].pageX:void 0}function D(t){if(void 0!==t.pageY)return t.pageY;var e=t.originalEvent.touches;return e?e[0].pageY:void 0}function b(t){return/^touch/.test(t.type)}function H(t){t.addClass("fc-unselectable").on("selectstart",T)}function T(t){t.preventDefault()}function C(t){return!!window.addEventListener&&(window.addEventListener("scroll",t,!0),!0)}function R(t){return!!window.removeEventListener&&(window.removeEventListener("scroll",t,!0),!0)}function x(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function I(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function k(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function M(t,e){return{left:t.left-e.left,top:t.top-e.top}}function L(e){var n,i,r=[],s=[];for("string"==typeof e?s=e.split(/\s*,\s*/):"function"==typeof e?s=[e]:t.isArray(e)&&(s=e),n=0;n<s.length;n++)i=s[n],"string"==typeof i?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i});return r}function z(t,e,n){var i,r;for(i=0;i<n.length;i++)if(r=F(t,e,n[i]))return r;return 0}function F(t,e,n){return n.func?n.func(t,e):B(t[n.field],e[n.field])*(n.order||1)}function B(e,n){return e||n?null==n?-1:null==e?1:"string"===t.type(e)||"string"===t.type(n)?String(e).localeCompare(String(n)):e-n:0}function N(t,e){var n,i,r,s,o=t.start,l=t.end,a=e.start,u=e.end;return l>a&&u>o?(o>=a?(n=o.clone(),r=!0):(n=a.clone(),r=!1),u>=l?(i=l.clone(),s=!0):(i=u.clone(),s=!1),{start:n,end:i,isStart:r,isEnd:s}):void 0}function O(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function G(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function A(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function _(t,e){var n,i,r;for(n=0;n<Jt.length&&(i=Jt[n],!((r=V(i,t,e))>=1&&lt(r)));n++);return i}function V(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function P(t,e,n){var i;return j(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&lt(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function Y(t,e){var n,i;return j(t)||j(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&lt(n)&&Math.abs(i)>=1&&lt(i)?n/i:t.asDays()/e.asDays())}function W(t,n){var i;return j(t)?e.duration(t*n):(i=t.asMonths(),Math.abs(i)>=1&&lt(i)?e.duration({months:i*n}):e.duration({days:t.asDays()*n}))}function j(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function U(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function Z(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function q(t,e){var n,i,r,s,o,l,a={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],s=t.length-1;s>=0;s--)if("object"==typeof(o=t[s][i]))r.unshift(o);else if(void 0!==o){a[i]=o;break}r.length&&(a[i]=q(r))}for(n=t.length-1;n>=0;n--){l=t[n];for(i in l)i in a||(a[i]=l[i])}return a}function $(t){var e=function(){};return e.prototype=t,new e}function X(t,e){for(var n in t)K(t,n)&&(e[n]=t[n])}function Q(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)i=r[n],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function K(t,e){return ie.call(t,e)}function J(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function tt(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,s;for(r=0;r<e.length;r++)s=e[r].apply(n,i)||s;return s}}function et(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function nt(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function it(t){return t.replace(/&.*?;/g,"")}function rt(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function st(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ot(t,e){return t-e}function lt(t){return t%1==0}function at(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function ut(t,e,n){var i,r,s,o,l,a=function(){var u=+new Date-o;e>u?i=setTimeout(a,e-u):(i=null,n||(l=t.apply(s,r),s=r=null))};return function(){s=this,r=arguments,o=+new Date;var u=n&&!i;return i||(i=setTimeout(a,e)),u&&(l=t.apply(s,r),s=r=null),l}}function ct(e,n){return e&&e.then&&"resolved"!==e.state()?n?e.then(n):void 0:t.when(n())}function dt(n,i,r){var s,o,l,a,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?(a=e.apply(null,n),ft(u,a)):U(u)||void 0===u?a=e.apply(null,n):(s=!1,o=!1,c?re.test(u)?(u+="-01",n=[u],s=!0,o=!0):(l=se.exec(u))&&(s=!l[5],o=!0):t.isArray(u)&&(o=!0),a=i||s?e.utc.apply(e,n):e.apply(null,n),s?(a._ambigTime=!0,a._ambigZone=!0):r&&(o?a._ambigZone=!0:c&&(a.utcOffset?a.utcOffset(u):a.zone(u)))),a._fullCalendar=!0,a}function ht(t,n){var i,r,s=!1,o=!1,l=t.length,a=[];for(i=0;l>i;i++)r=t[i],e.isMoment(r)||(r=qt.moment.parseZone(r)),s=s||r._ambigTime,o=o||r._ambigZone,a.push(r);for(i=0;l>i;i++)r=a[i],n||!s||r._ambigTime?o&&!r._ambigZone&&(a[i]=r.clone().stripZone()):a[i]=r.clone().stripTime();return a}function ft(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function gt(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function pt(t,e){return le.format.call(t,e)}function vt(t,e){return mt(t,Dt(e))}function mt(t,e){var n,i="";for(n=0;n<e.length;n++)i+=yt(t,e[n]);return i}function yt(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?ae[n]?ae[n](t):pt(t,n):e.maybe&&(i=mt(t,e.maybe),i.match(/[1-9]/))?i:""}function St(t,e,n,i,r){var s;return t=qt.moment.parseZone(t),e=qt.moment.parseZone(e),s=(t.localeData||t.lang).call(t),n=s.longDateFormat(n)||n,i=i||" - ",wt(t,e,Dt(n),i,r)}function wt(t,e,n,i,r){var s,o,l,a,u=t.clone().stripZone(),c=e.clone().stripZone(),d="",h="",f="",g="",p="";for(o=0;o<n.length&&!1!==(s=Et(t,e,u,c,n[o]));o++)d+=s;for(l=n.length-1;l>o&&!1!==(s=Et(t,e,u,c,n[l]));l--)h=s+h;for(a=o;l>=a;a++)f+=yt(t,n[a]),g+=yt(e,n[a]);return(f||g)&&(p=r?g+i+f:f+i+g),d+p+h}function Et(t,e,n,i,r){var s,o;return"string"==typeof r?r:!!((s=r.token)&&(o=ue[s.charAt(0)])&&n.isSame(i,o))&&pt(t,s)}function Dt(t){return t in ce?ce[t]:ce[t]=bt(t)}function bt(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:bt(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function Ht(){}function Tt(t,e){var n;return K(e,"constructor")&&(n=e.constructor),"function"!=typeof n&&(n=e.constructor=function(){t.apply(this,arguments)}),n.prototype=$(t.prototype),X(e,n.prototype),Q(e,n.prototype),X(t,n),n}function Ct(t,e){X(e,t.prototype)}function Rt(t,e){return!t&&!e||!(!t||!e)&&(t.component===e.component&&xt(t,e)&&xt(e,t))}function xt(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}function It(t){var e=Mt(t);return"background"===e||"inverse-background"===e}function kt(t){return"inverse-background"===Mt(t)}function Mt(t){return et((t.source||{}).rendering,t.rendering)}function Lt(t){var e,n,i={};for(e=0;e<t.length;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function zt(t,e){return t.start-e.start}function Ft(n){var i,r,s,o,l=qt.dataAttrPrefix;return l&&(l+="-"),i=n.data(l+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},r=i.start,null==r&&(r=i.time),s=i.duration,o=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(l+"start")),null==r&&(r=n.data(l+"time")),null==s&&(s=n.data(l+"duration")),null==o&&(o=n.data(l+"stick")),r=null!=r?e.duration(r):null,s=null!=s?e.duration(s):null,o=Boolean(o),{eventProps:i,startTime:r,duration:s,stick:o}}function Bt(t,e){var n,i;for(n=0;n<e.length;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Nt(t,e){return t.leftCol-e.leftCol}function Ot(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&_t(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function Gt(t){var e,n,i,r,s;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for(r=n[i],r.forwardSegs=[],s=e+1;s<t.length;s++)_t(r,t[s],r.forwardSegs)}function At(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)n=i[e],At(n),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function _t(t,e,n){n=n||[];for(var i=0;i<e.length;i++)Vt(t,e[i])&&n.push(e[i]);return n}function Vt(t,e){return t.bottom>e.top&&t.top<e.bottom}function Pt(n,r){function s(t){"_locale"in t?t._locale=U:t._lang=U}function o(){q?c()&&(p(),d()):l()}function l(){n.addClass("fc"),j.bindOption("theme",function(t){X=t?"ui":"fc",n.toggleClass("ui-widget",t),n.toggleClass("fc-unthemed",!t)}),j.bindOptions(["isRTL","lang"],function(t){n.toggleClass("fc-ltr",!t),n.toggleClass("fc-rtl",t)}),q=t("<div class='fc-view-container'/>").prependTo(n),Z=j.header=new jt(j),a(),d(j.options.defaultView),j.options.handleWindowResize&&(J=ut(m,j.options.windowResizeDelay),t(window).resize(J))}function a(){Z.render(),Z.el&&n.prepend(Z.el)}function u(){Q&&Q.removeElement(),Z.removeElement(),q.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),J&&t(window).unbind("resize",J)}function c(){return n.is(":visible")}function d(e,n){ot++,Q&&e&&Q.type!==e&&(G(),h()),!Q&&e&&(Q=j.view=st[e]||(st[e]=j.instantiateView(e)),Q.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(q)),Z.activateButton(e)),Q&&(tt=Q.massageCurrentDate(tt),Q.displaying&&tt.isWithin(Q.intervalStart,Q.intervalEnd)||c()&&(Q.display(tt,n),A(),T(),C(),E())),A(),ot--}function h(){Z.deactivateButton(Q.type),Q.removeElement(),Q=j.view=null}function f(){ot++,G();var t=Q.type,e=Q.queryScroll();h(),d(t,e),A(),ot--}function g(t){return c()?(t&&v(),ot++,Q.updateSize(!0),ot--,!0):void 0}function p(){c()&&v()}function v(){K="number"==typeof j.options.contentHeight?j.options.contentHeight:"number"==typeof j.options.height?j.options.height-(Z.el?Z.el.outerHeight(!0):0):Math.round(q.width()/Math.max(j.options.aspectRatio,.5))}function m(t){!ot&&t.target===window&&Q.start&&g(!0)&&Q.trigger("windowResize",rt)}function y(){D()}function S(t){it(j.getEventSourcesByMatchArray(t))}function w(){c()&&(G(),Q.displayEvents(lt),A())}function E(){!j.options.lazyFetching||et(Q.start,Q.end)?D():w()}function D(){nt(Q.start,Q.end)}function b(t){lt=t,w()}function H(){w()}function T(){Z.updateTitle(Q.title)}function C(){j.getNow().isWithin(Q.intervalStart,Q.intervalEnd)?Z.disableButton("today"):Z.enableButton("today")}function R(t,e){Q.select(j.buildSelectSpan.apply(j,arguments))}function x(){Q&&Q.unselect()}function I(){tt=Q.computePrevDate(tt),d()}function k(){tt=Q.computeNextDate(tt),d()}function M(){tt.add(-1,"years"),d()}function L(){tt.add(1,"years"),d()}function z(){tt=j.getNow(),d()}function F(t){tt=j.moment(t).stripZone(),d()}function B(t){tt.add(e.duration(t)),d()}function N(t,e){var n;e=e||"day",n=j.getViewSpec(e)||j.getUnitViewSpec(e),tt=t.clone(),d(n?n.type:null)}function O(){return j.applyTimezone(tt)}function G(){q.css({width:"100%",height:q.height(),overflow:"hidden"})}function A(){q.css({width:"",height:"",overflow:""})}function _(){return j}function V(){return Q}function P(t,e){var n;if("string"==typeof t){if(void 0===e)return j.options[t];n={},n[t]=e,Y(n)}else"object"==typeof t&&Y(t)}function Y(t){var e,n=0;for(e in t)j.dynamicOverrides[e]=t[e];j.viewSpecCache={},j.populateOptionsHash();for(e in t)j.triggerOptionHandlers(e),n++;if(1===n){if("height"===e||"contentHeight"===e||"aspectRatio"===e)return void g(!0);if("defaultDate"===e)return;if("businessHours"===e)return void(Q&&(Q.unrenderBusinessHours(),Q.renderBusinessHours()));if("timezone"===e)return j.rezoneArrayEventSources(),void y()}a(),st={},f()}function W(t,e){var n=Array.prototype.slice.call(arguments,2);return e=e||rt,this.triggerWith(t,e,n),j.options[t]?j.options[t].apply(e,n):void 0}var j=this;j.render=o,j.destroy=u,j.refetchEvents=y,j.refetchEventSources=S,j.reportEvents=b,j.reportEventChange=H,j.rerenderEvents=w,j.changeView=d,j.select=R,j.unselect=x,j.prev=I,j.next=k,j.prevYear=M,j.nextYear=L,j.today=z,j.gotoDate=F,j.incrementDate=B,j.zoomTo=N,j.getDate=O,j.getCalendar=_,j.getView=V,j.option=P,j.trigger=W,j.dynamicOverrides={},j.viewSpecCache={},j.optionHandlers={},j.overrides=i(r||{}),j.populateOptionsHash();var U;j.bindOptions(["lang","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(t,e,n,i,r,o,l){if(U=$(Wt(t)),e&&(U._months=e),n&&(U._monthsShort=n),i&&(U._weekdays=i),r&&(U._weekdaysShort=r),null!=o){var a=$(U._week);a.dow=o,U._week=a}"iso"===l&&(l="ISO"),"ISO"!==l&&"local"!==l&&"function"!=typeof l||(U._fullCalendar_weekCalc=l),tt&&s(tt)}),j.defaultAllDayEventDuration=e.duration(j.options.defaultAllDayEventDuration),j.defaultTimedEventDuration=e.duration(j.options.defaultTimedEventDuration),j.moment=function(){var t;return"local"===j.options.timezone?(t=qt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===j.options.timezone?qt.moment.utc.apply(null,arguments):qt.moment.parseZone.apply(null,arguments),s(t),t},j.getIsAmbigTimezone=function(){return"local"!==j.options.timezone&&"UTC"!==j.options.timezone},j.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=j.moment(t.toArray()),i=t.time()-n.time();return i&&(e=n.clone().add(i),t.time()-e.time()==0&&(n=e)),n},j.getNow=function(){var t=j.options.now;return"function"==typeof t&&(t=t()),j.moment(t).stripZone()},j.getEventEnd=function(t){return t.end?t.end.clone():j.getDefaultEventEnd(t.allDay,t.start)},j.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(j.defaultAllDayEventDuration):n.add(j.defaultTimedEventDuration),j.getIsAmbigTimezone()&&n.stripZone(),n},j.humanizeDuration=function(t){return(t.locale||t.lang).call(t,j.options.lang).humanize()},Ut.call(j);var Z,q,X,Q,K,J,tt,et=j.isFetchNeeded,nt=j.fetchEvents,it=j.fetchEventSources,rt=n[0],st={},ot=0,lt=[];tt=null!=j.options.defaultDate?j.moment(j.options.defaultDate).stripZone():j.getNow(),j.getSuggestedViewHeight=function(){return void 0===K&&p(),K},j.isHeightAuto=function(){return"auto"===j.options.contentHeight||"auto"===j.options.height},j.freezeContentHeight=G,j.unfreezeContentHeight=A,j.initialize()}function Yt(e){t.each(Ie,function(t,n){null==e[t]&&(e[t]=n(e))})}function Wt(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function jt(e){function n(){var n=e.options,s=n.header;f=n.theme?"ui":"fc",s?(h?h.empty():h=this.el=t("<div class='fc-toolbar'/>"),h.append(r("left")).append(r("right")).append(r("center")).append('<div class="fc-clear"/>')):i()}function i(){h&&(h.remove(),h=d.el=null)}function r(n){var i=t('<div class="fc-'+n+'"/>'),r=e.options,s=r.header[n];return s&&t.each(s.split(" "),function(n){var s,o=t(),l=!0;t.each(this.split(","),function(n,i){var s,a,u,c,d,h,p,v,m,y;"title"==i?(o=o.add(t("<h2>&nbsp;</h2>")),l=!1):((s=(r.customButtons||{})[i])?(u=function(t){s.click&&s.click.call(y[0],t)},c="",d=s.text):(a=e.getViewSpec(i))?(u=function(){e.changeView(i)},g.push(i),c=a.buttonTextOverride,d=a.buttonTextDefault):e[i]&&(u=function(){e[i]()},c=(e.overrides.buttonText||{})[i],d=r.buttonText[i]),u&&(h=s?s.themeIcon:r.themeButtonIcons[i],p=s?s.icon:r.buttonIcons[i],v=c?nt(c):h&&r.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":p&&!r.theme?"<span class='fc-icon fc-icon-"+p+"'></span>":nt(d),m=["fc-"+i+"-button",f+"-button",f+"-state-default"],y=t('<button type="button" class="'+m.join(" ")+'">'+v+"</button>").click(function(t){y.hasClass(f+"-state-disabled")||(u(t),(y.hasClass(f+"-state-active")||y.hasClass(f+"-state-disabled"))&&y.removeClass(f+"-state-hover"))}).mousedown(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){y.removeClass(f+"-state-down")}).hover(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){y.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),o=o.add(y)))}),l&&o.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),o.length>1?(s=t("<div/>"),l&&s.addClass("fc-button-group"),s.append(o),i.append(s)):i.append(o)}),i}function s(t){h&&h.find("h2").text(t)}function o(t){h&&h.find(".fc-"+t+"-button").addClass(f+"-state-active")}function l(t){h&&h.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function a(t){h&&h.find(".fc-"+t+"-button").prop("disabled",!0).addClass(f+"-state-disabled")}function u(t){h&&h.find(".fc-"+t+"-button").prop("disabled",!1).removeClass(f+"-state-disabled")}function c(){return g}var d=this;d.render=n,d.removeElement=i,d.updateTitle=s,d.activateButton=o,d.deactivateButton=l,d.disableButton=a,d.enableButton=u,d.getViewsWithButtons=c,d.el=null;var h,f,g=[]}function Ut(){function n(t,e){return!q||q>t||e>$}function i(t,e){q=t,$=e,r(K,"reset")}function r(t,e){var n,i;for("reset"===e?it=[]:"add"!==e&&(it=w(it,t)),n=0;n<t.length;n++)i=t[n],"pending"!==i._status&&nt++,i._fetchId=(i._fetchId||0)+1,i._status="pending";for(n=0;n<t.length;n++)i=t[n],s(i,i._fetchId)}function s(e,n){a(e,function(i){var r,s,o,a=t.isArray(e.events);if(n===e._fetchId&&"rejected"!==e._status){if(e._status="resolved",i)for(r=0;r<i.length;r++)s=i[r],(o=a?s:x(s,e))&&it.push.apply(it,L(o));l()}})}function o(t){var e="pending"===t._status;t._status="rejected",e&&l()}function l(){--nt||X(it)}function a(e,n){var i,r,s=qt.sourceFetchers;for(i=0;i<s.length;i++){if(!0===(r=s[i].call(U,e,q.clone(),$.clone(),U.options.timezone,n)))return;if("object"==typeof r)return void a(r,n)}var o=e.events;if(o)t.isFunction(o)?(U.pushLoading(),o.call(U,q.clone(),$.clone(),U.options.timezone,function(t){n(t),U.popLoading()})):t.isArray(o)?n(o):n();else{if(e.url){var l,u=e.success,c=e.error,d=e.complete;l=t.isFunction(e.data)?e.data():e.data;var h=t.extend({},l||{}),f=et(e.startParam,U.options.startParam),g=et(e.endParam,U.options.endParam),p=et(e.timezoneParam,U.options.timezoneParam);f&&(h[f]=q.format()),g&&(h[g]=$.format()),U.options.timezone&&"local"!=U.options.timezone&&(h[p]=U.options.timezone),U.pushLoading(),t.ajax(t.extend({},ke,e,{data:h,success:function(e){e=e||[];var i=tt(u,this,arguments);t.isArray(i)&&(e=i),n(e)},error:function(){tt(c,this,arguments),n()},complete:function(){tt(d,this,arguments),U.popLoading()}}))}else n()}}function u(t){var e=c(t);e&&(K.push(e),r([e],"add"))}function c(e){var n,i,r=qt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return x(t,n)})),i=0;i<r.length;i++)r[i].call(U,n);return n}}function d(t){f(m(t))}function h(t){null==t?f(K,!0):f(v(t))}function f(e,n){var i;for(i=0;i<e.length;i++)o(e[i]);n?(K=[],it=[]):(K=t.grep(K,function(t){for(i=0;i<e.length;i++)if(t===e[i])return!1;return!0}),it=w(it,e)),X(it)}function g(){return K.slice(1)}function p(e){return t.grep(K,function(t){return t.id&&t.id===e})[0]}function v(e){e?t.isArray(e)||(e=[e]):e=[];var n,i=[];for(n=0;n<e.length;n++)i.push.apply(i,m(e[n]));return i}function m(e){var n,i;for(n=0;n<K.length;n++)if((i=K[n])===e)return[i];return i=p(e),i?[i]:t.grep(K,function(t){return y(e,t)})}function y(t,e){return t&&e&&S(t)==S(e)}function S(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function w(e,n){return t.grep(e,function(t){for(var e=0;e<n.length;e++)if(t.source===n[e])return!1;return!0})}function E(t){t.start=U.moment(t.start),t.end?t.end=U.moment(t.end):t.end=null,z(t,D(t)),X(it)}function D(e){var n={};return t.each(e,function(t,e){b(t)&&void 0!==e&&J(e)&&(n[t]=e)}),n}function b(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function H(t,e){var n,i,r,s=x(t);if(s){for(n=L(s),i=0;i<n.length;i++)r=n[i],r.source||(e&&(Q.events.push(r),r.source=Q),it.push(r));return X(it),n}return[]}function T(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),it=t.grep(it,e,!0),i=0;i<K.length;i++)t.isArray(K[i].events)&&(K[i].events=t.grep(K[i].events,e,!0));X(it)}function C(e){return t.isFunction(e)?t.grep(it,e):null!=e?(e+="",t.grep(it,function(t){return t._id==e})):it}function R(t){t.start=U.moment(t.start),t.end&&(t.end=U.moment(t.end)),Zt(t)}function x(n,i){var r,s,o,l={};if(U.options.eventDataTransform&&(n=U.options.eventDataTransform(n)),i&&i.eventDataTransform&&(n=i.eventDataTransform(n)),t.extend(l,n),i&&(l.source=i),l._id=n._id||(void 0===n.id?"_fc"+Me++:n.id+""),n.className?"string"==typeof n.className?l.className=n.className.split(/\s+/):l.className=n.className:l.className=[],r=n.start||n.date,s=n.end,Z(r)&&(r=e.duration(r)),Z(s)&&(s=e.duration(s)),n.dow||e.isDuration(r)||e.isDuration(s))l.start=r?e.duration(r):null,l.end=s?e.duration(s):null,l._recurring=!0;else{if(r&&(r=U.moment(r),!r.isValid()))return!1;s&&(s=U.moment(s),s.isValid()||(s=null)),o=n.allDay,void 0===o&&(o=et(i?i.allDayDefault:void 0,U.options.allDayDefault)),I(r,s,o,l)}return U.normalizeEvent(l),l}function I(t,e,n,i){i.start=t,i.end=e,i.allDay=n,k(i),Zt(i)}function k(t){M(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(U.options.forceEventDuration?t.end=U.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function M(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=U.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=U.applyTimezone(t.end.time(0))))}function L(e,n,i){var r,s,o,l,a,u,c,d,h,f=[];if(n=n||q,i=i||$,e)if(e._recurring){if(s=e.dow)for(r={},o=0;o<s.length;o++)r[s[o]]=!0;for(l=n.clone().stripTime();l.isBefore(i);)r&&!r[l.day()]||(a=e.start,u=e.end,c=l.clone(),d=null,a&&(c=c.time(a)),u&&(d=l.clone().time(u)),h=t.extend({},e),I(c,d,!a&&!u,h),f.push(h)),l.add(1,"days")}else f.push(e);return f}function z(e,n,i){function r(t,e){return i?A(t,e,i):n.allDay?G(t,e):O(t,e)}var s,o,l,a,u,c,d={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),k(n),s={start:e._start.clone(),end:e._end?e._end.clone():U.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},k(s),o=null!==e._end&&null===n.end,l=r(n.start,s.start),n.end?(a=r(n.end,s.end),u=a.subtract(l)):u=null,t.each(n,function(t,e){b(t)&&void 0!==e&&(d[t]=e)}),c=F(C(e._id),o,n.allDay,l,u,d),{dateDelta:l,durationDelta:u,undo:c}}function F(e,n,i,r,s,o){var l=U.getIsAmbigTimezone(),a=[];return r&&!r.valueOf()&&(r=null),s&&!s.valueOf()&&(s=null),t.each(e,function(e,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(o,function(t){c[t]=u[t]}),d={start:u._start,end:u._end,allDay:i},k(d),n?d.end=null:s&&!d.end&&(d.end=U.getDefaultEventEnd(d.allDay,d.start)),r&&(d.start.add(r),d.end&&d.end.add(r)),s&&d.end.add(s),l&&!d.allDay&&(r||s)&&(d.start.stripZone(),d.end&&d.end.stripZone()),t.extend(u,o,d),Zt(u),a.push(function(){t.extend(u,c),Zt(u)})}),function(){for(var t=0;t<a.length;t++)a[t]()}}function B(e){var n,i=U.options.businessHours,r={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},s=U.getView();return i&&(n=t.extend({},r,"object"==typeof i?i:{})),n?(e&&(n.start=null,n.end=null),L(x(n),s.start,s.end)):[]}function N(t,e){var n=e.source||{};return P(t,et(e.constraint,n.constraint,U.options.eventConstraint),et(e.overlap,n.overlap,U.options.eventOverlap),e)}function _(e,n,i){var r,s;return i&&(r=t.extend({},i,n),s=L(x(r))[0]),s?N(e,s):V(e)}function V(t){return P(t,U.options.selectConstraint,U.options.selectOverlap)}function P(t,e,n,i){var r,s,o,l,a,u;if(null!=e){for(r=Y(e),s=!1,l=0;l<r.length;l++)if(W(r[l],t)){s=!0;break}if(!s)return!1}for(o=U.getPeerEvents(t,i),l=0;l<o.length;l++)if(a=o[l],j(a,t)){if(!1===n)return!1;if("function"==typeof n&&!n(a,i))return!1;if(i){if(!1===(u=et(a.overlap,(a.source||{}).overlap)))return!1;if("function"==typeof u&&!u(i,a))return!1}}return!0}function Y(t){return"businessHours"===t?B():"object"==typeof t?L(x(t)):C(t)}function W(t,e){var n=t.start.clone().stripZone(),i=U.getEventEnd(t).stripZone();return e.start>=n&&e.end<=i}function j(t,e){var n=t.start.clone().stripZone(),i=U.getEventEnd(t).stripZone();return e.start<i&&e.end>n}var U=this;U.isFetchNeeded=n,U.fetchEvents=i,U.fetchEventSources=r,U.getEventSources=g,U.getEventSourceById=p,U.getEventSourcesByMatchArray=v,U.getEventSourcesByMatch=m,U.addEventSource=u,U.removeEventSource=d,U.removeEventSources=h,U.updateEvent=E,U.renderEvent=H,U.removeEvents=T,U.clientEvents=C,U.mutateEvent=z,U.normalizeEventDates=k,U.normalizeEventTimes=M;var q,$,X=U.reportEvents,Q={events:[]},K=[Q],nt=0,it=[];t.each((U.options.events?[U.options.events]:[]).concat(U.options.eventSources||[]),function(t,e){var n=c(e);n&&K.push(n)}),U.rezoneArrayEventSources=function(){var e,n,i;for(e=0;e<K.length;e++)if(n=K[e].events,t.isArray(n))for(i=0;i<n.length;i++)R(n[i])},U.getBusinessHoursEvents=B,U.isEventSpanAllowed=N,U.isExternalSpanAllowed=_,U.isSelectionSpanAllowed=V,U.getEventCache=function(){return it}}function Zt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var qt=t.fullCalendar={version:"2.9.0",internalApiVersion:4},$t=qt.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,s){var o,l=t(s),a=l.data("fullCalendar");"string"==typeof e?a&&t.isFunction(a[e])&&(o=a[e].apply(a,n),r||(i=o),"destroy"===e&&l.removeData("fullCalendar")):a||(a=new Te(l,e),l.data("fullCalendar",a),a.render())}),i};var Xt=["header","buttonText","buttonIcons","themeButtonIcons"];qt.intersectRanges=N,qt.applyAll=tt,qt.debounce=ut,qt.isInt=lt,qt.htmlEscape=nt,qt.cssToStr=rt,qt.proxy=at,qt.capitaliseFirstLetter=st,qt.getOuterRect=f,qt.getClientRect=g,qt.getContentRect=p,qt.getScrollbarWidths=v;var Qt=null;qt.preventDefault=T,qt.intersectRects=x,qt.parseFieldSpecs=L,qt.compareByFieldSpecs=z,qt.compareByFieldSpec=F,qt.flexibleCompare=B,qt.computeIntervalUnit=_,qt.divideRangeByDuration=P,qt.divideDurationByDuration=Y,qt.multiplyDuration=W,qt.durationHasTime=j;var Kt=["sun","mon","tue","wed","thu","fri","sat"],Jt=["year","month","week","day","hour","minute","second","millisecond"];qt.log=function(){var t=window.console;return t&&t.log?t.log.apply(t,arguments):void 0},qt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):qt.log.apply(qt,arguments)};var te,ee,ne,ie={}.hasOwnProperty,re=/^\s*\d{4}-\d\d$/,se=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,oe=e.fn,le=t.extend({},oe);qt.moment=function(){return dt(arguments)},qt.moment.utc=function(){var t=dt(arguments,!0);return t.hasTime()&&t.utc(),t},qt.moment.parseZone=function(){return dt(arguments,!0,!0)},oe.clone=function(){var t=le.clone.apply(this,arguments);return ft(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},oe.week=oe.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?le.isoWeek.apply(this,arguments):le.week.apply(this,arguments)},oe.time=function(t){if(!this._fullCalendar)return le.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},oe.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),ee(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},oe.hasTime=function(){return!this._ambigTime},oe.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),ee(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},oe.hasZone=function(){return!this._ambigZone},oe.local=function(){var t=this.toArray(),e=this._ambigZone;return le.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&ne(this,t),this},oe.utc=function(){return le.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){le[e]&&(oe[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),le[e].apply(this,arguments)})}),oe.format=function(){
return this._fullCalendar&&arguments[0]?vt(this,arguments[0]):this._ambigTime?pt(this,"YYYY-MM-DD"):this._ambigZone?pt(this,"YYYY-MM-DD[T]HH:mm:ss"):le.format.apply(this,arguments)},oe.toISOString=function(){return this._ambigTime?pt(this,"YYYY-MM-DD"):this._ambigZone?pt(this,"YYYY-MM-DD[T]HH:mm:ss"):le.toISOString.apply(this,arguments)},oe.isWithin=function(t,e){var n=ht([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},oe.isSame=function(t,e){var n;return this._fullCalendar?e?(n=ht([this,t],!0),le.isSame.call(n[0],n[1],e)):(t=qt.moment.parseZone(t),le.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):le.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){oe[e]=function(t,n){var i;return this._fullCalendar?(i=ht([this,t]),le[e].call(i[0],i[1],n)):le[e].apply(this,arguments)}}),te="_d"in e()&&"updateOffset"in e,ee=te?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:gt,ne=te?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:gt;var ae={t:function(t){return pt(t,"a").charAt(0)},T:function(t){return pt(t,"A").charAt(0)}};qt.formatRange=St;var ue={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ce={};qt.Class=Ht,Ht.extend=function(){var t,e,n=arguments.length;for(t=0;n>t;t++)e=arguments[t],n-1>t&&Ct(this,e);return Tt(this,e||{})},Ht.mixin=function(t){Ct(this,t)};var de=qt.EmitterMixin={on:function(e,n){var i=function(t,e){return n.apply(e.context||this,e.args||[])};return n.guid||(n.guid=t.guid++),i.guid=n.guid,t(this).on(e,i),this},off:function(e,n){return t(this).off(e,n),this},trigger:function(e){var n=Array.prototype.slice.call(arguments,1);return t(this).triggerHandler(e,{args:n}),this},triggerWith:function(e,n,i){return t(this).triggerHandler(e,{context:n,args:i}),this}},he=qt.ListenerMixin=function(){var e=0;return{listenerId:null,listenTo:function(e,n,i){if("object"==typeof n)for(var r in n)n.hasOwnProperty(r)&&this.listenTo(e,r,n[r]);else"string"==typeof n&&e.on(n+"."+this.getListenerNamespace(),t.proxy(i,this))},stopListeningTo:function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=e++),"_listener"+this.listenerId}}}(),fe={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(t){this.delayUnignoreMouse=ut(at(this,"unignoreMouse"),t||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},ge=Ht.extend(he,{isHidden:!0,options:null,el:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&this.listenTo(t(document),"mousedown",this.documentMousedown)},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(t(document),"mousedown")},position:function(){var e,n,i,r,s,o=this.options,l=this.el.offsetParent().offset(),a=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),d=h(this.el);r=o.top||0,s=void 0!==o.left?o.left:void 0!==o.right?o.right-a:0,d.is(window)||d.is(document)?(d=c,e=0,n=0):(i=d.offset(),e=i.top,n=i.left),e+=c.scrollTop(),n+=c.scrollLeft(),!1!==o.viewportConstrain&&(r=Math.min(r,e+d.outerHeight()-u-this.margin),r=Math.max(r,e+this.margin),s=Math.min(s,n+d.outerWidth()-a-this.margin),s=Math.max(s,n+this.margin)),this.el.css({top:r-l.top,left:s-l.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),pe=qt.CoordCache=Ht.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var t=h(this.els.eq(0));return t.is(document)?void 0:g(t)},buildElHorizontals:function(){var e=[],n=[];this.els.each(function(i,r){var s=t(r),o=s.offset().left,l=s.outerWidth();e.push(o),n.push(o+l)}),this.lefts=e,this.rights=n},buildElVerticals:function(){var e=[],n=[];this.els.each(function(i,r){var s=t(r),o=s.offset().top,l=s.outerHeight();e.push(o),n.push(o+l)}),this.tops=e,this.bottoms=n},getHorizontalIndex:function(t){this.ensureBuilt();var e,n=this.boundingRect,i=this.lefts,r=this.rights,s=i.length;if(!n||t>=n.left&&t<n.right)for(e=0;s>e;e++)if(t>=i[e]&&t<r[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,n=this.boundingRect,i=this.tops,r=this.bottoms,s=i.length;if(!n||t>=n.top&&t<n.bottom)for(e=0;s>e;e++)if(t>=i[e]&&t<r[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]}}),ve=qt.DragListener=Ht.extend(he,fe,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(t){this.options=t||{},this.handleTouchScrollProxy=at(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(e,n){var i=b(e);if("mousedown"===e.type){if(this.isIgnoringMouse)return;if(!w(e))return;e.preventDefault()}this.isInteracting||(n=n||{},this.delay=et(n.delay,this.options.delay,0),this.minDistance=et(n.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=i,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=E(e),this.originY=D(e),this.scrollEl=h(t(e.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(e),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e))},handleInteractionStart:function(t){this.trigger("interactionStart",t)},endInteraction:function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(t,e){this.trigger("interactionEnd",t,e||!1)},bindHandlers:function(){var e=this,n=1;this.isTouch?(this.listenTo(t(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(t){n?n--:e.endInteraction(t,!0)}}),!C(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(t(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t(document),{selectstart:T,contextmenu:T})},unbindHandlers:function(){this.stopListeningTo(t(document)),R(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},handleDragStart:function(t){this.trigger("dragStart",t),this.initHrefHack()},handleMove:function(t){var e=E(t)-this.originX,n=D(t)-this.originY,i=this.minDistance;this.isDistanceSurpassed||e*e+n*n>=i*i&&this.handleDistanceSurpassed(t),this.isDragging&&this.handleDrag(e,n,t)},handleDrag:function(t,e,n){this.trigger("drag",t,e,n),this.updateAutoScroll(n)},endDrag:function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},handleDragEnd:function(t){this.trigger("dragEnd",t),this.destroyHrefHack()},startDelay:function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout(function(){e.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},handleDelayEnd:function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},handleDistanceSurpassed:function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},handleTouchMove:function(t){this.isDragging&&t.preventDefault(),this.handleMove(t)},handleMouseMove:function(t){this.handleMove(t)},handleTouchScroll:function(t){this.isDragging||this.endInteraction(t,!0)},initHrefHack:function(){var t=this.subjectEl;(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},destroyHrefHack:function(){var t=this.subjectEl,e=this.subjectHref;setTimeout(function(){e&&t.attr("href",e)},0)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+t]&&this["_"+t].apply(this,Array.prototype.slice.call(arguments,1))}});ve.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",ut(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=f(this.scrollEl))},updateAutoScroll:function(t){var e,n,i,r,s=this.scrollSensitivity,o=this.scrollBounds,l=0,a=0;o&&(e=(s-(D(t)-o.top))/s,n=(s-(o.bottom-D(t)))/s,i=(s-(E(t)-o.left))/s,r=(s-(o.right-E(t)))/s,e>=0&&1>=e?l=e*this.scrollSpeed*-1:n>=0&&1>=n&&(l=n*this.scrollSpeed),i>=0&&1>=i?a=i*this.scrollSpeed*-1:r>=0&&1>=r&&(a=r*this.scrollSpeed)),this.setScrollVel(l,a)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(at(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var me=ve.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){ve.call(this,e),this.component=t},handleInteractionStart:function(t){var e,n,i,r=this.subjectEl;this.computeCoords(),t?(n={left:E(t),top:D(t)},i=n,r&&(e=f(r),i=I(i,e)),this.origHit=this.queryHit(i.left,i.top),r&&this.options.subjectCenter&&(this.origHit&&(e=x(this.origHit,e)||e),i=k(e)),this.coordAdjust=M(i,n)):(this.origHit=null,this.coordAdjust=null),ve.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(t){var e;ve.prototype.handleDragStart.apply(this,arguments),(e=this.queryHit(E(t),D(t)))&&this.handleHitOver(e)},handleDrag:function(t,e,n){var i;ve.prototype.handleDrag.apply(this,arguments),i=this.queryHit(E(n),D(n)),Rt(i,this.hit)||(this.hit&&this.handleHitOut(),i&&this.handleHitOver(i))},handleDragEnd:function(){this.handleHitDone(),ve.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(t){var e=Rt(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){ve.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){ve.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),ye=Ht.extend(he,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.y0=D(e),this.x0=E(e),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),b(e)?this.listenTo(t(document),"touchmove",this.handleMove):this.listenTo(t(document),"mousemove",this.handleMove))},stop:function(e,n){function i(){this.isAnimating=!1,r.removeElement(),this.top0=this.left0=null,n&&n()}var r=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(t(document)),e&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),t.addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(t){this.topDelta=D(t)-this.y0,this.leftDelta=E(t)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Se=qt.Grid=Ht.extend(he,fe,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),t=n.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=n.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?A(t,e,this.largeUnit):O(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(t,e){},getHitSpan:function(t){},getHitEl:function(t){},setElement:function(t){this.el=t,H(t),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(e,n){var i=this;this.el.on(e,function(e){return t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length?void 0:n.call(i,e)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(t(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},dayMousedown:function(t){this.isIgnoringMouse||this.dayDragListener.startInteraction(t,{})},dayTouchStart:function(t){var e=this.view;(e.isSelected||e.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(t,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var t,e,n=this,i=this.view,r=i.opt("selectable"),s=new me(this,{scroll:i.opt("dragScroll"),interactionStart:function(){t=s.origHit},dragStart:function(){i.unselect()},hitOver:function(i,s,l){l&&(s||(t=null),r&&(e=n.computeSelection(n.getHitSpan(l),n.getHitSpan(i)),e?n.renderSelection(e):!1===e&&o()))},hitOut:function(){t=null,e=null,n.unrenderSelection(),l()},interactionEnd:function(r,s){s||(t&&!n.isIgnoringMouse&&i.triggerDayClick(n.getHitSpan(t),n.getHitEl(t),r),e&&i.reportSelection(e,r),l())}});return s},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);return this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?$(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var n=this.computeSelectionSpan(t,e);return!(n&&!this.view.calendar.isSelectionSpanAllowed(n))&&n},computeSelectionSpan:function(t,e){var n=[t.start,t.end,e.start,e.end];return n.sort(ot),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,s=this[e+"SegEl"],o="",l=[];if(n.length){for(i=0;i<n.length;i++)o+=this.fillSegHtml(e,n[i]);t(o).each(function(e,i){var o=n[e],a=t(i);s&&(a=s.call(r,o,a)),a&&(a=t(a),a.is(r.fillSegTag)&&(o.el=a,l.push(o)))})}return l},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],s=rt(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow(),i=["fc-"+Kt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):n>t?i.push("fc-past"):i.push("fc-future"),i}});Se.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n=[],i=[];for(e=0;e<t.length;e++)(It(t[e])?n:i).push(t[e]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(i))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,s="",o=[];if(e.length){for(i=0;i<e.length;i++)s+=this.fgSegHtml(e[i],n);t(s).each(function(n,i){var s=e[n],l=r.resolveEventEl(s.event,t(i));l&&(l.data("fc-seg",s),s.el=l,o.push(s))})}return o},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){this.bindSegHandler("touchstart",this.handleSegTouchStart),this.bindSegHandler("touchend",this.handleSegTouchEnd),this.bindSegHandler("mouseenter",this.handleSegMouseover),this.bindSegHandler("mouseleave",this.handleSegMouseout),this.bindSegHandler("mousedown",this.handleSegMousedown),this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(e,n){var i=this;this.el.on(e,".fc-event-container > *",function(e){var r=t(this).data("fc-seg");return!r||i.isDraggingSeg||i.isResizingSeg?void 0:n.call(i,r,e)})},handleSegClick:function(t,e){return this.view.trigger("eventClick",t.el[0],t.event,e)},handleSegMouseover:function(t,e){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=t,t.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",t.el[0],t.event,e))},handleSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,t.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",t.el[0],t.event,e))},handleSegMousedown:function(t,e){!this.startSegResize(t,e,{distance:5})&&this.view.isEventDraggable(t.event)&&this.buildSegDragListener(t).startInteraction(e,{distance:5})},handleSegTouchStart:function(t,e){var n,i=this.view,r=t.event,s=i.isEventSelected(r),o=i.isEventDraggable(r),l=i.isEventResizable(r),a=!1;s&&l&&(a=this.startSegResize(t,e)),a||!o&&!l||(n=o?this.buildSegDragListener(t):this.buildSegSelectListener(t),n.startInteraction(e,{delay:s?0:this.view.opt("longPressDelay")})),this.tempIgnoreMouse()},handleSegTouchEnd:function(t,e){this.tempIgnoreMouse()},startSegResize:function(e,n,i){return!!t(n.target).is(".fc-resizer")&&(this.buildSegResizeListener(e,t(n.target).is(".fc-start-resizer")).startInteraction(n,i),!0)},buildSegDragListener:function(t){var e,n,i,r=this,s=this.view,a=s.calendar,u=t.el,c=t.event;if(this.segDragListener)return this.segDragListener;var d=this.segDragListener=new me(s,{scroll:s.opt("dragScroll"),subjectEl:u,subjectCenter:!0,interactionStart:function(i){e=!1,n=new ye(t.el,{additionalClass:"fc-dragging",parentEl:s.el,opacity:d.isTouch?null:s.opt("dragOpacity"),revertDuration:s.opt("dragRevertDuration"),zIndex:2}),n.hide(),n.start(i)},dragStart:function(n){d.isTouch&&!s.isEventSelected(c)&&s.selectEvent(c),e=!0,r.handleSegMouseout(t,n),r.segDragStart(t,n),s.hideEvent(c)},hitOver:function(e,l,u){var h;t.hit&&(u=t.hit),i=r.computeEventDrop(u.component.getHitSpan(u),e.component.getHitSpan(e),c),i&&!a.isEventSpanAllowed(r.eventToSpan(i),c)&&(o(),i=null),i&&(h=s.renderDrag(i,t))?(h.addClass("fc-dragging"),d.isTouch||r.applyDragOpacity(h),n.hide()):n.show(),l&&(i=null)},hitOut:function(){s.unrenderDrag(),n.show(),i=null},hitDone:function(){l()},interactionEnd:function(o){n.stop(!i,function(){e&&(s.unrenderDrag(),s.showEvent(c),r.segDragStop(t,o)),i&&s.reportEventDrop(c,i,this.largeUnit,u,o)}),r.segDragListener=null}});return d},buildSegSelectListener:function(t){var e=this,n=this.view,i=t.event;if(this.segDragListener)return this.segDragListener;var r=this.segDragListener=new ve({dragStart:function(t){r.isTouch&&!n.isEventSelected(i)&&n.selectEvent(i)},interactionEnd:function(t){e.segDragListener=null}});return r},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,s=this.view.calendar,o=t.start,l=e.start;return o.hasTime()===l.hasTime()?(i=this.diffDates(l,o),n.allDay&&j(i)?(r={start:n.start.clone(),end:s.getEventEnd(n),allDay:!1},s.normalizeEventTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:l.clone(),end:null,allDay:!l.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,r,s=this.view;s.opt("droppable")&&(i=t((n?n.item:null)||e.target),r=s.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,r=this,s=this.view.calendar,a=Ft(t);(r.externalDragListener=new me(this,{interactionStart:function(){r.isDraggingExternal=!0},hitOver:function(t){i=r.computeExternalDrop(t.component.getHitSpan(t),a),i&&!s.isExternalSpanAllowed(r.eventToSpan(i),i,a.eventProps)&&(o(),i=null),i&&r.renderDrag(i)},hitOut:function(){i=null},hitDone:function(){l(),r.unrenderDrag()},interactionEnd:function(e){i&&r.view.reportExternalDrop(a,i,t,e,n),r.isDraggingExternal=!1,r.externalDragListener=null}})).startDrag(e)},computeExternalDrop:function(t,e){var n=this.view.calendar,i={start:n.applyTimezone(t.start),end:null};return e.startTime&&!i.start.hasTime()&&i.start.time(e.startTime),e.duration&&(i.end=i.start.clone().add(e.duration)),i},renderDrag:function(t,e){},unrenderDrag:function(){},buildSegResizeListener:function(t,e){var n,i,r=this,s=this.view,a=s.calendar,u=t.el,c=t.event,d=a.getEventEnd(c);return this.segResizeListener=new me(this,{scroll:s.opt("dragScroll"),subjectEl:u,interactionStart:function(){n=!1},dragStart:function(e){n=!0,r.handleSegMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(n,l,u){var h=r.getHitSpan(u),f=r.getHitSpan(n);i=e?r.computeEventStartResize(h,f,c):r.computeEventEndResize(h,f,c),i&&(a.isEventSpanAllowed(r.eventToSpan(i),c)?i.start.isSame(c.start)&&i.end.isSame(d)&&(i=null):(o(),i=null)),i&&(s.hideEvent(c),r.renderEventResize(i,t))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize(),s.showEvent(c),l()},interactionEnd:function(e){n&&r.segResizeStop(t,e),i&&s.reportEventResize(c,i,this.largeUnit,u,e),r.segResizeListener=null}})},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,s,o=this.view.calendar,l=this.diffDates(n[t],e[t]);return r={start:i.start.clone(),end:o.getEventEnd(i),allDay:i.allDay},r.allDay&&j(l)&&(r.allDay=!1,o.normalizeEventTimes(r)),r[t].add(l),r.start.isBefore(r.end)||(s=this.minResizeDuration||(i.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==t?r.start=r.end.clone().subtract(s):r.end=r.start.clone().add(s)),r},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=this.view,r=t.event,s=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return e&&s.push("fc-draggable"),n&&s.push("fc-resizable"),i.isEventSelected(r)&&s.push("fc-selected"),s},getSegSkinCss:function(t){var e=t.event,n=this.view,i=e.source||{},r=e.color,s=i.color,o=n.opt("eventColor");return{"background-color":e.backgroundColor||r||i.backgroundColor||s||n.opt("eventBackgroundColor")||o,"border-color":e.borderColor||r||i.borderColor||s||n.opt("eventBorderColor")||o,color:e.textColor||i.textColor||n.opt("eventTextColor")}},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,n){var i=this,r=Lt(e),s=[];return t.each(r,function(t,e){var r,o=[];for(r=0;r<e.length;r++)o.push(i.eventToRange(e[r]));if(kt(e[0]))for(o=i.invertRanges(o),r=0;r<o.length;r++)s.push.apply(s,i.eventRangeToSegs(o[r],e[0],n));else for(r=0;r<o.length;r++)s.push.apply(s,i.eventRangeToSegs(o[r],e[r],n))}),s},eventToRange:function(t){return{start:t.start.clone().stripZone(),end:(t.end?t.end.clone():this.view.calendar.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone()}},eventRangeToSegs:function(t,e,n){var i,r=this.eventRangeToSpans(t,e),s=[];for(i=0;i<r.length;i++)s.push.apply(s,this.eventSpanToSegs(r[i],e,n));return s},eventRangeToSpans:function(e,n){return[t.extend({},e)]},eventSpanToSegs:function(t,e,n){var i,r,s=n?n(t):this.spanToSegs(t);for(i=0;i<s.length;i++)r=s[i],r.event=e,r.eventStartMS=+t.start,r.eventDurationMS=t.end-t.start;return s},invertRanges:function(t){var e,n,i=this.view,r=i.start.clone(),s=i.end.clone(),o=[],l=r;for(t.sort(zt),e=0;e<t.length;e++)n=t[e],n.start>l&&o.push({start:l,end:n.start}),l=n.end;return s>l&&o.push({start:l,end:s}),o},sortEventSegs:function(t){t.sort(at(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||z(t.event,e.event,this.view.eventOrderSpecs)}}),qt.isBgEvent=It,qt.dataAttrPrefix="";var we=qt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,n,i=this.view,r=this.start.clone(),s=-1,o=[],l=[];r.isBefore(this.end);)i.isHiddenDay(r)?o.push(s+.5):(s++,o.push(s),l.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(e=l[0].day(),t=1;t<l.length&&l[t].day()!=e;t++);n=Math.ceil(l.length/t)}else n=1,
t=l.length;this.dayDates=l,this.dayIndices=o,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var n=this.getCellDate(t,e);return{start:n,end:n.clone().add(1,"days")}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,n,i,r,s,o=this.daysPerRow,l=this.view.computeDayRange(t),a=this.getDateDayIndex(l.start),u=this.getDateDayIndex(l.end.clone().subtract(1,"days")),c=[];for(e=0;e<this.rowCnt;e++)n=e*o,i=n+o-1,r=Math.max(a,n),s=Math.min(u,i),r=Math.ceil(r),(s=Math.floor(s))>=r&&c.push({row:e,firstRowDayIndex:r-n,lastRowDayIndex:s-n,isStart:r===a,isEnd:s===u});return c},sliceRangeByDay:function(t){var e,n,i,r,s,o,l=this.daysPerRow,a=this.view.computeDayRange(t),u=this.getDateDayIndex(a.start),c=this.getDateDayIndex(a.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)for(n=e*l,i=n+l-1,r=n;i>=r;r++)s=Math.max(u,r),o=Math.min(c,r),s=Math.ceil(s),(o=Math.floor(o))>=s&&d.push({row:e,firstRowDayIndex:s-n,lastRowDayIndex:o-n,isStart:s===u,isEnd:o===c});return d},renderHeadHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},renderHeadDateCellHtml:function(t,e,n){return'<th class="fc-day-header '+this.view.widgetHeaderClass+" fc-"+Kt[t.day()]+'"'+(1==this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+nt(t.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(t){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderBgCellHtml(n));return i.join("")},renderBgCellHtml:function(t,e){var n=this.view,i=this.getDayClasses(t);return i.unshift("fc-day",n.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},Ee=qt.DayGrid=Se.extend(we,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,n,i=this.view,r=this.rowCnt,s=this.colCnt,o="";for(e=0;r>e;e++)o+=this.renderDayRowHtml(e,t);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new pe({els:this.rowEls,isVertical:!0}),this.colCoordCache=new pe({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;r>e;e++)for(n=0;s>n;n++)i.trigger("dayRender",null,this.getCellDate(e,n),this.getCellEl(e,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(t){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(n));return i.join("")},renderNumberCellHtml:function(t){var e;return this.view.dayNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+t.format()+'">'+t.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,n,i=this.sliceRangeByRow(t);for(e=0;e<i.length;e++)n=i[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){var n=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);return null!=i&&null!=n?this.getCellHit(i,n):void 0},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){return this.renderHighlight(this.eventToSpan(t)),e&&!e.el.closest(this.el).length?this.renderEventLocationHelper(t,e):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,n){var i,r=[],s=this.eventToSegs(e);return s=this.renderFgSegEls(s),i=this.renderSegRows(s),this.rowEls.each(function(e,s){var o,l=t(s),a=t('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===e?n.el.position().top:l.find(".fc-content-skeleton tbody").position().top,a.css("top",o).find("table").append(i[e].tbodyEl),l.append(a),r.push(a[0])}),this.helperEls=t(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var r,s,o,l=[];for(n=this.renderFillSegEls(e,n),r=0;r<n.length;r++)s=n[r],o=this.renderFillRow(e,s,i),this.rowEls.eq(s.row).append(o),l.push(o[0]);return this.elsByFill[e]=t(l),n},renderFillRow:function(e,n,i){var r,s,o=this.colCnt,l=n.leftCol,a=n.rightCol+1;return i=i||e.toLowerCase(),r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),s=r.find("tr"),l>0&&s.append('<td colspan="'+l+'"/>'),s.append(n.el.attr("colspan",a-l)),o>a&&s.append('<td colspan="'+(o-a)+'"/>'),this.bookendCells(s),r}});Ee.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),Se.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return Se.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return Se.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,s=t.event,o=r.isEventDraggable(s),l=!e&&s.allDay&&t.isStart&&r.isEventResizableFromStart(s),a=!e&&s.allDay&&t.isEnd&&r.isEventResizableFromEnd(s),u=this.getSegClasses(t,o,l||a),c=rt(this.getSegSkinCss(t)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(s))&&(d='<span class="fc-time">'+nt(n)+"</span>"),i='<span class="fc-title">'+(nt(s.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(s.url?' href="'+nt(s.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(l?'<div class="fc-resizer fc-start-resizer" />':"")+(a?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>o;)c=(m[r-1]||[])[o],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),l.append(c)),v[r][o]=c,m[r][o]=c,o++}var r,s,o,l,a,u,c,d=this.colCnt,h=this.buildSegLevels(n),f=Math.max(1,h.length),g=t("<tbody/>"),p=[],v=[],m=[];for(r=0;f>r;r++){if(s=h[r],o=0,l=t("<tr/>"),p.push([]),v.push([]),m.push([]),s)for(a=0;a<s.length;a++){for(u=s[a],i(u.leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):m[r][o]=c;o<=u.rightCol;)v[r][o]=c,p[r][o]=u,o++;l.append(c)}i(d),this.bookendCells(l),g.append(l)}return{row:e,tbodyEl:g,cellMatrix:v,segMatrix:p,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Bt(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(Nt);return r},groupSegRows:function(t){var e,n=[];for(e=0;e<this.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n}}),Ee.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){s=Math.max(s,t(n).outerHeight())}var i,r,s,o=this.rowEls.eq(e),l=o.height(),a=this.rowStructs[e].tbodyEl.children();for(i=0;i<a.length;i++)if(r=a.eq(i).removeClass("fc-limited"),s=0,r.find("> td > :first-child").each(n),r.position().top+s>l)return i;return!1},limitRow:function(e,n){function i(i){for(;i>D;)u=S.getCellSegs(e,D,n),u.length&&(h=s[n-1][D],y=S.renderMoreLink(e,D,u),m=t("<div/>").append(y),h.append(m),E.push(m[0])),D++}var r,s,o,l,a,u,c,d,h,f,g,p,v,m,y,S=this,w=this.rowStructs[e],E=[],D=0;if(n&&n<w.segLevels.length){for(r=w.segLevels[n-1],s=w.cellMatrix,o=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;l<r.length;l++){for(a=r[l],i(a.leftCol),d=[],c=0;D<=a.rightCol;)u=this.getCellSegs(e,D,n),d.push(u),c+=u.length,D++;if(c){for(h=s[n-1][a.leftCol],f=h.attr("rowspan")||1,g=[],p=0;p<d.length;p++)v=t('<td class="fc-more-cell"/>').attr("rowspan",f),u=d[p],y=this.renderMoreLink(e,a.leftCol+p,[a].concat(u)),m=t("<div/>").append(y),v.append(m),g.push(v[0]),E.push(v[0]);h.addClass("fc-limited").after(t(g)),o.push(h[0])}}i(this.colCnt),w.moreEls=t(E),w.limitedEls=t(o)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n,i){var r=this,s=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(o){var l=s.opt("eventLimitClick"),a=r.getCellDate(e,n),u=t(this),c=r.getCellEl(e,n),d=r.getCellSegs(e,n),h=r.resliceDaySegs(d,a),f=r.resliceDaySegs(i,a);"function"==typeof l&&(l=s.trigger("eventLimitClick",null,{date:a,dayEl:c,moreEl:u,segs:h,hiddenSegs:f},o)),"popover"===l?r.showSegPopover(e,n,u,h):"string"==typeof l&&s.calendar.zoomTo(a,l)})},showSegPopover:function(t,e,n,i){var r,s,o=this,l=this.view,a=n.parent();r=1==this.rowCnt?l.el:this.rowEls.eq(t),s={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,i),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:l.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?s.right=a.offset().left+a.outerWidth()+1:s.left=a.offset().left-1,this.segPopover=new ge(s),this.segPopover.show()},renderSegPopoverContent:function(e,n,i){var r,s=this.view,o=s.opt("theme"),l=this.getCellDate(e,n).format(s.opt("dayPopoverFormat")),a=t('<div class="fc-header '+s.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+nt(l)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=a.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,r=0;r<i.length;r++)this.prepareHits(),i[r].hit=this.getCellHit(e,n),this.releaseHits(),u.append(i[r].el);return a},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone(),s=r.clone().add(1,"days"),o={start:r,end:s};return e=this.eventsToSegs(i,function(t){var e=N(t,o);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,n){for(var i,r=this.rowStructs[t].segMatrix,s=n||0,o=[];s<r.length;)i=r[s][e],i&&o.push(i),s++;return o}});var De=qt.TimeGrid=Se.extend(we,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){Se.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new pe({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new pe({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,n,i,r=this.view,s=this.isRTL,o="",l=e.duration(+this.minTime);l<this.maxTime;)t=this.start.clone().time(l),n=lt(Y(l,this.labelInterval)),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(n?"<span>"+nt(t.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(s?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(s?i:"")+"</tr>",l.add(this.slotDuration);return o},processOptions:function(){var n,i=this.view,r=i.opt("slotDuration"),s=i.opt("snapDuration");r=e.duration(r),s=s?e.duration(s):r,this.slotDuration=r,this.snapDuration=s,this.snapsPerSlot=r/s,this.minResizeDuration=s,this.minTime=e.duration(i.opt("minTime")),this.maxTime=e.duration(i.opt("maxTime")),n=i.opt("slotLabelFormat"),t.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("axisFormat")||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?e.duration(n):this.computeLabelInterval(r)},computeLabelInterval:function(t){var n,i,r;for(n=Ae.length-1;n>=0;n--)if(i=e.duration(Ae[n]),r=Y(i,t),lt(r)&&r>1)return i;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache,s=i.getHorizontalIndex(t),o=r.getVerticalIndex(e);if(null!=s&&null!=o){var l=r.getTopOffset(o),a=r.getHeight(o),u=(e-l)/a,c=Math.floor(u*n),d=o*n+c,h=l+c/n*a,f=l+(c+1)/n*a;return{col:s,snap:d,component:this,left:i.getLeftOffset(s),right:i.getRightOffset(s),top:h,bottom:f}}},getHitSpan:function(t){var e,n=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return n.time(i),e=n.clone().add(this.snapDuration),{start:n,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,n=this.sliceRangeByTimes(t);for(e=0;e<n.length;e++)this.isRTL?n[e].col=this.daysPerRow-1-n[e].dayIndex:n[e].col=n[e].dayIndex;return n},sliceRangeByTimes:function(t){var e,n,i,r,s=[];for(n=0;n<this.daysPerRow;n++)i=this.dayDates[n].clone(),r={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},(e=N(t,r))&&(e.dayIndex=n,s.push(e));return s},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i=this.slatEls.length,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),e=Math.floor(r),e=Math.min(e,i-1),n=r-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},renderDrag:function(t,e){return e?this.renderEventLocationHelper(t,e):void this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){return this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){return this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(),e=this.eventsToSegs(t);this.renderBusinessSegs(e)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var n,i=this.spanToSegs({start:e,end:e}),r=this.computeDateTop(e,e),s=[];for(n=0;n<i.length;n++)s.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(i[n].col))[0]);i.length>0&&s.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(s)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});De.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,n,i="";for(e=0;e<this.colCnt;e++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=t('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(e,n){var i,r,s,o=[];for(e=this.renderFgSegsIntoContainers(e,this.helperContainerEls),i=0;i<e.length;i++)r=e[i],n&&n.col===r.col&&(s=n.el,r.el.css({left:s.css("left"),right:s.css("right"),"margin-left":s.css("margin-left"),"margin-right":s.css("margin-right")})),o.push(r.el[0]);return this.helperSegs=e,t(o)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},attachSegsByCol:function(t,e){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=t[n],r=0;r<i.length;r++)e.eq(n).append(i[r].el)},unrenderNamedSegs:function(t){var e,n=this[t];if(n){for(e=0;e<n.length;e++)n[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var n,i;for(t=this.renderFgSegEls(t),n=this.groupSegsByCol(t),i=0;i<this.colCnt;i++)this.updateFgSegCoords(n[i]);return this.attachSegsByCol(n,e),t},fgSegHtml:function(t,e){var n,i,r,s=this.view,o=t.event,l=s.isEventDraggable(o),a=!e&&t.isStart&&s.isEventResizableFromStart(o),u=!e&&t.isEnd&&s.isEventResizableFromEnd(o),c=this.getSegClasses(t,l,a||u),d=rt(this.getSegSkinCss(t));return c.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(o),i=this.getEventTimeText(o,"LT"),r=this.getEventTimeText(o,null,!1)),'<a class="'+c.join(" ")+'"'+(o.url?' href="'+nt(o.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+nt(r)+'" data-full="'+nt(i)+'"><span>'+nt(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+nt(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,n,i;if(this.sortEventSegs(t),e=Ot(t),Gt(e),n=e[0]){for(i=0;i<n.length;i++)At(n[i]);for(i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,0)}},computeFgSegForwardBack:function(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(at(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,s=t.forwardCoord,o=this.generateSegVerticalCss(t);return i&&(s=Math.min(1,r+2*(s-r))),this.isRTL?(e=1-s,n=r):(e=r,n=1-s),o.zIndex=t.level+1,o.left=100*e+"%",o.right=100*n+"%",i&&t.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var be=qt.View=Ht.extend(de,he,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,n,i,r){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=L(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=_(this.intervalDuration),r=t.clone().startOf(i),s=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),s.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),s.hasTime()||(s=this.calendar.time(0))),e=r.clone(),e=this.skipHiddenDays(e),n=s.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:r,intervalEnd:s,start:e,end:n}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),St(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t,e){var n=this,i=null;return null!=e&&this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),ct(this.clear(),function(){return n.displaying=ct(n.displayView(t),function(){null!=e?n.setScroll(e):n.forceScroll(n.computeInitialScroll(i)),n.calendar.unfreezeContentHeight(),n.triggerRender()})})},clear:function(){var e=this,n=this.displaying;return n?ct(n,function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(t(document),"mousedown",this.handleDocumentMousedown),this.listenTo(t(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,n,i,r=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit())&&(n=at(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,n(),i=+e.duration(1,t),i=Math.max(100,i),r.nowIndicatorIntervalID=setInterval(n,i)},i))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeInitialScroll:function(t){return 0},queryScroll:function(){},setScroll:function(t){},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return!1===i?n=null:i&&!0!==i&&(n=t(i)),n},
showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return et(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var s=this.calendar,o=s.mutateEvent(t,e,n),l=function(){o.undo(),s.reportEventChange()};this.triggerEventDrop(t,o.dateDelta,l,i,r),s.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(e,n,i,r,s){var o,l,a=e.eventProps;a&&(o=t.extend({},a,n),l=this.calendar.renderEvent(o,e.stick)[0]),this.triggerExternalDrop(l,n,i,r,s)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return et(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var s=this.calendar,o=s.mutateEvent(t,e,n),l=function(){o.undo(),s.reportEventChange()};this.triggerEventResize(t,o.durationDelta,l,i,r),s.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},selectEvent:function(t){this.selectedEvent&&this.selectedEvent===t||(this.unselectEvent(),this.renderedEventSegEach(function(t){t.el.addClass("fc-selected")},t),this.selectedEvent=t)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(t){t.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(t){return this.selectedEvent&&this.selectedEvent._id===t._id},handleDocumentMousedown:function(t){w(t)&&this.processUnselect(t)},processUnselect:function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},processRangeUnselect:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&((n=this.opt("unselectCancel"))&&t(e.target).closest(n).length||this.unselect(e))},processEventUnselect:function(e){this.selectedEvent&&(t(e.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(t,e,n){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),n)},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],r=0;for(!1===this.opt("weekends")&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),(e=+i.time())&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),He=qt.Scroller=Ht.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(t){t=t||{},this.overflowX=t.overflowX||t.overflow||"auto",this.overflowY=t.overflowY||t.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=t('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(t){var e=this.overflowX,n=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":n})},setHeight:function(t){this.scrollEl.height(t)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(t){this.scrollEl.scrollTop(t)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return v(this.scrollEl)}}),Te=qt.Calendar=Ht.extend({dirDefaults:null,langDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Pt,initialize:function(){},populateOptionsHash:function(){var t,e,i,r;t=et(this.dynamicOverrides.lang,this.overrides.lang),e=Ce[t],e||(t=Te.defaults.lang,e=Ce[t]||{}),i=et(this.dynamicOverrides.isRTL,this.overrides.isRTL,e.isRTL,Te.defaults.isRTL),r=i?Te.rtlDefaults:{},this.dirDefaults=r,this.langDefaults=e,this.options=n([Te.defaults,r,e,this.overrides,this.dynamicOverrides]),Yt(this.options)},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,r;if(-1!=t.inArray(e,Jt))for(n=this.header.getViewsWithButtons(),t.each(qt.views,function(t){n.push(t)}),i=0;i<n.length;i++)if((r=this.getViewSpec(n[i]))&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,s,o,l=this.overrides.views||{},a=[],u=[],c=[],d=t;d;)i=$t[d],r=l[d],d=null,"function"==typeof i&&(i={class:i}),i&&(a.unshift(i),u.unshift(i.defaults||{}),s=s||i.duration,d=d||i.type),r&&(c.unshift(r),s=s||r.duration,d=d||r.type);return i=q(a),i.type=t,!!i.class&&(s&&(s=e.duration(s),s.valueOf()&&(i.duration=s,o=_(s),1===s.as(o)&&(i.singleUnit=o,c.unshift(l[o]||{})))),i.defaults=n(u),i.overrides=n(c),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,t),i)},buildViewSpecOptions:function(t){t.options=n([Te.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides,this.dynamicOverrides]),Yt(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.dynamicOverrides)||n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(Te.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e.class(this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var n,i=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:n}}});Te.mixin(de),Te.mixin({optionHandlers:null,bindOption:function(t,e){this.bindOptions([t],e)},bindOptions:function(t,e){var n,i={func:e,names:t};for(n=0;n<t.length;n++)this.registerOptionHandlerObj(t[n],i);this.triggerOptionHandlerObj(i)},registerOptionHandlerObj:function(t,e){(this.optionHandlers[t]||(this.optionHandlers[t]=[])).push(e)},triggerOptionHandlers:function(t){var e,n=this.optionHandlers[t]||[];for(e=0;e<n.length;e++)this.triggerOptionHandlerObj(n[e])},triggerOptionHandlerObj:function(t){var e,n=t.names,i=[];for(e=0;e<n.length;e++)i.push(this.options[n[e]]);t.func.apply(this,i)}}),Te.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200,longPressDelay:1e3},Te.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},Te.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ce=qt.langs={};qt.datepickerLang=function(e,n,i){var r=Ce[e]||(Ce[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(Re,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},qt.lang=function(e,i){var r,s;r=Ce[e]||(Ce[e]={}),i&&(r=Ce[e]=n([r,i])),s=Wt(e),t.each(xe,function(t,e){null==r[t]&&(r[t]=e(s,r))}),Te.defaults.lang=e};var Re={buttonText:function(t){return{prev:it(t.prevText),next:it(t.nextText),today:it(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},xe={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},Ie={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};qt.lang("en",Te.englishDefaults),qt.sourceNormalizers=[],qt.sourceFetchers=[];var ke={dataType:"json",cache:!1},Me=1;Te.prototype.normalizeEvent=function(t){},Te.prototype.getPeerEvents=function(t,e){var n,i,r=this.getEventCache(),s=[];for(n=0;n<r.length;n++)i=r[n],e&&e._id===i._id||s.push(i);return s};var Le=qt.BasicView=be.extend({scroller:null,dayGridClass:Ee,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new He({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){return new(this.dayGridClass.extend(ze))(this)},setRange:function(t){be.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=be.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-day-grid-container"),n=t('<div class="fc-day-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.dayGrid.setElement(n),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i,o=this.opt("eventLimit");this.scroller.clear(),s(this.headRowEl),this.dayGrid.removeSegPopover(),o&&"number"==typeof o&&this.dayGrid.limitRows(o),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),o&&"number"!=typeof o&&this.dayGrid.limitRows(o),e||(this.scroller.setHeight(n),i=this.scroller.getScrollbarWidths(),(i.left||i.right)&&(r(this.headRowEl,i),n=this.computeScrollerHeight(t),this.scroller.setHeight(n)),this.scroller.lockOverflow(i))},computeScrollerHeight:function(t){return t-d(this.el,this.scroller.el)},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):a(this.dayGrid.rowEls,t,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),ze={renderHeadIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+nt(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"><span>"+this.getCellDate(t,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},Fe=qt.MonthView=Le.extend({computeRange:function(t){var e,n=Le.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),a(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});$t.basic={class:Le},$t.basicDay={type:"basic",duration:{days:1}},$t.basicWeek={type:"basic",duration:{weeks:1}},$t.month={class:Fe,duration:{months:1},defaults:{fixedWeekCount:!0}};var Be=qt.AgendaView=be.extend({scroller:null,timeGridClass:De,timeGrid:null,dayGridClass:Ee,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new He({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){return new(this.timeGridClass.extend(Ne))(this)},instantiateDayGrid:function(){return new(this.dayGridClass.extend(Oe))(this)},setRange:function(t){be.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-time-grid-container"),n=t('<div class="fc-time-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.timeGrid.setElement(n),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),be.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i,o;this.bottomRuleEl.hide(),this.scroller.clear(),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=Ge),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),this.scroller.setHeight(i),o=this.scroller.getScrollbarWidths(),(o.left||o.right)&&(r(this.noScrollRowEls,o),i=this.computeScrollerHeight(t),this.scroller.setHeight(i)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<i&&this.bottomRuleEl.show())},computeScrollerHeight:function(t){return t-d(this.el,this.scroller.el)},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return n=Math.ceil(n),n&&n++,n},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var n=this.timeGrid.queryHit(t,e);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(t,e)),n},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,n=[],i=[];for(e=0;e<t.length;e++)t[e].allDay?n.push(t[e]):i.push(t[e]);this.timeGrid.renderEvents(i),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Ne={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"><span>"+nt(t)+"</span></th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Oe={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+(t.opt("allDayHtml")||nt(t.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Ge=5,Ae=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return $t.agenda={class:Be,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},$t.agendaDay={type:"agenda",duration:{days:1}},$t.agendaWeek={type:"agenda",duration:{weeks:1}},qt});
!function(e,t){"use strict";function n(e,t){for(var n,i=[],a=0;a<e.length;++a){if(!(n=o[e[a]]||r(e[a])))throw"module definition dependecy not found: "+e[a];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){o[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}var o={};i("tinymce/geom/Rect",[],function(){function e(e,t,n){var i,r,a,s,l,u;return i=t.x,r=t.y,a=e.w,s=e.h,l=t.w,u=t.h,n=(n||"").split(""),"b"===n[0]&&(r+=u),"r"===n[1]&&(i+=l),"c"===n[0]&&(r+=c(u/2)),"c"===n[1]&&(i+=c(l/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=a),"c"===n[3]&&(r-=c(s/2)),"c"===n[4]&&(i-=c(a/2)),o(i,r,a,s)}function t(t,n,i,r){var o,a;for(a=0;a<r.length;a++)if(o=e(t,n,r[a]),o.x>=i.x&&o.x+o.w<=i.w+i.x&&o.y>=i.y&&o.y+o.h<=i.h+i.y)return r[a];return null}function n(e,t,n){return o(e.x-t,e.y-n,e.w+2*t,e.h+2*n)}function i(e,t){var n,i,r,a;return n=l(e.x,t.x),i=l(e.y,t.y),r=s(e.x+e.w,t.x+t.w),a=s(e.y+e.h,t.y+t.h),r-n<0||a-i<0?null:o(n,i,r-n,a-i)}function r(e,t,n){var i,r,a,s,c,u,d,f,m,h;return c=e.x,u=e.y,d=e.x+e.w,f=e.y+e.h,m=t.x+t.w,h=t.y+t.h,i=l(0,t.x-c),r=l(0,t.y-u),a=l(0,d-m),s=l(0,f-h),c+=i,u+=r,n&&(d+=i,f+=r,c-=a,u-=s),d-=a,f-=s,o(c,u,d-c,f-u)}function o(e,t,n,i){return{x:e,y:t,w:n,h:i}}function a(e){return o(e.left,e.top,e.width,e.height)}var s=Math.min,l=Math.max,c=Math.round;return{inflate:n,relativePosition:e,findBestRelativePosition:t,intersect:i,clamp:r,create:o,fromClientRect:a}}),i("tinymce/util/Promise",[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(i,this),e(r,this))}function n(e){var t=this;if(null===this._state)return void this._deferreds.push(e);l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var i;try{i=n(t._value)}catch(t){return void e.reject(t)}e.resolve(i)})}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(i,this),e(r,this))}this._state=!0,this._value=t,o.call(this)}catch(e){r.call(this,e)}}function r(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function s(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}if(window.Promise)return window.Promise;var l=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,i){var r=this;return new t(function(t,o){n.call(r,new a(e,i,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}e[o]=a,0==--r&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},t}),i("tinymce/util/Delay",["tinymce/util/Promise"],function(e){function t(e,t){function n(e){window.setTimeout(e,0)}var i,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=window[o[i]+"RequestAnimationFrame"];r||(r=n),r(e,t)}function n(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function i(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function r(e){return clearTimeout(e)}function o(e){return clearInterval(e)}var a;return{requestAnimationFrame:function(n,i){if(a)return void a.then(n);a=new e(function(e){i||(i=document.body),t(e,i)}).then(n)},setTimeout:n,setInterval:i,setEditorTimeout:function(e,t,i){return n(function(){e.removed||t()},i)},setEditorInterval:function(e,t,n){var r;return r=i(function(){e.removed?clearInterval(r):t()},n)},throttle:function(e,t){var i,r;return r=function(){var r=arguments;clearTimeout(i),i=n(function(){e.apply(this,r)},t)},r.stop=function(){clearTimeout(i)},r},clearInterval:o,clearTimeout:r}}),i("tinymce/Env",[],function(){function e(e){return"matchMedia"in window&&matchMedia(e).matches}var t,n,i,r,o,a,s,l,c,u,d,f,m,h=navigator,p=h.userAgent;return t=window.opera&&window.opera.buildNumber,c=/Android/.test(p),n=/WebKit/.test(p),i=!n&&!t&&/MSIE/gi.test(p)&&/Explorer/gi.test(h.appName),i=i&&/MSIE (\w+)\./.exec(p)[1],r=-1!=p.indexOf("Trident/")&&(-1!=p.indexOf("rv:")||-1!=h.appName.indexOf("Netscape"))&&11,o=-1!=p.indexOf("Edge/")&&!i&&!r&&12,i=i||r||o,a=!n&&!r&&/Gecko/.test(p),s=-1!=p.indexOf("Mac"),l=/(iPad|iPhone)/.test(p),u="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=e("only screen and (max-device-width: 480px)")&&(c||l),f=e("only screen and (min-width: 800px)")&&(c||l),m=-1!=p.indexOf("Windows Phone"),o&&(n=!1),{opera:t,webkit:n,ie:i,gecko:a,mac:s,iOS:l,android:c,contentEditable:!l||u||p.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=i,range:window.getSelection&&"Range"in window,documentMode:i&&!o?document.documentMode||7:10,fileApi:u,ceFalse:!1===i||i>8,desktop:!d&&!f,windowsPhone:m}}),i("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(e,t){function n(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function r(e,t){var n,i=t;return n=e.path,n&&n.length>0&&(i=n[0]),e.deepPath&&(n=e.deepPath())&&n.length>0&&(i=n[0]),i}function o(e,n){function i(){return!1}function o(){return!0}var a,s=n||{};for(a in e)u[a]||(s[a]=e[a]);if(s.target||(s.target=s.srcElement||document),t.experimentalShadowDom&&(s.target=r(e,s.target)),e&&c.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var l=s.target.ownerDocument||document,d=l.documentElement,f=l.body;s.pageX=e.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||0)-(d&&d.clientLeft||f&&f.clientLeft||0),s.pageY=e.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=o,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=o,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=o,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=i,s.isPropagationStopped=i,s.isImmediatePropagationStopped=i),void 0===s.metaKey&&(s.metaKey=!1),s}function a(t,r,o){function a(){o.domLoaded||(o.domLoaded=!0,r(u))}function s(){("complete"===c.readyState||"interactive"===c.readyState&&c.body)&&(i(c,"readystatechange",s),a())}function l(){try{c.documentElement.doScroll("left")}catch(t){return void e.setTimeout(l)}a()}var c=t.document,u={type:"ready"};if(o.domLoaded)return void r(u);c.addEventListener?"complete"===c.readyState?a():n(t,"DOMContentLoaded",a):(n(c,"readystatechange",s),c.documentElement.doScroll&&t.self===t.top&&l()),n(t,"load",a)}function s(){function e(e,t){var n,i,r,o,a=f[t];if(n=a&&a[e.type])for(i=0,r=n.length;i<r;i++)if(o=n[i],o&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var t,r,s,c,u,d=this,f={};r=l+(+new Date).toString(32),c="onmouseenter"in document.documentElement,s="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,d.domLoaded=!1,d.events=f,d.bind=function(i,l,m,h){function p(t){e(o(t||E.event),g)}var g,v,y,b,C,x,w,E=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[r]?g=i[r]:(g=t++,i[r]=g,f[g]={}),h=h||i,l=l.split(" "),y=l.length;y--;)b=l[y],x=p,C=w=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==i.readyState?m.call(h,o({type:b})):(c||(C=u[b])&&(x=function(t){var n,i;if(n=t.currentTarget,(i=t.relatedTarget)&&n.contains)i=n.contains(i);else for(;i&&i!==n;)i=i.parentNode;i||(t=o(t||E.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=n,e(t,g))}),s||"focusin"!==b&&"focusout"!==b||(w=!0,C="focusin"===b?"focus":"blur",x=function(t){t=o(t||E.event),t.type="focus"===t.type?"focusin":"focusout",e(t,g)}),v=f[g][b],v?"ready"===b&&d.domLoaded?m({type:b}):v.push({func:m,scope:h}):(f[g][b]=v=[{func:m,scope:h}],v.fakeName=C,v.capture=w,v.nativeHandler=x,"ready"===b?a(i,x,d):n(i,C||b,x,w)));return i=v=0,m}},d.unbind=function(e,t,n){var o,a,s,l,c,u;if(!e||3===e.nodeType||8===e.nodeType)return d;if(o=e[r]){if(u=f[o],t){for(t=t.split(" "),s=t.length;s--;)if(c=t[s],a=u[c]){if(n)for(l=a.length;l--;)if(a[l].func===n){var m=a.nativeHandler,h=a.fakeName,p=a.capture;a=a.slice(0,l).concat(a.slice(l+1)),a.nativeHandler=m,a.fakeName=h,a.capture=p,u[c]=a}n&&0!==a.length||(delete u[c],i(e,a.fakeName||c,a.nativeHandler,a.capture))}}else{for(c in u)a=u[c],i(e,a.fakeName||c,a.nativeHandler,a.capture);u={}}for(c in u)return d;delete f[o];try{delete e[r]}catch(t){e[r]=null}}return d},d.fire=function(t,n,i){var a;if(!t||3===t.nodeType||8===t.nodeType)return d;i=o(null,i),i.type=n,i.target=t;do{a=t[r],a&&e(i,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return d},d.clean=function(e){var t,n,i=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[r]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[r]&&i(e);return d},d.destroy=function(){f={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var l="mce-data-",c=/^(?:mouse|contextmenu)|click/,u={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return s.Event=new s,s.Event.bind(window,"ready",function(){}),s}),i("tinymce/dom/Sizzle",[],function(){function e(e,t,n,i){var r,o,a,s,c,d,f,m,h,p;if((t?t.ownerDocument||t:I)!==B&&R(t),t=t||B,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(D&&!i){if(r=pe.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&O(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&b.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!M||!M.test(e))){if(m=f=H,h=t,p=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=E(e),(f=t.getAttribute("id"))?m=f.replace(ve,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",c=d.length;c--;)d[c]=m+u(d[c]);h=ge.test(e)&&l(t.parentNode)||t,p=d.join(",")}if(p)try{return J.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return S(e.replace(oe,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[H]=!0,e}function r(e){var t=B.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)C.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function l(e){return e&&typeof e.getElementsByTagName!==q&&e}function c(){}function u(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=U++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[F,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[H]||(t[H]={}),(s=l[i])&&s[0]===F&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function h(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function p(e,t,n,r,o,a){return r&&!r[H]&&(r=p(r)),o&&!o[H]&&(o=p(o,a)),i(function(i,a,s,l){var c,u,d,f=[],p=[],g=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:h(v,f,e,s,l),b=n?o||(i?e:g||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(c=h(b,p),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(y[p[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?Z.call(i,d):f[u])>-1&&(i[c]=!(a[c]=d))}}else b=h(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):J.apply(a,b)})}function g(e){for(var t,n,i,r=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,l=d(function(e){return e===t},a,!0),c=d(function(e){return Z.call(t,e)>-1},a,!0),m=[function(e,n,i){return!o&&(i||n!==_)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];s<r;s++)if(n=C.relative[e[s].type])m=[d(f(m),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[H]){for(i=++s;i<r&&!C.relative[e[i].type];i++);return p(s>1&&f(m),s>1&&u(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<i&&g(e.slice(s,i)),i<r&&g(e=e.slice(i)),i<r&&u(e))}m.push(n)}return f(m)}function v(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,c){var u,d,f,m=0,p="0",g=i&&[],v=[],y=_,b=i||o&&C.find.TAG("*",c),x=F+=null==y?1:Math.random()||.1,w=b.length;for(c&&(_=a!==B&&a);p!==w&&null!=(u=b[p]);p++){if(o&&u){for(d=0;f=t[d++];)if(f(u,a,s)){l.push(u);break}c&&(F=x)}r&&((u=!f&&u)&&m--,i&&g.push(u))}if(m+=p,r&&p!==m){for(d=0;f=n[d++];)f(g,v,a,s);if(i){if(m>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=h(v)}J.apply(l,v),c&&!i&&v.length>0&&m+n.length>1&&e.uniqueSort(l)}return c&&(F=x,_=y),g};return r?i(a):a}var y,b,C,x,w,E,N,S,_,T,k,R,B,A,D,M,P,L,O,H="sizzle"+-new Date,I=window.document,F=0,U=0,z=n(),W=n(),V=n(),$=function(e,t){return e===t&&(k=!0),0},q=typeof t,j=1<<31,Y={}.hasOwnProperty,X=[],K=X.pop,G=X.push,J=X.push,Q=X.slice,Z=X.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",re=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",oe=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ae=new RegExp("^"+te+"*,"+te+"*"),se=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),le=new RegExp("="+te+"*([^\\]'\"]*?)"+te+"*\\]","g"),ce=new RegExp(re),ue=new RegExp("^"+ne+"$"),de={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,pe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{J.apply(X=Q.call(I.childNodes),I.childNodes),X[I.childNodes.length].nodeType}catch(e){J={apply:X.length?function(e,t){G.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=e.support={},w=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},R=e.setDocument=function(e){var t,n=e?e.ownerDocument||e:I,i=n.defaultView;return n!==B&&9===n.nodeType&&n.documentElement?(B=n,A=n.documentElement,D=!w(n),i&&i!==function(e){try{return e.top}catch(e){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){R()},!1):i.attachEvent&&i.attachEvent("onunload",function(){R()})),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(n.getElementsByClassName),b.getById=r(function(e){return A.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),b.getById?(C.find.ID=function(e,t){if(typeof t.getElementById!==q&&D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(ye,be);return function(e){var n=typeof e.getAttributeNode!==q&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=b.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==q)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=b.getElementsByClassName&&function(e,t){if(D)return t.getElementsByClassName(e)},P=[],M=[],(b.qsa=he.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+te+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(b.matchesSelector=he.test(L=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&r(function(e){b.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),P.push("!=",re)}),M=M.length&&new RegExp(M.join("|")),P=P.length&&new RegExp(P.join("|")),t=he.test(A.compareDocumentPosition),O=t||he.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return k=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!b.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===I&&O(I,e)?-1:t===n||t.ownerDocument===I&&O(I,t)?1:T?Z.call(T,e)-Z.call(T,t):0:4&i?-1:1)}:function(e,t){if(e===t)return k=!0,0;var i,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:T?Z.call(T,e)-Z.call(T,t):0;if(o===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===I?-1:c[r]===I?1:0},n):B},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==B&&R(t),n=n.replace(le,"='$1']"),b.matchesSelector&&D&&(!P||!P.test(n))&&(!M||!M.test(n)))try{var i=L.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(e){}return e(n,B,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==B&&R(e),O(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==B&&R(e);var i=C.attrHandle[n.toLowerCase()],r=i&&Y.call(C.attrHandle,n.toLowerCase())?i(e,n,!D):t;return r!==t?r:b.attributes||!D?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],i=0,r=0;if(k=!b.detectDuplicates,T=!b.sortStable&&e.slice(0),e.sort($),k){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return T=null,e},x=e.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=x(t);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==q&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,m,h,p=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;p;){for(d=t;d=d[p];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=p="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(u=g[H]||(g[H]={}),c=u[e]||[],m=c[0]===F&&c[1],f=c[0]===F&&c[2],d=m&&g.childNodes[m];d=++m&&d&&d[p]||(f=m=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[F,m,f];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===F)f=c[1];else for(;(d=++m&&d&&d[p]||(f=m=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[H]||(d[H]={}))[e]=[F,f]),d!==t)););return(f-=r)===i||f%i==0&&f/i>=0}}},PSEUDO:function(t,n){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=Z.call(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=N(e.replace(oe,"$1"));return r[H]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(e){return e=e.replace(ye,be),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:i(function(t){return ue.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(ye,be).toLowerCase(),function(e){var n;do{if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===A},focus:function(e){return e===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:s(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},C.pseudos.nth=C.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})C.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return c.prototype=C.filters=C.pseudos,C.setFilters=new c,E=e.tokenize=function(t,n){var i,r,o,a,s,l,c,u=W[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=C.preFilter;s;){i&&!(r=ae.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=se.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(oe," ")}),s=s.slice(i.length));for(a in C.filter)!(r=de[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):W(t,l).slice(0)},N=e.compile=function(e,t){var n,i=[],r=[],o=V[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=g(t[n]),o[H]?i.push(o):r.push(o);o=V(e,v(r,i)),o.selector=e}return o},S=e.select=function(e,t,n,i){var r,o,a,s,c,d="function"==typeof e&&e,f=!i&&E(e=d.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&D&&C.relative[o[1].type]){if(!(t=(C.find.ID(a.matches[0].replace(ye,be),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=de.needsContext.test(e)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((c=C.find[s])&&(i=c(a.matches[0].replace(ye,be),ge.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&u(o)))return J.apply(n,i),n;break}}return(d||N(e,f))(i,t,!D,n,ge.test(e)&&l(t.parentNode)||t),n},b.sortStable=H.split("").sort($).join("")===H,b.detectDuplicates=!!k,R(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(B.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ee,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),e}),i("tinymce/util/Arr",[],function(){function e(e){var t,n,i=e;if(!u(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i}function n(e,n,i){var r,o;if(!e)return 0;if(i=i||e,e.length!==t){for(r=0,o=e.length;r<o;r++)if(!1===n.call(i,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===n.call(i,e[r],r,e))return 0;return 1}function i(e,t){var i=[];return n(e,function(n,r){i.push(t(n,r,e))}),i}function r(e,t){var i=[];return n(e,function(n,r){t&&!t(n,r,e)||i.push(n)}),i}function o(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function a(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n}function s(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1}function l(e,n,i){var r=s(e,n,i);return-1!==r?e[r]:t}function c(e){return e[e.length-1]}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:u,toArray:e,each:n,map:i,filter:r,indexOf:o,reduce:a,findIndex:s,find:l,last:c}}),i("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(e,n){function i(e){return null===e||e===t?"":(""+e).replace(m,"")}function r(e,i){return i?!("array"!=i||!n.isArray(e))||typeof e==i:e!==t}function o(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n}function a(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(e[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t.static,function(e,t){r[o][t]=e})}}function s(e,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;i<r;i++){n=s[i];for(o in n)n.hasOwnProperty(o)&&(a=n[o])!==t&&(e[o]=a)}return e}function l(e,t,i,r){r=r||this,e&&(i&&(e=e[i]),n.each(e,function(e,n){if(!1===t.call(r,e,n,i))return!1;l(e,t,i,r)}))}function c(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)i=e[n],t[i]||(t[i]={}),t=t[i];return t}function u(e,t){var n,i;for(t=t||window,e=e.split("."),n=0,i=e.length;n<i&&(t=t[e[n]]);n++);return t}function d(e,t){return!e||r(e,"array")?e:n.map(e.split(t||","),i)}function f(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}var m=/^\s*|\s*$/g;return{trim:i,isArray:n.isArray,is:r,toArray:n.toArray,makeMap:o,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,extend:s,create:a,walk:l,createNS:c,resolve:u,explode:d,_addCacheSuffix:f}}),i("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(e,n,i,r){
function o(e){return void 0!==e}function a(e){return"string"==typeof e}function s(e){return e&&e==e.window}function l(e,t){var n,i,r;for(t=t||E,r=t.createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n}function c(e,t,n,i){var r;if(a(t))t=l(t,v(e[0]));else if(t.length&&!t.nodeType){if(t=f.makeArray(t),i)for(r=t.length-1;r>=0;r--)c(e,t[r],n,i);else for(r=0;r<t.length;r++)c(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e}function u(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function d(e,t,n){var i,r;return t=f(t)[0],e.each(function(){var e=this;n&&i==e.parentNode?r.appendChild(e):(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e),r.appendChild(e))}),e}function f(e,t){return new f.fn.init(e,t)}function m(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function h(e){return null===e||e===w?"":(""+e).replace(L,"")}function p(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e}function g(e,t){var n=[];return p(e,function(e,i){t(i,e)&&n.push(i)}),n}function v(e){return e?9==e.nodeType?e:e.ownerDocument:E}function y(e,n,i){var r=[],o=e[n];for("string"!=typeof i&&i instanceof f&&(i=i[0]);o&&9!==o.nodeType;){if(i!==t){if(o===i)break;if("string"==typeof i&&f(o).is(i))break}1===o.nodeType&&r.push(o),o=o[n]}return r}function b(e,n,i,r){var o=[];for(r instanceof f&&(r=r[0]);e;e=e[n])if(!i||e.nodeType===i){if(r!==t){if(e===r)break;if("string"==typeof r&&f(e).is(r))break}o.push(e)}return o}function C(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function x(e,t,n){p(n,function(n,i){e[n]=e[n]||{},e[n][t]=i})}var w,E=document,N=Array.prototype.push,S=Array.prototype.slice,_=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,T=e.Event,k=i.makeMap("children,contents,next,prev"),R=i.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),B=i.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),A={for:"htmlFor",class:"className",readonly:"readOnly"},D={float:"cssFloat"},M={},P={},L=/^\s*|\s*$/g;return f.fn=f.prototype={constructor:f,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return f(e).attr(t);r.context=t=document}if(a(e)){if(r.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:_.exec(e)))return f(t).find(e);if(n[1])for(i=l(e,v(t)).firstChild;i;)N.call(r,i),i=i.nextSibling;else{if(!(i=v(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return i.toArray(this)},add:function(e,t){var n,i,r=this;if(a(e))return r.add(f(e));if(!1!==t)for(n=f.unique(r.toArray().concat(f.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else N.apply(r,f.makeArray(e));return r},attr:function(e,t){var n,i=this;if("object"==typeof e)p(e,function(e,t){i.attr(e,t)});else{if(!o(t)){if(i[0]&&1===i[0].nodeType){if((n=M[e])&&n.get)return n.get(i[0],e);if(B[e])return i.prop(e)?e:w;t=i[0].getAttribute(e,2),null===t&&(t=w)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=M[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=A[e]||e))p(e,function(e,t){n.prop(e,t)});else{if(!o(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var r,a,s=this;if("object"==typeof e)p(e,function(e,t){s.css(e,t)});else if(o(t))e=n(e),"number"!=typeof t||R[e]||(t+="px"),s.each(function(){var n=this.style;if((a=P[e])&&a.set)return void a.set(this,t);try{this.style[D[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(i(e)):n.removeAttribute(e))});else{if(r=s[0],(a=P[e])&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(e))}catch(e){return w}else if(r.currentStyle)return r.currentStyle[n(e)]}return s},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],T.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(o(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){f(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(o(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return c(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return c(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?c(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?c(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return f(e).append(this),this},prependTo:function(e){return f(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return d(this,e)},wrapAll:function(e){return d(this,e,!0)},wrapInner:function(e){return this.each(function(){f(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){f(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),f(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?p(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,i){var r,o;(o=u(i,e))!==t&&(r=i.className,o?i.className=h((" "+r+" ").replace(" "+e+" "," ")):i.className+=r?" "+e:e)}),n)},hasClass:function(e){return u(this[0],e)},each:function(e){return p(this,e)},on:function(e,t){return this.each(function(){T.bind(this,e,t)})},off:function(e,t){return this.each(function(){T.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?T.fire(this,e.type,e):T.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new f(S.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)f.find(e,this[t],i);return f(i)},filter:function(e){return f("function"==typeof e?g(this.toArray(),function(t,n){return e(n,t)}):f.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof f&&(e=e[0]),this.each(function(n,i){for(;i;){if("string"==typeof e&&f(i).is(e)){t.push(i);break}if(i==e){t.push(i);break}i=i.parentNode}}),f(t)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,i=n.documentElement,t.getBoundingClientRect&&(r=t.getBoundingClientRect(),o=r.left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:N,sort:[].sort,splice:[].splice},i.extend(f,{extend:i.extend,makeArray:function(e){return s(e)||e.nodeType?[e]:i.toArray(e)},inArray:m,isArray:i.isArray,each:p,trim:h,grep:g,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!=t[i].nodeType&&t.splice(i,1);return t=1===t.length?f.find.matchesSelector(t[0],e)?[t[0]]:[]:f.find.matches(e,t)}}),p({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return y(e,"parentNode")},next:function(e){return C(e,"nextSibling",1)},prev:function(e){return C(e,"previousSibling",1)},children:function(e){return b(e.firstChild,"nextSibling",1)},contents:function(e){return i.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){f.fn[e]=function(n){var i=this,r=[];return i.each(function(){var e=t.call(r,this,n,r);e&&(f.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(k[e]||(r=f.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),r=f(r),n?r.filter(n):r}}),p({parentsUntil:function(e,t){return y(e,"parentNode",t)},nextUntil:function(e,t){return b(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return b(e,"previousSibling",1,t).slice(1)}},function(e,t){f.fn[e]=function(n,i){var r=this,o=[];return r.each(function(){var e=t.call(o,this,n,o);e&&(f.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=f.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())),o=f(o),i?o.filter(i):o}}),f.fn.is=function(e){return!!e&&this.filter(e).length>0},f.fn.init.prototype=f.fn,f.overrideDefaults=function(e){function t(i,r){return n=n||e(),0===arguments.length&&(i=n.element),r||(r=n.context),new t.fn.init(i,r)}var n;return f.extend(t,this),t},r.ie&&r.ie<8&&(x(M,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?w:t},size:function(e){var t=e.size;return 20===t?w:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?w:t}}),x(M,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),r.ie&&r.ie<9&&(D.float="styleFloat",x(P,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),f.attrHooks=M,f.cssHooks=P,f}),i("tinymce/html/Styles",[],function(){return function(e,t){function n(e,t,n,i){function r(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var i,r,o,a,s,l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,d=/\s+$/,f={};for(e=e||{},t&&(a=t.getValidStyles(),s=t.getInvalidStyles()),o="\\\" \\' \\; \\: ; : \ufeff".split(" "),r=0;r<o.length;r++)f[o[r]]="\ufeff"+r,f["\ufeff"+r]=o[r];return{toHex:function(e){return e.replace(l,n)},parse:function(t){function i(e,t,n){var i,o,a,s;if((i=y[e+"-top"+t])&&(o=y[e+"-right"+t])&&(a=y[e+"-bottom"+t])&&(s=y[e+"-left"+t])){var l=[i,o,a,s];for(r=l.length-1;r--&&l[r]===l[r+1];);r>-1&&n||(y[e+t]=-1==r?l[0]:l.join(" "),delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t])}}function o(e){var t,n=y[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function a(e){return v=!0,f[e]}function s(e,t){return v&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return f[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function m(t,n,i,r,o,a){if(o=o||a)return o=s(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=s(n||i||r),!e.allow_script_urls){var l=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(l))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(l))return""}return b&&(n=b.call(C,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var h,p,g,v,y={},b=e.url_converter,C=e.url_converter_scope||this;if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,a).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,a)});h=u.exec(t);){if(p=h[1].replace(d,"").toLowerCase(),g=h[2].replace(d,""),g=g.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))}),p&&g.length>0){if(!e.allow_script_urls&&("behavior"==p||/expression\s*\(|\/\*|\*\//.test(g)))continue;"font-weight"===p&&"700"===g?g="bold":"color"!==p&&"background-color"!==p||(g=g.toLowerCase()),g=g.replace(l,n),g=g.replace(c,m),y[p]=v?s(g,!0):g}u.lastIndex=h.index+h[0].length}i("border","",!0),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),function(e,t,n,i){o(t)&&o(n)&&o(i)&&(y[e]=y[t]+" "+y[n]+" "+y[i],delete y[t],delete y[n],delete y[i])}("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border,"none"===y["border-image"]&&delete y["border-image"]}return y},serialize:function(e,t){function n(t){var n,r,o,s;if(n=a[t])for(r=0,o=n.length;r<o;r++)t=n[r],(s=e[t])!==i&&s.length>0&&(l+=(l.length>0?" ":"")+t+": "+s+";")}var r,o,l="";if(t&&a)n("*"),n(t);else for(r in e)(o=e[r])!==i&&o.length>0&&(s&&!function(e,t){var n;return(!(n=s["*"])||!n[e])&&(!(n=s[t])||!n[e])}(r,t)||(l+=(l.length>0?" ":"")+r+": "+o+";"));return l}}}}),i("tinymce/dom/TreeWalker",[],function(){return function(e,t){function n(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[i])return o}}}function i(e,n,i,r){var o,a,s;if(e){if(o=e[i],t&&o===t)return;if(o){if(!r)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}}var r=e;this.current=function(){return r},this.next=function(e){return r=n(r,"firstChild","nextSibling",e)},this.prev=function(e){return r=n(r,"lastChild","previousSibling",e)},this.prev2=function(e){return r=i(r,"lastChild","previousSibling",e)}}}),i("tinymce/dom/Range",["tinymce/util/Tools"],function(e){function t(n){function i(){return L.createDocumentFragment()}function r(e,t){E(F,e,t)}function o(e,t){E(U,e,t)}function a(e){r(e.parentNode,j(e))}function s(e){r(e.parentNode,j(e)+1)}function l(e){o(e.parentNode,j(e))}function c(e){o(e.parentNode,j(e)+1)}function u(e){e?(P[V]=P[W],P[$]=P[z]):(P[W]=P[V],P[z]=P[$]),P.collapsed=F}function d(e){a(e),c(e)}function f(e){r(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function m(e,t){var n=P[W],i=P[z],r=P[V],o=P[$],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?w(n,i,a,s):1===e?w(r,o,a,s):2===e?w(r,o,l,c):3===e?w(n,i,l,c):void 0}function h(){N(I)}function p(){return N(O)}function g(){return N(H)}function v(e){var t,i,r=this[W],o=this[z];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(e,i):3==r.nodeType?n.insertAfter(e,r):r.appendChild(e)):o?o>=r.nodeValue.length?n.insertAfter(e,r):(t=r.splitText(o),r.parentNode.insertBefore(e,t)):r.parentNode.insertBefore(e,r)}function y(e){var t=P.extractContents();P.insertNode(e),e.appendChild(t),P.selectNode(e)}function b(){return q(new t(n),{startContainer:P[W],startOffset:P[z],endContainer:P[V],endOffset:P[$],collapsed:P.collapsed,commonAncestorContainer:P.commonAncestorContainer})}function C(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n||e}function x(){return P[W]==P[V]&&P[z]==P[$]}function w(e,t,i,r){var o,a,s,l,c,u;if(e==i)return t==r?0:t<r?-1:1;for(o=i;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&a<t;)a++,s=s.nextSibling;return t<=a?-1:1}for(o=e;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&a<r;)a++,s=s.nextSibling;return a<r?-1:1}for(l=n.findCommonAncestor(e,i),c=e;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=i;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function E(e,t,i){var r,o;for(e?(P[W]=t,P[z]=i):(P[V]=t,P[$]=i),r=P[V];r.parentNode;)r=r.parentNode;for(o=P[W];o.parentNode;)o=o.parentNode;o==r?w(P[W],P[z],P[V],P[$])>0&&P.collapse(e):P.collapse(e),P.collapsed=x(),P.commonAncestorContainer=n.findCommonAncestor(P[W],P[V])}function N(e){var t,n,i,r,o,a,s,l=0,c=0;if(P[W]==P[V])return S(e);for(t=P[V],n=t.parentNode;n;t=n,n=n.parentNode){if(n==P[W])return _(t,e);++l}for(t=P[W],n=t.parentNode;n;t=n,n=n.parentNode){if(n==P[V])return T(t,e);++c}for(i=c-l,r=P[W];i>0;)r=r.parentNode,i--;for(o=P[V];i<0;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return k(r,o,e)}function S(e){var t,n,r,o,a,s,l,c,u;if(e!=I&&(t=i()),P[z]==P[$])return t;if(3==P[W].nodeType){if(n=P[W].nodeValue,r=n.substring(P[z],P[$]),e!=H&&(o=P[W],c=P[z],u=P[$]-P[z],0===c&&u>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,u),P.collapse(F)),e==I)return;return r.length>0&&t.appendChild(L.createTextNode(r)),t}for(o=C(P[W],P[z]),a=P[$]-P[z];o&&a>0;)s=o.nextSibling,l=D(o,e),t&&t.appendChild(l),--a,o=s;return e!=H&&P.collapse(F),t}function _(e,t){var n,r,o,a,s,l;if(t!=I&&(n=i()),r=R(e,t),n&&n.appendChild(r),o=j(e),(a=o-P[z])<=0)return t!=H&&(P.setEndBefore(e),P.collapse(U)),n;for(r=e.previousSibling;a>0;)s=r.previousSibling,l=D(r,t),n&&n.insertBefore(l,n.firstChild),--a,r=s;return t!=H&&(P.setEndBefore(e),P.collapse(U)),n}function T(e,t){var n,r,o,a,s,l;for(t!=I&&(n=i()),o=B(e,t),n&&n.appendChild(o),r=j(e),++r,a=P[$]-r,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=D(o,t),n&&n.appendChild(l),--a,o=s;return t!=H&&(P.setStartAfter(e),P.collapse(F)),n}function k(e,t,n){var r,o,a,s,l,c,u;for(n!=I&&(o=i()),r=B(e,n),o&&o.appendChild(r),a=j(e),s=j(t),++a,l=s-a,c=e.nextSibling;l>0;)u=c.nextSibling,r=D(c,n),o&&o.appendChild(r),c=u,--l;return r=R(t,n),o&&o.appendChild(r),n!=H&&(P.setStartAfter(e),P.collapse(F)),o}function R(e,t){var n,i,r,o,a,s=C(P[V],P[$]-1),l=s!=P[V];if(s==e)return A(s,l,U,t);for(n=s.parentNode,i=A(n,U,U,t);n;){for(;s;)r=s.previousSibling,o=A(s,l,U,t),t!=I&&i.insertBefore(o,i.firstChild),l=F,s=r;if(n==e)return i;s=n.previousSibling,n=n.parentNode,a=A(n,U,U,t),t!=I&&a.appendChild(i),i=a}}function B(e,t){var n,i,r,o,a,s=C(P[W],P[z]),l=s!=P[W];if(s==e)return A(s,l,F,t);for(n=s.parentNode,i=A(n,U,F,t);n;){for(;s;)r=s.nextSibling,o=A(s,l,F,t),t!=I&&i.appendChild(o),l=F,s=r;if(n==e)return i;s=n.nextSibling,n=n.parentNode,a=A(n,U,F,t),t!=I&&a.appendChild(i),i=a}}function A(e,t,i,r){var o,a,s,l,c;if(t)return D(e,r);if(3==e.nodeType){if(o=e.nodeValue,i?(l=P[z],a=o.substring(l),s=o.substring(0,l)):(l=P[$],a=o.substring(0,l),s=o.substring(l)),r!=H&&(e.nodeValue=s),r==I)return;return c=n.clone(e,U),c.nodeValue=a,c}if(r!=I)return n.clone(e,U)}function D(e,t){if(t!=I)return t==H?n.clone(e,F):e;e.parentNode.removeChild(e)}function M(){return n.create("body",null,g()).outerText}var P=this,L=n.doc,O=0,H=1,I=2,F=!0,U=!1,z="startOffset",W="startContainer",V="endContainer",$="endOffset",q=e.extend,j=n.nodeIndex;return q(P,{startContainer:L,startOffset:0,endContainer:L,endOffset:0,collapsed:F,commonAncestorContainer:L,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:f,compareBoundaryPoints:m,deleteContents:h,extractContents:p,cloneContents:g,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:M}),P}return t.prototype.toString=function(){return this.toStringIE()},t}),i("tinymce/html/Entities",["tinymce/util/Tools"],function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,i,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(o="&"+e[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=e.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(c,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,function(e){return r[e]||n[e]||e})},getEncodeFunc:function(e,t){function o(e,n){return e.replace(n?s:l,function(e){return r[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||i,e=a(e.replace(/\+/g,",")),e.named&&e.numeric?o:e.named?t?c:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(u,function(e,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n)):o[e]||i[e]||t(e)})}};return f}),i("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(e,t){return function(n,i){function r(e){n.getElementsByTagName("head")[0].appendChild(e)}function o(i,o,c){function u(){for(var e=y.passed,t=e.length;t--;)e[t]();y.status=2,y.passed=[],y.failed=[]}function d(){for(var e=y.failed,t=e.length;t--;)e[t]();y.status=3,y.passed=[],y.failed=[]}function f(e,n){e()||((new Date).getTime()-v<a?t.setTimeout(n):d())}function m(){f(function(){for(var e,t,i=n.styleSheets,r=i.length;r--;)if(e=i[r],(t=e.ownerNode?e.ownerNode:e.owningElement)&&t.id===p.id)return u(),!0},m)}function h(){f(function(){try{var e=g.sheet.cssRules;return u(),!!e}catch(e){}},h)}var p,g,v,y;if(i=e._addCacheSuffix(i),l[i]?y=l[i]:(y={passed:[],failed:[]},l[i]=y),o&&y.passed.push(o),c&&y.failed.push(c),1!=y.status){if(2==y.status)return void u();if(3==y.status)return void d();if(y.status=1,p=n.createElement("link"),p.rel="stylesheet",p.type="text/css",p.id="u"+s++,p.async=!1,p.defer=!1,v=(new Date).getTime(),"onload"in p&&!function(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}())p.onload=m,p.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return g=n.createElement("style"),g.textContent='@import "'+i+'"',h(),void r(g);m()}r(p),p.href=i}}var a,s=0,l={};i=i||{},a=i.maxLoadTime||5e3,this.load=o}}),i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(e,n,i,r,o,a,s,l,c,u){function d(e,t){var n,i={},r=t.keep_values;return n={set:function(n,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||e,i,r,n[0])),n.attr("data-mce-"+r,i).attr(r,i)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(e,t){if(null!==t&&"object"==typeof t)return void e.css(t);r&&e.attr("data-mce-style",t),e.attr("style",t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},r&&(i.href=i.src=n),i}function f(e,t){var n=t.attr("style");n=e.serializeStyle(e.parseStyle(n),t[0].nodeName),n||(n=null),t.attr("data-mce-style",n)}function m(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(r++,n=i);return r}function h(e,t){var o,a=this;a.doc=e,a.win=window,a.files={},a.counter=0,a.stdMode=!b||e.documentMode>=8,a.boxModel=!b||"CSS1Compat"==e.compatMode||a.stdMode,a.styleSheetLoader=new u(e),a.boundEvents=[],a.settings=t=t||{},a.schema=t.schema,a.styles=new i({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),a.fixDoc(e),a.events=t.ownEvents?new r(t.proxy):r.Event,a.attrHooks=d(a,t),o=t.schema?t.schema.getBlockElements():{},a.$=n.overrideDefaults(function(){return{context:e,element:a.getRoot()}}),a.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}}var p=c.each,g=c.is,v=c.grep,y=c.trim,b=l.ie,C=/^([a-z0-9],?)+$/i,x=/^[ \t\r\n]*$/;return h.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(b&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,t){var n,i,r=this;return!b||1!==e.nodeType||t?e.cloneNode(t):(i=r.doc,t?n.firstChild:(n=i.createElement(e.nodeName),p(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return e=e||this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,i,r){var o,a=this,s=[];for(e=a.get(e),r=r===t,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),g(n,"string")&&(o=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!r)return e;s.push(e)}e=e.parentNode}return r?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var i=this;return e(t,i.get(n)||i.settings.root_element||i.doc,[])},is:function(n,i){var r;if(n.length===t){if("*"===i)return 1==n.nodeType;if(C.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,function(e){var a;return a=g(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";r+="<"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&f(this,e)},getStyle:function(e,n,i){return e=this.$$(e),i?e.css(n):(n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==n&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&f(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i,r,o=this,a=o.settings;""===n&&(n=null),e=o.$$(e),i=e.attr(t),e.length&&(r=o.attrHooks[t],r&&r.set?r.set(e,n,t):e.attr(t,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,i){p(t,function(e,t){n.setAttrib(i,t,e)})})},getAttrib:function(e,t,n){var i,r,o=this;return e=o.$$(e),e.length&&(i=o.attrHooks[t],r=i&&i.get?i.get(e,t):e.attr(t)),void 0===r&&(r=n||""),r},getPos:function(e,t){var i,r,o=this,a=0,s=0,l=o.doc,c=l.body;if(e=o.get(e),t=t||c,e){if(t===c&&e.getBoundingClientRect&&"static"===n(c).css("position"))return r=e.getBoundingClientRect(),t=o.boxModel?l.documentElement:c,a=r.left+(l.documentElement.scrollLeft||c.scrollLeft)-t.clientLeft,s=r.top+(l.documentElement.scrollTop||c.scrollTop)-t.clientTop,{x:a,y:s};for(i=e;i&&i!=t&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode}return{x:a,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this,r=i.doc;if(i!==h.DOM&&r===document){var o=h.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,h.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",t=r.getElementsByTagName("head")[0],
t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var t,n=this,i=n.doc;if(n!==h.DOM&&i===document)return void h.DOM.loadCSS(e);e||(e=""),t=i.getElementsByTagName("head")[0],p(e.split(","),function(e){var r;e=c._addCacheSuffix(e),n.files[e]||(n.files[e]=!0,r=n.create("link",{rel:"stylesheet",href:e}),b&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),t.appendChild(r))})},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,i){this.$$(e).toggleClass(t,i).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),b?e.each(function(e,i){if(!1!==i.canHaveHTML){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br>"+t,i.removeChild(i.firstChild)}catch(e){n("<div>").html("<br>"+t).contents().slice(1).appendTo(i)}return t}}):e.html(t)},getOuterHTML:function(e){return e=this.get(e),1==e.nodeType&&"outerHTML"in e?e.outerHTML:n("<div>").append(n(e).clone()).html()},setOuterHTML:function(e,t){var i=this;i.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}i.remove(n(this).html(t),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,i=t.nextSibling,i?n.insertBefore(e,i):n.appendChild(e),e})},replace:function(e,t,n){return this.run(t,function(t){return g(t,"array")&&(e=e.cloneNode(!0)),n&&p(v(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,i=this;return e.nodeName!=t.toUpperCase()&&(n=i.create(t),p(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),i.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(c.trim(e))},run:function(e,t,n){var i,r=this;return"string"==typeof e&&(e=r.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],p(e,function(e,o){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))}),i))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(b){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,r,a,s,l=this,c=0;if(e=e.firstChild){a=new o(e,e.parentNode),t=t||(l.schema?l.schema.getNonEmptyElements():null);do{if(1===(r=e.nodeType)){if(e.getAttribute("data-mce-bogus"))continue;if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){c++;continue}return!1}for(i=l.getAttribs(e),n=i.length;n--;)if("name"===(s=i[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8==r)return!1;if(3===r&&!x.test(e.nodeValue))return!1}while(e=a.next())}return c<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:m,split:function(e,t,n){function i(e){var t,n=e.childNodes,r=e.nodeType;if(1!=r||"bookmark"!=e.getAttribute("data-mce-type")){for(t=n.length-1;t>=0;t--)i(n[t]);if(9!=r){if(3==r&&e.nodeValue.length>0){var o=y(e.nodeValue).length;if(!s.isBlock(e.parentNode)||o>0||0===o&&function(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}(e))return}else if(1==r&&(n=e.childNodes,1==n.length&&n[0]&&1==n[0].nodeType&&"bookmark"==n[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(n[0],e),n.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var r,o,a,s=this,l=s.createRng();if(e&&t)return l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),r=l.extractContents(),l=s.createRng(),l.setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),o=l.extractContents(),a=e.parentNode,a.insertBefore(i(r),e),n?a.insertBefore(n,e):a.insertBefore(t,e),a.insertBefore(i(o),e),s.remove(e),n||t},bind:function(e,t,n,i){var r=this;if(c.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(c.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var i=t.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},h.DOM=new h(document),h.nodeIndex=m,h}),i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t){function n(){function e(e,n){function r(){l.remove(s),a&&(a.onreadystatechange=a.onload=a=null),n()}function o(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)}var a,s,l=i;s=l.uniqueId(),a=document.createElement("script"),a.id=s,a.type="text/javascript",a.src=t._addCacheSuffix(e),"onreadystatechange"in a?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&r()}:a.onload=r,a.onerror=o,(document.getElementsByTagName("head")[0]||document.body).appendChild(a)}var n,a={},s=[],l={},c=[],u=0;this.isDone=function(e){return 2==a[e]},this.markDone=function(e){a[e]=2},this.add=this.load=function(e,t,i){a[e]==n&&(s.push(e),a[e]=0),t&&(l[e]||(l[e]=[]),l[e].push({func:t,scope:i||this}))},this.remove=function(e){delete a[e],delete l[e]},this.loadQueue=function(e,t){this.loadScripts(s,e,t)},this.loadScripts=function(t,i,s){function d(e){r(l[e],function(e){e.func.call(e.scope)}),l[e]=n}var f;c.push({func:i,scope:s||this}),(f=function(){var n=o(t);t.length=0,r(n,function(t){if(2==a[t])return void d(t);1!=a[t]&&(a[t]=1,u++,e(t,function(){a[t]=2,u--,d(t),f()}))}),u||(r(c,function(e){e.func.call(e.scope)}),c.length=0)})()}}var i=e.DOM,r=t.each,o=t.grep;return n.ScriptLoader=new n,n}),i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(e,n){function i(){var e=this;e.items=[],e.urls={},e.lookup={}}var r=n.each;return i.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var r=i.language;if(r&&!1!==i.languageLoad){if(n)if(n=","+n+",",-1!=n.indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==n.indexOf(","+r+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+r+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(n,o,a,s){function l(){var i=c.dependencies(n);r(i,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&(s?a.call(s):a.call(e))}var c=this,u=o;c.urls[n]||("object"==typeof o&&(u=o.prefix+o.resource+o.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=i.baseURL+"/"+u),c.urls[n]=u.substring(0,u.lastIndexOf("/")),c.lookup[n]?l():e.ScriptLoader.add(u,l,s))}},i.PluginManager=new i,i.ThemeManager=new i,i}),i("tinymce/dom/NodeType",[],function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(" "),function(t){var n,i;if(t&&t.nodeType)for(i=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(i===e[n])return!0;return!1}}function n(e,t){return t=t.toLowerCase().split(" "),function(n){var i;if(s(n))for(i=0;i<t.length;i++)if(getComputedStyle(n,null).getPropertyValue(e)===t[i])return!0;return!1}}function i(e,t){return function(n){return s(n)&&n[e]===t}}function r(e,t){return function(n){return s(n)&&n.getAttribute(e)===t}}function o(e){return s(e)&&e.hasAttribute("data-mce-bogus")}function a(e){return function(t){if(s(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}var s=e(1);return{isText:e(3),isElement:s,isComment:e(8),isBr:t("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:t,hasPropValue:i,hasAttributeValue:r,matchStyleValues:n,isBogus:o}}),i("tinymce/text/Zwsp",[],function(){function e(e){return e==n}function t(e){return e.replace(new RegExp(n,"g"),"")}var n="\ufeff";return{isZwsp:e,ZWSP:n,trim:t}}),i("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(e,t){function n(e){return h(e)&&(e=e.parentNode),m(e)&&e.hasAttribute("data-mce-caret")}function i(e){return h(e)&&t.isZwsp(e.data)}function r(e){return n(e)||i(e)}function o(e){var t=e.parentNode;t&&t.removeChild(e)}function a(e){try{return e.nodeValue}catch(e){return""}}function s(e,t){0===t.length?o(e):e.nodeValue=t}function l(e,n){var i,o,a,s;if(i=e.ownerDocument,a=i.createTextNode(t.ZWSP),s=e.parentNode,n){if(o=e.previousSibling,h(o)){if(r(o))return o;if(f(o))return o.splitText(o.data.length-1)}s.insertBefore(a,e)}else{if(o=e.nextSibling,h(o)){if(r(o))return o;if(d(o))return o.splitText(1),o}e.nextSibling?s.insertBefore(a,e.nextSibling):s.appendChild(a)}return a}function c(e,t,n){var i,r,o;return i=t.ownerDocument,r=i.createElement(e),r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(i.createTextNode("\xa0")),o=t.parentNode,n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r}function u(e){if(m(e)&&r(e)&&("&nbsp;"!=e.innerHTML?e.removeAttribute("data-mce-caret"):o(e)),h(e)){s(e,t.trim(a(e)))}}function d(e){return h(e)&&e.data[0]==t.ZWSP}function f(e){return h(e)&&e.data[e.data.length-1]==t.ZWSP}var m=e.isElement,h=e.isText;return{isCaretContainer:r,isCaretContainerBlock:n,isCaretContainerInline:i,insertInline:l,insertBlock:c,remove:u,startsWithCaretContainer:d,endsWithCaretContainer:f}}),i("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(e,t,n,i,r){function o(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}function a(e){this.walk=function(t,n){function i(e){var t;return t=e[0],3===t.nodeType&&t===g&&v>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===b&&e.length>0&&t===y&&3===t.nodeType&&e.splice(e.length-1,1),e}function r(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,o){var a=o?"nextSibling":"previousSibling";for(f=e,m=f.parentNode;f&&f!=t;f=m)m=f.parentNode,h=r(f==e?f:f[a],a),h.length&&(o||h.reverse(),n(i(h)))}var c,u,d,f,m,h,p,g=t.startContainer,v=t.startOffset,y=t.endContainer,b=t.endOffset;if(p=e.select("td[data-mce-selected],th[data-mce-selected]"),p.length>0)return void l(p,function(e){n([e])});if(1==g.nodeType&&g.hasChildNodes()&&(g=g.childNodes[v]),1==y.nodeType&&y.hasChildNodes()&&(y=o(y,b)),g==y)return n(i([g]));for(c=e.findCommonAncestor(g,y),f=g;f;f=f.parentNode){if(f===y)return s(g,c,!0);if(f===c)break}for(f=y;f;f=f.parentNode){if(f===g)return s(y,c);if(f===c)break}u=a(g,c)||g,d=a(y,c)||y,s(g,u,!0),h=r(u==g?u:u.nextSibling,"nextSibling",d==y?d.nextSibling:d),h.length&&n(i(h)),s(y,d)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=t(n,i),n=r.previousSibling,o>i?(o-=i,n=r=t(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=t(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(n){function i(i){function a(n,i){for(var r=new t(n,e.getParent(n.parentNode,e.isBlock)||v);n=r[i?"prev":"next"]();)if("BR"===n.nodeName)return!0}function s(n,i){var a,s,c;if(i=i||l,c=e.getParent(i.parentNode,e.isBlock)||v,n&&"BR"==i.nodeName&&g&&e.isEmpty(c))return l=i.parentNode,d=e.nodeIndex(i),void(r=!0);for(a=new t(i,c);m=a[n?"prev":"next"]();){if("false"===e.getContentEditableParent(m)||u(m))return;if(3===m.nodeType&&m.nodeValue.length>0)return l=m,d=n?m.nodeValue.length:0,void(r=!0);if(e.isBlock(m)||h[m.nodeName.toLowerCase()])return;s=m}o&&s&&(l=s,r=!0,d=0)}var l,d,f,m,h,p,g,v=e.getRoot();if(l=n[(i?"start":"end")+"Container"],d=n[(i?"start":"end")+"Offset"],g=1==l.nodeType&&d===l.childNodes.length,h=e.schema.getNonEmptyElements(),p=i,!u(l)){if(1==l.nodeType&&d>l.childNodes.length-1&&(p=!1),9===l.nodeType&&(l=e.getRoot(),d=0),l===v){if(p&&(m=l.childNodes[d>0?d-1:0])){if(u(m))return;if(h[m.nodeName]||"TABLE"==m.nodeName)return}if(l.hasChildNodes()){if(d=Math.min(!p&&d>0?d-1:d,l.childNodes.length-1),l=l.childNodes[d],d=0,!o&&l===v.lastChild&&"TABLE"===l.nodeName)return;if(function(e){for(;e&&e!=v;){if(c(e))return!0;e=e.parentNode}return!1}(l)||u(l))return;if(l.hasChildNodes()&&!/TABLE/.test(l.nodeName)){m=l,f=new t(l,v);do{if(c(m)||u(m)){r=!1;break}if(3===m.nodeType&&m.nodeValue.length>0){d=p?0:m.nodeValue.length,l=m,r=!0;break}if(h[m.nodeName.toLowerCase()]&&!function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(m)){d=e.nodeIndex(m),l=m.parentNode,"IMG"!=m.nodeName||p||d++,r=!0;break}}while(m=p?f.next():f.prev())}}}o&&(3===l.nodeType&&0===d&&s(!0),1===l.nodeType&&(m=l.childNodes[d],m||(m=l.childNodes[d-1]),!m||"BR"!==m.nodeName||function(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}(m,"A")||a(m)||a(m,!0)||s(!0,m))),p&&!o&&3===l.nodeType&&d===l.nodeValue.length&&s(!1),r&&n["set"+(i?"Start":"End")](l,d)}}var r,o;return o=n.collapsed,i(!0),o||i(),r&&o&&n.collapse(!0),r}}function s(t,n,i){var r,o,a;if(r=i.elementFromPoint(t,n),o=i.body.createTextRange(),r&&"HTML"!=r.tagName||(r=i.body),o.moveToElementText(r),a=e.toArray(o.getClientRects()),a=a.sort(function(e,t){return e=Math.abs(Math.max(e.top-n,e.bottom-n)),t=Math.abs(Math.max(t.top-n,t.bottom-n)),e-t}),a.length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(e){}}return null}var l=e.each,c=n.isContentEditableFalse,u=r.isCaretContainer;return a.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},a.getCaretRangeFromPoint=function(e,t,n){var i,r;if(n.caretPositionFromPoint)r=n.caretPositionFromPoint(e,t),i=n.createRange(),i.setStart(r.offsetNode,r.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(r){i=s(e,t,n)}}return i},a.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},a.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},a}),i("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(e,t,n){return function(i){function r(e){var t,n;if(n=i.$(e).parentsUntil(i.getBody()).add(e),n.length===a.length){for(t=n.length;t>=0&&n[t]===a[t];t--);if(-1===t)return a=n,!0}return a=n,!1}var o,a=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(t){var n,r;n=i.selection.getRng(),r={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(r,o)||i.fire("SelectionChange"),o=r}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var e=i.selection.getStart(!0);!t.range&&i.selection.isCollapsed()||!r(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?n.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(e){var t,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),t=o.getStart()||r,t.ownerDocument==i.getDoc()&&i.dom.isChildOf(t,r)||(t=r),"IMG"==t.nodeName&&o.isCollapsed()&&(t=t.parentNode),n=[],i.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),e=e||{},e.element=t,e.parents=n,i.fire("NodeChange",e))}}}),i("tinymce/html/Node",[],function(){function e(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r=this;if("string"!=typeof e){for(i in e)r.attr(i,e[i]);return r}if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),r;return r}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},clone:function(){var e,n,i,r,o,a=this,s=new t(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},e=0,n=i.length;e<n;e++)r=i[e],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(t){var n,i=this,r=[];for(n=i.firstChild;n;n=e(n,i))n.name===t&&r.push(n);return r},empty:function(){var t,n,i,r=this;if(r.firstChild){for(t=[],i=r.firstChild;i;i=e(i,r))t.push(i);for(n=t.length;n--;)i=t[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(t){var i,r,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(i=a.attributes.length;i--;)if("name"===(r=a.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1}while(a=e(a,o));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var r,o;if(r=new t(e,i[e]||1),n)for(o in n)r.attr(o,n[o]);return r},t}),i("tinymce/html/Schema",["tinymce/util/Tools"],function(e){function t(e,t){return e?e.split(t||" "):[]}function n(e){function n(e,n,i){function r(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r}var s,l,c,u=arguments;for(i=i||[],n=n||"","string"==typeof i&&(i=t(i)),l=3;l<u.length;l++)"string"==typeof u[l]&&(u[l]=t(u[l])),i.push.apply(i,u[l]);for(e=t(e),s=e.length;s--;)c=[].concat(a,t(n)),m[e[s]]={attributes:r(c),attributesOrder:c,children:r(i,o)}}function i(e,n){var i,r,o,a;for(e=t(e),i=e.length,n=t(n);i--;)for(r=m[e[i]],o=0,a=n.length;o<a;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,l,c,u,d,f,m={};return r[e]?r[e]:(a=t("id accesskey class dir lang style tabindex title"),l=t("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),c=t("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(a.push.apply(a,t("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,t("article aside details dialog figure header footer hgroup section nav")),c.push.apply(c,t("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(a.push("xml:lang"),f=t("acronym applet basefont big font strike tt"),c.push.apply(c,f),s(f,function(e){n(e,"",c)}),d=t("center dir isindex noframes"),l.push.apply(l,d),u=[].concat(l,c),s(d,function(e){n(e,"",u)})),u=u||[].concat(l,c),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),n("address dt dd div caption","",u),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),n("blockquote","cite",u),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",u),n("dl","","dt dd"),n("a","href target rel media hreflang type",c),n("q","cite",c),n("ins del","cite datetime",u),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",u),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",u,"param"),n("param","name value"),n("map","name",u,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",u),n("th","colspan rowspan headers scope abbr",u),n("form","accept-charset action autocomplete enctype method name novalidate target",u),n("fieldset","disabled form name",u,"legend"),n("label","form for",c),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?u:c),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",u,"li"),n("noscript","",u),"html4"!=e&&(n("wbr"),n("ruby","",c,"rt rp"),n("figcaption","",u),n("mark rt rp summary bdi","",c),n("canvas","width height",u),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",u,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",u,"track source"),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",c,"option"),n("article section nav aside header footer","",u),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",u,"figcaption"),n("time","datetime",c),n("dialog","open",u),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",c),n("progress","value max",c),n("meter","value min max low high optimum",c),n("details","open",u,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=e&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),s(t("a form meter progress dfn"),function(e){m[e]&&delete m[e].children[e]}),delete m.caption.children.table,delete m.script,r[e]=m,m)}function i(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),s(e,function(e,i){n[i]=n[i.toUpperCase()]="map"==t?a(e,/[, ]/):c(e,/[, ]/)})),n}var r={},o={},a=e.makeMap,s=e.each,l=e.extend,c=e.explode,u=e.inArray;return function(e){function o(t,n,i){var o=e[t];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=r[t])||(o=a(n," ",a(n.toUpperCase()," ")),o=l(o,i),r[t]=o),o}function d(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function f(e){var n,i,r,o,s,l,c,f,m,h,p,g,v,y,b,C,x,w,E,N=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,_=/[*?+]/;if(e)for(e=t(e,","),A["@"]&&(C=A["@"].attributes,x=A["@"].attributesOrder),n=0,i=e.length;n<i;n++)if(s=N.exec(e[n])){if(y=s[1],m=s[2],b=s[3],f=s[5],g={},v=[],l={attributes:g,attributesOrder:v},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),C){for(w in C)g[w]=C[w];v.push.apply(v,x)}if(f)for(f=t(f,"|"),r=0,o=f.length;r<o;r++)if(s=S.exec(f[r])){if(c={},p=s[1],h=s[2].replace(/::/g,":"),y=s[3],E=s[4],"!"===p&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(h),c.required=!0),"-"===p){delete g[h],v.splice(u(v,h),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:h,value:E}),c.defaultValue=E),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:h,value:E}),c.forcedValue=E),"<"===y&&(c.validValues=a(E,"?"))),_.test(h)?(l.attributePatterns=l.attributePatterns||[],c.pattern=d(h),l.attributePatterns.push(c)):(g[h]||v.push(h),g[h]=c)}C||"@"!=m||(C=g,x=v),b&&(l.outputName=m,A[b]=l),_.test(m)?(l.pattern=d(m),M.push(l)):A[m]=l}}function m(e){A={},M=[],f(e),s(b,function(e,t){D[t]=e.children})}function h(e){var n=/^(~)?(.+)$/;e&&(r.text_block_elements=r.block_elements=null,s(t(e,","),function(e){var t=n.exec(e),i="~"===t[1],r=i?"span":"div",o=t[2];if(D[o]=D[r],P[o]=r,i||(S[o.toUpperCase()]={},S[o]={}),!A[o]){var a=A[r];a=l({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,A[o]=a}s(D,function(e,t){e[r]&&(D[t]=e=l({},D[t]),e[o]=e[r])})}))}function p(n){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;r[e.schema]=null,n&&s(t(n,","),function(e){var n,r,o=i.exec(e);o&&(r=o[1],n=r?D[o[2]]:D[o[2]]={"#comment":{}},n=D[o[2]],s(t(o[3],"|"),function(e){"-"===r?delete n[e]:n[e]={}}))})}function g(e){var t,n=A[e];if(n)return n;for(t=M.length;t--;)if(n=M[t],n.pattern.test(e))return n}var v,y,b,C,x,w,E,N,S,_,T,k,R,B=this,A={},D={},M=[],P={},L={};e=e||{},b=n(e.schema),!1===e.verify_html&&(e.valid_elements="*[*]"),v=i(e.valid_styles),y=i(e.invalid_styles,"map"),N=i(e.valid_classes,"map"),C=o("whitespace_elements","pre script noscript style textarea video audio iframe object"),x=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),w=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),E=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),_=o("non_empty_elements","td th iframe video audio object script",w),T=o("move_caret_before_on_enter_elements","table",_),k=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),S=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",k),R=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((e.special||"script noscript style textarea").split(" "),function(e){L[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?m(e.valid_elements):(s(b,function(e,t){A[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},D[t]=e.children}),"html5"!=e.schema&&s(t("strong/b em/i"),function(e){e=t(e,"/"),A[e[1]].outputName=e[0]}),s(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){A[e]&&(A[e].removeEmpty=!0)}),s(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){A[e].paddEmpty=!0}),s(t("span"),function(e){A[e].removeEmptyAttrs=!0})),h(e.custom_elements),p(e.valid_children),f(e.extended_valid_elements),p("+ol[ul|ol],+ul[ul|ol]"),e.invalid_elements&&s(c(e.invalid_elements),function(e){A[e]&&delete A[e]}),g("span")||f("span[!data-mce-type|*]"),B.children=D,B.getValidStyles=function(){return v},B.getInvalidStyles=function(){return y},B.getValidClasses=function(){return N},B.getBoolAttrs=function(){return E},B.getBlockElements=function(){return S},B.getTextBlockElements=function(){return k},B.getTextInlineElements=function(){return R},B.getShortEndedElements=function(){
return w},B.getSelfClosingElements=function(){return x},B.getNonEmptyElements=function(){return _},B.getMoveCaretBeforeOnEnterElements=function(){return T},B.getWhiteSpaceElements=function(){return C},B.getSpecialElements=function(){return L},B.isValidChild=function(e,t){var n=D[e];return!(!n||!n[t])},B.isValid=function(e,t){var n,i,r=g(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},B.getElementRule=g,B.getCustomElements=function(){return P},B.addValidElements=f,B.setValidElements=m,B.addCustomElements=h,B.addValidChildren=p,B.elements=A}}),i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,t,n){function i(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function r(r,a){function s(){}var l=this;r=r||{},l.schema=a=a||new e,!1!==r.fix_self_closing&&(r.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),function(e){e&&(l[e]=r[e]||s)}),l.parse=function(e){function o(e){var t,n;for(t=F.length;t--&&F[t].name!==e;);if(t>=0){for(n=F.length-1;n>=t;n--)e=F[n],e.valid&&H.end(e.name);F.length=t}}function s(e,t,n,i,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in y?t:z(n||i||o||""),C&&!p&&0!==t.indexOf("data-")){if(!(a=S[t])&&_){for(s=_.length;s--&&(a=_[s],!a.pattern.test(t)););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(W[t]&&!r.allow_script_urls){var c=n.replace(l,"");try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}if(V.test(c))return;if(!r.allow_html_data_urls&&$.test(c)&&!/^data:image\//i.test(c))return}d.map[t]=n,d.push({name:t,value:n})}var l,c,u,d,f,m,h,p,g,v,y,b,C,x,w,E,N,S,_,T,k,R,B,A,D,M,P,L,O,H=this,I=0,F=[],U=0,z=t.decode,W=n.makeMap("src,href,data,background,formaction,poster"),V=/((java|vb)script|mhtml):/i,$=/^data:/i;for(D=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=a.getShortEndedElements(),A=r.self_closing_elements||a.getSelfClosingElements(),y=a.getBoolAttrs(),C=r.validate,g=r.remove_internals,O=r.fix_self_closing,P=a.getSpecialElements();l=D.exec(e);){if(I<l.index&&H.text(z(e.substr(I,l.index-I))),c=l[6])c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),o(c);else if(c=l[7]){if(c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),b=c in v,O&&A[c]&&F.length>0&&F[F.length-1].name===c&&o(c),!C||(x=a.getElementRule(c))){if(w=!0,C&&(S=x.attributes,_=x.attributePatterns),(N=l[8])?(p=-1!==N.indexOf("data-mce-type"),p&&g&&(w=!1),d=[],d.map={},N.replace(M,s)):(d=[],d.map={}),C&&!p){if(T=x.attributesRequired,k=x.attributesDefault,R=x.attributesForced,B=x.removeEmptyAttrs,B&&!d.length&&(w=!1),R)for(f=R.length;f--;)E=R[f],h=E.name,L=E.value,"{$uid}"===L&&(L="mce_"+U++),d.map[h]=L,d.push({name:h,value:L});if(k)for(f=k.length;f--;)E=k[f],(h=E.name)in d.map||(L=E.value,"{$uid}"===L&&(L="mce_"+U++),d.map[h]=L,d.push({name:h,value:L}));if(T){for(f=T.length;f--&&!(T[f]in d.map););-1===f&&(w=!1)}if(E=d.map["data-mce-bogus"]){if("all"===E){I=i(a,e,D.lastIndex),D.lastIndex=I;continue}w=!1}}w&&H.start(c,d,b)}else w=!1;if(u=P[c]){u.lastIndex=I=l.index+l[0].length,(l=u.exec(e))?(w&&(m=e.substr(I,l.index-I)),I=l.index+l[0].length):(m=e.substr(I),I=e.length),w&&(m.length>0&&H.text(m,!0),H.end(c)),D.lastIndex=I;continue}b||(N&&N.indexOf("/")==N.length-1?w&&H.end(c):F.push({name:c,valid:w}))}else(c=l[1])?(">"===c.charAt(0)&&(c=" "+c),r.allow_conditional_comments||"[if"!==c.substr(0,3)||(c=" "+c),H.comment(c)):(c=l[2])?H.cdata(c):(c=l[3])?H.doctype(c):(c=l[4])&&H.pi(c,l[5]);I=l.index+l[0].length}for(I<e.length&&H.text(z(e.substr(I))),f=F.length-1;f>=0;f--)c=F[f],c.valid&&H.end(c.name)}}var o=n.each;return r.findEndTag=i,r}),i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(e,t,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend;return function(i,l){function c(t){var n,i,o,a,s,c,d,f,m,h,p,g,v,y,b;for(p=r("tr,td,th,tbody,thead,tfoot,table"),h=l.getNonEmptyElements(),g=l.getTextBlockElements(),v=l.getSpecialElements(),n=0;n<t.length;n++)if(i=t[n],i.parent&&!i.fixed)if(g[i.name]&&"li"==i.parent.name){for(y=i.next;y&&g[y.name];)y.name="li",y.fixed=!0,i.parent.insert(y,i.parent),y=y.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!p[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=c=u.filterNode(a[0].clone()),m=0;m<a.length-1;m++){for(l.isValidChild(c.name,a[m].name)?(d=u.filterNode(a[m].clone()),c.append(d)):d=c,f=a[m].firstChild;f&&f!=a[m+1];)b=f.next,d.append(f),f=b;c=d}s.isEmpty(h)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(o.isEmpty(h)||o.firstChild===o.lastChild&&"br"===o.firstChild.name)&&o.empty().remove()}else if(i.parent){if("li"===i.name){if((y=i.prev)&&("ul"===y.name||"ul"===y.name)){y.append(i);continue}if((y=i.next)&&("ul"===y.name||"ul"===y.name)){y.insert(i,y.firstChild,!0);continue}i.wrap(u.filterNode(new e("ul",1)));continue}l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)?i.wrap(u.filterNode(new e("div",1))):v[i.name]?i.empty().remove():i.unwrap()}}}var u=this,d={},f=[],m={},h={};i=i||{},i.validate=!("validate"in i)||i.validate,i.root_name=i.root_name||"body",u.schema=l=l||new t,u.filterNode=function(e){var t,n,i;n in d&&(i=m[n],i?i.push(e):m[n]=[e]),t=f.length;for(;t--;)(n=f[t].name)in e.attributes.map&&(i=h[n],i?i.push(e):h[n]=[e]);return e},u.addNodeFilter=function(e,t){o(a(e),function(e){var n=d[e];n||(d[e]=n=[]),n.push(t)})},u.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<f.length;n++)if(f[n].name===e)return void f[n].callbacks.push(t);f.push({name:e,callbacks:[t]})})},u.parse=function(t,o){function a(t,n){var i,r=new e(t,n);return t in d&&(i=m[t],i?i.push(r):m[t]=[r]),r}function u(e){var t,n,i,r,o=l.getBlockElements();for(t=e.prev;t&&3===t.type;){if(i=t.value.replace(R,""),i.length>0)return void(t.value=i);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}r=t.prev,t.remove(),t=r}}var p,g,v,y,b,C,x,w,E,N,S,_,T,k,R,B,A,D,M,P,L,O=[];if(o=o||{},m={},h={},_=s(r("script,style,head,html,body,title,meta,param"),l.getBlockElements()),P=l.getNonEmptyElements(),M=l.children,S=i.validate,L="forced_root_block"in o?o.forced_root_block:i.forced_root_block,D=l.getWhiteSpaceElements(),T=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,B=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/,p=new n({validate:S,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(l.getSelfClosingElements()),cdata:function(e){v.append(a("#cdata",4)).value=e},text:function(e,t){var n;k||(e=e.replace(B," "),v.lastChild&&_[v.lastChild.name]&&(e=e.replace(T,""))),0!==e.length&&(n=a("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(a("#comment",8)).value=e},pi:function(e,t){v.append(a(e,7)).value=t,u(v)},doctype:function(e){var t;t=v.append(a("#doctype",10)),t.value=e,u(v)},start:function(e,t,n){var i,r,o,s,c;if(o=S?l.getElementRule(e):{}){for(i=a(o.outputName||e,1),i.attributes=t,i.shortEnded=n,v.append(i),c=M[v.name],c&&M[i.name]&&!c[i.name]&&O.push(i),r=f.length;r--;)(s=f[r].name)in t.map&&(E=h[s],E?E.push(i):h[s]=[i]);_[e]&&u(i),n||(v=i),!k&&D[e]&&(k=!0)}},end:function(t){var n,i,r,o,a;if(i=S?l.getElementRule(t):{}){if(_[t]&&!k){if((n=v.firstChild)&&3===n.type)if(r=n.value.replace(T,""),r.length>0)n.value=r,n=n.next;else for(o=n.next,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.next,(0===r.length||A.test(r))&&(n.remove(),n=o),n=o;if((n=v.lastChild)&&3===n.type)if(r=n.value.replace(R,""),r.length>0)n.value=r,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.prev,(0===r.length||A.test(r))&&(n.remove(),n=o),n=o}if(k&&D[t]&&(k=!1),(i.removeEmpty||i.paddEmpty)&&v.isEmpty(P))if(i.paddEmpty)v.empty().append(new e("#text","3")).value="\xa0";else if(!v.attributes.map.name&&!v.attributes.map.id)return a=v.parent,_[v.name]?v.empty().remove():v.unwrap(),void(v=a);v=v.parent}}},l),g=v=new e(o.context||i.root_name,11),p.parse(t),S&&O.length&&(o.context?o.invalid=!0:c(O)),L&&("body"==g.name||o.isRootContent)&&function(){function e(e){e&&(r=e.firstChild,r&&3==r.type&&(r.value=r.value.replace(T,"")),(r=e.lastChild)&&3==r.type&&(r.value=r.value.replace(R,"")))}var t,n,r=g.firstChild;if(l.isValidChild(g.name,L.toLowerCase())){for(;r;)t=r.next,3==r.type||1==r.type&&"p"!==r.name&&!_[r.name]&&!r.attr("data-mce-type")?n?n.append(r):(n=a(L,1),n.attr(i.forced_root_block_attrs),g.insert(n,r),n.append(r)):(e(n),n=null),r=t;e(n)}}(),!o.invalid){for(N in m){for(E=d[N],y=m[N],x=y.length;x--;)y[x].parent||y.splice(x,1);for(b=0,C=E.length;b<C;b++)E[b](y,N,o)}for(b=0,C=f.length;b<C;b++)if(E=f[b],E.name in h){for(y=h[E.name],x=y.length;x--;)y[x].parent||y.splice(x,1);for(x=0,w=E.callbacks.length;x<w;x++)E.callbacks[x](y,E.name,o)}}return g},i.remove_trailing_brs&&u.addNodeFilter("br",function(t){var n,i,r,o,a,c,u,d,f=t.length,m=s({},l.getBlockElements()),h=l.getNonEmptyElements();for(m.body=1,n=0;n<f;n++)if(i=t[n],r=i.parent,m[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if("span"!==(c=a.name)||"bookmark"!==a.attr("data-mce-type")){if("br"!==c)break;if("br"===c){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(h)&&(u=l.getElementRule(r.name))&&(u.removeEmpty?r.remove():u.paddEmpty&&(r.empty().append(new e("#text",3)).value="\xa0")))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!m[r.name]);)r=r.parent;o===r&&(d=new e("#text",3),d.value="\xa0",i.replace(d))}}),i.allow_html_in_named_anchor||u.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if(r=e[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,t=r.lastChild;do{n=t.prev,i.insert(t,r),t=n}while(t)}}),i.validate&&l.getValidClasses()&&u.addAttributeFilter("class",function(e){for(var t,n,i,r,o,a,s,c=e.length,u=l.getValidClasses();c--;){for(t=e[c],n=t.attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,a=u["*"],a&&a[r]&&(s=!0),a=u[t.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),t.attr("class",o)}})}}),i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(e,t){var n=t.makeMap;return function(t){var i,r,o,a,s,l=[];return t=t||{},i=t.indent,r=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var c,u,d,f;if(i&&r[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n")),l.push("<",e),t)for(c=0,u=t.length;c<u;c++)d=t[c],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&i&&o[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n"))},end:function(e){var t;l.push("</",e,">"),i&&o[e]&&l.length>0&&(t=l[l.length-1],t.length>0&&"\n"!==t&&l.push("\n"))},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?l.push("<?",e," ",a(t),"?>"):l.push("<?",e,"?>"),i&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(e,t){return function(n,i){var r=this,o=new e(n);n=n||{},n.validate=!("validate"in n)||n.validate,r.schema=i=i||new t,r.writer=o,r.serialize=function(e){function t(e){var n,s,l,c,u,d,f,m,h,p=r[e.type];if(p)p(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1&&(d=[],d.map={},h=i.getElementRule(e.name))){for(f=0,m=h.attributesOrder.length;f<m;f++)(c=h.attributesOrder[f])in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(f=0,m=l.length;f<m;f++)(c=l[f].name)in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do{t(e)}while(e=e.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do{t(e)}while(e=e.next)}},o.reset(),1!=e.type||n.inner?r[11](e):t(e),o.getContent()}}}),i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(e,t,n,i,r,o,a,s,l,c){function u(e){function t(e){return e&&"br"===e.name}var n,i;n=e.lastChild,t(n)&&(i=n.prev,t(i)&&(n.remove(),i.remove()))}var d=l.each,f=l.trim,m=e.DOM,h=["data-mce-selected"];return function(e,o){function p(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+h.join("|")+')="[^"]+"'].join("|"),"gi");return e=c.trim(e.replace(t,""))}function g(){var e,t,i,r,a,s=o.getBody().innerHTML,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=o.schema;for(s=p(s),a=c.getShortEndedElements();r=l.exec(s);)t=l.lastIndex,i=r[0].length,e=a[r[1]]?t:n.findEndTag(c,s,t),s=s.substring(0,t-i)+s.substring(e),l.lastIndex=t-i;return f(s)}function v(e){-1===l.inArray(h,e)&&(C.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),h.push(e))}var y,b,C;return o&&(y=o.dom,b=o.schema),y=y||m,b=b||new a(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,C=new t(e,b),C.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)n=e[i],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),C.addAttributeFilter("src,href,style",function(t,n){for(var i,r,o=t.length,a="data-mce-"+n,s=e.url_converter,l=e.url_converter_scope;o--;)i=t[o],r=i.attributes.map[a],void 0!==r?(i.attr(n,r.length>0?r:null),i.attr(a,null)):(r=i.attributes.map[n],"style"===n?r=y.serializeStyle(y.parseStyle(r),i.name):s&&(r=s.call(l,r,n,i.name)),i.attr(n,r.length>0?r:null))}),C.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],(n=t.attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),C.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),C.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=i.decode(t.value))}),C.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o,a=e.length;a--;)i=e[a],r=i.firstChild?i.firstChild.value:"","script"===t?(o=i.attr("type"),o&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(i.firstChild.value="\x3c!--\n"+n(r)+"\n--\x3e")}),C.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),C.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.fix_list_elements&&C.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.parent,"ul"!==n.name&&"ol"!==n.name||t.prev&&"li"===t.prev.name&&t.prev.append(t)}),C.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:b,addNodeFilter:C.addNodeFilter,addAttributeFilter:C.addAttributeFilter,serialize:function(t,n){var i,o,a,l,m,h,p=this;return s.ie&&y.select("script,style,select,map").length>0?(m=t.innerHTML,t=t.cloneNode(!1),y.setHTML(t,m)):t=t.cloneNode(!0),i=document.implementation,i.createHTMLDocument&&(o=i.createHTMLDocument(""),d("BODY"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!=t.nodeName?o.body.firstChild:o.body,a=y.doc,y.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,p.onPreProcess(n)),h=C.parse(f(n.getInner?t.innerHTML:y.getOuterHTML(t)),n),u(h),l=new r(e,b),n.content=l.serialize(h),n.cleanup||(n.content=c.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||p.onPostProcess(n),a&&(y.doc=a),n.node=null,n.content},addRules:function(e){b.addValidElements(e)},setRules:function(e){b.setValidElements(e)},onPreProcess:function(e){o&&o.fire("PreProcess",e)},onPostProcess:function(e){o&&o.fire("PostProcess",e)},addTempAttr:v,trimHtml:p,getTrimmedContent:g}}}),i("tinymce/dom/TridentSelection",[],function(){function e(e){function t(t,n){var i,r,o,a,s,l,c,u,d=0,f=-1;if(i=t.duplicate(),i.collapse(n),u=i.parentElement(),u.ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(a=u.children,r=a.length-1;d<=r;)if(c=Math.floor((d+r)/2),s=a[c],i.moveToElementText(s),(f=i.compareEndPoints(n?"StartToStart":"EndToEnd",t))>0)r=c-1;else{if(!(f<0))return{node:s};d=c+1}if(f<0)for(s?i.collapse(!1):(i.moveToElementText(u),i.collapse(!0),s=u,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",1)&&u==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",-1)&&u==i.parentElement();)l++;return{node:s,position:f,offset:l,inside:o}}}function n(){function n(e){var n,i,r,o,a=t(u,e),s=0;if(n=a.node,i=a.offset,a.inside&&!n.hasChildNodes())return void d[e?"setStart":"setEnd"](n,0);if(void 0===i)return void d[e?"setStartBefore":"setEndAfter"](n);if(a.position<0){if(!(r=a.inside?n.firstChild:n.nextSibling))return void d[e?"setStartAfter":"setEndAfter"](n);if(!i)return void(3==r.nodeType?d[e?"setStart":"setEnd"](r,0):d[e?"setStartBefore":"setEndBefore"](r));for(;r;){if(3==r.nodeType&&(o=r.nodeValue,(s+=o.length)>=i)){n=r,s-=i,s=o.length-s;break}r=r.nextSibling}}else{if(!(r=n.previousSibling))return d[e?"setStartBefore":"setEndBefore"](n);if(!i)return void(3==n.nodeType?d[e?"setStart":"setEnd"](r,n.nodeValue.length):d[e?"setStartAfter":"setEndAfter"](r));for(;r;){if(3==r.nodeType&&(s+=r.nodeValue.length)>=i){n=r,s-=i;break}r=r.previousSibling}}d[e?"setStart":"setEnd"](n,s)}var o,a,s,l,c,u=e.getRng(),d=r.createRng();if(o=u.item?u.item(0):u.parentElement(),o.ownerDocument!=r.doc)return d;if(a=e.isCollapsed(),u.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(t){if(-2147024809!=t.number)throw t;c=i.getBookmark(2),s=u.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=u.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(c),u=e.getRng(),n(!0),a||n()}return d}var i=this,r=e.dom;this.getBookmark=function(n){function i(e){var t,n,i,o,a=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=t.children,o=i.length;o--;)if(e===i[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;if(n=t(a,e))return{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,i,o;for(t=r.getRoot(),n=e.length-1;n>=0;n--)o=t.children,(i=e[n])<=o.length-1&&(t=o[i]);return t}function n(n){var r,a,s,l=e[n?"start":"end"];l&&(r=l.position>0,a=o.createTextRange(),a.moveToElementText(t(l.indexes)),s=l.offset,void 0!==s?(a.collapse(l.inside||r),a.moveStart("character",r?-s:s)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;e.start&&(e.start.ctrl?(i=o.createControlRange(),i.addElement(t(e.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,o,u,d;o=r.create("a"),t=e?a:l,n=e?s:c,u=i.duplicate(),t!=m&&t!=m.documentElement||(t=h,n=0),3==t.nodeType?(t.parentNode.insertBefore(o,t),u.moveToElementText(o),u.moveStart("character",n),r.remove(o),i.setEndPoint(e?"StartToStart":"EndToEnd",u)):(d=t.childNodes,d.length?(n>=d.length?r.insertAfter(o,d[d.length-1]):t.insertBefore(o,d[n]),u.moveToElementText(o)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",o=t.firstChild,u.moveToElementText(o),u.collapse(!1)),i.setEndPoint(e?"StartToStart":"EndToEnd",u),r.remove(o))}var i,o,a,s,l,c,u,d,f,m=e.dom.doc,h=m.body;if(a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset,i=h.createTextRange(),a==l&&1==a.nodeType){if(s==c&&!a.hasChildNodes()){if(a.canHaveHTML)return u=a.previousSibling,u&&!u.hasChildNodes()&&r.isBlock(u)?u.innerHTML="&#xFEFF;":u=null,a.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(a.lastChild),i.select(),r.doc.selection.clear(),a.innerHTML="",void(u&&(u.innerHTML=""));s=r.nodeIndex(a),a=a.parentNode}if(s==c-1)try{if(f=a.childNodes[s],o=h.createControlRange(),o.addElement(f),o.select(),d=e.getRng(),d.item&&f===d.item(0))return}catch(e){}}n(!0),n(),i.select()},this.getRangeAt=n}return e}),i("tinymce/util/VK",["tinymce/Env"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(e,t,n,i,r){function o(e,t){for(;t&&t!=e;){if(s(t)||a(t))return t;t=t.parentNode}return null}var a=r.isContentEditableFalse,s=r.isContentEditableTrue;return function(r,s){function l(e){var t=s.settings.object_resizing;return!1!==t&&!i.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!=s.getBody()&&s.dom.is(e,t)))}function c(t){var n,i,r,o,a;n=t.screenX-A,i=t.screenY-D,F=n*R[2]+L,U=i*R[3]+O,F=F<5?5:F,U=U<5?5:U,r="IMG"==S.nodeName&&!1!==s.settings.resize_img_proportional?!e.modifierPressed(t):e.modifierPressed(t)||"IMG"==S.nodeName&&R[2]*R[3]!=0,r&&(X(n)>X(i)?(U=K(F*H),F=K(U/H)):(F=K(U/H),U=K(F*H))),V.setStyles(_,{width:F,height:U}),o=R.startPos.x+n,a=R.startPos.y+i,o=o>0?o:0,a=a>0?a:0,V.setStyles(T,{left:o,top:a,display:"block"}),T.innerHTML=F+" &times; "+U,R[2]<0&&_.clientWidth<=F&&V.setStyle(_,"left",M+(L-F)),R[3]<0&&_.clientHeight<=U&&V.setStyle(_,"top",P+(O-U)),n=G.scrollWidth-z,i=G.scrollHeight-W,n+i!==0&&V.setStyles(T,{left:o-n,top:a-i}),I||(s.fire("ObjectResizeStart",{target:S,width:L,height:O}),I=!0)}function u(){function e(e,t){t&&(S.style[e]||!s.schema.isValid(S.nodeName.toLowerCase(),e)?V.setStyle(S,e,t):V.setAttrib(S,e,t))}I=!1,e("width",F),e("height",U),V.unbind(q,"mousemove",c),V.unbind(q,"mouseup",u),j!=q&&(V.unbind(j,"mousemove",c),V.unbind(j,"mouseup",u)),V.remove(_),V.remove(T),Y&&"TABLE"!=S.nodeName||d(S),s.fire("ObjectResized",{target:S,width:F,height:U}),V.setAttrib(S,"style",V.getAttrib(S,"style")),s.nodeChanged()}function d(e,t,n){var r,o,a,d,m;f(),x(),r=V.getPos(e,G),M=r.x,P=r.y,m=e.getBoundingClientRect(),o=m.width||m.right-m.left,a=m.height||m.bottom-m.top,S!=e&&(C(),S=e,F=U=0),d=s.fire("ObjectSelected",{target:e}),l(e)&&!d.isDefaultPrevented()?$(k,function(e,r){function s(t){A=t.screenX,D=t.screenY,L=S.clientWidth,O=S.clientHeight,H=O/L,R=e,e.startPos={x:o*e[0]+M,y:a*e[1]+P},z=G.scrollWidth,W=G.scrollHeight,_=S.cloneNode(!0),V.addClass(_,"mce-clonedresizable"),V.setAttrib(_,"data-mce-bogus","all"),_.contentEditable=!1,_.unSelectabe=!0,V.setStyles(_,{left:M,top:P,margin:0}),_.removeAttribute("data-mce-selected"),G.appendChild(_),V.bind(q,"mousemove",c),V.bind(q,"mouseup",u),j!=q&&(V.bind(j,"mousemove",c),V.bind(j,"mouseup",u)),T=V.add(G,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},L+" &times; "+O)}var l;if(t)return void(r==t&&s(n));l=V.get("mceResizeHandle"+r),l&&V.remove(l),l=V.add(G,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),i.ie&&(l.contentEditable=!1),V.bind(l,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),s(e)}),e.elm=l,V.setStyles(l,{left:o*e[0]+M-l.offsetWidth/2,top:a*e[1]+P-l.offsetHeight/2})}):f(),S.setAttribute("data-mce-selected","1")}function f(){var e,t;x(),S&&S.removeAttribute("data-mce-selected");for(e in k)(t=V.get("mceResizeHandle"+e))&&(V.unbind(t),V.remove(t))}function m(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,i;if(!I&&!s.removed){if($(V.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"==e.type?e.target:r.getNode(),i=V.$(i).closest(Y?"table":"table,img,hr")[0],t(i,G)&&(w(),n=r.getStart(!0),t(n,i)&&t(r.getEnd(!0),i)&&(!Y||i!=n&&"IMG"!==n.nodeName)))return void d(i);f()}}function h(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function p(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function g(e){var t,n,i,r,o,a,l,c=e.srcElement;t=c.getBoundingClientRect(),a=B.clientX-t.left,l=B.clientY-t.top;for(n in k)if(i=k[n],r=c.offsetWidth*i[0],o=c.offsetHeight*i[1],X(r-a)<8&&X(o-l)<8){R=i;break}I=!0,s.fire("ObjectResizeStart",{target:S,width:S.clientWidth,height:S.clientHeight}),s.getDoc().selection.empty(),d(c,n,B)}function v(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function y(e){return a(o(s.getBody(),e))}function b(e){var t=e.srcElement;if(y(t))return void v(e);if(t!=S){if(s.fire("ObjectSelected",{target:t}),C(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(f(),S=t,h(t,"resizestart",g))}}function C(){p(S,"resizestart",g)}function x(){for(var e in k){var t=k[e];t.elm&&(V.unbind(t.elm),delete t.elm)}}function w(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function E(e){var t;if(Y){t=q.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(e){}}}function N(){S=_=null,Y&&(C(),p(G,"controlselect",b))}var S,_,T,k,R,B,A,D,M,P,L,O,H,I,F,U,z,W,V=s.dom,$=t.each,q=s.getDoc(),j=document,Y=i.ie&&i.ie<11,X=Math.abs,K=Math.round,G=s.getBody();k={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var J=".mce-content-body";return s.contentStyles.push(J+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+J+" .mce-resizehandle:hover {background: #000}"+J+" img[data-mce-selected],"+J+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+J+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+J+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",function(){Y?(s.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(f(),E(e.target))}),h(G,"controlselect",b),s.on("mousedown",function(e){B=e})):(w(),i.ie>=11&&(s.on("mousedown click",function(e){var t=e.target,n=t.nodeName;I||!/^(TABLE|IMG|HR)$/.test(n)||y(t)||(s.selection.select(t,"TABLE"==n),"mousedown"==e.type&&s.nodeChanged())}),s.dom.bind(G,"mscontrolselect",function(e){function t(e){n.setEditorTimeout(s,function(){s.selection.select(e)})}if(y(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target))})));var e=n.throttle(function(e){s.composing||m(e)});s.on("nodechange ResizeEditor ResizeWindow drop",e),s.on("keyup compositionend",function(t){S&&"TABLE"==S.nodeName&&e(t)}),s.on("hide blur",f)}),s.on("remove",x),{isResizable:l,showResizeRect:d,hideResizeRect:f,updateResizeRect:m,controlSelect:E,destroy:N}}}),i("tinymce/util/Fun",[],function(){function e(e){return function(){return e}}function t(e){return function(t){return!e(t)}}function n(e,t){return function(n){return e(t(n))}}function i(){var e=a.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}function r(){var e=a.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}function o(e){var t=a.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return o.apply(this,e)}}var a=[].slice;return{constant:e,negate:t,and:r,or:i,curry:o,compose:n}}),i("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(e,t,n){function i(e){return!p(e)&&(d(e)?!f(e.parentNode):m(e)||u(e)||h(e)||c(e))}function r(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(c(e))return!1;if(l(e))return!0}return!0}function o(e){return!!c(e)&&!0!==t.reduce(e.getElementsByTagName("*"),function(e,t){return e||l(t)},!1)}function a(e){return m(e)||o(e)}function s(e,t){return i(e)&&r(e,t)}var l=e.isContentEditableTrue,c=e.isContentEditableFalse,u=e.isBr,d=e.isText,f=e.matchNodeNames("script style textarea"),m=e.matchNodeNames("img input textarea hr iframe video audio object"),h=e.matchNodeNames("table"),p=n.isCaretContainer;return{isCaretCandidate:i,isInEditable:r,isAtomic:a,isEditableCaretCandidate:s}}),i("tinymce/geom/ClientRect",[],function(){function e(e){return e?{left:u(e.left),top:u(e.top),bottom:u(e.bottom),right:u(e.right),width:u(e.width),height:u(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(t,n){return t=e(t),n?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t}function n(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}function i(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function r(e,t){return e.bottom<t.top||!(e.top>t.bottom)&&i(t.top-e.bottom,e,t)}function o(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&i(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}function l(e,t){return r(e,t)?-1:o(e,t)?1:a(e,t)?-1:s(e,t)?1:0}function c(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}var u=Math.round;return{clone:e,collapse:t,isEqual:n,isAbove:r,isBelow:o,isLeft:a,isRight:s,compare:l,containsXY:c}}),i("tinymce/text/ExtendingChar",[],function(){function e(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&t.test(e)}
var t=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:e}}),i("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(e,t,n,i,r,o,a){function s(e){return"createRange"in e?e.createRange():n.DOM.createRng()}function l(e){return e&&/[\r\n\t ]/.test(e)}function c(e){var t,n=e.startContainer,i=e.startOffset;return!!(l(e.toString())&&v(n.parentNode)&&(t=n.data,l(t[i-1])||l(t[i+1])))}function u(e){function t(e){var t,n=e.ownerDocument,i=s(n),r=n.createTextNode("\xa0"),a=e.parentNode;return a.insertBefore(r,e),i.setStart(r,0),i.setEnd(r,1),t=o.clone(i.getBoundingClientRect()),a.removeChild(r),t}function n(e){var n,i;return i=e.getClientRects(),n=i.length>0?o.clone(i[0]):o.clone(e.getBoundingClientRect()),b(e)&&0===n.left?t(e):n}function i(e,t){return e=o.collapse(e,t),e.width=1,e.right=e.left+1,e}function r(e){0!==e.height&&(m.length>0&&o.isEqual(e,m[m.length-1])||m.push(e))}function l(e,t){var o=s(e.ownerDocument);if(t<e.data.length){if(a.isExtendingChar(e.data[t]))return m;if(a.isExtendingChar(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!c(o)))return r(i(n(o),!1)),m}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),c(o)||r(i(n(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),c(o)||r(i(n(o),!0)))}var u,d,m=[];if(y(e.container()))return l(e.container(),e.offset()),m;if(f(e.container()))if(e.isAtEnd())d=x(e.container(),e.offset()),y(d)&&l(d,d.data.length),g(d)&&!b(d)&&r(i(n(d),!1));else{if(d=x(e.container(),e.offset()),y(d)&&l(d,0),g(d)&&e.isAtEnd())return r(i(n(d),!1)),m;u=x(e.container(),e.offset()-1),g(u)&&!b(u)&&(h(u)||h(d)||!g(d))&&r(i(n(u),!1)),g(d)&&r(i(n(d),!0))}return m}function d(t,n,i){function r(){return y(t),0===n}function o(){return y(t)?n>=t.data.length:n>=t.childNodes.length}function a(){var e;return e=s(t.ownerDocument),e.setStart(t,n),e.setEnd(t,n),e}function l(){return i||(i=u(new d(t,n))),i}function c(){return l().length>0}function f(e){return e&&t===e.container()&&n===e.offset()}function m(e){return x(t,e?n-1:n)}return{container:e.constant(t),offset:e.constant(n),toRange:a,getClientRects:l,isVisible:c,isAtStart:r,isAtEnd:o,isEqual:f,getNode:m}}var f=t.isElement,m=r.isCaretCandidate,h=t.matchStyleValues("display","block table"),p=t.matchStyleValues("float","left right"),g=e.and(f,m,e.negate(p)),v=e.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),y=t.isText,b=t.isBr,C=n.nodeIndex,x=i.getNode;return d.fromRangeStart=function(e){return new d(e.startContainer,e.startOffset)},d.fromRangeEnd=function(e){return new d(e.endContainer,e.endOffset)},d.after=function(e){return new d(e.parentNode,C(e)+1)},d.before=function(e){return new d(e.parentNode,C(e))},d}),i("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(e,t,n,i,r){function o(e){var t=e.parentNode;return v(t)?o(t):t}function a(e){return e?i.reduce(e.childNodes,function(e,t){return v(t)&&"BR"!=t.nodeName?e=e.concat(a(t)):e.push(t),e},[]):[]}function s(e,t){for(;(e=e.previousSibling)&&g(e);)t+=e.data.length;return t}function l(e){return function(t){return e===t}}function c(t){var n,r,s;return n=a(o(t)),r=i.findIndex(n,l(t),t),n=n.slice(0,r+1),s=i.reduce(n,function(e,t,i){return g(t)&&g(n[i-1])&&e++,e},0),n=i.filter(n,e.matchNodeNames(t.nodeName)),(r=i.findIndex(n,l(t),t))-s}function u(e){return(g(e)?"text()":e.nodeName.toLowerCase())+"["+c(e)+"]"}function d(e,t,n){var i=[];for(t=t.parentNode;t!=e&&(!n||!n(t));t=t.parentNode)i.push(t);return i}function f(t,r){var o,a,l,c,f,m=[];return o=r.container(),a=r.offset(),g(o)?l=s(o,a):(c=o.childNodes,a>=c.length?(l="after",a=c.length-1):l="before",o=c[a]),m.push(u(o)),f=d(t,o),f=i.filter(f,n.negate(e.isBogus)),m=m.concat(i.map(f,function(e){return u(e)})),m.reverse().join("/")+","+l}function m(t,n,r){var o=a(t);return o=i.filter(o,function(e,t){return!g(e)||!g(o[t-1])}),o=i.filter(o,e.matchNodeNames(n)),o[r]}function h(e,t){for(var n,i=e,o=0;g(i);){if(n=i.data.length,t>=o&&t<=o+n){e=i,t-=o;break}if(!g(i.nextSibling)){e=i,t=n;break}o+=n,i=i.nextSibling}return t>e.data.length&&(t=e.data.length),new r(e,t)}function p(e,t){var n,o,a;return t?(n=t.split(","),t=n[0].split("/"),a=n.length>1?n[1]:"before",o=i.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),m(e,t[1],parseInt(t[2],10))):null},e),o?g(o)?h(o,parseInt(a,10)):(a="after"===a?y(o)+1:y(o),new r(o.parentNode,a)):null):null}var g=e.isText,v=e.isBogus,y=t.nodeIndex;return{create:f,resolve:p}}),i("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType"],function(e,t,n,i,r,o){function a(a){var l=a.dom;this.getBookmark=function(e,c){function u(e,n){var i=0;return t.each(l.select(e),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=n&&void i++}),i}function d(e){function t(t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,(n=r[Math.min(t?i:i-1,r.length-1)])&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i)))}return t(!0),t(),e}var f,m,h,p,g,v,y,b="&#xFEFF;";if(2==e)return v=a.getNode(),g=v?v.nodeName:null,f=a.getRng(),s(v)||"IMG"==g?{name:g,index:u(g,v)}:a.tridentSel?a.tridentSel.getBookmark(e):(v=function(e){function t(e){var t;if(n.isCaretContainer(e)){if(o.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),t=e.previousSibling,s(t))return t;if(t=e.nextSibling,s(t))return t}}return t(e.startContainer)||t(e.endContainer)}(f),v?(g=v.tagName,{name:g,index:u(g,v)}):function(e){function t(e,t){var i,r,o=e[t?"startContainer":"endContainer"],a=e[t?"startOffset":"endOffset"],s=[],u=0;if(3==o.nodeType){if(c)for(i=o.previousSibling;i&&3==i.nodeType;i=i.previousSibling)a+=i.nodeValue.length;s.push(a)}else r=o.childNodes,a>=r.length&&r.length&&(u=1,a=Math.max(0,r.length-1)),s.push(l.nodeIndex(r[a],c)+u);for(;o&&o!=n;o=o.parentNode)s.push(l.nodeIndex(o,c));return s}var n=l.getRoot(),i={};return i.start=t(e,!0),a.isCollapsed()||(i.end=t(e)),i}(f));if(3==e)return f=a.getRng(),{start:i.create(l.getRoot(),r.fromRangeStart(f)),end:i.create(l.getRoot(),r.fromRangeEnd(f))};if(e)return{rng:a.getRng()};if(f=a.getRng(),h=l.uniqueId(),p=a.isCollapsed(),y="overflow:hidden;line-height:0px",f.duplicate||f.item){if(f.item)return v=f.item(0),g=v.nodeName,{name:g,index:u(g,v)};m=f.duplicate();try{f.collapse(),f.pasteHTML('<span data-mce-type="bookmark" id="'+h+'_start" style="'+y+'">'+b+"</span>"),p||(m.collapse(!1),f.moveToElementText(m.parentElement()),0===f.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+h+'_end" style="'+y+'">'+b+"</span>"))}catch(e){return null}}else{if(v=a.getNode(),"IMG"==(g=v.nodeName))return{name:g,index:u(g,v)};m=d(f.cloneRange()),p||(m.collapse(!1),m.insertNode(l.create("span",{"data-mce-type":"bookmark",id:h+"_end",style:y},b))),f=d(f),f.collapse(!0),f.insertNode(l.create("span",{"data-mce-type":"bookmark",id:h+"_start",style:y},b))}return a.moveToBookmark({id:h,keep:1}),{id:h}},this.moveToBookmark=function(n){function r(e){var t,i,r,o,a=n[e?"start":"end"];if(a){for(r=a[0],i=u,t=a.length-1;t>=1;t--){if(o=i.childNodes,a[t]>o.length-1)return;i=o[a[t]]}3===i.nodeType&&(r=Math.min(a[0],i.nodeValue.length)),1===i.nodeType&&(r=Math.min(a[0],i.childNodes.length)),e?c.setStart(i,r):c.setEnd(i,r)}return!0}function o(i){var r,o,a,s,c=l.get(n.id+"_"+i),u=n.keep;if(c&&(r=c.parentNode,"start"==i?(u?(r=c.firstChild,o=1):o=l.nodeIndex(c),d=f=r,m=h=o):(u?(r=c.firstChild,o=1):o=l.nodeIndex(c),f=r,h=o),!u)){for(s=c.previousSibling,a=c.nextSibling,t.each(t.grep(c.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=l.get(n.id+"_"+i);)l.remove(c,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!e.opera&&(o=s.nodeValue.length,s.appendData(a.nodeValue),l.remove(a),"start"==i?(d=f=s,m=h=o):(f=s,h=o))}}function s(t){return!l.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}var c,u,d,f,m,h;if(n)if(t.isArray(n.start)){if(c=l.createRng(),u=l.getRoot(),a.tridentSel)return a.tridentSel.moveToBookmark(n);r(!0)&&r()&&a.setRng(c)}else"string"==typeof n.start?a.setRng(function(){var e,t;return e=l.createRng(),t=i.resolve(l.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=i.resolve(l.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}()):n.id?(o("start"),o("end"),d&&(c=l.createRng(),c.setStart(s(d),m),c.setEnd(s(f),h),a.setRng(c))):n.name?a.select(l.select(n.name)[n.index]):n.rng&&a.setRng(n.rng)}}var s=o.isContentEditableFalse;return a.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},a}),i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretPosition"],function(e,n,i,r,o,a,s,l,c){function u(e,t,r,a){var s=this;s.dom=e,s.win=t,s.serializer=r,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new i(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,f=l.trim,m=s.ie;return u.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();e?(i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(e){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return e=e||{},n=i="",e.get=!0,e.format=e.format||"html",e.selection=!0,o.editor.fire("BeforeGetContent",e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents())&&s.appendChild(r):a.item!==t||a.htmlText!==t?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+i,o.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(t=t||{format:"html"},t.set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,i,r,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for(i=a.duplicate(),i.collapse(1),t=i.parentElement(),t.ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),n=r=a.parentElement();r=r.parentNode;)if(r==t){t=n;break}return t}return t=a.startContainer,1==t.nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,i=this,r=i.getRng();return r.duplicate||r.item?r.item?r.item(0):(r=r.duplicate(),r.collapse(0),t=r.parentElement(),t.ownerDocument!==i.dom.doc&&(t=i.dom.getRoot()),t&&"BODY"==t.nodeName?t.lastChild||t:t):(t=r.endContainer,n=r.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&r.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,e){if(!t&&i.controlSelection.controlSelect(e))return;n=r.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(i._moveEndPoint(o,e,!0),i._moveEndPoint(o,e)),i.setRng(o)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed)},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var n,i,r,o,a,s,l=this;if(!l.win)return null;if(o=l.win.document,!e&&l.lastFocusBookmark){var c=l.lastFocusBookmark;return c.startContainer?(i=o.createRange(),i.setStart(c.startContainer,c.startOffset),i.setEnd(c.endContainer,c.endOffset)):i=c,i}if(e&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(e){}if(s=l.editor.fire("GetSelectionRange",{range:i}),s.range!==i)return s.range;if(m&&i&&i.setStart&&o.selection){try{a=o.selection.createRange()}catch(e){}a&&a.item&&(r=a.item(0),i=o.createRange(),i.setStartBefore(r),i.setEndAfter(r))}return i||(i=o.createRange?o.createRange():o.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=l.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),l.selectedRange&&l.explicitRange&&(0===t(i.START_TO_START,i,l.selectedRange)&&0===t(i.END_TO_END,i,l.selectedRange)?i=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),i},setRng:function(e,t){var n,i,r,o=this;if(e)if(e.select){o.explicitRange=null;try{e.select()}catch(e){}}else if(o.tridentSel){if(e.cloneRange)try{o.tridentSel.addRange(e)}catch(e){}}else{if(n=o.getSel(),r=o.editor.fire("SetSelectionRange",{range:e}),e=r.range,n){o.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),o.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!n.setBaseAndExtent||s.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset])&&"IMG"==i.tagName&&o.getSel().setBaseAndExtent(i,0,i,1)}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n,i,r,o,a=this,s=a.getRng(),l=a.dom.getRoot();return s?(n=s.startContainer,i=s.endContainer,r=s.startOffset,o=s.endOffset,s.setStart?(t=s.commonAncestorContainer,!s.collapsed&&(n==i&&o-r<2&&n.hasChildNodes()&&(t=n.childNodes[r]),3===n.nodeType&&3===i.nodeType&&(n=n.length===r?e(n.nextSibling,!0):n.parentNode,i=0===o?e(i.previousSibling,!1):i.parentNode,n&&n===i))?n:t&&3==t.nodeType?t.parentNode:t):(t=s.item?s.item(0):s.parentElement(),t.ownerDocument!==a.win.document&&(t=l),t)):l},getSelectedBlocks:function(t,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),t=a.getParent(t||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),t&&t!=r&&s.push(t),t&&n&&t!=n){i=t;for(var l=new e(t,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&t!=n&&n!=r&&s.push(n),s},isForward:function(){var e,t,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||(e=n.createRng(),e.setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();return s.range&&new r(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(e){var t=e.element,r=i.dom,o=r.getParents(t,null,r.getRoot()),a={};d(i.selectorChangedData,function(e,t){d(o,function(i){if(r.is(i,t))return n[t]||(d(e,function(e){e(!0,{node:i,selector:t,parents:o})}),n[t]=e),a[t]=e,!1})}),d(n,function(e,i){a[i]||(delete n[i],d(e,function(e){e(!1,{node:t,selector:i,parents:o})}))})})),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(t),i},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var i,r,o,s,l=this,c=l.dom,u=c.getRoot(),d=0;if(a.isElement(e)){if(!1===t&&(d=e.offsetHeight),"BODY"!=u.nodeName){var f=l.getScrollContainer();if(f)return i=n(e).y-n(f).y+d,s=f.clientHeight,o=f.scrollTop,void((i<o||i+25>o+s)&&(f.scrollTop=i<o?i:i-s+25))}r=c.getViewPort(l.editor.getWin()),i=c.getPos(e).y+d,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&l.editor.getWin().scrollTo(0,i<o?i:i-s+25)}},placeCaretAt:function(e,t){this.setRng(r.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,i){var r=n,o=new e(n,r),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==f(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):"BR"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"==r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?c.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},u}),i("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(e,t){function n(t){this.compare=function(n,r){function o(e){var n={};return i(t.getAttribs(e),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=t.getAttrib(e,r))}),n}function a(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!=n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0}return n.nodeName==r.nodeName&&(!!a(o(n),o(r))&&(!!a(t.parseStyle(t.getAttrib(n,"style")),t.parseStyle(t.getAttrib(r,"style")))&&(!e.isBookmarkNode(n)&&!e.isBookmarkNode(r))))}}var i=t.each;return n}),i("tinymce/fmt/Preview",["tinymce/util/Tools"],function(e){function t(e,t){function i(e){return e.replace(/%(\w+)/g,"")}var r,o,a,s,l=e.dom,c="";if(!1===(s=e.settings.preview_styles))return"";if(s||(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return r=t.block||t.inline||"span",o=l.create(r),n(t.styles,function(e,t){(e=i(e))&&l.setStyle(o,t,e)}),n(t.attributes,function(e,t){(e=i(e))&&l.setAttrib(o,t,e)}),n(t.classes,function(e){e=i(e),l.hasClass(o,e)||l.addClass(o,e)}),e.fire("PreviewFormats"),l.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),a=l.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,n(s.split(" "),function(t){var n=l.getStyle(o,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=l.getStyle(e.getBody(),t,!0),"#ffffff"==l.toHex(n).toLowerCase())||"color"==t&&"#000000"==l.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*a+"px"}"border"==t&&n&&(c+="padding:0 2px;"),c+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),l.remove(o),c}var n=e.each;return{getCssText:t}}),i("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(e,t,n){function i(e,t){a(r[e],function(e){e(t)})}var r=[],o=e.filter,a=e.each;return function(e,t){var n=r[e];n||(r[e]=n=[]),r[e].push(t)}("pre",function(i){function r(t){return l(t.previousSibling)&&-1!=e.indexOf(c,t.previousSibling)}function s(e,t){n(t).remove(),n(e).append("<br><br>").append(t.childNodes)}var l,c,u=i.selection.getRng();l=t.matchNodeNames("pre"),u.collapsed||(c=i.selection.getSelectedBlocks(),a(o(o(c,l),r),function(e){s(e.previousSibling,e)}))}),{postProcess:i}}),i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(e,t,n,i,r,o,a){return function(s){function l(e){return e.nodeType&&(e=e.nodeName),!!s.schema.getTextBlockElements()[e.toLowerCase()]}function c(e){return/^(TH|TD)$/.test(e.nodeName)}function u(e){return e&&/^(IMG)$/.test(e.nodeName)}function d(e,t){return K.getParents(e,t,K.getRoot())}function f(e){return 1===e.nodeType&&"_mce_caret"===e.id}function m(e){return e?X[e]:X}function h(e,t){e&&("string"!=typeof e?le(e,function(e,t){h(t,e)}):(t=t.length?t:[t],le(t,function(e){e.deep===q&&(e.deep=!e.selector),e.split===q&&(e.split=!e.selector||e.inline),e.remove===q&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),X[e]=t))}function p(e){return e&&X[e]&&delete X[e],X}function g(e,t){var n=m(t);if(n)for(var i=0;i<n.length;i++)if(!1===n[i].inherit&&K.is(e,n[i].selector))return!0;return!1}function v(e){var t;return s.dom.getParent(e,function(e){return(t=s.dom.getStyle(e,"text-decoration"))&&"none"!==t}),t}function y(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=v(e.parentNode),s.dom.getStyle(e,"color")&&t?s.dom.setStyle(e,"text-decoration",t):s.dom.getStyle(e,"text-decoration")===t&&s.dom.setStyle(e,"text-decoration",null))}function b(t,n,i){function r(e,t){if(t=t||h,e){if(t.onformat&&t.onformat(e,t,n,i),le(t.styles,function(t,i){K.setStyle(e,i,D(t,n))}),t.styles){var r=K.getAttrib(e,"style");r&&e.setAttribute("data-mce-style",r)}le(t.attributes,function(t,i){K.setAttrib(e,i,D(t,n))}),le(t.classes,function(t){t=D(t,n),K.hasClass(e,t)||K.addClass(e,t)})}}function o(e,i,o){var a,s,c=[],u=!0;a=h.inline||h.block,s=K.create(a),r(s),J.walk(e,function(e){function i(e){var g,v,y,b,C;return C=u,g=e.nodeName.toLowerCase(),v=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&ae(e)&&(C=u,u="true"===ae(e),b=!0),R(g,"br")?(m=0,void(h.block&&K.remove(e))):h.wrapper&&w(e,t,n)?void(m=0):u&&!b&&h.block&&!h.wrapper&&l(g)&&Q(v,a)?(e=K.rename(e,a),r(e),c.push(e),void(m=0)):h.selector&&(le(d,function(t){if(!("collapsed"in t&&t.collapsed!==p))return K.is(e,t.selector)&&!f(e)?(r(e,t),y=!0,!1):void 0}),!h.inline||y)?void(m=0):void(!u||b||!Q(a,g)||!Q(v,a)||!o&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||f(e)||h.inline&&Z(e)?(m=0,le(ce(e.childNodes),i),b&&(u=C),m=0):(m||(m=K.clone(s,re),e.parentNode.insertBefore(m,e),c.push(m)),m.appendChild(e)))}var m;le(e,i)}),!0===h.links&&le(c,function(e){function t(e){"A"===e.nodeName&&r(e,h),le(ce(e.childNodes),t)}t(e)}),le(c,function(e){var i;if(i=function(e){var t=0;return le(e.childNodes,function(e){M(e)||se(e)||t++}),t}(e),(c.length>1||!Z(e))&&0===i)return void K.remove(e,1);if(h.inline||h.wrapper){if(h.exact||1!==i||(e=function(e){var t,n;return le(e.childNodes,function(e){if(1==e.nodeType&&!se(e)&&!f(e))return t=e,re}),t&&!se(t)&&k(t,h)&&(n=K.clone(t,re),r(n),K.replace(n,e,oe),K.remove(t,1)),n||e}(e)),le(d,function(t){le(K.select(t.inline,e),function(e){se(e)||H(t,n,e,t.exact?e:null)})}),w(e.parentNode,t,n))return K.remove(e,1),e=0,oe;h.merge_with_parents&&K.getParent(e.parentNode,function(i){if(w(i,t,n))return K.remove(e,1),e=0,oe}),e&&!1!==h.merge_siblings&&(e=U(F(e),e),e=U(e,F(e,oe)))}})}var c,u,d=m(t),h=d[0],p=!i&&G.isCollapsed();if("false"!==ae(G.getNode())){if(h){if(i)i.nodeType?(u=K.createRng(),u.setStartBefore(i),u.setEndAfter(i),o(L(u,d),null,!0)):o(i,null,!0);else if(p&&h.inline&&!K.select("td[data-mce-selected],th[data-mce-selected]").length)W("apply",t,n);else{var g=s.selection.getNode();ee||!d[0].defaultBlock||K.getParent(g,K.isBlock)||b(d[0].defaultBlock),s.selection.setRng(function(){var t=s.selection.getRng(),n=t.startContainer,r=t.endContainer;if(n!=r&&0===t.endOffset){var o=function(t,n){var r=new e(n);for(i=r.prev2();i;i=r.prev2()){if(3==i.nodeType&&i.data.length>0)return i;if(i.childNodes.length>1||i==t||"BR"==i.tagName)return i}}(n,r),a=3==o.nodeType?o.data.length:o.childNodes.length;t.setEnd(o,a)}return t}()),c=G.getBookmark(),o(L(G.getRng(oe),d),c),h.styles&&(h.styles.color||h.styles.textDecoration)&&(ue(g,y,"childNodes"),y(g)),G.moveToBookmark(c),V(G.getRng(oe)),s.nodeChanged()}a.postProcess(t,s)}}else{i=G.getNode();for(var v=0,C=d.length;v<C;v++)if(d[v].ceFalseOverride&&K.is(i,d[v].selector))return void r(i,d[v])}}function C(e,t,n,i){function r(e){var n,i,o,a,s;if(1===e.nodeType&&ae(e)&&(a=b,b="true"===ae(e),s=!0),n=ce(e.childNodes),b&&!s)for(i=0,o=g.length;i<o&&!H(g[i],t,e,e);i++);if(y.deep&&n.length){for(i=0,o=n.length;i<o;i++)r(n[i]);s&&(b=a)}}function o(n){var r;return le(d(n.parentNode).reverse(),function(n){var o;r||"_start"==n.id||"_end"==n.id||(o=w(n,e,t,i))&&!1!==o.split&&(r=n)}),r}function a(e,n,i,r){var o,a,s,l,c,u;if(e){for(u=e.parentNode,o=n.parentNode;o&&o!=u;o=o.parentNode){for(a=K.clone(o,re),c=0;c<g.length;c++)if(H(g[c],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||y.mixed&&Z(e)||(n=K.split(e,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function l(e){return a(o(e),e,e,!0)}function u(e){var t=K.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return se(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),K.remove(t,!0),n}function f(e){var t,n,i=e.commonAncestorContainer;if(e=L(e,g,oe),y.split){if(t=z(e,oe),n=z(e),t!=n){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&c(n)&&n.firstChild&&(n=n.firstChild||n),K.isChildOf(t,n)&&!Z(n)&&!c(t)&&!c(n))return t=P(t,"span",{id:"_start","data-mce-type":"bookmark"}),l(t),void(t=u(oe));t=P(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=P(n,"span",{id:"_end","data-mce-type":"bookmark"}),l(t),l(n),t=u(oe),n=u()}else t=n=l(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=te(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=te(n)+1}J.walk(e,function(e){le(e,function(e){r(e),1===e.nodeType&&"underline"===s.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===v(e.parentNode)&&H({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var h,p,g=m(e),y=g[0],b=!0;if(n)return void(n.nodeType?(p=K.createRng(),p.setStartBefore(n),p.setEndAfter(n),f(p)):f(n));if("false"!==ae(G.getNode()))G.isCollapsed()&&y.inline&&!K.select("td[data-mce-selected],th[data-mce-selected]").length?W("remove",e,t,i):(h=G.getBookmark(),f(G.getRng(oe)),G.moveToBookmark(h),y.inline&&E(e,t,G.getStart())&&V(G.getRng(!0)),s.nodeChanged());else{n=G.getNode();for(var C=0,x=g.length;C<x&&(!g[C].ceFalseOverride||!H(g[C],t,n,n));C++);}}function x(e,t,n){var i=m(e);!E(e,t,n)||"toggle"in i[0]&&!i[0].toggle?b(e,t,n):C(e,t,n)}function w(e,t,n,i){function r(e,t,r){var o,a,s,l=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(l)if(l.length===q){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===r?K.getAttrib(e,o):B(e,o),i&&!a&&!t.exact)return;if((!i||t.exact)&&!R(a,A(D(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?K.getAttrib(e,l[s]):B(e,l[s]))return t;return t}var o,a,s,l=m(t);if(l&&e)for(a=0;a<l.length;a++)if(o=l[a],k(e,o)&&r(e,o,"attributes")&&r(e,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!K.hasClass(e,s[a]))return;return o}}function E(e,t,n){function i(n){var i=K.getRoot();return n!==i&&(n=K.getParent(n,function(n){return!!g(n,e)||(n.parentNode===i||!!w(n,e,t,!0))}),w(n,e,t))}var r;return n?i(n):(n=G.getNode(),i(n)?oe:(r=G.getStart(),r!=n&&i(r)?oe:re))}function N(e,t){var n,i=[],r={};return n=G.getStart(),K.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!r[a]&&w(n,a,t)&&(r[a]=!0,i.push(a))},K.getRoot()),i}function S(e){var t,n,i,r,o,a=m(e);if(a)for(t=G.getStart(),n=d(t),r=a.length-1;r>=0;r--){if(!(o=a[r].selector)||a[r].defaultBlock)return oe;for(i=n.length-1;i>=0;i--)if(K.is(n[i],o))return oe}return re}function _(e,t,n){var i;return $||($={},i={},s.on("NodeChange",function(e){var t=d(e.element),n={};t=r.grep(t,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),le($,function(e,r){le(t,function(o){return w(o,r,{},e.similar)?(i[r]||(le(e,function(e){e(!0,{node:o,format:r,parents:t})}),i[r]=e),n[r]=e,!1):!g(o,r)&&void 0})}),le(i,function(r,o){n[o]||(delete i[o],le(r,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),le(e.split(","),function(e){$[e]||($[e]=[],$[e].similar=n),$[e].push(t)}),this}function T(e){return o.getCssText(s,e)}function k(e,t){return R(e,t.inline)?oe:R(e,t.block)?oe:t.selector?1==e.nodeType&&K.is(e,t.selector):void 0}function R(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function B(e,t){return A(K.getStyle(e,t),t)}function A(e,t){return"color"!=t&&"backgroundColor"!=t||(e=K.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}
function D(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function M(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function P(e,t,n){var i=K.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function L(t,n,i){function r(e){var t,i,r,o,a;if(t=i=e?g:y,o=e?"previousSibling":"nextSibling",a=K.getRoot(),3==t.nodeType&&!M(t)&&(e?v>0:b<t.nodeValue.length))return t;for(;;){if(!n[0].block_expand&&Z(i))return i;for(r=i[o];r;r=r[o])if(!se(r)&&!M(r)&&!function(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}(r))return i;if(i==a||i.parentNode==a){t=i;break}i=i.parentNode}return t}function o(e,t){for(t===q&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function a(e){for(var t=e;t;){if(1===t.nodeType&&ae(t))return"false"===ae(t)?t:e;t=t.parentNode}return e}function c(t,n,r){function o(e,t){var n,o,a=e.nodeValue;return void 0===t&&(t=r?a.length:0),r?(n=a.lastIndexOf(" ",t),o=a.lastIndexOf("\xa0",t),-1===(n=n>o?n:o)||i||n++):(n=a.indexOf(" ",t),o=a.indexOf("\xa0",t),n=-1!==n&&(-1===o||n<o)?n:o),n}var a,l,c,u;if(3===t.nodeType){if(-1!==(c=o(t,n)))return{container:t,offset:c};u=t}for(a=new e(t,K.getParent(t,Z)||s.getBody());l=a[r?"prev":"next"]();)if(3===l.nodeType){if(u=l,-1!==(c=o(l)))return{container:l,offset:c}}else if(Z(l))break;if(u)return n=r?0:u.length,{container:u,offset:n}}function u(e,i){var r,o,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[i]&&(e=e[i]),r=d(e),o=0;o<r.length;o++)for(a=0;a<n.length;a++)if(!("collapsed"in(s=n[a])&&s.collapsed!==t.collapsed)&&K.is(r[o],s.selector))return r[o];return e}function f(e,t){var i,r=K.getRoot();if(n[0].wrapper||(i=K.getParent(e,n[0].block,r)),i||(i=K.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=r&&l(e)})),i&&n[0].wrapper&&(i=d(i,"ul,ol").reverse()[0]||i),!i)for(i=e;i[t]&&!Z(i[t])&&(i=i[t],!R(i,"br")););return i||e}var m,h,p,g=t.startContainer,v=t.startOffset,y=t.endContainer,b=t.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(m=g.childNodes.length-1,g=g.childNodes[v>m?m:v],3==g.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(m=y.childNodes.length-1,y=y.childNodes[b>m?m:b-1],3==y.nodeType&&(b=y.nodeValue.length)),g=a(g),y=a(y),(se(g.parentNode)||se(g))&&(g=se(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&&(v=0)),(se(y.parentNode)||se(y))&&(y=se(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(t.collapsed&&(p=c(g,v,!0),p&&(g=p.container,v=p.offset),(p=c(y,b))&&(y=p.container,b=p.offset)),h=o(y,b),h.node)){for(;h.node&&0===h.offset&&h.node.previousSibling;)h=o(h.node.previousSibling);h.node&&h.offset>0&&3===h.node.nodeType&&" "===h.node.nodeValue.charAt(h.offset-1)&&h.offset>1&&(y=h.node,y.splitText(h.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=r(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=r())),n[0].selector&&n[0].expand!==re&&!n[0].inline&&(g=u(g,"previousSibling"),y=u(y,"nextSibling")),(n[0].block||n[0].selector)&&(g=f(g,"previousSibling"),y=f(y,"nextSibling"),n[0].block&&(Z(g)||(g=r(!0)),Z(y)||(y=r()))),1==g.nodeType&&(v=te(g),g=g.parentNode),1==y.nodeType&&(b=te(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function O(e,t){return t.links&&"A"==e.tagName}function H(e,t,n,i){var r,o,a;if(!k(n,e)&&!O(n,e))return re;if("all"!=e.remove)for(le(e.styles,function(r,o){r=A(D(r,t),o),"number"==typeof o&&(o=r,i=0),(e.remove_similar||!i||R(B(i,o),r))&&K.setStyle(n,o,""),a=1}),a&&""===K.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),le(e.attributes,function(e,r){var o;if(e=D(e,t),"number"==typeof r&&(r=e,i=0),!i||R(K.getAttrib(i,r),e)){if("class"==r&&(e=K.getAttrib(n,r))&&(o="",le(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o))return void K.setAttrib(n,r,o);"class"==r&&n.removeAttribute("className"),ie.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),le(e.classes,function(e){e=D(e,t),i&&!K.hasClass(i,e)||K.removeClass(n,e)}),o=K.getAttribs(n),r=0;r<o.length;r++){var s=o[r].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return re}return"none"!=e.remove?(I(n,e),oe):void 0}function I(e,t){function n(e,t,n){return!(e=F(e,t,n))||"BR"==e.nodeName||Z(e)}var i,r=e.parentNode;t.block&&(ee?r==K.getRoot()&&(t.list_block&&R(e,t.list_block)||le(ce(e.childNodes),function(e){Q(ee,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=P(e,ee),K.setAttribs(i,s.settings.forced_root_block_attrs)):i=0})):Z(e)&&!Z(r)&&(n(e,re)||n(e.firstChild,oe,1)||e.insertBefore(K.create("br"),e.firstChild),n(e,oe)||n(e.lastChild,re,1)||e.appendChild(K.create("br")))),t.selector&&t.inline&&!R(t.inline,e)||K.remove(e,1)}function F(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!M(e))return e}function U(e,t){function n(e,t){for(r=e;r;r=r[t]){if(3==r.nodeType&&0!==r.nodeValue.length)return e;if(1==r.nodeType&&!se(r))return r}return e}var r,o,a=new i(K);if(e&&t&&(e=n(e,"previousSibling"),t=n(t,"nextSibling"),a.compare(e,t))){for(r=e.nextSibling;r&&r!=t;)o=r,r=r.nextSibling,e.appendChild(o);return K.remove(t),le(ce(t.childNodes),function(t){e.appendChild(t)}),e}return t}function z(t,n){var i,r,o;return i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],1==i.nodeType&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),3===i.nodeType&&n&&r>=i.nodeValue.length&&(i=new e(i,s.getBody()).next()||i),3!==i.nodeType||n||0!==r||(i=new e(i,s.getBody()).prev()||i),i}function W(t,n,i,r){function o(e){var t=K.create("span",{id:h,"data-mce-bogus":!0,style:p?"color:red":""});return e&&t.appendChild(s.getDoc().createTextNode(ne)),t}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==ne||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function c(e){for(;e;){if(e.id===h)return e;e=e.parentNode}}function u(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,i;if(e)i=G.getRng(!0),a(e)?(!1!==t&&(i.setStartBefore(e),i.setEndBefore(e)),K.remove(e)):(n=u(e),n.nodeValue.charAt(0)===ne&&(n.deleteData(0,1),i.startContainer==n&&i.startOffset>0&&i.setStart(n,i.startOffset-1),i.endContainer==n&&i.endOffset>0&&i.setEnd(n,i.endOffset-1)),K.remove(e,1)),G.setRng(i);else if(!(e=c(G.getStart())))for(;e=K.get(h);)d(e,!1)}function f(){var e;(e=c(G.getStart()))&&!K.isEmpty(e)&&ue(e,function(e){1!=e.nodeType||e.id===h||K.isEmpty(e)||K.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var h="_mce_caret",p=s.settings.caret_debug;s._hasCaretEvents||(Y=function(){var e,t=[];if(a(c(G.getStart()),t))for(e=t.length;e--;)K.setAttrib(t[e],"data-mce-bogus","1")},j=function(e){var t=e.keyCode;d(),8==t&&G.isCollapsed()&&G.getStart().innerHTML==ne&&d(c(G.getStart())),37!=t&&39!=t||d(c(G.getStart())),f()},s.on("SetContent",function(e){e.selection&&f()}),s._hasCaretEvents=!0),"apply"==t?function(){var e,t,r,a,s,l,d;e=G.getRng(!0),a=e.startOffset,l=e.startContainer,d=l.nodeValue,t=c(G.getStart()),t&&(r=u(t)),d&&a>0&&a<d.length&&/\w/.test(d.charAt(a))&&/\w/.test(d.charAt(a-1))?(s=G.getBookmark(),e.collapse(!0),e=L(e,m(n)),e=J.split(e),b(n,i,e),G.moveToBookmark(s)):(t&&r.nodeValue===ne?b(n,i,t):(t=o(!0),r=t.firstChild,e.insertNode(t),a=1,b(n,i,t)),G.setCursorLocation(r,a))}():function(){var e,t,a,s,c,u,d,f,h=G.getRng(!0),p=[];for(e=h.startContainer,t=h.startOffset,c=e,3==e.nodeType&&(t!=e.nodeValue.length&&(s=!0),c=c.parentNode);c;){if(w(c,n,i,r)){u=c;break}c.nextSibling&&(s=!0),p.push(c),c=c.parentNode}if(u)if(s)a=G.getBookmark(),h.collapse(!0),h=L(h,m(n),!0),h=J.split(h),C(n,i,h),G.moveToBookmark(a);else{for(f=o(),c=f,d=p.length-1;d>=0;d--)c.appendChild(K.clone(p[d],!1)),c=c.firstChild;c.appendChild(K.doc.createTextNode(ne)),c=c.firstChild;var g=K.getParent(u,l);g&&K.isEmpty(g)?u.parentNode.replaceChild(f,u):K.insertAfter(f,u),G.setCursorLocation(c,1),K.isEmpty(u)&&K.remove(u)}}()}function V(t){var n,i,r,o,a,s=t.startContainer,l=t.startOffset;if((t.startContainer!=t.endContainer||!u(t.startContainer.childNodes[t.startOffset]))&&(3==s.nodeType&&l>=s.nodeValue.length&&(l=te(s),s=s.parentNode,n=!0),1==s.nodeType))for(o=s.childNodes,s=o[Math.min(l,o.length-1)],i=new e(s,K.getParent(s,K.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!M(r))return a=K.create("a",{"data-mce-bogus":"all"},ne),r.parentNode.insertBefore(a,r),t.setStart(r,0),G.setRng(t),void K.remove(a)}var $,q,j,Y,X={},K=s.dom,G=s.selection,J=new t(K),Q=s.schema.isValidChild,Z=K.isBlock,ee=s.settings.forced_root_block,te=K.nodeIndex,ne="\ufeff",ie=/^(src|href|style)$/,re=!1,oe=!0,ae=K.getContentEditable,se=n.isBookmarkNode,le=r.each,ce=r.grep,ue=r.walk;(0,r.extend)(this,{get:m,register:h,unregister:p,apply:b,remove:C,toggle:x,match:E,matchAll:N,matchNode:w,canApply:S,formatChanged:_,getCssText:T}),function(){h({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){le(n,function(t,n){K.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),le("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){h(e,{block:e,remove:"all"})}),h(s.settings.formats)}(),function(){s.addShortcut("meta+b","bold_desc","Bold"),s.addShortcut("meta+i","italic_desc","Italic"),s.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)s.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),s.on("BeforeGetContent",function(e){Y&&"raw"!=e.format&&Y()}),s.on("mouseup keydown",function(e){j&&j(e)})}}),i("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env"],function(e,t){return function(e){function n(){return e.serializer.getTrimmedContent()}function i(t){e.setDirty(t)}function r(e){s.typing=!1,s.add({},e)}var o,a,s=this,l=0,c=[],u=0;return e.on("init",function(){s.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&s.beforeChange()}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&r(e)}),e.on("ObjectResizeStart Cut",function(){s.beforeChange()}),e.on("SaveContent ObjectResized blur",r),e.on("DragEnd",r),e.on("KeyUp",function(o){var l=o.keyCode;o.isDefaultPrevented()||((l>=33&&l<=36||l>=37&&l<=40||45==l||13==l||o.ctrlKey)&&(r(),e.nodeChanged()),(46==l||8==l||t.mac&&(91==l||93==l))&&e.nodeChanged(),a&&s.typing&&(e.isDirty()||(i(c[0]&&n()!=c[0].content),e.isDirty()&&e.fire("change",{level:c[0],lastLevel:null})),e.fire("TypingUndo"),a=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45==t)return void(s.typing&&r(e));var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224==t||91==t||s.typing||n||(s.beforeChange(),s.typing=!0,s.add({},e),a=!0)}}),e.on("MouseDown",function(e){s.typing&&r(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),s={data:c,typing:!1,beforeChange:function(){u||(o=e.selection.getBookmark(2,!0))},add:function(t,r){var a,s,d=e.settings;if(t=t||{},t.content=n(),u||e.removed)return null;if(s=c[l],e.fire("BeforeAddUndo",{level:t,lastLevel:s,originalEvent:r}).isDefaultPrevented())return null;if(s&&s.content==t.content)return null;if(c[l]&&(c[l].beforeBookmark=o),d.custom_undo_redo_levels&&c.length>d.custom_undo_redo_levels){for(a=0;a<c.length-1;a++)c[a]=c[a+1];c.length--,l=c.length}t.bookmark=e.selection.getBookmark(2,!0),l<c.length-1&&(c.length=l+1),c.push(t),l=c.length-1;var f={level:t,lastLevel:s,originalEvent:r};return e.fire("AddUndo",f),l>0&&(i(!0),e.fire("change",f)),t},undo:function(){var t;return s.typing&&(s.add(),s.typing=!1),l>0&&(t=c[--l],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.beforeBookmark),i(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return l<c.length-1&&(t=c[++l],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.bookmark),i(!0),e.fire("redo",{level:t})),t},clear:function(){c=[],l=0,s.typing=!1,s.data=c,e.fire("ClearUndos")},hasUndo:function(){return l>0||s.typing&&c[0]&&n()!=c[0].content},hasRedo:function(){return l<c.length-1&&!this.typing},transact:function(e){s.beforeChange();try{u++,e()}finally{u--}return s.add()},extra:function(t,n){var i,r;s.transact(t)&&(r=c[l].bookmark,i=c[l-1],e.setContent(i.content,{format:"raw"}),e.selection.moveToBookmark(i.beforeBookmark),s.transact(n)&&(c[l-1].beforeBookmark=r))}}}}),i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(e,t,n){var i=n.ie&&n.ie<11;return function(r){function o(o){function m(e){return e&&a.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==a.getContentEditable(e)}function h(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function p(e){var t;a.isBlock(e)&&(t=s.getRng(),e.appendChild(a.create("span",null,"\xa0")),s.select(e),e.lastChild.outerHTML="",s.setRng(t))}function g(t){var i,r,o,l,c=t;if(t){if(n.ie&&n.ie<9&&T&&T.firstChild&&T.firstChild==T.lastChild&&"BR"==T.firstChild.tagName&&a.remove(T.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var u=function(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(a.doc.createTextNode("\xa0"),t.firstChild)}if(o=a.createRng(),n.ie||t.normalize(),t.hasChildNodes()){for(i=new e(t,t);r=i.current();){if(3==r.nodeType){o.setStart(r,0),o.setEnd(r,0);break}if(f[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}c=r,r=i.next()}r||(o.setStart(c,0),o.setEnd(c,0))}else"BR"==t.nodeName?t.nextSibling&&a.isBlock(t.nextSibling)?((!k||k<9)&&(l=a.create("br"),t.parentNode.insertBefore(l,t)),o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));s.setRng(o),a.remove(l),s.scrollIntoView(t)}}function v(e){var t=l.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&a.setAttribs(e,l.forced_root_block_attrs)}function y(e){var t,n,r,o=S,s=u.getTextInlineElements();if(e||"TABLE"==M?(t=a.create(e||L),v(t)):t=T.cloneNode(!1),r=t,!1!==l.keep_styles)do{if(s[o.nodeName]){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),a.setAttrib(n,"id",""),t.hasChildNodes()?(n.appendChild(t.firstChild),t.appendChild(n)):(r=n,t.appendChild(n))}}while((o=o.parentNode)&&o!=N);return i||(r.innerHTML='<br data-mce-bogus="1">'),t}function b(t){var n,i,r;if(3==S.nodeType&&(t?_>0:_<S.nodeValue.length))return!1;if(S.parentNode==T&&O&&!t)return!0;if(t&&1==S.nodeType&&S==T.firstChild)return!0;if("TABLE"===S.nodeName||S.previousSibling&&"TABLE"==S.previousSibling.nodeName)return O&&!t||!O&&t;for(n=new e(S,T),3==S.nodeType&&(t&&0===_?n.prev():t||_!=S.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),d[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;t?n.prev():n.next()}return!0}function C(){r.execCommand("InsertLineBreak",!1,o)}function x(){B=/^(H[1-6]|PRE|FIGURE)$/.test(M)&&"HGROUP"!=P?y(L):y(),l.end_container_on_empty_block&&m(D)&&a.isEmpty(T)?B=a.split(D,T):a.insertAfter(B,T),g(B)}var w,E,N,S,_,T,k,R,B,A,D,M,P,L,O;if(w=s.getRng(!0),!o.isDefaultPrevented()){if(!w.collapsed)return void r.execCommand("Delete");if(new t(a).normalize(w),S=w.startContainer,_=w.startOffset,L=(l.force_p_newlines?"p":"")||l.forced_root_block,L=L?L.toUpperCase():"",k=a.doc.documentMode,R=o.shiftKey,1==S.nodeType&&S.hasChildNodes()&&(O=_>S.childNodes.length-1,S=S.childNodes[Math.min(_,S.childNodes.length-1)]||S,_=O&&3==S.nodeType?S.nodeValue.length:0),N=function(e){var t,n,i=a.getRoot();for(t=e;t!==i&&"false"!==a.getContentEditable(t);)"true"===a.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}(S)){if(c.beforeChange(),!a.isBlock(N)&&N!=a.getRoot())return void(L&&!R||C());if((L&&!R||!L&&R)&&(S=function(e,t){var n,i,o,s,l,c,d=L||"P";if(!(i=a.getParent(e,a.isBlock))||!m(i)){if(i=i||N,c=i==r.getBody()||h(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return n=a.create(d),v(n),i.appendChild(n),w.setStart(n,0),w.setEnd(n,0),n;for(s=e;s.parentNode!=i;)s=s.parentNode;for(;s&&!a.isBlock(s);)o=s,s=s.previousSibling;if(o&&u.isValidChild(c,d.toLowerCase())){for(n=a.create(d),v(n),o.parentNode.insertBefore(n,o),s=o;s&&!a.isBlock(s);)l=s.nextSibling,n.appendChild(s),s=l;w.setStart(e,t),w.setEnd(e,t)}}return e}(S,_)),T=a.getParent(S,a.isBlock),D=T?a.getParent(T.parentNode,a.isBlock):null,M=T?T.nodeName.toUpperCase():"",P=D?D.nodeName.toUpperCase():"","LI"!=P||o.ctrlKey||(T=D,M=P),/^(LI|DT|DD)$/.test(M)){if(!L&&R)return void C();if(a.isEmpty(T))return void function(){function e(e){for(var t=D[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===T}function t(){var e=D.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:D}if(D!=r.getBody()){var n=D.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(L="LI"),B=L?y(L):a.create("BR"),e(!0)&&e()?"LI"==n?a.insertAfter(B,t()):a.replace(B,D):e(!0)?"LI"==n?(a.insertAfter(B,t()),B.appendChild(a.doc.createTextNode(" ")),B.appendChild(D)):D.parentNode.insertBefore(B,D):e()?(a.insertAfter(B,t()),p(B)):(D=t(),E=w.cloneRange(),E.setStartAfter(T),E.setEndAfter(D),A=E.extractContents(),"LI"==L&&"LI"==A.firstChild.nodeName?(B=A.firstChild,a.insertAfter(A,D)):(a.insertAfter(A,D),a.insertAfter(B,D))),a.remove(T),g(B),c.add()}}()}if("PRE"==M&&!1!==l.br_in_pre){if(!R)return void C()}else if(!L&&!R&&"LI"!=M||L&&R)return void C();L&&T===r.getBody()||(L=L||"P",b()?x():b(!0)?(B=T.parentNode.insertBefore(y(),T),p(B),g(T)):(E=w.cloneRange(),E.setEndAfter(T),A=E.extractContents(),function(e){do{3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(A),B=A.firstChild,a.insertAfter(A,T),function(e){var t,n=e,i=[];if(n){for(;n=n.firstChild;){if(a.isBlock(n))return;1!=n.nodeType||d[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)n=i[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?a.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&a.remove(n)}}(B),function(e){var t;i||(e.normalize(),(t=e.lastChild)&&!/^(left|right)$/gi.test(a.getStyle(t,"float",!0))||a.add(e,"br"))}(T),a.isEmpty(T)&&function(e){e.innerHTML=i?"":'<br data-mce-bogus="1">'}(T),B.normalize(),a.isEmpty(B)?(a.remove(B),x()):g(B)),a.setAttrib(B,"id",""),r.fire("NewBlock",{newBlock:B}),c.add())}}}var a=r.dom,s=r.selection,l=r.settings,c=r.undoManager,u=r.schema,d=u.getNonEmptyElements(),f=u.getMoveCaretBeforeOnEnterElements();r.on("keydown",function(e){13==e.keyCode&&!1!==o(e)&&e.preventDefault()})}}),i("tinymce/ForceBlocks",[],function(){return function(e){function t(){var t,s,l,c,u,d,f,m,h,p,g,v,y=r.getStart(),b=e.getBody();if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(a[y.nodeName])return;y=y.parentNode}if(t=r.getRng(),t.setStart){s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset;try{h=e.getDoc().activeElement===b}catch(e){}}else t.item&&(y=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(y)),h=t.parentElement().ownerDocument===e.getDoc(),p=t.duplicate(),p.collapse(!0),l=-1*p.move("character",-16777215),p.collapsed||(p=t.duplicate(),p.collapse(!1),u=-1*p.move("character",-16777215)-l);for(y=b.firstChild,g=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!a[y.nodeName])&&o.isValidChild(g,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){f=y,y=y.nextSibling,i.remove(f);continue}d||(d=i.create(v,e.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),m=!0),f=y,y=y.nextSibling,d.appendChild(f)}else d=null,y=y.nextSibling;if(m&&h){if(t.setStart)t.setStart(s,l),t.setEnd(c,u),r.setRng(t);else try{t=e.getDoc().body.createTextRange(),t.moveToElementText(b),t.collapse(!0),t.moveStart("character",l),u>0&&t.moveEnd("character",u),t.select()}catch(e){}e.nodeChanged()}}}var n=e.settings,i=e.dom,r=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}}),i("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(e,t,n,i,r,o){function a(e){return e>0}function s(e){return e<0}function l(e,n,i,r,o){var l=new t(e,r);if(s(n)){if(C(e)&&(e=l.prev(!0),i(e)))return e;for(;e=l.prev(o);)if(i(e))return e}if(a(n)){if(C(e)&&(e=l.next(!0),i(e)))return e;for(;e=l.next(o);)if(i(e))return e}return null}function c(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(b(e))return e;return t}function u(e,t){for(;e&&e!=t;){if(x(e))return e;e=e.parentNode}return null}function d(e,t,n){return u(e.container(),n)==u(t.container(),n)}function f(e,t,n){return c(e.container(),n)==c(t.container(),n)}function m(e,t){var n,i;return t?(n=t.container(),i=t.offset(),N(n)?n.childNodes[i+e]:null):null}function h(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function p(e,t,n){return u(t,e)==u(n,e)}function g(e,t,n){var i,r;for(r=e?"previousSibling":"nextSibling";n&&n!=t;){if(i=n[r],w(i)&&(i=i[r]),C(i)){if(p(t,i,n))return i;break}if(S(i))break;n=n.parentNode}return null}function v(e,t,i){var o,a,s,l,c=E(g,!0,t),u=E(g,!1,t);if(a=i.startContainer,s=i.startOffset,r.isCaretContainerBlock(a)){if(N(a)||(a=a.parentNode),"before"==(l=a.getAttribute("data-mce-caret"))&&(o=a.nextSibling,C(o)))return _(o);if("after"==l&&(o=a.previousSibling,C(o)))return T(o)}if(!i.collapsed)return i;if(n.isText(a)){if(w(a)){if(1===e){if(o=u(a))return _(o);if(o=c(a))return T(o)}if(-1===e){if(o=c(a))return T(o);if(o=u(a))return _(o)}return i}if(r.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(o=u(a))?_(o):i;if(r.startsWithCaretContainer(a)&&s<=1)return-1===e&&(o=c(a))?T(o):i;if(s===a.data.length)return o=u(a),o?_(o):i;if(0===s)return o=c(a),o?T(o):i}return i}function y(e,t){return C(m(e,t))}var b=n.isContentEditableTrue,C=n.isContentEditableFalse,x=n.matchStyleValues("display","block table table-cell table-caption"),w=r.isCaretContainer,E=e.curry,N=n.isElement,S=o.isCaretCandidate,_=E(h,!0),T=E(h,!1);return{isForwards:a,isBackwards:s,findNode:l,getEditingHost:c,getParentBlock:u,isInSameBlock:d,isInSameEditingHost:f,isBeforeContentEditableFalse:E(y,0),isAfterContentEditableFalse:E(y,-1),normalizeRange:v}}),i("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(e,t,n,i,r,o){function a(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}function s(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function l(e,t){if(p(e)){if(v(t.previousSibling)&&!f(t.previousSibling))return n.before(t);if(f(t))return n(t,0)}if(g(e)){if(v(t.nextSibling)&&!f(t.nextSibling))return n.after(t);if(f(t))return n(t,t.data.length)}return g(e)?h(t)?n.before(t):n.after(t):n.before(t)}function c(t,r){var o;return!!e.isBr(t)&&(!!(o=u(1,n.after(t),r))&&!i.isInSameBlock(n.before(t),n.before(o),r))}function u(e,t,h){var C,x,w,E,N,S,_;if(!m(h)||!t)return null;if(_=t,C=_.container(),x=_.offset(),f(C)){if(g(e)&&x>0)return n(C,--x);if(p(e)&&x<C.length)return n(C,++x);w=C}else{if(g(e)&&x>0&&(E=s(C,x-1),v(E)))return!y(E)&&(N=i.findNode(E,e,b,E))?f(N)?n(N,N.data.length):n.after(N):f(E)?n(E,E.data.length):n.before(E);if(p(e)&&x<C.childNodes.length&&(E=s(C,x),v(E)))return c(E,h)?u(e,n.after(E),h):!y(E)&&(N=i.findNode(E,e,b,E))?f(N)?n(N,0):n.before(N):f(E)?n(E,0):n.after(E);w=_.getNode()}return(p(e)&&_.isAtEnd()||g(e)&&_.isAtStart())&&(w=i.findNode(w,e,o.constant(!0),h,!0),b(w))?l(e,w):(E=i.findNode(w,e,b,h),S=r.last(r.filter(a(C,h),d)),!S||E&&S.contains(E)?E?l(e,E):null:_=p(e)?n.after(S):n.before(S))}var d=e.isContentEditableFalse,f=e.isText,m=e.isElement,h=e.isBr,p=i.isForwards,g=i.isBackwards,v=t.isCaretCandidate,y=t.isAtomic,b=t.isEditableCaretCandidate;return function(e){return{next:function(t){return u(1,t,e)},prev:function(t){return u(-1,t,e)}}}}),i("tinymce/InsertList",["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(e,t,n){var i=function(e){var t=e.firstChild,n=e.lastChild;return t&&"meta"===t.name&&(t=t.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),!(!t||t!==n)&&("ul"===t.name||"ol"===t.name)},r=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},o=function(e,t,n){var i=t.serialize(n),o=e.createFragment(i);return r(o)},a=function(t){return e.grep(t.childNodes,function(e){return"LI"===e.nodeName})},s=function(e){return!e.firstChild},l=function(e){return e.length>0&&s(e[e.length-1])?e.slice(0,-1):e},c=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},u=function(e,t){return!!c(e,t)},d=function(e,t){var n=t.cloneRange(),i=t.cloneRange();return n.setStartBefore(e),i.setEndAfter(e),[n.cloneContents(),i.cloneContents()]},f=function(e,i){var r=n.before(e),o=new t(i),a=o.next(r);return a?a.toRange():null},m=function(e,i){var r=n.after(e),o=new t(i),a=o.prev(r);return a?a.toRange():null},h=function(t,n,i,r){var o=d(t,r),a=t.parentNode;return a.insertBefore(o[0],t),e.each(n,function(e){a.insertBefore(e,t)}),a.insertBefore(o[1],t),a.removeChild(t),m(n[n.length-1],i)},p=function(t,n,i){var r=t.parentNode;return e.each(n,function(e){r.insertBefore(e,t)}),f(t,i)},g=function(e,t,n,i){return i.insertAfter(t.reverse(),e),m(t[0],n)};return{isListFragment:i,insertAtCaret:function(e,i,r,s){var u=o(i,e,s),d=c(i,r.startContainer),f=l(a(u.firstChild)),m=i.getRoot(),v=function(e){var o=n.fromRangeStart(r),a=new t(i.getRoot()),s=1===e?a.prev(o):a.next(o);return!s||c(i,s.getNode())!==d};return v(1)?p(d,f,m):v(2)?g(d,f,m,i):h(d,f,m,r)},isParentBlockLi:u,trimListItems:l,listItems:a}}),i("tinymce/InsertContent",["tinymce/Env","tinymce/util/Tools","tinymce/html/Serializer","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/ElementUtils","tinymce/dom/NodeType","tinymce/InsertList"],function(e,t,n,i,r,o,a,s){var l=a.matchNodeNames("td th"),c=function(a,c,u){function d(e){return!!e.getAttribute("data-mce-fragment")}var f,m,h,p,g,v,y,b,C,x,w,E,N=a.schema.getTextInlineElements(),S=a.selection,_=a.dom;/^ | $/.test(c)&&(c=function(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return n=S.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(c)),f=a.parser,E=u.merge,m=new n({validate:a.settings.validate},a.schema),w='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',v={content:c,format:"html",selection:!0},a.fire("BeforeSetContent",v),c=v.content,-1==c.indexOf("{$caret}")&&(c+="{$caret}"),c=c.replace(/\{\$caret\}/,w),b=S.getRng();var T=b.startContainer||(b.parentElement?b.parentElement():null),k=a.getBody();T===k&&S.isCollapsed()&&_.isBlock(k.firstChild)&&function(e){return e&&!a.schema.getShortEndedElements()[e.nodeName]}(k.firstChild)&&_.isEmpty(k.firstChild)&&(b=_.createRng(),b.setStart(k.firstChild,0),b.setEnd(k.firstChild,0),S.setRng(b)),S.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),function(){var e,t,n;e=S.getRng(!0),t=e.startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&("\xa0"===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(c)||(c+=" ")):"\xa0"===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(c)||(c=" "+c)))}()),h=S.getNode();var R={context:h.nodeName.toLowerCase(),data:u.data};if(g=f.parse(c,R),!0===u.paste&&s.isListFragment(g)&&s.isParentBlockLi(_,h))return b=s.insertAtCaret(m,_,a.selection.getRng(!0),g),a.selection.setRng(b),void a.fire("SetContent",v);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(g),C=g.lastChild,"mce_marker"==C.attr("id"))for(y=C,C=C.prev;C;C=C.walk(!0))if(3==C.type||!_.isBlock(C.name)){a.schema.isValidChild(C.parent.name,"span")&&C.parent.insert(y,C,"br"===C.name);break}if(a._selectionOverrides.showBlockCaretContainer(h),R.invalid){for(S.setContent(w),h=S.getNode(),p=a.getBody(),9==h.nodeType?h=C=p:C=h;C!==p;)h=C,C=C.parentNode;c=h==p?p.innerHTML:_.getOuterHTML(h),c=m.serialize(f.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return m.serialize(g)}))),h==p?_.setHTML(p,c):_.setOuterHTML(h,c)}else c=m.serialize(g),C=h.firstChild,x=h.lastChild,!C||C===x&&"BR"===C.nodeName?_.setHTML(h,c):S.setContent(c);!function(){if(E){var e=a.getBody(),n=new o(_);t.each(_.select("*[data-mce-fragment]"),function(t){for(var i=t.parentNode;i&&i!=e;i=i.parentNode)N[t.nodeName.toLowerCase()]&&n.compare(i,t)&&_.remove(t,!0)})}}(),function(t){var n,o,s;if(t){if(S.scrollIntoView(t),n=function(e){for(var t=a.getBody();e&&e!==t;e=e.parentNode)if("false"===a.dom.getContentEditable(e))return e;return null}(t))return _.remove(t),void S.select(n);b=_.createRng(),
C=t.previousSibling,C&&3==C.nodeType?(b.setStart(C,C.nodeValue.length),e.ie||(x=t.nextSibling)&&3==x.nodeType&&(C.appendData(x.data),x.parentNode.removeChild(x))):(b.setStartBefore(t),b.setEndBefore(t)),o=_.getParent(t,_.isBlock),_.remove(t),o&&_.isEmpty(o)&&(a.$(o).empty(),b.setStart(o,0),b.setEnd(o,0),l(o)||d(o)||!(s=function(e){var t=r.fromRangeStart(e);if(t=new i(a.getBody()).next(t))return t.toRange()}(b))?_.add(o,_.create("br",{"data-mce-bogus":"1"})):(b=s,_.remove(o))),S.setRng(b)}}(_.get("mce_marker")),function(e){t.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})}(a.getBody()),a.fire("SetContent",v),a.addVisual()},u=function(e){var n;return"string"!=typeof e?(n=t.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}};return{insertAtCaret:function(e,t){var n=u(t);c(e,n.content,n.details)}}}),i("tinymce/EditorCommands",["tinymce/Env","tinymce/util/Tools","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/InsertContent"],function(e,n,i,r,o){var a=n.each,s=n.extend,l=n.map,c=n.inArray,u=n.explode,d=e.ie&&e.ie<11,f=!1;return function(n){function m(e,t,i,r){var o,s,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus||n.focus(),r=n.fire("BeforeExecCommand",{command:e,ui:t,value:i}),r.isDefaultPrevented())return!1;if(s=e.toLowerCase(),o=A.exec[s])return o(s,t,i),n.fire("ExecCommand",{command:e,ui:t,value:i}),!0;if(a(n.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,i))return n.fire("ExecCommand",{command:e,ui:t,value:i}),l=!0,!1}),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(e,t,i))return n.fire("ExecCommand",{command:e,ui:t,value:i}),!0;try{l=n.getDoc().execCommand(e,t,i)}catch(e){}return!!l&&(n.fire("ExecCommand",{command:e,ui:t,value:i}),!0)}function h(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=A.state[e])return t(e);try{return n.getDoc().queryCommandState(e)}catch(e){}return!1}}function p(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=A.value[e])return t(e);try{return n.getDoc().queryCommandValue(e)}catch(e){}}}function g(e,t){t=t||"exec",a(e,function(e,n){a(n.toLowerCase().split(","),function(n){A[t][n]=e})})}function v(e,t,i){e=e.toLowerCase(),A.exec[e]=function(e,r,o,a){return t.call(i||n,r,o,a)}}function y(e){if(e=e.toLowerCase(),A.exec[e])return!0;try{return n.getDoc().queryCommandSupported(e)}catch(e){}return!1}function b(e,t,i){e=e.toLowerCase(),A.state[e]=function(){return t.call(i||n)}}function C(e,t,i){e=e.toLowerCase(),A.value[e]=function(){return t.call(i||n)}}function x(e){return e=e.toLowerCase(),!!A.exec[e]}function w(e,i,r){return i===t&&(i=f),r===t&&(r=null),n.getDoc().execCommand(e,i,r)}function E(e){return R.match(e)}function N(e,i){R.toggle(e,i?{value:i}:t),n.nodeChanged()}function S(e){B=k.getBookmark(e)}function _(){k.moveToBookmark(B)}var T,k,R,B,A={state:{},exec:{},value:{}},D=n.settings;n.on("PreInit",function(){T=n.dom,k=n.selection,D=n.settings,R=n.formatter}),s(this,{execCommand:m,queryCommandState:h,queryCommandValue:p,queryCommandSupported:y,addCommands:g,addCommand:v,addQueryStateHandler:b,addQueryValueHandler:C,hasCustomCommand:x}),g({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(t){var i,r=n.getDoc();try{w(t)}catch(e){i=!0}if("paste"!==t||r.queryCommandEnabled(t)||(i=!0),i||!r.queryCommandSupported(t)){var o=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");e.mac&&(o=o.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(k.isCollapsed()){var e=k.getNode();return void("A"==e.tagName&&n.dom.remove(e,!0))}R.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),a("left,center,right,justify".split(","),function(e){t!=e&&R.remove("align"+e)}),"none"!=t&&N("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;w(e),(t=T.getParent(k.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(S(),T.split(n,t),_()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){N(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){N(e,n)},FontSize:function(e,t,n){var i,r;n>=1&&n<=7&&(r=u(D.font_size_style_values),i=u(D.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),N(e,n)},RemoveFormat:function(e){R.remove(e)},mceBlockQuote:function(){N("blockquote")},FormatBlock:function(e,t,n){return N(n||"p")},mceCleanup:function(){var e=k.getBookmark();n.setContent(n.getContent({cleanup:!0}),{cleanup:!0}),k.moveToBookmark(e)},mceRemoveNode:function(e,t,i){var r=i||k.getNode();r!=n.getBody()&&(S(),n.dom.remove(r,!0),_())},mceSelectNodeDepth:function(e,t,i){var r=0;T.getParent(k.getNode(),function(e){if(1==e.nodeType&&r++==i)return k.select(e),f},n.getBody())},mceSelectNode:function(e,t,n){k.select(n)},mceInsertContent:function(e,t,i){o.insertAtCaret(n,i)},mceInsertRawHTML:function(e,t,i){k.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(e,t,n){N(n)},mceSetContent:function(e,t,i){n.setContent(i)},"Indent,Outdent":function(e){var t,i,r;t=D.indentation,i=/[a-z%]+$/i.exec(t),t=parseInt(t,10),h("InsertUnorderedList")||h("InsertOrderedList")?w(e):(D.forced_root_block||T.getParent(k.getNode(),T.isBlock)||R.apply("div"),a(k.getSelectedBlocks(),function(o){if("false"!==T.getContentEditable(o)&&"LI"!=o.nodeName){var a=n.getParam("indent_use_margin",!1)?"margin":"padding";a+="rtl"==T.getStyle(o,"direction",!0)?"Right":"Left","outdent"==e?(r=Math.max(0,parseInt(o.style[a]||0,10)-t),T.setStyle(o,a,r?r+i:"")):(r=parseInt(o.style[a]||0,10)+t+i,T.setStyle(o,a,r))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,i){n.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,k.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=T.getParent(k.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||R.remove("link"),n.href&&R.apply("link",n,i)},selectAll:function(){var e,t=T.getRoot();k.getRng().setStart?(e=T.createRng(),e.setStart(t,0),e.setEnd(t,t.childNodes.length),k.setRng(e)):(e=k.getRng(),e.item||(e.moveToElementText(t),e.select()))},delete:function(){w("Delete");var e=n.getBody();T.isEmpty(e)&&(n.setContent(""),e.firstChild&&T.isBlock(e.firstChild)?n.selection.setCursorLocation(e.firstChild,0):n.selection.setCursorLocation(e,0))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(e,t,o){var a,s,l,c=o,u=k.getRng(!0);new i(T).normalize(u);var f=u.startOffset,m=u.startContainer;if(1==m.nodeType&&m.hasChildNodes()){var h=f>m.childNodes.length-1;m=m.childNodes[Math.min(f,m.childNodes.length-1)]||m,f=h&&3==m.nodeType?m.nodeValue.length:0}var p=T.getParent(m,T.isBlock),g=p?p.nodeName.toUpperCase():"",v=p?T.getParent(p.parentNode,T.isBlock):null,y=v?v.nodeName.toUpperCase():"",b=c&&c.ctrlKey;"LI"!=y||b||(p=v,g=y),m&&3==m.nodeType&&f>=m.nodeValue.length&&(d||function(){for(var e,t=new r(m,p),i=n.schema.getNonEmptyElements();e=t.next();)if(i[e.nodeName.toLowerCase()]||e.length>0)return!0}()||(a=T.create("br"),u.insertNode(a),u.setStartAfter(a),u.setEndAfter(a),s=!0)),a=T.create("br"),u.insertNode(a);var C=T.doc.documentMode;return d&&"PRE"==g&&(!C||C<8)&&a.parentNode.insertBefore(T.doc.createTextNode("\r"),a),l=T.create("span",{},"&nbsp;"),a.parentNode.insertBefore(l,a),k.scrollIntoView(l),T.remove(l),s?(u.setStartBefore(a),u.setEndBefore(a)):(u.setStartAfter(a),u.setEndAfter(a)),k.setRng(u),n.undoManager.add(),!0}}),g({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=k.isCollapsed()?[T.getParent(k.getNode(),T.isBlock)]:k.getSelectedBlocks(),i=l(n,function(e){return!!R.matchNode(e,t)});return-1!==c(i,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return E(e)},mceBlockQuote:function(){return E("blockquote")},Outdent:function(){var e;if(D.inline_styles){if((e=T.getParent(k.getStart(),T.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=T.getParent(k.getEnd(),T.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return h("InsertUnorderedList")||h("InsertOrderedList")||!D.inline_styles&&!!T.getParent(k.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=T.getParent(k.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),g({"FontSize,FontName":function(e){var t,n=0;return(t=T.getParent(k.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),g({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),i("tinymce/util/URI",["tinymce/util/Tools"],function(e){function t(e,o){var a,s,l=this;if(e=i(e),o=l.settings=o||{},a=o.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(l.source=e);var c=0===e.indexOf("//");0!==e.indexOf("/")||c||(e=(a?a.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(s=o.base_uri?o.base_uri.path:new t(location.href).directory,""===o.base_uri.protocol?e="//mce_host"+l.toAbsPath(s,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(a&&a.protocol||"http")+"://mce_host"+l.toAbsPath(s,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(r,function(t,n){var i=e[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),l[t]=i}),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),l.port||"mce_host"!==l.host||(l.port=a.port),l.host&&"mce_host"!==l.host||(l.host=a.host),l.source=""),c&&(l.protocol="")}var n=e.each,i=e.trim,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n,i=this;if("./"===e)return e;if(e=new t(e,{base_uri:i}),"mce_host"!=e.host&&i.host!=e.host&&e.host||i.port!=e.port||i.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var r=i.getURI(),o=e.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var i,r,o,a=0,s=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&s.push(e)}),e=s,i=t.length-1,s=[];i>=0;i--)0!==t[i].length&&"."!==t[i]&&(".."!==t[i]?a>0?a--:s.push(t[i]):a++);return i=e.length-a,o=i<=0?s.reverse().join("/"):e.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},t.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},t}),i("tinymce/util/Class",["tinymce/util/Tools"],function(e){function t(){}var n,i,r=e.each,o=e.extend;return t.extend=n=function(e){function t(){var e,t,n,r=this;if(!i&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)}function a(){return this}var s,l,c,u=this,d=u.prototype;i=!0,s=new u,i=!1,e.Mixins&&(r(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),d.Mixins&&(e.Mixins=d.Mixins.concat(e.Mixins))),e.Methods&&r(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&r(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&r(e.Statics,function(e,n){t[n]=e}),e.Defaults&&d.Defaults&&(e.Defaults=o({},d.Defaults,e.Defaults));for(l in e)c=e[l],"function"==typeof c&&d[l]?s[l]=function(e,t){return function(){var n,i=this,r=i._super;return i._super=d[e],n=t.apply(i,arguments),i._super=r,n}}(l,c):s[l]=c;return t.prototype=s,t.constructor=t,t.extend=n,t},t}),i("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(e){function t(t){function n(){return!1}function i(){return!0}function r(e,r){var o,s,l,u;if(e=e.toLowerCase(),r=r||{},r.type=e,r.target||(r.target=c),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=i},r.stopPropagation=function(){r.isPropagationStopped=i},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=i},r.isDefaultPrevented=n,r.isPropagationStopped=n,r.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(r),o=f[e])for(s=0,l=o.length;s<l;s++){if(u=o[s],u.once&&a(e,u.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===u.func.call(c,r))return r.preventDefault(),r}return r}function o(t,i,r,o){var a,s,l;if(!1===i&&(i=n),i)for(i={func:i},o&&e.extend(i,o),s=t.toLowerCase().split(" "),l=s.length;l--;)t=s[l],a=f[t],a||(a=f[t]=[],u(t,!0)),r?a.unshift(i):a.push(i);return d}function a(e,t){var n,i,r,o,a;if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],i=f[e],!e){for(r in f)u(r,!1),delete f[r];return d}if(i){if(t)for(a=i.length;a--;)i[a].func===t&&(i=i.slice(0,a).concat(i.slice(a+1)),f[e]=i);else i.length=0;i.length||(u(e,!1),delete f[e])}}else{for(e in f)u(e,!1);f={}}return d}function s(e,t,n){return o(e,t,n,{once:!0})}function l(e){return e=e.toLowerCase(),!(!f[e]||0===f[e].length)}var c,u,d=this,f={};t=t||{},c=t.scope||d,u=t.toggleEvent||n,d.fire=r,d.on=o,d.off=a,d.once=s,d.has=l}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),i("tinymce/data/Binding",[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,i){function r(t){e.set(i,t.value)}function o(e){t.set(n,e.value)}var a;return e.on("change:"+i,o),t.on("change:"+n,r),a=e._bindings,a||(a=e._bindings=[],e.on("destroy",function(){for(var e=a.length;e--;)a[e]()})),a.push(function(){t.off("change:"+n,r)}),t.get(n)}})},e}),i("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,i){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,i)}})),t._eventDispatcher}return{fire:function(e,n,i){var r=this;if(r.removed&&"remove"!==e)return n;if(n=t(r).fire(e,n,i),!1!==i&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,i){return t(this).on(e,n,i)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),i("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(e,t,n,i){function r(e){return e.nodeType>0}function o(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(i.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(r(e)||r(t))return e===t;a={};for(n in t){if(!o(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!o(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,i;t=t||{};for(n in t)(i=t[n])instanceof e&&(t[n]=i.create(this,n));this.data=t},set:function(t,n){var i,r,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(i in t)this.set(i,t[i]);return this}return o(a,n)||(this.data[t]=n,r={target:this,name:t,value:n,oldValue:a},this.fire("change:"+t,r),this.fire("change",r)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})}),i("tinymce/ui/Selector",["tinymce/util/Class"],function(e){function t(e){for(var t,n=[],i=e.length;i--;)t=e[i],t.__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var n,i=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,a=e.extend({init:function(e){function t(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}function n(e){if(e)return function(t){return t._name===e}}function a(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}function s(e,t,n){if(e)return function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!=n:"^="===t?0===r.indexOf(n):"$="===t&&r.substr(r.length-n.length)===n:!!n}}function l(e){var t;if(e)return e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=u(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}function c(e,r,c){function u(e){e&&r.push(e)}var d;return d=i.exec(e.replace(o,"")),u(t(d[1])),u(n(d[2])),u(a(d[3])),u(s(d[4],d[5],d[6])),u(l(d[7])),r.pseudo=!!d[7],r.direct=c,r}function u(e,t){var n,i,o,a=[];do{if(r.exec(""),(i=r.exec(e))&&(e=i[3],a.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&u(n,t),e=[],o=0;o<a.length;o++)">"!=a[o]&&e.push(c(a[o],[],">"===a[o-1]));return t.push(e),t}var d=this.match;this._selectors=u(e,[])},match:function(e,t){var n,i,r,o,a,s,l,c,u,d,f,m,h;for(t=t||this._selectors,n=0,i=t.length;n<i;n++){for(a=t[n],o=a.length,h=e,m=0,r=o-1;r>=0;r--)for(c=a[r];h;){if(c.pseudo)for(f=h.parent().items(),u=d=f.length;u--&&f[u]!==h;);for(s=0,l=c.length;s<l;s++)if(!c[s](h,u,d)){s=l+1;break}if(s===l){m++;break}if(r===o-1)break;h=h.parent()}if(m===o)return!0}return!1},find:function(e){function i(e,t,n){var r,o,a,l,c,u=t[n];for(r=0,o=e.length;r<o;r++){for(c=e[r],a=0,l=u.length;a<l;a++)if(!u[a](c,r,o)){a=l+1;break}if(a===l)n==t.length-1?s.push(c):c.items&&i(c.items(),t,n+1);else if(u.direct)return;c.items&&i(c.items(),t,n)}}var r,o,s=[],l=this._selectors;if(e.items){for(r=0,o=l.length;r<o;r++)i(e.items(),l[r],0);o>1&&(s=t(s))}return n||(n=a.Collection),new n(s)}});return a}),i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(e,t,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof i?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;t<i;t++)delete n[t];return n},filter:function(e){var n,r,o,a,s=this,l=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,r=s.length;n<r;n++)o=s[n],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,i=this;return void 0!==t?(i.each(function(n){n[e]&&n[e](t)}),i):(n=i[0],n&&n[e]?n[e]():void 0)},exec:function(t){var n=this,i=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,i)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each("fire on off show hide append prepend before after reflow".split(" "),function(t){r[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){r[e]=function(t){return this.prop(e,t)}}),i=n.extend(r),t.Collection=i,i}),i("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,t,n){var i=0,r={id:function(){return"mceu_"+i++},create:function(e,i,r){var o=document.createElement(e);return n.DOM.setAttribs(o,i),"string"==typeof r?o.innerHTML=r:t.each(r,function(e){e.nodeType&&o.appendChild(e)}),o},createFragment:function(e){return n.DOM.createFragment(e)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return n.DOM.getPos(e,t||r.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return n.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return n.DOM.addClass(e,t)},removeClass:function(e,t){return n.DOM.removeClass(e,t)},hasClass:function(e,t){return n.DOM.hasClass(e,t)},toggleClass:function(e,t,i){return n.DOM.toggleClass(e,t,i)},css:function(e,t,i){return n.DOM.setStyle(e,t,i)},getRuntimeStyle:function(e,t){return n.DOM.getStyle(e,t,!0)},on:function(e,t,i,r){return n.DOM.bind(e,t,i,r)},off:function(e,t,i){return n.DOM.unbind(e,t,i)},fire:function(e,t,i){return n.DOM.fire(e,t,i)},innerHtml:function(e,t){n.DOM.setHTML(e,t)}};return r}),i("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(e){var t;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function i(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:i(t+"TopWidth"),right:i(t+"RightWidth"),bottom:i(t+"BottomWidth"),left:i(t+"LeftWidth")}}}}),i("tinymce/ui/ClassList",["tinymce/util/Tools"],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),i("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(e){var t,n={};return{add:function(i){var r=i.parent();if(r){if(!r._layout||r._layout.isNative())return;n[r._id]||(n[r._id]=r),t||(t=!0,e.requestAnimationFrame(function(){var e,i;t=!1;for(e in n)i=n[e],i.state.get("rendered")&&i.reflow();n={}},document.body))}},remove:function(e){n[e._id]&&delete n[e._id]}}}),i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(e,t,n,i,r,o,a,s,l,c){function u(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,i){i&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&d(e))}})),e._eventDispatcher}function d(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=c._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),c._lastHoverCtrl=null)}function i(t){var n,i,r,o=e.getParentCtrl(t.target),a=c._lastHoverCtrl,s=0;if(o!==a){if(c._lastHoverCtrl=o,i=o.parents().toArray().reverse(),i.push(o),a){for(r=a.parents().toArray().reverse(),r.push(a),s=0;s<r.length&&i[s]===r[s];s++);for(n=r.length-1;n>=s;n--)a=r[n],a.fire("mouseleave",{target:a.getEl()})}for(n=s;n<i.length;n++)o=i[n],o.fire("mouseenter",{target:o.getEl()})}}function r(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,s,l,c,u,d;if(u=e._nativeEvents){for(l=e.parents().toArray(),l.unshift(e),o=0,s=l.length;!c&&o<s;o++)c=l[o]._eventsRoot;for(c||(c=l[l.length-1]||e),e._eventsRoot=c,s=o,o=0;o<s;o++)l[o]._eventsRoot=c;var f=c._delegates;f||(f=c._delegates={});for(d in u){if(!u)return!1;"wheel"!==d||h?("mouseenter"===d||"mouseleave"===d?c._hasMouseEnter||(a(c.getEl()).on("mouseleave",n).on("mouseover",i),c._hasMouseEnter=1):f[d]||(a(c.getEl()).on(d,t),f[d]=!0),u[d]=!1):m?a(e.getEl()).on("mousewheel",r):a(e.getEl()).on("DOMMouseScroll",r)}}}var f,m="onmousewheel"in document,h=!1,p=0,g={Statics:{classPrefix:"mce-"},isRtl:function(){return f.rtl},classPrefix:"mce-",init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)c.classes.add(e[t])}var r,o,c=this;c.settings=e=t.extend({},c.Defaults,e),c._id=e.id||"mceu_"+p++,c._aria={role:e.role},c._elmCache={},c.$=a,c.state=new i({visible:!0,active:!1,disabled:!1,value:""}),c.data=new i(e.data),c.classes=new l(function(){c.state.get("rendered")&&(c.getEl().className=this.toString())}),c.classes.prefix=c.classPrefix,r=e.classes,r&&(c.Defaults&&(o=c.Defaults.classes)&&r!=o&&n(o),n(r)),t.each("title text name visible disabled active value".split(" "),function(t){t in e&&c[t](e[t])}),c.on("click",function(){if(c.disabled())return!1}),c.settings=e,c.borderBox=s.parseBox(e.border),c.paddingBox=s.parseBox(e.padding),c.marginBox=s.parseBox(e.margin),e.hidden&&c.hide()},Properties:"parent,name",getContainerElm:function(){return o.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,a,l,c,u,d,f=this,m=f.settings,h=f.getEl();e=f.borderBox=f.borderBox||s.measureBox(h,"border"),f.paddingBox=f.paddingBox||s.measureBox(h,"padding"),f.marginBox=f.marginBox||s.measureBox(h,"margin"),d=o.getSize(h),c=m.minWidth,u=m.minHeight,r=c||d.width,a=u||d.height,n=m.width,i=m.height,l=m.autoResize,l=void 0!==l?l:!n&&!i,n=n||r,i=i||a;var p=e.left+e.right,g=e.top+e.bottom,v=m.maxWidth||65535,y=m.maxHeight||65535;return f._layoutRect=t={x:m.x||0,y:m.y||0,w:n,h:i,deltaW:p,deltaH:g,contentW:n-p,contentH:i-g,innerW:n-p,innerH:i-g,startMinWidth:c||0,startMinHeight:u||0,minW:Math.min(r,v),minH:Math.min(a,y),maxW:v,maxH:y,autoResize:l,scrollW:0},f._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a=this,s=a._layoutRect;return s||(s=a.initLayoutRect()),e?(i=s.deltaW,r=s.deltaH,void 0!==e.x&&(s.x=e.x),void 0!==e.y&&(s.y=e.y),void 0!==e.minW&&(s.minW=e.minW),void 0!==e.minH&&(s.minH=e.minH),n=e.w,void 0!==n&&(n=n<s.minW?s.minW:n,n=n>s.maxW?s.maxW:n,s.w=n,s.innerW=n-i),n=e.h,void 0!==n&&(n=n<s.minH?s.minH:n,n=n>s.maxH?s.maxH:n,s.h=n,s.innerH=n-r),n=e.innerW,void 0!==n&&(n=n<s.minW-i?s.minW-i:n,n=n>s.maxW-i?s.maxW-i:n,s.innerW=n,s.w=n+i),n=e.innerH,void 0!==n&&(n=n<s.minH-r?s.minH-r:n,n=n>s.maxH-r?s.maxH-r:n,s.innerH=n,s.h=n+r),void 0!==e.contentW&&(s.contentW=e.contentW),void 0!==e.contentH&&(s.contentH=e.contentH),t=a._lastLayoutRect,t.x===s.x&&t.y===s.y&&t.w===s.w&&t.h===s.h||(o=f.repaintControls,o&&o.map&&!o.map[a._id]&&(o.push(a),o.map[a._id]=!0),t.x=s.x,t.y=s.y,t.w=s.w,t.h=s.h),a):s},repaint:function(){var e,t,n,i,r,o,a,s,l,c,u=this;l=document.createRange?function(e){return e}:Math.round,e=u.getEl().style,i=u._layoutRect,s=u._lastRepaintRect||{},r=u.borderBox,o=r.left+r.right,a=r.top+r.bottom,i.x!==s.x&&(e.left=l(i.x)+"px",s.x=i.x),i.y!==s.y&&(e.top=l(i.y)+"px",s.y=i.y),i.w!==s.w&&(c=l(i.w-o),e.width=(c>=0?c:0)+"px",s.w=i.w),i.h!==s.h&&(c=l(i.h-a),e.height=(c>=0?c:0)+"px",s.h=i.h),u._hasBody&&i.innerW!==s.innerW&&(c=l(i.innerW),n=u.getEl("body"),n&&(t=n.style,t.width=(c>=0?c:0)+"px"),s.innerW=i.innerW),u._hasBody&&i.innerH!==s.innerH&&(c=l(i.innerH),n=n||u.getEl("body"),n&&(t=t||n.style,t.height=(c>=0?c:0)+"px"),s.innerH=i.innerH),u._lastRepaintRect=s,u.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,o.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){var n=this;return u(n).on(e,function(e){var t,i;return"string"!=typeof e?e:function(r){return t||n.parentsAndSelf().each(function(n){var r=n.settings.callbacks;if(r&&(t=r[e]))return i=n,!1}),t?t.call(i,r):(r.action=e,void this.fire("execute",r))}}(t)),n},off:function(e,t){return u(this).off(e,t),this},fire:function(e,t,n){var i=this;if(t=t||{},t.control||(t.control=i),t=u(i).fire(e,t),!1!==n&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return u(this).has(e)},parents:function(e){var t,n=this,i=new r;for(t=n.parent();t;t=t.parent())i.add(t);return e&&(i=i.filter(e)),i},parentsAndSelf:function(e){return new r(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){
return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&i.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return f.translate?f.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}r&&r.items&&(e=[],r.items().each(function(t){t!==n&&e.push(t)}),r.items().set(e),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,r,o=this,s=o.settings;o.$el=a(o.getEl()),o.state.set("rendered",!0);for(i in s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}d(o),s.style&&(e=o.getEl())&&(e.setAttribute("style",s.style),e.style.cssText=s.style),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var l=o.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o;for(var u in o._aria)o.aria(u,o._aria[u]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),t=o.parent(),t&&(t._lastRect=null),o.fire(n?"show":"hide"),c.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,i,r,o,a,s=this.getEl(),l=s.parentNode,c=function(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(s,l);return t=c.x,n=c.y,i=s.offsetWidth,r=s.offsetHeight,o=l.clientWidth,a=l.clientHeight,"end"==e?(t-=o-i,n-=a-r):"center"==e&&(t-=o/2-i/2,n-=a/2-r/2),l.scrollLeft=t,l.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){c.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each("text title visible disabled active value".split(" "),function(e){g[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}}),f=e.extend(g)}),i("tinymce/ui/Factory",[],function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,i){var r,o,a;if(!e){a=tinymce.ui;for(o in a)t[o.toLowerCase()]=a[o];e=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),!(r=t[n]))throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),i("tinymce/ui/KeyboardNavigation",[],function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return e=e||b,t(e)?e.getAttribute("role"):null}function i(e){for(var t,i=e||b;i=i.parentNode;)if(t=n(i))return t}function r(e){var n=b;if(t(n))return n.getAttribute("aria-"+e)}function o(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function a(e){return!(!o(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))}function s(e){function t(e){if(1==e.nodeType&&"none"!=e.style.display){a(e)&&n.push(e);for(var i=0;i<e.childNodes.length;i++)t(e.childNodes[i])}}var n=[];return t(e||x.getEl()),n}function l(e){var t,n;e=e||C,n=e.parents().toArray(),n.unshift(e);for(var i=0;i<n.length&&(t=n[i],!t.settings.ariaRoot);i++);return t}function c(e){var t=l(e),n=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?u(t.lastAriaIndex,n):u(0,n)}function u(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,i=l();t=t||s(i.getEl());for(var r=0;r<t.length;r++)t[r]===b&&(n=r);n+=e,i.lastAriaIndex=u(n,t)}function f(){"tablist"==i()?d(-1,s(b.parentNode)):C.parent().submenu?v():d(-1)}function m(){var e=n(),t=i();"tablist"==t?d(1,s(b.parentNode)):"menuitem"==e&&"menu"==t&&r("haspopup")?y():d(1)}function h(){d(-1)}function p(){var e=n(),t=i();"menuitem"==e&&"menubar"==t?y():"button"==e&&r("haspopup")?y({key:"down"}):d(1)}function g(e){if("tablist"==i()){var t=s(C.getEl("body"))[0];t&&t.focus()}else d(e.shiftKey?-1:1)}function v(){C.fire("cancel")}function y(e){e=e||{},C.fire("click",{target:b,aria:e})}var b,C,x=e.root;try{b=document.activeElement}catch(e){b=document.body}return C=x.getParentCtrl(b),x.on("keydown",function(e){function t(e,t){o(b)||"slider"!==n(b)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,f);break;case 39:t(e,m);break;case 38:t(e,h);break;case 40:t(e,p);break;case 27:v();break;case 14:case 13:case 32:t(e,y);break;case 9:!1!==g(e)&&e.preventDefault()}}),x.on("focusin",function(e){b=e.target,C=e.control}),{focusFirst:c}}}),i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(e,t,n,i,r,o,a,s,l){var c={};return e.extend({init:function(e){var n=this;n._super(e),e=n.settings,e.fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=i.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=c[e]=c[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,i,r=this;return e&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,r=this,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=o.extend({},r.settings.defaults,t),t.type=n.type=n.type||t.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),t=i.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var i;t.parent(e),t.state.get("rendered")||(i=e.getEl("body"),i.hasChildNodes()&&n<=i.childNodes.length-1?a(i.childNodes[n]).before(t.renderHtml()):a(i).append(t.renderHtml()),t.postRender(),l.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,a=this;return e=a.create(e),i=a.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),i=e.value();n&&void 0!==i&&(t[n]=i)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new r({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),i("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(e){function t(e){var t,n,i,r,o,a,s,l,c=Math.max;return t=e.documentElement,n=e.body,i=c(t.scrollWidth,n.scrollWidth),r=c(t.clientWidth,n.clientWidth),o=c(t.offsetWidth,n.offsetWidth),a=c(t.scrollHeight,n.scrollHeight),s=c(t.clientHeight,n.clientHeight),l=c(t.offsetHeight,n.offsetHeight),{width:i<o?r:i,height:a<l?s:a}}function n(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(i,r){function o(){return m.getElementById(r.handle||i)}var a,s,l,c,u,d,f,m=r.document||document;r=r||{},l=function(i){var l,h,p=t(m);n(i),i.preventDefault(),s=i.button,l=o(),d=i.screenX,f=i.screenY,h=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,a=e("<div>").css({position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:h}).appendTo(m.body),e(m).on("mousemove touchmove",u).on("mouseup touchend",c),r.start(i)},u=function(e){if(n(e),e.button!==s)return c(e);e.deltaX=e.screenX-d,e.deltaY=e.screenY-f,e.preventDefault(),r.drag(e)},c=function(t){n(t),e(m).off("mousemove touchmove",u).off("mouseup touchend",c),a.remove(),r.stop&&r.stop(t)},this.destroy=function(){e(o()).off()},e(o()).on("mousedown touchstart",l)}}),i("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,f,m,h,p,g,v,y,b;if(f=i.getEl("scroll"+t)){if(y=a.toLowerCase(),b=s.toLowerCase(),e(i.getEl("absend")).css(y,i.layoutRect()[l]-1),!c)return void e(f).css("display","none");e(f).css("display","block"),d=i.getEl("body"),m=i.getEl("scroll"+t+"t"),h=d["client"+s]-2*r,h-=n&&o?f["client"+u]:0,p=d["scroll"+s],g=h/p,v={},v[y]=d["offset"+a]+r,v[b]=h,e(f).css(v),v={},v[y]=d["scroll"+a]*g,v[b]=h*g,e(m).css(v)}}var n,o,a;a=i.getEl("body"),n=a.scrollWidth>a.clientWidth,o=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",o,"Width")}var i=this,r=2;i.settings.autoScroll&&(i._hasScroll||(i._hasScroll=!0,function(){function n(n,o,a,s,l){var c,u=i._id+"-scroll"+n,d=i.classPrefix;e(i.getEl()).append('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>'),i.draghelper=new t(u+"t",{start:function(){c=i.getEl("body")["scroll"+o],e("#"+u).addClass(d+"active")},drag:function(e){var t,u,d,f,m=i.layoutRect();u=m.contentW>m.innerW,d=m.contentH>m.innerH,f=i.getEl("body")["client"+a]-2*r,f-=u&&d?i.getEl("scroll"+n)["client"+l]:0,t=f/i.getEl("body")["scroll"+a],i.getEl("body")["scroll"+o]=c+e["delta"+s]/t},stop:function(){e("#"+u).removeClass(d+"active")}})}i.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}(),i.on("wheel",function(e){var t=i.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(i.getEl("body")).on("scroll",n)),n())}}}),i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(e){function t(t,n,i){var r,o,a,s,l,c,u,d,f,m;return f=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(a-=f.x,s-=f.y),r=t.getEl(),m=e.getSize(r),l=m.width,c=m.height,m=e.getSize(n),u=m.width,d=m.height,i=(i||"").split(""),"b"===i[0]&&(s+=d),"r"===i[1]&&(a+=u),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(u/2)),"b"===i[3]&&(s-=c),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(c/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,i){for(var r=e.getViewPort(),o=0;o<i.length;o++){var a=t(this,n,i[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(t,n){function i(e,t,n){return e<0?0:e+n>t?(e=t-n,e<0?0:e):e}var r=this;if(r.settings.constrainToViewport){var o=e.getViewPort(window),a=r.layoutRect();t=i(t,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r.state.get("rendered")?r.layoutRect({x:t,y:n}).repaint():(r.settings.x=t,r.settings.y=n),r.fire("move",{x:t,y:n}),r}}}),i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var i=e.getWindowSize();t=t<=1?t*i.w:t,n=n<=1?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}}}),i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(e,t,n,i,r,o){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){for(var t=y.length;t--;){var n=y[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(a(i,n)||n.parent()===i))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function l(){h||(h=function(e){2!=e.button&&s(e)},r(document).on("click touchstart",h))}function c(){p||(p=function(){var e;for(e=y.length;e--;)d(y[e])},r(window).on("scroll",p))}function u(){if(!g){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;g=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,C.hideAll())},r(window).on("resize",g)}}function d(e){function t(t,n){for(var i,r=0;r<y.length;r++)if(y[r]!=e)for(i=y[r].parent();i&&(i=i.parent());)i==e&&y[r].fixed(t).moveBy(0,n).repaint()}var n=i.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function f(e,t){var n,i,o=C.zIndex||65535;if(e)b.push(t);else for(n=b.length;n--;)b[n]===t&&b.splice(n,1);if(b.length)for(n=0;n<b.length;n++)b[n].modal&&(o++,i=b[n]),b[n].getEl().style.zIndex=o,b[n].zIndex=o,o++;var a=r("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?r(a).css("z-index",i.zIndex-1):a&&(a.parentNode.removeChild(a),v=!1),C.currentZIndex=o}function m(e){var t;for(t=y.length;t--;)y[t]===e&&y.splice(t,1);for(t=b.length;t--;)b[t]===e&&b.splice(t,1)}var h,p,g,v,y=[],b=[],C=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(l(),u(),y.push(t)),e.autofix&&(c(),t.on("move",function(){d(this)})),t.on("postrender show",function(e){if(e.control==t){var n,i=t.classPrefix;t.modal&&!v&&(n=r("#"+i+"modal-block",t.getContainerElm()),n[0]||(n=r('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(t.getContainerElm())),o.setTimeout(function(){n.addClass(i+"in"),r(t.getEl()).addClass(i+"in")}),v=!0),f(!0,t)}}),t.on("show",function(){t.parents().each(function(e){if(e.state.get("fixed"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=y.length;e--&&y[e]!==t;);return-1===e&&y.push(t),n},hide:function(){return m(this),f(!1,this),this._super()},hideAll:function(){C.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),f(!1,e)),e},remove:function(){m(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return C.hideAll=function(){for(var e=y.length;e--;){var t=y[e];t&&t.settings.autohide&&(t.hide(),y.splice(e,1))}},C}),i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(e,t,n,i,r,o,a,s){function l(e){var t,n=i("meta[name=viewport]")[0];!1!==a.overrideViewPort&&(n||(n=document.createElement("meta"),n.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),t=n.getAttribute("content"),t&&void 0!==d&&(d=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":d))}function c(e){for(var t=0;t<u.length;t++)if(u[t]._fullscreen)return;i([document.documentElement,document.body]).removeClass(e+"fullscreen")}var u=[],d="",f=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var i=this;i._super(e),i.isRtl()&&i.classes.add("rtl"),i.classes.add("window"),i.bodyClasses.add("window-body"),i.state.set("fixed",!0),e.buttons&&(i.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:i.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),i.statusbar.classes.add("foot"),i.statusbar.parent(i)),i.on("click",function(e){var t=i.classPrefix+"close";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&i.close()}),i.on("cancel",function(){i.close()}),i.aria("describedby",i.describedBy||i._id+"-none"),i.aria("label",e.title),i._fullscreen=!1},recalc:function(){var e,t,i,r,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW)>e.w&&(i=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:i}),r=!0),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),(t=a.layoutRect().minW+e.deltaW)>e.w&&(i=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this,i=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=n.getSize(e);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=t.settings.x||Math.max(0,a.w/2-i.w/2),i.y=t.settings.y||Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t,r,a=this,l=document.documentElement,c=a.classPrefix;if(e!=a._fullscreen)if(i(window).on("resize",function(){var e;if(a._fullscreen)if(t)a._timer||(a._timer=s.setTimeout(function(){var e=n.getWindowSize();a.moveTo(0,0).resizeTo(e.w,e.h),a._timer=0},50));else{e=(new Date).getTime();var i=n.getWindowSize();a.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-e>50&&(t=!0)}}),r=a.layoutRect(),a._fullscreen=e,e){a._initial={x:r.x,y:r.y,w:r.w,h:r.h},a.borderBox=o.parseBox("0"),a.getEl("head").style.display="none",r.deltaH-=r.headerH+2,i([l,document.body]).addClass(c+"fullscreen"),a.classes.add("fullscreen");var u=n.getWindowSize();a.moveTo(0,0).resizeTo(u.w,u.h)}else a.borderBox=o.parseBox(a.settings.border),a.getEl("head").style.display="",r.deltaH+=r.headerH,i([l,document.body]).removeClass(c+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add("in"),t.fire("open")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new r(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()}),u.push(t),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),e=u.length;e--;)u[e]===t&&u.splice(e,1);l(u.length>0),c(t.classPrefix)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return function(){function e(){var e,t,i=n.getWindowSize();for(e=0;e<u.length;e++)t=u[e].layoutRect(),u[e].moveTo(u[e].settings.x||Math.max(0,i.w/2-t.w/2),u[e].settings.y||Math.max(0,i.h/2-t.h/2))}if(!a.desktop){var t={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var e=window.innerWidth,n=window.innerHeight;t.w==e&&t.h==n||(t={w:e,h:n},i(window).trigger("resize"))},100)}i(window).on("resize",e)}(),f}),i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function i(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),o(t)}}}var r,o=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:r=[i("Ok",!0,!0),i("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:r=[i("Yes",1,!0),i("No",0)],n.buttons==t.YES_NO_CANCEL&&r.push(i("Cancel",-1));break;default:r=[i("Ok",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:r,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(e,t){return function(n){function i(){if(s.length)return s[s.length-1]}function r(e){n.fire("OpenWindow",{win:e})}function o(e){n.fire("CloseWindow",{win:e})}var a=this,s=[];a.windows=s,n.on("remove",function(){for(var e=s.length;e--;)s[e].close()}),a.open=function(t,i){var a;return n.editorManager.setActive(n),t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new e(t),s.push(a),a.on("close",function(){for(var e=s.length;e--;)s[e]===a&&s.splice(e,1);s.length||n.focus(),o(a)}),t.data&&a.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),a.features=t||{},a.params=i||{},1===s.length&&n.nodeChanged(),a=a.renderTo().reflow(),r(a),a},a.alert=function(e,i,a){var s;s=t.alert(e,function(){i?i.call(a||this):n.focus()}),s.on("close",function(){o(s)}),r(s)},a.confirm=function(e,n,i){var a;a=t.confirm(e,function(e){n.call(i||this,e)}),a.on("close",function(){o(a)}),r(a)},a.close=function(){i()&&i().close()},a.getParams=function(){return i()?i().params:null},a.setParams=function(e){i()&&(i().params=e)},a.getWindows=function(){return s}}}),i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){var n,i=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==i.tooltips&&(t.on("mouseenter",function(n){var i=t.tooltip().moveTo(-65535);if(n.control==t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"==r),i.classes.toggle("tooltip-nw","bc-tl"==r),i.classes.toggle("tooltip-ne","bc-tr"==r),i.moveRel(t.getEl(),r)}else i.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"}),n.renderTo()),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),i("tinymce/ui/Progress",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}})}),i("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(e,t,n,i){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",i="",r="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(o=' style="background-color: '+e.color+'"'),e.closeButton&&(i='<button type="button" class="'+t+'close" aria-hidden="true">\xd7</button>'),e.progressBar&&(r=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+r+i+"</div>"},postRender:function(){var e=this;return i.setTimeout(function(){e.$el.addClass(e.classPrefix+"in")}),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().childNodes[1].innerHTML=t.value}),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),i("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay"],function(e,t){return function(n){function i(){if(l.length)return l[l.length-1]}function r(){t.requestAnimationFrame(function(){o(),a()})}function o(){for(var e=0;e<l.length;e++)l[e].moveTo(0,0)}function a(){if(l.length>0){var e=l.slice(0,1)[0],t=n.inline?n.getElement():n.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),l.length>1)for(var i=1;i<l.length;i++)l[i].moveRel(l[i-1].getEl(),"bc-tc")}}var s=this,l=[];s.notifications=l,n.on("remove",function(){for(var e=l.length;e--;)l[e].close()}),n.on("ResizeEditor",a),n.on("ResizeWindow",r),s.open=function(t){var i;return n.editorManager.setActive(n),i=new e(t),l.push(i),t.timeout>0&&(i.timer=setTimeout(function(){i.close()},t.timeout)),i.on("close",function(){var e=l.length;for(i.timer&&n.getWin().clearTimeout(i.timer);e--;)l[e]===i&&l.splice(e,1);a()}),i.renderTo(),a(),i},s.close=function(){i()&&i().close()},s.getNotifications=function(){return l},n.on("SkinLoaded",function(){var e=n.settings.service_message;e&&n.notificationManager.open({
text:e,type:"warning",timeout:0,icon:""})})}}),i("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(e){function t(t,n,i){for(var r=[];n&&n!=t;n=n.parentNode)r.push(e.nodeIndex(n,i));return r}function n(e,t){var n,i,r;for(i=e,n=t.length-1;n>=0;n--){if(r=i.childNodes,t[n]>r.length-1)return null;i=r[t[n]]}return i}return{create:t,resolve:n}}),i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/caret/CaretWalker"],function(e,t,n,i,r,o,a,s,l,c,u,d){return function(f){function m(e,t){try{f.getDoc().execCommand(e,!1,t)}catch(e){}}function h(){var e=f.getDoc().documentMode;return e||6}function p(e){return e.isDefaultPrevented()}function g(e){var t,n;e.dataTransfer&&(f.selection.isCollapsed()&&"IMG"==e.target.tagName&&A.select(e.target),t=f.selection.getContent(),t.length>0&&(n=I+escape(f.id)+","+escape(t),e.dataTransfer.setData(F,n)))}function v(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(F))&&t.indexOf(I)>=0?(t=t.substr(I.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function y(e){f.queryCommandSupported("mceInsertClipboardContent")?f.execCommand("mceInsertClipboardContent",!1,{content:e}):f.execCommand("mceInsertContent",!1,e)}function b(){f.shortcuts.add("meta+a",null,"SelectAll")}function C(){f.on("keydown",function(e){if(!p(e)&&e.keyCode===k){if(!f.getBody().getElementsByTagName("hr").length)return;if(A.isCollapsed()&&0===A.getRng(!0).startOffset){var t=A.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return B.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(B.remove(n),e.preventDefault())}}})}function x(){f.on("keydown",function(e){if(!p(e)&&e.keyCode===k&&A.isCollapsed()&&0===A.getRng(!0).startOffset){var t=A.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function w(){f.inline||(f.contentStyles.push("body {min-height: 150px}"),f.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(a.ie>11)return void f.getBody().focus();t=f.selection.getRng(),f.getBody().focus(),f.selection.setRng(t),f.selection.normalize(),f.nodeChanged()}}))}function E(){var e,t;N()&&(e=f.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())}function N(){var e;return L?!(e=f.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}function S(){function t(e){var t=new d(e.getBody()),n=e.selection.getRng(),i=u.fromRangeStart(n),r=u.fromRangeEnd(n);return!e.selection.isCollapsed()&&!t.prev(i)&&!t.next(r)}f.on("keypress",function(n){!p(n)&&!A.isCollapsed()&&n.charCode>31&&!e.metaKeyPressed(n)&&t(f)&&(n.preventDefault(),f.setContent(String.fromCharCode(n.charCode)),f.selection.select(f.getBody(),!0),f.selection.collapse(!1),f.nodeChanged())}),f.on("keydown",function(e){var n=e.keyCode;p(e)||n!=R&&n!=k||t(f)&&(e.preventDefault(),f.setContent(""),f.nodeChanged())})}var _=s.each,T=f.$,k=e.BACKSPACE,R=e.DELETE,B=f.dom,A=f.selection,D=f.settings,M=f.parser,P=f.serializer,L=a.gecko,O=a.ie,H=a.webkit,I="data:text/mce-internal,",F=O?"Text":"URL";return function(){f.on("keydown",function(t){var n,i,r,o,a;if(!p(t)&&t.keyCode==e.BACKSPACE&&(n=A.getRng(),i=n.startContainer,r=n.startOffset,o=B.getRoot(),a=i,n.collapsed&&0===r)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(f.formatter.toggle("blockquote",null,a),n=B.createRng(),n.setStart(i,0),n.setEnd(i,0),A.setRng(n))}})}(),function(){function e(e){var t=B.create("body"),n=e.cloneContents();return t.appendChild(n),A.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var i=n.duplicate();return i.moveToElementText(f.getBody()),t.compareRanges(n,i)}var r=e(n),o=B.createRng();return o.selectNode(f.getBody()),r===e(o)}f.on("keydown",function(e){var t,i,r=e.keyCode;if(!p(e)&&(r==R||r==k)){if(t=f.selection.isCollapsed(),i=f.getBody(),t&&!B.isEmpty(i))return;if(!t&&!n(f.selection.getRng()))return;e.preventDefault(),f.setContent(""),i.firstChild&&B.isBlock(i.firstChild)?f.selection.setCursorLocation(i.firstChild,0):f.selection.setCursorLocation(i,0),f.nodeChanged()}})}(),a.windowsPhone||function(){f.on("keyup focusin mouseup",function(t){65==t.keyCode&&e.metaKeyPressed(t)||A.normalize()},!0)}(),H&&(S(),function(){function r(e){var t=w.schema.getBlockElements(),n=f.getBody();if("BR"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function o(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==T.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,i){var o,a,s;for(s=w.schema.getNonEmptyElements(),o=new n(i||e,e);a=o[t?"next":"prev"]();){if(s[a.nodeName]&&!r(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function c(e){var n,i,r,o,s;if(!e.collapsed&&(n=w.getParent(t.getNode(e.startContainer,e.startOffset),w.isBlock),i=w.getParent(t.getNode(e.endContainer,e.endOffset),w.isBlock),s=f.schema.getTextBlockElements(),n!=i&&s[n.nodeName]&&s[i.nodeName]&&"false"!==w.getContentEditable(n)&&"false"!==w.getContentEditable(i)))return e.deleteContents(),r=a(n,!1),o=a(i,!0),w.isEmpty(i)||T(n).append(i.childNodes),T(i).remove(),r?1==r.nodeType?"BR"==r.nodeName?(e.setStartBefore(r),e.setEndBefore(r)):(e.setStartAfter(r),e.setEndAfter(r)):(e.setStart(r,r.data.length),e.setEnd(r,r.data.length)):o&&(1==o.nodeType?(e.setStartBefore(o),e.setEndBefore(o)):(e.setStart(o,0),e.setEnd(o,0))),E.setRng(e),!0}function u(e,n){var i,r,s,l,c,u;if(!e.collapsed)return e;if(c=e.startContainer,u=e.startOffset,3==c.nodeType)if(n){if(u<c.data.length)return e}else if(u>0)return e;if(i=t.getNode(e.startContainer,e.startOffset),s=w.getParent(i,w.isBlock),r=a(f.getBody(),n,i),l=w.getParent(r,w.isBlock),!i||!r)return e;if(l&&s!=l)if(n){if(!o(s,l))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType?e.setEnd(r,0):e.setEndBefore(r)}else{if(!o(l,s))return e;1==r.nodeType?"BR"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}return e}function d(e){var t=E.getRng();if(t=u(t,e),c(t))return!0}function m(e,t){function n(e,n){return p=T(n).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),l=e.cloneNode(!1),p=s.map(p,function(e){return e=e.cloneNode(!1),l.hasChildNodes()?(e.appendChild(l.firstChild),l.appendChild(e)):l.appendChild(e),l.appendChild(e),e}),p.length?(h=w.create("br"),p[0].appendChild(h),w.replace(l,e),t.setStartBefore(h),t.setEndBefore(h),f.selection.setRng(t),h):null}function r(e){return e&&f.schema.getTextBlockElements()[e.tagName]}var o,a,l,c,u,d,m,h,p;if(t.collapsed&&(d=t.startContainer,m=t.startOffset,a=w.getParent(d,w.isBlock),r(a)))if(1==d.nodeType){if((d=d.childNodes[m])&&"BR"!=d.tagName)return;if(u=e?a.nextSibling:a.previousSibling,w.isEmpty(a)&&r(u)&&w.isEmpty(u)&&n(a,d))return w.remove(u),!0}else if(3==d.nodeType){if(o=i.create(a,d),c=a.cloneNode(!0),d=i.resolve(c,o),e){if(m>=d.data.length)return;d.deleteData(m,1)}else{if(m<=0)return;d.deleteData(m-1,1)}if(w.isEmpty(c))return n(a,d)}}function h(e){var t,n,i;d(e)||(s.each(f.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&f.dom.setAttrib(e,"style",f.dom.getAttrib(e,"style"))}),t=new N(function(){}),t.observe(f.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),f.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),n=f.selection.getRng(),i=n.startContainer.parentNode,s.each(t.takeRecords(),function(e){if(w.isChildOf(e.target,f.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}s.each(e.addedNodes,function(e){if("SPAN"==e.nodeName&&!e.getAttribute("mce-data-marked")){var t,r;e==i&&(t=n.startOffset,r=e.firstChild),w.remove(e,!0),r&&(n.setStart(r,t),n.setEnd(r,t),f.selection.setRng(n))}})}}),t.disconnect(),s.each(f.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}var b,C,x=f.getDoc(),w=f.dom,E=f.selection,N=window.MutationObserver;N||(b=!0,N=function(){function e(e){var t=e.relatedNode||e.target;i.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;i.push({target:t,attributeName:e.attrName})}var n,i=[];this.observe=function(i){n=i,n.addEventListener("DOMSubtreeModified",e,!1),n.addEventListener("DOMNodeInsertedIntoDocument",e,!1),n.addEventListener("DOMNodeInserted",e,!1),n.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",e,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),n.removeEventListener("DOMNodeInserted",e,!1),n.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return i}}),f.on("keydown",function(e){var t=e.keyCode==R,n=e.ctrlKey||e.metaKey;if(!p(e)&&(t||e.keyCode==k)){var i=f.selection.getRng(),r=i.startContainer,o=i.startOffset;if(t&&e.shiftKey)return;if(m(t,i))return void e.preventDefault();if(!n&&i.collapsed&&3==r.nodeType&&(t?o<r.data.length:o>0))return;e.preventDefault(),n&&f.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),h(t)}}),f.on("keypress",function(t){if(!p(t)&&!E.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)){var n,i,r,o,a,s;n=f.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),i=T(n.startContainer).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),h(!0),i=i.filter(function(e,t){return!T.contains(f.getBody(),t)}),i.length?(r=w.createFragment(),i.each(function(e,t){t=t.cloneNode(!1),r.hasChildNodes()?(t.appendChild(r.firstChild),r.appendChild(t)):(a=t,r.appendChild(t)),r.appendChild(t)}),a.appendChild(f.getDoc().createTextNode(s)),o=w.getParent(n.startContainer,w.isBlock),w.isEmpty(o)?T(o).empty().append(r):n.insertNode(r),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),f.selection.setRng(n)):f.selection.setContent(s)}}),f.addCommand("Delete",function(){h()}),f.addCommand("ForwardDelete",function(){h(!0)}),b||(f.on("dragstart",function(e){C=E.getRng(),g(e)}),f.on("drop",function(e){if(!p(e)){var n=v(e);n&&(e.preventDefault(),l.setEditorTimeout(f,function(){var i=t.getCaretRangeFromPoint(e.x,e.y,x);C&&(E.setRng(C),C=null),h(),E.setRng(i),y(n.html)}))}}),f.on("cut",function(e){p(e)||!e.clipboardData||f.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",f.selection.getContent()),e.clipboardData.setData("text/plain",f.selection.getContent({format:"text"})),l.setEditorTimeout(f,function(){h(!0)}))}))}(),function(){f.settings.content_editable||B.bind(f.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==f.getDoc().documentElement)if(t=A.getRng(),f.getBody().focus(),"mousedown"==e.type){if(c.isCaretContainer(t.startContainer))return;A.placeCaretAt(e.clientX,e.clientY)}else A.setRng(t)})}(),function(){f.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==B.getContentEditableParent(t)&&(e.preventDefault(),A.getSel().setBaseAndExtent(t,0,t,1),f.nodeChanged()),"A"==t.nodeName&&B.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),A.select(t))})}(),function(){D.forced_root_block&&f.on("init",function(){m("DefaultParagraphSeparator",D.forced_root_block)})}(),function(){f.on("init",function(){f.dom.bind(f.getBody(),"submit",function(e){e.preventDefault()})})}(),x(),function(){M.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})}(),a.iOS?(function(){f.inline||f.on("keydown",function(){document.activeElement==document.body&&f.getWin().focus()})}(),w(),function(){f.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),f.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):b()),O&&a.ie<11&&(C(),function(){document.body.setAttribute("role","application")}(),function(){h()>7||(m("RespectVisibilityInDesign",!0),f.contentStyles.push(".mceHideBrInPre pre br {display: none}"),B.addClass(f.getBody(),"mceHideBrInPre"),M.addNodeFilter("pre",function(e){for(var t,n,i,o,a=e.length;a--;)for(t=e[a].getAll("br"),n=t.length;n--;)i=t[n],o=i.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new r("#text",3),i,!0).value="\n"}),P.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(t=e[o].getAll("br"),n=t.length;n--;)i=t[n],(r=i.prev)&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}(),function(){B.bind(f.getBody(),"mouseup",function(){var e,t=A.getNode();"IMG"==t.nodeName&&((e=B.getStyle(t,"width"))&&(B.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),B.setStyle(t,"width","")),(e=B.getStyle(t,"height"))&&(B.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),B.setStyle(t,"height","")))})}(),function(){f.on("keydown",function(e){var t;p(e)||e.keyCode!=k||(t=f.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),f.undoManager.beforeChange(),B.remove(t.item(0)),f.undoManager.add())})}(),function(){var e;h()>=10&&(e="",_("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),f.contentStyles.push(e+"{padding-right: 1px !important}"))}(),function(){h()<9&&(M.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)t=e[i],(n=t.firstChild)&&t.attr("data-mce-innertext",n.value)}),P.addNodeFilter("noscript",function(e){for(var t,n,i,a=e.length;a--;)t=e[a],n=e[a].firstChild,n?n.value=o.decode(n.value):(i=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),n=new r("#text",3),n.value=i,n.raw=!0,t.append(n))}))}(),function(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(e){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y))&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select()):n()}function n(){var e=a.selection.createRange();r&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&r.select(),B.unbind(a,"mouseup",n),B.unbind(a,"mousemove",t),r=i=0}var i,r,o,a=B.doc,s=a.body;a.documentElement.unselectable=!0,B.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,(r=e(s.x,s.y))&&(B.bind(a,"mouseup",n),B.bind(a,"mousemove",t),B.getRoot().focus(),r.select())}})}()),a.ie>=11&&(w(),x()),a.ie&&(b(),function(){m("AutoUrlDetect",!1)}(),function(){f.on("dragstart",function(e){g(e)}),f.on("drop",function(e){if(!p(e)){var n=v(e);if(n&&n.id!=f.id){e.preventDefault();var i=t.getCaretRangeFromPoint(e.x,e.y,f.getDoc());A.setRng(i),y(n.html)}}})}()),L&&(S(),C(),function(){window.Range.prototype.getClientRects||f.on("mousedown",function(e){if(!p(e)&&"HTML"===e.target.nodeName){var t=f.getBody();t.blur(),l.setEditorTimeout(f,function(){t.focus()})}})}(),function(){function e(){var e=B.getAttribs(A.getStart().cloneNode(!1));return function(){var t=A.getStart();t!==f.getBody()&&(B.setAttrib(t,"style",null),_(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!A.isCollapsed()&&B.getParent(A.getStart(),B.isBlock)!=B.getParent(A.getEnd(),B.isBlock)}f.on("keypress",function(n){var i;if(!p(n)&&(8==n.keyCode||46==n.keyCode)&&t())return i=e(),f.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1}),B.bind(f.getDoc(),"cut",function(n){var i;!p(n)&&t()&&(i=e(),l.setEditorTimeout(f,function(){i()}))})}(),function(){function e(){E(),m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),D.object_resizing||m("enableObjectResizing",!1)}D.readonly||f.on("BeforeExecCommand MouseDown",e)}(),function(){function e(){_(B.select("a"),function(e){var t=e.parentNode,n=B.getRoot();if(t.lastChild===e){for(;t&&!B.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}B.add(t,"br",{"data-mce-bogus":1})}})}f.on("SetContent ExecCommand",function(t){"setcontent"!=t.type&&"mceInsertLink"!==t.command||e()})}(),function(){f.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function(){a.mac&&f.on("keydown",function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),f.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))})}(),x()),{refreshContentEditable:E,isHidden:N}}}),i("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t,n){function i(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=a.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function r(e,t){function n(e){return!e.hidden&&!e.readonly}var r,s=i(e,t);if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(o||(o={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&o){for(t in o)e.dom.unbind(i(e,t));o=null}})),o[t])return;r=function(i){for(var r=i.target,o=e.editorManager.editors,s=o.length;s--;){var l=o[s].getBody();(l===r||a.isChildOf(r,l))&&n(o[s])&&o[s].fire(t,i)}},o[t]=r,a.bind(s,t,r)}else r=function(i){n(e)&&e.fire(t,i)},a.bind(s,t,r),e.delegates[t]=r}var o,a=t.DOM,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){r(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?r(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(i(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(i(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return s=n.extend({},e,s)}),i("tinymce/Mode",[],function(){function e(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}}function t(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}}function n(n,i){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),i?(n._clickBlocker=t(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,e(n,"StyleWithCSS",!1),e(n,"enableInlineTableEditing",!1),e(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())}function i(e,t){var i=e.readonly?"readonly":"design";t!=i&&(e.initialized?n(e,"readonly"==t):e.on("init",function(){n(e,"readonly"==t)}),e.fire("SwitchMode",{mode:t}))}return{setMode:i}}),i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each,i=e.explode,r={f9:120,f10:121,f11:122},o=e.makeMap("alt,ctrl,shift,meta,access");return function(a){function s(e){var a,s,l={};n(i(e,"+"),function(e){e in o?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=r[e]||e.toUpperCase().charCodeAt(0))}),a=[l.keyCode];for(s in o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(t,n,r,o){var l;return l=e.map(i(t,">"),s),l[l.length-1]=e.extend(l[l.length-1],{func:r,scope:o||a}),e.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function c(e){return e.altKey||e.ctrlKey||e.metaKey}function u(e){return e.keyCode>=112&&e.keyCode<=123}function d(e,t){return!!t&&(t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&(t.alt==e.altKey&&t.shift==e.shiftKey&&(!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0))))}function f(e){return e.func?e.func.call(e.scope):null}var m=this,h={},p=[];a.on("keyup keypress keydown",function(e){!c(e)&&!u(e)||e.isDefaultPrevented()||(n(h,function(t){if(d(e,t))return p=t.subpatterns.slice(0),"keydown"==e.type&&f(t),!0}),d(e,p[0])&&(1===p.length&&"keydown"==e.type&&f(p[0]),p.shift()))}),m.add=function(t,r,o,s){var c;return c=o,"string"==typeof o?o=function(){a.execCommand(c,!1,null)}:e.isArray(c)&&(o=function(){a.execCommand(c[0],c[1],c[2])}),n(i(e.trim(t.toLowerCase())),function(e){var t=l(e,r,o,s);h[t.id]=t}),!0},m.remove=function(e){var t=l(e);return!!h[t.id]&&(delete h[t.id],!0)}}}),i("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(e,t,n){return function(i,r){function o(e){var t,n;return n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},t=n[e.blob().type.toLowerCase()]||"dat",e.id()+"."+t}function a(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}function s(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(o(e))}}function l(e,t,n,i){var s,l;s=new XMLHttpRequest,s.open("POST",r.url),s.withCredentials=r.credentials,s.upload.onprogress=function(e){i(e.loaded/e.total*100)},s.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var e;return 200!=s.status?void n("HTTP Error: "+s.status):(e=JSON.parse(s.responseText))&&"string"==typeof e.location?void t(a(r.basePath,e.location)):void n("Invalid JSON: "+s.responseText)},l=new FormData,l.append("file",e.blob(),o(e)),s.send(l)}function c(){return new e(function(e){e([])})}function u(e,t){return{url:t,blobInfo:e,status:!0}}function d(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function f(e,n){t.each(y[e],function(e){e(n)}),delete y[e]}function m(t,n,r){return i.markPending(t.blobUri()),new e(function(e){var o,a,l=function(){};try{var c=function(){o&&(o.close(),a=l)},m=function(n){c(),i.markUploaded(t.blobUri(),n),f(t.blobUri(),u(t,n)),e(u(t,n))},h=function(){c(),i.removeFailed(t.blobUri()),f(t.blobUri(),d(t,h)),e(d(t,h))};a=function(e){e<0||e>100||(o||(o=r()),o.progressBar.value(e))},n(s(t),m,h,a)}catch(n){e(d(t,n.message))}})}function h(e){return e===l}function p(t){var n=t.blobUri();return new e(function(e){y[n]=y[n]||[],y[n].push(e)})}function g(n,o){return n=t.grep(n,function(e){return!i.isUploaded(e.blobUri())}),e.all(t.map(n,function(e){return i.isPending(e.blobUri())?p(e):m(e,r.handler,o)}))}function v(e,t){return!r.url&&h(r.handler)?c():g(e,t)}var y={};return r=t.extend({credentials:!1,handler:l},r),{upload:v}}}),i("tinymce/file/Conversions",["tinymce/util/Promise"],function(e){function t(t){return new e(function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function n(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}}function i(t){return new e(function(e){var i,r,o;t=n(t);try{i=atob(t.data)}catch(t){return void e(new Blob([]))}for(r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);e(new Blob([r],{type:t.type}))})}function r(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?i(e):null}function o(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})}return{uriToBlob:r,blobToDataUri:o,parseDataUri:n}}),i("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(e,t,n,i,r){var o=0;return function(a,s){function l(l,u){function d(e,t){var n,r;if(0===e.src.indexOf("blob:"))return void((r=s.getByUri(e.src))&&t({image:e,blobInfo:r}));n=i.parseDataUri(e.src).data,r=s.findFirst(function(e){return e.base64()===n}),r?t({image:e,blobInfo:r}):i.uriToBlob(e.src).then(function(i){var r="blobid"+o++,a=s.create(r,i,n);s.add(a),t({image:e,blobInfo:a})})}var f,m;return u||(u=n.constant(!0)),f=t.filter(l.getElementsByTagName("img"),function(e){var t=e.src;return!!r.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!t||t==r.transparentSrc)&&(0===t.indexOf("blob:")?!a.isUploaded(t):0===t.indexOf("data:")&&u(e)))))}),m=t.map(f,function(t){var n;return c[t.src]?new e(function(e){c[t.src].then(function(n){e({image:t,blobInfo:n.blobInfo})})}):(n=new e(function(e){d(t,e)}).then(function(e){return delete c[e.image.src],e}).catch(function(e){return delete c[t.src],e}),c[t.src]=n,n)}),e.all(m)}var c={};return{findAll:l}}}),i("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(e,t){return function(){function n(e,t,n){return{id:u(e),blob:u(t),base64:u(n),blobUri:u(URL.createObjectURL(t))}}function i(e){r(e.id())||c.push(e)}function r(e){return o(function(t){return t.id()===e})}function o(t){return e.filter(c,t)[0]}function a(e){return o(function(t){return t.blobUri()==e})}function s(t){c=e.filter(c,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})}function l(){e.each(c,function(e){URL.revokeObjectURL(e.blobUri())}),c=[]}var c=[],u=t.constant;return{create:n,add:i,get:r,getByUri:a,findFirst:o,removeByUri:s,destroy:l}}}),i("tinymce/file/UploadStatus",[],function(){return function(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in d}function n(e){var t=d[e];return t?t.resultUri:null}function i(e){return!!t(e)&&d[e].status===c}function r(e){return!!t(e)&&d[e].status===u}function o(t){d[t]=e(c,null)}function a(t,n){d[t]=e(u,n)}function s(e){delete d[e]}function l(){d={}}var c=1,u=2,d={};return{hasBlobUri:t,getResultUri:n,isPending:i,isUploaded:r,markPending:o,markUploaded:a,removeFailed:s,destroy:l}}}),i("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache","tinymce/file/UploadStatus"],function(e,t,n,i,r){return function(o){function a(e){return function(t){return o.selection?e(t):[]}}function s(e,t,n){var i=0;do{-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1)}while(-1!==i);return e}function l(e,t,n){return e=s(e,'src="'+t+'"','src="'+n+'"'),e=s(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function c(t,n){e.each(o.undoManager.data,function(e){e.content=l(e.content,t,n)})}function u(){return o.notificationManager.open({text:o.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function d(e,t){C.removeByUri(e.src),c(e.src,t),o.$(e).attr({src:t,"data-mce-src":o.convertURL(t,"src")})}function f(n){return y||(y=new t(w,{url:x.images_upload_url,basePath:x.images_upload_base_path,credentials:x.images_upload_credentials,handler:x.images_upload_handler})),p().then(a(function(t){var i;return i=e.map(t,function(e){return e.blobInfo}),y.upload(i,u).then(a(function(i){return i=e.map(i,function(e,n){var i=t[n].image;return e.status&&!1!==o.settings.images_replace_blob_uris&&d(i,e.url),{element:i,status:e.status}}),n&&n(i),i}))}))}function m(e){if(!1!==x.automatic_uploads)return f(e)}function h(e){return!x.images_dataimg_filter||x.images_dataimg_filter(e)}function p(){return b||(b=new n(w,C)),b.findAll(o.getBody(),h).then(a(function(t){return e.each(t,function(e){c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))}function g(){C.destroy(),w.destroy(),b=y=null}function v(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=w.getResultUri(n);if(i)return'src="'+i+'"';var r=C.getByUri(n);return r||(r=e.reduce(o.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t})}var y,b,C=new i,x=o.settings,w=new r;return o.on("setContent",function(){!1!==o.settings.automatic_uploads?m():p()}),o.on("RawSaveContent",function(e){e.content=v(e.content)}),o.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=v(e.content))}),o.on("PostRender",function(){o.parser.addNodeFilter("img",function(t){e.each(t,function(e){var t=e.attr("src");if(!C.getByUri(t)){var n=w.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:C,uploadImages:f,uploadImagesAuto:m,scanForImages:p,destroy:g}}}),i("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(e,t,n,i,r,o,a){var s=n.isContentEditableFalse;return function(t,n){function i(e,n){var i,r,a,s,l,c=o.collapse(e.getBoundingClientRect(),n);return"BODY"==t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,a=t.scrollTop||i.scrollTop):(l=t.getBoundingClientRect(),r=t.scrollLeft-l.left,a=t.scrollTop-l.top),c.left+=r,c.right+=r,c.top+=a,c.bottom+=a,c.width=1,s=e.offsetWidth-e.clientWidth,s>0&&(n&&(s*=-1),c.left+=s,c.right+=s),c}function l(){var n,i,o,a,s;for(n=r("*[contentEditable=false]",t),a=0;a<n.length;a++)i=n[a],o=i.previousSibling,e.endsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=i.nextSibling,e.startsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(0,1));return null}function c(o,a){var l,c,f;return u(),n(a)?(g=e.insertBlock("p",a,o),l=i(a,o),r(g).css("top",l.top),p=r('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(t),o&&p.addClass("mce-visual-caret-before"),d(),c=a.ownerDocument.createRange(),f=g.firstChild,c.setStart(f,0),c.setEnd(f,1),c):(g=e.insertInline(a,o),c=a.ownerDocument.createRange(),s(g.nextSibling)?(c.setStart(g,0),c.setEnd(g,0)):(c.setStart(g,1),c.setEnd(g,1)),c)}function u(){l(),g&&(e.remove(g),g=null),p&&(p.remove(),p=null),clearInterval(h)}function d(){h=a.setInterval(function(){r("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")},500)}function f(){a.clearInterval(h)}function m(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var h,p,g;return{show:c,hide:u,getCss:m,destroy:f}}}),i("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(e,t,n){function i(r){function o(t){return e.map(t,function(e){return e=n.clone(e),e.node=r,e})}if(e.isArray(r))return e.reduce(r,function(e,t){return e.concat(i(t))},[]);if(t.isElement(r))return o(r.getClientRects());if(t.isText(r)){var a=r.ownerDocument.createRange();return a.setStart(r,0),a.setEnd(r,r.data.length),o(a.getClientRects())}}return{getClientRects:i}}),i("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(e,t,n,i,r,o,a,s){function l(e,t,n,o){for(;o=r.findNode(o,e,i.isEditableCaretCandidate,t);)if(n(o))return}function c(e,i,r,o,a,s){function c(o){var s,l,c;for(c=n.getClientRects(o),-1==e&&(c=c.reverse()),s=0;s<c.length;s++)if(l=c[s],!r(l,d)){if(m.length>0&&i(l,t.last(m))&&f++,l.line=f,a(l))return!0;m.push(l)}}var u,d,f=0,m=[];return(d=t.last(s.getClientRects()))?(u=s.getNode(),c(u),l(e,o,c,u),m):m}function u(e,t){return t.line>e}function d(e,t){return t.line===e}function f(e,n,i,r){function l(e){return t.last(e.getClientRects())}var c,u,d,f,m,h,p=new o(n),g=[],v=0;1==e?(c=p.next,u=s.isBelow,d=s.isAbove,f=a.after(r)):(c=p.prev,u=s.isAbove,d=s.isBelow,f=a.before(r)),h=l(f);do{if(f.isVisible()&&(m=l(f),!d(m,h))){if(g.length>0&&u(m,t.last(g))&&v++,m=s.clone(m),m.position=f,m.line=v,i(m))return g;g.push(m)}}while(f=c(f));return g}var m=e.curry;return{upUntil:m(c,-1,s.isAbove,s.isBelow),downUntil:m(c,1,s.isBelow,s.isAbove),
positionsUntil:f,isAboveLine:m(u),isLine:m(d)}}),i("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(e,t,n,i,r,o,a){function s(e,t){return Math.abs(e.left-t)}function l(e,t){return Math.abs(e.right-t)}function c(e,n){function i(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,function(e,t){var r,o;return r=Math.min(s(e,n),l(e,n)),o=Math.min(s(t,n),l(t,n)),i(n,t)?t:i(n,e)?e:o==r&&p(t.node)?t:o<r?t:e})}function u(e,t,n,i){for(;i=g(i,e,a.isEditableCaretCandidate,t);)if(n(i))return}function d(e,n){function o(e,r){var o;return o=t.filter(i.getClientRects(r),function(t){return!e(t,n)}),a=a.concat(o),0===o.length}var a=[];return a.push(n),u(-1,e,v(o,r.isAbove),n.node),u(1,e,v(o,r.isBelow),n.node),a}function f(e){return t.filter(t.toArray(e.getElementsByTagName("*")),p)}function m(e,t){return{node:e.node,before:s(e,t)<l(e,t)}}function h(e,n,r){var o,a;return o=i.getClientRects(f(e)),o=t.filter(o,function(e){return r>=e.top&&r<=e.bottom}),a=c(o,n),a&&(a=c(d(e,a),n))&&p(a.node)?m(a,n):null}var p=n.isContentEditableFalse,g=o.findNode,v=e.curry;return{findClosestClientRect:c,findLineNodeRects:d,closestCaret:h}}),i("tinymce/dom/MousePosition",[],function(){var e=function(e){var t,n,i,r;return r=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},t=function(t){return t.inline?e(t.getBody()):{left:0,top:0}},n=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},i=function(e){var t=e.getBody(),n=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?i:r},r=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var r=e(t.getContentAreaContainer()),o=i(t);return{left:n.pageX-r.left+o.left,top:n.pageY-r.top+o.top}}return{left:n.pageX,top:n.pageY}},o=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}};return{calc:function(e,i){return o(t(e),n(e),r(e,i))}}}),i("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/Delay","tinymce/dom/DOMUtils","tinymce/dom/MousePosition"],function(e,t,n,i,r,o){var a=e.isContentEditableFalse,s=e.isContentEditableTrue,l=function(e){return a(e)},c=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!a(t)},u=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},d=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o},f=function(e,t){e.parentNode!==t&&t.appendChild(e)},m=function(e,t,n,i,r,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(a=t.pageX+n-r),t.pageY+i>o&&(s=t.pageY+i-o),e.style.width=n-a+"px",e.style.height=i-s+"px"},h=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},p=function(e){return 0===e.button},g=function(e){return e.element},v=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},y=function(e,i){return function(r){if(p(r)){var o=t.find(i.dom.getParents(r.target),n.or(a,s));if(l(o)){var c=i.dom.getPos(o),u=i.getBody(),f=i.getDoc().documentElement;e.element=o,e.screenX=r.screenX,e.screenY=r.screenY,e.maxX=(i.inline?u.scrollWidth:f.offsetWidth)-2,e.maxY=(i.inline?u.scrollHeight:f.offsetHeight)-2,e.relX=r.pageX-c.x,e.relY=r.pageY-c.y,e.width=o.offsetWidth,e.height=o.offsetHeight,e.ghost=d(i,o,e.width,e.height)}}}},b=function(e,t){var n=i.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(i){var r=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(g(e)&&!e.dragging&&r>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=v(e,o.calc(t,i));f(e.ghost,t.getBody()),m(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(i.clientX,i.clientY)}}},C=function(e,t){return function(n){if(e.dragging&&c(t,t.selection.getNode(),e.element)){var i=u(e.element),r=t.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,t.undoManager.transact(function(){h(e.element),t.insertContent(t.dom.getOuterHTML(i)),t._selectionOverrides.hideFakeCaret()}))}w(e)}},x=function(e,t){return function(){w(e),e.dragging&&t.fire("dragend")}},w=function(e){e.dragging=!1,e.element=null,h(e.ghost)},E=function(e){var t,n,i,o,a,s,l={};t=r.DOM,s=document,n=y(l,e),i=b(l,e),o=C(l,e),a=x(l,e),e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o),t.bind(s,"mousemove",i),t.bind(s,"mouseup",a),e.on("remove",function(){t.unbind(s,"mousemove",i),t.unbind(s,"mouseup",a)})},N=function(e){e.on("drop",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(a(n)||a(e.dom.getContentEditableParent(n)))&&t.preventDefault()})};return{init:function(e){E(e),N(e)}}}),i("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides","tinymce/text/Zwsp"],function(e,t,n,i,r,o,a,s,l,c,u,d,f,m,h,p,g){function v(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function y(c){function y(){return c.dom.get(se).getElementsByTagName("*")[0]}function _(e){return c.dom.isBlock(e)}function T(e){e&&c.selection.setRng(e)}function k(){return c.selection.getRng()}function R(e,t){c.selection.scrollIntoView(e,t)}function B(e,t,n){var i;return i=c.fire("ShowCaret",{target:t,direction:e,before:n}),i.isDefaultPrevented()?null:(R(t,-1===e),ae.show(n,t))}function A(e){var t;return ae.hide(),t=c.fire("BeforeObjectSelected",{target:e}),t.isDefaultPrevented()?null:D(e)}function D(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}function M(e,t){var n=r.isInSameBlock(e,t);return!(n||!l.isBr(e.getNode()))||n}function P(e,t){return t=r.normalizeRange(e,ne,t),-1==e?n.fromRangeStart(t):n.fromRangeEnd(t)}function L(e){return i.isCaretContainerBlock(e.startContainer)}function O(e,t,n,i){var r,o,a,s;return!i.collapsed&&(r=S(i),x(r))?B(e,r,-1==e):(s=L(i),o=P(e,i),n(o)?A(o.getNode(-1==e)):(o=t(o))?n(o)?B(e,o.getNode(-1==e),1==e):(a=t(o),n(a)&&M(o,a)?B(e,a.getNode(-1==e),1==e):s?$(o.toRange()):null):s?i:null)}function H(e,t,n){var i,r,o,l,c,u,d,f,h;if(h=S(n),i=P(e,n),r=t(ne,a.isAboveLine(1),i),o=m.filter(r,a.isLine(1)),c=m.last(i.getClientRects()),N(i)&&(h=i.getNode()),E(i)&&(h=i.getNode(!0)),!c)return null;if(u=c.left,(l=s.findClosestClientRect(o,u))&&x(l.node))return d=Math.abs(u-l.left),f=Math.abs(u-l.right),B(e,l.node,d<f);if(h){var p=a.positionsUntil(e,ne,a.isAboveLine(1),h);if(l=s.findClosestClientRect(m.filter(p,a.isLine(1)),u))return $(l.position.toRange());if(l=m.last(m.filter(p,a.isLine(0))))return $(l.position.toRange())}}function I(t,i){var r,o,a;if(i.collapsed&&c.settings.forced_root_block){if(!(r=c.dom.getParent(i.startContainer,"PRE")))return;o=1==t?re(n.fromRangeStart(i)):oe(n.fromRangeStart(i)),o||(a=function(){var t=c.dom.create(c.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}(),1==t?c.$(r).after(a):c.$(r).before(a),c.selection.select(a,!0),c.selection.collapse())}}function F(e,t,n,i){var r;return(r=O(e,t,n,i))?r:(r=I(e,i))||null}function U(e,t,n){var i;return(i=H(e,t,n))?i:(i=I(e,n))||null}function z(){return le("*[data-mce-caret]")[0]}function W(e){e=le(e),e.attr("data-mce-caret")&&(ae.hide(),e.removeAttr("data-mce-caret"),e.removeAttr("data-mce-bogus"),e.removeAttr("style"),T(k()),R(e[0]))}function V(e){var t,i;return e=r.normalizeRange(1,ne,e),t=n.fromRangeStart(e),x(t.getNode())?B(1,t.getNode(),!t.isAtEnd()):x(t.getNode(!0))?B(1,t.getNode(!0),!1):(i=c.dom.getParent(t.getNode(),f.or(x,C)),x(i)?B(1,i,!1):(ae.hide(),null))}function $(e){return e&&e.collapsed?V(e)||e:e}function q(e){var t,r,o,a;return x(e)?(x(e.previousSibling)&&(o=e.previousSibling),r=oe(n.before(e)),r||(t=re(n.after(e))),t&&w(t.getNode())&&(a=t.getNode()),i.remove(e.previousSibling),i.remove(e.nextSibling),c.dom.remove(e),Q(),c.dom.isEmpty(c.getBody())?(c.setContent(""),void c.focus()):o?n.after(o).toRange():a?n.before(a).toRange():r?r.toRange():t?t.toRange():null):null}function j(e){var t=c.schema.getTextBlockElements();return e.nodeName in t}function Y(e){return c.dom.isEmpty(e)}function X(e,t,i){var r,o,a,s,l=c.dom;if(r=l.getParent(t.getNode(),l.isBlock),o=l.getParent(i.getNode(),l.isBlock),-1===e){if(s=i.getNode(!0),E(i)&&_(s))return j(r)?(Y(r)&&l.remove(r),n.after(s).toRange()):q(i.getNode(!0))}else if(s=t.getNode(),N(t)&&_(s))return j(o)?(Y(o)&&l.remove(o),n.before(s).toRange()):q(t.getNode());if(r===o||!j(r)||!j(o))return null;for(;a=r.firstChild;)o.appendChild(a);return c.dom.remove(r),i.toRange()}function K(e,t,n,r){var o,a,s,l;return!r.collapsed&&(o=S(r),x(o))?$(q(o)):(a=P(e,r),n(a)&&i.isCaretContainerBlock(r.startContainer)?(l=-1==e?ie.prev(a):ie.next(a),l?$(l.toRange()):r):t(a)?$(q(a.getNode(-1==e))):(s=-1==e?ie.prev(a):ie.next(a),t(s)?-1===e?X(e,a,s):X(e,s,a):void 0))}function G(e){return i.isCaretContainer(e.startContainer)||i.isCaretContainer(e.endContainer)}function J(t){var n,i,r,o,a,s,l,u,d,f,m=c.$,h=c.dom;if(!t)return Q(),null;if(t.collapsed){if(Q(),!G(t)){if(u=P(1,t),x(u.getNode()))return B(1,u.getNode(),!u.isAtEnd());if(x(u.getNode(!0)))return B(1,u.getNode(!0),!1)}return null}return o=t.startContainer,a=t.startOffset,s=t.endOffset,3==o.nodeType&&0==a&&x(o.parentNode)&&(o=o.parentNode,a=h.nodeIndex(o),o=o.parentNode),1!=o.nodeType?(Q(),null):(s==a+1&&(n=o.childNodes[a]),x(n)?(d=f=n.cloneNode(!0),l=c.fire("ObjectSelected",{target:n,targetClone:d}),l.isDefaultPrevented()?(Q(),null):(d=l.targetClone,i=m("#"+se),0===i.length&&(i=m('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",se),i.appendTo(c.getBody())),t=c.dom.createRng(),d===f&&e.ie?(i.empty().append(g.ZWSP).append(d).append(g.ZWSP),t.setStart(i[0].firstChild,0),t.setEnd(i[0].lastChild,1)):(i.empty().append("\xa0").append(d).append("\xa0"),t.setStart(i[0].firstChild,1),t.setEnd(i[0].lastChild,0)),i.css({top:h.getPos(n,c.getBody()).y}),i[0].focus(),r=c.selection.getSel(),r.removeAllRanges(),r.addRange(t),c.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),te=n,t)):(Q(),null))}function Q(){te&&(te.removeAttribute("data-mce-selected"),c.$("#"+se).remove(),te=null)}function Z(){ae.destroy(),te=null}function ee(){ae.hide()}var te,ne=c.getBody(),ie=new t(ne),re=b(v,ie.next),oe=b(v,ie.prev),ae=new o(c.getBody(),_),se="sel-"+c.dom.uniqueId(),le=c.$;return e.ceFalse&&(function(){function i(e,t){var n=t(k());n&&!e.isDefaultPrevented()&&(e.preventDefault(),T(n))}function r(e){for(var t=c.getBody();e&&e!=t;){if(C(e)||x(e))return e;e=e.parentNode}return null}function o(e,t,n){return!n.collapsed&&m.reduce(n.getClientRects(),function(n,i){return n||u.containsXY(i,e,t)},!1)}function l(){var e,t=r(c.selection.getNode());C(t)&&_(t)&&c.dom.isEmpty(t)&&(e=c.dom.create("br",{"data-mce-bogus":"1"}),c.$(t).empty().append(e),c.selection.setRng(n.before(e).toRange()))}function f(e){var t=z();if(t)return"compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),void W(t)):void("&nbsp;"!=t.innerHTML&&W(t))}function g(e){var t;switch(e.keyCode){case d.DELETE:case d.BACKSPACE:t=l()}t&&e.preventDefault()}var v=b(F,1,re,N),w=b(F,-1,oe,E),S=b(K,1,N,E),R=b(K,-1,E,N),D=b(U,-1,a.upUntil),M=b(U,1,a.downUntil);c.on("mouseup",function(){var e=k();e.collapsed&&T(V(e))}),c.on("click",function(e){var t;(t=r(e.target))&&x(t)&&(e.preventDefault(),c.focus())});var P=function(e){var i=new t(e);if(!e.firstChild)return!1;var r=n.before(e.firstChild),o=i.next(r);return o&&!N(o)&&!E(o)},L=function(e,t){return c.dom.getParent(e,c.dom.isBlock)===c.dom.getParent(t,c.dom.isBlock)},O=function(e,t){var n=c.dom.getParent(e,c.dom.isBlock),i=c.dom.getParent(t,c.dom.isBlock);return n&&!L(n,i)&&P(n)};!function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(e){var n=r(e.target);x(n)?t||(e.preventDefault(),J(A(n))):Q()})}(c),c.on("mousedown",function(e){var t;if(t=r(e.target))x(t)?(e.preventDefault(),J(A(t))):(Q(),o(e.clientX,e.clientY,c.selection.getRng())||c.selection.placeCaretAt(e.clientX,e.clientY));else{Q(),ae.hide();var n=s.closestCaret(ne,e.clientX,e.clientY);n&&(O(e.target,n.node)||(e.preventDefault(),c.getBody().focus(),T(B(1,n.node,n.before))))}}),c.on("keydown",function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:i(e,v);break;case d.DOWN:i(e,M);break;case d.LEFT:i(e,w);break;case d.UP:i(e,D);break;case d.DELETE:i(e,S);break;case d.BACKSPACE:i(e,R);break;default:x(c.selection.getNode())&&e.preventDefault()}}),c.on("keyup compositionstart",function(e){f(e),g(e)},!0),c.on("cut",function(){var e=c.selection.getNode();x(e)&&h.setEditorTimeout(c,function(){T($(q(e)))})}),c.on("getSelectionRange",function(e){var t=e.range;if(te){if(!te.parentNode)return void(te=null);t=t.cloneRange(),t.selectNode(te),e.range=t}}),c.on("setSelectionRange",function(e){var t;(t=J(e.range))&&(e.range=t)}),c.on("focus",function(){h.setEditorTimeout(c,function(){c.selection.setRng($(c.selection.getRng()))},0)}),c.on("copy",function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!e.ie){var i=y();i&&(t.preventDefault(),n.clearData(),n.setData("text/html",i.outerHTML),n.setData("text/plain",i.outerText))}}),p.init(c)}(),function(){var e=c.contentStyles;e.push(ae.getCss()),e.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")}()),{showBlockCaretContainer:W,hideFakeCaret:ee,destroy:Z}}var b=f.curry,C=l.isContentEditableTrue,x=l.isContentEditableFalse,w=l.isElement,E=r.isAfterContentEditableFalse,N=r.isBeforeContentEditableFalse,S=c.getSelectedNode;return y}),i("tinymce/util/Uuid",[],function(){var e=0,t=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()};return{uuid:function(n){return n+e+++t()}}}),i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides","tinymce/util/Uuid"],function(e,n,i,r,o,a,s,l,c,u,d,f,m,h,p,g,v,y,b,C,x,w,E,N,S,_,T,k,R,B){function A(e,t,r){var o,a,s,l=this;o=l.documentBaseUrl=r.documentBaseURL,a=r.baseURI,s=r.defaultSettings,t=L({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l,ie7_compat:!0},s,t),s&&s.external_plugins&&t.external_plugins&&(t.external_plugins=L({},s.external_plugins,t.external_plugins)),l.settings=t,i.language=t.language||"en",i.languageLoad=t.language_load,i.baseURL=r.baseURL,l.id=t.id=e,l.setDirty(!1),l.plugins={},l.documentBaseURI=new h(t.document_base_url||o,{base_uri:a}),l.baseURI=a,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new T(l),l.loadedCSS={},l.editorCommands=new m(l),t.target&&(l.targetElm=t.target),l.suffix=r.suffix,l.editorManager=r,l.inline=t.inline,l.settings.content_editable=l.inline,t.cache_suffix&&(w.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(w.overrideViewPort=!1),r.fire("SetupEditor",l),l.execCallback("setup",l),l.$=n.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}var D=e.DOM,M=i.ThemeManager,P=i.PluginManager,L=E.extend,O=E.each,H=E.explode,I=E.inArray,F=E.trim,U=E.resolve,z=g.Event,W=w.gecko,V=w.ie;return A.prototype={render:function(){function e(){D.unbind(window,"ready",e),t.render()}var t=this,n=t.settings,i=t.id,r=t.suffix;if(!z.domLoaded)return void D.bind(window,"ready",e);if(t.getElement()&&w.contentEditable){n.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var o=t.getElement().form||D.getParent(i,"form");o&&(t.formElement=o,n.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(D.insertAfter(D.create("input",{type:"hidden",name:i}),i),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},D.bind(o,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!n.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),o._mceOldSubmit(o)})),t.windowManager=new v(t),t.notificationManager=new y(t),"xml"==n.encoding&&t.on("GetContent",function(e){e.save&&(e.content=D.encode(e.content))}),n.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),n.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),function(){var e=p.ScriptLoader;if(n.language&&"en"!=n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&e.add(n.language_url),n.theme&&"function"!=typeof n.theme&&"-"!=n.theme.charAt(0)&&!M.urls[n.theme]){var i=n.theme_url;i=i?t.documentBaseURI.toAbsolute(i):"themes/"+n.theme+"/theme"+r+".js",M.load(n.theme,i)}E.isArray(n.plugins)&&(n.plugins=n.plugins.join(" ")),O(n.external_plugins,function(e,t){P.load(t,e),n.plugins+=" "+t}),O(n.plugins.split(/[ ,]/),function(e){if((e=F(e))&&!P.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=P.dependencies(e);O(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"};e=P.createUrl(t,e),P.load(e.resource,e)})}else P.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"})}),e.loadQueue(function(){t.removed||t.init()})}()}},init:function(){function e(t){var n,i,r=P.get(t);if(n=P.urls[t]||f.documentBaseUrl.replace(/\/$/,""),t=F(t),r&&-1===I(p,t)){if(O(P.dependencies(t),function(t){e(t)}),f.plugins[t])return;i=new r(f,n,f.$),f.plugins[t]=i,i.init&&(i.init(f,n),p.push(t))}}var t,n,i,r,o,a,s,l,c,u,d,f=this,m=f.settings,h=f.getElement(),p=[];if(f.rtl=m.rtl_ui||f.editorManager.i18n.rtl,f.editorManager.i18n.setCode(m.language),m.aria_label=m.aria_label||D.getAttrib(h,"aria-label",f.getLang("aria.rich_text_area")),f.fire("ScriptsLoaded"),m.theme&&("function"!=typeof m.theme?(m.theme=m.theme.replace(/-/,""),a=M.get(m.theme),f.theme=new a(f,M.urls[m.theme]),f.theme.init&&f.theme.init(f,M.urls[m.theme]||f.documentBaseUrl.replace(/\/$/,""),f.$)):f.theme=m.theme),O(m.plugins.replace(/\-/g,"").split(/[ ,]/),e),m.render_ui&&f.theme&&(f.orgDisplay=h.style.display,"function"!=typeof m.theme?(t=m.width||h.style.width||h.offsetWidth,n=m.height||h.style.height||h.offsetHeight,i=m.min_height||100,u=/^[0-9\.]+(|px)$/i,u.test(""+t)&&(t=Math.max(parseInt(t,10),100)),u.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=f.theme.renderUI({targetNode:h,width:t,height:n,deltaWidth:m.delta_width,deltaHeight:m.delta_height}),m.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""))<i&&(n=i)):(o=m.theme(f,h),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||f.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||f.id+"_iframecontainer"),n=o.iframeHeight||h.offsetHeight),f.editorContainer=o.editorContainer),m.content_css&&O(H(m.content_css),function(e){f.contentCSS.push(f.documentBaseURI.toAbsolute(e))}),m.content_style&&f.contentStyles.push(m.content_style),m.content_editable)return h=r=o=null,f.initContentBody();if(f.iframeHTML=m.doctype+"<html><head>",m.document_base_url!=f.documentBaseUrl&&(f.iframeHTML+='<base href="'+f.documentBaseURI.getURI()+'" />'),!w.caretAfter&&m.ie7_compat&&(f.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),f.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(d=0;d<f.contentCSS.length;d++){var g=f.contentCSS[d];f.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+E._addCacheSuffix(g)+'" />',f.loadedCSS[g]=!0}l=m.body_id||"tinymce",-1!=l.indexOf("=")&&(l=f.getParam("body_id","","hash"),l=l[f.id]||l),c=m.body_class||"",-1!=c.indexOf("=")&&(c=f.getParam("body_class","","hash"),c=c[f.id]||""),m.content_security_policy&&(f.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+m.content_security_policy+'" />'),f.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+c+'" data-id="'+f.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+f.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&w.ie&&w.ie<12&&(s=v);var y=D.create("iframe",{id:f.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:f.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}});if(y.onload=function(){y.onload=null,f.fire("load")},D.setAttrib(y,"src",s||'javascript:""'),f.contentAreaContainer=o.iframeContainer,f.iframeElement=y,r=D.add(o.iframeContainer,y),V)try{f.getDoc()}catch(e){r.src=s=v}o.editorContainer&&(D.get(o.editorContainer).style.display=f.orgDisplay,f.hidden=D.isHidden(o.editorContainer)),f.getElement().style.display="none",D.setAttrib(f.id,"aria-hidden",!0),s||f.initContentBody(),h=r=o=null},initContentBody:function(t){var n,i,s=this,m=s.settings,h=s.getElement(),p=s.getDoc();m.inline||(s.getElement().style.visibility=s.orgVisibility),t||m.content_editable||(p.open(),p.write(s.iframeHTML),p.close()),m.content_editable&&(s.on("remove",function(){var e=this.getBody();D.removeClass(e,"mce-content-body"),D.removeClass(e,"mce-edit-focus"),D.setAttrib(e,"contentEditable",null)}),D.addClass(h,"mce-content-body"),s.contentDocument=p=m.content_document||document,s.contentWindow=m.content_window||window,s.bodyElement=h,m.content_document=m.content_window=null,m.root_name=h.nodeName.toLowerCase()),n=s.getBody(),n.disabled=!0,s.readonly=m.readonly,s.readonly||(s.inline&&"static"==D.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.editorUpload=new k(s),s.schema=new b(m),s.dom=new e(p,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:m.force_hex_style_colors,class_filter:m.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:m.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new C(m,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r,o=e.length,a=s.dom;o--;)if(n=e[o],i=n.attr(t),r="data-mce-"+t,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?(i=a.serializeStyle(a.parseStyle(i),n.name),i.length||(i=null),n.attr(r,i),n.attr(t,i)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,s.convertURL(i,t,n.name))}}),s.parser.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=s.schema.getNonEmptyElements();n--;)t=e[n],t.isEmpty(i)&&(t.append(new o("br",1)).shortEnded=!0)}),s.serializer=new a(m,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new c(s),s.undoManager=new u(s),s.forceBlocks=new f(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new r(s),s._selectionOverrides=new R(s),s.fire("PreInit"),m.browser_spellcheck||m.gecko_spellcheck||(p.body.spellcheck=!1,D.setAttrib(n,"spellcheck","false")),s.quirks=new x(s),s.fire("PostRender"),m.directionality&&(n.dir=m.directionality),m.nowrap&&(n.style.whiteSpace="nowrap"),m.protect&&s.on("BeforeSetContent",function(e){O(m.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),m.padd_empty_editor&&s.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.on("compositionstart compositionend",function(e){s.composing="compositionstart"===e.type}),s.contentStyles.length>0&&(i="",O(s.contentStyles,function(e){i+=e+"\r\n"}),s.dom.addStyle(i)),O(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),m.auto_focus&&N.setEditorTimeout(s,function(){var e;e=!0===m.auto_focus?s:s.editorManager.get(m.auto_focus),e.destroyed||e.focus()},100),h=p=n=null},focus:function(e){var t,n,i,r=this,o=r.selection,a=r.settings.content_editable,s=r.getDoc(),l=r.getBody();if(!e){if(t=o.getRng(),t.item&&(n=t.item(0)),r.quirks.refreshContentEditable(),i=function(e){return r.dom.getParent(e,function(e){return"true"===r.dom.getContentEditable(e)})}(o.getNode()),r.$.contains(l,i))return i.focus(),o.normalize(),void r.editorManager.setActive(r);if(a||(w.opera||r.getBody().focus(),r.getWin().focus()),W||a){if(l.setActive)try{l.setActive()}catch(e){l.focus()}else l.focus();a&&o.normalize()}n&&n.ownerDocument==s&&(t=s.body.createControlRange(),t.addElement(n),t.select())}r.editorManager.setActive(r)},execCallback:function(e){var t,n=this,i=n.settings[e];if(i)return n.callbackLookup&&(t=n.callbackLookup[e])&&(i=t.func,t=t.scope),"string"==typeof i&&(t=i.replace(/\.\w+$/,""),t=t?U(t):0,i=U(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:i,scope:t}),i.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?(e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"}),this.editorManager.translate(e)):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?O(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){e=e.split("="),e.length>1?i[F(e[0])]=F(e[1]):i[F(e[0])]=F(e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:B.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(D.show(e.getContainer()),D.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(V&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(D.hide(e.getContainer()),D.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n,i=this,r=i.getElement();if(r)return e=e||{},e.load=!0,n=i.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||i.fire("LoadContent",e),e.element=r=null,n},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized)return e=e||{},e.save=!0,e.element=r,t=e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"==e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=D.getParent(i.id,"form"))&&O(n.elements,function(e){if(e.name==i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){var n,i,r=this,o=r.getBody();return t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||r.fire("BeforeSetContent",t),e=t.content,0===e.length||/^\s+$/.test(e)?(i=V&&V<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+i+"</li>"),n=r.settings.forced_root_block,n&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(e=i,e=r.dom.createHTML(n,r.settings.forced_root_block_attrs,e)):V||e||(e='<br data-mce-bogus="1">'),r.dom.setHTML(o,e),r.fire("SetContent",t)):("raw"!==t.format&&(e=new s({validate:r.validate},r.schema).serialize(r.parser.parse(e,{isRootContent:!0}))),t.content=F(e),r.dom.setHTML(o,t.content),
t.no_events||r.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,i=n.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?n.serializer.getTrimmedContent():"text"==e.format?i.innerText||i.textContent:n.serializer.serialize(i,e),"text"!=e.format?e.content=F(t):e.content=t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=L({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){_.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=D.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=D.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===t&&(i.hasVisual=r.visual),O(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",t=o.getAttrib(e,"border"),void(t&&"0"!=t||!i.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=r.visual_anchor_class||"mce-item-anchor",t&&i.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&D.remove(e.getElement().nextSibling),e.inline||(V&&V<10&&e.getDoc().execCommand("SelectAll",!1,null),D.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),D.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),t=n.formElement,t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),D.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},L(A.prototype,S),A}),i("tinymce/util/I18n",[],function(){var e={},t="en";return{setCode:function(e){e&&(t=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return t},rtl:!1,add:function(t,n){var i=e[t];i||(e[t]=i={});for(var r in n)i[r]=n[r];this.setCode(t)},translate:function(n){var i;if(i=e[t],i||(i={}),void 0===n)return n;if("string"!=typeof n&&n.raw)return n.raw;if(n.push){var r=n.slice(1);n=(i[n[0]]||n[0]).replace(/\{([0-9]+)\}/g,function(e,t){return r[t]})}return(i[n]||n).replace(/{context:\w+}$/,"")},data:e}}),i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(e,t,n){function i(e){function l(){try{return document.activeElement}catch(e){return document.body}}function c(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function u(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function d(e){return!!s.getParent(e,i.isEditorUIElement)}function f(i){var f=i.editor;f.on("init",function(){(f.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?f.dom.bind(f.getBody(),"beforedeactivate",function(e){if(e.target==f.getBody())try{f.lastRng=f.selection.getRng()}catch(e){}}):f.on("nodechange mouseup keyup",function(e){var t=l();"nodechange"==e.type&&e.selectionChange||(t&&t.id==f.id+"_ifr"&&(t=f.getBody()),f.dom.isChildOf(t,f.getBody())&&(f.lastRng=f.selection.getRng()))}),n.webkit&&!r&&(r=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(f.lastRng=n)}},s.bind(document,"selectionchange",r)))}),f.on("setcontent",function(){f.lastRng=null}),f.on("mousedown",function(){f.selection.lastFocusBookmark=null}),f.on("focusin",function(){var t,n=e.focusedEditor;f.selection.lastFocusBookmark&&(t=u(f,f.selection.lastFocusBookmark),f.selection.lastFocusBookmark=null,f.selection.setRng(t)),n!=f&&(n&&n.fire("blur",{focusedEditor:f}),e.setActive(f),e.focusedEditor=f,f.fire("focus",{blurredEditor:n}),f.focus(!0)),f.lastRng=null}),f.on("focusout",function(){t.setEditorTimeout(f,function(){var t=e.focusedEditor;d(l())||t!=f||(f.fire("blur",{focusedEditor:null}),e.focusedEditor=null,f.selection&&(f.selection.lastFocusBookmark=null))})}),o||(o=function(t){var n,i=e.activeEditor;n=t.target,i&&n.ownerDocument==document&&(i.selection&&n!=i.getBody()&&(i.selection.lastFocusBookmark=c(i.dom,i.lastRng)),n==document.body||d(n)||e.focusedEditor!=i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},s.bind(document,"focusin",o)),f.inline&&!a&&(a=function(t){var n=e.activeEditor,i=n.dom;if(n.inline&&i&&!i.isChildOf(t.target,n.getBody())){var r=n.selection.getRng();r.collapsed||(n.lastRng=r)}},s.bind(document,"mouseup",a))}function m(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(document,"selectionchange",r),s.unbind(document,"focusin",o),s.unbind(document,"mouseup",a),r=o=a=null)}e.on("AddEditor",f),e.on("RemoveEditor",m)}var r,o,a,s=e.DOM;return i.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},i}),i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(e,t,n,i,r,o,a,s,l,c){function u(e){y(p.editors,function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})}function d(e,n){n!==x&&(n?t(window).on("resize scroll",u):t(window).off("resize scroll",u),x=n)}function f(e){var t,n=p.editors;delete n[e.id];for(var i=0;i<n.length;i++)if(n[i]==e){n.splice(i,1),t=!0;break}return p.activeEditor==e&&(p.activeEditor=n[0]),p.focusedEditor==e&&(p.focusedEditor=null),t}function m(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(f(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var h,p,g=n.DOM,v=o.explode,y=o.each,b=o.extend,C=0,x=!1;return p={$:t,majorVersion:"4",minorVersion:"4.2",releaseDate:"2016-08-25",editors:[],i18n:l,activeEditor:null,setup:function(){var e,t,n,r,o=this,a="";if(t=i.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){r=s[l].src;var u=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=u.indexOf(".min")&&(a=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(r=document.currentScript.src,-1!=r.indexOf(".min")&&(a=".min"),e=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new i(t).toAbsolute(e),o.documentBaseURL=t,o.baseURI=new i(o.baseURL),o.suffix=a,o.focusManager=new c(o)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new i(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new i(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e},init:function(n){function i(e,t){return e.inline&&t.tagName.toLowerCase()in h}function r(e,t){window.console&&!window.test&&window.console.log(e,t)}function s(e){var t=e.id;return t||(t=e.name,t=t&&!g.get(t)?e.name:g.uniqueId(),e.setAttribute("id",t)),t}function l(e){var t=n[e];if(t)return t.apply(p,Array.prototype.slice.call(arguments,2))}function c(e,t){return t.constructor===RegExp?t.test(e.className):g.hasClass(e,t)}function u(e){var t,n=[];if(e.types)return y(e.types,function(e){n=n.concat(g.select(e.selector))}),n;if(e.selector)return g.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":t=e.elements||"",t.length>0&&y(v(t),function(e){var t;(t=g.get(e))?n.push(t):y(document.forms,function(t){y(t.elements,function(t){t.name===e&&(e="mce_editor_"+C++,g.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":y(g.select("textarea"),function(t){e.editor_deselector&&c(t,e.editor_deselector)||e.editor_selector&&!c(t,e.editor_selector)||n.push(t)})}return n}function d(){function a(t,n,i){var r=new e(t,n,p);h.push(r),r.on("init",function(){++f===c.length&&x(h)}),r.targetElm=r.targetElm||i,r.render()}var c,f=0,h=[];if(g.unbind(window,"ready",d),l("onpageload"),c=t.unique(u(n)),n.types)return void y(n.types,function(e){o.each(c,function(t){return!g.is(t,e.selector)||(a(s(t),b({},n,e),t),!1)})});o.each(c,function(e){m(p.get(e.id))}),c=o.grep(c,function(e){return!p.get(e.id)}),y(c,function(e){i(n,e)?r("Could not initialize inline editor on invalid inline target element",e):a(s(e),n,e)})}var f,h,p=this;h=o.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var x=function(e){f=e};return p.settings=n,g.bind(window,"ready",d),new a(function(e){f?e(f):x=function(t){e(t)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),d(n,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),h||(h=function(){t.fire("BeforeUnload")},g.bind(window,"beforeunload",h)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t,n,i=this,r=i.editors;{if(e)return"string"==typeof e?(e=e.selector||e,void y(g.select(e),function(e){(n=r[e.id])&&i.remove(n)})):(n=e,r[n.id]?(f(n)&&i.fire("RemoveEditor",{editor:n}),r.length||g.unbind(window,"beforeunload",h),n.remove(),d(r,r.length>0),n):null);for(t=r.length-1;t>=0;t--)i.remove(r[t])}},execCommand:function(t,n,i){var r=this,o=r.get(i);switch(t){case"mceAddEditor":return r.get(i)||new e(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(t,n,i)},triggerSave:function(){y(this.editors,function(e){e.save()})},addI18n:function(e,t){l.add(e,t)},translate:function(e){return l.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},b(p,s),p.setup(),window.tinymce=window.tinyMCE=p,p}),i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var n=t.each,i=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,"span")}function r(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,i){"html4"===t.settings.schema&&e(i,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",r))})})}),i("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(e,t){var n={send:function(e){function i(){!e.async||4==r.readyState||o++>1e4?(e.success&&o<1e4&&200==r.status?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,o>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):setTimeout(i,10)}var r,o=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",n.fire("beforeInitialize",{settings:e}),r=new XMLHttpRequest){if(r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&t.each(e.requestheaders,function(e){r.setRequestHeader(e.key,e.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=n.fire("beforeSend",{xhr:r,settings:e}).xhr,r.send(e.data),!e.async)return i();setTimeout(i,10)}}};return t.extend(n,e),n}),i("tinymce/util/JSON",[],function(){function e(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if("string"==(o=typeof t))return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t))+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(i>0?",":"")+e(t[i],n);return r+"]"}r="{";for(a in t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(r.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(e){}}}}),i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(e,t,n){function i(e){this.settings=r({},e),this.count=0}var r=n.extend;return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(t,r){t=e.parse(t),void 0===t&&(t={error:"JSON Parse error."}),t.error?i.call(n.error_scope||n.scope,t.error,r):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},i}),i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){return{callbacks:{},count:0,send:function(n){var i=this,r=e.DOM,o=n.count!==t?n.count:i.count,a="tinymce_jsonp_"+o;i.callbacks[o]=function(e){r.remove(a),delete i.callbacks[o],n.callback(e)},r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),i("tinymce/util/LocalStorage",[],function(){function e(){a=[];for(var e in o)a.push(e);i.length=a.length}function n(){var t,n="";if(l){for(var i in o)t=o[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+t.length.toString(32)+","+t;r.setAttribute(s,n);try{r.save(s)}catch(e){}e()}}var i,r,o,a,s,l;try{if(window.localStorage)return localStorage}catch(e){}return s="tinymce",r=document.documentElement,l=!!r.addBehavior,l&&r.addBehavior("#default#userData"),i={key:function(e){return a[e]},getItem:function(e){return e in o?o[e]:null},setItem:function(e,t){o[e]=""+t,n()},removeItem:function(e){delete o[e],n()},clear:function(){o={},n()}},function(){function n(e){var n,i;return-1===(i=e!==t?u+e:a.indexOf(",",u))||i>a.length?null:(n=a.substring(u,i),u=i+1,n)}var i,a,c,u=0;if(o={},l){r.load(s),a=r.getAttribute(s)||"";do{var d=n();if(null===d)break;if(null!==(i=n(parseInt(d,32)||0))){if(null===(d=n()))break;c=n(parseInt(d,32)||0),i&&(o[i]=c)}}while(null!==i);e()}}(),i}),i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each(r,function(e,t){a[t]=e}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this,a=o.settings;t=a.firstControlClass,n=a.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(a.controlClass),e.visible()&&(i||(i=e),r=e)}),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),i("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&(e=t.style,e.width=e.height="100%"),this._super()},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text"),a="";return e=t.settings.image,e?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+t.encode(o)+"</span>"),r=t.settings.icon?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){function e(e){var r=n("span."+i,t.getEl());e?(r[0]||(n("button:first",t.getEl()).append('<span class="'+i+'"></span>'),r=n("span."+i,t.getEl())),r.html(t.encode(e))):r.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,i=t.classPrefix+"txt";return t.state.on("change:text",function(t){e(t.value)}),t.state.on("change:icon",function(n){var i=n.value,r=t.classPrefix;t.settings.icon=i,i=i?r+"ico "+r+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,a=o.getElementsByTagName("i")[0];i?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=i):a&&o.removeChild(a),e(t.state.get("text"))}),t._super()}})}),i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",function(e){t.getEl("al").firstChild.data=t.translate(e.value)}),t.state.on("change:checked change:value",function(n){t.fire("change"),e(n.value)}),t.state.on("change:icon",function(e){var n=e.value,i=t.classPrefix;if(void 0===n)return t.settings.icon;t.settings.icon=n,n=n?i+"ico "+i+"i-"+t.settings.icon:"";var r=t.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o==r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)}),t.state.get("checked")&&e(!0),t._super()}})}),i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,t,n,i){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var r=n.target,o=t.getEl();if(i.contains(o,r)||r==o)for(;r&&r!=o;)r.id&&-1!=r.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),r=r.parentNode}),t.on("keydown",function(e){"INPUT"==e.target.nodeName&&13==e.keyCode&&t.parents().reverse().each(function(n){var i=t.state.get("value"),r=t.getEl("inp").value;if(e.preventDefault(),t.state.set("value",r),i!=r&&t.fire("change"),n.hasEventListeners("submit")&&n.toJSON)return n.fire("submit",{data:n.toJSON()}),!1})}),t.on("keyup",function(e){"INPUT"==e.target.nodeName&&t.state.set("value",e.target.value)})},showMenu:function(){var e,n=this,i=n.settings;n.menu||(e=i.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control===n.menu&&n.focus()}),n.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==n.value())})}).fire("show"),n.menu.on("select",function(e){n.value(e.control.value())}),n.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,r=this,o=r.getEl(),a=r.getEl("open"),s=r.layoutRect();e=a?s.w-n.getSize(a).width-10:s.w-10;var l=document;return l.all&&(!l.documentMode||l.documentMode<=8)&&(t=r.layoutRect().h-2+"px"),i(o.firstChild).css({width:e,lineHeight:t}),r._super(),r},postRender:function(){var e=this;return i(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=n.state.get("value")||"",s="",l="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),n.disabled()&&(l+=' disabled="disabled"'),e=r.icon,e&&"caret"!=e&&(e=o+"ico "+o+"i-"+r.icon),t=n.state.get("text"),(e||t)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(r.placeholder)+'" />'+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e._super()},remove:function(){i(this.getEl("inp")).off(),this._super()}})}),i("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl().getElementsByTagName("i")[0];if(t)try{t.style.background=e}catch(e){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}})}),i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,e.panel=new t(i).on("hide",function(){e.active(!1)}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return i&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(i){i.aria&&"down"==i.aria.key||i.control!=e||n.getParent(i.target,"."+e.classPrefix+"open")||(i.stopImmediatePropagation(),t.call(e,i))}),delete e.settings.onclick,e._super()}})}),i("tinymce/util/Color",[],function(){function e(e){function r(e,r,o){var a,s,l,c,u,d;return a=0,s=0,l=0,e/=255,r/=255,o/=255,u=t(e,t(r,o)),d=n(e,n(r,o)),u==d?(l=u,{h:0,s:0,v:100*l}):(c=e==u?r-o:o==u?e-r:o-e,a=e==u?3:o==u?1:5,a=60*(a-c/(d-u)),s=(d-u)/d,l=d,{h:i(a),s:i(100*s),v:i(100*l)})}function o(e,r,o){var a,s,l,c;if(e=(parseInt(e,10)||0)%360,r=parseInt(r,10)/100,o=parseInt(o,10)/100,r=n(0,t(r,1)),o=n(0,t(o,1)),0===r)return void(d=f=m=i(255*o));switch(a=e/60,s=o*r,l=s*(1-Math.abs(a%2-1)),c=o-s,Math.floor(a)){case 0:d=s,f=l,m=0;break;case 1:d=l,f=s,m=0;break;case 2:d=0,f=s,m=l;break;case 3:d=0,f=l,m=s;break;case 4:d=l,f=0,m=s;break;case 5:d=s,f=0,m=l;break;default:d=f=m=0}d=i(255*(d+c)),f=i(255*(f+c)),m=i(255*(m+c))}function a(){function e(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+e(d)+e(f)+e(m)}function s(){return{r:d,g:f,b:m}}function l(){return r(d,f,m)}function c(e){var t;return"object"==typeof e?"r"in e?(d=e.r,f=e.g,m=e.b):"v"in e&&o(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(d=parseInt(t[1],10),f=parseInt(t[2],10),m=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(d=parseInt(t[1],16),f=parseInt(t[2],16),m=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(d=parseInt(t[1]+t[1],16),f=parseInt(t[2]+t[2],16),m=parseInt(t[3]+t[3],16)),d=d<0?0:d>255?255:d,f=f<0?0:f>255?255:f,m=m<0?0:m>255?255:m,u}var u=this,d=0,f=0,m=0;e&&c(e),u.toRgb=s,u.toHsv=l,u.toHex=a,u.parse=c}var t=Math.min,n=Math.max,i=Math.round;return e}),i("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(e,t,n,i){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var i,r,o=n.getPos(e);return i=t.pageX-o.x,r=t.pageY-o.y,i=Math.max(0,Math.min(i/e.clientWidth,1)),r=Math.max(0,Math.min(r/e.clientHeight,1)),{x:i,y:r}}function r(e,t){var r=(360-e.h)/360;n.css(c,{top:100*r+"%"}),t||n.css(d,{left:e.s+"%",top:100-e.v+"%"}),u.style.background=new i({s:100,v:100,h:e.h}).toHex(),f.color().parse({s:e.s,v:e.v,h:e.h})}function o(t){var n;n=e(u,t),s.s=100*n.x,s.v=100*(1-n.y),r(s),f.fire("change")}function a(t){var n;n=e(l,t),s=m.toHsv(),s.h=360*(1-n.y),r(s,!0),f.fire("change")}var s,l,c,u,d,f=this,m=f.color();l=f.getEl("h"),c=f.getEl("hp"),u=f.getEl("sv"),d=f.getEl("svp"),f._repaint=function(){s=m.toHsv(),r(s)},f._super(),f._svdraghelper=new t(f._id+"-sv",{start:o,drag:o}),f._hdraghelper=new t(f._id+"-h",{start:a,drag:a}),f._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;if(!arguments.length)return t.color().toHex();t.color().parse(e),t._rendered&&t._repaint()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+n+'-h" class="'+i+'colorpicker-h" style="background: -ms-linear-gradient(top,'+r+");background: linear-gradient(to bottom,"+r+');">'+function(){var e,t,n,o,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",o=r.split(","),e=0,t=o.length-1;e<t;e++)a+='<div class="'+i+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+o[e]+",endColorstr="+o[e+1]+");-ms-"+n+o[e]+",endColorstr="+o[e+1]+')"></div>';return a}()+'<div id="'+n+'-hp" class="'+i+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+i+'colorpicker-sv"><div class="'+i+'colorpicker-overlay1"><div class="'+i+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+i+'colorpicker-selector1"><div class="'+i+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),i("tinymce/ui/Path",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var t=this
;e.delimiter||(e.delimiter="\xbb"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,i=this,r=e||[],o="",a=i.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(t>0?'<div class="'+a+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t==n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+i._id+"-"+t+'" aria-level="'+t+'">'+r[t].name+"</div>";return o||(o='<div class="'+a+'path-item">\xa0</div>'),o}})}),i("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(i){for(var r=[],o=i.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=n.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||r.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}t.row(r)})),t._super()}})}),i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(e,t,n){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,i=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each(function(i){var r,o=i.settings.label;o&&(r=new t(n.extend({items:{type:"label",id:i._id+"-l",text:o,flex:0,forId:i._id,disabled:i.disabled()}},e.settings.formItemDefaults)),r.type="formitem",i.aria("labelledby",i._id+"-l"),void 0===i.settings.flex&&(i.settings.flex=1),e.replace(i,r),r.add(i))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,i,r=0,o=[];if(!1!==t.settings.labelGapCalc)for(i="children"==t.settings.labelGapCalc?t.find("formitem"):t.items(),i.filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=n>r?n:r,o.push(t)}),n=t.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=r+n}var t=this;t._super(),t.on("show",e),e()}})}),i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(e,t){return e.extend({init:function(e){var n,i,r,o=this,a=tinymce.activeEditor,s=a.settings;e.spellcheck=!1,r=s.file_picker_types||s.file_browser_callback_types,r&&(r=t.makeMap(r,/[, ]/)),r&&!r[e.filetype]||(i=s.file_picker_callback,!i||r&&!r[e.filetype]?!(i=s.file_browser_callback)||r&&!r[e.filetype]||(n=function(){i(o.getEl("inp").id,o.value(),e.filetype,window)}):n=function(){var n=o.fire("beforecall").meta;n=t.extend({filetype:e.filetype},n),i.call(a,function(e,t){o.value(e).fire("change",{meta:t})},o.value(),n)}),n&&(e.icon="browse",e.onaction=n),o._super(e)}})}),i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,m,h,p,g,v,y,b,C,x,w,E,N,S,_,T,k,R,B,A,D,M,P,L,O,H,I,F=[],U=Math.max,z=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"==f?(S="y",E="h",N="minH",_="maxH",k="innerH",T="top",R="deltaH",B="contentH",L="left",M="w",A="x",D="innerW",P="minW",O="right",H="deltaW",I="contentW"):(S="x",E="w",N="minW",_="maxW",k="innerW",T="left",R="deltaW",B="contentW",L="top",M="h",A="y",D="innerH",P="minH",O="bottom",H="deltaH",I="contentH"),d=r[k]-o[T]-o[T],w=u=0,t=0,n=i.length;t<n;t++)m=i[t],h=m.layoutRect(),p=m.settings,g=p.flex,d-=t<n-1?c:0,g>0&&(u+=g,h[_]&&F.push(m),h.flex=g),d-=h[N],(v=o[L]+h[P]+o[O])>w&&(w=v);if(C={},C[N]=d<0?r[N]-d+r[R]:r[k]-d+r[R],C[P]=w+r[H],C[B]=r[k]-d,C[I]=w,C.minW=z(C.minW,r.maxW),C.minH=z(C.minH,r.maxH),C.minW=U(C.minW,r.startMinWidth),C.minH=U(C.minH,r.startMinHeight),!r.autoResize||C.minW==r.minW&&C.minH==r.minH){for(b=d/u,t=0,n=F.length;t<n;t++)m=F[t],h=m.layoutRect(),y=h[_],v=h[N]+h.flex*b,v>y?(d-=h[_]-h[N],u-=h.flex,h.flex=0,h.maxFlexSize=y):h.maxFlexSize=0;for(b=d/u,x=o[T],C={},0===u&&("end"==l?x=d+o[T]:"center"==l?(x=Math.round(r[k]/2-(r[k]-d)/2)+o[T])<0&&(x=o[T]):"justify"==l&&(x=o[T],c=Math.floor(d/(i.length-1)))),C[A]=o[L],t=0,n=i.length;t<n;t++)m=i[t],h=m.layoutRect(),v=h.maxFlexSize||h[N],"center"===s?C[A]=Math.round(r[D]/2-h[M]/2):"stretch"===s?(C[M]=U(h[P]||0,r[D]-o[L]-o[O]),C[A]=o[L]):"end"===s&&(C[A]=r[D]-h[M]-o.top),h.flex>0&&(v+=h.flex*b),C[E]=v,C[S]=x,m.layoutRect(C),m.recalc&&m.recalc(),x+=v+c}else if(C.w=C.minW,C.h=C.minH,e.layoutRect(C),this.recalc(e),null===e._lastRect){var W=e.parent();W&&(W._lastRect=null,W.recalc())}}})}),i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),i("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/dom/DOMUtils","tinymce/EditorManager","tinymce/Env"],function(e,t,n,i,r,o,a){function s(e){e.settings.ui_container&&(a.container=r.DOM.select(e.settings.ui_container)[0])}function l(t){t.on("ScriptsLoaded",function(){t.rtl&&(e.rtl=!0)})}function c(e){function t(t,n){return function(){var i=this;e.on("nodeChange",function(r){var o=e.formatter,a=null;u(r.parents,function(e){if(u(t,function(t){if(n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a)return!1}),a)return!1}),i.value(a)})}}function i(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}function r(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on("init",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}function o(t){return function(){function n(){return!!e.undoManager&&e.undoManager[t]()}var i=this;t="redo"==t?"hasRedo":"hasUndo",i.disabled(!n()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){i.disabled(e.readonly||!n())})}}function a(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function s(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}var l;l=function(){function t(e){var r=[];if(e)return u(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=t(e.items);else{var a=e.format||"custom"+n++;e.format||(e.name=a,i.push(e)),o.format=a,o.cmd=e.cmd}r.push(o)}),r}var n=0,i=[],r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",function(){u(i,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:function(){return t(e.settings.style_formats_merge?e.settings.style_formats?r.concat(e.settings.style_formats):r:e.settings.style_formats||r)}(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,i;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),(i=t.settings.cmd)&&t.active(e.queryCommandState(i))})},onclick:function(){this.settings.format&&s(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}(),u({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:r(n),onclick:function(){s(n)}})}),u({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),u({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:r(n)})}),e.addButton("undo",{tooltip:"Undo",onPostRender:o("undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:o("redo"),cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:o("undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:o("redo"),cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:a,cmd:"mceToggleVisualAid"}),e.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),u({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){n.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:l}),e.addButton("formatselect",function(){var n=[],r=i(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return u(r,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:r[0][0],values:n,fixedWidth:!0,onselect:s,onPostRender:t(n)}}),e.addButton("fontselect",function(){var n=[],r=i(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return u(r,function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:t(n,"fontname"),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var n=[],i=e.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return u(i.split(" "),function(e){var t=e,i=e,r=e.split("=");r.length>1&&(t=r[0],i=r[1]),n.push({text:t,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:n,fixedWidth:!0,onPostRender:t(n,"fontsize"),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:l})}var u=i.each;o.on("AddEditor",function(e){var t=e.editor;l(t),c(t),s(t)}),e.translate=function(e){return o.translate(e)},t.tooltips=!a.iOS}),i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,m,h,p,g,v,y,b,C,x,w,E,N,S,_,T,k,R,B=[],A=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,C=t.alignH||t.align,x=t.alignV||t.align,g=e.paddingBox,k="reverseRows"in t?t.reverseRows:e.isRtl(),C&&"string"==typeof C&&(C=[C]),x&&"string"==typeof x&&(x=[x]);for(d=0;d<i;d++)B.push(0);for(f=0;f<n;f++)A.push(0);for(f=0;f<n;f++)for(d=0;d<i&&(u=r[f*i+d]);d++)c=u.layoutRect(),N=c.minW,S=c.minH,B[d]=N>B[d]?N:B[d],A[f]=S>A[f]?S:A[f];for(_=o.innerW-g.left-g.right,w=0,d=0;d<i;d++)w+=B[d]+(d>0?y:0),_-=(d>0?y:0)+B[d];for(T=o.innerH-g.top-g.bottom,E=0,f=0;f<n;f++)E+=A[f]+(f>0?b:0),T-=(f>0?b:0)+A[f];if(w+=g.left+g.right,E+=g.top+g.bottom,l={},l.minW=w+(o.w-o.innerW),l.minH=E+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){o.autoResize&&(l=e.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var D;D="start"==t.packV?0:T>0?Math.floor(T/n):0;var M=0,P=t.flexWidths;if(P)for(d=0;d<P.length;d++)M+=P[d];else M=i;var L=_/M;for(d=0;d<i;d++)B[d]+=P?P[d]*L:L;for(h=g.top,f=0;f<n;f++){for(m=g.left,s=A[f]+D,d=0;d<i&&(R=k?f*i+i-1-d:f*i+d,u=r[R]);d++)p=u.settings,c=u.layoutRect(),a=Math.max(B[d],c.startMinWidth),c.x=m,c.y=h,v=p.alignH||(C?C[d]||C[0]:null),"center"==v?c.x=m+a/2-c.w/2:"right"==v?c.x=m+a-c.w:"stretch"==v&&(c.w=a),v=p.alignV||(x?x[d]||x[0]:null),"center"==v?c.y=h+s/2-c.h/2:"bottom"==v?c.y=h+s-c.h:"stretch"==v&&(c.h=s),u.layoutRect(c),m+=a+y,u.recalc&&u.recalc();h+=s+b}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var O=e.parent();O&&(O._lastRect=null,O.recalc())}}})}),i("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var i=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,n&&n()):t.setTimeout(function(){i.html(e)}),this}})}),i("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),i("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){t.getSize(e.getEl()).width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,i=n.settings.forId;return!i&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(i=e._id),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),i("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}})}),i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,t,n){function i(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var r=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(){var e,n=this;if(n.menu&&n.menu.visible())return n.hideMenu();n.menu||(e=n.state.get("menu")||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",e.renderTo?n.menu=e.parent(n).show().renderTo():n.menu=t.create(e).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control==n.menu&&n.activeMenu("show"==e.type),n.aria("expanded","show"==e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,i=t._id,r=t.classPrefix,o=t.settings.icon,a=t.state.get("text"),s="";return e=t.settings.image,e?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",a&&(t.classes.add("btn-has-text"),s='<span class="'+r+'txt">'+t.encode(a)+"</span>"),o=t.settings.icon?r+"ico "+r+"i-"+o:"",t.aria("role",t.parent()instanceof n?"menuitem":"button"),'<div id="'+i+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+s+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&i(t.target,e.getEl())&&(e.showMenu(),t.aria&&e.menu.items()[0].focus())}),e.on("mouseenter",function(t){var n,i=t.control,o=e.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(i.focus(),i.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(e,t,n,i){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),t=n.state.get("text"),"-"!==t&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,i=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),i.menu){e=n.menu,e?e.show():(e=i.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),e=n.menu=t.create(e).parent(n).renderTo(),e.reflow(),e.on("cancel",function(t){t.stopPropagation(),n.focus(),e.hide()}),e.on("show hide",function(e){e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(t){t.control===e&&n.classes.remove("selected")}),e.submenu=!0),e._parentMenu=r,e.classes.add("menu-sub");var o=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),o),e.rel=o,o="menu-sub-"+o,e.classes.remove(e._lastRel).add(o),e._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){var e=this,t=e._id,i=e.settings,r=e.classPrefix,o=e.encode(e.state.get("text")),a=e.settings.icon,s="",l=i.shortcut;return a&&e.parent().classes.add("menu-has-icons"),i.image&&(s=" style=\"background-image: url('"+i.image+"')\""),l&&(l=function(e){var t,i,r={};for(r=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(i=r[e[t].toLowerCase()])&&(e[t]=i);return e.join("+")}(l)),a=r+"ico "+r+"i-"+(e.settings.icon||"none"),'<div id="'+t+'" class="'+e.classes+'" tabindex="-1">'+("-"!==o?'<i class="'+a+'"'+s+"></i>\xa0":"")+("-"!==o?'<span id="'+t+'-text" class="'+r+'text">'+o+"</span>":"")+(l?'<div id="'+t+'-shortcut" class="'+r+'menu-shortcut">'+l+"</div>":"")+(i.menu?'<div class="'+r+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var r=e.getEl("text");r&&r.setAttribute("style",n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),i.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),i("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(e,t,n){return function(i,r){var o,a,s=this,l=t.classPrefix;s.show=function(t,c){function u(){o&&(e(i).append('<div class="'+l+"throbber"+(r?" "+l+"throbber-inline":"")+'"></div>'),c&&c())}return s.hide(),o=!0,t?a=n.setTimeout(u,t):u(),s},s.hide=function(){var e=i.lastChild;return n.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,s}}}),i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(e,t,n,i){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,r=n.length;r--;)n[r]=i.extend({},e.itemDefaults,n[r]);t._super(e),t.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function e(){r.throbber&&(r.throbber.hide(),r.throbber=null)}var t,i,r=this;(i=r.settings.itemsFactory)&&(r.throbber||(r.throbber=new n(r.getEl("body"),!0),0===r.items().length?(r.throbber.show(),r.fire("loading")):r.throbber.show(100,function(){r.items().remove(),r.fire("loading")}),r.on("hide close",e)),r.requestTime=t=(new Date).getTime(),r.settings.itemsFactory(function(n){if(0===n.length)return void r.hide();r.requestTime===t&&(r.getEl().style.width="",r.getEl("body").style.width="",e(),r.items().remove(),r.getEl("body").innerHTML="",r.add(n),r.renderNew(),r.fire("loaded"))}))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e._super()}})}),i("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(e,t){return e.extend({init:function(e){function t(n){for(var o=0;o<n.length;o++){if(i=n[o].selected||e.value===n[o].value)return r=r||n[o].text,a.state.set("value",n[o].value),!0;if(n[o].menu&&t(n[o].menu))return!0}}var n,i,r,o,a=this;a._super(e),e=a.settings,a._values=n=e.values,n&&(void 0!==e.value&&t(n),!i&&n.length>0&&(r=n[0].text,a.state.set("value",n[0].value)),a.state.set("menu",n)),a.state.set("text",e.text||r),a.classes.add("listbox"),a.on("select",function(t){var n=t.control;o&&(t.lastControl=o),e.multiple?n.active(!n.active()):a.value(t.control.value()),o=n})},bindStates:function(){function e(e,n){e instanceof t&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}function n(e,t){var i;if(e)for(var r=0;r<e.length;r++){if(e[r].value===t)return e[r];if(e[r].menu&&(i=n(e[r].menu,t)))return i}}var i=this;return i.on("show",function(t){e(t.control,i.value())}),i.state.on("change:value",function(e){var t=n(i.state.get("menu"),e.value);t?i.text(t.text):i.text(i.settings.text)}),i._super()}})}),i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),i("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(e){function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,n=this,i="";return e=t(n._options),n.size&&(i=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+i+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),i("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(e,t,n){function i(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function r(e,t,n){e.setAttribute("aria-"+t,n)}function o(e,t){var i,o,a,s,l,c;"v"==e.settings.orientation?(s="top",a="height",o="h"):(s="left",a="width",o="w"),c=e.getEl("handle"),i=(e.layoutRect()[o]||100)-n.getSize(c)[a],l=i*((t-e._minValue)/(e._maxValue-e._minValue))+"px",c.style[s]=l,c.style.height=e.layoutRect().h+"px",r(c,"valuenow",t),r(c,"valuetext",""+e.settings.previewFilter(t)),r(c,"valuemin",e._minValue),r(c,"valuemax",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,
t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function e(e,t,n){return(n+e)/(t-e)}function r(e,t,n){return n*(t-e)-e}var o,a,s,l,c,u,d=this;o=d._minValue,a=d._maxValue,"v"==d.settings.orientation?(s="screenY",l="top",c="height",u="h"):(s="screenX",l="left",c="width",u="w"),d._super(),function(t,n){function o(o){var a;a=d.value(),a=r(t,n,e(t,n,a)+.05*o),a=i(a,t,n),d.value(a),d.fire("dragstart",{value:a}),d.fire("drag",{value:a}),d.fire("dragend",{value:a})}d.on("keydown",function(e){switch(e.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1)}})}(o,a,d.getEl("handle")),function(e,r,o){var a,f,m,h,p;d._dragHelper=new t(d._id,{handle:d._id+"-handle",start:function(e){a=e[s],f=parseInt(d.getEl("handle").style[l],10),m=(d.layoutRect()[u]||100)-n.getSize(o)[c],d.fire("dragstart",{value:p})},drag:function(t){var n=t[s]-a;h=i(f+n,0,m),o.style[l]=h+"px",p=e+h/m*(r-e),d.value(p),d.tooltip().text(""+d.settings.previewFilter(p)).show().moveRel(o,"bc tc"),d.fire("drag",{value:p})},stop:function(){d.tooltip().hide(),d.fire("dragend",{value:p})}})}(o,a,d.getEl("handle"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){o(e,t.value)}),e._super()}})}),i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})}),i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,t,n){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,i,r=this,o=r.getEl(),a=r.layoutRect();return r._super(),e=o.firstChild,i=o.lastChild,n(e).css({width:a.w-t.getSize(i).width,height:a.h-2}),n(i).css({height:a.h-2}),r},activeMenu:function(e){var t=this;n(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text"),a="";return e=t.settings.image,e?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",o&&(t.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+t.encode(o)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+a+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(r?"\xa0":"")+t._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(e,t,n){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,n=this.getEl("t"+e),n.setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,r){var o=e._id+"-t"+r;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==t.target&&e.activateTab(i)})},initLayoutRect:function(){var e,t,i,r=this;t=n.getSize(r.getEl("head")).width,t=t<0?0:t,i=0,r.items().each(function(e){t=Math.max(t,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH)}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=i,e.layoutRect({x:0,y:0,w:t,h:i})});var o=n.getSize(r.getEl("head")).height;return r.settings.minWidth=t,r.settings.minHeight=i+o,e=r._super(),e.deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,i,r,o=this,a=0;e=o.getEl().style,t=o._layoutRect,r=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),n=o.borderBox,i=n.left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-a+"px",r.h=t.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var e,i,r=this,o=r.settings;return e={id:r._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(t){e[t]=o[t]}),r.disabled()&&(e.disabled="disabled"),o.subtype&&(e.type=o.subtype),i=n.create(o.multiline?"textarea":"input",e),i.value=r.state.get("value"),i.className=r.classes,i.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),i("tinymce/Register",[],function(){var e=this||window,t=function(){return e.tinymce};return"function"==typeof e.define&&(e.define.amd||e.define("ephox/tinymce",[],t)),{}}),function(n){var i,r,a,s,l;for(i=0;i<n.length;i++){r=e,a=n[i],s=a.split(/[.\/]/);for(var c=0;c<s.length-1;++c)r[s[c]]===t&&(r[s[c]]={}),r=r[s[c]];r[s[s.length-1]]=o[a]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(a in o)l[a]=o[a];for(i=0;i<n.length;i++)delete l[n[i]];e.privateModules=l}}(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"])}(this);
"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var o=i(1);o.extend(e,i(7)),o.extend(e,i(24)),o.extend(e,i(60))},function(t,e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n=i(2),s=i(6);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,o){if(e==t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){if(r.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return s.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==o(t[i])&&(t[i]=e)},e.fillIfDefined=function(t,i){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];for(var s in t)void 0!==i[s]&&("object"!==o(i[s])?void 0!==i[s]&&null!==i[s]||void 0===t[s]||!0!==n?t[s]=i[s]:delete t[s]:"object"===o(t[s])&&e.fillIfDefined(t[s],i[s],n))},e.protoExtend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)t[n]=o[n]}return t},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var o=2;o<arguments.length;o++)for(var n=arguments[o],s=0;s<t.length;s++){var r=t[s];n.hasOwnProperty(r)&&(e[r]=n[r])}return e},e.selectiveDeepExtend=function(t,i,o){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s=2;s<arguments.length;s++)for(var r=arguments[s],a=0;a<t.length;a++){var h=t[a];if(r.hasOwnProperty(h))if(o[h]&&o[h].constructor===Object)void 0===i[h]&&(i[h]={}),i[h].constructor===Object?e.deepExtend(i[h],o[h],!1,n):null===o[h]&&void 0!==i[h]&&!0===n?delete i[h]:i[h]=o[h];else{if(Array.isArray(o[h]))throw new TypeError("Arrays are not supported by deepExtend");null===o[h]&&void 0!==i[h]&&!0===n?delete i[h]:i[h]=o[h]}}return i},e.selectiveNotDeepExtend=function(t,i,o){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s in o)if(o.hasOwnProperty(s)&&-1==t.indexOf(s))if(o[s]&&o[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?e.deepExtend(i[s],o[s]):null===o[s]&&void 0!==i[s]&&!0===n?delete i[s]:i[s]=o[s];else if(Array.isArray(o[s])){i[s]=[];for(var r=0;r<o[s].length;r++)i[s].push(o[s][r])}else null===o[s]&&void 0!==i[s]&&!0===n?delete i[s]:i[s]=o[s];return i},e.deepExtend=function(t,i,o,n){for(var s in i)if(i.hasOwnProperty(s)||!0===o)if(i[s]&&i[s].constructor===Object)void 0===t[s]&&(t[s]={}),t[s].constructor===Object?e.deepExtend(t[s],i[s],o):null===i[s]&&void 0!==t[s]&&!0===n?delete t[s]:t[s]=i[s];else if(Array.isArray(i[s])){t[s]=[];for(var r=0;r<i[s].length;r++)t[s].push(i[s][r])}else null===i[s]&&void 0!==t[s]&&!0===n?delete t[s]:t[s]=i[s];return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var o;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(n.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return o=r.exec(t),o?new Date(Number(o[1])):n(t).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return n(t);if(t instanceof Date)return n(t.valueOf());if(n.isMoment(t))return n(t);if(e.isString(t))return o=r.exec(t),n(o?Number(o[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(n.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return o=r.exec(t),o?new Date(Number(o[1])).toISOString():new Date(t).toISOString();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t)){o=r.exec(t);return"/Date("+(o?new Date(Number(o[1])).valueOf():new Date(t).valueOf())+")/"}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var r=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":o(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],o=0;o<t.length;o++)i.push(t[o]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" ");-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" "))},e.removeClassName=function(t,e){var i=t.className.split(" "),o=i.indexOf(e);-1!=o&&(i.splice(o,1),t.className=i.join(" "))},e.forEach=function(t,e){var i,o;if(Array.isArray(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},e.throttle=function(t,e){var i=null,o=!1;return function n(){i?o=!0:(o=!1,t(),i=setTimeout(function(){i=null,o&&n()},e))}},e.addEventListener=function(t,e,i,o){t.addEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,o)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,o){t.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,o)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){t||(t=window.event);var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,o){return e+e+i+i+o+o});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.overrideOpacity=function(t,i){if(-1!=t.indexOf("rgba"))return t;if(-1!=t.indexOf("rgb")){var o=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+o[0]+","+o[1]+","+o[2]+","+i+")"}var o=e.hexToRGB(t);return null==o?t:"rgba("+o.r+","+o.g+","+o.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var o=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(o[0],o[1],o[2])}if(!0===e.isValidHex(t)){var n=e.hexToHSV(t),s={h:n.h,s:.8*n.s,v:Math.min(1,1.02*n.v)},r={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v},a=e.HSVToHex(r.h,r.s,r.v),h=e.HSVToHex(s.h,s.s,s.v);i={background:t,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else i={},i.background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));if(o==n)return{h:0,s:0,v:o};var s=t==o?e-i:i==o?t-e:i-t;return{h:60*((t==o?3:i==o?1:5)-s/(n-o))/360,s:(n-o)/n,v:n}};var a={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),o=i[0].trim(),n=i[1].trim();e[o]=n}}),e},join:function(t){return Object.keys(t).map(function(e){return e+": "+t[e]}).join("; ")}};e.addCssText=function(t,i){var o=a.split(t.style.cssText),n=a.split(i),s=e.extend(o,n);t.style.cssText=a.join(s)},e.removeCssText=function(t,e){var i=a.split(t.style.cssText),o=a.split(e);for(var n in o)o.hasOwnProperty(n)&&delete i[n];t.style.cssText=a.join(i)},e.HSVToRGB=function(t,e,i){var o,n,s,r=Math.floor(6*t),a=6*t-r,h=i*(1-e),d=i*(1-a*e),l=i*(1-(1-a)*e);switch(r%6){case 0:o=i,n=l,s=h;break;case 1:o=d,n=i,s=h;break;case 2:o=h,n=i,s=l;break;case 3:o=h,n=d,s=i;break;case 4:o=l,n=h,s=i;break;case 5:o=i,n=h,s=d}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*s)}},e.HSVToHex=function(t,i,o){var n=e.HSVToRGB(t,i,o);return e.RGBToHex(n.r,n.g,n.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},e.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},e.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},e.selectiveBridgeObject=function(t,i){if("object"==(void 0===i?"undefined":o(i))){for(var n=Object.create(i),s=0;s<t.length;s++)i.hasOwnProperty(t[s])&&"object"==o(i[t[s]])&&(n[t[s]]=e.bridgeObject(i[t[s]]));return n}return null},e.bridgeObject=function(t){if("object"==(void 0===t?"undefined":o(t))){var i=Object.create(t);for(var n in t)t.hasOwnProperty(n)&&"object"==o(t[n])&&(i[n]=e.bridgeObject(t[n]));return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var o=t[i],n=i;n>0&&e(o,t[n-1])<0;n--)t[n]=t[n-1];t[n]=o}return t},e.mergeOptions=function(t,e,i){var o=(!(arguments.length<=3||void 0===arguments[3])&&arguments[3],arguments.length<=4||void 0===arguments[4]?{}:arguments[4]);if(null===e[i])t[i]=Object.create(o[i]);else if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else{void 0===e[i].enabled&&(t[i].enabled=!0);for(var n in e[i])e[i].hasOwnProperty(n)&&(t[i][n]=e[i][n])}},e.binarySearchCustom=function(t,e,i,o){for(var n=0,s=0,r=t.length-1;s<=r&&n<1e4;){var a=Math.floor((s+r)/2),h=t[a],d=void 0===o?h[i]:h[i][o],l=e(d);if(0==l)return a;-1==l?s=a+1:r=a-1,n++}return-1},e.binarySearchValue=function(t,e,i,o,n){for(var s,r,a,h,d=0,l=0,c=t.length-1,n=void 0!=n?n:function(t,e){return t==e?0:t<e?-1:1};l<=c&&d<1e4;){if(h=Math.floor(.5*(c+l)),s=t[Math.max(0,h-1)][i],r=t[h][i],a=t[Math.min(t.length-1,h+1)][i],0==n(r,e))return h;if(n(s,e)<0&&n(r,e)>0)return"before"==o?Math.max(0,h-1):h;if(n(r,e)<0&&n(a,e)>0)return"before"==o?h:Math.min(t.length-1,h+1);n(r,e)<0?l=h+1:c=h-1,d++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(3)},function(t,e,i){(function(t){!function(e,i){t.exports=i()}(0,function(){function e(){return so.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function n(t,e){var i,o=[];for(i=0;i<t.length;++i)o.push(e(t[i],i));return o}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e){for(var i in e)s(e,i)&&(t[i]=e[i]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,i,o){return zt(t,e,i,o,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(t){return null==t._pf&&(t._pf=h()),t._pf}function l(t){if(null==t._isValid){var e=d(t),i=ro.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=a(NaN);return null!=t?r(d(e),t):d(e).userInvalidated=!0,e}function u(t){return void 0===t}function p(t,e){var i,o,n;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=d(e)),u(e._locale)||(t._locale=e._locale),ao.length>0)for(i in ao)o=ao[i],n=e[o],u(n)||(t[o]=n);return t}function f(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===ho&&(ho=!0,e.updateOffset(this),ho=!1)}function m(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function v(t){return t<0?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=v(e)),i}function y(t,e,i){var o,n=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(o=0;o<n;o++)(i&&t[o]!==e[o]||!i&&g(t[o])!==g(e[o]))&&r++;return r+s}function b(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,i){var o=!0;return r(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),o&&(b(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),o=!1),i.apply(this,arguments)},i)}function w(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),lo[t]||(b(i),lo[t]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(t){return"[object Object]"===Object.prototype.toString.call(t)}function O(t){var e,i;for(i in t)e=t[i],x(e)?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function M(t,e){var i,o=r({},t);for(i in e)s(e,i)&&(k(t[i])&&k(e[i])?(o[i]={},r(o[i],t[i]),r(o[i],e[i])):null!=e[i]?o[i]=e[i]:delete o[i]);return o}function D(t){null!=t&&this.set(t)}function S(t){return t?t.toLowerCase().replace("_","-"):t}function C(t){for(var e,i,o,n,s=0;s<t.length;){for(n=S(t[s]).split("-"),e=n.length,i=S(t[s+1]),i=i?i.split("-"):null;e>0;){if(o=T(n.slice(0,e).join("-")))return o;if(i&&i.length>=e&&y(n,i,!0)>=e-1)break;e--}s++}return null}function T(e){var i=null;if(!fo[e]&&void 0!==t&&t&&t.exports)try{i=uo._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),E(i)}catch(t){}return fo[e]}function E(t,e){var i;return t&&(i=u(e)?N(t):P(t,e))&&(uo=i),uo._abbr}function P(t,e){return null!==e?(e.abbr=t,null!=fo[t]?(w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=M(fo[t]._config,e)):null!=e.parentLocale&&(null!=fo[e.parentLocale]?e=M(fo[e.parentLocale]._config,e):w("parentLocaleUndefined","specified parentLocale is not defined yet")),fo[t]=new D(e),E(t),fo[t]):(delete fo[t],null)}function I(t,e){if(null!=e){var i;null!=fo[t]&&(e=M(fo[t]._config,e)),i=new D(e),i.parentLocale=fo[t],fo[t]=i,E(t)}else null!=fo[t]&&(null!=fo[t].parentLocale?fo[t]=fo[t].parentLocale:null!=fo[t]&&delete fo[t]);return fo[t]}function N(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return uo;if(!i(t)){if(e=T(t))return e;t=[t]}return C(t)}function R(){return co(fo)}function z(t,e){var i=t.toLowerCase();mo[i]=mo[i+"s"]=mo[e]=t}function L(t){return"string"==typeof t?mo[t]||mo[t.toLowerCase()]:void 0}function A(t){var e,i,o={};for(i in t)s(t,i)&&(e=L(i))&&(o[e]=t[i]);return o}function B(t,i){return function(o){return null!=o?(j(this,t,o),e.updateOffset(this,i),this):F(this,t)}}function F(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function j(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function H(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=L(t),x(this[t]))return this[t](e);return this}function W(t,e,i){var o=""+Math.abs(t),n=e-o.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+o}function Y(t,e,i,o){var n=o;"string"==typeof o&&(n=function(){return this[o]()}),t&&(bo[t]=n),e&&(bo[e[0]]=function(){return W(n.apply(this,arguments),e[1],e[2])}),i&&(bo[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,i,o=t.match(vo);for(e=0,i=o.length;e<i;e++)bo[o[e]]?o[e]=bo[o[e]]:o[e]=G(o[e]);return function(e){var n,s="";for(n=0;n<i;n++)s+=o[n]instanceof Function?o[n].call(e,t):o[n];return s}}function U(t,e){return t.isValid()?(e=q(e,t.localeData()),yo[e]=yo[e]||V(e),yo[e](t)):t.localeData().invalidDate()}function q(t,e){function i(t){return e.longDateFormat(t)||t}var o=5;for(go.lastIndex=0;o>=0&&go.test(t);)t=t.replace(go,i),go.lastIndex=0,o-=1;return t}function X(t,e,i){Ao[t]=x(e)?e:function(t,o){return t&&i?i:e}}function Z(t,e){return s(Ao,t)?Ao[t](e._strict,e._locale):new RegExp(K(t))}function K(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t,e){var i,o=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(o=function(t,i){i[e]=g(t)}),i=0;i<t.length;i++)Bo[t[i]]=o}function $(t,e){Q(t,function(t,i,o,n){o._w=o._w||{},e(t,o._w,o,n)})}function tt(t,e,i){null!=e&&s(Bo,t)&&Bo[t](e,i._a,i,t)}function et(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function it(t,e){return i(this._months)?this._months[t.month()]:this._months[Xo.test(e)?"format":"standalone"][t.month()]}function ot(t,e){return i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Xo.test(e)?"format":"standalone"][t.month()]}function nt(t,e,i){var o,n,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)s=a([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?(n=po.call(this._shortMonthsParse,r),-1!==n?n:null):(n=po.call(this._longMonthsParse,r),-1!==n?n:null):"MMM"===e?-1!==(n=po.call(this._shortMonthsParse,r))?n:(n=po.call(this._longMonthsParse,r),-1!==n?n:null):-1!==(n=po.call(this._longMonthsParse,r))?n:(n=po.call(this._shortMonthsParse,r),-1!==n?n:null)}function st(t,e,i){var o,n,s;if(this._monthsParseExact)return nt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(n=a([2e3,o]),i&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[o]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[o]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}}function rt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=g(e);else if("number"!=typeof(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),et(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function at(t){return null!=t?(rt(this,t),e.updateOffset(this,!0),this):F(this,"Month")}function ht(){return et(this.year(),this.month())}function dt(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ct.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function lt(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ct.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ct(){function t(t,e){return e.length-t.length}var e,i,o=[],n=[],s=[];for(e=0;e<12;e++)i=a([2e3,e]),o.push(this.monthsShort(i,"")),n.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(o.sort(t),n.sort(t),s.sort(t),e=0;e<12;e++)o[e]=J(o[e]),n[e]=J(n[e]),s[e]=J(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ut(t){var e,i=t._a;return i&&-2===d(t).overflow&&(e=i[jo]<0||i[jo]>11?jo:i[Ho]<1||i[Ho]>et(i[Fo],i[jo])?Ho:i[Wo]<0||i[Wo]>24||24===i[Wo]&&(0!==i[Yo]||0!==i[Go]||0!==i[Vo])?Wo:i[Yo]<0||i[Yo]>59?Yo:i[Go]<0||i[Go]>59?Go:i[Vo]<0||i[Vo]>999?Vo:-1,d(t)._overflowDayOfYear&&(e<Fo||e>Ho)&&(e=Ho),d(t)._overflowWeeks&&-1===e&&(e=Uo),d(t)._overflowWeekday&&-1===e&&(e=qo),d(t).overflow=e),t}function pt(t){var e,i,o,n,s,r,a=t._i,h=$o.exec(a)||tn.exec(a);if(h){for(d(t).iso=!0,e=0,i=on.length;e<i;e++)if(on[e][1].exec(h[1])){n=on[e][0],o=!1!==on[e][2];break}if(null==n)return void(t._isValid=!1);if(h[3]){for(e=0,i=nn.length;e<i;e++)if(nn[e][1].exec(h[3])){s=(h[2]||" ")+nn[e][0];break}if(null==s)return void(t._isValid=!1)}if(!o&&null!=s)return void(t._isValid=!1);if(h[4]){if(!en.exec(h[4]))return void(t._isValid=!1);r="Z"}t._f=n+(s||"")+(r||""),Ct(t)}else t._isValid=!1}function ft(t){var i=sn.exec(t._i);if(null!==i)return void(t._d=new Date(+i[1]));pt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))}function mt(t,e,i,o,n,s,r){var a=new Date(t,e,i,o,n,s,r);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function vt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function gt(t){return yt(t)?366:365}function yt(t){return t%4==0&&t%100!=0||t%400==0}function bt(){return yt(this.year())}function _t(t,e,i){var o=7+e-i;return-(7+vt(t,0,o).getUTCDay()-e)%7+o-1}function wt(t,e,i,o,n){var s,r,a=(7+i-o)%7,h=_t(t,o,n),d=1+7*(e-1)+a+h;return d<=0?(s=t-1,r=gt(s)+d):d>gt(t)?(s=t+1,r=d-gt(t)):(s=t,r=d),{year:s,dayOfYear:r}}function xt(t,e,i){var o,n,s=_t(t.year(),e,i),r=Math.floor((t.dayOfYear()-s-1)/7)+1;return r<1?(n=t.year()-1,o=r+kt(n,e,i)):r>kt(t.year(),e,i)?(o=r-kt(t.year(),e,i),n=t.year()+1):(n=t.year(),o=r),{week:o,year:n}}function kt(t,e,i){var o=_t(t,e,i),n=_t(t+1,e,i);return(gt(t)-o+n)/7}function Ot(t,e,i){return null!=t?t:null!=e?e:i}function Mt(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function Dt(t){var e,i,o,n,s=[];if(!t._d){for(o=Mt(t),t._w&&null==t._a[Ho]&&null==t._a[jo]&&St(t),t._dayOfYear&&(n=Ot(t._a[Fo],o[Fo]),t._dayOfYear>gt(n)&&(d(t)._overflowDayOfYear=!0),i=vt(n,0,t._dayOfYear),t._a[jo]=i.getUTCMonth(),t._a[Ho]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Wo]&&0===t._a[Yo]&&0===t._a[Go]&&0===t._a[Vo]&&(t._nextDay=!0,t._a[Wo]=0),t._d=(t._useUTC?vt:mt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Wo]=24)}}function St(t){var e,i,o,n,s,r,a,h;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,r=4,i=Ot(e.GG,t._a[Fo],xt(Lt(),1,4).year),o=Ot(e.W,1),((n=Ot(e.E,1))<1||n>7)&&(h=!0)):(s=t._locale._week.dow,r=t._locale._week.doy,i=Ot(e.gg,t._a[Fo],xt(Lt(),s,r).year),o=Ot(e.w,1),null!=e.d?((n=e.d)<0||n>6)&&(h=!0):null!=e.e?(n=e.e+s,(e.e<0||e.e>6)&&(h=!0)):n=s),o<1||o>kt(i,s,r)?d(t)._overflowWeeks=!0:null!=h?d(t)._overflowWeekday=!0:(a=wt(i,o,n,s,r),t._a[Fo]=a.year,t._dayOfYear=a.dayOfYear)}function Ct(t){if(t._f===e.ISO_8601)return void pt(t);t._a=[],d(t).empty=!0;var i,o,n,s,r,a=""+t._i,h=a.length,l=0;for(n=q(t._f,t._locale).match(vo)||[],i=0;i<n.length;i++)s=n[i],o=(a.match(Z(s,t))||[])[0],o&&(r=a.substr(0,a.indexOf(o)),r.length>0&&d(t).unusedInput.push(r),a=a.slice(a.indexOf(o)+o.length),l+=o.length),bo[s]?(o?d(t).empty=!1:d(t).unusedTokens.push(s),tt(s,o,t)):t._strict&&!o&&d(t).unusedTokens.push(s);d(t).charsLeftOver=h-l,a.length>0&&d(t).unusedInput.push(a),!0===d(t).bigHour&&t._a[Wo]<=12&&t._a[Wo]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[Wo]=Tt(t._locale,t._a[Wo],t._meridiem),Dt(t),ut(t)}function Tt(t,e,i){var o;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(o=t.isPM(i),o&&e<12&&(e+=12),o||12!==e||(e=0),e):e}function Et(t){var e,i,o,n,s;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)s=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],Ct(e),l(e)&&(s+=d(e).charsLeftOver,s+=10*d(e).unusedTokens.length,d(e).score=s,(null==o||s<o)&&(o=s,i=e));r(t,i||e)}function Pt(t){if(!t._d){var e=A(t._i);t._a=n([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Dt(t)}}function It(t){var e=new f(ut(Nt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Nt(t){var e=t._i,n=t._f;return t._locale=t._locale||N(t._l),null===e||void 0===n&&""===e?c({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new f(ut(e)):(i(n)?Et(t):n?Ct(t):o(e)?t._d=e:Rt(t),l(t)||(t._d=null),t))}function Rt(t){var s=t._i;void 0===s?t._d=new Date(e.now()):o(s)?t._d=new Date(s.valueOf()):"string"==typeof s?ft(t):i(s)?(t._a=n(s.slice(0),function(t){return parseInt(t,10)}),Dt(t)):"object"==typeof s?Pt(t):"number"==typeof s?t._d=new Date(s):e.createFromInputFallback(t)}function zt(t,e,i,o,n){var s={};return"boolean"==typeof i&&(o=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=i,s._i=t,s._f=e,s._strict=o,It(s)}function Lt(t,e,i,o){return zt(t,e,i,o,!1)}function At(t,e){var o,n;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Lt();for(o=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](o)||(o=e[n]);return o}function Bt(){return At("isBefore",[].slice.call(arguments,0))}function Ft(){return At("isAfter",[].slice.call(arguments,0))}function jt(t){var e=A(t),i=e.year||0,o=e.quarter||0,n=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,h=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*h+1e3*a*60*60,this._days=+r+7*s,this._months=+n+3*o+12*i,this._data={},this._locale=N(),this._bubble()}function Ht(t){return t instanceof jt}function Wt(t,e){Y(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+W(~~(t/60),2)+e+W(~~t%60,2)})}function Yt(t,e){var i=(e||"").match(t)||[],o=i[i.length-1]||[],n=(o+"").match(ln)||["-",0,0],s=60*n[1]+g(n[2]);return"+"===n[0]?s:-s}function Gt(t,i){var n,s;return i._isUTC?(n=i.clone(),s=(m(t)||o(t)?t.valueOf():Lt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),e.updateOffset(n,!1),n):Lt(t).local()}function Vt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ut(t,i){var o,n=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Yt(Ro,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&i&&(o=Vt(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),n!==t&&(!i||this._changeInProgress?de(this,oe(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:Vt(this):null!=t?this:NaN}function qt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Xt(t){return this.utcOffset(0,t)}function Zt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Vt(this),"m")),this}function Kt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Yt(No,this._i)),this}function Jt(t){return!!this.isValid()&&(t=t?Lt(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $t(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),t=Nt(t),t._a){var e=t._isUTC?a(t._a):Lt(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function te(){return!!this.isValid()&&!this._isUTC}function ee(){return!!this.isValid()&&this._isUTC}function ie(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function oe(t,e){var i,o,n,r=t,a=null;return Ht(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(a=cn.exec(t))?(i="-"===a[1]?-1:1,r={y:0,d:g(a[Ho])*i,h:g(a[Wo])*i,m:g(a[Yo])*i,s:g(a[Go])*i,ms:g(a[Vo])*i}):(a=un.exec(t))?(i="-"===a[1]?-1:1,r={y:ne(a[2],i),M:ne(a[3],i),w:ne(a[4],i),d:ne(a[5],i),h:ne(a[6],i),m:ne(a[7],i),s:ne(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(n=re(Lt(r.from),Lt(r.to)),r={},r.ms=n.milliseconds,r.M=n.months),o=new jt(r),Ht(t)&&s(t,"_locale")&&(o._locale=t._locale),o}function ne(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function se(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function re(t,e){var i;return t.isValid()&&e.isValid()?(e=Gt(e,t),
t.isBefore(e)?i=se(t,e):(i=se(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ae(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function he(t,e){return function(i,o){var n,s;return null===o||isNaN(+o)||(w(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=o,o=s),i="string"==typeof i?+i:i,n=oe(i,o),de(this,n,t),this}}function de(t,i,o,n){var s=i._milliseconds,r=ae(i._days),a=ae(i._months);t.isValid()&&(n=null==n||n,s&&t._d.setTime(t._d.valueOf()+s*o),r&&j(t,"Date",F(t,"Date")+r*o),a&&rt(t,F(t,"Month")+a*o),n&&e.updateOffset(t,r||a))}function le(t,e){var i=t||Lt(),o=Gt(i,this).startOf("day"),n=this.diff(o,"days",!0),s=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse",r=e&&(x(e[s])?e[s]():e[s]);return this.format(r||this.localeData().calendar(s,this,Lt(i)))}function ce(){return new f(this)}function ue(t,e){var i=m(t)?t:Lt(t);return!(!this.isValid()||!i.isValid())&&(e=L(u(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function pe(t,e){var i=m(t)?t:Lt(t);return!(!this.isValid()||!i.isValid())&&(e=L(u(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function fe(t,e,i,o){return o=o||"()",("("===o[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===o[1]?this.isBefore(e,i):!this.isAfter(e,i))}function me(t,e){var i,o=m(t)?t:Lt(t);return!(!this.isValid()||!o.isValid())&&(e=L(e||"millisecond"),"millisecond"===e?this.valueOf()===o.valueOf():(i=o.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function ve(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ge(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ye(t,e,i){var o,n,s,r;return this.isValid()?(o=Gt(t,this),o.isValid()?(n=6e4*(o.utcOffset()-this.utcOffset()),e=L(e),"year"===e||"month"===e||"quarter"===e?(r=be(this,o),"quarter"===e?r/=3:"year"===e&&(r/=12)):(s=this-o,r="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-n)/864e5:"week"===e?(s-n)/6048e5:s),i?r:v(r)):NaN):NaN}function be(t,e){var i,o,n=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(n,"months");return e-s<0?(i=t.clone().add(n-1,"months"),o=(e-s)/(s-i)):(i=t.clone().add(n+1,"months"),o=(e-s)/(i-s)),-(n+o)||0}function _e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function we(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():U(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function xe(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=U(this,t);return this.localeData().postformat(i)}function ke(t,e){return this.isValid()&&(m(t)&&t.isValid()||Lt(t).isValid())?oe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Oe(t){return this.from(Lt(),t)}function Me(t,e){return this.isValid()&&(m(t)&&t.isValid()||Lt(t).isValid())?oe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function De(t){return this.to(Lt(),t)}function Se(t){var e;return void 0===t?this._locale._abbr:(e=N(t),null!=e&&(this._locale=e),this)}function Ce(){return this._locale}function Te(t){switch(t=L(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ee(t){return void 0===(t=L(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Pe(){return this._d.valueOf()-6e4*(this._offset||0)}function Ie(){return Math.floor(this.valueOf()/1e3)}function Ne(){return this._offset?new Date(this.valueOf()):this._d}function Re(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ze(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Le(){return this.isValid()?this.toISOString():null}function Ae(){return l(this)}function Be(){return r({},d(this))}function Fe(){return d(this).overflow}function je(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function He(t,e){Y(0,[t,t.length],0,e)}function We(t){return Ue.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ye(t){return Ue.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ge(){return kt(this.year(),1,4)}function Ve(){var t=this.localeData()._week;return kt(this.year(),t.dow,t.doy)}function Ue(t,e,i,o,n){var s;return null==t?xt(this,o,n).year:(s=kt(t,o,n),e>s&&(e=s),qe.call(this,t,e,i,o,n))}function qe(t,e,i,o,n){var s=wt(t,e,i,o,n),r=vt(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Xe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ze(t){return xt(t,this._week.dow,this._week.doy).week}function Ke(){return this._week.dow}function Je(){return this._week.doy}function Qe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function $e(t){var e=xt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ti(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function ei(t,e){return i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function ii(t){return this._weekdaysShort[t.day()]}function oi(t){return this._weekdaysMin[t.day()]}function ni(t,e,i){var o,n,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)s=a([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?(n=po.call(this._weekdaysParse,r),-1!==n?n:null):"ddd"===e?(n=po.call(this._shortWeekdaysParse,r),-1!==n?n:null):(n=po.call(this._minWeekdaysParse,r),-1!==n?n:null):"dddd"===e?-1!==(n=po.call(this._weekdaysParse,r))?n:-1!==(n=po.call(this._shortWeekdaysParse,r))?n:(n=po.call(this._minWeekdaysParse,r),-1!==n?n:null):"ddd"===e?-1!==(n=po.call(this._shortWeekdaysParse,r))?n:-1!==(n=po.call(this._weekdaysParse,r))?n:(n=po.call(this._minWeekdaysParse,r),-1!==n?n:null):-1!==(n=po.call(this._minWeekdaysParse,r))?n:-1!==(n=po.call(this._weekdaysParse,r))?n:(n=po.call(this._shortWeekdaysParse,r),-1!==n?n:null)}function si(t,e,i){var o,n,s;if(this._weekdaysParseExact)return ni.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(n=a([2e3,1]).day(o),i&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[o]||(s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[o]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(i&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(i&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!i&&this._weekdaysParse[o].test(t))return o}}function ri(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ti(t,this.localeData()),this.add(t-e,"d")):e}function ai(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function hi(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function di(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ui.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function li(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ui.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function ci(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ui.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function ui(){function t(t,e){return e.length-t.length}var e,i,o,n,s,r=[],h=[],d=[],l=[];for(e=0;e<7;e++)i=a([2e3,1]).day(e),o=this.weekdaysMin(i,""),n=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(o),h.push(n),d.push(s),l.push(o),l.push(n),l.push(s);for(r.sort(t),h.sort(t),d.sort(t),l.sort(t),e=0;e<7;e++)h[e]=J(h[e]),d[e]=J(d[e]),l[e]=J(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function pi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function fi(){return this.hours()%12||12}function mi(){return this.hours()||24}function vi(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function gi(t,e){return e._meridiemParse}function yi(t){return"p"===(t+"").toLowerCase().charAt(0)}function bi(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function _i(t,e){e[Vo]=g(1e3*("0."+t))}function wi(){return this._isUTC?"UTC":""}function xi(){return this._isUTC?"Coordinated Universal Time":""}function ki(t){return Lt(1e3*t)}function Oi(){return Lt.apply(null,arguments).parseZone()}function Mi(t,e,i){var o=this._calendar[t];return x(o)?o.call(e,i):o}function Di(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Si(){return this._invalidDate}function Ci(t){return this._ordinal.replace("%d",t)}function Ti(t){return t}function Ei(t,e,i,o){var n=this._relativeTime[i];return x(n)?n(t,e,i,o):n.replace(/%d/i,t)}function Pi(t,e){var i=this._relativeTime[t>0?"future":"past"];return x(i)?i(e):i.replace(/%s/i,e)}function Ii(t,e,i,o){var n=N(),s=a().set(o,e);return n[i](s,t)}function Ni(t,e,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ii(t,e,i,"month");var o,n=[];for(o=0;o<12;o++)n[o]=Ii(t,o,i,"month");return n}function Ri(t,e,i,o){"boolean"==typeof t?("number"==typeof e&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,"number"==typeof e&&(i=e,e=void 0),e=e||"");var n=N(),s=t?n._week.dow:0;if(null!=i)return Ii(e,(i+s)%7,o,"day");var r,a=[];for(r=0;r<7;r++)a[r]=Ii(e,(r+s)%7,o,"day");return a}function zi(t,e){return Ni(t,e,"months")}function Li(t,e){return Ni(t,e,"monthsShort")}function Ai(t,e,i){return Ri(t,e,i,"weekdays")}function Bi(t,e,i){return Ri(t,e,i,"weekdaysShort")}function Fi(t,e,i){return Ri(t,e,i,"weekdaysMin")}function ji(){var t=this._data;return this._milliseconds=An(this._milliseconds),this._days=An(this._days),this._months=An(this._months),t.milliseconds=An(t.milliseconds),t.seconds=An(t.seconds),t.minutes=An(t.minutes),t.hours=An(t.hours),t.months=An(t.months),t.years=An(t.years),this}function Hi(t,e,i,o){var n=oe(e,i);return t._milliseconds+=o*n._milliseconds,t._days+=o*n._days,t._months+=o*n._months,t._bubble()}function Wi(t,e){return Hi(this,t,e,1)}function Yi(t,e){return Hi(this,t,e,-1)}function Gi(t){return t<0?Math.floor(t):Math.ceil(t)}function Vi(){var t,e,i,o,n,s=this._milliseconds,r=this._days,a=this._months,h=this._data;return s>=0&&r>=0&&a>=0||s<=0&&r<=0&&a<=0||(s+=864e5*Gi(qi(a)+r),r=0,a=0),h.milliseconds=s%1e3,t=v(s/1e3),h.seconds=t%60,e=v(t/60),h.minutes=e%60,i=v(e/60),h.hours=i%24,r+=v(i/24),n=v(Ui(r)),a+=n,r-=Gi(qi(n)),o=v(a/12),a%=12,h.days=r,h.months=a,h.years=o,this}function Ui(t){return 4800*t/146097}function qi(t){return 146097*t/4800}function Xi(t){var e,i,o=this._milliseconds;if("month"===(t=L(t))||"year"===t)return e=this._days+o/864e5,i=this._months+Ui(e),"month"===t?i:i/12;switch(e=this._days+Math.round(qi(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}}function Zi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Ki(t){return function(){return this.as(t)}}function Ji(t){return t=L(t),this[t+"s"]()}function Qi(t){return function(){return this._data[t]}}function $i(){return v(this.days()/7)}function to(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}function eo(t,e,i){var o=oe(t).abs(),n=$n(o.as("s")),s=$n(o.as("m")),r=$n(o.as("h")),a=$n(o.as("d")),h=$n(o.as("M")),d=$n(o.as("y")),l=n<ts.s&&["s",n]||s<=1&&["m"]||s<ts.m&&["mm",s]||r<=1&&["h"]||r<ts.h&&["hh",r]||a<=1&&["d"]||a<ts.d&&["dd",a]||h<=1&&["M"]||h<ts.M&&["MM",h]||d<=1&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=i,to.apply(null,l)}function io(t,e){return void 0!==ts[t]&&(void 0===e?ts[t]:(ts[t]=e,!0))}function oo(t){var e=this.localeData(),i=eo(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function no(){var t,e,i,o=es(this._milliseconds)/1e3,n=es(this._days),s=es(this._months);t=v(o/60),e=v(t/60),o%=60,t%=60,i=v(s/12),s%=12;var r=i,a=s,h=n,d=e,l=t,c=o,u=this.asSeconds();return u?(u<0?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(h?h+"D":"")+(d||l||c?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(c?c+"S":""):"P0D"}var so,ro;ro=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,o=0;o<i;o++)if(o in e&&t.call(this,e[o],o,e))return!0;return!1};var ao=e.momentProperties=[],ho=!1,lo={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var co;co=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)s(t,e)&&i.push(e);return i};var uo,po,fo={},mo={},vo=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,go=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yo={},bo={},_o=/\d/,wo=/\d\d/,xo=/\d{3}/,ko=/\d{4}/,Oo=/[+-]?\d{6}/,Mo=/\d\d?/,Do=/\d\d\d\d?/,So=/\d\d\d\d\d\d?/,Co=/\d{1,3}/,To=/\d{1,4}/,Eo=/[+-]?\d{1,6}/,Po=/\d+/,Io=/[+-]?\d+/,No=/Z|[+-]\d\d:?\d\d/gi,Ro=/Z|[+-]\d\d(?::?\d\d)?/gi,zo=/[+-]?\d+(\.\d{1,3})?/,Lo=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ao={},Bo={},Fo=0,jo=1,Ho=2,Wo=3,Yo=4,Go=5,Vo=6,Uo=7,qo=8;po=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),z("month","M"),X("M",Mo),X("MM",Mo,wo),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),Q(["M","MM"],function(t,e){e[jo]=g(t)-1}),Q(["MMM","MMMM"],function(t,e,i,o){var n=i._locale.monthsParse(t,o,i._strict);null!=n?e[jo]=n:d(i).invalidMonth=t});var Xo=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Zo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ko="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Jo=Lo,Qo=Lo,$o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,en=/Z|[+-]\d\d(?::?\d\d)?/,on=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],nn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],sn=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),z("year","y"),X("Y",Io),X("YY",Mo,wo),X("YYYY",To,ko),X("YYYYY",Eo,Oo),X("YYYYYY",Eo,Oo),Q(["YYYYY","YYYYYY"],Fo),Q("YYYY",function(t,i){i[Fo]=2===t.length?e.parseTwoDigitYear(t):g(t)}),Q("YY",function(t,i){i[Fo]=e.parseTwoDigitYear(t)}),Q("Y",function(t,e){e[Fo]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var rn=B("FullYear",!0);e.ISO_8601=function(){};var an=_("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Lt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:c()}),hn=_("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Lt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:c()}),dn=function(){return Date.now?Date.now():+new Date};Wt("Z",":"),Wt("ZZ",""),X("Z",Ro),X("ZZ",Ro),Q(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Yt(Ro,t)});var ln=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var cn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,un=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;oe.fn=jt.prototype;var pn=he(1,"add"),fn=he(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var mn=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),He("gggg","weekYear"),He("ggggg","weekYear"),He("GGGG","isoWeekYear"),He("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),X("G",Io),X("g",Io),X("GG",Mo,wo),X("gg",Mo,wo),X("GGGG",To,ko),X("gggg",To,ko),X("GGGGG",Eo,Oo),X("ggggg",Eo,Oo),$(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=g(t)}),$(["gg","GG"],function(t,i,o,n){i[n]=e.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),z("quarter","Q"),X("Q",_o),Q("Q",function(t,e){e[jo]=3*(g(t)-1)}),Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),X("w",Mo),X("ww",Mo,wo),X("W",Mo),X("WW",Mo,wo),$(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=g(t)});var vn={dow:0,doy:6};Y("D",["DD",2],"Do","date"),z("date","D"),X("D",Mo),X("DD",Mo,wo),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Q(["D","DD"],Ho),Q("Do",function(t,e){e[Ho]=g(t.match(Mo)[0],10)});var gn=B("Date",!0);Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),X("d",Mo),X("e",Mo),X("E",Mo),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),$(["dd","ddd","dddd"],function(t,e,i,o){var n=i._locale.weekdaysParse(t,o,i._strict);null!=n?e.d=n:d(i).invalidWeekday=t}),$(["d","e","E"],function(t,e,i,o){e[o]=g(t)});var yn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_n="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wn=Lo,xn=Lo,kn=Lo;Y("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),X("DDD",Co),X("DDDD",xo),Q(["DDD","DDDD"],function(t,e,i){i._dayOfYear=g(t)}),Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,fi),Y("k",["kk",2],0,mi),Y("hmm",0,0,function(){return""+fi.apply(this)+W(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+fi.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),vi("a",!0),vi("A",!1),z("hour","h"),X("a",gi),X("A",gi),X("H",Mo),X("h",Mo),X("HH",Mo,wo),X("hh",Mo,wo),X("hmm",Do),X("hmmss",So),X("Hmm",Do),X("Hmmss",So),Q(["H","HH"],Wo),Q(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),Q(["h","hh"],function(t,e,i){e[Wo]=g(t),d(i).bigHour=!0}),Q("hmm",function(t,e,i){var o=t.length-2;e[Wo]=g(t.substr(0,o)),e[Yo]=g(t.substr(o)),d(i).bigHour=!0}),Q("hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[Wo]=g(t.substr(0,o)),e[Yo]=g(t.substr(o,2)),e[Go]=g(t.substr(n)),d(i).bigHour=!0}),Q("Hmm",function(t,e,i){var o=t.length-2;e[Wo]=g(t.substr(0,o)),e[Yo]=g(t.substr(o))}),Q("Hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[Wo]=g(t.substr(0,o)),e[Yo]=g(t.substr(o,2)),e[Go]=g(t.substr(n))});var On=/[ap]\.?m?\.?/i,Mn=B("Hours",!0);Y("m",["mm",2],0,"minute"),z("minute","m"),X("m",Mo),X("mm",Mo,wo),Q(["m","mm"],Yo);var Dn=B("Minutes",!1);Y("s",["ss",2],0,"second"),z("second","s"),X("s",Mo),X("ss",Mo,wo),Q(["s","ss"],Go);var Sn=B("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),X("S",Co,_o),X("SS",Co,wo),X("SSS",Co,xo);var Cn;for(Cn="SSSS";Cn.length<=9;Cn+="S")X(Cn,Po);for(Cn="S";Cn.length<=9;Cn+="S")Q(Cn,_i);var Tn=B("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var En=f.prototype;En.add=pn,En.calendar=le,En.clone=ce,En.diff=ye,En.endOf=Ee,En.format=xe,En.from=ke,En.fromNow=Oe,En.to=Me,En.toNow=De,En.get=H,En.invalidAt=Fe,En.isAfter=ue,En.isBefore=pe,En.isBetween=fe,En.isSame=me,En.isSameOrAfter=ve,En.isSameOrBefore=ge,En.isValid=Ae,En.lang=mn,En.locale=Se,En.localeData=Ce,En.max=hn,En.min=an,En.parsingFlags=Be,En.set=H,En.startOf=Te,En.subtract=fn,En.toArray=Re,En.toObject=ze,En.toDate=Ne,En.toISOString=we,En.toJSON=Le,En.toString=_e,En.unix=Ie,En.valueOf=Pe,En.creationData=je,En.year=rn,En.isLeapYear=bt,En.weekYear=We,En.isoWeekYear=Ye,En.quarter=En.quarters=Xe,En.month=at,En.daysInMonth=ht,En.week=En.weeks=Qe,En.isoWeek=En.isoWeeks=$e,En.weeksInYear=Ve,En.isoWeeksInYear=Ge,En.date=gn,En.day=En.days=ri,En.weekday=ai,En.isoWeekday=hi,En.dayOfYear=pi,En.hour=En.hours=Mn,En.minute=En.minutes=Dn,En.second=En.seconds=Sn,En.millisecond=En.milliseconds=Tn,En.utcOffset=Ut,En.utc=Xt,En.local=Zt,En.parseZone=Kt,En.hasAlignedHourOffset=Jt,En.isDST=Qt,En.isDSTShifted=$t,En.isLocal=te,En.isUtcOffset=ee,En.isUtc=ie,En.isUTC=ie,En.zoneAbbr=wi,En.zoneName=xi,En.dates=_("dates accessor is deprecated. Use date instead.",gn),En.months=_("months accessor is deprecated. Use month instead",at),En.years=_("years accessor is deprecated. Use year instead",rn),En.zone=_("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",qt);var Pn=En,In={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Nn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rn=/\d{1,2}/,zn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ln=D.prototype;Ln._calendar=In,Ln.calendar=Mi,Ln._longDateFormat=Nn,Ln.longDateFormat=Di,Ln._invalidDate="Invalid date",Ln.invalidDate=Si,Ln._ordinal="%d",Ln.ordinal=Ci,Ln._ordinalParse=Rn,Ln.preparse=Ti,Ln.postformat=Ti,Ln._relativeTime=zn,Ln.relativeTime=Ei,Ln.pastFuture=Pi,Ln.set=O,Ln.months=it,Ln._months=Zo,Ln.monthsShort=ot,Ln._monthsShort=Ko,Ln.monthsParse=st,Ln._monthsRegex=Qo,Ln.monthsRegex=lt,Ln._monthsShortRegex=Jo,Ln.monthsShortRegex=dt,Ln.week=Ze,Ln._week=vn,Ln.firstDayOfYear=Je,Ln.firstDayOfWeek=Ke,Ln.weekdays=ei,Ln._weekdays=yn,Ln.weekdaysMin=oi,Ln._weekdaysMin=_n,Ln.weekdaysShort=ii,Ln._weekdaysShort=bn,Ln.weekdaysParse=si,Ln._weekdaysRegex=wn,Ln.weekdaysRegex=di,Ln._weekdaysShortRegex=xn,Ln.weekdaysShortRegex=li,Ln._weekdaysMinRegex=kn,Ln.weekdaysMinRegex=ci,Ln.isPM=yi,Ln._meridiemParse=On,Ln.meridiem=bi,E("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",E),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",N);var An=Math.abs,Bn=Ki("ms"),Fn=Ki("s"),jn=Ki("m"),Hn=Ki("h"),Wn=Ki("d"),Yn=Ki("w"),Gn=Ki("M"),Vn=Ki("y"),Un=Qi("milliseconds"),qn=Qi("seconds"),Xn=Qi("minutes"),Zn=Qi("hours"),Kn=Qi("days"),Jn=Qi("months"),Qn=Qi("years"),$n=Math.round,ts={s:45,m:45,h:22,d:26,M:11},es=Math.abs,is=jt.prototype;return is.abs=ji,is.add=Wi,is.subtract=Yi,is.as=Xi,is.asMilliseconds=Bn,is.asSeconds=Fn,is.asMinutes=jn,is.asHours=Hn,is.asDays=Wn,is.asWeeks=Yn,is.asMonths=Gn,is.asYears=Vn,is.valueOf=Zi,is._bubble=Vi,is.get=Ji,is.milliseconds=Un,is.seconds=qn,is.minutes=Xn,is.hours=Zn,is.days=Kn,is.weeks=$i,is.months=Jn,is.years=Qn,is.humanize=oo,is.toISOString=no,is.toString=no,is.toJSON=no,is.locale=Se,is.localeData=Ce,is.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",no),is.lang=mn,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),X("x",Io),X("X",zo),Q("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),Q("x",function(t,e,i){i._d=new Date(g(t))}),e.version="2.13.0",function(t){so=t}(Lt),e.fn=Pn,e.min=Bt,e.max=Ft,e.now=dn,e.utc=a,e.unix=ki,e.months=zi,e.isDate=o,e.locale=E,e.invalid=c,e.duration=oe,e.isMoment=m,e.weekdays=Ai,e.parseZone=Oi,e.localeData=N,e.isDuration=Ht,e.monthsShort=Li,e.weekdaysMin=Fi,e.defineLocale=P,e.updateLocale=I,e.locales=R,e.weekdaysShort=Bi,e.normalizeUnits=L,e.relativeTimeThreshold=io,e.prototype=Pn,e})}).call(e,i(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=5},function(t,e){(function(e){function i(t,e,i){var o=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[o+n++]=c[t])});n<16;)e[o+n++]=0;return e}function o(t,e){var i=e||0,o=l;return o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]}function n(t,e,i){var n=e&&i||0,s=e||[];t=t||{};var r=void 0!==t.clockseq?t.clockseq:m,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:g+1,d=a-v+(h-g)/1e4;if(d<0&&void 0===t.clockseq&&(r=r+1&16383),(d<0||a>v)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=a,g=h,m=r,a+=122192928e5;var l=(1e4*(268435455&a)+h)%4294967296;s[n++]=l>>>24&255,s[n++]=l>>>16&255,s[n++]=l>>>8&255,s[n++]=255&l;var c=a/4294967296*1e4&268435455;s[n++]=c>>>8&255,s[n++]=255&c,s[n++]=c>>>24&15|16,s[n++]=c>>>16&255,s[n++]=r>>>8|128,s[n++]=255&r;for(var u=t.node||f,p=0;p<6;p++)s[n+p]=u[p];return e||o(s)}function s(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;a++)e[n+a]=s[a];return e||o(s)}var r,a="undefined"!=typeof window?window:void 0!==e?e:null;if(a&&a.crypto&&crypto.getRandomValues){var h=new Uint8Array(16);r=function(){return crypto.getRandomValues(h),h}}if(!r){var d=new Array(16);r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),d[e]=t>>>((3&e)<<3)&255;return d}}for(var l=[],c={},u=0;u<256;u++)l[u]=(u+256).toString(16).substr(1),c[l[u]]=u;var p=r(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],m=16383&(p[6]<<8|p[7]),v=0,g=0,y=s;y.v1=n,y.v4=s,y.parse=i,y.unparse=o,t.exports=y}).call(e,function(){return this}())},function(t,e,i){e.util=i(1),e.DOMutil=i(8),e.DataSet=i(9),e.DataView=i(11),e.Queue=i(10),e.Graph3d=i(12),e.graph3d={Camera:i(16),Filter:i(17),Point2d:i(15),Point3d:i(14),Slider:i(18),StepNumber:i(19)},e.moment=i(2),e.Hammer=i(20),e.keycharm=i(23)},function(t,e){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(o)):(o=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(o)),e[t].used.push(o),o},e.getDOMElement=function(t,e,i,o){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElement(t),void 0!==o?i.insertBefore(n,o):i.appendChild(n)):(n=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==o?i.insertBefore(n,o):i.appendChild(n)),e[t].used.push(n),n},e.drawPoint=function(t,i,o,n,s,r){var a;if("circle"==o.style?(a=e.getSVGElement("circle",n,s),a.setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*o.size)):(a=e.getSVGElement("rect",n,s),a.setAttributeNS(null,"x",t-.5*o.size),a.setAttributeNS(null,"y",i-.5*o.size),a.setAttributeNS(null,"width",o.size),a.setAttributeNS(null,"height",o.size)),void 0!==o.styles&&a.setAttributeNS(null,"style",o.styles),a.setAttributeNS(null,"class",o.className+" vis-point"),r){var h=e.getSVGElement("text",n,s);r.xOffset&&(t+=r.xOffset),r.yOffset&&(i+=r.yOffset),r.content&&(h.textContent=r.content),
r.className&&h.setAttributeNS(null,"class",r.className+" vis-label"),h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,o,n,s,r,a,h){if(0!=n){n<0&&(n*=-1,i-=n);var d=e.getSVGElement("rect",r,a);d.setAttributeNS(null,"x",t-.5*o),d.setAttributeNS(null,"y",i),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",n),d.setAttributeNS(null,"class",s),h&&d.setAttributeNS(null,"style",h)}}},function(t,e,i){function o(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=Object.keys(this._options.type),o=0,n=i.length;o<n;o++){var s=i[o],r=this._options.type[s];this._type[s]="Date"==r||"ISODate"==r||"ASPDate"==r?"Date":r}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},t&&this.add(t),this.setOptions(e)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(10);o.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=r.extend(this,{replace:["add","update","remove"]})),"object"===n(t.queue)&&this._queue.setOptions(t.queue)))},o.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},o.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},o.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},o.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},o.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t])),"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var n=0,s=o.length;n<s;n++){var r=o[n];r.callback&&r.callback(t,e,i||null)}},o.prototype.add=function(t,e){var i,o=[],n=this;if(Array.isArray(t))for(var s=0,r=t.length;s<r;s++)i=n._addItem(t[s]),o.push(i);else{if(!(t instanceof Object))throw new Error("Unknown dataType");i=n._addItem(t),o.push(i)}return o.length&&this._trigger("add",{items:o},e),o},o.prototype.update=function(t,e){var i=[],o=[],n=[],r=[],a=this,h=a._fieldId,d=function(t){var e=t[h];if(a._data[e]){var d=s.extend({},a._data[e]);e=a._updateItem(t),o.push(e),r.push(t),n.push(d)}else e=a._addItem(t),i.push(e)};if(Array.isArray(t))for(var l=0,c=t.length;l<c;l++)t[l]instanceof Object?d(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!(t instanceof Object))throw new Error("Unknown dataType");d(t)}if(i.length&&this._trigger("add",{items:i},e),o.length){var u={items:o,oldData:n,data:r};this._trigger("update",u,e)}return i.concat(o)},o.prototype.get=function(t){var e,i,o,n=this,r=s.getType(arguments[0]);"String"==r||"Number"==r?(e=arguments[0],o=arguments[1]):"Array"==r?(i=arguments[0],o=arguments[1]):o=arguments[0];var a;if(o&&o.returnType){a=-1==["Array","Object"].indexOf(o.returnType)?"Array":o.returnType}else a="Array";var h,d,l,c,u,p=o&&o.type||this._options.type,f=o&&o.filter,m=[];if(void 0!=e)(h=n._getItem(e,p))&&f&&!f(h)&&(h=null);else if(void 0!=i)for(c=0,u=i.length;c<u;c++)h=n._getItem(i[c],p),f&&!f(h)||m.push(h);else for(d=Object.keys(this._data),c=0,u=d.length;c<u;c++)l=d[c],h=n._getItem(l,p),f&&!f(h)||m.push(h);if(o&&o.order&&void 0==e&&this._sort(m,o.order),o&&o.fields){var v=o.fields;if(void 0!=e)h=this._filterFields(h,v);else for(c=0,u=m.length;c<u;c++)m[c]=this._filterFields(m[c],v)}if("Object"==a){var g,y={};for(c=0,u=m.length;c<u;c++)g=m[c],y[g.id]=g;return y}return void 0!=e?h:m},o.prototype.getIds=function(t){var e,i,o,n,s,r=this._data,a=t&&t.filter,h=t&&t.order,d=t&&t.type||this._options.type,l=Object.keys(r),c=[];if(a)if(h){for(s=[],e=0,i=l.length;e<i;e++)o=l[e],n=this._getItem(o,d),a(n)&&s.push(n);for(this._sort(s,h),e=0,i=s.length;e<i;e++)c.push(s[e][this._fieldId])}else for(e=0,i=l.length;e<i;e++)o=l[e],n=this._getItem(o,d),a(n)&&c.push(n[this._fieldId]);else if(h){for(s=[],e=0,i=l.length;e<i;e++)o=l[e],s.push(r[o]);for(this._sort(s,h),e=0,i=s.length;e<i;e++)c.push(s[e][this._fieldId])}else for(e=0,i=l.length;e<i;e++)o=l[e],n=r[o],c.push(n[this._fieldId]);return c},o.prototype.getDataSet=function(){return this},o.prototype.forEach=function(t,e){var i,o,n,s,r=e&&e.filter,a=e&&e.type||this._options.type,h=this._data,d=Object.keys(h);if(e&&e.order){var l=this.get(e);for(i=0,o=l.length;i<o;i++)n=l[i],s=n[this._fieldId],t(n,s)}else for(i=0,o=d.length;i<o;i++)s=d[i],n=this._getItem(s,a),r&&!r(n)||t(n,s)},o.prototype.map=function(t,e){var i,o,n,s,r=e&&e.filter,a=e&&e.type||this._options.type,h=[],d=this._data,l=Object.keys(d);for(i=0,o=l.length;i<o;i++)n=l[i],s=this._getItem(n,a),r&&!r(s)||h.push(t(s,n));return e&&e.order&&this._sort(h,e.order),h},o.prototype._filterFields=function(t,e){if(!t)return t;var i,o,n={},s=Object.keys(t),r=s.length;if(Array.isArray(e))for(i=0;i<r;i++)o=s[i],-1!=e.indexOf(o)&&(n[o]=t[o]);else for(i=0;i<r;i++)o=s[i],e.hasOwnProperty(o)&&(n[e[o]]=t[o]);return n},o.prototype._sort=function(t,e){if(s.isString(e)){var i=e;t.sort(function(t,e){var o=t[i],n=e[i];return o>n?1:o<n?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},o.prototype.remove=function(t,e){var i,o,n,s=[];if(Array.isArray(t))for(i=0,o=t.length;i<o;i++)null!=(n=this._remove(t[i]))&&s.push(n);else null!=(n=this._remove(t))&&s.push(n);return s.length&&this._trigger("remove",{items:s},e),s},o.prototype._remove=function(t){if(s.isNumber(t)||s.isString(t)){if(this._data[t])return delete this._data[t],this.length--,t}else if(t instanceof Object){var e=t[this._fieldId];if(void 0!==e&&this._data[e])return delete this._data[e],this.length--,e}return null},o.prototype.clear=function(t){var e=Object.keys(this._data);return this._data={},this.length=0,this._trigger("remove",{items:e},t),e},o.prototype.max=function(t){var e,i,o=this._data,n=Object.keys(o),s=null,r=null;for(e=0,i=n.length;e<i;e++){var a=n[e],h=o[a],d=h[t];null!=d&&(!s||d>r)&&(s=h,r=d)}return s},o.prototype.min=function(t){var e,i,o=this._data,n=Object.keys(o),s=null,r=null;for(e=0,i=n.length;e<i;e++){var a=n[e],h=o[a],d=h[t];null!=d&&(!s||d<r)&&(s=h,r=d)}return s},o.prototype.distinct=function(t){var e,i,o,n=this._data,r=Object.keys(n),a=[],h=this._options.type&&this._options.type[t]||null,d=0;for(e=0,o=r.length;e<o;e++){var l=r[e],c=n[l],u=c[t],p=!1;for(i=0;i<d;i++)if(a[i]==u){p=!0;break}p||void 0===u||(a[d]=u,d++)}if(h)for(e=0,o=a.length;e<o;e++)a[e]=s.convert(a[e],h);return a},o.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=s.randomUUID(),t[this._fieldId]=e;var i,o,n={},r=Object.keys(t);for(i=0,o=r.length;i<o;i++){var a=r[i],h=this._type[a];n[a]=s.convert(t[a],h)}return this._data[e]=n,this.length++,e},o.prototype._getItem=function(t,e){var i,o,n,r,a=this._data[t];if(!a)return null;var h={},d=Object.keys(a);if(e)for(n=0,r=d.length;n<r;n++)i=d[n],o=a[i],h[i]=s.convert(o,e[i]);else for(n=0,r=d.length;n<r;n++)i=d[n],o=a[i],h[i]=o;return h},o.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=Object.keys(t),n=0,r=o.length;n<r;n++){var a=o[n],h=this._type[a];i[a]=s.convert(t[a],h)}return e},t.exports=o},function(t,e){function i(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}i.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},i.extend=function(t,e){var o=new i(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){o.flush()};var n=[{name:"flush",original:void 0}];if(e&&e.replace)for(var s=0;s<e.replace.length;s++){var r=e.replace[s];n.push({name:r,original:t[r]}),o.replace(t,r)}return o._extended={object:t,methods:n},o},i.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}},i.prototype.replace=function(t,e){var i=this,o=t[e];if(!o)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:o,context:this})}},i.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},i.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},i.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=i},function(t,e,i){function o(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var n=i(1),s=i(9);o.prototype.setData=function(t){var e,i,o,n;if(this._data&&(this._data.off&&this._data.off("*",this.listener),e=Object.keys(this._ids),this._ids={},this.length=0,this._trigger("remove",{items:e})),this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),o=0,n=e.length;o<n;o++)i=e[o],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},o.prototype.refresh=function(){var t,e,i,o=this._data.getIds({filter:this._options&&this._options.filter}),n=Object.keys(this._ids),s={},r=[],a=[];for(e=0,i=o.length;e<i;e++)t=o[e],s[t]=!0,this._ids[t]||(r.push(t),this._ids[t]=!0);for(e=0,i=n.length;e<i;e++)t=n[e],s[t]||(a.push(t),delete this._ids[t]);this.length+=r.length-a.length,r.length&&this._trigger("add",{items:r}),a.length&&this._trigger("remove",{items:a})},o.prototype.get=function(t){var e,i,o,s=this,r=n.getType(arguments[0]);"String"==r||"Number"==r||"Array"==r?(e=arguments[0],i=arguments[1],o=arguments[2]):(i=arguments[0],o=arguments[1]);var a=n.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return s._options.filter(t)&&i.filter(t)});var h=[];return void 0!=e&&h.push(e),h.push(a),h.push(o),this._data&&this._data.get.apply(this._data,h)},o.prototype.getIds=function(t){var e;if(this._data){var i,o=this._options.filter;i=t&&t.filter?o?function(e){return o(e)&&t.filter(e)}:t.filter:o,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},o.prototype.map=function(t,e){var i=[];if(this._data){var o,n=this._options.filter;o=e&&e.filter?n?function(t){return n(t)&&e.filter(t)}:e.filter:n,i=this._data.map(t,{filter:o,order:e&&e.order})}else i=[];return i},o.prototype.getDataSet=function(){for(var t=this;t instanceof o;)t=t._data;return t||null},o.prototype._onEvent=function(t,e,i){var o,n,s,r,a=e&&e.items,h=this._data,d=[],l=[],c=[],u=[];if(a&&h){switch(t){case"add":for(o=0,n=a.length;o<n;o++)s=a[o],(r=this.get(s))&&(this._ids[s]=!0,l.push(s));break;case"update":for(o=0,n=a.length;o<n;o++)s=a[o],r=this.get(s),r?this._ids[s]?(c.push(s),d.push(e.data[o])):(this._ids[s]=!0,l.push(s)):this._ids[s]&&(delete this._ids[s],u.push(s));break;case"remove":for(o=0,n=a.length;o<n;o++)s=a[o],this._ids[s]&&(delete this._ids[s],u.push(s))}this.length+=l.length-u.length,l.length&&this._trigger("add",{items:l},i),c.length&&this._trigger("update",{items:c,data:d},i),u.length&&this._trigger("remove",{items:u},i)}},o.prototype.on=s.prototype.on,o.prototype.off=s.prototype.off,o.prototype._trigger=s.prototype._trigger,o.prototype.subscribe=o.prototype.on,o.prototype.unsubscribe=o.prototype.off,t.exports=o},function(t,e,i){function o(t,e,i){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var n=function(t){return t};this.xValueLabel=n,this.yValueLabel=n,this.zValueLabel=n,this.filterLabel="time",this.legendLabel="value",this.style=o.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new p,this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7),this.eye=new c(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.axisColor="#4D4D4D",this.gridColor="#D3D3D3",this.dataColor={fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},this.dotSizeRatio=.02,this.create(),this.setOptions(i),e&&this.setData(e)}function n(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function s(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=i(13),h=i(9),d=i(11),l=i(1),c=i(14),u=i(15),p=i(16),f=i(17),m=i(18),v=i(19);a(o.prototype),o.prototype._setScale=function(){this.scale=new c(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var t=(this.xMax+this.xMin)/2*this.scale.x,e=(this.yMax+this.yMin)/2*this.scale.y,i=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(t,e,i)},o.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},o.prototype._convertPointToTranslation=function(t){var e=t.x*this.scale.x,i=t.y*this.scale.y,o=t.z*this.scale.z,n=this.camera.getCameraLocation().x,s=this.camera.getCameraLocation().y,r=this.camera.getCameraLocation().z,a=Math.sin(this.camera.getCameraRotation().x),h=Math.cos(this.camera.getCameraRotation().x),d=Math.sin(this.camera.getCameraRotation().y),l=Math.cos(this.camera.getCameraRotation().y),u=Math.sin(this.camera.getCameraRotation().z),p=Math.cos(this.camera.getCameraRotation().z);return new c(l*(u*(i-s)+p*(e-n))-d*(o-r),a*(l*(o-r)+d*(u*(i-s)+p*(e-n)))+h*(p*(i-s)-u*(e-n)),h*(l*(o-r)+d*(u*(i-s)+p*(e-n)))-a*(p*(i-s)-u*(e-n)))},o.prototype._convertTranslationToScreen=function(t){var e,i,o=this.eye.x,n=this.eye.y,s=this.eye.z,r=t.x,a=t.y,h=t.z;return this.showPerspective?(e=s/h*(r-o),i=s/h*(a-n)):(e=r*(-s/this.camera.getArmLength()),i=a*(-s/this.camera.getArmLength())),new u(this.xcenter+e*this.frame.canvas.clientWidth,this.ycenter-i*this.frame.canvas.clientWidth)},o.prototype._setBackgroundColor=function(t){var e="white",i="gray",o=1;if("string"==typeof t)e=t,i="none",o=0;else if("object"===(void 0===t?"undefined":r(t)))void 0!==t.fill&&(e=t.fill),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth);else if(void 0!==t)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=e,this.frame.style.borderColor=i,this.frame.style.borderWidth=o+"px",this.frame.style.borderStyle="solid"},o.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},o.prototype._getStyleNumber=function(t){switch(t){case"dot":return o.STYLE.DOT;case"dot-line":return o.STYLE.DOTLINE;case"dot-color":return o.STYLE.DOTCOLOR;case"dot-size":return o.STYLE.DOTSIZE;case"line":return o.STYLE.LINE;case"grid":return o.STYLE.GRID;case"surface":return o.STYLE.SURFACE;case"bar":return o.STYLE.BAR;case"bar-color":return o.STYLE.BARCOLOR;case"bar-size":return o.STYLE.BARSIZE}return-1},o.prototype._determineColumnIndexes=function(t,e){if(this.style===o.STYLE.DOT||this.style===o.STYLE.DOTLINE||this.style===o.STYLE.LINE||this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE||this.style===o.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,t.getNumberOfColumns()>3&&(this.colFilter=3);else{if(this.style!==o.STYLE.DOTCOLOR&&this.style!==o.STYLE.DOTSIZE&&this.style!==o.STYLE.BARCOLOR&&this.style!==o.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,t.getNumberOfColumns()>4&&(this.colFilter=4)}},o.prototype.getNumberOfRows=function(t){return t.length},o.prototype.getNumberOfColumns=function(t){var e=0;for(var i in t[0])t[0].hasOwnProperty(i)&&e++;return e},o.prototype.getDistinctValues=function(t,e){for(var i=[],o=0;o<t.length;o++)-1==i.indexOf(t[o][e])&&i.push(t[o][e]);return i},o.prototype.getColumnRange=function(t,e){for(var i={min:t[0][e],max:t[0][e]},o=0;o<t.length;o++)i.min>t[o][e]&&(i.min=t[o][e]),i.max<t[o][e]&&(i.max=t[o][e]);return i},o.prototype._dataInitialize=function(t,e){var i=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==t){Array.isArray(t)&&(t=new h(t));var n;if(!(t instanceof h||t instanceof d))throw new Error("Array, DataSet, or DataView expected");if(n=t.get(),0!=n.length){this.dataSet=t,this.dataTable=n,this._onChange=function(){i.setData(i.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",n[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new f(t,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){i.redraw()}));var s=this.style==o.STYLE.BAR||this.style==o.STYLE.BARCOLOR||this.style==o.STYLE.BARSIZE;if(s){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var r=this.getDistinctValues(n,this.colX);this.xBarWidth=r[1]-r[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var a=this.getDistinctValues(n,this.colY);this.yBarWidth=a[1]-a[0]||1}}var l=this.getColumnRange(n,this.colX);s&&(l.min-=this.xBarWidth/2,l.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:l.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:l.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var c=this.getColumnRange(n,this.colY);s&&(c.min-=this.yBarWidth/2,c.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:c.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:c.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var u=this.getColumnRange(n,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:u.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:u.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var p=this.getColumnRange(n,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:p.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:p.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},o.prototype._getDataPoints=function(t){var e,i,n,s,r,a,h=[];if(this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE){var d=[],l=[];for(n=0;n<this.getNumberOfRows(t);n++)e=t[n][this.colX]||0,i=t[n][this.colY]||0,-1===d.indexOf(e)&&d.push(e),-1===l.indexOf(i)&&l.push(i);var u=function(t,e){return t-e};d.sort(u),l.sort(u);var p=[];for(n=0;n<t.length;n++){e=t[n][this.colX]||0,i=t[n][this.colY]||0,s=t[n][this.colZ]||0;var f=d.indexOf(e),m=l.indexOf(i);void 0===p[f]&&(p[f]=[]);var v=new c;v.x=e,v.y=i,v.z=s,r={},r.point=v,r.trans=void 0,r.screen=void 0,r.bottom=new c(e,i,this.zMin),p[f][m]=r,h.push(r)}for(e=0;e<p.length;e++)for(i=0;i<p[e].length;i++)p[e][i]&&(p[e][i].pointRight=e<p.length-1?p[e+1][i]:void 0,p[e][i].pointTop=i<p[e].length-1?p[e][i+1]:void 0,p[e][i].pointCross=e<p.length-1&&i<p[e].length-1?p[e+1][i+1]:void 0)}else for(n=0;n<t.length;n++)a=new c,a.x=t[n][this.colX]||0,a.y=t[n][this.colY]||0,a.z=t[n][this.colZ]||0,void 0!==this.colValue&&(a.value=t[n][this.colValue]||0),r={},r.point=a,r.bottom=new c(a.x,a.y,this.zMin),r.trans=void 0,r.screen=void 0,h.push(r);return h},o.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this,i=function(t){e._onMouseDown(t)},o=function(t){e._onTouchStart(t)},n=function(t){e._onWheel(t)},s=function(t){e._onTooltip(t)};l.addEventListener(this.frame.canvas,"keydown",onkeydown),l.addEventListener(this.frame.canvas,"mousedown",i),l.addEventListener(this.frame.canvas,"touchstart",o),l.addEventListener(this.frame.canvas,"mousewheel",n),l.addEventListener(this.frame.canvas,"mousemove",s),this.containerElement.appendChild(this.frame)},o.prototype.setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},o.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},o.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},o.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},o.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter),"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)},o.prototype.setCameraPosition=function(t){void 0!==t&&(void 0!==t.horizontal&&void 0!==t.vertical&&this.camera.setArmRotation(t.horizontal,t.vertical),void 0!==t.distance&&this.camera.setArmLength(t.distance),this.redraw())},o.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},o.prototype._readData=function(t){this._dataInitialize(t,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},o.prototype.setData=function(t){this._readData(t),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},o.prototype.setOptions=function(t){var e=void 0;if(this.animationStop(),void 0!==t){if(void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.xCenter&&(this.defaultXCenter=t.xCenter),void 0!==t.yCenter&&(this.defaultYCenter=t.yCenter),void 0!==t.filterLabel&&(this.filterLabel=t.filterLabel),void 0!==t.legendLabel&&(this.legendLabel=t.legendLabel),void 0!==t.xLabel&&(this.xLabel=t.xLabel),void 0!==t.yLabel&&(this.yLabel=t.yLabel),void 0!==t.zLabel&&(this.zLabel=t.zLabel),void 0!==t.xValueLabel&&(this.xValueLabel=t.xValueLabel),void 0!==t.yValueLabel&&(this.yValueLabel=t.yValueLabel),void 0!==t.zValueLabel&&(this.zValueLabel=t.zValueLabel),void 0!==t.dotSizeRatio&&(this.dotSizeRatio=t.dotSizeRatio),void 0!==t.style){var i=this._getStyleNumber(t.style);-1!==i&&(this.style=i)}void 0!==t.showGrid&&(this.showGrid=t.showGrid),void 0!==t.showPerspective&&(this.showPerspective=t.showPerspective),void 0!==t.showShadow&&(this.showShadow=t.showShadow),void 0!==t.tooltip&&(this.showTooltip=t.tooltip),void 0!==t.showAnimationControls&&(this.showAnimationControls=t.showAnimationControls),void 0!==t.keepAspectRatio&&(this.keepAspectRatio=t.keepAspectRatio),void 0!==t.verticalRatio&&(this.verticalRatio=t.verticalRatio),void 0!==t.animationInterval&&(this.animationInterval=t.animationInterval),void 0!==t.animationPreload&&(this.animationPreload=t.animationPreload),void 0!==t.animationAutoStart&&(this.animationAutoStart=t.animationAutoStart),void 0!==t.xBarWidth&&(this.defaultXBarWidth=t.xBarWidth),void 0!==t.yBarWidth&&(this.defaultYBarWidth=t.yBarWidth),void 0!==t.xMin&&(this.defaultXMin=t.xMin),void 0!==t.xStep&&(this.defaultXStep=t.xStep),void 0!==t.xMax&&(this.defaultXMax=t.xMax),void 0!==t.yMin&&(this.defaultYMin=t.yMin),void 0!==t.yStep&&(this.defaultYStep=t.yStep),void 0!==t.yMax&&(this.defaultYMax=t.yMax),void 0!==t.zMin&&(this.defaultZMin=t.zMin),void 0!==t.zStep&&(this.defaultZStep=t.zStep),void 0!==t.zMax&&(this.defaultZMax=t.zMax),void 0!==t.valueMin&&(this.defaultValueMin=t.valueMin),void 0!==t.valueMax&&(this.defaultValueMax=t.valueMax),void 0!==t.backgroundColor&&this._setBackgroundColor(t.backgroundColor),void 0!==t.cameraPosition&&(e=t.cameraPosition),void 0!==e&&(this.camera.setArmRotation(e.horizontal,e.vertical),this.camera.setArmLength(e.distance)),void 0!==t.axisColor&&(this.axisColor=t.axisColor),void 0!==t.gridColor&&(this.gridColor=t.gridColor),t.dataColor&&("string"==typeof t.dataColor?(this.dataColor.fill=t.dataColor,this.dataColor.stroke=t.dataColor):(t.dataColor.fill&&(this.dataColor.fill=t.dataColor.fill),t.dataColor.stroke&&(this.dataColor.stroke=t.dataColor.stroke),void 0!==t.dataColor.strokeWidth&&(this.dataColor.strokeWidth=t.dataColor.strokeWidth)))}this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},o.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE?this._redrawDataGrid():this.style===o.STYLE.LINE?this._redrawDataLine():this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},o.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},o.prototype._redrawLegend=function(){var t;if(this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){var e,i,n=this.frame.clientWidth*this.dotSizeRatio;this.style===o.STYLE.DOTSIZE?(e=n/2,i=n/2+2*n):(e=20,i=20);var s=Math.max(.25*this.frame.clientHeight,100),r=this.margin,a=this.frame.clientWidth-this.margin,h=a-i,d=r+s}var l=this.frame.canvas,c=l.getContext("2d");if(c.lineWidth=1,c.font="14px arial",this.style===o.STYLE.DOTCOLOR){var u=s;for(t=0;t<u;t++){var p=(t-0)/(u-0),f=240*p,m=this._hsv2rgb(f,1,1);c.strokeStyle=m,c.beginPath(),c.moveTo(h,r+t),c.lineTo(a,r+t),c.stroke()}c.strokeStyle=this.axisColor,c.strokeRect(h,r,i,s)}if(this.style===o.STYLE.DOTSIZE&&(c.strokeStyle=this.axisColor,c.fillStyle=this.dataColor.fill,c.beginPath(),c.moveTo(h,r),c.lineTo(a,r),c.lineTo(a-i+e,d),c.lineTo(h,d),c.closePath(),c.fill(),c.stroke()),this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){var g=new v(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(g.start(),g.getCurrent()<this.valueMin&&g.next();!g.end();)t=d-(g.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*s,c.beginPath(),c.moveTo(h-5,t),c.lineTo(h,t),c.stroke(),c.textAlign="right",c.textBaseline="middle",c.fillStyle=this.axisColor,c.fillText(g.getCurrent(),h-10,t),g.next();c.textAlign="right",c.textBaseline="top";var y=this.legendLabel;c.fillText(y,a,d+this.margin)}},o.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var t={visible:this.showAnimationControls},e=new m(this.frame.filter,t);this.frame.filter.slider=e,this.frame.filter.style.padding="10px",e.setValues(this.dataFilter.values),e.setPlayInterval(this.animationInterval);var i=this,o=function(){var t=e.getIndex();i.dataFilter.selectValue(t),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()};e.setOnChangeCallback(o)}else this.frame.filter.slider=void 0},o.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},o.prototype._redrawInfo=function(){if(this.dataFilter){var t=this.frame.canvas,e=t.getContext("2d");e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var i=this.margin,o=this.margin;e.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),i,o)}},o.prototype._redrawAxis=function(){var t,e,i,o,n,s,r,a,h,d,l,u,p,f=this.frame.canvas,m=f.getContext("2d");m.font=24/this.camera.getArmLength()+"px arial";var g=.025/this.scale.x,y=.025/this.scale.y,b=5/this.camera.getArmLength(),_=this.camera.getArmRotation().horizontal;for(m.lineWidth=1,o=void 0===this.defaultXStep,i=new v(this.xMin,this.xMax,this.xStep,o),i.start(),i.getCurrent()<this.xMin&&i.next();!i.end();){var w=i.getCurrent();this.showGrid?(t=this._convert3Dto2D(new c(w,this.yMin,this.zMin)),e=this._convert3Dto2D(new c(w,this.yMax,this.zMin)),m.strokeStyle=this.gridColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke()):(t=this._convert3Dto2D(new c(w,this.yMin,this.zMin)),e=this._convert3Dto2D(new c(w,this.yMin+g,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke(),t=this._convert3Dto2D(new c(w,this.yMax,this.zMin)),e=this._convert3Dto2D(new c(w,this.yMax-g,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke()),r=Math.cos(_)>0?this.yMin:this.yMax,n=this._convert3Dto2D(new c(w,r,this.zMin)),Math.cos(2*_)>0?(m.textAlign="center",m.textBaseline="top",n.y+=b):Math.sin(2*_)<0?(m.textAlign="right",m.textBaseline="middle"):(m.textAlign="left",m.textBaseline="middle"),m.fillStyle=this.axisColor,m.fillText("  "+this.xValueLabel(i.getCurrent())+"  ",n.x,n.y),i.next()}for(m.lineWidth=1,o=void 0===this.defaultYStep,i=new v(this.yMin,this.yMax,this.yStep,o),i.start(),i.getCurrent()<this.yMin&&i.next();!i.end();)this.showGrid?(t=this._convert3Dto2D(new c(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new c(this.xMax,i.getCurrent(),this.zMin)),m.strokeStyle=this.gridColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke()):(t=this._convert3Dto2D(new c(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new c(this.xMin+y,i.getCurrent(),this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke(),
t=this._convert3Dto2D(new c(this.xMax,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new c(this.xMax-y,i.getCurrent(),this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke()),s=Math.sin(_)>0?this.xMin:this.xMax,n=this._convert3Dto2D(new c(s,i.getCurrent(),this.zMin)),Math.cos(2*_)<0?(m.textAlign="center",m.textBaseline="top",n.y+=b):Math.sin(2*_)>0?(m.textAlign="right",m.textBaseline="middle"):(m.textAlign="left",m.textBaseline="middle"),m.fillStyle=this.axisColor,m.fillText("  "+this.yValueLabel(i.getCurrent())+"  ",n.x,n.y),i.next();for(m.lineWidth=1,o=void 0===this.defaultZStep,i=new v(this.zMin,this.zMax,this.zStep,o),i.start(),i.getCurrent()<this.zMin&&i.next(),s=Math.cos(_)>0?this.xMin:this.xMax,r=Math.sin(_)<0?this.yMin:this.yMax;!i.end();)t=this._convert3Dto2D(new c(s,r,i.getCurrent())),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(t.x-b,t.y),m.stroke(),m.textAlign="right",m.textBaseline="middle",m.fillStyle=this.axisColor,m.fillText(this.zValueLabel(i.getCurrent())+" ",t.x-5,t.y),i.next();m.lineWidth=1,t=this._convert3Dto2D(new c(s,r,this.zMin)),e=this._convert3Dto2D(new c(s,r,this.zMax)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke(),m.lineWidth=1,u=this._convert3Dto2D(new c(this.xMin,this.yMin,this.zMin)),p=this._convert3Dto2D(new c(this.xMax,this.yMin,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(u.x,u.y),m.lineTo(p.x,p.y),m.stroke(),u=this._convert3Dto2D(new c(this.xMin,this.yMax,this.zMin)),p=this._convert3Dto2D(new c(this.xMax,this.yMax,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(u.x,u.y),m.lineTo(p.x,p.y),m.stroke(),m.lineWidth=1,t=this._convert3Dto2D(new c(this.xMin,this.yMin,this.zMin)),e=this._convert3Dto2D(new c(this.xMin,this.yMax,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke(),t=this._convert3Dto2D(new c(this.xMax,this.yMin,this.zMin)),e=this._convert3Dto2D(new c(this.xMax,this.yMax,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke();var x=this.xLabel;x.length>0&&(l=.1/this.scale.y,s=(this.xMin+this.xMax)/2,r=Math.cos(_)>0?this.yMin-l:this.yMax+l,n=this._convert3Dto2D(new c(s,r,this.zMin)),Math.cos(2*_)>0?(m.textAlign="center",m.textBaseline="top"):Math.sin(2*_)<0?(m.textAlign="right",m.textBaseline="middle"):(m.textAlign="left",m.textBaseline="middle"),m.fillStyle=this.axisColor,m.fillText(x,n.x,n.y));var k=this.yLabel;k.length>0&&(d=.1/this.scale.x,s=Math.sin(_)>0?this.xMin-d:this.xMax+d,r=(this.yMin+this.yMax)/2,n=this._convert3Dto2D(new c(s,r,this.zMin)),Math.cos(2*_)<0?(m.textAlign="center",m.textBaseline="top"):Math.sin(2*_)>0?(m.textAlign="right",m.textBaseline="middle"):(m.textAlign="left",m.textBaseline="middle"),m.fillStyle=this.axisColor,m.fillText(k,n.x,n.y));var O=this.zLabel;O.length>0&&(h=30,s=Math.cos(_)>0?this.xMin:this.xMax,r=Math.sin(_)<0?this.yMin:this.yMax,a=(this.zMin+this.zMax)/2,n=this._convert3Dto2D(new c(s,r,a)),m.textAlign="right",m.textBaseline="middle",m.fillStyle=this.axisColor,m.fillText(O,n.x-h,n.y))},o.prototype._hsv2rgb=function(t,e,i){var o,n,s,r,a,h;switch(r=i*e,a=Math.floor(t/60),h=r*(1-Math.abs(t/60%2-1)),a){case 0:o=r,n=h,s=0;break;case 1:o=h,n=r,s=0;break;case 2:o=0,n=r,s=h;break;case 3:o=0,n=h,s=r;break;case 4:o=h,n=0,s=r;break;case 5:o=r,n=0,s=h;break;default:o=0,n=0,s=0}return"RGB("+parseInt(255*o)+","+parseInt(255*n)+","+parseInt(255*s)+")"},o.prototype._redrawDataGrid=function(){var t,e,i,n,s,r,a,h,d,l,u,p,f=this.frame.canvas,m=f.getContext("2d");if(m.lineJoin="round",m.lineCap="round",!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(s=0;s<this.dataPoints.length;s++){var v=this._convertPointToTranslation(this.dataPoints[s].point),g=this._convertTranslationToScreen(v);this.dataPoints[s].trans=v,this.dataPoints[s].screen=g;var y=this._convertPointToTranslation(this.dataPoints[s].bottom);this.dataPoints[s].dist=this.showPerspective?y.length():-y.z}var b=function(t,e){return e.dist-t.dist};if(this.dataPoints.sort(b),this.style===o.STYLE.SURFACE){for(s=0;s<this.dataPoints.length;s++)if(t=this.dataPoints[s],e=this.dataPoints[s].pointRight,i=this.dataPoints[s].pointTop,n=this.dataPoints[s].pointCross,void 0!==t&&void 0!==e&&void 0!==i&&void 0!==n){if(this.showGrayBottom||this.showShadow){var _=c.subtract(n.trans,t.trans),w=c.subtract(i.trans,e.trans),x=c.crossProduct(_,w),k=x.length();r=x.z>0}else r=!0;r?(p=(t.point.z+e.point.z+i.point.z+n.point.z)/4,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),l=1,this.showShadow?(u=Math.min(1+x.x/k/2,1),a=this._hsv2rgb(d,l,u),h=a):(u=1,a=this._hsv2rgb(d,l,u),h=this.axisColor)):(a="gray",h=this.axisColor),m.lineWidth=this._getStrokeWidth(t),m.fillStyle=a,m.strokeStyle=h,m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(e.screen.x,e.screen.y),m.lineTo(n.screen.x,n.screen.y),m.lineTo(i.screen.x,i.screen.y),m.closePath(),m.fill(),m.stroke()}}else for(s=0;s<this.dataPoints.length;s++)t=this.dataPoints[s],e=this.dataPoints[s].pointRight,i=this.dataPoints[s].pointTop,void 0!==t&&void 0!==e&&(p=(t.point.z+e.point.z)/2,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),m.lineWidth=2*this._getStrokeWidth(t),m.strokeStyle=this._hsv2rgb(d,1,1),m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(e.screen.x,e.screen.y),m.stroke()),void 0!==t&&void 0!==i&&(p=(t.point.z+i.point.z)/2,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),m.lineWidth=2*this._getStrokeWidth(t),m.strokeStyle=this._hsv2rgb(d,1,1),m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(i.screen.x,i.screen.y),m.stroke())}},o.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},o.prototype._redrawDataDot=function(){var t,e=this.frame.canvas,i=e.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var n=this._convertPointToTranslation(this.dataPoints[t].point),s=this._convertTranslationToScreen(n);this.dataPoints[t].trans=n,this.dataPoints[t].screen=s;var r=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?r.length():-r.z}var a=function(t,e){return e.dist-t.dist};this.dataPoints.sort(a);var h=this.frame.clientWidth*this.dotSizeRatio;for(t=0;t<this.dataPoints.length;t++){var d=this.dataPoints[t];if(this.style===o.STYLE.DOTLINE){var l=this._convert3Dto2D(d.bottom);i.lineWidth=1,i.strokeStyle=this.gridColor,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(d.screen.x,d.screen.y),i.stroke()}var c;c=this.style===o.STYLE.DOTSIZE?h/2+2*h*(d.point.value-this.valueMin)/(this.valueMax-this.valueMin):h;var u;u=this.showPerspective?c/-d.trans.z:c*(-this.eye.z/this.camera.getArmLength()),u<0&&(u=0);var p,f,m;this.style===o.STYLE.DOTCOLOR?(p=240*(1-(d.point.value-this.valueMin)*this.scale.value),f=this._hsv2rgb(p,1,1),m=this._hsv2rgb(p,1,.8)):this.style===o.STYLE.DOTSIZE?(f=this.dataColor.fill,m=this.dataColor.stroke):(p=240*(1-(d.point.z-this.zMin)*this.scale.z/this.verticalRatio),f=this._hsv2rgb(p,1,1),m=this._hsv2rgb(p,1,.8)),i.lineWidth=this._getStrokeWidth(d),i.strokeStyle=m,i.fillStyle=f,i.beginPath(),i.arc(d.screen.x,d.screen.y,u,0,2*Math.PI,!0),i.fill(),i.stroke()}}},o.prototype._redrawDataBar=function(){var t,e,i,n,s=this.frame.canvas,r=s.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var a=this._convertPointToTranslation(this.dataPoints[t].point),h=this._convertTranslationToScreen(a);this.dataPoints[t].trans=a,this.dataPoints[t].screen=h;var d=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?d.length():-d.z}var l=function(t,e){return e.dist-t.dist};this.dataPoints.sort(l),r.lineJoin="round",r.lineCap="round";var u=this.xBarWidth/2,p=this.yBarWidth/2;for(t=0;t<this.dataPoints.length;t++){var f,m,v,g=this.dataPoints[t];this.style===o.STYLE.BARCOLOR?(f=240*(1-(g.point.value-this.valueMin)*this.scale.value),m=this._hsv2rgb(f,1,1),v=this._hsv2rgb(f,1,.8)):this.style===o.STYLE.BARSIZE?(m=this.dataColor.fill,v=this.dataColor.stroke):(f=240*(1-(g.point.z-this.zMin)*this.scale.z/this.verticalRatio),m=this._hsv2rgb(f,1,1),v=this._hsv2rgb(f,1,.8)),this.style===o.STYLE.BARSIZE&&(u=this.xBarWidth/2*((g.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),p=this.yBarWidth/2*((g.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var y=this,b=g.point,_=[{point:new c(b.x-u,b.y-p,b.z)},{point:new c(b.x+u,b.y-p,b.z)},{point:new c(b.x+u,b.y+p,b.z)},{point:new c(b.x-u,b.y+p,b.z)}],w=[{point:new c(b.x-u,b.y-p,this.zMin)},{point:new c(b.x+u,b.y-p,this.zMin)},{point:new c(b.x+u,b.y+p,this.zMin)},{point:new c(b.x-u,b.y+p,this.zMin)}];_.forEach(function(t){t.screen=y._convert3Dto2D(t.point)}),w.forEach(function(t){t.screen=y._convert3Dto2D(t.point)});var x=[{corners:_,center:c.avg(w[0].point,w[2].point)},{corners:[_[0],_[1],w[1],w[0]],center:c.avg(w[1].point,w[0].point)},{corners:[_[1],_[2],w[2],w[1]],center:c.avg(w[2].point,w[1].point)},{corners:[_[2],_[3],w[3],w[2]],center:c.avg(w[3].point,w[2].point)},{corners:[_[3],_[0],w[0],w[3]],center:c.avg(w[0].point,w[3].point)}];for(g.surfaces=x,e=0;e<x.length;e++){i=x[e];var k=this._convertPointToTranslation(i.center);i.dist=this.showPerspective?k.length():-k.z}for(x.sort(function(t,e){var i=e.dist-t.dist;return i||(t.corners===_?1:e.corners===_?-1:0)}),r.lineWidth=this._getStrokeWidth(g),r.strokeStyle=v,r.fillStyle=m,e=2;e<x.length;e++)i=x[e],n=i.corners,r.beginPath(),r.moveTo(n[3].screen.x,n[3].screen.y),r.lineTo(n[0].screen.x,n[0].screen.y),r.lineTo(n[1].screen.x,n[1].screen.y),r.lineTo(n[2].screen.x,n[2].screen.y),r.lineTo(n[3].screen.x,n[3].screen.y),r.fill(),r.stroke()}}},o.prototype._redrawDataLine=function(){var t,e,i=this.frame.canvas,o=i.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var n=this._convertPointToTranslation(this.dataPoints[e].point),s=this._convertTranslationToScreen(n);this.dataPoints[e].trans=n,this.dataPoints[e].screen=s}if(this.dataPoints.length>0){for(t=this.dataPoints[0],o.lineWidth=this._getStrokeWidth(t),o.lineJoin="round",o.lineCap="round",o.strokeStyle=this.dataColor.stroke,o.beginPath(),o.moveTo(t.screen.x,t.screen.y),e=1;e<this.dataPoints.length;e++)t=this.dataPoints[e],o.lineTo(t.screen.x,t.screen.y);o.stroke()}}},o.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this.startMouseX=n(t),this.startMouseY=s(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},l.addEventListener(document,"mousemove",e.onmousemove),l.addEventListener(document,"mouseup",e.onmouseup),l.preventDefault(t)}},o.prototype._onMouseMove=function(t){t=t||window.event;var e=parseFloat(n(t))-this.startMouseX,i=parseFloat(s(t))-this.startMouseY,o=this.startArmRotation.horizontal+e/200,r=this.startArmRotation.vertical+i/200,a=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(o))<a&&(o=Math.round(o/Math.PI)*Math.PI-.001),Math.abs(Math.cos(o))<a&&(o=(Math.round(o/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(r))<a&&(r=Math.round(r/Math.PI)*Math.PI),Math.abs(Math.cos(r))<a&&(r=(Math.round(r/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(o,r),this.redraw();var h=this.getCameraPosition();this.emit("cameraPositionChange",h),l.preventDefault(t)},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,l.removeEventListener(document,"mousemove",this.onmousemove),l.removeEventListener(document,"mouseup",this.onmouseup),l.preventDefault(t)},o.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),i=n(t)-e.left,o=s(t)-e.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var r=this._dataPointFromXY(i,o);r!==this.tooltip.dataPoint&&(r?this._showTooltip(r):this._hideTooltip())}else{var a=this;this.tooltipTimeout=setTimeout(function(){a.tooltipTimeout=null;var t=a._dataPointFromXY(i,o);t&&a._showTooltip(t)},300)}}},o.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},l.addEventListener(document,"touchmove",e.ontouchmove),l.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},o.prototype._onTouchMove=function(t){this._onMouseMove(t)},o.prototype._onTouchEnd=function(t){this.touchDown=!1,l.removeEventListener(document,"touchmove",this.ontouchmove),l.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},o.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength(),o=i*(1-e/10);this.camera.setArmLength(o),this.redraw(),this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n),l.preventDefault(t)},o.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:t<0?-1:0}var o=e[0],n=e[1],s=e[2],r=i((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x)),a=i((s.x-n.x)*(t.y-n.y)-(s.y-n.y)*(t.x-n.x)),h=i((o.x-s.x)*(t.y-s.y)-(o.y-s.y)*(t.x-s.x));return!(0!=r&&0!=a&&r!=a||0!=a&&0!=h&&a!=h||0!=r&&0!=h&&r!=h)},o.prototype._dataPointFromXY=function(t,e){var i,n=null,s=null,r=null,a=new u(t,e);if(this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){n=this.dataPoints[i];var h=n.surfaces;if(h)for(var d=h.length-1;d>=0;d--){var l=h[d],c=l.corners,p=[c[0].screen,c[1].screen,c[2].screen],f=[c[2].screen,c[3].screen,c[0].screen];if(this._insideTriangle(a,p)||this._insideTriangle(a,f))return n}}else for(i=0;i<this.dataPoints.length;i++){n=this.dataPoints[i];var m=n.screen;if(m){var v=Math.abs(t-m.x),g=Math.abs(e-m.y),y=Math.sqrt(v*v+g*g);(null===r||y<r)&&y<100&&(r=y,s=n)}}return s},o.prototype._showTooltip=function(t){var e,i,o;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,o=this.tooltip.dom.dot):(e=document.createElement("div"),e.style.position="absolute",e.style.padding="10px",e.style.border="1px solid #4d4d4d",e.style.color="#1a1a1a",e.style.background="rgba(255,255,255,0.7)",e.style.borderRadius="2px",e.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",i=document.createElement("div"),i.style.position="absolute",i.style.height="40px",i.style.width="0",i.style.borderLeft="1px solid #4d4d4d",o=document.createElement("div"),o.style.position="absolute",o.style.height="0",o.style.width="0",o.style.border="5px solid #4d4d4d",o.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:o}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(o);var n=e.offsetWidth,s=e.offsetHeight,r=i.offsetHeight,a=o.offsetWidth,h=o.offsetHeight,d=t.screen.x-n/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-n),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-r+"px",e.style.left=d+"px",e.style.top=t.screen.y-r-s+"px",o.style.left=t.screen.x-a/2+"px",o.style.top=t.screen.y-h/2+"px"},o.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var t in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},t.exports=o},function(t,e){function i(t){if(t)return o(t)}function o(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){o.off(t,i),e.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o,n=0;n<i.length;n++)if((o=i[n])===e||o.fn===e){i.splice(n,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var o=0,n=i.length;o<n;++o)i[o].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function i(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}i.subtract=function(t,e){var o=new i;return o.x=t.x-e.x,o.y=t.y-e.y,o.z=t.z-e.z,o},i.add=function(t,e){var o=new i;return o.x=t.x+e.x,o.y=t.y+e.y,o.z=t.z+e.z,o},i.avg=function(t,e){return new i((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},i.crossProduct=function(t,e){var o=new i;return o.x=t.y*e.z-t.z*e.y,o.y=t.z*e.x-t.x*e.z,o.z=t.x*e.y-t.y*e.x,o},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=i},function(t,e){function i(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}t.exports=i},function(t,e,i){function o(){this.armLocation=new n,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new n,this.cameraRotation=new n(.5*Math.PI,0,0),this.calculateCameraOrientation()}var n=i(14);o.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},o.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},o.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},o.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},o.prototype.getArmLength=function(){return this.armLength},o.prototype.getCameraLocation=function(){return this.cameraLocation},o.prototype.getCameraRotation=function(){return this.cameraRotation},o.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},t.exports=o},function(t,e,i){function o(t,e,i){this.data=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=i.getDistinctValues(t.get(),this.column),this.values.sort(function(t,e){return t>e?1:t<e?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var n=i(11);o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw"Error: index out of range";return this.values[t]},o.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var o=new n(this.data,{filter:function(t){return t[i.column]==i.value}}).get();e=this.graph._getDataPoints(o),this.dataPoints[t]=e}return e},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw"Error: index out of range";this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){this._getDataPoints(t);void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var o=this;setTimeout(function(){o.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=o},function(t,e,i){function o(t,e){if(void 0===t)throw"Error: No container element defined";if(this.container=t,this.visible=!e||void 0==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var n=i(1);o.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},o.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},o.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date,o=i-t,n=Math.max(this.playInterval-o,0),s=this;this.playTimeout=setTimeout(function(){s.playNext()},n)},o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},o.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},o.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},o.prototype.setPlayInterval=function(t){this.playInterval=t},o.prototype.getPlayInterval=function(t){return this.playInterval},o.prototype.setPlayLoop=function(t){this.playLoop=t},o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},o.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},o.prototype.setIndex=function(t){if(!(t<this.values.length))throw"Error: index out of range";this.index=t,this.redraw(),this.onChange()},o.prototype.getIndex=function(){return this.index},o.prototype.get=function(){return this.values[this.index]},o.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},n.addEventListener(document,"mousemove",this.onmousemove),n.addEventListener(document,"mouseup",this.onmouseup),n.preventDefault(t)}},o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,o=Math.round(i/e*(this.values.length-1));return o<0&&(o=0),o>this.values.length-1&&(o=this.values.length-1),o},o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(this.values.length-1)*e+3},o.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,o=this.leftToIndex(i);this.setIndex(o),n.preventDefault()},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",n.removeEventListener(document,"mousemove",this.onmousemove),n.removeEventListener(document,"mouseup",this.onmouseup),n.preventDefault()},t.exports=o},function(t,e){function i(t,e,i,o){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,o)}i.prototype.setRange=function(t,e,i,o){this._start=t||0,this._end=e||0,this.setStep(i,o)},i.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=i.calculatePrettyStep(t):this._step=t)},i.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),o=2*Math.pow(10,Math.round(e(t/2))),n=5*Math.pow(10,Math.round(e(t/5))),s=i;return Math.abs(o-t)<=Math.abs(s-t)&&(s=o),Math.abs(n-t)<=Math.abs(s-t)&&(s=n),s<=0&&(s=1),s},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(){this._current=this._start-this._start%this._step},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e,i){if("undefined"!=typeof window){var o=i(21),n=window.Hammer||i(22);t.exports=o(n,{preventDefault:"mouse"})}else t.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){var o,n,s;!function(i){n=[],o=i,void 0!==(s="function"==typeof o?o.apply(e,n):o)&&(t.exports=s)}(function(){var t=null;return function e(i,o){function n(t){return t.match(/[^ ]+/g)}function s(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var o=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof o&&(e.srcEvent.stopPropagation=function(){o(),e.stopPropagation()}),e.firstTarget=t;for(var n=t;n&&!i;){var s=n.hammer;if(s)for(var r,a=0;a<s.length;a++)if(r=s[a]._handlers[e.type])for(var h=0;h<r.length&&!i;h++)r[h](e);n=n.parentNode}}var r=o||{preventDefault:!1};if(i.Manager){var a=i,h=function(t,i){var o=Object.create(r);return i&&a.assign(o,i),e(new a(t,o),o)};return a.assign(h,a),h.Manager=function(t,i){var o=Object.create(r);return i&&a.assign(o,i),e(new a.Manager(t,o),o)},h}var d=Object.create(i),l=i.element;return l.hammer||(l.hammer=[]),l.hammer.push(d),i.on("hammer.input",function(e){!0!==r.preventDefault&&r.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),d._handlers={},d.on=function(t,e){return n(t).forEach(function(t){var o=d._handlers[t];o||(d._handlers[t]=o=[],i.on(t,s)),o.push(e)}),d},d.off=function(t,e){return n(t).forEach(function(t){var o=d._handlers[t];o&&(o=e?o.filter(function(t){return t!==e}):[],o.length>0?d._handlers[t]=o:(i.off(t,s),delete d._handlers[t]))}),d},d.emit=function(e,o){t=o.target,i.emit(e,o)},d.destroy=function(){var t=i.element.hammer,e=t.indexOf(d);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,d._handlers={},i.destroy()},d}})},function(t,e,i){var o;!function(n,s,r,a){function h(t,e,i){return setTimeout(p(t,i),e)}function d(t,e,i){return!!Array.isArray(t)&&(l(t,i[e],i),!0)}function l(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function c(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=n.console&&(n.console.warn||n.console.log);return s&&s.call(n.console,o,i),t.apply(this,arguments)}}function u(t,e,i){var o,n=e.prototype;o=t.prototype=Object.create(n),o.constructor=t,o._super=n,i&&ct(o,i)}function p(t,e){return function(){return t.apply(e,arguments)}}function f(t,e){return typeof t==ft?t.apply(e?e[0]||a:a,e):t}function m(t,e){return t===a?e:t}function v(t,e,i){l(_(e),function(e){t.addEventListener(e,i,!1)})}function g(t,e,i){l(_(e),function(e){t.removeEventListener(e,i,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function _(t){return t.trim().split(/\s+/g)}function w(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var o=[],n=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];w(n,r)<0&&o.push(t[s]),n[s]=r,s++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}function O(t,e){for(var i,o,n=e[0].toUpperCase()+e.slice(1),s=0;s<ut.length;){if(i=ut[s],(o=i?i+n:e)in t)return o;s++}return a}function M(){return _t++}function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}function S(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){f(t.options.enable,[t])&&i.handler(e)},this.init()}function C(t){var e=t.options.inputClass;return new(e||(kt?W:Ot?V:xt?q:H))(t,T)}function T(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&Dt&&o-n==0,r=e&(Ct|Tt)&&o-n==0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,E(t,i),t.emit("hammer.input",i),
t.recognize(i),t.session.prevInput=i}function E(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=N(e)),n>1&&!i.firstMultiple?i.firstMultiple=N(e):1===n&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,h=e.center=R(o);e.timeStamp=gt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=B(a,h),e.distance=A(a,h),P(i,e),e.offsetDirection=L(e.deltaX,e.deltaY);var d=z(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=vt(d.x)>vt(d.y)?d.x:d.y,e.scale=r?j(r.pointers,o):1,e.rotation=r?F(r.pointers,o):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,I(i,e);var l=t.element;y(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function P(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};e.eventType!==Dt&&s.eventType!==Ct||(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}function I(t,e){var i,o,n,s,r=t.lastInterval||e,h=e.timeStamp-r.timeStamp;if(e.eventType!=Tt&&(h>Mt||r.velocity===a)){var d=e.deltaX-r.deltaX,l=e.deltaY-r.deltaY,c=z(h,d,l);o=c.x,n=c.y,i=vt(c.x)>vt(c.y)?c.x:c.y,s=L(d,l),t.lastInterval=e}else i=r.velocity,o=r.velocityX,n=r.velocityY,s=r.direction;e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=s}function N(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:mt(t.pointers[i].clientX),clientY:mt(t.pointers[i].clientY)},i++;return{timeStamp:gt(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var i=0,o=0,n=0;n<e;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:mt(i/e),y:mt(o/e)}}function z(t,e,i){return{x:e/t||0,y:i/t||0}}function L(t,e){return t===e?Et:vt(t)>=vt(e)?t<0?Pt:It:e<0?Nt:Rt}function A(t,e,i){i||(i=Bt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function B(t,e,i){i||(i=Bt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function F(t,e){return B(e[1],e[0],Ft)+B(t[1],t[0],Ft)}function j(t,e){return A(e[0],e[1],Ft)/A(t[0],t[1],Ft)}function H(){this.evEl=Ht,this.evWin=Wt,this.allow=!0,this.pressed=!1,S.apply(this,arguments)}function W(){this.evEl=Vt,this.evWin=Ut,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Y(){this.evTarget=Xt,this.evWin=Zt,this.started=!1,S.apply(this,arguments)}function G(t,e){var i=x(t.touches),o=x(t.changedTouches);return e&(Ct|Tt)&&(i=k(i.concat(o),"identifier",!0)),[i,o]}function V(){this.evTarget=Jt,this.targetIds={},S.apply(this,arguments)}function U(t,e){var i=x(t.touches),o=this.targetIds;if(e&(Dt|St)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,r=x(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return y(t.target,h)}),e===Dt)for(n=0;n<s.length;)o[s[n].identifier]=!0,n++;for(n=0;n<r.length;)o[r[n].identifier]&&a.push(r[n]),e&(Ct|Tt)&&delete o[r[n].identifier],n++;return a.length?[k(s.concat(a),"identifier",!0),a]:void 0}function q(){S.apply(this,arguments);var t=p(this.handler,this);this.touch=new V(this.manager,t),this.mouse=new H(this.manager,t)}function X(t,e){this.manager=t,this.set(e)}function Z(t){if(b(t,ie))return ie;var e=b(t,oe),i=b(t,ne);return e&&i?ie:e||i?e?oe:ne:b(t,ee)?ee:te}function K(t){this.options=ct({},this.defaults,t||{}),this.id=M(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=se,this.simultaneous={},this.requireFail=[]}function J(t){return t&le?"cancel":t&he?"end":t&ae?"move":t&re?"start":""}function Q(t){return t==Rt?"down":t==Nt?"up":t==Pt?"left":t==It?"right":""}function $(t,e){var i=e.manager;return i?i.get(t):t}function tt(){K.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function it(){tt.apply(this,arguments)}function ot(){K.apply(this,arguments),this._timer=null,this._input=null}function nt(){tt.apply(this,arguments)}function st(){tt.apply(this,arguments)}function rt(){K.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=m(e.recognizers,at.defaults.preset),new ht(t,e)}function ht(t,e){this.options=ct({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=C(this),this.touchAction=new X(this,this.options.touchAction),dt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var i=t.element;i.style&&l(t.options.cssProps,function(t,o){i.style[O(i.style,o)]=e?t:""})}function lt(t,e){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ct,ut=["","webkit","Moz","MS","ms","o"],pt=s.createElement("div"),ft="function",mt=Math.round,vt=Math.abs,gt=Date.now;ct="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==a&&null!==o)for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}:Object.assign;var yt=c(function(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)(!i||i&&t[o[n]]===a)&&(t[o[n]]=e[o[n]]),n++;return t},"extend","Use `assign`."),bt=c(function(t,e){return yt(t,e,!0)},"merge","Use `assign`."),_t=1,wt=/mobile|tablet|ip(ad|hone|od)|android/i,xt="ontouchstart"in n,kt=O(n,"PointerEvent")!==a,Ot=xt&&wt.test(navigator.userAgent),Mt=25,Dt=1,St=2,Ct=4,Tt=8,Et=1,Pt=2,It=4,Nt=8,Rt=16,zt=Pt|It,Lt=Nt|Rt,At=zt|Lt,Bt=["x","y"],Ft=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(D(this.element),this.evWin,this.domHandler)}};var jt={mousedown:Dt,mousemove:St,mouseup:Ct},Ht="mousedown",Wt="mousemove mouseup";u(H,S,{handler:function(t){var e=jt[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=Ct),this.pressed&&this.allow&&(e&Ct&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Yt={pointerdown:Dt,pointermove:St,pointerup:Ct,pointercancel:Tt,pointerout:Tt},Gt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Vt="pointerdown",Ut="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(Vt="MSPointerDown",Ut="MSPointerMove MSPointerUp MSPointerCancel"),u(W,S,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=Yt[o],s=Gt[t.pointerType]||t.pointerType,r="touch"==s,a=w(e,t.pointerId,"pointerId");n&Dt&&(0===t.button||r)?a<0&&(e.push(t),a=e.length-1):n&(Ct|Tt)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var qt={touchstart:Dt,touchmove:St,touchend:Ct,touchcancel:Tt},Xt="touchstart",Zt="touchstart touchmove touchend touchcancel";u(Y,S,{handler:function(t){var e=qt[t.type];if(e===Dt&&(this.started=!0),this.started){var i=G.call(this,t,e);e&(Ct|Tt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Kt={touchstart:Dt,touchmove:St,touchend:Ct,touchcancel:Tt},Jt="touchstart touchmove touchend touchcancel";u(V,S,{handler:function(t){var e=Kt[t.type],i=U.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}),u(q,S,{handler:function(t,e,i){var o="touch"==i.pointerType,n="mouse"==i.pointerType;if(o)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(Ct|Tt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Qt=O(pt.style,"touchAction"),$t=Qt!==a,te="auto",ee="manipulation",ie="none",oe="pan-x",ne="pan-y";X.prototype={set:function(t){"compute"==t&&(t=this.compute()),$t&&this.manager.element.style&&(this.manager.element.style[Qt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){f(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Z(t.join(" "))},preventDefaults:function(t){if(!$t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var o=this.actions,n=b(o,ie),s=b(o,ne),r=b(o,oe);if(n){var a=1===t.pointers.length,h=t.distance<2,d=t.deltaTime<250;if(a&&h&&d)return}if(!r||!s)return n||s&&i&zt||r&&i&Lt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var se=1,re=2,ae=4,he=8,de=he,le=16;K.prototype={defaults:{},set:function(t){return ct(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=$(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,"dropRecognizeWith",this)?this:(t=$(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;return t=$(t,this),-1===w(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=$(t,this);var e=w(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,o=this.state;o<he&&e(i.options.event+J(o)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),o>=he&&e(i.options.event+J(o))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|se)))return!1;t++}return!0},recognize:function(t){var e=ct({},t);if(!f(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(de|le|32)&&(this.state=se),this.state=this.process(e),this.state&(re|ae|he|le)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},u(tt,K,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(re|ae),n=this.attrTest(t);return o&&(i&Tt||!n)?e|le:o||n?i&Ct?e|he:e&re?e|ae:re:32}}),u(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:At},getTouchAction:function(){var t=this.options.direction,e=[];return t&zt&&e.push(ne),t&Lt&&e.push(oe),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,r=t.deltaY;return n&e.direction||(e.direction&zt?(n=0===s?Et:s<0?Pt:It,i=s!=this.pX,o=Math.abs(t.deltaX)):(n=0===r?Et:r<0?Nt:Rt,i=r!=this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&re||!(this.state&re)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(it,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ie]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&re)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),u(ot,K,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[te]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(Ct|Tt)&&!n)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=h(function(){this.state=de,this.tryEmit()},e.time,this);else if(t.eventType&Ct)return de;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===de&&(t&&t.eventType&Ct?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=gt(),this.manager.emit(this.options.event,this._input)))}}),u(nt,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ie]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&re)}}),u(st,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:zt|Lt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(zt|Lt)?e=t.overallVelocity:i&zt?e=t.overallVelocityX:i&Lt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&Ct},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(rt,K,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ee]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=Ct)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||A(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=de,this.tryEmit()},e.interval,this),re):de}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==de&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.6",at.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[nt,{enable:!1}],[it,{enable:!1},["rotate"]],[st,{direction:zt}],[et,{direction:zt},["swipe"]],[rt],[rt,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ht.prototype={set:function(t){return ct(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&de)&&(n=e.curRecognizer=null);for(var s=0;s<o.length;)i=o[s],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(re|ae|he)&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof K)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=w(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){var i=this.handlers;return l(_(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return l(_(t),function(t){e?i[t]&&i[t].splice(w(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&lt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](e),o++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ct(at,{INPUT_START:Dt,INPUT_MOVE:St,INPUT_END:Ct,INPUT_CANCEL:Tt,STATE_POSSIBLE:se,STATE_BEGAN:re,STATE_CHANGED:ae,STATE_ENDED:he,STATE_RECOGNIZED:de,STATE_CANCELLED:le,STATE_FAILED:32,DIRECTION_NONE:Et,DIRECTION_LEFT:Pt,DIRECTION_RIGHT:It,DIRECTION_UP:Nt,DIRECTION_DOWN:Rt,DIRECTION_HORIZONTAL:zt,DIRECTION_VERTICAL:Lt,DIRECTION_ALL:At,Manager:ht,Input:S,TouchAction:X,TouchInput:V,MouseInput:H,PointerEventInput:W,TouchMouseInput:q,SingleTouchInput:Y,Recognizer:K,AttrRecognizer:tt,Tap:rt,Pan:et,Swipe:st,Pinch:it,Rotate:nt,Press:ot,on:v,off:g,each:l,merge:bt,extend:yt,assign:ct,inherit:u,bindFn:p,prefixed:O}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=at,(o=function(){return at}.call(e,i,e,t))!==a&&(t.exports=o)}(window,document)},function(t,e,i){var o,n,s;!function(i,r){n=[],o=r,void 0!==(s="function"==typeof o?o.apply(e,n):o)&&(t.exports=s)}(0,function(){function t(t){var e,i=t&&t.preventDefault||!1,o=t&&t.container||window,n={},s={keydown:{},keyup:{}},r={};for(e=97;e<=122;e++)r[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)r[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)r[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)r["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)r["num"+e]={code:96+e,shift:!1};r["num*"]={code:106,shift:!1},r["num+"]={code:107,shift:!1},r["num-"]={code:109,shift:!1},r["num/"]={code:111,shift:!1},r["num."]={code:110,shift:!1},r.left={code:37,shift:!1},r.up={code:38,shift:!1},r.right={code:39,shift:!1},r.down={code:40,shift:!1},r.space={code:32,shift:!1},r.enter={code:13,shift:!1},r.shift={code:16,shift:void 0},r.esc={code:27,shift:!1},r.backspace={code:8,shift:!1},r.tab={code:9,shift:!1},r.ctrl={code:17,shift:!1},r.alt={code:18,shift:!1},r.delete={code:46,shift:!1},r.pageup={code:33,shift:!1},r.pagedown={code:34,shift:!1},r["="]={code:187,shift:!1},r["-"]={code:189,shift:!1},r["]"]={code:221,shift:!1},r["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},h=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==s[e][t.keyCode]){for(var o=s[e][t.keyCode],n=0;n<o.length;n++)void 0===o[n].shift?o[n].fn(t):1==o[n].shift&&1==t.shiftKey?o[n].fn(t):0==o[n].shift&&0==t.shiftKey&&o[n].fn(t);1==i&&t.preventDefault()}};return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);void 0===s[i][r[t].code]&&(s[i][r[t].code]=[]),s[i][r[t].code].push({fn:e,shift:r[t].shift})},n.bindAll=function(t,e){void 0===e&&(e="keydown");for(var i in r)r.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in r)if(r.hasOwnProperty(e)){if(1==t.shiftKey&&1==r[e].shift&&t.keyCode==r[e].code)return e;if(0==t.shiftKey&&0==r[e].shift&&t.keyCode==r[e].code)return e;if(t.keyCode==r[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],n=s[i][r[t].code];if(void 0!==n)for(var a=0;a<n.length;a++)n[a].fn==e&&n[a].shift==r[t].shift||o.push(s[i][r[t].code][a]);s[i][r[t].code]=o}else s[i][r[t].code]=[]},n.reset=function(){s={keydown:{},keyup:{}}},n.destroy=function(){s={keydown:{},keyup:{}},o.removeEventListener("keydown",a,!0),o.removeEventListener("keyup",h,!0)},o.addEventListener("keydown",a,!0),o.addEventListener("keyup",h,!0),n}return t})},function(t,e,i){e.util=i(1),e.DOMutil=i(8),e.DataSet=i(9),e.DataView=i(11),e.Queue=i(10),e.Timeline=i(25),e.Graph2d=i(50),e.timeline={Core:i(33),DateUtil:i(32),Range:i(30),stack:i(37),TimeStep:i(35),components:{items:{Item:i(39),BackgroundItem:i(43),BoxItem:i(41),PointItem:i(42),RangeItem:i(38)},BackgroundGroup:i(40),Component:i(31),CurrentTime:i(48),CustomTime:i(46),DataAxis:i(52),DataScale:i(53),GraphGroup:i(54),Group:i(36),ItemSet:i(34),Legend:i(58),LineGraph:i(51),TimeAxis:i(44)}},e.moment=i(2),e.Hammer=i(20),e.keycharm=i(23)},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof c||i instanceof u)&&i instanceof Object){var s=o;o=i,i=s}var r=this;this.defaultOptions={start:null,end:null,autoResize:!0,throttleRedraw:0,orientation:{axis:"bottom",item:"bottom"},rtl:!1,moment:d,width:null,height:null,maxHeight:null,minHeight:null},this.options=l.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new p(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new m(this.body),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new v(this.body),this.components.push(this.currentTime),this.itemSet=new y(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){r.emit("click",r.getEventProperties(t))}),this.on("doubletap",function(t){r.emit("doubleClick",r.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},this.fitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!r.fitDone)if(r.fitDone=!0,void 0!=r.options.start||void 0!=r.options.end){if(void 0==r.options.start||void 0==r.options.end)var t=r.getItemRange();var e=void 0!=r.options.start?r.options.start:t.min,i=void 0!=r.options.end?r.options.end:t.max;r.setWindow(e,i,{animation:!1})}else r.fit({animation:!1})}),o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}var s=i(26),r=o(s),a=i(29),h=o(a),d=(i(13),i(20),i(2)),l=i(1),c=i(9),u=i(11),p=i(30),f=i(33),m=i(44),v=i(48),g=i(46),y=i(34),b=i(29).printStyle,_=i(49).allOptions,w=i(49).configureOptions;n.prototype=new f,n.prototype._createConfigurator=function(){return new r.default(this,this.dom.container,w)},n.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},n.prototype.setOptions=function(t){if(!0===h.default.validate(t,_)&&console.log("%cErrors have been found in the supplied options object.",b),f.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var i=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(i)}}},n.prototype.setItems=function(t){var e;e=t?t instanceof c||t instanceof u?t:new c(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},n.prototype.setGroups=function(t){var e;e=t?t instanceof c||t instanceof u?t:new c(t):null,this.groupsData=e,this.itemSet.setGroups(e)},n.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},n.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},n.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},n.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],o=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),n=null,s=null;if(o.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===n||e<n)&&(n=e),(null===s||i>s)&&(s=i)}),null!==n&&null!==s){var r=(n+s)/2,a=Math.max(this.range.end-this.range.start,1.1*(s-n)),h=!e||void 0===e.animation||e.animation;this.range.setRange(r-a/2,r+a/2,h)}}},n.prototype.fit=function(t){var e,i=!t||void 0===t.animation||t.animation,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(e=this.getDataRange(),this.moveTo(e.min.valueOf(),{animation:i})):(e=this.getItemRange(),this.range.setRange(e.min,e.max,i))},n.prototype.getItemRange=function(){var t=this,e=this.getDataRange(),i=null!==e.min?e.min.valueOf():null,o=null!==e.max?e.max.valueOf():null,n=null,s=null;if(null!=i&&null!=o){var r,a,h,d,c;!function(){var e=function(t){return l.convert(t.data.start,"Date").valueOf()},u=function(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return l.convert(e,"Date").valueOf()};r=o-i,r<=0&&(r=10),a=r/t.props.center.width,l.forEach(t.itemSet.items,function(t){t.show(),t.repositionX();var r=e(t),h=u(t);if(this.options.rtl)var d=r-(t.getWidthRight()+10)*a,l=h+(t.getWidthLeft()+10)*a;else var d=r-(t.getWidthLeft()+10)*a,l=h+(t.getWidthRight()+10)*a;d<i&&(i=d,n=t),l>o&&(o=l,s=t)}.bind(t)),n&&s&&(h=n.getWidthLeft()+10,d=s.getWidthRight()+10,(c=t.props.center.width-h-d)>0&&(t.options.rtl?(i=e(n)-d*r/c,o=u(s)+h*r/c):(i=e(n)-h*r/c,o=u(s)+d*r/c)))}()}return{min:null!=i?new Date(i):null,max:null!=o?new Date(o):null}},n.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var o=l.convert(i.start,"Date").valueOf(),n=l.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||o<t)&&(t=o),(null===e||n>e)&&(e=n)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY;if(this.options.rtl)var o=l.getAbsoluteRight(this.dom.centerContainer)-e;else var o=e-l.getAbsoluteLeft(this.dom.centerContainer);var n=i-l.getAbsoluteTop(this.dom.centerContainer),s=this.itemSet.itemFromTarget(t),r=this.itemSet.groupFromTarget(t),a=g.customTimeFromTarget(t),h=this.itemSet.options.snap||null,d=this.body.util.getScale(),c=this.body.util.getStep(),u=this._toTime(o),p=h?h(u,d,c):u,f=l.getTarget(t),m=null;return null!=s?m="item":null!=a?m="custom-time":l.hasParent(f,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&l.hasParent(f,this.timeAxis2.dom.foreground)?m="axis":l.hasParent(f,this.itemSet.dom.labelSet)?m="group-label":l.hasParent(f,this.currentTime.bar)?m="current-time":l.hasParent(f,this.dom.center)&&(m="background"),{event:t,item:s?s.id:null,group:r?r.groupId:null,what:m,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:n,time:u,snappedTime:p}},t.exports=n},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(27),a=function(t){return t&&t.__esModule?t:{default:t}}(r),h=i(1),d=function(){function t(e,i,n){var s=arguments.length<=3||void 0===arguments[3]?1:arguments[3];o(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},h.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new a.default(s),this.wrapper=void 0}return s(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":n(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,o=!1;for(var n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,o=!1,"function"==typeof e?(o=e(n,[]),o=o||this._handleObject(this.configureOptions[n],[n],!0)):!0!==e&&-1===e.indexOf(n)||(o=!0),!1!==o&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),i++);!0===this.options.showButton&&function(){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},t.optionsContainer=document.createElement("div"),t.optionsContainer.className="vis-configuration vis-config-option-container",t.domElements.push(t.optionsContainer),t.domElements.push(e)}(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){var e=arguments,i=this;if(!0===this.allowCreation){var o,s,r,a=function(){var n=document.createElement("div");for(n.className="vis-configuration vis-config-item vis-config-s"+t.length,o=e.length,s=Array(o>1?o-1:0),r=1;r<o;r++)s[r-1]=e[r];return s.forEach(function(t){n.appendChild(t)}),i.domElements.push(n),{v:i.domElements.length}}();if("object"===(void 0===a?"undefined":n(a)))return a.v}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=document.createElement("div");return o.className="vis-configuration vis-config-label vis-config-s"+e.length,o.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",o}},{key:"_makeDropdown",value:function(t,e,i){var o=document.createElement("select");o.className="vis-configuration vis-config-select";var n=0;void 0!==e&&-1!==t.indexOf(e)&&(n=t.indexOf(e));for(var s=0;s<t.length;s++){var r=document.createElement("option");r.value=t[s],s===n&&(r.selected="selected"),r.innerHTML=t[s],o.appendChild(r)}var a=this;o.onchange=function(){a._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,o)}},{key:"_makeRange",value:function(t,e,i){var o=t[0],n=t[1],s=t[2],r=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=n,a.max=s}catch(t){}a.step=r;var h="",d=0;if(void 0!==e){
e<0&&1.2*e<n?(a.min=Math.ceil(1.2*e),d=a.min,h="range increased"):e/1.2<n&&(a.min=Math.ceil(e/1.2),d=a.min,h="range increased"),1.2*e>s&&1!==s&&(a.max=Math.ceil(1.2*e),d=a.max,h="range increased"),a.value=e}else a.value=o;var l=document.createElement("input");l.className="vis-configuration vis-config-rangeinput",l.value=a.value;var c=this;a.onchange=function(){l.value=this.value,c._update(Number(this.value),i)},a.oninput=function(){l.value=this.value};var u=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,u,a,l);""!==h&&this.popupHistory[p]!==d&&(this.popupHistory[p]=d,this._setupPopup(h,p))}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var o=document.createElement("div");o.id="vis-configuration-popup",o.className="vis-configuration-popup",o.innerHTML=t,o.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:o,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index],i=e.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0!==e&&(o.checked=e,e!==t&&("object"===(void 0===t?"undefined":n(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var s=this;o.onchange=function(){s._update(this.checked,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}},{key:"_makeTextInput",value:function(t,e,i){var o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var n=this;o.onchange=function(){n._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_makeColorField",value:function(t,e,i){var o=this,n=t[1],s=document.createElement("div");e=void 0===e?n:e,"none"!==e?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=e):s.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,s.onclick=function(){o._showColorPicker(e,s,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,s)}},{key:"_showColorPicker",value:function(t,e,i){var o=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,o._update(n,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){o._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=!1,n=this.options.filter,s=!1;for(var r in t)if(t.hasOwnProperty(r)){o=!0;var a=t[r],d=h.copyAndExtendArray(e,r);if("function"==typeof n&&!1===(o=n(r,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,o=this._handleObject(a,d,!0),this.allowCreation=!1===i),!1!==o){s=!0;var l=this._getValue(d);if(a instanceof Array)this._handleArray(a,l,d);else if("string"==typeof a)this._makeTextInput(a,l,d);else if("boolean"==typeof a)this._makeCheckbox(a,l,d);else if(a instanceof Object){var c=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==r&&(c=!1),!0===c)if(void 0!==a.enabled){var u=h.copyAndExtendArray(d,"enabled"),p=this._getValue(u);if(!0===p){var f=this._makeLabel(r,d,!0);this._makeItem(d,f),s=this._handleObject(a,d)||s}else this._makeCheckbox(a,p,d)}else{var m=this._makeLabel(r,d,!0);this._makeItem(d,m),s=this._handleObject(a,d)||s}}else console.error("dont know how to handle",a,r,d)}}return s}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=i;t="true"===t||t,t="false"!==t&&t;for(var n=0;n<e.length;n++)"global"!==e[n]&&(void 0===o[e[n]]&&(o[e[n]]={}),n!==e.length-1?o=o[e[n]]:o[e[n]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(20),r=i(28),a=i(1),h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];o(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return n(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"==typeof t)return e[t]}},{key:"setColor",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];if("none"!==t){var i=void 0,o=this._isColorString(t);if(void 0!==o&&(t=o),!0===a.isString(t)){if(!0===a.isValidRGB(t)){var n=t.substr(4).substr(0,t.length-5).split(",");i={r:n[0],g:n[1],b:n[2],a:1}}else if(!0===a.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===a.isValidHex(t)){var r=a.hexToRGB(t);i={r:r.r,g:r.g,b:r.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var h=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:h}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(arguments.length<=0||void 0===arguments[0]||arguments[0])&&(this.previousColor=a.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(arguments.length<=1||void 0===arguments[1]||arguments[1])&&(this.initialColor=a.extend({},t)),this.color=t;var e=a.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,o=this.r*e.s,n=this.centerCoordinates.x+o*Math.sin(i*e.h),s=this.centerCoordinates.y+o*Math.cos(i*e.h);this.colorPickerSelector.style.left=n-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=a.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=a.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.color:arguments[0],e=a.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,o,n),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new s(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),r.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var o=void 0,n=void 0,s=void 0,r=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var h=2*Math.PI/360,d=1/this.r,l=void 0;for(s=0;s<360;s++)for(r=0;r<this.r;r++)o=this.centerCoordinates.x+r*Math.sin(h*s),n=this.centerCoordinates.y+r*Math.cos(h*s),l=a.HSVToRGB(s*(1/360),r*d,1),t.fillStyle="rgb("+l.r+","+l.g+","+l.b+")",t.fillRect(o-.5,n-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,o=t.center.y-e.top,n=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,r=i-s,h=o-n,d=Math.atan2(r,h),l=.98*Math.min(Math.sqrt(r*r+h*h),s),c=Math.cos(d)*l+n,u=Math.sin(d)*l+s;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var p=d/(2*Math.PI);p=p<0?p+1:p;var f=l/this.r,m=a.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=p,m.s=f;var v=a.HSVToRGB(m.h,m.s,m.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e.default=h},function(t,e,i){i(20);e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(1),a=!1,h=void 0,d="background: #FFeeee; color: #dd0000",l=function(){function t(){o(this,t)}return s(t,null,[{key:"validate",value:function(e,i,o){a=!1,h=i;var n=i;return void 0!==o&&(n=i[o]),t.parse(e,n,[]),a}},{key:"parse",value:function(e,i,o){for(var n in e)e.hasOwnProperty(n)&&t.check(n,e,i,o)}},{key:"check",value:function(e,i,o,n){void 0===o[e]&&void 0===o.__any__?t.getSuggestion(e,o,n):void 0===o[e]&&void 0!==o.__any__?"object"===t.getType(i[e])&&void 0!==o.__any__.__type__?t.checkFields(e,i,o,"__any__",o.__any__.__type__,n):t.checkFields(e,i,o,"__any__",o.__any__,n):void 0!==o[e].__type__?t.checkFields(e,i,o,e,o[e].__type__,n):t.checkFields(e,i,o,e,o[e],n)}},{key:"checkFields",value:function(e,i,o,n,s,h){var l=t.getType(i[e]),c=s[l];void 0!==c?"array"===t.getType(c)&&-1===c.indexOf(i[e])?(console.log('%cInvalid option detected in "'+e+'". Allowed values are:'+t.print(c)+' not "'+i[e]+'". '+t.printLocation(h,e),d),a=!0):"object"===l&&"__any__"!==n&&(h=r.copyAndExtendArray(h,e),t.parse(i[e],o[n],h)):void 0===s.any&&(console.log('%cInvalid type received for "'+e+'". Expected: '+t.print(Object.keys(s))+". Received ["+l+'] "'+i[e]+'"'+t.printLocation(h,e),d),a=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":n(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,o){var n=t.findInOptions(e,i,o,!1),s=t.findInOptions(e,h,[],!0);void 0!==n.indexMatch?console.log('%cUnknown option detected: "'+e+'" in '+t.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n',d):s.distance<=4&&n.distance>s.distance?console.log('%cUnknown option detected: "'+e+'" in '+t.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""),d):n.distance<=8?console.log('%cUnknown option detected: "'+e+'". Did you mean "'+n.closestMatch+'"?'+t.printLocation(n.path,e),d):console.log('%cUnknown option detected: "'+e+'". Did you mean one of these: '+t.print(Object.keys(i))+t.printLocation(o,e),d),a=!0}},{key:"findInOptions",value:function(e,i,o){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],s=1e9,a="",h=[],d=e.toLowerCase(),l=void 0;for(var c in i){var u=void 0;if(void 0!==i[c].__type__&&!0===n){var p=t.findInOptions(e,i[c],r.copyAndExtendArray(o,c));s>p.distance&&(a=p.closestMatch,h=p.path,s=p.distance,l=p.indexMatch)}else-1!==c.toLowerCase().indexOf(d)&&(l=c),u=t.levenshteinDistance(e,c),s>u&&(a=c,h=r.copyArray(o),s=u)}return{closestMatch:a,path:h,distance:s,indexMatch:l}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length<=2||void 0===arguments[2]?"Problem value found at: \n":arguments[2],o="\n\n"+i+"options = {\n",n=0;n<t.length;n++){for(var s=0;s<n+1;s++)o+="  ";o+=t[n]+": {\n"}for(var r=0;r<t.length+1;r++)o+="  ";o+=e+"\n";for(var a=0;a<t.length+1;a++){for(var h=0;h<t.length-a;h++)o+="  ";o+="}\n"}return o+"\n\n"}},{key:"print",value:function(t){return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,o=[];for(i=0;i<=e.length;i++)o[i]=[i];var n;for(n=0;n<=t.length;n++)o[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)e.charAt(i-1)==t.charAt(n-1)?o[i][n]=o[i-1][n-1]:o[i][n]=Math.min(o[i-1][n-1]+1,Math.min(o[i][n-1]+1,o[i-1][n]+1));return o[e.length][t.length]}}]),t}();e.default=l,e.printStyle=d},function(t,e,i){function o(t,e){var i=a().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf(),this.end=i.clone().add(4,"days").valueOf(),this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:a,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=r.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(e)}function n(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=i(1),a=(i(28),i(2)),h=i(31),d=i(32);o.prototype=new h,o.prototype.setOptions=function(t){if(t){var e=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl"];r.selectiveExtend(e,this.options,t),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},o.prototype.setRange=function(t,e,i,o){!0!==o&&(o=!1);var n=void 0!=t?r.convert(t,"Date").valueOf():null,a=void 0!=e?r.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),i){var h=this,l=this.start,c=this.end,u="object"===(void 0===i?"undefined":s(i))&&"duration"in i?i.duration:500,p="object"===(void 0===i?"undefined":s(i))&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",f=r.easingFunctions[p];if(!f)throw new Error("Unknown easing function "+JSON.stringify(p)+". Choose from: "+Object.keys(r.easingFunctions).join(", "));var m=(new Date).valueOf(),v=!1;return function t(){if(!h.props.touch.dragging){var e=(new Date).valueOf(),i=e-m,s=f(i/u),r=i>u,p=r||null===n?n:l+(n-l)*s,y=r||null===a?a:c+(a-c)*s;g=h._applyRange(p,y),d.updateHiddenDates(h.options.moment,h.body,h.options.hiddenDates),v=v||g,g&&h.body.emitter.emit("rangechange",{start:new Date(h.start),end:new Date(h.end),byUser:o}),r?v&&h.body.emitter.emit("rangechanged",{start:new Date(h.start),end:new Date(h.end),byUser:o}):h.animationTimer=setTimeout(t,20)}}()}var g=this._applyRange(n,a);if(d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),g){var y={start:new Date(this.start),end:new Date(this.end),byUser:o};this.body.emitter.emit("rangechange",y),this.body.emitter.emit("rangechanged",y)}},o.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},o.prototype._applyRange=function(t,e){var i,o=null!=t?r.convert(t,"Date").valueOf():this.start,n=null!=e?r.convert(e,"Date").valueOf():this.end,s=null!=this.options.max?r.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?r.convert(this.options.min,"Date").valueOf():null;if(isNaN(o)||null===o)throw new Error('Invalid start "'+t+'"');if(isNaN(n)||null===n)throw new Error('Invalid end "'+e+'"');if(n<o&&(n=o),null!==a&&o<a&&(i=a-o,o+=i,n+=i,null!=s&&n>s&&(n=s)),null!==s&&n>s&&(i=n-s,o-=i,n-=i,null!=a&&o<a&&(o=a)),null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);h<0&&(h=0),n-o<h&&(this.end-this.start===h&&o>this.start&&n<this.end?(o=this.start,n=this.end):(i=h-(n-o),o-=i/2,n+=i/2))}if(null!==this.options.zoomMax){var d=parseFloat(this.options.zoomMax);d<0&&(d=0),n-o>d&&(this.end-this.start===d&&o<this.start&&n>this.end?(o=this.start,n=this.end):(i=n-o-d,o+=i/2,n-=i/2))}var l=this.start!=o||this.end!=n;return o>=this.start&&o<=this.end||n>=this.start&&n<=this.end||this.start>=o&&this.start<=n||this.end>=o&&this.end<=n||this.body.emitter.emit("checkRangedItems"),this.start=o,this.end=n,l},o.prototype.getRange=function(){return{start:this.start,end:this.end}},o.prototype.conversion=function(t,e){return o.conversion(this.start,this.end,t,e)},o.conversion=function(t,e,i,o){return void 0===o&&(o=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-o)}:{offset:0,scale:1}},o.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},o.prototype._onDrag=function(t){if(this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;n(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var o=this.props.touch.end-this.props.touch.start;o-=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var s="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;if(this.options.rtl)var r=i/s*o;else var r=-i/s*o;var a=this.props.touch.start+r,h=this.props.touch.end+r,l=d.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0),c=d.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0);if(l!=a||c!=h)return this.deltaDifference+=i,this.props.touch.start=l,this.props.touch.end=c,void this._onDrag(t);this.previousDelta=i,this._applyRange(a,h);var u=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:u,end:p,byUser:!0})}},o.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},o.prototype._onMouseWheel=function(t){if(this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&(!this.options.zoomKey||t[this.options.zoomKey])){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i;i=e<0?1-e/5:1/(1+e/5);var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center),n=this._pointerToDate(o);this.zoom(i,n,e)}t.preventDefault()}},o.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},o.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center));var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),s=o-n,r=i-n+(this.props.touch.start-(i-n))*e,a=i+s+(this.props.touch.end-(i+s))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var h=d.snapAwayFromHidden(this.body.hiddenDates,r,1-e,!0),l=d.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);h==r&&l==a||(this.props.touch.start=h,this.props.touch.end=l,
this.scaleOffset=1-t.scale,r=h,a=l),this.setRange(r,a,!1,!0),this.startToFront=!1,this.endToFront=!0}},o.prototype._isInsideRange=function(t){var e=t.center?t.center.x:t.clientX;if(this.options.rtl)var i=e-r.getAbsoluteLeft(this.body.dom.centerContainer);else var i=r.getAbsoluteRight(this.body.dom.centerContainer)-e;var o=this.body.util.toTime(i);return o>=this.start&&o<=this.end},o.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(n(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var o=this.body.domProps.center.height;return e=this.conversion(o),t.y/e.scale+e.offset},o.prototype.getPointer=function(t,e){return this.options.rtl?{x:r.getAbsoluteRight(e)-t.x,y:t.y-r.getAbsoluteTop(e)}:{x:t.x-r.getAbsoluteLeft(e),y:t.y-r.getAbsoluteTop(e)}},o.prototype.zoom=function(t,e,i){null==e&&(e=(this.start+this.end)/2);var o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=o-n,r=e-n+(this.start-(e-n))*t,a=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);var h=d.snapAwayFromHidden(this.body.hiddenDates,r,i,!0),l=d.snapAwayFromHidden(this.body.hiddenDates,a,-i,!0);h==r&&l==a||(r=h,a=l),this.setRange(r,a,!1,!0),this.startToFront=!1,this.endToFront=!0},o.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,o=this.end+e*t;this.start=i,this.end=o},o.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,o=this.start-i,n=this.end-i;this.setRange(o,n)},t.exports=o},function(t,e){function i(t,e){this.options=null,this.props=null}i.prototype.setOptions=function(t){t&&util.extend(this.options,t)},i.prototype.redraw=function(){return!1},i.prototype.destroy=function(){},i.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=i},function(t,e){e.convertHiddenOptions=function(t,i,o){if(o&&!Array.isArray(o))return e.convertHiddenOptions(t,i,[o]);if(i.hiddenDates=[],o&&1==Array.isArray(o)){for(var n=0;n<o.length;n++)if(void 0===o[n].repeat){var s={};s.start=t(o[n].start).toDate().valueOf(),s.end=t(o[n].end).toDate().valueOf(),i.hiddenDates.push(s)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i,o){if(o&&!Array.isArray(o))return e.updateHiddenDates(t,i,[o]);if(o&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,o);for(var n=t(i.range.start),s=t(i.range.end),r=i.range.end-i.range.start,a=r/i.domProps.centerContainer.width,h=0;h<o.length;h++)if(void 0!==o[h].repeat){var d=t(o[h].start),l=t(o[h].end);if("Invalid Date"==d._d)throw new Error("Supplied start date is not valid: "+o[h].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+o[h].end);var c=l-d;if(c>=4*a){var u=0,p=s.clone();switch(o[h].repeat){case"daily":d.day()!=l.day()&&(u=1),d.dayOfYear(n.dayOfYear()),d.year(n.year()),d.subtract(7,"days"),l.dayOfYear(n.dayOfYear()),l.year(n.year()),l.subtract(7-u,"days"),p.add(1,"weeks");break;case"weekly":var f=l.diff(d,"days"),m=d.day();d.date(n.date()),d.month(n.month()),d.year(n.year()),l=d.clone(),d.day(m),l.day(m),l.add(f,"days"),d.subtract(1,"weeks"),l.subtract(1,"weeks"),p.add(1,"weeks");break;case"monthly":d.month()!=l.month()&&(u=1),d.month(n.month()),d.year(n.year()),d.subtract(1,"months"),l.month(n.month()),l.year(n.year()),l.subtract(1,"months"),l.add(u,"months"),p.add(1,"months");break;case"yearly":d.year()!=l.year()&&(u=1),d.year(n.year()),d.subtract(1,"years"),l.year(n.year()),l.subtract(1,"years"),l.add(u,"years"),p.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat)}for(;d<p;)switch(i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()}),o[h].repeat){case"daily":d.add(1,"days"),l.add(1,"days");break;case"weekly":d.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":d.add(1,"months"),l.add(1,"months");break;case"yearly":d.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat)}i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()})}}e.removeDuplicates(i);var v=e.isHidden(i.range.start,i.hiddenDates),g=e.isHidden(i.range.end,i.hiddenDates),y=i.range.start,b=i.range.end;1==v.hidden&&(y=1==i.range.startToFront?v.startDate-1:v.endDate+1),1==g.hidden&&(b=1==i.range.endToFront?g.startDate-1:g.endDate+1),1!=v.hidden&&1!=g.hidden||i.range._applyRange(y,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],o=0;o<e.length;o++)for(var n=0;n<e.length;n++)o!=n&&1!=e[n].remove&&1!=e[o].remove&&(e[n].start>=e[o].start&&e[n].end<=e[o].end?e[n].remove=!0:e[n].start>=e[o].start&&e[n].start<=e[o].end?(e[o].end=e[n].end,e[n].remove=!0):e[n].end>=e[o].start&&e[n].end<=e[o].end&&(e[o].start=e[n].start,e[n].remove=!0));for(var o=0;o<e.length;o++)!0!==e[o].remove&&i.push(e[o]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var o=!1,n=e.current.valueOf(),s=0;s<e.hiddenDates.length;s++){var r=e.hiddenDates[s].start,a=e.hiddenDates[s].end;if(n>=r&&n<a){o=!0;break}}if(1==o&&n<e._end.valueOf()&&n!=i){var h=t(i),d=t(a);h.year()!=d.year()?e.switchedYear=!0:h.month()!=d.month()?e.switchedMonth=!0:h.dayOfYear()!=d.dayOfYear()&&(e.switchedDay=!0),e.current=d}},e.toScreen=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return(i.valueOf()-n.offset)*n.scale}var s=e.isHidden(i,t.body.hiddenDates);1==s.hidden&&(i=s.startDate);var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i);var n=t.range.conversion(o,r);return(i.valueOf()-n.offset)*n.scale},e.toTime=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return new Date(i/n.scale+n.offset)}var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=t.range.end-t.range.start-s,a=r*i/o,h=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a);return new Date(h+a+t.range.start)},e.getHiddenDurationBetween=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n].start,r=t[n].end;s>=e&&r<i&&(o+=r-s)}return o},e.correctTimeForHidden=function(t,i,o,n){return n=t(n).toDate().valueOf(),n-=e.getHiddenDurationBefore(t,i,o,n)},e.getHiddenDurationBefore=function(t,e,i,o){var n=0;o=t(o).toDate().valueOf();for(var s=0;s<e.length;s++){var r=e[s].start,a=e[s].end;r>=i.start&&a<i.end&&o>=a&&(n+=a-r)}return n},e.getAccumulatedHiddenDuration=function(t,e,i){for(var o=0,n=0,s=e.start,r=0;r<t.length;r++){var a=t[r].start,h=t[r].end;if(a>=e.start&&h<e.end){if(n+=a-s,s=h,n>=i)break;o+=h-a}}return o},e.snapAwayFromHidden=function(t,i,o,n){var s=e.isHidden(i,t);return 1==s.hidden?o<0?1==n?s.startDate-(s.endDate-i)-1:s.startDate-1:1==n?s.endDate+(i-s.startDate)+1:s.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var o=e[i].start,n=e[i].end;if(t>=o&&t<n)return{hidden:!0,startDate:o,endDate:n}}return{hidden:!1,startDate:o,endDate:n}}},function(t,e,i){function o(){}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(13),r=i(20),a=i(28),h=i(1),d=(i(9),i(11),i(30),i(34),i(44)),l=i(45),c=i(32),u=i(46);s(o.prototype),o.prototype._create=function(t){function e(t){i.isActive()&&i.emit("mousewheel",t)}this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pan",this._onDrag.bind(this));var i=this;this.on("_change",function(t){t&&1==t.queue?i._redrawTimer||(i._redrawTimer=setTimeout(function(){i._redrawTimer=null,i._redraw()},0)):i._redraw()}),this.hammer=new r(this.dom.root);var o=this.hammer.get("pinch").set({enable:!0});if(a.disablePreventDefaultVertically(o),this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){var e=function(e){i.isActive()&&i.emit(t,e)};i.hammer.on(t,e),i.listeners[t]=e}),a.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this)),a.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this)),this.dom.root.addEventListener("mousewheel",e),this.dom.root.addEventListener("DOMMouseScroll",e),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},o.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","throttleRedraw"];if(h.selectiveExtend(e,this.options,t),this.options.rtl){var i=this.dom.leftContainer;this.dom.leftContainer=this.dom.rightContainer,this.dom.rightContainer=i,this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"}if(this.options.orientation={item:void 0,axis:void 0},"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===n(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var o=this.timeAxis2=new d(this.body);o.setOptions=function(t){var e=t?h.extend({},t):{};e.orientation="top",d.prototype.setOptions.call(o,e)},this.components.push(o)}}else if(this.timeAxis2){var s=this.components.indexOf(this.timeAxis2);-1!==s&&this.components.splice(s,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&c.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new l(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var r=h.deepExtend({},this.options);this.components.forEach(function(t){h.deepExtend(r,t.options)}),this.configurator.setModuleOptions({global:r})}this._origRedraw?this._redraw():(this._origRedraw=this._redraw.bind(this),this._redraw=h.throttle(this._origRedraw,this.options.throttleRedraw))},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},o.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));i.length>0&&i[0].setCustomTime(t)},o.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));return e[0].getCustomTime()},o.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));if(i.length>0)return i[0].setCustomTitle(t)},o.prototype.getEventProperties=function(t){return{event:t}},o.prototype.addCustomTime=function(t,e){var i=void 0!==t?h.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+JSON.stringify(e)+" already exists");var o=new u(this.body,h.extend({},this.options,{time:i,id:e}));return this.customTimes.push(o),this.components.push(o),this._redraw(),e},o.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},o.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},o.prototype.fit=function(t){var e=this.getDataRange();if(null!==e.min||null!==e.max){var i=e.max-e.min,o=new Date(e.min.valueOf()-.01*i),n=new Date(e.max.valueOf()+.01*i),s=!t||void 0===t.animation||t.animation;this.range.setRange(o,n,s)}},o.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},o.prototype.setWindow=function(t,e,i){var o;if(1==arguments.length){var n=arguments[0];o=void 0===n.animation||n.animation,this.range.setRange(n.start,n.end,o)}else o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,o)},o.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,o=h.convert(t,"Date").valueOf(),n=o-i/2,s=o+i/2,r=!e||void 0===e.animation||e.animation;this.range.setRange(n,s,r)},o.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},o.prototype.redraw=function(){this._redraw()},o.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,o=this.dom;if(o&&o.container&&0!=o.root.offsetWidth){c.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(h.addClassName(o.root,"vis-top"),h.removeClassName(o.root,"vis-bottom")):(h.removeClassName(o.root,"vis-top"),h.addClassName(o.root,"vis-bottom")),o.root.style.maxHeight=h.option.asSize(e.maxHeight,""),o.root.style.minHeight=h.option.asSize(e.minHeight,""),o.root.style.width=h.option.asSize(e.width,""),i.border.left=(o.centerContainer.offsetWidth-o.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(o.centerContainer.offsetHeight-o.centerContainer.clientHeight)/2,i.border.bottom=i.border.top;var n=o.root.offsetHeight-o.root.clientHeight,s=o.root.offsetWidth-o.root.clientWidth;0===o.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===o.root.clientHeight&&(s=n),i.center.height=o.center.offsetHeight,i.left.height=o.left.offsetHeight,i.right.height=o.right.offsetHeight,i.top.height=o.top.clientHeight||-i.border.top,i.bottom.height=o.bottom.clientHeight||-i.border.bottom;var a=Math.max(i.left.height,i.center.height,i.right.height),d=i.top.height+a+i.bottom.height+n+i.border.top+i.border.bottom;o.root.style.height=h.option.asSize(e.height,d+"px"),i.root.height=o.root.offsetHeight,i.background.height=i.root.height-n;var l=i.root.height-i.top.height-i.bottom.height-n;i.centerContainer.height=l,i.leftContainer.height=l,i.rightContainer.height=i.leftContainer.height,i.root.width=o.root.offsetWidth,i.background.width=i.root.width-s,i.left.width=o.leftContainer.clientWidth||-i.border.left,i.leftContainer.width=i.left.width,i.right.width=o.rightContainer.clientWidth||-i.border.right,i.rightContainer.width=i.right.width;var u=i.root.width-i.left.width-i.right.width-s;i.center.width=u,i.centerContainer.width=u,i.top.width=u,i.bottom.width=u,o.background.style.height=i.background.height+"px",o.backgroundVertical.style.height=i.background.height+"px",o.backgroundHorizontal.style.height=i.centerContainer.height+"px",o.centerContainer.style.height=i.centerContainer.height+"px",o.leftContainer.style.height=i.leftContainer.height+"px",o.rightContainer.style.height=i.rightContainer.height+"px",o.background.style.width=i.background.width+"px",o.backgroundVertical.style.width=i.centerContainer.width+"px",o.backgroundHorizontal.style.width=i.background.width+"px",o.centerContainer.style.width=i.center.width+"px",o.top.style.width=i.top.width+"px",o.bottom.style.width=i.bottom.width+"px",o.background.style.left="0",o.background.style.top="0",o.backgroundVertical.style.left=i.left.width+i.border.left+"px",o.backgroundVertical.style.top="0",o.backgroundHorizontal.style.left="0",o.backgroundHorizontal.style.top=i.top.height+"px",o.centerContainer.style.left=i.left.width+"px",o.centerContainer.style.top=i.top.height+"px",o.leftContainer.style.left="0",o.leftContainer.style.top=i.top.height+"px",o.rightContainer.style.left=i.left.width+i.center.width+"px",o.rightContainer.style.top=i.top.height+"px",o.top.style.left=i.left.width+"px",o.top.style.top="0",o.bottom.style.left=i.left.width+"px",o.bottom.style.top=i.top.height+i.centerContainer.height+"px",this._updateScrollTop();var p=this.props.scrollTop;"top"!=e.orientation.item&&(p+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),o.center.style.left="0",o.center.style.top=p+"px",o.left.style.left="0",o.left.style.top=p+"px",o.right.style.left="0",o.right.style.top=p+"px";var f=0==this.props.scrollTop?"hidden":"",m=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";o.shadowTop.style.visibility=f,o.shadowBottom.style.visibility=m,o.shadowTopLeft.style.visibility=f,o.shadowBottomLeft.style.visibility=m,o.shadowTopRight.style.visibility=f,o.shadowBottomRight.style.visibility=m;var v=this.props.center.height>this.props.centerContainer.height;this.hammer.get("pan").set({direction:v?r.DIRECTION_ALL:r.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t});if(t){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0,this.body.emitter.emit("changed")}},o.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},o.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},o.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},o.prototype._toTime=function(t){return c.toTime(this,t,this.props.center.width)},o.prototype._toGlobalTime=function(t){return c.toTime(this,t,this.props.root.width)},o.prototype._toScreen=function(t){return c.toScreen(this,t,this.props.center.width)},o.prototype._toGlobalScreen=function(t){return c.toScreen(this,t,this.props.root.width)},o.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},o.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){if(1!=t.options.autoResize)return void t._stopAutoResize();t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.body.emitter.emit("_change")))},h.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},o.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(h.removeEventListener(window,"resize",this._onResize),this._onResize=null)},o.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},o.prototype._onPinch=function(t){this.touch.allowDragging=!1},o.prototype._onDrag=function(t){if(this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop();this._setScrollTop(this.touch.initialScrollTop+e)!=i&&this.emit("verticalDrag")}},o.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},o.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.props.scrollTop},o.prototype._getScrollTop=function(){return this.props.scrollTop},o.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=o},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={rtl:!1,type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrderSwap:function(t,e,i){var o=e.order;e.order=t.order,t.order=o},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:d.snap,onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20}},this.options=r.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,o){i._onAdd(e.items)},update:function(t,e,o){i._onUpdate(e.items)},remove:function(t,e,o){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){i._onAddGroups(e.items)},update:function(t,e,o){i._onUpdateGroups(e.items)},remove:function(t,e,o){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(20),r=i(1),a=i(9),h=i(11),d=i(35),l=i(31),c=i(36),u=i(40),p=i(41),f=i(42),m=i(38),v=i(43),g="__ungrouped__",y="__background__";o.prototype=new l,o.types={background:v,box:p,range:m,point:f},o.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var o=document.createElement("div");o.className="vis-axis",this.dom.axis=o;var n=document.createElement("div");n.className="vis-labelset",this.dom.labelSet=n,this._updateUngrouped();var r=new u(y,null,this);r.show(),this.groups[y]=r,this.hammer=new s(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new s(this.body.dom.leftContainer),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL}),this.show()},o.prototype.setOptions=function(t){if(t){var e=["type","rtl","align","order","stack","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","hide","snap","groupOrderSwap"];r.selectiveExtend(e,this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===n(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===n(t.margin)&&(r.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===n(t.margin.item)&&r.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable):"object"===n(t.editable)&&r.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===n(t.groupEditable)&&r.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this)),this.markDirty()}},o.prototype.markDirty=function(t){this.groupIds=[],this.stackDirty=!0,t&&t.refreshItems&&r.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},o.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},o.prototype.setSelection=function(t){var e,i,o,n;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)o=this.selection[e],(n=this.items[o])&&n.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)o=t[e],(n=this.items[o])&&(this.selection.push(o),n.select())},o.prototype.getSelection=function(){return this.selection.concat([])},o.prototype.getVisibleItems=function(){var t=this.body.range.getRange();if(this.options.rtl)var e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end);else var i=this.body.util.toScreen(t.start),e=this.body.util.toScreen(t.end);var o=[];for(var n in this.groups)if(this.groups.hasOwnProperty(n))for(var s=this.groups[n],r=s.visibleItems,a=0;a<r.length;a++){var h=r[a];this.options.rtl?h.right<i&&h.right+h.width>e&&o.push(h.id):h.left<e&&h.left+h.width>i&&o.push(h.id)}return o},o.prototype._deselect=function(t){for(var e=this.selection,i=0,o=e.length;i<o;i++)if(e[i]==t){e.splice(i,1);break}},o.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=r.option.asSize,o=this.options,n=o.orientation.item,s=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",s=this._orderGroups()||s;var h=e.end-e.start;(h!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth)&&(this.stackDirty=!0),this.lastVisibleInterval=h,this.props.lastWidth=this.props.width;var d=this.stackDirty,l=this._firstGroup(),c={item:t.item,axis:t.axis},u={item:t.item,axis:t.item.vertical/2},p=0,f=t.axis+t.item.vertical;return this.groups[y].redraw(e,u,d),
r.forEach(this.groups,function(t){var i=t==l?c:u,o=t.redraw(e,i,d);s=o||s,p+=t.height}),p=Math.max(p,f),this.stackDirty=!1,a.style.height=i(p),this.props.width=a.offsetWidth,this.props.height=p,this.dom.axis.style.top=i("top"==n?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",s=this._isResized()||s},o.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t];return this.groups[e]||this.groups[g]||null},o.prototype._updateUngrouped=function(){var t,e,i=this.groups[g];this.groups[y];if(this.groupsData){if(i){i.hide(),delete this.groups[g];for(e in this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var o=this._getGroupId(t.data),n=this.groups[o];n&&n.add(t)||t.hide()}}}else if(!i){i=new c(null,null,this),this.groups[g]=i;for(e in this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},o.prototype.getLabelSet=function(){return this.dom.labelSet},o.prototype.setItems=function(t){var e,i=this,o=this.itemsData;if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o&&(r.forEach(this.itemListeners,function(t,e){o.off(e,t)}),e=o.getIds(),this._onRemove(e)),this.itemsData){var n=this.id;r.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,n)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},o.prototype.getItems=function(){return this.itemsData},o.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(r.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;r.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},o.prototype.getGroups=function(){return this.groupsData},o.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},o.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},o.prototype._getGroupId=function(t){return"background"==this._getType(t)&&void 0==t.group?y:this.groupsData?t.group:g},o.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i,n=e.itemsData.get(t,e.itemOptions),s=e.items[t],r=e._getType(n),a=o.types[r];if(s&&(a&&s instanceof a?e._updateItem(s,n):(i=s.selected,e._removeItem(s),s=null)),!s){if(!a)throw"rangeoverflow"==r?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+r+'"');s=new a(n,e.conversion,e.options),s.id=t,e._addItem(s),i&&(this.selection.push(t),s.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0})},o.prototype._onAdd=o.prototype._onUpdate,o.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var o=i.items[t];o&&(e++,i._removeItem(o))}),e&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0}))},o.prototype._order=function(){r.forEach(this.groups,function(t){t.order()})},o.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},o.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),o=e.groups[t];if(o)o.setData(i);else{if(t==g||t==y)throw new Error("Illegal group id. "+t+" is a reserved id.");var n=Object.create(e.options);r.extend(n,{height:null}),o=new c(t,i,e),e.groups[t]=o;for(var s in e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&o.add(a)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})},o.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},o.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder}),e=!r.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},o.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i&&i.add(t)},o.prototype._updateItem=function(t,e){var i=t.data.group,o=t.data.subgroup;if(t.setData(e),i!=t.data.group||o!=t.data.subgroup){var n=this.groups[i];n&&n.remove(t);var s=this._getGroupId(t.data),r=this.groups[s];r&&r.add(t)}},o.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},o.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof m&&e.push(t[i]);return e},o.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},o.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},o.prototype._onDragStart=function(t){var e,i=this.touchParams.item||null,o=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable)){if(!this.options.editable.updateTime&&!this.options.editable.updateGroup&&!i.editable)return;if(!1===i.editable)return;var n=this.touchParams.dragLeftItem,s=this.touchParams.dragRightItem;if(n)e={item:n,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(s)e={item:s,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else{this.touchParams.selectedItem=i;var r=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map(function(e){var i=o.items[e],n=o._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:r-n,data:this._cloneItemData(i.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)},o.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null;if(this.options.rtl)var i=r.getAbsoluteRight(this.dom.frame),o=i-t.center.x+10;else var i=r.getAbsoluteLeft(this.dom.frame),o=t.center.x-i-10;var n=this.body.util.toTime(o),s=this.body.util.getScale(),a=this.body.util.getStep(),h=e?e(n,s,a):n,d=h,l={type:"range",start:h,end:d,content:"new item"},c=r.randomUUID();l[this.itemsData._fieldId]=c;var u=this.groupFromTarget(t);u&&(l.group=u.groupId);var p=new m(l,this.conversion,this.options);p.id=c,p.data=this._cloneItemData(l),this._addItem(p);var f={item:p,initialX:t.center.x,data:p.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0,this.touchParams.itemProps=[f],t.stopPropagation()},o.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.options.snap||null;if(this.options.rtl)var o=this.body.dom.root.offsetLeft+this.body.domProps.right.width;else var o=this.body.dom.root.offsetLeft+this.body.domProps.left.width;var n=this.body.util.getScale(),s=this.body.util.getStep(),a=this.touchParams.selectedItem,h=e.options.editable.updateGroup,d=null;if(h&&a&&void 0!=a.data.group){var l=e.groupFromTarget(t);l&&(d=this._getGroupIndex(l.groupId))}this.touchParams.itemProps.forEach(function(a){var h=e.body.util.toTime(t.center.x-o),l=e.body.util.toTime(a.initialX-o);if(this.options.rtl)var c=-(h-l);else var c=h-l;var u=this._cloneItemData(a.item.data);if(!1!==a.item.editable){if(e.options.editable.updateTime||!0===a.item.editable)if(a.dragLeft){if(this.options.rtl){if(void 0!=u.end){var p=r.convert(a.data.end,"Date"),f=new Date(p.valueOf()+c);u.end=i?i(f,n,s):f}}else if(void 0!=u.start){var m=r.convert(a.data.start,"Date"),v=new Date(m.valueOf()+c);u.start=i?i(v,n,s):v}}else if(a.dragRight){if(this.options.rtl){if(void 0!=u.start){var m=r.convert(a.data.start,"Date"),v=new Date(m.valueOf()+c);u.start=i?i(v,n,s):v}}else if(void 0!=u.end){var p=r.convert(a.data.end,"Date"),f=new Date(p.valueOf()+c);u.end=i?i(f,n,s):f}}else if(void 0!=u.start){var m=r.convert(a.data.start,"Date").valueOf(),v=new Date(m+c);if(void 0!=u.end){var p=r.convert(a.data.end,"Date"),g=p.valueOf()-m.valueOf();u.start=i?i(v,n,s):v,u.end=new Date(u.start.valueOf()+g)}else u.start=i?i(v,n,s):v}if((e.options.editable.updateGroup||!0===a.item.editable)&&!a.dragLeft&&!a.dragRight&&null!=d&&void 0!=u.group){var y=d-a.groupOffset;y=Math.max(0,y),y=Math.min(e.groupIds.length-1,y),u.group=e.groupIds[y]}u=this._cloneItemData(u),e.options.onMoving(u,function(t){t&&a.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.stackDirty=!0,this.body.emitter.emit("_change")}},o.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var o=t.parent;o.remove(t),o.order(),i.add(t),i.order(),t.data.group=i.groupId}},o.prototype._onDragEnd=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),o=this.touchParams.itemProps;this.touchParams.itemProps=null,o.forEach(function(t){var o=t.item.id;if(null!=e.itemsData.get(o,e.itemOptions)){var n=this._cloneItemData(t.item.data);e.options.onMove(n,function(n){n?(n[i._fieldId]=o,i.update(n)):(t.item.setData(t.data),e.stackDirty=!0,e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.stackDirty=!0,e.body.emitter.emit("_change")})}.bind(this))}},o.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},o.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupFromTarget(t);if(e&&e.height!=this.groupTouchParams.group.height){var i=e.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,n=r.getAbsoluteTop(e.dom.foreground),s=this.groupTouchParams.group.height;if(i){if(n+s<o)return}else{if(n+e.height-s>o)return}}if(e&&e!=this.groupTouchParams.group){var a=this.groupsData,h=a.get(e.groupId),d=a.get(this.groupTouchParams.group.groupId);d&&h&&(this.options.groupOrderSwap(d,h,this.groupsData),this.groupsData.update(d),this.groupsData.update(h));var l=this.groupsData.getIds({order:this.options.groupOrder});if(!r.equalArray(l,this.groupTouchParams.originalOrder))for(var a=this.groupsData,c=this.groupTouchParams.originalOrder,u=this.groupTouchParams.group.groupId,p=Math.min(c.length,l.length),f=0,m=0,v=0;f<p;){for(;f+m<p&&f+v<p&&l[f+m]==c[f+v];)f++;if(f+m>=p)break;if(l[f+m]!=u)if(c[f+v]!=u){var g=l.indexOf(c[f+v]),y=a.get(l[f+m]),b=a.get(c[f+v]);this.options.groupOrderSwap(y,b,a),a.update(y),a.update(b);var _=l[f+m];l[f+m]=c[f+v],l[g]=_,f++}else v=1;else m=1}}}},o.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,o=e.groupsData.getDataSet(),n=r.extend({},o.get(i));e.options.onMoveGroup(n,function(t){if(t)t[o._fieldId]=i,o.update(t);else{var n=o.getIds({order:e.options.groupOrder});if(!r.equalArray(n,e.groupTouchParams.originalOrder))for(var s=e.groupTouchParams.originalOrder,a=Math.min(s.length,n.length),h=0;h<a;){for(;h<a&&n[h]==s[h];)h++;if(h>=a)break;var d=n.indexOf(s[h]),l=o.get(n[h]),c=o.get(s[h]);e.options.groupOrderSwap(l,c,o),groupsData.update(l),groupsData.update(c);var u=n[h];n[h]=s[h],n[d]=u,h++}}}),e.body.emitter.emit("groupDragged",{groupId:i})}},o.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)return void this._onMultiSelectItem(t);var o=this.getSelection(),n=this.itemFromTarget(t),s=n?[n.id]:[];this.setSelection(s);var r=this.getSelection();(r.length>0||o.length>0)&&this.body.emitter.emit("select",{items:r,event:t})}},o.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this,i=this.options.snap||null,o=this.itemFromTarget(t);if(o){var n=e.itemsData.get(o.id);this.options.onUpdate(n,function(t){t&&e.itemsData.getDataSet().update(t)})}else{if(this.options.rtl)var s=r.getAbsoluteRight(this.dom.frame),a=s-t.center.x;else var s=r.getAbsoluteLeft(this.dom.frame),a=t.center.x-s;var h=this.body.util.toTime(a),d=this.body.util.getScale(),l=this.body.util.getStep(),c={start:i?i(h,d,l):h,content:"new item"};if("range"===this.options.type){var u=this.body.util.toTime(a+this.props.width/5);c.end=i?i(u,d,l):u}c[this.itemsData._fieldId]=r.randomUUID();var p=this.groupFromTarget(t);p&&(c.group=p.groupId),c=this._cloneItemData(c),this.options.onAdd(c,function(t){t&&e.itemsData.getDataSet().add(t)})}}},o.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1)&&this.options.multiselect){var n=this.itemsData.get(e.id).group,s=void 0;this.options.multiselectPerGroup&&i.length>0&&(s=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&void 0!=s&&s!=n||i.push(e.id);var r=o._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||s==n){i=[];for(var a in this.items)if(this.items.hasOwnProperty(a)){var h=this.items[a],d=h.data.start,l=void 0!==h.data.end?h.data.end:d;!(d>=r.min&&l<=r.max)||this.options.multiselectPerGroup&&s!=this.itemsData.get(h.id).group||h instanceof v||i.push(h.id)}}}else{var c=i.indexOf(e.id);-1==c?i.push(e.id):i.splice(c,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},o._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},o.prototype.itemFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},o.prototype.groupFromTarget=function(t){for(var e=t.center?t.center.y:t.clientY,i=0;i<this.groupIds.length;i++){var o=this.groupIds[i],n=this.groups[o],s=n.dom.foreground,a=r.getAbsoluteTop(s);if(e>a&&e<a+s.offsetHeight)return n;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&e>a)return n}else if(0===i&&e<a+s.offset)return n}return null},o.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},o.prototype._cloneItemData=function(t,e){var i=r.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=r.convert(i.start,e&&e.start||"Date")),void 0!=i.end&&(i.end=r.convert(i.end,e&&e.end||"Date")),i},t.exports=o},function(t,e,i){function o(t,e,i,s){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(s)?this.hiddenDates=s:this.hiddenDates=void 0!=s?[s]:[],this.format=o.FORMAT}var n=i(2),s=i(32),r=i(1);o.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},o.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current),this._start=this.moment(this._start),this._end=this.moment(this._end)},o.prototype.setFormat=function(t){var e=r.deepExtend({},o.FORMAT);this.format=r.deepExtend(e,t)},o.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date,this._end=void 0!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},o.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},o.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},o.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},o.prototype.next=function(){var t=this.current.valueOf();if(this.current.month()<6)switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.subtract(this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}else switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),s.stepOverHiddenDates(this.moment,this,t)},o.prototype.getCurrent=function(){return this.current},o.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},o.prototype.setAutoScale=function(t){this.autoScale=t},o.prototype.setMinimumStep=function(t){if(void 0!=t){31104e9>t&&(this.scale="year",this.step=1e3),15552e9>t&&(this.scale="year",this.step=500),31104e8>t&&(this.scale="year",this.step=100),15552e8>t&&(this.scale="year",this.step=50),31104e7>t&&(this.scale="year",this.step=10),15552e7>t&&(this.scale="year",this.step=5),31104e6>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),2592e6>t&&(this.scale="month",this.step=1),432e6>t&&(this.scale="day",this.step=5),1728e5>t&&(this.scale="day",this.step=2),864e5>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),36e5>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),6e4>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),1e3>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1)}},o.snap=function(t,e,i){var o=n(t);if("year"==e){var s=o.year()+Math.round(o.month()/12);o.year(Math.round(s/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)o.date()>15?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e){switch(i){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30))}o.seconds(0),o.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else if("millisecond"==e){var r=i>5?i/2:1;o.milliseconds(Math.round(o.milliseconds()/r)*r)}return o},o.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},o.prototype.getLabelMinor=function(t){void 0==t&&(t=this.current);var e=this.format.minorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},o.prototype.getLabelMajor=function(t){void 0==t&&(t=this.current);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},o.prototype.getClassName=function(){function t(t){return t/r%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(o().add(1,"day"),"day")?" vis-tomorrow":t.isSame(o().add(-1,"day"),"day")?" vis-yesterday":""}function i(t){return t.isSame(new Date,"month")?" vis-current-month":""}var o=this.moment,n=this.moment(this.current),s=n.locale?n.locale("en"):n.lang("en"),r=this.step;switch(this.scale){case"millisecond":return t(s.milliseconds()).trim();case"second":return t(s.seconds()).trim();case"minute":return t(s.minutes()).trim();case"hour":var a=s.hours();return 4==this.step&&(a=a+"-h"+(a+4)),"vis-h"+a+e(s)+t(s.hours());case"weekday":return"vis-"+s.format("dddd").toLowerCase()+e(s)+function(t){return t.isSame(new Date,"week")?" vis-current-week":""}(s)+t(s.date());case"day":var h=s.date();return"vis-day"+h+" vis-"+s.format("MMMM").toLowerCase()+i(s)+t(h-1);case"month":return"vis-"+s.format("MMMM").toLowerCase()+i(s)+t(s.month());case"year":var d=s.year();return"vis-year"+d+function(t){return t.isSame(new Date,"year")?" vis-current-year":""}(s)+t(d);default:return""}},t.exports=o},function(t,e,i){function o(t,e,i){this.groupId=t,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}var n=i(1),s=i(37);i(38);o.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},o.prototype.setData=function(t){var e;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?this.itemSet.options.groupTemplate(t):t&&t.content)instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"";this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?n.removeClassName(this.dom.inner,"vis-hidden"):n.addClassName(this.dom.inner,"vis-hidden");var i=t&&t.className||null;i!=this.className&&(this.className&&(n.removeClassName(this.dom.label,this.className),n.removeClassName(this.dom.foreground,this.className),n.removeClassName(this.dom.background,this.className),n.removeClassName(this.dom.axis,this.className)),n.addClassName(this.dom.label,i),n.addClassName(this.dom.foreground,i),n.addClassName(this.dom.background,i),n.addClassName(this.dom.axis,i),this.className=i),this.style&&(n.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(n.addCssText(this.dom.label,t.style),this.style=t.style)},o.prototype.getLabelWidth=function(){return this.props.label.width},o.prototype.redraw=function(t,e,i){var o=!1,r=this.dom.marker.clientHeight;if(r!=this.lastMarkerHeight&&(this.lastMarkerHeight=r,n.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),this._calculateSubGroupHeights(),"function"==typeof this.itemSet.options.order){if(i){var a=this;n.forEach(this.items,function(t){t.displayed||(t.redraw(),a.visibleItems.push(t)),t.repositionX(!1)});var h=this.orderedItems.byStart.slice().sort(function(t,e){return a.itemSet.options.order(t.data,e.data)});s.stack(h,e,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t)}else this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.itemSet.options.stack?s.stack(this.visibleItems,e,i):s.nostack(this.visibleItems,e,this.subgroups);var d=this._calculateHeight(e),l=this.dom.foreground;this.top=l.offsetTop,this.right=l.offsetLeft,this.width=l.offsetWidth,o=n.updateProperty(this,"height",d)||o,o=n.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||o,o=n.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||o,this.dom.background.style.height=d+"px",this.dom.foreground.style.height=d+"px",this.dom.label.style.height=d+"px";for(var c=0,u=this.visibleItems.length;c<u;c++){this.visibleItems[c].repositionY(e)}return o},o.prototype._calculateSubGroupHeights=function(){if(Object.keys(this.subgroups).length>0){var t=this;this.resetSubgroups(),n.forEach(this.visibleItems,function(e){void 0!==e.data.subgroup&&(t.subgroups[e.data.subgroup].height=Math.max(t.subgroups[e.data.subgroup].height,e.height),t.subgroups[e.data.subgroup].visible=!0)})}},o.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var o=i[0].top,s=i[0].top+i[0].height;if(n.forEach(i,function(t){o=Math.min(o,t.top),s=Math.max(s,t.top+t.height)}),o>t.axis){var r=o-t.axis;s-=r,n.forEach(i,function(t){t.top-=r})}e=s+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},o.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},o.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var o=this.dom.axis;o.parentNode&&o.parentNode.removeChild(o)},o.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),void 0!==t.data.subgroup&&(void 0===this.subgroups[t.data.subgroup]&&(this.subgroups[t.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[t.data.subgroup].items.push(t)),this.orderSubgroups(),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},o.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},o.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1)},o.prototype.remove=function(t){delete this.items[t.id],t.setParent(null);var e=this.visibleItems.indexOf(t);if(-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup){var i=this.subgroups[t.data.subgroup];if(i){var o=i.items.indexOf(t);i.items.splice(o,1),i.items.length||(delete this.subgroups[t.data.subgroup],this.subgroupIndex--),this.orderSubgroups()}}},o.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},o.prototype.order=function(){for(var t=n.toArray(this.items),e=[],i=[],o=0;o<t.length;o++)void 0!==t[o].data.end&&i.push(t[o]),e.push(t[o]);this.orderedItems={byStart:e,byEnd:i},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},o.prototype._updateVisibleItems=function(t,e,i){var o,s,r=[],a={},h=(i.end-i.start)/4,d=i.start-h,l=i.end+h,c=function(t){return t<d?-1:t<=l?0:1};if(e.length>0)for(s=0;s<e.length;s++)this._checkIfVisibleWithReference(e[s],r,a,i);var u=n.binarySearchCustom(t.byStart,c,"data","start");if(this._traceVisible(u,t.byStart,r,a,function(t){return t.data.start<d||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,
s=0;s<t.byEnd.length;s++)this._checkIfVisibleWithReference(t.byEnd[s],r,a,i);else{var p=n.binarySearchCustom(t.byEnd,c,"data","end");this._traceVisible(p,t.byEnd,r,a,function(t){return t.data.end<d||t.data.end>l})}for(s=0;s<r.length;s++)o=r[s],o.displayed||o.show(),o.repositionX();return r},o.prototype._traceVisible=function(t,e,i,o,n){var s,r;if(-1!=t){for(r=t;r>=0&&(s=e[r],!n(s));r--)void 0===o[s.id]&&(o[s.id]=!0,i.push(s));for(r=t+1;r<e.length&&(s=e[r],!n(s));r++)void 0===o[s.id]&&(o[s.id]=!0,i.push(s))}},o.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},o.prototype._checkIfVisibleWithReference=function(t,e,i,o){t.isVisible(o)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},t.exports=o},function(t,e){e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},e.stack=function(t,i,o){var n,s;if(o)for(n=0,s=t.length;n<s;n++)t[n].top=null;for(n=0,s=t.length;n<s;n++){var r=t[n];if(r.stack&&null===r.top){r.top=i.axis;do{for(var a=null,h=0,d=t.length;h<d;h++){var l=t[h];if(null!==l.top&&l!==r&&l.stack&&e.collision(r,l,i.item,l.options.rtl)){a=l;break}}null!=a&&(r.top=a.top+a.height+i.item.vertical)}while(a)}}},e.nostack=function(t,e,i){var o,n,s;for(o=0,n=t.length;o<n;o++)if(void 0!==t[o].data.subgroup){s=e.axis;for(var r in i)i.hasOwnProperty(r)&&1==i[r].visible&&i[r].index<i[t[o].data.subgroup].index&&(s+=i[r].height+e.item.vertical);t[o].top=s}else t[o].top=e.axis},e.collision=function(t,e,i,o){return o?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top}},function(t,e,i){function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=(i(20),i(39));o.prototype=new n(null,null,null),o.prototype.baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||!0===this.editable)&&!1!==this.editable,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.box.className=this.baseClassName+o,this.overflow="hidden"!==window.getComputedStyle(t.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(t.box),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,i,o=this.parent.width,n=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end);void 0!==t&&!0!==t||(n<-o&&(n=-o),s>2*o&&(s=2*o));var r=Math.max(s-n,1);switch(this.overflow?(this.options.rtl?this.right=n:this.left=n,this.width=r+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=n:this.left=n,this.width=r,i=Math.min(s-n,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px",this.options.align){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(r-i,0)+"px":this.dom.content.style.left=Math.max(r-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((r-i)/2,0)+"px":this.dom.content.style.left=Math.max((r-i)/2,0)+"px";break;default:e=this.overflow?s>0?Math.max(-n,0):-i:n<0?-n:0,this.options.rtl?this.dom.content.style.right=e+"px":this.dom.content.style.left=e+"px"}},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,i){function o(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this.data&&this.data.hasOwnProperty("editable")&&"boolean"==typeof this.data.editable&&(this.editable=t.editable)}var n=i(20),s=i(1);o.prototype.stack=!0,o.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setData=function(t){void 0!=t.group&&this.data.group!=t.group&&this.parent.itemSet._moveToGroup(this,t.group),t.hasOwnProperty("editable")&&"boolean"==typeof t.editable&&(this.editable=t.editable),this.data=t,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},o.prototype.isVisible=function(t){return!1},o.prototype.show=function(){return!1},o.prototype.hide=function(){return!1},o.prototype.redraw=function(){},o.prototype.repositionX=function(){},o.prototype.repositionY=function(){},o.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.remove||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.deleteButton){var i=this,o=document.createElement("div");this.options.rtl?o.className="vis-delete-rtl":o.className="vis-delete",o.title="Delete this item",new n(o).on("tap",function(t){t.stopPropagation(),i.parent.removeFromDataSet(i)}),t.appendChild(o),this.dom.deleteButton=o}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},o.prototype._updateContents=function(t){var e;if(this.options.template){var i=this.parent.itemSet.itemsData.get(this.id);e=this.options.template(i)}else e=this.data.content;if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},o.prototype._updateTitle=function(t){null!=this.data.title?t.title=this.data.title||"":t.removeAttribute("vis-title")},o.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Object.keys(this.data)}for(var i=0;i<e.length;i++){var o=e[i],n=this.data[o];null!=n?t.setAttribute("data-"+o,n):t.removeAttribute("data-"+o)}}},o.prototype._updateStyle=function(t){this.style&&(s.removeCssText(t,this.style),this.style=null),this.data.style&&(s.addCssText(t,this.data.style),this.style=this.data.style)},o.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},o.prototype.getWidthLeft=function(){return 0},o.prototype.getWidthRight=function(){return 0},t.exports=o},function(t,e,i){function o(t,e,i){n.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}var n=(i(1),i(36));o.prototype=Object.create(n.prototype),o.prototype.redraw=function(t,e,i){this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var o=0,n=this.visibleItems.length;o<n;o++){this.visibleItems[o].repositionY(e)}return!1},o.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(39);i(1);o.prototype=new n(null,null,null),o.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="vis-item-content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="vis-line",t.dot=document.createElement("DIV"),t.dot.className="vis-dot",t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var o=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");o.appendChild(t.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var n=(this.options.editable.updateTime||this.options.editable.updateGroup||!0===this.editable)&&!1!==this.editable,s=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(n?" vis-editable":" vis-readonly");t.box.className="vis-item vis-box"+s,t.line.className="vis-item vis-line"+s,t.dot.className="vis-item vis-dot"+s,this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(t.box)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,o=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var n=this.parent.itemSet.props.height,s=n-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=n-s+"px",i.style.bottom="0"}o.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(39);o.prototype=new n(null,null,null),o.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="vis-item-content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),t.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||!0===this.editable)&&!1!==this.editable,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.point.className="vis-item vis-point"+o,t.dot.className="vis-item vis-dot"+o,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,this.options.rtl?t.content.style.marginRight=2*this.props.dot.width+"px":t.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,t.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?t.dot.style.right=this.props.dot.width/2+"px":t.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintDeleteButton(t.point)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=(i(20),i(39)),s=i(40),r=i(38);o.prototype=new n(null,null,null),o.prototype.baseClassName="vis-item vis-background",o.prototype.stack=!1,o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},o.prototype.show=r.prototype.show,o.prototype.hide=r.prototype.hide,o.prototype.repositionX=r.prototype.repositionX,o.prototype.repositionY=function(t){var e="top"===this.options.orientation.item;this.dom.content.style.top=e?"":"0",this.dom.content.style.bottom=e?"0":"";var i;if(void 0!==this.data.subgroup){var o=this.data.subgroup,n=this.parent.subgroups,r=n[o].index;if(1==e){i=this.parent.subgroups[o].height+t.item.vertical,i+=0==r?t.axis-.5*t.item.vertical:0;var a=this.parent.top;for(var h in n)n.hasOwnProperty(h)&&1==n[h].visible&&n[h].index<r&&(a+=n[h].height+t.item.vertical);a+=0!=r?t.axis-.5*t.item.vertical:0,this.dom.box.style.top=a+"px",this.dom.box.style.bottom=""}else{var a=this.parent.top,d=0;for(var h in n)if(n.hasOwnProperty(h)&&1==n[h].visible){var l=n[h].height+t.item.vertical;d+=l,n[h].index>r&&(a+=l)}i=this.parent.subgroups[o].height+t.item.vertical,this.dom.box.style.top=this.parent.height-d+a+"px",this.dom.box.style.bottom=""}}else this.parent instanceof s?(i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=e?"0":"",this.dom.box.style.bottom=e?"":"0"):(i=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=i+"px"},t.exports=o},function(t,e,i){function o(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:a.FORMAT,moment:d,timeAxis:null},this.options=s.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(31),a=i(35),h=i(32),d=i(2);o.prototype=new r,o.prototype.setOptions=function(t){t&&(s.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),s.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===n(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof d.locale?d.locale(t.locale):d.lang(t.locale)))},o.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},o.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},o.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,o="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,n=e.parentNode!==o;this._calculateCharSize();var s=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=s?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var a=e.nextSibling,h=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),a?o.insertBefore(e,a):o.appendChild(e),h?this.body.dom.backgroundVertical.insertBefore(i,h):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||n},o.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=s.convert(this.body.range.start,"Number"),i=s.convert(this.body.range.end,"Number"),o=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),n=o-h.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,o);n-=this.body.util.toTime(0).valueOf();var r=new a(new Date(e),new Date(i),n,this.body.hiddenDates);r.setMoment(this.options.moment),this.options.format&&r.setFormat(this.options.format),this.options.timeAxis&&r.setScale(this.options.timeAxis),this.step=r;var d=this.dom;d.redundant.lines=d.lines,d.redundant.majorTexts=d.majorTexts,d.redundant.minorTexts=d.minorTexts,d.lines=[],d.majorTexts=[],d.minorTexts=[];var c,u,p,f,m,v,g,y,b=0,_=void 0,w=0;for(r.start(),c=r.getCurrent(),p=this.body.util.toScreen(c);r.hasNext()&&w<1e3;){w++,f=r.isMajor(),y=r.getClassName(),g=r.getLabelMinor(),c,u=p,r.next(),c=r.getCurrent(),r.isMajor(),p=this.body.util.toScreen(c),m=b,b=p-u;var x=b>=.4*m;if(this.options.showMinorLabels&&x){var k=this._repaintMinorText(u,g,t,y);k.style.width=b+"px"}f&&this.options.showMajorLabels?(u>0&&(void 0==_&&(_=u),k=this._repaintMajorText(u,r.getLabelMajor(),t,y)),v=this._repaintMajorLine(u,b,t,y)):x?v=this._repaintMinorLine(u,b,t,y):v&&(v.style.width=parseInt(v.style.width)+b+"px")}if(1e3!==w||l||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),l=!0),this.options.showMajorLabels){var O=this.body.util.toTime(0),M=r.getLabelMajor(O),D=M.length*(this.props.majorCharWidth||10)+10;(void 0==_||D<_)&&this._repaintMajorText(0,M,t,y)}s.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},o.prototype._repaintMinorText=function(t,e,i,o){var n=this.dom.redundant.minorTexts.shift();if(!n){var s=document.createTextNode("");n=document.createElement("div"),n.appendChild(s),this.dom.foreground.appendChild(n)}return this.dom.minorTexts.push(n),n.childNodes[0].nodeValue=e,n.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(n.style.left="",n.style.right=t+"px"):n.style.left=t+"px",n.className="vis-text vis-minor "+o,n},o.prototype._repaintMajorText=function(t,e,i,o){var n=this.dom.redundant.majorTexts.shift();if(!n){var s=document.createTextNode(e);n=document.createElement("div"),n.appendChild(s),this.dom.foreground.appendChild(n)}return this.dom.majorTexts.push(n),n.childNodes[0].nodeValue=e,n.className="vis-text vis-major "+o,n.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(n.style.left="",n.style.right=t+"px"):n.style.left=t+"px",n},o.prototype._repaintMinorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var s=this.props;return n.style.top="top"==i?s.majorLabelHeight+"px":this.body.domProps.top.height+"px",n.style.height=s.minorLineHeight+"px",this.options.rtl?(n.style.left="",n.style.right=t-s.minorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-minor "+o):(n.style.left=t-s.minorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-minor "+o),n.style.width=e+"px",n},o.prototype._repaintMajorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var s=this.props;return n.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(n.style.left="",n.style.right=t-s.majorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-major "+o):(n.style.left=t-s.majorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-major "+o),n.style.height=s.majorLineHeight+"px",n.style.width=e+"px",n},o.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var l=!1;t.exports=o},function(t,e,i){function o(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=a(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){n(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=s(),this.escListener=this.deactivate.bind(this)}function n(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var s=i(23),r=i(13),a=i(20),h=i(1);r(o.prototype),o.current=null,o.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},o.prototype.activate=function(){o.current&&o.current.deactivate(),o.current=this,this.active=!0,this.dom.overlay.style.display="none",h.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},o.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",h.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},o.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=o},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={moment:a,locales:h,locale:"en",id:void 0,title:void 0},this.options=s.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}var n=i(20),s=i(1),r=i(31),a=i(2),h=i(47);o.prototype=new r,o.prototype.setOptions=function(t){t&&s.selectiveExtend(["moment","locale","locales","id"],this.options,t)},o.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",t.appendChild(e),this.hammer=new n(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})},o.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},o.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),i=this.options.locales.en);var o=this.options.title;return void 0===o&&(o=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),o=o.charAt(0).toUpperCase()+o.substring(1)),this.bar.style.left=e+"px",this.bar.title=o,!1},o.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},o.prototype.setCustomTime=function(t){this.customTime=s.convert(t,"Date"),this.redraw()},o.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},o.prototype.setCustomTitle=function(t){this.options.title=t},o.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},o.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation()}},o.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation())},o.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=o
},function(t,e){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:a,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var n=i(1),s=i(31),r=i(2),a=i(47);o.prototype=new s,o.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},o.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},o.prototype.setOptions=function(t){t&&n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},o.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),o=this.options.locales[this.options.locale];o||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),o=this.options.locales.en);var n=o.current+" "+o.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=n}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},o.prototype.start=function(){function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale,o=1/i/10;o<30&&(o=30),o>1e3&&(o=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,o)}var e=this;t()},o.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},o.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},o.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="object",r={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:o,function:"function"}},align:{string:i},rtl:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:n},clickToUse:{boolean:o},dataAttributes:{string:i,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},end:{number:n,date:"date",string:i,moment:"moment"},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},groupOrderSwap:{function:"function"},height:{string:i,number:n},hiddenDates:{start:{date:"date",number:n,string:i,moment:"moment"},end:{date:"date",number:n,string:i,moment:"moment"},repeat:{string:i},__type__:{object:s,array:"array"}},itemsAlwaysDraggable:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},margin:{axis:{number:n},item:{horizontal:{number:n,undefined:"undefined"},vertical:{number:n,undefined:"undefined"},__type__:{object:s,number:n}},__type__:{object:s,number:n}},max:{date:"date",number:n,string:i,moment:"moment"},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:"date",number:n,string:i,moment:"moment"},minHeight:{number:n,string:i},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:s}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},snap:{function:"function",null:"null"},start:{date:"date",number:n,string:i,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:s}},type:{string:i},width:{string:i,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},__type__:{object:s}},a={global:{align:["center","left","right"],direction:!1,autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=r,e.configureOptions=a},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,o){if(!(Array.isArray(i)||i instanceof c||i instanceof u)&&i instanceof Object){var n=o;o=i,i=n}var s=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:d,width:null,height:null,maxHeight:null,minHeight:null},this.options=l.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new p(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new m(this.body),this.components.push(this.timeAxis),this.currentTime=new v(this.body),this.components.push(this.currentTime),this.linegraph=new y(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){s.emit("click",s.getEventProperties(t))}),this.on("doubletap",function(t){s.emit("doubleClick",s.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))},o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}var s=i(26),r=o(s),a=i(29),h=o(a),d=(i(13),i(20),i(2)),l=i(1),c=i(9),u=i(11),p=i(30),f=i(33),m=i(44),v=i(48),g=i(46),y=i(51),b=i(29).printStyle,_=i(59).allOptions,w=i(59).configureOptions;n.prototype=new f,n.prototype.setOptions=function(t){!0===h.default.validate(t,_)&&console.log("%cErrors have been found in the supplied options object.",b),f.prototype.setOptions.call(this,t)},n.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof c||t instanceof u?t:new c(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){var o=void 0!=this.options.start?this.options.start:null,n=void 0!=this.options.end?this.options.end:null;this.setWindow(o,n,{animation:!1})}else this.fit({animation:!1})},n.prototype.setGroups=function(t){var e;e=t?t instanceof c||t instanceof u?t:new c(t):null,this.groupsData=e,this.linegraph.setGroups(e)},n.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},n.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},n.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var o=0;o<this.linegraph.groups[i].itemsData.length;o++){var n=this.linegraph.groups[i].itemsData[o],s=l.convert(n.x,"Date").valueOf();t=null==t?s:t>s?s:t,e=null==e?s:e<s?s:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,o=e-l.getAbsoluteLeft(this.dom.centerContainer),n=i-l.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(o),r=g.customTimeFromTarget(t),a=l.getTarget(t),h=null;l.hasParent(a,this.timeAxis.dom.foreground)?h="axis":this.timeAxis2&&l.hasParent(a,this.timeAxis2.dom.foreground)?h="axis":l.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?h="data-axis":l.hasParent(a,this.linegraph.yAxisRight.dom.frame)?h="data-axis":l.hasParent(a,this.linegraph.legendLeft.dom.frame)?h="legend":l.hasParent(a,this.linegraph.legendRight.dom.frame)?h="legend":null!=r?h="custom-time":l.hasParent(a,this.currentTime.bar)?h="current-time":l.hasParent(a,this.dom.center)&&(h="background");var d=[],c=this.linegraph.yAxisLeft,u=this.linegraph.yAxisRight;return c.hidden||d.push(c.screenToValue(n)),u.hidden||d.push(u.screenToValue(n)),{event:t,what:h,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:n,time:s,value:d}},n.prototype._createConfigurator=function(){return new r.default(this,this.dom.container,w)},t.exports=n},function(t,e,i){function o(t,e){this.id=s.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=s.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,o){i._onAdd(e.items)},update:function(t,e,o){i._onUpdate(e.items)},remove:function(t,e,o){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){i._onAddGroups(e.items)},update:function(t,e,o){i._onUpdateGroups(e.items)},remove:function(t,e,o){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=s.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(8),a=i(9),h=i(11),d=i(31),l=i(52),c=i(54),u=i(58),p=i(55),f=i(57),m=i(56);o.prototype=new d,o.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new l(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new l(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new u(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new u(this.body,this.options.legend,"right",this.options.groups),this.show()},o.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),s.selectiveDeepExtend(e,this.options,t),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),s.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==n(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setItems=function(t){var e,i=this,o=this.itemsData;if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o&&(s.forEach(this.itemListeners,function(t,e){o.off(e,t)}),e=o.getIds(),this._onRemove(e)),this.itemsData){var n=this.id;s.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,n)}),e=this.itemsData.getIds(),this._onAdd(e)}},o.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){s.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var o=0;o<e.length;o++)this._removeGroup(e[o])}if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.id;s.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},o.prototype._onUpdate=function(t){this._updateAllGroupData()},o.prototype._onAdd=function(t){this._onUpdate(t)},o.prototype._onRemove=function(t){this._onUpdate(t)},o.prototype._onUpdateGroups=function(t){this._updateAllGroupData()},o.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},o.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},o.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},o.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new c(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},o.prototype._updateAllGroupData=function(){if(null!=this.itemsData){for(var t={},e=this.itemsData.get(),i={},o=0;o<e.length;o++){var n=e[o],r=n.group;null!==r&&void 0!==r||(r="__ungrouped__"),i.hasOwnProperty(r)?i[r]++:i[r]=1}for(var o=0;o<e.length;o++){var n=e[o],r=n.group;null!==r&&void 0!==r||(r="__ungrouped__"),t.hasOwnProperty(r)||(t[r]=new Array(i[r]));var a=s.bridgeObject(n);a.x=s.convert(n.x,"Date"),a.orginalY=n.y,a.y=Number(n.y);var h=t[r].length-i[r]--;t[r][h]=a}for(var r in this.groups)this.groups.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=new Array(0)));for(var r in t)if(t.hasOwnProperty(r))if(0==t[r].length)this.groups.hasOwnProperty(r)&&this._removeGroup(r);else{var d=void 0;void 0!=this.groupsData&&(d=this.groupsData.get(r)),void 0==d&&(d={id:r,content:this.options.defaultGroup+r}),this._updateGroup(d,r),this.groups[r].setItems(t[r])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},o.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=s.option.asSize(3*this.props.width),this.svg.style.left=s.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var o=this.body.range.start-this.lastStart,n=this.body.range.end-this.body.range.start;if(0!=this.props.width){var r=this.props.width/n,a=o*r;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},o.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}s.insertSort(t,function(t,e){var i=t.zIndex,o=e.zIndex;return void 0===i&&(i=0),void 0===o&&(o=0),i==o?0:i<o?-1:1});for(var o=new Array(t.length),n=0;n<t.length;n++)o[n]=t[n].id;return o},o.prototype._updateGraph=function(){if(r.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},o=this.body.util.toGlobalTime(-this.body.domProps.root.width),n=this.body.util.toGlobalTime(2*this.body.domProps.root.width),s=this._getSortedGroupIds();if(s.length>0){var a={};for(this._getRelevantData(s,a,o,n),this._applySampling(s,a),e=0;e<s.length;e++)this._convertXcoordinates(a[s[e]]);if(this._getYRanges(s,a,i),1==this._updateYAxis(s,i))return r.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var h=void 0;for(e=0;e<s.length;e++)t=this.groups[s[e]],!0===this.options.stack&&"line"===this.options.style&&(void 0!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(void 0!=h&&(this._stack(a[t.id],a[h.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==h.options.shaded.orientation?(h.options.shaded.orientation="group",h.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=h.id))),h=t)),this._convertYcoordinates(a[s[e]],t);var d={};for(e=0;e<s.length;e++)if(t=this.groups[s[e]],"line"===t.options.style&&1==t.options.shaded.enabled){var l=a[s[e]];if(null==l||0==l.length)continue;if(d.hasOwnProperty(s[e])||(d[s[e]]=f.calcPath(l,t)),"group"===t.options.shaded.orientation){var c=t.options.shaded.groupId;if(-1===s.indexOf(c)){console.log(t.id+": Unknown shading group target given:"+c);continue}d.hasOwnProperty(c)||(d[c]=f.calcPath(a[c],this.groups[c])),f.drawShading(d[s[e]],t,d[c],this.framework)}else f.drawShading(d[s[e]],t,void 0,this.framework)}for(p.draw(s,a,this.framework),e=0;e<s.length;e++)if(t=this.groups[s[e]],a[s[e]].length>0)switch(t.options.style){case"line":d.hasOwnProperty(s[e])||(d[s[e]]=f.calcPath(a[s[e]],t)),f.draw(d[s[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||m.draw(a[s[e]],t,this.framework)}}}return r.cleanupElements(this.svgElements),!1},o.prototype._stack=function(t,e){var i,o,n,s,r;i=0;for(var a=0;a<t.length;a++){s=void 0,r=void 0;for(var h=i;h<e.length;h++){if(e[h].x===t[a].x){s=e[h],r=e[h],i=h;break}if(e[h].x>t[a].x){r=e[h],s=0==h?r:e[h-1],i=h;break}}void 0===r&&(s=e[e.length-1],r=e[e.length-1]),o=r.x-s.x,n=r.y-s.y,t[a].y=0==o?t[a].orginalY+r.y:t[a].orginalY+n/o*(t[a].x-s.x)+s.y}},o.prototype._getRelevantData=function(t,e,i,o){var n,r,a,h;if(t.length>0)for(r=0;r<t.length;r++){n=this.groups[t[r]];var d=n.getItems();if(1==n.options.sort){var l=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},c=Math.max(0,s.binarySearchValue(d,i,"x","before",l)),u=Math.min(d.length,s.binarySearchValue(d,o,"x","after",l)+1);u<=0&&(u=d.length);var p=new Array(u-c);for(a=c;a<u;a++)h=n.itemsData[a],p[a-c]=h;e[t[r]]=p}else e[t[r]]=n.itemsData}},o.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var o=0;o<t.length;o++)if(i=this.groups[t[o]],1==i.options.sampling){var n=e[t[o]];if(n.length>0){var s=1,r=n.length,a=this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x),h=r/a;s=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(h)));for(var d=new Array(r),l=0;l<r;l+=s){var c=Math.round(l/s);d[c]=n[l]}e[t[o]]=d.splice(0,Math.round(r/s))}}},o.prototype._getYRanges=function(t,e,i){var o,n,s,r,a=[],h=[];if(t.length>0){for(s=0;s<t.length;s++)o=e[t[s]],r=this.groups[t[s]].options,o.length>0&&(n=this.groups[t[s]],!0===r.stack&&"bar"===r.style?"left"===r.yAxisOrientation?a=a.concat(n.getItems()):h=h.concat(n.getItems()):i[t[s]]=n.getYRange(o,t[s]));p.getStackedYRange(a,i,t,"__barStackLeft","left"),p.getStackedYRange(h,i,t,"__barStackRight","right")}},o.prototype._updateYAxis=function(t,e){var i,o,n=!1,s=!1,r=!1,a=1e9,h=1e9,d=-1e9,l=-1e9;if(t.length>0){for(var c=0;c<t.length;c++){var u=this.groups[t[c]];u&&"right"!=u.options.yAxisOrientation?(s=!0,a=1e9,d=-1e9):u&&u.options.yAxisOrientation&&(r=!0,h=1e9,l=-1e9)}for(var c=0;c<t.length;c++)e.hasOwnProperty(t[c])&&!0!==e[t[c]].ignore&&(i=e[t[c]].min,o=e[t[c]].max,"right"!=e[t[c]].yAxisOrientation?(s=!0,a=a>i?i:a,d=d<o?o:d):(r=!0,h=h>i?i:h,l=l<o?o:l));1==s&&this.yAxisLeft.setRange(a,d),1==r&&this.yAxisRight.setRange(h,l)}n=this._toggleAxisVisiblity(s,this.yAxisLeft)||n,n=this._toggleAxisVisiblity(r,this.yAxisRight)||n,1==r&&1==s?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!s,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==r?this.yAxisRight.width:0,n=this.yAxisLeft.redraw()||n,n=this.yAxisRight.redraw()||n):n=this.yAxisRight.redraw()||n;for(var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],c=0;c<p.length;c++)-1!=t.indexOf(p[c])&&t.splice(t.indexOf(p[c]),1);return n},o.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},o.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y},o.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,o=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var n=0;n<t.length;n++)t[n].screen_y=Math.round(i.convertValue(t[n].y));e.setZeroPosition(Math.min(o,i.convertValue(0)))},t.exports=o},function(t,e,i){function o(t,e,i,o){this.id=n.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=o,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=n.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var s=this;this.body.emitter.on("verticalDrag",function(){s.dom.lineContainer.style.top=s.body.domProps.scrollTop+"px"})}var n=i(1),s=i(8),r=i(31),a=i(53);o.prototype=new r,o.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},o.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},o.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];n.selectiveDeepExtend(i,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},o.prototype._redrawGroupIcons=function(){s.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=11.5;t="left"===this.options.orientation?4:this.width-e-4;var o=Object.keys(this.groups);o.sort(function(t,e){return t<e?-1:1});for(var n=0;n<o.length;n++){var r=o[n];!0!==this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&!0!==this.linegraphOptions.visibility[r]||(this.groups[r].getLegend(e,15,this.framework,t,i),i+=19)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},o.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},o.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||(this.options.rtl,this.body.dom.left.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},o.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},o.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},o.prototype.redraw=function(){var t=!1,e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var o=this.props,n=this.dom.frame;n.className="vis-data-axis",this._calculateCharSize();var s=this.options.orientation,r=this.options.showMinorLabels,a=this.options.showMajorLabels;o.minorLabelHeight=r?o.minorCharHeight:0,o.majorLabelHeight=a?o.majorCharHeight:0,o.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,o.minorLineHeight=1,o.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,o.majorLineHeight=1,"left"===s?(n.style.top="0",n.style.left="0",n.style.bottom="",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(n.style.top="",n.style.bottom="0",n.style.left="0",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return t},o.prototype._redrawLabels=function(){var t=this,e=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var i=this.options.orientation,o=void 0!=this.options[i].range?this.options[i].range:{},n=!0
;void 0!=o.max&&(this.range.end=o.max,n=!1);var r=!0;void 0!=o.min&&(this.range.start=o.min,r=!1),this.scale=new a(this.range.start,this.range.end,r,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),!1===this.master&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(e){var o=e.y,n=e.major;t.options.showMinorLabels&&!1===n&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight),n&&o>=0&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(n?t._redrawLine(o,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(o,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var h=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(h=this.props.titleCharHeight);var d=!0===this.options.icons?Math.max(this.options.iconWidth,h)+this.options.labelOffsetX+15:h+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-d&&!0===this.options.visible?(this.width=this.maxLabelSize+d,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-d&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+d),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),e=!1),e},o.prototype.convertValue=function(t){return this.scale.convertValue(t)},o.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},o.prototype._redrawLabel=function(t,e,i,o,n){var r=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=o,r.innerHTML=e,"left"===i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*n+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},o.prototype._redrawLine=function(t,e,i,o,n){if(!0===this.master){var r=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===e?r.style.left=this.width-o+"px":r.style.right=this.width-o+"px",r.style.width=n+"px",r.style.top=t+"px"}},o.prototype._redrawTitle=function(t){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&n.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},o.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-major vis-measure",o.appendChild(i),this.dom.frame.appendChild(o),this.props.majorCharHeight=o.clientHeight,this.props.majorCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}if(!("titleCharHeight"in this.props)){var n=document.createTextNode("0"),s=document.createElement("div");s.className="vis-y-axis vis-title vis-measure",s.appendChild(n),this.dom.frame.appendChild(s),this.props.titleCharHeight=s.clientHeight,this.props.titleCharWidth=s.clientWidth,this.dom.frame.removeChild(s)}},t.exports=o},function(t,e){function i(t,e,i,o,n,s){var r=!(arguments.length<=6||void 0===arguments[6])&&arguments[6],a=!(arguments.length<=7||void 0===arguments[7])&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=n,this.majorCharHeight=s,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=r,this.autoScaleStart=i,this.autoScaleEnd=o,this.formattingFunction=a,i||o){var h=this,d=function(t){var e=t-t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx]);return t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx])>h.magnitudefactor*h.minorSteps[h.minorStepIdx]*.5?e+h.magnitudefactor*h.minorSteps[h.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=d(this._start)),o&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=d(this._end)),this.determineScale()}}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var o=0;i<0&&(o=i);for(var n=!1,s=o;Math.abs(s)<=Math.abs(i);s++){this.magnitudefactor=Math.pow(10,s);for(var r=0;r<this.minorSteps.length;r++){if(this.magnitudefactor*this.minorSteps[r]>=e){n=!0,this.minorStepIdx=r;break}}if(!0===n)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,o=this._start+i;this._end-o>1e-5;o+=e)o!=this._start&&t.push({major:this.is_major(o),y:this.convertValue(o),val:this.formatValue(o)});return t},i.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,o=this._end,n=this,s=function(){n.magnitudefactor*=2},r=function(){n.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?s():(s(),s())):(this.minorStepIdx=2,1==e?r():(r(),r())));for(var a=(t.getLines(),t.convertValue(0)),h=t.getStep()*t.scale,d=!1,l=0;!d&&l++<5;){this.scale=h/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=i,this._end=this._start+c;var u=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var m=a-u;this._end+=m/this.scale,this._start=this._end-c}else this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+c):(this._start+=p-f/this.scale,this._end=this._start+c);if(!this.autoScaleEnd&&this._end>o+1e-5)r(),d=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){r(),d=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&c<o-i?(s(),d=!1):d=!0}}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,e,i){function o(t,e,i,o){this.id=e;var n=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=s.selectiveBridgeObject(n,i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=o,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=(i(8),i(55)),a=i(57),h=i(56);o.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},o.prototype.getItems=function(){return this.itemsData},o.prototype.setZeroPosition=function(t){this.zeroPosition=t},o.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];s.selectiveDeepExtend(e,this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==n(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},o.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},o.prototype.getLegend=function(t,e,i,o,n){if(void 0==i||null==i){i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}}switch(void 0!=o&&null!=o||(o=0),void 0!=n&&null!=n||(n=.5*e),this.options.style){case"line":a.drawIcon(this,o,n,t,e,i);break;case"points":case"point":h.drawIcon(this,o,n,t,e,i);break;case"bar":r.drawIcon(this,o,n,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},o.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,o=0;o<t.length;o++)e=e>t[o].y?t[o].y:e,i=i<t[o].y?t[o].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=o},function(t,e,i){function o(t,e){}var n=i(8),s=i(56);o.drawIcon=function(t,e,i,o,s,r){var a=.5*s,h=n.getSVGElement("rect",r.svgElements,r.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-a),h.setAttributeNS(null,"width",o),h.setAttributeNS(null,"height",2*a),h.setAttributeNS(null,"class","vis-outline");var d=Math.round(.3*o),l=t.options.barChart.width,c=l/d,u=Math.round(.4*s),p=Math.round(.75*s),f=Math.round((o-2*d)/3);if(n.drawBar(e+.5*d+f,i+a-u-1,d,u,t.className+" vis-bar",r.svgElements,r.svg,t.style),n.drawBar(e+1.5*d+f+2,i+a-p-1,d,p,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled){var m={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/c,className:t.className};n.drawPoint(e+.5*d+f,i+a-u-1,m,r.svgElements,r.svg),n.drawPoint(e+1.5*d+f+2,i+a-p-1,m,r.svgElements,r.svg)}},o.draw=function(t,e,i){var r,a,h,d,l,c,u=[],p={},f=0;for(l=0;l<t.length;l++)if(d=i.groups[t[l]],"bar"===d.options.style&&!0===d.visible&&(void 0===i.options.groups.visibility[t[l]]||!0===i.options.groups.visibility[t[l]]))for(c=0;c<e[t[l]].length;c++)u.push({screen_x:e[t[l]][c].screen_x,screen_y:e[t[l]][c].screen_y,x:e[t[l]][c].x,y:e[t[l]][c].y,groupId:t[l],label:e[t[l]][c].label}),f+=1;if(0!==f)for(u.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),o._getDataIntersections(p,u),l=0;l<u.length;l++){d=i.groups[u[l].groupId];var m=void 0!=d.options.barChart.minWidth?d.options.barChart.minWidth:.1*d.options.barChart.width;a=u[l].screen_x;var v=0;if(void 0===p[a])l+1<u.length&&(r=Math.abs(u[l+1].screen_x-a)),h=o._getSafeDrawData(r,d,m);else{var g=l+(p[a].amount-p[a].resolved);p[a].resolved;g<u.length&&(r=Math.abs(u[g].screen_x-a)),h=o._getSafeDrawData(r,d,m),p[a].resolved+=1,!0===d.options.stack&&!0!==d.options.excludeFromStacking?u[l].screen_y<d.zeroPosition?(v=p[a].accumulatedNegative,p[a].accumulatedNegative+=d.zeroPosition-u[l].screen_y):(v=p[a].accumulatedPositive,p[a].accumulatedPositive+=d.zeroPosition-u[l].screen_y):!0===d.options.barChart.sideBySide&&(h.width=h.width/p[a].amount,h.offset+=p[a].resolved*h.width-.5*h.width*(p[a].amount+1))}if(n.drawBar(u[l].screen_x+h.offset,u[l].screen_y-v,h.width,d.zeroPosition-u[l].screen_y,d.className+" vis-bar",i.svgElements,i.svg,d.style),!0===d.options.drawPoints.enabled){var y={screen_x:u[l].screen_x,screen_y:u[l].screen_y-v,x:u[l].x,y:u[l].y,groupId:u[l].groupId,label:u[l].label};s.draw([y],d,i,h.offset)}}},o._getDataIntersections=function(t,e){for(var i,o=0;o<e.length;o++)o+1<e.length&&(i=Math.abs(e[o+1].screen_x-e[o].screen_x)),o>0&&(i=Math.min(i,Math.abs(e[o-1].screen_x-e[o].screen_x))),0===i&&(void 0===t[e[o].screen_x]&&(t[e[o].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[o].screen_x].amount+=1)},o._getSafeDrawData=function(t,e,i){var o,n;return t<e.options.barChart.width&&t>0?(o=t<i?i:t,n=0,"left"===e.options.barChart.align?n-=.5*t:"right"===e.options.barChart.align&&(n+=.5*t)):(o=e.options.barChart.width,n=0,"left"===e.options.barChart.align?n-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(n+=.5*e.options.barChart.width)),{width:o,offset:n}},o.getStackedYRange=function(t,e,i,n,s){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var r={};o._getDataIntersections(r,t),e[n]=o._getStackedYRange(r,t),e[n].yAxisOrientation=s,i.push(n)}},o._getStackedYRange=function(t,e){for(var i,o=e[0].screen_y,n=e[0].screen_y,s=0;s<e.length;s++)i=e[s].screen_x,void 0===t[i]?(o=o>e[s].screen_y?e[s].screen_y:o,n=n<e[s].screen_y?e[s].screen_y:n):e[s].screen_y<0?t[i].accumulatedNegative+=e[s].screen_y:t[i].accumulatedPositive+=e[s].screen_y;for(var r in t)t.hasOwnProperty(r)&&(o=o>t[r].accumulatedNegative?t[r].accumulatedNegative:o,o=o>t[r].accumulatedPositive?t[r].accumulatedPositive:o,n=n<t[r].accumulatedNegative?t[r].accumulatedNegative:n,n=n<t[r].accumulatedPositive?t[r].accumulatedPositive:n);return{min:o,max:n}},t.exports=o},function(t,e,i){function o(t,e){}function n(t,e){return e=void 0===e?{}:e,{style:e.style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function s(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=i(8);o.draw=function(t,e,i,o){o=o||0;for(var h=s(i,e),d=0;d<t.length;d++)if(h){var l=h(t[d],e);!0!==l&&"object"!==(void 0===l?"undefined":r(l))||a.drawPoint(t[d].screen_x+o,t[d].screen_y,n(e,l),i.svgElements,i.svg,t[d].label)}else a.drawPoint(t[d].screen_x+o,t[d].screen_y,n(e),i.svgElements,i.svg,t[d].label)},o.drawIcon=function(t,e,i,o,s,r){var h=.5*s,d=a.getSVGElement("rect",r.svgElements,r.svg);d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-h),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",2*h),d.setAttributeNS(null,"class","vis-outline"),a.drawPoint(e+.5*o,i,n(t),r.svgElements,r.svg)},t.exports=o},function(t,e,i){function o(t,e){}var n=i(8);o.calcPath=function(t,e){if(null!=t&&t.length>0){return 1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)}},o.drawIcon=function(t,e,i,o,s,r){var a,h,d=.5*s,l=n.getSVGElement("rect",r.svgElements,r.svg);if(l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-d),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",2*d),l.setAttributeNS(null,"class","vis-outline"),a=n.getSVGElement("path",r.svgElements,r.svg),a.setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&(h=n.getSVGElement("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?h.setAttributeNS(null,"d","M"+e+", "+(i-d)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-d)):h.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+d)+" L"+(e+o)+","+(i+d)+"L"+(e+o)+","+i),h.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&h.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var c={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};n.drawPoint(e+.5*o,i,c,r.svgElements,r.svg)}},o.drawShading=function(t,e,i,o){if(1==e.options.shaded.enabled){var s=Number(o.svg.style.height.replace("px","")),r=n.getSVGElement("path",o.svgElements,o.svg),a="L";1==e.options.interpolation.enabled&&(a="C");var h,d=0;d="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?s:Math.min(Math.max(0,e.zeroPosition),s),h="group"==e.options.shaded.orientation&&null!=i&&void 0!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+d+" H"+t[0][0]+" Z",r.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&r.setAttributeNS(null,"style",e.options.shaded.style),r.setAttributeNS(null,"d",h)}},o.draw=function(t,e,i){if(null!=t&&void 0!=t){var o=n.getSVGElement("path",i.svgElements,i.svg);o.setAttributeNS(null,"class",e.className),void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var s="L";1==e.options.interpolation.enabled&&(s="C"),o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,s,!1))}},o.serializePath=function(t,e,i){if(t.length<2)return"";var o=e;if(i)for(var n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(var n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},o._catmullRomUniform=function(t){var e,i,o,n,s,r,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var h=t.length,d=0;d<h-1;d++)e=0==d?t[0]:t[d-1],i=t[d],o=t[d+1],n=d+2<h?t[d+2]:o,s={screen_x:(-e.screen_x+6*i.screen_x+o.screen_x)*(1/6),screen_y:(-e.screen_y+6*i.screen_y+o.screen_y)*(1/6)},r={screen_x:(i.screen_x+6*o.screen_x-n.screen_x)*(1/6),screen_y:(i.screen_y+6*o.screen_y-n.screen_y)*(1/6)},a.push([s.screen_x,s.screen_y]),a.push([r.screen_x,r.screen_y]),a.push([o.screen_x,o.screen_y]);return a},o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var o,n,s,r,a,h,d,l,c,u,p,f,m,v,g,y,b,_,w,x=[];x.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var k=t.length,O=0;O<k-1;O++)o=0==O?t[0]:t[O-1],n=t[O],s=t[O+1],r=O+2<k?t[O+2]:s,d=Math.sqrt(Math.pow(o.screen_x-n.screen_x,2)+Math.pow(o.screen_y-n.screen_y,2)),l=Math.sqrt(Math.pow(n.screen_x-s.screen_x,2)+Math.pow(n.screen_y-s.screen_y,2)),c=Math.sqrt(Math.pow(s.screen_x-r.screen_x,2)+Math.pow(s.screen_y-r.screen_y,2)),v=Math.pow(c,i),y=Math.pow(c,2*i),g=Math.pow(l,i),b=Math.pow(l,2*i),w=Math.pow(d,i),_=Math.pow(d,2*i),u=2*_+3*w*g+b,p=2*y+3*v*g+b,f=3*w*(w+g),f>0&&(f=1/f),m=3*v*(v+g),m>0&&(m=1/m),a={screen_x:(-b*o.screen_x+u*n.screen_x+_*s.screen_x)*f,screen_y:(-b*o.screen_y+u*n.screen_y+_*s.screen_y)*f},h={screen_x:(y*n.screen_x+p*s.screen_x-b*r.screen_x)*m,screen_y:(y*n.screen_y+p*s.screen_y-b*r.screen_y)*m},0==a.screen_x&&0==a.screen_y&&(a=n),0==h.screen_x&&0==h.screen_y&&(h=s),x.push([a.screen_x,a.screen_y]),x.push([h.screen_x,h.screen_y]),x.push([s.screen_x,s.screen_y]);return x},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){function o(t,e,i,o){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=n.extend({},this.defaultOptions),this.linegraphOptions=o,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}var n=i(1),s=i(8),r=i(31);o.prototype=new r,o.prototype.clear=function(){this.groups={},this.amountOfGroups=0},o.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},o.prototype.updateGroup=function(t,e){this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];n.selectiveDeepExtend(e,this.options,t)},o.prototype.redraw=function(){var t=0,e=Object.keys(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var n=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var s="",i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||(s+=this.groups[o].content+"<br />")}this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},o.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Object.keys(this.groups);t.sort(function(t,e){return t<e?-1:1}),s.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),o=i,n=this.options.iconSize,r=.75*this.options.iconSize,a=i+.5*r+3;this.svg.style.width=n+5+i+"px";for(var h=0;h<t.length;h++){var d=t[h];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].getLegend(n,r,this.framework,o,a),a+=r+this.options.iconSpacing)}}},t.exports=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="object",r={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:i,number:n},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:s},__type__:{boolean:o,object:s}},style:{string:["line","bar","points"]},barChart:{width:{number:n},minWidth:{number:n},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:s}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:n},__type__:{object:s,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:n},style:{string:["square","circle"]},__type__:{object:s,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:i,number:n},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:n},max:{number:n},__type__:{object:s}},format:{function:"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:s}},__type__:{object:s}},right:{range:{min:{number:n},max:{number:n},__type__:{object:s}},format:{function:"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:s}},__type__:{object:s}},__type__:{object:s}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},__type__:{object:s,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:s}},autoResize:{boolean:o},throttleRedraw:{number:n},clickToUse:{boolean:o},end:{number:n,date:"date",string:i,moment:"moment"},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},height:{string:i,number:n},hiddenDates:{start:{date:"date",number:n,string:i,moment:"moment"},end:{date:"date",number:n,string:i,moment:"moment"},repeat:{string:i},__type__:{object:s,array:"array"}},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},max:{date:"date",number:n,string:i,moment:"moment"},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:"date",number:n,string:i,moment:"moment"},minHeight:{number:n,string:i},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:i},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:"date",number:n,string:i,moment:"moment"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:s}},width:{string:i,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},zIndex:{number:n},__type__:{object:s}},a={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=r,e.configureOptions=a},function(t,e,i){e.util=i(1),e.DOMutil=i(8),e.DataSet=i(9),e.DataView=i(11),e.Queue=i(10),e.Network=i(61),e.network={Images:i(62),dotparser:i(118),gephiParser:i(119),allOptions:i(114)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(2),e.Hammer=i(20),e.keycharm=i(23)},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i){var o=this;if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Y,clickToUse:!1},F.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new r.default(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new h.default,this.canvas=new _.default(this.body),this.selectionHandler=new D.default(this.body,this.canvas),this.interactionHandler=new O.default(this.body,this.canvas,this.selectionHandler),this.view=new x.default(this.body,this.canvas),
this.renderer=new y.default(this.body,this.canvas),this.physics=new f.default(this.body),this.layoutEngine=new C.default(this.body),this.clustering=new v.default(this.body),this.manipulation=new E.default(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new l.default(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new u.default(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new A.default(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}var s=i(62),r=o(s),a=i(63),h=o(a),d=i(64),l=o(d),c=i(84),u=o(c),p=i(93),f=o(p),m=i(102),v=o(m),g=i(105),y=o(g),b=i(106),_=o(b),w=i(107),x=o(w),k=i(108),O=o(k),M=i(111),D=o(M),S=i(112),C=o(S),T=i(113),E=o(T),P=i(26),I=o(P),N=i(29),R=o(N),z=i(114),L=i(115),A=o(L);i(117);var B=i(13),F=i(1),j=(i(9),i(11),i(118)),H=i(119),W=i(45),Y=i(120);B(n.prototype),n.prototype.setOptions=function(t){var e=this;if(void 0!==t){!0===R.default.validate(t,z.allOptions)&&console.log("%cErrors have been found in the supplied options object.",N.printStyle);var i=["locale","locales","clickToUse"];if(F.selectiveDeepExtend(i,this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new I.default(this,this.body.container,z.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var o={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};F.deepExtend(o.nodes,this.nodesHandler.options),F.deepExtend(o.edges,this.edgesHandler.options),F.deepExtend(o.layout,this.layoutEngine.options),F.deepExtend(o.interaction,this.selectionHandler.options),F.deepExtend(o.interaction,this.renderer.options),F.deepExtend(o.interaction,this.interactionHandler.options),F.deepExtend(o.manipulation,this.manipulation.options),F.deepExtend(o.physics,this.physics.options),F.deepExtend(o.global,this.canvas.options),F.deepExtend(o.global,this.options),this.configurator.setModuleOptions(o)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new W(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},n.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var i in t)t.hasOwnProperty(i)&&!1===t[i].options.hidden&&this.body.nodeIndices.push(t[i].id);for(var o in e)e.hasOwnProperty(o)&&!1===e[o].options.hidden&&this.body.edgeIndices.push(e[o].id)},n.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t._updateVisibleIndices(),t.body.emitter.emit("_requestRedraw"),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},n.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=j.DOTToGraph(t.dot);return void this.setData(e)}if(t&&t.gephi){console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=H.parseGephi(t.gephi);return void this.setData(i)}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},n.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var t in this.body.nodes)delete this.body.nodes[t];for(var e in this.body.edges)delete this.body.edges[e];F.recursiveDOMDelete(this.body.container)},n.prototype._updateValueRange=function(t){var e,i=void 0,o=void 0,n=0;for(e in t)if(t.hasOwnProperty(e)){var s=t[e].getValue();void 0!==s&&(i=void 0===i?s:Math.min(s,i),o=void 0===o?s:Math.max(s,o),n+=s)}if(void 0!==i&&void 0!==o)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,o,n)},n.prototype.isActive=function(){return!this.activator||this.activator.active},n.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},n.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},n.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},n.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},n.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},n.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},n.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},n.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},n.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},n.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},n.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},n.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},n.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},n.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},n.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},n.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},n.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},n.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},n.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},n.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},n.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},n.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},n.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},n.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},n.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},n.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},n.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},n.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},n.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},n.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},n.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},n.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},n.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},n.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},n.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},n.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},n.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},n.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},n.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},n.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},n.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},n.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e){i(this,t),this.images={},this.imageBroken={},this.callback=e}return o(t,[{key:"_addImageToCache",value:function(t,e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e)),this.images[t]=e}},{key:"_tryloadBrokenUrl",value:function(t,e,i){var o=this;void 0!==t&&void 0!==e&&void 0!==i&&(i.onerror=function(){console.error("Could not load brokenImage:",e),o._addImageToCache(t,new Image)},i.src=e)}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e,i){var o=this,n=this.images[t];if(n)return n;var s=new Image;return s.onload=function(){o._addImageToCache(t,s),o._redrawWithImage(s)},s.onerror=function(){console.error("Could not load image:",t),o._tryloadBrokenUrl(t,e,s)},s.src=t,s}}]),t}();e.default=n},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=function(){function t(){o(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return n(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(t.hasOwnProperty(i)&&-1===e.indexOf(i)){var o=t[i];this.add(i,o)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=this.groups[t];if(void 0===e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,e={},e.color=this.groups[this.groupsArray[i]],this.groups[t]=e}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,e={},e.color=this.defaultGroups[o],this.groups[t]=e}return e}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e.default=r},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(65),a=o(r),h=i(66),d=o(h),l=i(1),c=i(9),u=i(11),p=function(){function t(e,i,o,s){var r=this;n(this,t),this.body=e,this.images=i,this.groups=o,this.layoutEngine=s,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items,e.data)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(t.nodesListeners,function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(a.default.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font){d.default.parseOptions(this.options.font,t);for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i]._reset())}if(void 0!==t.size)for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.body.nodes[o]._reset();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=this.body.data.nodes;if(t instanceof c||t instanceof u)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new c,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new c}o&&l.forEach(this.nodesListeners,function(t,e){o.off(e,t)}),this.body.nodes={},this.body.data.nodes&&function(){var t=e;l.forEach(e.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});var i=e.body.data.nodes.getIds();e.add(i,!0)}(),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=void 0,o=[],n=0;n<t.length;n++){i=t[n];var s=this.body.data.nodes.get(i),r=this.create(s);o.push(r),this.body.nodes[i]=r}this.layoutEngine.positionInitially(o),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e){for(var i=this.body.nodes,o=!1,n=0;n<t.length;n++){var s=t[n],r=i[s],a=e[n];void 0!==r?o=r.setOptions(a):(o=!0,r=this.create(a),i[s]=r)}!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++){delete e[t[i]]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length<=1||void 0===arguments[1]?a.default:arguments[1])(t,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this.body.nodes;for(var i in e){var o=void 0;e.hasOwnProperty(i)&&(o=e[i]);var n=this.body.data.nodes._data[i];void 0!==o&&void 0!==n&&(!0===t&&o.setOptions({x:null,y:null}),o.setOptions({fixed:!1}),o.setOptions(n))}}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var o=this.body.nodes[t[i]];e[t[i]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(void 0!==this.body.nodes[t]){var n=this.body.nodes[t];e[t]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var r=this.body.nodes[this.body.nodeIndices[s]];e[this.body.nodeIndices[s]]={x:Math.round(r.x),y:Math.round(r.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var o=this.body.nodes[i];e._data[i].x==Math.round(o.x)&&e._data[i].y==Math.round(o.y)||t.push({id:o.id,x:Math.round(o.x),y:Math.round(o.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o={},n=0;n<i.edges.length;n++){var s=i.edges[n];s.toId==i.id?void 0===o[s.fromId]&&(e.push(s.fromId),o[s.fromId]=!0):s.fromId==i.id&&void 0===o[s.toId]&&(e.push(s.toId),o[s.toId]=!0)}return e}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o=0;o<i.edges.length;o++)e.push(i.edges[o].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var o=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){o.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(66),a=o(r),h=i(67),d=o(h),l=i(69),c=o(l),u=i(71),p=o(u),f=i(72),m=o(f),v=i(73),g=o(v),y=i(75),b=o(y),_=i(76),w=o(_),x=i(77),k=o(x),O=i(78),M=o(O),D=i(79),S=o(D),C=i(80),T=o(C),E=i(81),P=o(E),I=i(82),N=o(I),R=i(83),z=o(R),L=i(29),A=(o(L),i(1)),B=function(){function t(e,i,o,s,r){n(this,t),this.options=A.bridgeObject(r),this.globalOptions=r,this.body=i,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=s,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a.default(this.body,this.options,!1),this.setOptions(e)}return s(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw"Node must have an id";if(void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),"number"==typeof e.group||"string"==typeof e.group&&""!=e.group){var o=this.grouplist.get(e.group);A.deepExtend(this.options,o),this.options.color=A.parseColor(this.options.color)}if(t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateLabelModule(),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"updateLabelModule",value:function(){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj);else switch(this.options.shape){case"box":this.shape=new d.default(this.options,this.body,this.labelModule);break;case"circle":this.shape=new c.default(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p.default(this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new m.default(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new g.default(this.options,this.body,this.labelModule);break;case"dot":this.shape=new b.default(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new w.default(this.options,this.body,this.labelModule);break;case"icon":this.shape=new k.default(this.options,this.body,this.labelModule);break;case"image":this.shape=new M.default(this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new S.default(this.options,this.body,this.labelModule);break;case"star":this.shape=new T.default(this.options,this.body,this.labelModule);break;case"text":this.shape=new P.default(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new N.default(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new z.default(this.options,this.body,this.labelModule);break;default:this.shape=new w.default(this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*s}this.options.size=this.options.scaling.min+o*n}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){this.shape.draw(t,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){this.shape.resize(t,this.selected)}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"parseOptions",value:function(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],n=["color","font","fixed","shadow"];if(A.selectiveNotDeepExtend(n,t,e,i),A.mergeOptions(t,e,"shadow",i,o),void 0!==e.color&&null!==e.color){var s=A.parseColor(e.color);A.fillIfDefined(t.color,s)}else!0===i&&null===e.color&&(t.color=A.bridgeObject(o.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),void 0!==e.font&&null!==e.font?a.default.parseOptions(t.font,e):!0===i&&null===e.font&&(t.font=A.bridgeObject(o.font)),void 0!==e.scaling&&A.mergeOptions(t.scaling,e.scaling,"label",i,o.scaling)}}]),t}();e.default=B},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){n=!0,s=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(1),h=function(){function t(e,i){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];o(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return r(t,[{key:"setOptions",value:function(e){var i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.nodeOptions=e,this.fontOptions=a.deepExtend({},e.font,!0),void 0!==e.label&&(this.labelDirty=!0),void 0!==e.font&&(t.parseOptions(this.fontOptions,e,i),"string"==typeof e.font?this.baseSize=this.fontOptions.size:"object"===s(e.font)&&void 0!==e.font.size&&(this.baseSize=e.font.size))}},{key:"draw",value:function(t,e,i,o){var n=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];if(void 0!==this.nodeOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.nodeOptions.label&&s<this.nodeOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(t,o,e,i,n),this._drawBackground(t),this._drawText(t,o,e,i,n))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;if(this.isEdgeLabel)switch(this.fontOptions.align){case"middle":t.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":t.fillRect(.5*-this.size.width,-(this.size.height+2),this.size.width,this.size.height);break;case"bottom":t.fillRect(.5*-this.size.width,2,this.size.width,this.size.height);break
;default:t.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}else t.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}}},{key:"_drawText",value:function(t,e,i,o){var s=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4],r=this.fontOptions.size,a=r*this.body.view.scale;a>=this.nodeOptions.scaling.label.maxVisible&&(r=Number(this.nodeOptions.scaling.label.maxVisible)/this.body.view.scale);var h=this.size.yLine,d=this._getColor(a),l=n(d,2),c=l[0],u=l[1],p=this._setAlignment(t,i,h,s),f=n(p,2);i=f[0],h=f[1],t.font=(e&&this.nodeOptions.labelHighlightBold?"bold ":"")+r+"px "+this.fontOptions.face,t.fillStyle=c,this.isEdgeLabel||"left"!==this.fontOptions.align?t.textAlign="center":(t.textAlign=this.fontOptions.align,i-=.5*this.size.width),this.fontOptions.strokeWidth>0&&(t.lineWidth=this.fontOptions.strokeWidth,t.strokeStyle=u,t.lineJoin="round");for(var m=0;m<this.lineCount;m++)this.fontOptions.strokeWidth>0&&t.strokeText(this.lines[m],i,h),t.fillText(this.lines[m],i,h),h+=r}},{key:"_setAlignment",value:function(t,e,i,o){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"}else t.textBaseline=o;return[e,i]}},{key:"_getColor",value:function(t){var e=this.fontOptions.color||"#000000",i=this.fontOptions.strokeColor||"#ffffff";if(t<=this.nodeOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.nodeOptions.scaling.label.drawThreshold-t)));e=a.overrideOpacity(e,o),i=a.overrideOpacity(i,o)}return[e,i]}},{key:"getTextSize",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return{width:this._processLabel(t,e),height:this.fontOptions.size*this.lineCount,lineCount:this.lineCount}}},{key:"calculateLabelSize",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=arguments.length<=3||void 0===arguments[3]?0:arguments[3],n=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];!0===this.labelDirty&&(this.size.width=this._processLabel(t,e)),this.size.height=this.fontOptions.size*this.lineCount,this.size.left=i-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===n&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(t,e){var i=0,o=[""],n=0;if(void 0!==this.nodeOptions.label){o=String(this.nodeOptions.label).split("\n"),n=o.length,t.font=(e&&this.nodeOptions.labelHighlightBold?"bold ":"")+this.fontOptions.size+"px "+this.fontOptions.face,i=t.measureText(o[0]).width;for(var s=1;s<n;s++){var r=t.measureText(o[s]).width;i=r>i?r:i}}return this.lines=o,this.lineCount=n,i}}],[{key:"parseOptions",value:function(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if("string"==typeof e.font){var o=e.font.split(" ");t.size=o[0].replace("px",""),t.face=o[1],t.color=o[2]}else"object"===s(e.font)&&a.fillIfDefined(t,e.font,i);t.size=Number(t.size)}}]),t}();e.default=h},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(68),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=this.labelModule.getTextSize(t,e);this.width=i.width+10,this.height=i.height+10,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.lineWidth=o?r:s,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background;var a=this.options.shapeProperties.borderRadius;t.roundRect(this.left,this.top,this.width,this.height,a),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),s>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height;var n=this.options.shapeProperties.borderRadius;this.boundingBox.left=this.left-n,this.boundingBox.top=this.top-n,this.boundingBox.bottom=this.top+this.height+n,this.boundingBox.right=this.left+this.width+n}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}(h.default);e.default=d},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=o,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t){!0===this.options.shadow.enabled&&(t.shadowColor=this.options.shadow.color,t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){!0===this.options.shadow.enabled&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t){if(!1!==this.options.shapeProperties.borderDashes)if(void 0!==t.setLineDash){var e=this.options.shapeProperties.borderDashes;!0===e&&(e=[5,15]),t.setLineDash(e)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1}},{key:"disableBorderDashes",value:function(t){!1!==this.options.shapeProperties.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1))}}]),t}();e.default=n},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(70),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=this.labelModule.getTextSize(t,e),o=Math.max(i.width,i.height)+10;this.options.size=o/2,this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o,n,this.options.size),this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size,this.updateBoundingBox(e,i),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(68),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){o(this,e);var r=n(this,Object.getPrototypeOf(e).call(this,t,i,s));return r.labelOffset=0,r.imageLoaded=!1,r}return s(e,t),r(e,[{key:"setOptions",value:function(t,e){this.options=t,e&&(this.imageObj=e)}},{key:"_resizeImage",value:function(){var t=!1;if(this.imageObj.width&&this.imageObj.height?!1===this.imageLoaded&&(this.imageLoaded=!0,t=!0):this.imageLoaded=!1,!this.width||!this.height||!0===t){var e,i,o;this.imageObj.width&&this.imageObj.height&&(e=0,i=0),!1===this.options.shapeProperties.useImageSize?this.imageObj.width>this.imageObj.height?(o=this.imageObj.width/this.imageObj.height,e=2*this.options.size*o||this.imageObj.width,i=2*this.options.size||this.imageObj.height):(o=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,e=2*this.options.size,i=2*this.options.size*o):(e=this.imageObj.width,i=this.imageObj.height),this.width=e,this.height=i,this.radius=.5*this.width}}},{key:"_drawRawCircle",value:function(t,e,i,o,n,s){var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,h=(o?a:r)/this.body.view.scale;t.lineWidth=Math.min(this.width,h),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.circle(e,i,s),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),h>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore()}},{key:"_drawImageAtPosition",value:function(t){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t);var e=this.imageObj.width/this.width/this.body.view.scale;if(e>2&&!0===this.options.shapeProperties.interpolation){var i=this.imageObj.width,o=this.imageObj.height,n=document.createElement("canvas");n.width=i,n.height=i;var s=n.getContext("2d");e*=.5,i*=.5,o*=.5,s.drawImage(this.imageObj,0,0,i,o);for(var r=0,a=1;e>2&&a<4;)s.drawImage(n,r,0,i,o,r+i,0,i/2,o/2),r+=i,e*=.5,i*=.5,o*=.5,a+=1;t.drawImage(n,r,0,i,o,this.left,this.top,this.width,this.height)}else t.drawImage(this.imageObj,this.left,this.top,this.width,this.height);this.disableShadow(t)}}},{key:"_drawImageLabel",value:function(t,e,i,o){var n,s=0;if(void 0!==this.height){s=.5*this.height;var r=this.labelModule.getTextSize(t);r.lineCount>=1&&(s+=r.height/2)}n=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,n,o,"hanging")}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(70),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s,r){o(this,e);var a=n(this,Object.getPrototypeOf(e).call(this,t,i,s));return a.imageObj=r,a._swapToImageResizeWhenImageLoaded=!0,a}return s(e,t),r(e,[{key:"resize",value:function(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var t=2*this.options.size;this.width=t,this.height=t,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width}}else this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n){this.resize(),this.left=e-this.width/2,this.top=i-this.height/2;var s=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(t,e,i,o,n,s),t.save(),t.clip(),this._drawImageAtPosition(t),t.restore(),this._drawImageLabel(t,e,i,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(68),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=this.labelModule.getTextSize(t,e),o=i.width+10;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,a=(o?r:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,a),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.database(e-this.width/2,i-.5*this.height,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),a>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(74),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"diamond",4,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(68),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"_resizeShape",value:function(){if(void 0===this.width){var t=2*this.options.size;this.width=t,this.height=t,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,o,n,s,r){this._resizeShape(),this.left=o-this.width/2,this.top=n-this.height/2;var a=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth,d=(s?h:a)/this.body.view.scale;if(t.lineWidth=Math.min(this.width,d),t.strokeStyle=s?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,t.fillStyle=s?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,t[e](o,n,this.options.size),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),d>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),void 0!==this.options.label){var l=n+.5*this.height+3;this.labelModule.draw(t,o,l,s,"hanging")}this.updateBoundingBox(o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(74),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"circle",2,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(68),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=this.labelModule.getTextSize(t,e);this.width=1.5*i.width,this.height=2*i.height,this.width<this.height&&(this.width=this.height),this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-.5*this.width,this.top=i-.5*this.height;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,a=(o?r:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,a),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),a>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,o=.5*this.height,n=Math.sin(e)*i,s=Math.cos(e)*o;return i*o/Math.sqrt(n*n+s*s)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(68),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t){if(void 0===this.width){var e={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=e.width+10,this.height=e.height+10,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){if(this.resize(t),this.options.icon.size=this.options.icon.size||50,this.left=e-.5*this.width,this.top=i-.5*this.height,this._icon(t,e,i,o),void 0!==this.options.label){this.labelModule.draw(t,e,i+.5*this.height+5,o)}this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(t,e,i,o){var n=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(o?"bold ":"")+n+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t),t.fillText(this.options.icon.code,e,i),this.disableShadow(t)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(70),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s,r){o(this,e);var a=n(this,Object.getPrototypeOf(e).call(this,t,i,s));return a.imageObj=r,a}return s(e,t),r(e,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n){if(this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,a=(o?r:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,a),t.beginPath(),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),t.save(),a>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),t.closePath()}this._drawImageAtPosition(t),this._drawImageLabel(t,e,i,o||n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0})
;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(74),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"square",2,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(74),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"star",4,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(68),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=this.labelModule.getTextSize(t,e);this.width=i.width+10,this.height=i.height+10,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o||n),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t),this.labelModule.draw(t,e,i,o||n),this.disableShadow(t),this.updateBoundingBox(e,i,t,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(74),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"triangle",3,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(74),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"triangleDown",3,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(85),a=o(r),h=i(66),d=o(h),l=i(1),c=i(9),u=i(11),p=function(){function t(e,i,o){var s=this;n(this,t),this.body=e,this.images=i,this.groups=o,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items)},remove:function(t,e){s.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){"dynamic"===e&&(e="continuous");var i=!1;for(var o in t.body.edges)if(t.body.edges.hasOwnProperty(o)){var n=t.body.edges[o],s=t.body.data.edges._data[o];if(void 0!==s){var r=s.smooth;void 0!==r&&!0===r.enabled&&"dynamic"===r.type&&(void 0===e?n.setOptions({smooth:!1}):n.setOptions({smooth:{type:e}}),i=!0)}}!0===i&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges(),t.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(t.edgesListeners,function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){a.default.parseOptions(this.options,t),void 0!==t.color&&this.markAllEdgesAsDirty();var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font){d.default.parseOptions(this.options.font,t);for(var o in this.body.edges)this.body.edges.hasOwnProperty(o)&&this.body.edges[o].updateLabelModule()}void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=this.body.data.edges;if(t instanceof c||t instanceof u)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new c,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new c}if(o&&l.forEach(this.edgesListeners,function(t,e){o.off(e,t)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var n=this.body.data.edges.getIds();this.add(n,!0)}!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=this.body.edges,o=this.body.data.edges,n=0;n<t.length;n++){var s=t[n],r=i[s];r&&r.disconnect();var a=o.get(s,{showInternalIds:!0});i[s]=this.create(a)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,o=!1,n=0;n<t.length;n++){var s=t[n],r=i.get(s),a=e[s];void 0!==a?(a.disconnect(),o=a.setOptions(r)||o,a.connect()):(this.body.edges[s]=this.create(r),o=!0)}!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.edges,i=0;i<t.length;i++){var o=t[i],n=e[o];void 0!==n&&(n.cleanup(),n.disconnect(),delete e[o])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var t=this.body.edges;for(var e in t){var i=void 0;t.hasOwnProperty(e)&&(i=t[e]);var o=this.body.data.edges._data[e];void 0!==i&&void 0!==o&&i.setOptions(o)}}},{key:"create",value:function(t){return new a.default(t,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var t in this.body.edges)this.body.edges[t].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var o=i[t];o.from=null,o.to=null,o.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];i.fromId&&e.push(i.fromId),i.toId&&e.push(i.toId)}return e}}]),t}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(66),h=o(a),d=i(86),l=o(d),c=i(90),u=o(c),p=i(91),f=o(p),m=i(92),v=o(m),g=i(1),y=function(){function t(e,i,o){if(n(this,t),void 0===i)throw"No body provided";this.options=g.bridgeObject(o),this.globalOptions=o,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new h.default(this.body,this.options,!0),this.setOptions(e)}return r(t,[{key:"setOptions",value:function(e){if(e){this.colorDirty=!0,t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.updateLabelModule();var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(i=!0),i}}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=!1,e=!0,i=this.options.smooth;return void 0!==this.edgeType&&(this.edgeType instanceof u.default&&!0===i.enabled&&"dynamic"===i.type&&(e=!1),this.edgeType instanceof l.default&&!0===i.enabled&&"cubicBezier"===i.type&&(e=!1),this.edgeType instanceof f.default&&!0===i.enabled&&"dynamic"!==i.type&&"cubicBezier"!==i.type&&(e=!1),this.edgeType instanceof v.default&&!1===i.enabled&&(e=!1),!0===e&&(t=this.cleanup())),!0===e?!0===this.options.smooth.enabled?"dynamic"===this.options.smooth.type?(t=!0,this.edgeType=new u.default(this.options,this.body,this.labelModule)):"cubicBezier"===this.options.smooth.type?this.edgeType=new l.default(this.options,this.body,this.labelModule):this.edgeType=new f.default(this.options,this.body,this.labelModule):this.edgeType=new v.default(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*s}this.options.width=this.options.scaling.min+o*n}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,!0===this.options.arrows.from.enabled&&(i.from=this.edgeType.getArrowData(t,"from",e,this.selected,this.hover),!1===this.options.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core)),!0===this.options.arrows.to.enabled&&(i.to=this.edgeType.getArrowData(t,"to",e,this.selected,this.hover),!1===this.options.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core)),!0===this.options.arrows.middle.enabled&&(i.middle=this.edgeType.getArrowData(t,"middle",e,this.selected,this.hover)),this.edgeType.drawLine(t,this.selected,this.hover,e),this.drawArrows(t,i),this.drawLabel(t,e)}},{key:"drawArrows",value:function(t,e){!0===this.options.arrows.from.enabled&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.from),!0===this.options.arrows.middle.enabled&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.middle),!0===this.options.arrows.to.enabled&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,o=this.to,n=this.from.selected||this.to.selected||this.selected;if(i.id!=o.id){this.labelModule.pointToSelf=!1;var s=this.edgeType.getPoint(.5,e);t.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(t,n,s.x,s.y),t.translate(s.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(t)),this.labelModule.draw(t,s.x,s.y,n),t.restore()}else{this.labelModule.pointToSelf=!0;var r,a,h=this.options.selfReferenceSize;i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,a=i.y-h):(r=i.x+h,a=i.y-.5*i.shape.height),s=this._pointOnCircle(r,a,h,.125),this.labelModule.draw(t,s.x,s.y,n)}}}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,i=this.from.y,o=this.to.x,n=this.to.y,s=t.left,r=t.top;return this.edgeType.getDistanceToEdge(e,i,o,n,s,r)<10}return!1}},{key:"_rotateForLabelAlignment",value:function(t){var e=this.from.y-this.to.y,i=this.from.x-this.to.x,o=Math.atan2(e,i);(o<-1&&i<0||o>0&&i<0)&&(o+=Math.PI),t.rotate(o)}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],n=["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"];if(g.selectiveDeepExtend(n,t,e,i),g.mergeOptions(t,e,"smooth",i,o),g.mergeOptions(t,e,"shadow",i,o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Object.create(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),g.mergeOptions(t.scaling,e.scaling,"label",i,o.scaling)):!0===i&&null===e.scaling&&(t.scaling=Object.create(o.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var r=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=r.indexOf("to"),t.arrows.middle.enabled=-1!=r.indexOf("middle"),t.arrows.from.enabled=-1!=r.indexOf("from")}else{if("object"!==s(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(e.arrows));g.mergeOptions(t.arrows,e.arrows,"to",i,o.arrows),g.mergeOptions(t.arrows,e.arrows,"middle",i,o.arrows),g.mergeOptions(t.arrows,e.arrows,"from",i,o.arrows)}else!0===i&&null===e.arrows&&(t.arrows=Object.create(o.arrows));if(void 0!==e.color&&null!==e.color)if(t.color=g.deepExtend({},t.color,!0),g.isString(e.color))t.color.color=e.color,t.color.highlight=e.color,t.color.hover=e.color,t.color.inherit=!1;else{var a=!1;void 0!==e.color.color&&(t.color.color=e.color.color,a=!0),void 0!==e.color.highlight&&(t.color.highlight=e.color.highlight,a=!0),void 0!==e.color.hover&&(t.color.hover=e.color.hover,a=!0),void 0!==e.color.inherit&&(t.color.inherit=e.color.inherit),void 0!==e.color.opacity&&(t.color.opacity=Math.min(1,Math.max(0,e.color.opacity))),void 0===e.color.inherit&&!0===a&&(t.color.inherit=!1)}else!0===i&&null===e.color&&(t.color=g.bridgeObject(o.color));void 0!==e.font&&null!==e.font?h.default.parseOptions(t.font,e):!0===i&&null===e.font&&(t.font=g.bridgeObject(o.font))}}]),t}();e.default=y},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){n=!0,s=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(87),d=function(t){return t&&t.__esModule?t:{default:t}}(h),l=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),a(e,[{key:"_line",value:function(t,e){var i=e[0],o=e[1];t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e||void 0===i.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.bezierCurveTo(i.x,i.y,o.x,o.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,o=void 0,n=void 0,s=void 0,r=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(o=this.from.y,s=this.to.y,i=this.from.x-r*t,n=this.to.x+r*t):(o=this.from.y-r*e,s=this.to.y+r*e,i=this.from.x,n=this.to.x),[{x:i,y:o},{x:n,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var a=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6],h=r(a,2),d=h[0],l=h[1];return this._getDistanceToBezierEdge(t,e,i,o,n,s,d,l)}},{key:"getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=r(e,2),o=i[0],n=i[1],s=t,a=[];return a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3),{x:a[0]*this.fromPoint.x+a[1]*o.x+a[2]*n.x+a[3]*this.toPoint.x,y:a[0]*this.fromPoint.y+a[1]*o.y+a[2]*n.y+a[3]*this.toPoint.y}}}]),e}(d.default);e.default=l},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(88),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,s,r,a){var h=1e9,d=void 0,l=void 0,c=void 0,u=void 0,p=void 0,f=t,m=e,v=[0,0,0,0];for(l=1;l<10;l++)c=.1*l,v[0]=Math.pow(1-c,3),v[1]=3*c*Math.pow(1-c,2),v[2]=3*Math.pow(c,2)*(1-c),v[3]=Math.pow(c,3),u=v[0]*t+v[1]*r.x+v[2]*a.x+v[3]*i,p=v[0]*e+v[1]*r.y+v[2]*a.y+v[3]*o,l>0&&(d=this._getDistanceToLine(f,m,u,p,n,s),h=d<h?d:h),f=u,m=p;return h}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(89),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,o,n,s,r,a=arguments.length<=2||void 0===arguments[2]?this._getViaCoordinates():arguments[2],h=0,d=0,l=1,c=this.to,u=!1;for(t.id===this.from.id&&(c=this.from,u=!0);d<=l&&h<10;){var p=.5*(d+l);if(i=this.getPoint(p,a),o=Math.atan2(c.y-i.y,c.x-i.x),n=c.distanceToBorder(e,o),s=Math.sqrt(Math.pow(i.x-c.x,2)+Math.pow(i.y-c.y,2)),r=n-s,Math.abs(r)<.2)break;r<0?!1===u?d=p:l=p:!1===u?l=p:d=p,h++}return i.t=p,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,s,r){var a=1e9,h=void 0,d=void 0,l=void 0,c=void 0,u=void 0,p=t,f=e;for(d=1;d<10;d++)l=.1*d,c=Math.pow(1-l,2)*t+2*l*(1-l)*r.x+Math.pow(l,2)*i,u=Math.pow(1-l,2)*e+2*l*(1-l)*r.y+Math.pow(l,2)*o,d>0&&(h=this._getDistanceToLine(p,f,c,u,n,s),a=h<a?h:a),p=c,f=u;return a}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){n=!0,s=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(1),a=function(){function t(e,i,n){o(this,t),this.body=i,this.labelModule=n,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return s(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,o){t.strokeStyle=this.getColor(t,e,i),t.lineWidth=this.getLineWidth(e,i),!1!==this.options.dashes?this._drawDashedLine(t,o):this._drawLine(t,o)}},{key:"_drawLine",value:function(t,e,i,o){if(this.from!=this.to)this._line(t,e,i,o);else{var s=this._getCircleData(t),r=n(s,3),a=r[0],h=r[1],d=r[2];this._circle(t,a,h,d)}}},{key:"_drawDashedLine",value:function(t,e,i,o){t.lineCap="round";var s=[5,5];if(!0===Array.isArray(this.options.dashes)&&(s=this.options.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e);else{var r=this._getCircleData(t),a=n(r,3),h=a[0],d=a[1],l=a[2];this._circle(t,h,d,l)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,s);else{var c=this._getCircleData(t),u=n(c,3),p=u[0],f=u[1],m=u[2];this._circle(t,p,f,m)}this.enableShadow(t),t.stroke(),this.disableShadow(t)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var o=this._getCircleData(t),s=n(o,3),r=s[0],a=s[1];s[2];e=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,o=this.from,n=this.options.selfReferenceSize;return void 0!==t&&void 0===o.shape.width&&o.shape.resize(t),o.shape.width>o.shape.height?(e=o.x+.5*o.shape.width,i=o.y-n):(e=o.x+n,i=o.y-.5*o.shape.height),[e,i,n]}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var o=i.x,n=i.y,s=i.low,r=i.high,a=i.direction,h=0,d=this.options.selfReferenceSize,l=void 0,c=void 0,u=void 0,p=void 0,f=void 0,m=.5*(s+r);s<=r&&h<10&&(m=.5*(s+r),l=this._pointOnCircle(o,n,d,m),c=Math.atan2(t.y-l.y,t.x-l.x),u=t.distanceToBorder(e,c),p=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2)),f=u-p,!(Math.abs(f)<.05));)f>0?a>0?s=m:r=m:a>0?r=m:s=m,h++;return l.t=m,l}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i){var o=this.options.color;if(!1!==o.inherit){if("both"===o.inherit&&this.from.id!==this.to.id){var n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),s=void 0,a=void 0;return s=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(s=r.overrideOpacity(this.from.options.color.border,this.options.color.opacity),
a=r.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):!0===this.from.selected&&!1===this.to.selected?a=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(s=this.from.options.color.border),n.addColorStop(0,s),n.addColorStop(1,a),n}!0===this.colorDirty&&("to"===o.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=r.overrideOpacity(this.to.options.color.border,o.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=r.overrideOpacity(this.from.options.color.border,o.opacity)))}else!0===this.colorDirty&&(this.color.highlight=o.highlight,this.color.hover=o.hover,this.color.color=r.overrideOpacity(o.color,o.opacity));return this.colorDirty=!1,!0===e?this.color.highlight:!0===i?this.color.hover:this.color.color}},{key:"_circle",value:function(t,e,i,o){this.enableShadow(t),t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t)}},{key:"getDistanceToEdge",value:function(t,e,i,o,s,r,a){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(t,e,i,o,s,r,a);else{var d=this._getCircleData(),l=n(d,3),c=l[0],u=l[1],p=l[2],f=c-s,m=u-r;h=Math.abs(Math.sqrt(f*f+m*m)-p)}return this.labelModule.size.left<s&&this.labelModule.size.left+this.labelModule.size.width>s&&this.labelModule.size.top<r&&this.labelModule.size.top+this.labelModule.size.height>r?0:h}},{key:"_getDistanceToLine",value:function(t,e,i,o,n,s){var r=i-t,a=o-e,h=r*r+a*a,d=((n-t)*r+(s-e)*a)/h;d>1?d=1:d<0&&(d=0);var l=t+d*r,c=e+d*a,u=l-n,p=c-s;return Math.sqrt(u*u+p*p)}},{key:"getArrowData",value:function(t,e,i,o,s){var r=void 0,a=void 0,h=void 0,d=void 0,l=void 0,c=void 0,u=this.getLineWidth(o,s);if("from"===e?(h=this.from,d=this.to,l=.1,c=this.options.arrows.from.scaleFactor):"to"===e?(h=this.to,d=this.from,l=-.1,c=this.options.arrows.to.scaleFactor):(h=this.to,d=this.from,c=this.options.arrows.middle.scaleFactor),h!=d)if("middle"!==e)if(!0===this.options.smooth.enabled){a=this.findBorderPosition(h,t,{via:i});var p=this.getPoint(Math.max(0,Math.min(1,a.t+l)),i);r=Math.atan2(a.y-p.y,a.x-p.x)}else r=Math.atan2(h.y-d.y,h.x-d.x),a=this.findBorderPosition(h,t);else r=Math.atan2(h.y-d.y,h.x-d.x),a=this.getPoint(.5,i);else{var f=this._getCircleData(t),m=n(f,3),v=m[0],g=m[1],y=m[2];"from"===e?(a=this.findBorderPosition(this.from,t,{x:v,y:g,low:.25,high:.6,direction:-1}),r=-2*a.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===e?(a=this.findBorderPosition(this.from,t,{x:v,y:g,low:.6,high:1,direction:1}),r=-2*a.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(a=this._pointOnCircle(v,g,y,.175),r=3.9269908169872414)}var b=15*c+3*u;return{point:a,core:{x:a.x-.9*b*Math.cos(r),y:a.y-.9*b*Math.sin(r)},angle:r,length:b}}},{key:"drawArrowHead",value:function(t,e,i,o){t.strokeStyle=this.getColor(t,e,i),t.fillStyle=t.strokeStyle,t.lineWidth=this.getLineWidth(e,i),t.arrow(o.point.x,o.point.y,o.angle,o.length),this.enableShadow(t),t.fill(),this.disableShadow(t)}},{key:"enableShadow",value:function(t){!0===this.options.shadow.enabled&&(t.shadowColor=this.options.shadow.color,t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){!0===this.options.shadow.enabled&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e.default=a},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(88),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){o(this,e);var r=n(this,Object.getPrototypeOf(e).call(this,t,i,s));return r._boundFunction=function(){r.positionBezierNode()},r.body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return s(e,t),r(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(e.x,e.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.via:arguments[1],i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToBezierEdge(t,e,i,o,n,s,this.via)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(88),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(e.x,e.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,o=this.options.smooth.type,n=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if("discrete"===o||"diagonalCross"===o)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y-i*s):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y-i*s):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y+i*s):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y+i*s)),"discrete"===o&&(t=n<i*s?this.from.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y-i*n):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y-i*n):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y+i*n):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y+i*n)),"discrete"===o&&(e=s<i*n?this.from.y:e));else if("straightCross"===o)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*s:this.to.y+(1-i)*s):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(t=this.from.x<this.to.x?this.to.x-(1-i)*n:this.to.x+(1-i)*n,e=this.from.y);else if("horizontal"===o)t=this.from.x<this.to.x?this.to.x-(1-i)*n:this.to.x+(1-i)*n,e=this.from.y;else if("vertical"===o)t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*s:this.to.y+(1-i)*s;else if("curvedCW"===o){n=this.to.x-this.from.x,s=this.from.y-this.to.y;var r=Math.sqrt(n*n+s*s),a=Math.PI,h=Math.atan2(s,n),d=(h+(.5*i+.5)*a)%(2*a);t=this.from.x+(.5*i+.5)*r*Math.sin(d),e=this.from.y+(.5*i+.5)*r*Math.cos(d)}else if("curvedCCW"===o){n=this.to.x-this.from.x,s=this.from.y-this.to.y;var l=Math.sqrt(n*n+s*s),c=Math.PI,u=Math.atan2(s,n),p=(u+(.5*-i+.5)*c)%(2*c);t=this.from.x+(.5*i+.5)*l*Math.sin(p),e=this.from.y+(.5*i+.5)*l*Math.cos(p)}else Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y-i*s,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y-i*s,t=this.to.x>t?this.to.x:t):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y+i*s,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y+i*s,t=this.to.x>t?this.to.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y-i*n,e=this.to.y>e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y-i*n,e=this.to.y>e?this.to.y:e):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y+i*n,e=this.to.y<e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y+i*n,e=this.to.y<e?this.to.y:e)));return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var r=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6];return this._getDistanceToBezierEdge(t,e,i,o,n,s,r)}},{key:"getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(89),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"_line",value:function(t){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,o=this.from;t.id===this.from.id&&(i=this.from,o=this.to);var n=Math.atan2(i.y-o.y,i.x-o.x),s=i.x-o.x,r=i.y-o.y,a=Math.sqrt(s*s+r*r),h=t.distanceToBorder(e,n),d=(a-h)/a,l={};return l.x=(1-d)*o.x+d*i.x,l.y=(1-d)*o.y+d*i.y,l}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToLine(t,e,i,o,n,s)}}]),e}(h.default);e.default=d},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(94),a=o(r),h=i(95),d=o(h),l=i(96),c=o(l),u=i(97),p=o(u),f=i(98),m=o(f),v=i(99),g=o(v),y=i(100),b=o(y),_=i(101),w=o(_),x=i(1),k=function(){function t(e){n(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},x.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,x.selectiveNotDeepExtend(["stabilization"],this.options,t),x.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new b.default(this.body,this.physicsBody,t),this.edgesSolver=new p.default(this.body,this.physicsBody,t),this.gravitySolver=new w.default(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new d.default(this.body,this.physicsBody,t),this.edgesSolver=new p.default(this.body,this.physicsBody,t),this.gravitySolver=new g.default(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new c.default(this.body,this.physicsBody,t),this.edgesSolver=new m.default(this.body,this.physicsBody,t),this.gravitySolver=new g.default(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new a.default(this.body,this.physicsBody,t),this.edgesSolver=new p.default(this.body,this.physicsBody,t),this.gravitySolver=new g.default(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.stabilizationIterations:arguments[0];(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){if(!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),!1===this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled){this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var o in e)e.hasOwnProperty(o)&&!0===e[o].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[o].id);for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var s=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var r in this.physicsBody.velocities)void 0===t[r]&&delete this.physicsBody.velocities[r]}},{key:"revert",value:function(){var t=Object.keys(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var n=t[o];void 0!==e[n]?!0===e[n].options.physics&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y):delete this.previousStates[n]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,i=this.body.nodes,o=this.referenceState;for(var n in this.referenceState)if(this.referenceState.hasOwnProperty(n)&&void 0!==i[n]&&(t=i[n].x-o[n].positions.x,e=i[n].y-o[n].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=this.options.maxVelocity?this.options.maxVelocity:1e9,i=0,o=0,n=0;n<t.length;n++){var s=t[n],r=this._performStep(s,e);i=Math.max(i,r),o+=r}this.adaptiveTimestepEnabled=o/t.length<5,this.stabilized=i<this.options.minVelocity}},{key:"_performStep",value:function(t,e){var i=this.body.nodes[t],o=this.timestep,n=this.physicsBody.forces,s=this.physicsBody.velocities;if(this.previousStates[t]={x:i.x,y:i.y,vx:s[t].x,vy:s[t].y},!1===i.options.fixed.x){var r=this.modelOptions.damping*s[t].x,a=(n[t].x-r)/i.options.mass;s[t].x+=a*o,s[t].x=Math.abs(s[t].x)>e?s[t].x>0?e:-e:s[t].x,i.x+=s[t].x*o}else n[t].x=0,s[t].x=0;if(!1===i.options.fixed.y){var h=this.modelOptions.damping*s[t].y,d=(n[t].y-h)/i.options.mass;s[t].y+=d*o,s[t].y=Math.abs(s[t].y)>e?s[t].y>0?e:-e:s[t].y,i.y+=s[t].y*o}else n[t].y=0,s[t].y=0;return Math.sqrt(Math.pow(s[t].x,2)+Math.pow(s[t].y,2))}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&t[e].x&&t[e].y&&(this.freezeCache[e]={x:t[e].options.fixed.x,y:t[e].options.fixed.y},t[e].options.fixed.x=!0,t[e].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.options.stabilization.iterations:arguments[0];if("number"!=typeof e&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),e=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length)return void(this.ready=!0);this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)}},{key:"_stabilizationBatch",value:function(){!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0);for(var t=0;!1===this.stabilized&&t<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),t++;!1===this.stabilized&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.body.nodes[this.physicsBody.physicsNodeIndices[e]],o=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[e]],n=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),s=Math.min(Math.max(5,n),15),r=3*s,a=x.HSVToHex((180-180*Math.min(1,Math.max(0,.03*n)))/360,1,1);t.lineWidth=s,t.strokeStyle=a,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(i.x+20*o.x,i.y+20*o.y),t.stroke();var h=Math.atan2(o.y,o.x);t.fillStyle=a,t.arrow(i.x+20*o.x+Math.cos(h)*r,i.y+20*o.y+Math.sin(h)*r,h,r),t.fill()}}}]),t}();e.default=k},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return o(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,n=this._formBarnesHutTree(e,i);this.barnesHutTree=n;for(var s=0;s<o;s++)t=e[i[s]],t.options.mass>0&&(this._getForceContribution(n.root.children.NW,t),this._getForceContribution(n.root.children.NE,t),this._getForceContribution(n.root.children.SW,t),this._getForceContribution(n.root.children.SE,t))}}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=void 0,o=void 0,n=void 0;i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,n=Math.sqrt(i*i+o*o),n*t.calcSize>this.thetaInversed?this._calculateForces(n,i,o,e,t):4===t.childrenCount?(this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)):t.children.data.id!=e.id&&this._calculateForces(n,i,o,e,t)}}},{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(t=.1,e=t),this.overlapAvoidanceFactor<1&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var s=this.options.gravitationalConstant*n.mass*o.options.mass/Math.pow(t,3),r=e*s,a=i*s;this.physicsBody.forces[o.id].x+=r,this.physicsBody.forces[o.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,o=e.length,n=t[e[0]].x,s=t[e[0]].y,r=t[e[0]].x,a=t[e[0]].y,h=1;h<o;h++){var d=t[e[h]].x,l=t[e[h]].y;t[e[h]].options.mass>0&&(d<n&&(n=d),d>r&&(r=d),l<s&&(s=l),l>a&&(a=l))}var c=Math.abs(r-n)-Math.abs(a-s);c>0?(s-=.5*c,a+=.5*c):(n+=.5*c,r-=.5*c);var u=Math.max(1e-5,Math.abs(r-n)),p=.5*u,f=.5*(n+r),m=.5*(s+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-p,maxX:f+p,minY:m-p,maxY:m+p},size:u,calcSize:1/u,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var g=0;g<o;g++)i=t[e[g]],i.options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(t,e){var i=t.mass+e.options.mass,o=1/i;t.centerOfMass.x=t.centerOfMass.x*t.mass+e.x*e.options.mass,t.centerOfMass.x*=o,t.centerOfMass.y=t.centerOfMass.y*t.mass+e.y*e.options.mass,t.centerOfMass.y*=o,t.mass=i;var n=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<n?n:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e),t.children.NW.range.maxX>e.x?t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NW"):this._placeInRegion(t,e,"SW"):t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NE"):this._placeInRegion(t,e,"SE")}},{key:"_placeInRegion",value:function(t,e,i){switch(t.children[i].childrenCount){case 0:t.children[i].children.data=e,t.children[i].childrenCount=1,this._updateBranchMass(t.children[i],e);break;case 1:t.children[i].children.data.x===e.x&&t.children[i].children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(t.children[i]),this._placeInTree(t.children[i],e));break;case 4:this._placeInTree(t.children[i],e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,o=void 0,n=void 0,s=void 0,r=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY,s=t.range.minY+r;break;case"NE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY,s=t.range.minY+r;break;case"SW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY+r,s=t.range.maxY;break;case"SE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY+r,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:n,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){
for(var t,e,i,o,n,s,r,a,h=this.body.nodes,d=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,c=this.options.nodeDistance,u=-2/3/c,p=0;p<d.length-1;p++){r=h[d[p]];for(var f=p+1;f<d.length;f++)a=h[d[f]],t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*Math.random(),t=i),i<2*c&&(s=i<.5*c?1:u*i+4/3,s/=i,o=t*s,n=e*s,l[r.id].x-=o,l[r.id].y-=n,l[a.id].x+=o,l[a.id].y+=n)}}}]),t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,o,n,s,r,a,h,d,l=this.body.nodes,c=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,p=this.options.nodeDistance;for(h=0;h<c.length-1;h++)for(r=l[c[h]],d=h+1;d<c.length;d++)if(a=l[c[d]],r.level===a.level){t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e);s=i<p?-Math.pow(.05*i,2)+Math.pow(.05*p,2):0,0===i?i=.01:s/=i,o=t*s,n=e*s,u[r.id].x-=o,u[r.id].y-=n,u[a.id].x+=o,u[a.id].y+=n}}}]),t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,o=this.body.edges,n=void 0,s=void 0,r=void 0,a=0;a<i.length;a++)e=o[i[a]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.to,s=e.edgeType.via,r=e.from,this._calculateSpringForce(n,s,.5*t),this._calculateSpringForce(s,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var o=t.x-e.x,n=t.y-e.y,s=Math.max(Math.sqrt(o*o+n*n),.01),r=this.options.springConstant*(i-s)/s,a=o*r,h=n*r;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}]),t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,s,r,a,h=this.body.edges,d=this.physicsBody.physicsEdgeIndices,l=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,u=0;u<l.length;u++){var p=l[u];c[p].springFx=0,c[p].springFy=0}for(var f=0;f<d.length;f++)e=h[d[f]],!0===e.connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,o=e.from.y-e.to.y,a=Math.sqrt(i*i+o*o),a=0===a?.01:a,r=this.options.springConstant*(t-a)/a,n=i*r,s=o*r,e.to.level!=e.from.level?(void 0!==c[e.toId]&&(c[e.toId].springFx-=n,c[e.toId].springFy-=s),void 0!==c[e.fromId]&&(c[e.fromId].springFx+=n,c[e.fromId].springFy+=s)):(void 0!==c[e.toId]&&(c[e.toId].x-=.5*n,c[e.toId].y-=.5*s),void 0!==c[e.fromId]&&(c[e.fromId].x+=.5*n,c[e.fromId].y+=.5*s)));for(var m,v,r=1,g=0;g<l.length;g++){var y=l[g];m=Math.min(r,Math.max(-r,c[y].springFx)),v=Math.min(r,Math.max(-r,c[y].springFy)),c[y].x+=m,c[y].y+=v}for(var b=0,_=0,w=0;w<l.length;w++){var x=l[w];b+=c[x].x,_+=c[x].y}for(var k=b/l.length,O=_/l.length,M=0;M<l.length;M++){var D=l[M];c[D].x-=k,c[D].y-=O}}}]),t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,o=void 0,n=this.body.nodes,s=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,a=0;a<s.length;a++){o=n[s[a]],t=-o.x,e=-o.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,r,o)}}},{key:"_calculateForces",value:function(t,e,i,o,n){var s=0===t?0:this.options.centralGravity/t;o[n.id].x=e*s,o[n.id].y=i*s}}]),t}();e.default=n},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(94),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(t=.1*Math.random(),e=t),this.overlapAvoidanceFactor<1&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var s=o.edges.length+1,r=this.options.gravitationalConstant*n.mass*o.options.mass*s/Math.pow(t,2),a=e*r,h=i*r;this.physicsBody.forces[o.id].x+=a,this.physicsBody.forces[o.id].y+=h}}]),e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(99),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=function(t){function e(t,i,s){return o(this,e),n(this,Object.getPrototypeOf(e).call(this,t,i,s))}return s(e,t),r(e,[{key:"_calculateForces",value:function(t,e,i,o,n){if(t>0){var s=n.edges.length+1,r=this.options.centralGravity*s*n.options.mass;o[n.id].x=e*r,o[n.id].y=i*r}}}]),e}(h.default);e.default=d},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(103),h=o(a),d=i(104),l=o(d),c=i(1),u=function(){function t(e){var i=this;n(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},c.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return r(t,[{key:"setOptions",value:function(t){}},{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":s(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>=t&&i.push(n.id)}for(var r=0;r<i.length;r++)this.clusterByConnection(i[r],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);for(var i={},o={},n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodeIndices[n],r=this.body.nodes[s],a=h.default.cloneOptions(r);if(!0===t.joinCondition(a)){i[s]=this.body.nodes[s];for(var d=0;d<r.edges.length;d++){var l=r.edges[d];void 0===this.clusteredEdges[l.id]&&(o[l.id]=l)}}}this._cluster(i,o,t,e)}},{key:"clusterByEdgeCount",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]||arguments[2];e=this._checkOptions(e);for(var o=[],n={},s=void 0,r=void 0,a=void 0,d=void 0,l=void 0,c=0;c<this.body.nodeIndices.length;c++){var u={},p={};if(d=this.body.nodeIndices[c],void 0===n[d]){l=0,a=this.body.nodes[d],r=[];for(var f=0;f<a.edges.length;f++)s=a.edges[f],void 0===this.clusteredEdges[s.id]&&(s.toId!==s.fromId&&l++,r.push(s));if(l===t){for(var m=!0,v=0;v<r.length;v++){s=r[v];var g=this._getConnectedId(s,d);if(void 0===e.joinCondition)p[s.id]=s,u[d]=this.body.nodes[d],u[g]=this.body.nodes[g],n[d]=!0;else{var y=h.default.cloneOptions(this.body.nodes[d]);if(!0!==e.joinCondition(y)){m=!1;break}p[s.id]=s,u[d]=this.body.nodes[d],n[d]=!0}}Object.keys(u).length>0&&Object.keys(p).length>0&&!0===m&&o.push({nodes:u,edges:p})}}}for(var b=0;b<o.length;b++)this._cluster(o[b].nodes,o[b].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];e=this._checkOptions(e,o),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);var n={},s={},r=o.id,a=h.default.cloneOptions(o);n[r]=o;for(var d=0;d<o.edges.length;d++){var l=o.edges[d];if(void 0===this.clusteredEdges[l.id]){var c=this._getConnectedId(l,r);if(void 0===this.clusteredNodes[c])if(c!==r)if(void 0===e.joinCondition)s[l.id]=l,n[c]=this.body.nodes[c];else{var u=h.default.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(a,u)&&(s[l.id]=l,n[c]=this.body.nodes[c])}else s[l.id]=l}}this._cluster(n,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var n=void 0,s=void 0,r=void 0,a=void 0,d=void 0,l=void 0,u=Object.keys(t),p=[],f=0;f<u.length;f++){s=u[f],r=t[s];for(var m=0;m<r.edges.length;m++)n=r.edges[m],void 0===this.clusteredEdges[n.id]&&(n.toId==n.fromId?e[n.id]=n:n.toId==s?(a=i.id,d=n.fromId,l=d):(a=n.toId,d=i.id,l=a),void 0===t[l]&&p.push({edge:n,fromId:d,toId:a}))}for(var v=0;v<p.length;v++){var g=p[v].edge,y=h.default.cloneOptions(g,"edge");c.deepExtend(y,o),y.from=p[v].fromId,y.to=p[v].toId,y.id="clusterEdge:"+c.randomUUID();var b=this.body.functions.createEdge(y);b.clusteringEdgeReplacingId=g.id,this.body.edges[b.id]=b,b.connect(),this._backupEdgeOptions(g),g.setOptions({physics:!1,hidden:!0})}}},{key:"_checkOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=arguments.length<=3||void 0===arguments[3]||arguments[3];if(!(Object.keys(t).length<2)){for(var n in t)if(t.hasOwnProperty(n)&&void 0!==this.clusteredNodes[n])return;var s=c.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var r=[];for(var a in t)if(t.hasOwnProperty(a)){var d=h.default.cloneOptions(t[a]);r.push(d)}var u=[];for(var p in e)if(e.hasOwnProperty(p)&&"clusterEdge:"!==p.substr(0,12)){var f=h.default.cloneOptions(e[p],"edge");u.push(f)}if(!(s=i.processProperties(s,r,u)))throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+c.randomUUID());var m=s.id;void 0===s.label&&(s.label="cluster");var v=void 0;void 0===s.x&&(v=this._getClusterPosition(t),s.x=v.x),void 0===s.y&&(void 0===v&&(v=this._getClusterPosition(t)),s.y=v.y),s.id=m;var g=this.body.functions.createNode(s,l.default);g.isCluster=!0,g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=g,this._createClusterEdges(t,e,s,i.clusterEdgeProperties);for(var y in e)if(e.hasOwnProperty(y)&&void 0!==this.body.edges[y]){var b=this.body.edges[y];this._backupEdgeOptions(b),b.setOptions({physics:!1,hidden:!0})}for(var _ in t)t.hasOwnProperty(_)&&(this.clusteredNodes[_]={clusterId:s.id,node:this.body.nodes[_]},this.body.nodes[_].setOptions({hidden:!0,physics:!1}));s.id=void 0,!0===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics,hidden:t.options.hidden})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics,hidden:e.hidden}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=Object.keys(t),i=t[e[0]].x,o=t[e[0]].x,n=t[e[0]].y,s=t[e[0]].y,r=void 0,a=1;a<e.length;a++)r=t[e[a]],i=r.x<i?r.x:i,o=r.x>o?r.x:o,n=r.y<n?r.y:n,s=r.y>s?r.y:s;return{x:.5*(i+o),y:.5*(n+s)}}},{key:"openCluster",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[t])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[t].containedNodes)return void console.log("The node:"+t+" is not a cluster.");var o=this.body.nodes[t],n=o.containedNodes,s=o.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var r={},a={x:o.x,y:o.y};for(var d in n)if(n.hasOwnProperty(d)){var l=this.body.nodes[d];r[d]={x:l.x,y:l.y}}var u=e.releaseFunction(a,r);for(var p in n)if(n.hasOwnProperty(p)){var f=this.body.nodes[p];void 0!==u[p]&&(f.x=void 0===u[p].x?o.x:u[p].x,f.y=void 0===u[p].y?o.y:u[p].y)}}else for(var m in n)if(n.hasOwnProperty(m)){var v=this.body.nodes[m];v=n[m],!1===v.options.fixed.x&&(v.x=o.x),!1===v.options.fixed.y&&(v.y=o.y)}for(var g in n)if(n.hasOwnProperty(g)){var y=this.body.nodes[g];y.vx=o.vx,y.vy=o.vy,y.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[g]}for(var b=[],_=0;_<o.edges.length;_++)b.push(o.edges[_]);for(var w=0;w<b.length;w++){var x=b[w],k=this._getConnectedId(x,t);if(void 0!==this.clusteredNodes[k]){var O=this.body.nodes[this.clusteredNodes[k].clusterId],M=this.body.edges[x.clusteringEdgeReplacingId];if(void 0!==M){O.containedEdges[M.id]=M,delete s[M.id];var D=M.fromId,S=M.toId;M.toId==k?S=this.clusteredNodes[k].clusterId:D=this.clusteredNodes[k].clusterId;var C=h.default.cloneOptions(M,"edge");c.deepExtend(C,O.clusterEdgeProperties);var T="clusterEdge:"+c.randomUUID();c.deepExtend(C,{from:D,to:S,hidden:!1,physics:!0,id:T});var E=this.body.functions.createEdge(C);E.clusteringEdgeReplacingId=M.id,this.body.edges[T]=E,this.body.edges[T].connect()}}else{var P=this.body.edges[x.clusteringEdgeReplacingId];void 0!==P&&this._restoreEdge(P)}x.cleanup(),x.disconnect(),delete this.body.edges[x.id]}for(var I in s)s.hasOwnProperty(I)&&this._restoreEdge(s[I]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var o in i)i.hasOwnProperty(o)&&e.push(this.body.nodes[o].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0;void 0!==this.clusteredNodes[t]&&i<100;)e.push(this.body.nodes[t].id),t=this.clusteredNodes[t].clusterId,i++;return e.push(this.body.nodes[t].id),e.reverse(),e}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,o=0,n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>o&&(o=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i,e/=i;var r=e-Math.pow(t,2),a=Math.sqrt(r),h=Math.floor(t+2*a);return h>o&&(h=o),h}}]),t}();e.default=u},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=function(){function t(){o(this,t)}return n(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=1e9,n=-1e9,s=1e9,r=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],s>e.shape.boundingBox.left&&(s=e.shape.boundingBox.left),r<e.shape.boundingBox.right&&(r=e.shape.boundingBox.right),o>e.shape.boundingBox.top&&(o=e.shape.boundingBox.top),n<e.shape.boundingBox.bottom&&(n=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(o=0,n=0,s=0,r=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=1e9,n=-1e9,s=1e9,r=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],s>e.x&&(s=e.x),r<e.x&&(r=e.x),o>e.y&&(o=e.y),n<e.y&&(n=e.y);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(o=0,n=0,s=0,r=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s.deepExtend(i,t.options,!0),i}}]),t}();e.default=r},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(65),a=function(t){return t&&t.__esModule?t:{default:t}}(r),h=function(t){function e(t,i,s,r,a){o(this,e);var h=n(this,Object.getPrototypeOf(e).call(this,t,i,s,r,a));return h.isCluster=!0,h.containedNodes={},h.containedEdges={},h}return s(e,t),e}(a.default);e.default=h},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var s=i(1),r=function(){function t(e,i){o(this,t),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return n(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){return t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag"];s.selectiveDeepExtend(e,this.options,t)}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(!0===this.requiresTimeout?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,!0===this.requiresTimeout?window.setTimeout(function(){t._redraw(!1)},0):window.requestAnimationFrame(function(){t._redraw(!1)}))}},{key:"_redraw",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e=this.canvas.frame.canvas.getContext("2d");0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,o),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,o)}}},{key:"_resizeNodes",value:function(){var t=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=this.body.nodes,o=this.body.nodeIndices,n=void 0,s=[],r=this.canvas.DOMtoCanvas({x:-20,y:-20}),a=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),h={top:r.y,left:r.x,bottom:a.y,right:a.x},d=0;d<o.length;d++)n=i[o[d]],n.isSelected()?s.push(o[d]):!0===e?n.draw(t):!0===n.isBoundingBoxOverlappingWith(h)?n.draw(t):n.updateBoundingBox(t,n.selected);for(var l=0;l<s.length;l++)n=i[s[l]],n.draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=void 0,n=0;n<i.length;n++)o=e[i[n]],!0===o.connected&&o.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e.default=r},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(20),r=i(28),a=i(1),h=function(){function t(e){o(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}return n(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){var i=["width","height","autoResize"];a.selectiveDeepExtend(i,this.options,t)}!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),a.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),a.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.pixelRatio:arguments[0];!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var o=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),n={x:o.x-this.cameraState.position.x,y:o.y-this.cameraState.position.y};this.body.view.translation.x+=n.x*this.body.view.scale,this.body.view.translation.y+=n.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var t=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,
direction:s.DIRECTION_ALL}),r.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new s(this.frame),r.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.options.width:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.options.height:arguments[1];t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,o=this.frame.canvas.width,n=this.frame.canvas.height,s=this.frame.canvas.getContext("2d"),r=this.pixelRatio;return this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e?(this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,i=!0):(this.frame.canvas.width==Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&this.frame.canvas.height==Math.round(this.frame.canvas.clientHeight*this.pixelRatio)||this._getCameraState(r),this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),i=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),i=!0)),!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(n/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e.default=h},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(103),r=function(t){return t&&t.__esModule?t:{default:t}}(s),a=i(1),h=function(){function t(e,i){var n=this;o(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return n(t,[{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}},{key:"fit",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{nodes:[]}:arguments[0],e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=void 0,o=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var n=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var a=this.body.nodes[s];!0===a.predefinedPosition&&(n+=1)}if(n>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=r.default.getRange(this.body.nodes,t.nodes);o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;o*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),i=r.default.getRange(this.body.nodes,t.nodes);var h=1.1*Math.abs(i.maxX-i.minX),d=1.1*Math.abs(i.maxY-i.minY),l=this.canvas.frame.canvas.clientWidth/h,c=this.canvas.frame.canvas.clientHeight/d;o=l<=c?l:c}o>1?o=1:0===o&&(o=1);var u=r.default.findCenter(i),p={position:u,scale:o,animation:t.animation};this.moveTo(p)}},{key:"focus",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0===t)return void(t={});void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},o=this.body.view.translation,n={x:o.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=n}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=a.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e.default=h},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(109),a=o(r),h=i(110),d=o(h),l=i(1),c=function(){function t(e,i,o){n(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.navigationHandler=new a.default(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(e,this.options,t),l.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(l.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=l.parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=this.selectionHandler._getSelectedEdgeCount(),n=this.selectionHandler._getSelectedNodeCount(),s=this.selectionHandler.getSelection(),r=void 0;r=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var a=this.selectionHandler._getSelectedEdgeCount(),h=this.selectionHandler._getSelectedNodeCount(),d=this.selectionHandler.getSelection(),l=this._determineIfDifferent(s,d),c=l.nodesChanged,u=l.edgesChanged,p=!1;h-n>0?(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0,p=!0):!0===c&&h>0?(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),this.selectionHandler._generateClickEvent("selectNode",e,t),p=!0,r=!0):h-n<0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),r=!0),a-o>0&&!1===p?(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0):a>0&&!0===u?(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0):a-o<0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineIfDifferent",value:function(t,e){for(var i=!1,o=!1,n=0;n<t.nodes.length;n++)-1===e.nodes.indexOf(t.nodes[n])&&(i=!0);for(var s=0;s<e.nodes.length;s++)-1===t.nodes.indexOf(t.nodes[s])&&(i=!0);for(var r=0;r<t.edges.length;r++)-1===e.edges.indexOf(t.edges[r])&&(o=!0);for(var a=0;a<e.edges.length;a++)-1===t.edges.indexOf(t.edges[a])&&(o=!0);return{nodesChanged:i,edgesChanged:o}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=l.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var o in i)if(i.hasOwnProperty(o)){var n=i[o],s={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),o=this.drag.selection;if(o&&o.length&&!0===this.options.dragNodes)!function(){e.selectionHandler._generateClickEvent("dragging",t,i);var n=i.x-e.drag.pointer.x,s=i.y-e.drag.pointer.y;o.forEach(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+n)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+s))}),e.body.emitter.emit("startSimulation")}();else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var n=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+s},this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var o=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(o=this.canvas.DOMtoCanvas(this.drag.pointer));var n=this.body.view.translation,s=t/i,r=(1-s)*e.x+n.x*s,a=(1-s)*e.y+n.y*s;if(this.body.view.scale=t,this.body.view.translation={x:r,y:a},void 0!=o){var h=this.canvas.canvasToDOM(o);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,o=e/10;e<0&&(o/=1-o),i*=1+o;var n=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,n)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),o=!1;if(void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(o=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===o&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover){var n=this.selectionHandler.getNodeAt(i);void 0===n&&(n=this.selectionHandler.getEdgeAt(i)),this.selectionHandler.hoverObject(n)}}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),o={left:e,top:i,right:e,bottom:i},n=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,r="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,h=this.body.nodes,l=void 0,c=[],u=0;u<a.length;u++)l=h[a[u]],!0===l.isOverlappingWith(o)&&void 0!==l.getTitle()&&c.push(a[u]);c.length>0&&(this.popupObj=h[c[c.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var p=this.body.edgeIndices,f=this.body.edges,m=void 0,v=[],g=0;g<p.length;g++)m=f[p[g]],!0===m.isOverlappingWith(o)&&!0===m.connected&&void 0!==m.getTitle()&&v.push(p[g]);v.length>0&&(this.popupObj=f[v[v.length-1]],r="edge")}void 0!==this.popupObj?this.popupObj.id!==n&&(void 0===this.popup&&(this.popup=new d.default(this.canvas.frame)),this.popup.popupTargetType=r,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var o=this.selectionHandler.getNodeAt(t);i=o.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e.default=c},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=(i(1),i(20)),r=i(28),a=i(23),h=function(){function t(e,i){var n=this;o(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return n(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);var n=new s(this.navigationDOM[e[o]]);"_fit"===i[o]?r.onTouch(n,this._fit.bind(this)):r.onTouch(n,this.bindToRedraw.bind(this,i[o])),this.navigationHammers.push(n)}var a=new s(this.canvas.frame);r.onRelease(a,function(){t._stopMovement()}),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){this.body.view.scale*=1+this.options.keyboard.speed.zoom,this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale})}},{key:"_zoomOut",value:function(){this.body.view.scale/=1+this.options.keyboard.speed.zoom,this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=a({container:window,preventDefault:!0}):this.keycharm=a({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e.default=h},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e){i(this,t),this.container=e,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}return o(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,s=this.y-e;s+e+this.padding>o&&(s=o-e-this.padding),s<this.padding&&(s=this.padding);var r=this.x;r+i+this.padding>n&&(r=n-i-this.padding),r<this.padding&&(r=this.padding),this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),t}();e.default=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(65),a=o(r),h=i(85),d=o(h),l=i(1),c=function(){function t(e,i){var o=this;n(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return s(t,[{key:"setOptions",value:function(t){if(void 0!==t){var e=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];l.selectiveDeepExtend(e,this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_generateClickEvent",value:function(t,e,i,o){var n=!(arguments.length<=4||void 0===arguments[4])&&arguments[4],s=void 0;s=!0===n?{nodes:[],edges:[]}:this.getSelection(),s.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},s.event=e,void 0!==o&&(s.previousSelection=o),this.body.emitter.emit(t,s)}},{key:"selectObject",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.options.selectConnectedEdges:arguments[1];return void 0!==t&&(t instanceof a.default&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1],i=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(i);return o.length>0?!0===e?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n=this.body.edgeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1],i=this._pointerToPositionObject(t),o=this._getAllEdgesOverlappingWith(i);return o.length>0?!0===e?this.body.edges[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_addToSelection",value:function(t){
t instanceof a.default?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof a.default?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof a.default?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"blurObject",value:function(t){!0===t.hover&&(t.hover=!1,t instanceof a.default?this.body.emitter.emit("blurNode",{node:t.id}):this.body.emitter.emit("blurEdge",{edge:t.id}))}},{key:"hoverObject",value:function(t){var e=!1;for(var i in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(i)&&(void 0===t||t instanceof a.default&&t.id!=i||t instanceof d.default)&&(this.blurObject(this.hoverObj.nodes[i]),delete this.hoverObj.nodes[i],e=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(!0===e?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):void 0===t&&(this.blurObject(this.hoverObj.edges[o]),delete this.hoverObj.edges[o],e=!0));void 0!==t&&(!1===t.hover&&(t.hover=!0,this._addToHover(t),e=!0,t instanceof a.default?this.body.emitter.emit("hoverNode",{node:t.id}):this.body.emitter.emit("hoverEdge",{edge:t.id})),t instanceof a.default&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(t)),!0===e&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=void 0,o=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){o=t.nodes[i];var n=this.body.nodes[o];if(!n)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(n,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){o=t.edges[i];var s=this.body.edges[o];if(!s)throw new RangeError('Edge with id "'+o+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}}]),t}();e.default=c},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){n=!0,s=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(103),h=function(t){return t&&t.__esModule?t:{default:t}}(a),d=i(1),l=function(){function t(e){o(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},d.extend(this.options,this.defaultOptions),this.bindEventListeners()}return r(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical.enabled;if(d.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),d.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===this.options.hierarchical.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),d.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,solver:"hierarchicalRepulsion"},this.optionsBackup.physics.enabled=void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,this.optionsBackup.physics.solver=this.optionsBackup.physics.solver||"barnesHut"):"object"===s(t.physics)?(this.optionsBackup.physics.enabled=void 0===t.physics.enabled||t.physics.enabled,this.optionsBackup.physics.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(this.optionsBackup.physics.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var e="horizontal";"RL"!==this.options.hierarchical.direction&&"LR"!==this.options.hierarchical.direction||(e="vertical"),void 0===t.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1}):void 0===t.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1):"boolean"==typeof t.edges.smooth?(this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:e}):(void 0!==t.edges.smooth.type&&"dynamic"!==t.edges.smooth.type&&(e=t.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===t.edges.smooth.enabled||t.edges.smooth.enabled,type:void 0===t.edges.smooth.type?"dynamic":t.edges.smooth.type,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0!==t.edges.smooth.forceDirection&&t.edges.smooth.forceDirection},t.edges.smooth={enabled:void 0===t.edges.smooth.enabled||t.edges.smooth.enabled,type:e,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0!==t.edges.smooth.forceDirection&&t.edges.smooth.forceDirection}),this.body.emitter.emit("_forceDisableDynamicCurves",e)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=0;e<t.length;e++){var i=t[e],o=1*t.length+10,n=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=o*Math.cos(n)),void 0===i.y&&(i.y=o*Math.sin(n))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=0,e=0;e<this.body.nodeIndices.length;e++){!0===this.body.nodes[this.body.nodeIndices[e]].predefinedPosition&&(t+=1)}if(t<.5*this.body.nodeIndices.length){var i=0;if(this.body.nodeIndices.length>100){for(var o=this.body.nodeIndices.length;this.body.nodeIndices.length>100;){i+=1;var n=this.body.nodeIndices.length;i%3==0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers();if(n==this.body.nodeIndices.length&&i%3!=0||i>10)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0),this._shiftToCenter();for(var s=0;s<this.body.nodeIndices.length;s++)this.body.nodes[this.body.nodeIndices[s]].x+=70*(.5-this.seededRandom()),this.body.nodes[this.body.nodeIndices[s]].y+=70*(.5-this.seededRandom());this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=h.default.getRangeCore(this.body.nodes,this.body.nodeIndices),e=h.default.findCenter(t),i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].x-=e.x,this.body.nodes[this.body.nodeIndices[i]].y-=e.y}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,o=!1;this.hierarchicalLevels={},this.lastNodeOnLevel={},this.hierarchicalChildrenReference={},this.hierarchicalParentReference={},this.hierarchicalTrees={},this.treeIndex=-1,this.distributionOrdering={},this.distributionIndex={},this.distributionOrderingPresence={};for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],void 0===t.options.x&&void 0===t.options.y&&!1,void 0!==t.options.level?(i=!0,this.hierarchicalLevels[e]=t.options.level):o=!0);if(!0===o&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");!0===o&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback());for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&void 0===this.hierarchicalLevels[n]&&(this.hierarchicalLevels[n]=0);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},o=function(e,i){for(var o in t.hierarchicalTrees)if(t.hierarchicalTrees.hasOwnProperty(o)&&t.hierarchicalTrees[o]===e){var n=t.body.nodes[o],s=t._getPositionForHierarchy(n);t._setPositionForHierarchy(n,s+i,void 0,!0)}},s=function(e){var i=1e9,o=-1e9;for(var n in t.hierarchicalTrees)if(t.hierarchicalTrees.hasOwnProperty(n)&&t.hierarchicalTrees[n]===e){var s=t._getPositionForHierarchy(t.body.nodes[n]);i=Math.min(s,i),o=Math.max(s,o)}return{min:i,max:o}},r=function(){for(var e=[],i=0;i<=t.treeIndex;i++)e.push(s(i));return e},a=function e(i,o){if(o[i.id]=!0,t.hierarchicalChildrenReference[i.id]){var n=t.hierarchicalChildrenReference[i.id];if(n.length>0)for(var s=0;s<n.length;s++)e(t.body.nodes[n[s]],o)}},h=function(e){var i=arguments.length<=1||void 0===arguments[1]?1e9:arguments[1],o=1e9,s=1e9,r=1e9,a=-1e9;for(var h in e)if(e.hasOwnProperty(h)){var d=t.body.nodes[h],l=t.hierarchicalLevels[d.id],c=t._getPositionForHierarchy(d),u=t._getSpaceAroundNode(d,e),p=n(u,2),f=p[0],m=p[1];o=Math.min(f,o),s=Math.min(m,s),l<=i&&(r=Math.min(c,r),a=Math.max(c,a))}return[r,a,o,s]},d=function e(i){var o=t.hierarchicalLevels[i];if(t.hierarchicalChildrenReference[i]){var n=t.hierarchicalChildrenReference[i];if(n.length>0)for(var s=0;s<n.length;s++)o=Math.max(o,e(n[s]))}return o},l=function(t,e){var i=d(t.id),o=d(e.id);return Math.min(i,o)},c=function(e,i){var o=t.hierarchicalParentReference[e.id],n=t.hierarchicalParentReference[i.id];if(void 0===o||void 0===n)return!1;for(var s=0;s<o.length;s++)for(var r=0;r<n.length;r++)if(o[s]==n[r])return!0;return!1},u=function(e,i,o){for(var n=0;n<i.length;n++){var s=i[n],r=t.distributionOrdering[s];if(r.length>1)for(var a=0;a<r.length-1;a++)!0===c(r[a],r[a+1])&&t.hierarchicalTrees[r[a].id]===t.hierarchicalTrees[r[a+1].id]&&e(r[a],r[a+1],o)}},p=function(i,o){var s=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=t._getPositionForHierarchy(i),d=t._getPositionForHierarchy(o);if(Math.abs(d-r)>t.options.hierarchical.nodeSpacing){var c={};c[i.id]=!0;var u={};u[o.id]=!0,a(i,c),a(o,u);var p=l(i,o),f=h(c,p),m=n(f,4),v=(m[0],m[1]),g=(m[2],m[3],h(u,p)),y=n(g,4),b=y[0],_=(y[1],y[2]);if(y[3],Math.abs(v-b)>t.options.hierarchical.nodeSpacing){var w=v-b+t.options.hierarchical.nodeSpacing;w<-_+t.options.hierarchical.nodeSpacing&&(w=-_+t.options.hierarchical.nodeSpacing),w<0&&(t._shiftBlock(o.id,w),e=!0,!0===s&&t._centerParent(o))}}},f=function(o,s){for(var r=s.id,d=s.edges,l=t.hierarchicalLevels[s.id],c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,u={},p=[],f=0;f<d.length;f++){var m=d[f];if(m.toId!=m.fromId){var v=m.toId==r?m.from:m.to;u[d[f].id]=v,t.hierarchicalLevels[v.id]<l&&p.push(m)}}var g=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==u[i[n].id]){var s=t._getPositionForHierarchy(u[i[n].id])-e;o+=s/Math.sqrt(s*s+c)}return o},y=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==u[i[n].id]){var s=t._getPositionForHierarchy(u[i[n].id])-e;o-=c*Math.pow(s*s+c,-1.5)}return o},b=function(e,i){for(var o=t._getPositionForHierarchy(s),n={},r=0;r<e;r++){var a=g(o,i),h=y(o,i);if(o-=Math.max(-40,Math.min(40,Math.round(a/h))),void 0!==n[o])break;n[o]=r}return o},_=b(o,p);!function(o){var r=t._getPositionForHierarchy(s);if(void 0===i[s.id]){var d={};d[s.id]=!0,a(s,d),i[s.id]=d}var l=h(i[s.id]),c=n(l,4),u=(c[0],c[1],c[2]),p=c[3],f=o-r,m=0;f>0?m=Math.min(f,p-t.options.hierarchical.nodeSpacing):f<0&&(m=-Math.min(-f,u-t.options.hierarchical.nodeSpacing)),0!=m&&(t._shiftBlock(s.id,m),e=!0)}(_),_=b(o,d),function(i){var o=t._getPositionForHierarchy(s),r=t._getSpaceAroundNode(s),a=n(r,2),h=a[0],d=a[1],l=i-o,c=o;l>0?c=Math.min(o+(d-t.options.hierarchical.nodeSpacing),i):l<0&&(c=Math.max(o-(h-t.options.hierarchical.nodeSpacing),i)),c!==o&&(t._setPositionForHierarchy(s,c,void 0,!0),e=!0)}(_)};!0===this.options.hierarchical.blockShifting&&(function(i){var o=Object.keys(t.distributionOrdering);o=o.reverse();for(var n=0;n<i&&(e=!1,u(p,o,!0),!0===e);n++);}(5),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var o=Object.keys(t.distributionOrdering);o=o.reverse();for(var n=0;n<i;n++){e=!1;for(var s=0;s<o.length;s++)for(var r=o[s],a=t.distributionOrdering[r],h=0;h<a.length;h++)f(1e3,a[h]);if(!0!==e)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var e=Object.keys(t.distributionOrdering);e=e.reverse();for(var i=0;i<e.length;i++)for(var o=e[i],n=t.distributionOrdering[o],s=0;s<n.length;s++)t._centerParent(n[s])}(),function(){for(var e=r(),i=0;i<e.length-1;i++){var n=e[i].max-e[i+1].min;o(i+1,n+t.options.hierarchical.treeSpacing)}}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var o=this.hierarchicalLevels[t.id];if(void 0!==o){var n=this.distributionIndex[t.id],s=this._getPositionForHierarchy(t),r=1e9,a=1e9;if(0!==n){var h=this.distributionOrdering[o][n-1];if(!0===i&&void 0===e[h.id]||!1===i){r=s-this._getPositionForHierarchy(h)}}if(n!=this.distributionOrdering[o].length-1){var d=this.distributionOrdering[o][n+1];if(!0===i&&void 0===e[d.id]||!1===i){var l=this._getPositionForHierarchy(d);a=Math.min(a,l-s)}}return[r,a]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchicalParentReference[t.id])for(var e=this.hierarchicalParentReference[t.id],i=0;i<e.length;i++){var o=e[i],s=this.body.nodes[o];if(this.hierarchicalChildrenReference[o]){var r=1e9,a=-1e9,h=this.hierarchicalChildrenReference[o];if(h.length>0)for(var d=0;d<h.length;d++){var l=this.body.nodes[h[d]];r=Math.min(r,this._getPositionForHierarchy(l)),a=Math.max(a,this._getPositionForHierarchy(l))}var c=this._getPositionForHierarchy(s),u=this._getSpaceAroundNode(s),p=n(u,2),f=p[0],m=p[1],v=.5*(r+a),g=c-v;(g<0&&Math.abs(g)<m-this.options.hierarchical.nodeSpacing||g>0&&Math.abs(g)<f-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(s,v,void 0,!0)}}}},{key:"_placeNodesByHierarchy",value:function(t){this.positionedNodes={};for(var e in t)if(t.hasOwnProperty(e)){var i=Object.keys(t[e]);i=this._indexArrayToNodes(i),this._sortNodeArray(i);for(var o=0,n=0;n<i.length;n++){var s=i[n];if(void 0===this.positionedNodes[s.id]){var r=this.options.hierarchical.nodeSpacing*o;o>0&&(r=this._getPositionForHierarchy(i[n-1])+this.options.hierarchical.nodeSpacing),this._setPositionForHierarchy(s,r,e),this._validataPositionAndContinue(s,e,r),o++}}}}},{key:"_placeBranchNodes",value:function(t,e){if(void 0!==this.hierarchicalChildrenReference[t]){for(var i=[],o=0;o<this.hierarchicalChildrenReference[t].length;o++)i.push(this.body.nodes[this.hierarchicalChildrenReference[t][o]]);this._sortNodeArray(i);for(var n=0;n<i.length;n++){var s=i[n],r=this.hierarchicalLevels[s.id];if(!(r>e&&void 0===this.positionedNodes[s.id]))return;var a=void 0;a=0===n?this._getPositionForHierarchy(this.body.nodes[t]):this._getPositionForHierarchy(i[n-1])+this.options.hierarchical.nodeSpacing,this._setPositionForHierarchy(s,a,r),this._validataPositionAndContinue(s,r,a)}for(var h=1e9,d=-1e9,l=0;l<i.length;l++){var c=i[l].id;h=Math.min(h,this._getPositionForHierarchy(this.body.nodes[c])),d=Math.max(d,this._getPositionForHierarchy(this.body.nodes[c]))}this._setPositionForHierarchy(this.body.nodes[t],.5*(h+d),e)}}},{key:"_validataPositionAndContinue",value:function(t,e,i){if(void 0!==this.lastNodeOnLevel[e]){var o=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-o<this.options.hierarchical.nodeSpacing){var n=o+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(s.withChild,n)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var o=void 0===this.hierarchicalLevels[e]?0:this.hierarchicalLevels[e];"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(i.y=this.options.hierarchical.levelSeparation*o,i.options.fixed.y=!0):(i.x=this.options.hierarchical.levelSeparation*o,i.options.fixed.x=!0),void 0===t[o]&&(t[o]={}),t[o][e]=i}return t}},{key:"_getHubSize",value:function(){var t=0;for(var e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){var i=this.body.nodes[e];void 0===this.hierarchicalLevels[e]&&(t=i.edges.length<t?t:i.edges.length)}return t}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=1,i=function(e,i){void 0===t.hierarchicalLevels[i.id]&&(void 0===t.hierarchicalLevels[e.id]&&(t.hierarchicalLevels[e.id]=0),t.hierarchicalLevels[i.id]=t.hierarchicalLevels[e.id]+1)};e>0&&0!==(e=this._getHubSize());)for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){var n=this.body.nodes[o];n.edges.length===e&&this._crawlNetwork(i,o)}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,e=function(e,i,o){void 0===t.hierarchicalLevels[e.id]&&(t.hierarchicalLevels[e.id]=1e5);var n=(h.default.cloneOptions(e,"node"),h.default.cloneOptions(i,"node"),void h.default.cloneOptions(o,"edge"));t.hierarchicalLevels[i.id]=t.hierarchicalLevels[e.id]+n};this._crawlNetwork(e),this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function(){var t=this,e=function(e,i,o){void 0===t.hierarchicalLevels[e.id]&&(t.hierarchicalLevels[e.id]=1e4),o.toId==i.id?t.hierarchicalLevels[i.id]=t.hierarchicalLevels[e.id]+1:t.hierarchicalLevels[i.id]=t.hierarchicalLevels[e.id]-1};this._crawlNetwork(e),this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function(){var t=1e9;for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&void 0!==this.hierarchicalLevels[e]&&(t=Math.min(this.hierarchicalLevels[e],t));for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&void 0!==this.hierarchicalLevels[i]&&(this.hierarchicalLevels[i]-=t)}},{key:"_generateMap",value:function(){var t=this,e=function(e,i){if(t.hierarchicalLevels[i.id]>t.hierarchicalLevels[e.id]){var o=e.id,n=i.id;void 0===t.hierarchicalChildrenReference[o]&&(t.hierarchicalChildrenReference[o]=[]),t.hierarchicalChildrenReference[o].push(n),void 0===t.hierarchicalParentReference[n]&&(t.hierarchicalParentReference[n]=[]),t.hierarchicalParentReference[n].push(o)}};this._crawlNetwork(e)}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0],i=arguments[1],o={},n=0,s=function i(n,s){if(void 0===o[n.id]){void 0===t.hierarchicalTrees[n.id]&&(t.hierarchicalTrees[n.id]=s,t.treeIndex=Math.max(s,t.treeIndex)),o[n.id]=!0;for(var r=void 0,a=0;a<n.edges.length;a++)!0===n.edges[a].connected&&(r=n.edges[a].toId===n.id?n.edges[a].from:n.edges[a].to,n.id!==r.id&&(e(n,r,n.edges[a]),i(r,s)))}};if(void 0===i)for(var r=0;r<this.body.nodeIndices.length;r++){var a=this.body.nodes[this.body.nodeIndices[r]];void 0===o[a.id]&&(s(a,n),n+=1)}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);s(h)}}},{key:"_shiftBlock",value:function(t,e){if("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.body.nodes[t].x+=e:this.body.nodes[t].y+=e,void 0!==this.hierarchicalChildrenReference[t])for(var i=0;i<this.hierarchicalChildrenReference[t].length;i++)this._shiftBlock(this.hierarchicalChildrenReference[t][i],e)}},{key:"_findCommonParent",value:function(t,e){var i=this,o={};return function t(e,o){if(void 0!==i.hierarchicalParentReference[o])for(var n=0;n<i.hierarchicalParentReference[o].length;n++){var s=i.hierarchicalParentReference[o][n];e[s]=!0,t(e,s)}}(o,t),function t(e,o){if(void 0!==i.hierarchicalParentReference[o])for(var n=0;n<i.hierarchicalParentReference[o].length;n++){var s=i.hierarchicalParentReference[o][n];if(void 0!==e[s])return{foundParent:s,withChild:o};var r=t(e,s);if(null!==r.foundParent)return r}return{foundParent:null,withChild:o}}(o,e)}},{key:"_setPositionForHierarchy",value:function(t,e,i){!0!==(!(arguments.length<=3||void 0===arguments[3])&&arguments[3])&&(void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[],this.distributionOrderingPresence[i]={}),void 0===this.distributionOrderingPresence[i][t.id]&&(this.distributionOrdering[i].push(t),this.distributionIndex[t.id]=this.distributionOrdering[i].length-1),this.distributionOrderingPresence[i][t.id]=!0),"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x=e:t.y=e}},{key:"_getPositionForHierarchy",value:function(t){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x:t.y}},{key:"_sortNodeArray",value:function(t){t.length>1&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.sort(function(t,e){return t.x-e.x}):t.sort(function(t,e){return t.y-e.y}))}}]),t}();e.default=l},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=i(20),a=i(28),h=function(){function t(e,i,n){var r=this;o(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},s.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){r._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return n(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,s.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,o=this.options.locales[this.options.locale],n=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),n=!0),!1!==this.options.addEdge&&(!0===n?this._createSeperator(1):n=!0,this._createAddEdgeButton(o)),1===t&&"function"==typeof this.options.editNode?(!0===n?this._createSeperator(2):n=!0,this._createEditNodeButton(o)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===n?this._createSeperator(3):n=!0,this._createEditEdgeButton(o)),0!==i&&(t>0&&!1!==this.options.deleteNode?(!0===n&&this._createSeperator(4),this._createDeleteButton(o)):0===t&&!1!==this.options.deleteEdge&&(!0===n&&this._createSeperator(4),this._createDeleteButton(o))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=s.deepExtend({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}
this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var t=this;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?function(){var e=t.body.edges[t.edgeBeingEditedId],i=t._getNewTargetNode(e.from.x,e.from.y),o=t._getNewTargetNode(e.to.x,e.to.y);t.temporaryIds.nodes.push(i.id),t.temporaryIds.nodes.push(o.id),t.body.nodes[i.id]=i,t.body.nodeIndices.push(i.id),t.body.nodes[o.id]=o,t.body.nodeIndices.push(o.id),t._temporaryBindUI("onTouch",t._controlNodeTouch.bind(t)),t._temporaryBindUI("onTap",function(){}),t._temporaryBindUI("onHold",function(){}),t._temporaryBindUI("onDragStart",t._controlNodeDragStart.bind(t)),t._temporaryBindUI("onDrag",t._controlNodeDrag.bind(t)),t._temporaryBindUI("onDragEnd",t._controlNodeDragEnd.bind(t)),t._temporaryBindUI("onMouseMove",function(){}),t._temporaryBindEvent("beforeDrawing",function(t){var n=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=n.from.x,i.y=n.from.y),!1===o.selected&&(o.x=n.to.x,o.y=n.to.y)}),t.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),o=void 0;if(e.length>0){for(var n=0;n<e.length;n++)if(!0===this.body.nodes[e[n]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var s={nodes:e,edges:i};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(s,function(e){null!==e&&void 0!==e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=s.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+s.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var o=this.body.functions.createNode(i);return o.shape.boundingBox={left:t,right:t,top:e,bottom:e},o}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},s.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),s.recursiveDOMDelete(this.manipulationDiv),s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){if(this.options.rtl)var e="vis-button vis-delete-rtl";else var e="vis-button vis-delete";var i=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var o=arguments.length<=3||void 0===arguments[3]?"vis-label":arguments[3];return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new r(t,{});a.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var o=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==o&&this.body.nodeIndices.splice(o,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=s.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),o=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=o.isOverlappingWith(i),a=n.isOverlappingWith(i);!0===r?(this.selectedControlNode=o,s.edgeType.from=o):!0===a&&(this.selectedControlNode=n,s.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var o=e.x-this.lastTouch.x,n=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+o,y:this.lastTouch.translation.y+n}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,r=n.length-1;r>=0;r--)if(n[r]!==this.selectedControlNode.id){s=this.body.nodes[n[r]];break}if(void 0!==s&&void 0!==this.selectedControlNode)if(!0===s.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(s.id,o.to.id):this._performEditEdge(o.from.id,s.id)}else o.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=s.extend({},this.body.view.translation);var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var o=this._getNewTargetNode(i.x,i.y);this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id);var n=this.body.functions.createEdge({id:"connectionEdge"+s.randomUUID(),from:i.id,to:o.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(o.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var o=e.x-this.lastTouch.x,n=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+o,y:this.lastTouch.translation.y+n}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,r=n.length-1;r>=0;r--)if(-1===this.temporaryIds.nodes.indexOf(n[r])){s=this.body.nodes[n[r]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[o]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(o,s.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(t){var e=this,i={id:s.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,o={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(o,function(t){null!==t&&void 0!==t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,o={id:this.edgeBeingEditedId,from:t,to:e};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(o,function(t){null===t||void 0===t||"editEdge"!==i.inMode?(i.body.edges[o.id].updateEdgeType(),i.body.emitter.emit("_redraw")):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e.default=h},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="object",r={configure:{enabled:{boolean:o},filter:{boolean:o,string:i,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:s,boolean:o,string:i,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:n},__type__:{object:s,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:n},__type__:{object:s,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:n},__type__:{object:s,boolean:o}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:o},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:o},opacity:{number:n},__type__:{object:s,string:i}},dashes:{boolean:o,array:"array"},font:{color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:s,string:i}},hidden:{boolean:o},hoverWidth:{function:"function",number:n},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:n,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:s,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:n},selfReferenceSize:{number:n},shadow:{enabled:{boolean:o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:s,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:n},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:s,boolean:o}},title:{string:i,undefined:"undefined"},width:{number:n},value:{number:n,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:n},y:{number:n},zoom:{number:n},__type__:{object:s}},bindToWindow:{boolean:o},__type__:{object:s,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:n},zoomView:{boolean:o},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:n},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:n},nodeSpacing:{number:n},treeSpacing:{number:n},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:o}},__type__:{object:s}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{boolean:o,function:"function"},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:o}},nodes:{borderWidth:{number:n},borderWidthSelected:{number:n,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},__type__:{object:s,string:i}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:s,boolean:o}},font:{align:{string:i},color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},__type__:{object:s,string:i}},group:{string:i,number:n,undefined:"undefined"},hidden:{boolean:o},icon:{face:{string:i},code:{string:i},size:{number:n},color:{string:i},__type__:{object:s}},id:{string:i,number:n},image:{string:i,undefined:"undefined"},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:n,undefined:"undefined"},mass:{number:n},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:s,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:s,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{boolean:o,array:"array"},borderRadius:{number:n},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:s}},size:{number:n},title:{string:i,undefined:"undefined"},value:{number:n,undefined:"undefined"},x:{number:n},y:{number:n},__type__:{object:s}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:s}},repulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:s}},maxVelocity:{number:n},minVelocity:{number:n},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:n},updateInterval:{number:n},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:s,boolean:o}},timestep:{number:n},adaptiveTimestep:{boolean:o},__type__:{object:s,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},height:{string:i},width:{string:i},__type__:{object:s}};r.groups.__any__=r.nodes,r.manipulation.controlNodeStyle=r.nodes;var a={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05]},middle:{enabled:!1,scaleFactor:[1,0,3,.05]},from:{enabled:!1,scaleFactor:[1,0,3,.05]}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]},global:{locale:["en","nl"]}};e.allOptions=r,e.configureOptions=a},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){n=!0,s=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(116),a=function(t){return t&&t.__esModule?t:{default:t}}(r),h=function(){function t(e,i,n){o(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new a.default}return s(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o);for(var s=0,r=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,h=0,d=0,l=0,c=0,u=0;a>.01&&s<r;){s+=1;var p=this._getHighestEnergyNode(i),f=n(p,4);for(h=f[0],a=f[1],d=f[2],l=f[3],c=a,u=0;c>1&&u<5;){u+=1,this._moveNode(h,d,l);var m=this._getEnergy(h),v=n(m,3);c=v[0],d=v[1],l=v[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,s=e[0],r=0,a=0,h=0;h<e.length;h++){var d=e[h];if(!1===i[d].predefinedPosition||!0===i[d].isCluster&&!0===t||!0===i[d].options.fixed.x||!0===i[d].options.fixed.y){var l=this._getEnergy(d),c=n(l,3),u=c[0],p=c[1],f=c[2];o<u&&(o=u,s=d,r=p,a=f)}}return[s,o,r,a]}},{key:"_getEnergy",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=i[t].x,n=i[t].y,s=0,r=0,a=0;a<e.length;a++){var h=e[a];if(h!==t){var d=i[h].x,l=i[h].y,c=1/Math.sqrt(Math.pow(o-d,2)+Math.pow(n-l,2));s+=this.K_matrix[t][h]*(o-d-this.L_matrix[t][h]*(o-d)*c),r+=this.K_matrix[t][h]*(n-l-this.L_matrix[t][h]*(n-l)*c)}}return[Math.sqrt(Math.pow(s,2)+Math.pow(r,2)),s,r]}},{key:"_moveNode",value:function(t,e,i){for(var o=this.body.nodeIndices,n=this.body.nodes,s=0,r=0,a=0,h=n[t].x,d=n[t].y,l=0;l<o.length;l++){var c=o[l];if(c!==t){var u=n[c].x,p=n[c].y,f=1/Math.pow(Math.pow(h-u,2)+Math.pow(d-p,2),1.5);s+=this.K_matrix[t][c]*(1-this.L_matrix[t][c]*Math.pow(d-p,2)*f),r+=this.K_matrix[t][c]*(this.L_matrix[t][c]*(h-u)*(d-p)*f),a+=this.K_matrix[t][c]*(1-this.L_matrix[t][c]*Math.pow(h-u,2)*f)}}var m=s,v=r,g=e,y=a,b=i,_=(g/m+b/v)/(v/m-y/v),w=-(v*_+g)/m;n[t].x+=w,n[t].y+=_}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.L_matrix[e[o]][e[n]]=i*t[e[o]][e[n]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.K_matrix[e[o]][e[n]]=i*Math.pow(t[e[o]][e[n]],-2)}}}]),t}();e.default=h},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(){i(this,t)}return o(t,[{key:"getDistances",value:function(t,e,i){for(var o={},n=t.edges,s=0;s<e.length;s++){o[e[s]]={},o[e[s]]={};for(var r=0;r<e.length;r++)o[e[s]][e[r]]=s==r?0:1e9,o[e[s]][e[r]]=s==r?0:1e9}for(var a=0;a<i.length;a++){var h=n[i[a]];!0===h.connected&&void 0!==o[h.fromId]&&void 0!==o[h.toId]&&(o[h.fromId][h.toId]=1,o[h.toId][h.fromId]=1)}for(var d=e.length,l=0;l<d;l++)for(var c=0;c<d-1;c++)for(var u=c+1;u<d;u++)o[e[c]][e[u]]=Math.min(o[e[c]][e[u]],o[e[c]][e[l]]+o[e[l]][e[u]]),o[e[u]][e[c]]=o[e[c]][e[u]];return o}}]),t}();e.default=n},function(t,e){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),i*=1.15,e+=.275*i;var o=2*i,n=o/2,s=Math.sqrt(3)/6*o,r=Math.sqrt(o*o-n*n);this.moveTo(t,e-(r-s)),this.lineTo(t+n,e+s),this.lineTo(t-n,e+s),this.lineTo(t,e-(r-s)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),i*=1.15,e-=.275*i;var o=2*i,n=o/2,s=Math.sqrt(3)/6*o,r=Math.sqrt(o*o-n*n);this.moveTo(t,e+(r-s)),this.lineTo(t+n,e-s),this.lineTo(t-n,e-s),this.lineTo(t,e+(r-s)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),i*=.82,e+=.1*i;for(var o=0;o<10;o++){var n=o%2==0?1.3*i:.5*i;this.lineTo(t+n*Math.sin(2*o*Math.PI/10),e-n*Math.cos(2*o*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,o,n){var s=Math.PI/180;i-2*n<0&&(n=i/2),o-2*n<0&&(n=o/2),this.beginPath(),this.moveTo(t+n,e),this.lineTo(t+i-n,e),this.arc(t+i-n,e+n,n,270*s,360*s,!1),this.lineTo(t+i,e+o-n),this.arc(t+i-n,e+o-n,n,0,90*s,!1),this.lineTo(t+n,e+o),this.arc(t+n,e+o-n,n,90*s,180*s,!1),this.lineTo(t,e+n),this.arc(t+n,e+n,n,180*s,270*s,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,o){var n=i/2*.5522848,s=o/2*.5522848,r=t+i,a=e+o,h=t+i/2,d=e+o/2;this.beginPath(),this.moveTo(t,d),
this.bezierCurveTo(t,d-s,h-n,e,h,e),this.bezierCurveTo(h+n,e,r,d-s,r,d),this.bezierCurveTo(r,d+s,h+n,a,h,a),this.bezierCurveTo(h-n,a,t,d+s,t,d),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,o){var n=i,s=o*(1/3),r=n/2*.5522848,a=s/2*.5522848,h=t+n,d=e+s,l=t+n/2,c=e+s/2,u=e+(o-s/2),p=e+o;this.beginPath(),this.moveTo(h,c),this.bezierCurveTo(h,c+a,l+r,d,l,d),this.bezierCurveTo(l-r,d,t,c+a,t,c),this.bezierCurveTo(t,c-a,l-r,e,l,e),this.bezierCurveTo(l+r,e,h,c-a,h,c),this.lineTo(h,u),this.bezierCurveTo(h,u+a,l+r,p,l,p),this.bezierCurveTo(l-r,p,t,u+a,t,u),this.lineTo(t,c)},CanvasRenderingContext2D.prototype.arrow=function(t,e,i,o){var n=t-o*Math.cos(i),s=e-o*Math.sin(i),r=t-.9*o*Math.cos(i),a=e-.9*o*Math.sin(i),h=n+o/3*Math.cos(i+.5*Math.PI),d=s+o/3*Math.sin(i+.5*Math.PI),l=n+o/3*Math.cos(i-.5*Math.PI),c=s+o/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(t,e),this.lineTo(h,d),this.lineTo(r,a),this.lineTo(l,c),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,o,n){this.beginPath(),this.moveTo(t,e);for(var s=n.length,r=i-t,a=o-e,h=a/r,d=Math.sqrt(r*r+a*a),l=0,c=!0,u=0,p=n[0];d>=.1;)p=n[l++%s],p>d&&(p=d),u=Math.sqrt(p*p/(1+h*h)),u=r<0?-u:u,t+=u,e+=h*u,!0===c?this.lineTo(t,e):this.moveTo(t,e),d-=p,c=!c})},function(t,e){function i(t){return P=t,p()}function o(){I=0,N=P.charAt(0)}function n(){I++,N=P.charAt(I)}function s(){return P.charAt(I+1)}function r(t){return L.test(t)}function a(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t,e,i){for(var o=e.split("."),n=t;o.length;){var s=o.shift();o.length?(n[s]||(n[s]={}),n=n[s]):n[s]=i}}function d(t,e){for(var i,o,n=null,s=[t],r=t;r.parent;)s.push(r.parent),r=r.parent;if(r.nodes)for(i=0,o=r.nodes.length;i<o;i++)if(e.id===r.nodes[i].id){n=r.nodes[i];break}for(n||(n={id:e.id},t.node&&(n.attr=a(n.attr,t.node))),i=s.length-1;i>=0;i--){var h=s[i];h.nodes||(h.nodes=[]),-1===h.nodes.indexOf(n)&&h.nodes.push(n)}e.attr&&(n.attr=a(n.attr,e.attr))}function l(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=a({},t.edge);e.attr=a(i,e.attr)}}function c(t,e,i,o,n){var s={from:e,to:i,type:o};return t.edge&&(s.attr=a({},t.edge)),s.attr=a(s.attr||{},n),s}function u(){for(z=T.NULL,R="";" "===N||"\t"===N||"\n"===N||"\r"===N;)n();do{var t=!1;if("#"===N){for(var e=I-1;" "===P.charAt(e)||"\t"===P.charAt(e);)e--;if("\n"===P.charAt(e)||""===P.charAt(e)){for(;""!=N&&"\n"!=N;)n();t=!0}}if("/"===N&&"/"===s()){for(;""!=N&&"\n"!=N;)n();t=!0}if("/"===N&&"*"===s()){for(;""!=N;){if("*"===N&&"/"===s()){n(),n();break}n()}t=!0}for(;" "===N||"\t"===N||"\n"===N||"\r"===N;)n()}while(t);if(""===N)return void(z=T.DELIMITER);var i=N+s();if(E[i])return z=T.DELIMITER,R=i,n(),void n();if(E[N])return z=T.DELIMITER,R=N,void n();if(r(N)||"-"===N){for(R+=N,n();r(N);)R+=N,n();return"false"===R?R=!1:"true"===R?R=!0:isNaN(Number(R))||(R=Number(R)),void(z=T.IDENTIFIER)}if('"'===N){for(n();""!=N&&('"'!=N||'"'===N&&'"'===s());)R+=N,'"'===N&&n(),n();if('"'!=N)throw w('End of string " expected');return n(),void(z=T.IDENTIFIER)}for(z=T.UNKNOWN;""!=N;)R+=N,n();throw new SyntaxError('Syntax error in part "'+x(R,30)+'"')}function p(){var t={};if(o(),u(),"strict"===R&&(t.strict=!0,u()),"graph"!==R&&"digraph"!==R||(t.type=R,u()),z===T.IDENTIFIER&&(t.id=R,u()),"{"!=R)throw w("Angle bracket { expected");if(u(),f(t),"}"!=R)throw w("Angle bracket } expected");if(u(),""!==R)throw w("End of file expected");return u(),delete t.node,delete t.edge,delete t.graph,t}function f(t){for(;""!==R&&"}"!=R;)m(t),";"===R&&u()}function m(t){var e=v(t);if(e)return void b(t,e);if(!g(t)){if(z!=T.IDENTIFIER)throw w("Identifier expected");var i=R;if(u(),"="===R){if(u(),z!=T.IDENTIFIER)throw w("Identifier expected");t[i]=R,u()}else y(t,i)}}function v(t){var e=null;if("subgraph"===R&&(e={},e.type="subgraph",u(),z===T.IDENTIFIER&&(e.id=R,u())),"{"===R){if(u(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,f(e),"}"!=R)throw w("Angle bracket } expected");u(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function g(t){return"node"===R?(u(),t.node=_(),"node"):"edge"===R?(u(),t.edge=_(),"edge"):"graph"===R?(u(),t.graph=_(),"graph"):null}function y(t,e){var i={id:e},o=_();o&&(i.attr=o),d(t,i),b(t,e)}function b(t,e){for(;"->"===R||"--"===R;){var i,o=R;u();var n=v(t);if(n)i=n;else{if(z!=T.IDENTIFIER)throw w("Identifier or subgraph expected");i=R,d(t,{id:i}),u()}l(t,c(t,e,i,o,_())),e=i}}function _(){for(var t=null;"["===R;){for(u(),t={};""!==R&&"]"!=R;){if(z!=T.IDENTIFIER)throw w("Attribute name expected");var e=R;if(u(),"="!=R)throw w("Equal sign = expected");if(u(),z!=T.IDENTIFIER)throw w("Attribute value expected");h(t,e,R),u(),","==R&&u()}if("]"!=R)throw w("Bracket ] expected");u()}return t}function w(t){return new SyntaxError(t+', got "'+x(R,30)+'" (char '+I+")")}function x(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function k(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function O(t,e,i){for(var o=e.split("."),n=o.pop(),s=t,r=0;r<o.length;r++){var a=o[r];a in s||(s[a]={}),s=s[a]}return s[n]=i,t}function M(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var n=e[o];Array.isArray(n)?n.forEach(function(e){O(i,e,t[o])}):"string"==typeof n?O(i,n,t[o]):O(i,o,t[o])}return i}function D(t){var e=i(t),o={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};a(e,M(t.attr,S)),e.image&&(e.shape="image"),o.nodes.push(e)}),e.edges){var n=function(t){var e={from:t.from,to:t.to};return a(e,M(t.attr,C)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,i;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=n(t);o.edges.push(e)}),k(e,i,function(e,i){var s=c(o,e.id,i.id,t.type,t.attr),r=n(s);o.edges.push(r)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=n(t);o.edges.push(e)})})}return e.attr&&(o.options=e.attr),o}var S={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},C=Object.create(S);C.color="color.color";var T={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},E={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},P="",I=0,N="",R="",z=T.NULL,L=/[a-zA-Z_0-9.:#]/;e.parseDOT=i,e.DOTToGraph=D},function(t,e){function i(t,e){var i=[],o=[],n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(n.nodes.fixed=e.fixed),void 0!==e.parseColor&&(n.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(n.edges.inheritColor=e.inheritColor));for(var s=t.edges,r=t.nodes,a=0;a<s.length;a++){var h={},d=s[a];h.id=d.id,h.from=d.source,h.to=d.target,h.attributes=d.attributes,h.label=d.label,h.title=void 0!==d.attributes?d.attributes.title:void 0,"Directed"===d.type&&(h.arrows="to"),d.color&&!1===n.inheritColor&&(h.color=d.color),i.push(h)}for(var a=0;a<r.length;a++){var l={},c=r[a];l.id=c.id,l.attributes=c.attributes,l.title=c.title,l.x=c.x,l.y=c.y,l.label=c.label,l.title=void 0!==c.attributes?c.attributes.title:void 0,!0===n.nodes.parseColor?l.color=c.color:l.color=void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,l.size=c.size,l.fixed=n.nodes.fixed&&void 0!==c.x&&void 0!==c.y,o.push(l)}return{nodes:o,edges:i}}e.parseGephi=i},function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl}])});
var Lawnchair=function(){if(!JSON)throw"JSON unavailable! Include http://www.json.org/json2.js to fix.";if(!(arguments.length<=2&&arguments.length>0))throw"Incorrect # of ctor args!";var r="function"==typeof arguments[0]?arguments[0]:arguments[1],a="function"==typeof arguments[0]?{}:arguments[0];if("function"!=typeof r)throw"No callback was provided";var t=this instanceof Lawnchair?this:new Lawnchair(a,r);t.record=a.record||"record",t.name=a.name||"records";var n;if(a.adapter)n=Lawnchair.adapters[t.indexOf(Lawnchair.adapters,a.adapter)],n=n.valid()?n:void 0;else for(var i=0,e=Lawnchair.adapters.length;i<e&&!(n=Lawnchair.adapters[i].valid()?Lawnchair.adapters[i]:void 0);i++);if(!n)throw"No valid adapter.";for(var o in n)t[o]=n[o];for(var i=0,e=Lawnchair.plugins.length;i<e;i++)Lawnchair.plugins[i].call(t);return t.init(a,r),t};Lawnchair.adapters=[],Lawnchair.adapter=function(r,a){a.adapter=r;var t="adapter valid init keys save batch get exists all remove nuke".split(" "),n=this.prototype.indexOf;for(var i in a)if(-1===n(t,i))throw"Invalid adapter! Nonstandard method: "+i;Lawnchair.adapters.push(a)},Lawnchair.plugins=[],Lawnchair.plugin=function(r){for(var a in r)"init"===a?Lawnchair.plugins.push(r[a]):this.prototype[a]=r[a]},Lawnchair.prototype={isArray:Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},indexOf:function(r,a,t,n){if(r.indexOf)return r.indexOf(a);for(t=0,n=r.length;t<n;t++)if(r[t]===a)return t;return-1},lambda:function(r){return this.fn(this.record,r)},fn:function(r,a){return"string"==typeof a?new Function(r,a):a},uuid:function(){var r=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()},each:function(r){var a=this.lambda(r);if(this.__results)for(var t=0,n=this.__results.length;t<n;t++)a.call(this,this.__results[t],t);else this.all(function(r){for(var t=0,n=r.length;t<n;t++)a.call(this,r[t],t)});return this}};
Lawnchair.plugin({count:function(n,i){1===[].slice.call(arguments).length&&(i=n,n="key");var t=0;this.each(function(i){i[n]&&t++}),this.fn("count",i).call(this,t)},sum:function(n,i){var t=0;this.each(function(i){i[n]&&(t+=i[n])}),this.fn("sum",i).call(this,t)},avg:function(n,i){this.sum(n,function(t){this.count(n,function(n){this.fn("avg",i).call(this,t/n)})})},min:function(n,i){this._minOrMax("min",n,i)},max:function(n,i){this._minOrMax("max",n,i)},_minOrMax:function(n,i,t){var a,c;this.all(function(t){c=t.map(function(n){return n[i]}),a=Math[n].apply(Math,c)}),this.fn(n,t).call(this,a)}});
Lawnchair.plugin(function(){for(var e="save batch get remove nuke".split(" "),t={before:{},after:{}},f=0,n=e.length;f<n;f++)t.before[e[f]]=[],t.after[e[f]]=[];return{init:function(){for(var t=0,f=e.length;t<f;t++)this.evented(e[t])},evented:function(e){var t=this[e],f=this;this[e]=function(){var n=[].slice.call(arguments),r=n[0],i=n[n.length-1],o=!1;this.fire("before",e,r),"function"==typeof i&&(n[n.length-1]=function(t){i.call(f,t),f.fire("after",e,t)},o=!0),t.apply(f,n),o||f.fire("after",e,r)}},fire:function(e,f,n){for(var r=t[e][f],i=0,o=r.length;i<o;i++)r[i].call(this,n)},clearBefore:function(e){t.before[e]=[]},clearAfter:function(e){t.after[e]=[]},before:function(e,f){t.before[e].push(f)},after:function(e,f){t.after[e].push(f)}}}());
Lawnchair.plugin(function(){var t=function(t,n){for(var r=t.split("?").filter(function(t){return""!=t}),s="",i=0,e=r.length;i<e;i++)s+=r[i]+n[i];return s},n=function(t){return function(n,r){return n[t]<r[t]?-1:n[t]>r[t]?1:0}};return{where:function(){var n=[].slice.call(arguments),r=n.shift(),s=n[n.length-1],i=r.match(/\?/g),e=i&&i.length>0?t(r,n.slice(0,i.length)):r,h=new Function(this.record,"return !!("+e+")"),l=[];return this.all(function(t){for(var n=0,r=t.length;n<r;n++)h(t[n])&&l.push(t[n])}),this.__results=l,1===n.length&&this.fn(this.name,s).call(this,this.__results),this},asc:function(t,r){return this.fn(this.name,r).call(this,this.__results.sort(n(t))),this},desc:function(t,r){return this.fn(this.name,r).call(this,this.__results.sort(n(t)).reverse()),this}}}());
!function(e,t){"use strict";function n(e,t){for(var n,i=[],a=0;a<e.length;++a){if(!(n=o[e[a]]||r(e[a])))throw"module definition dependecy not found: "+e[a];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){o[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}var o={},a="moxie/core/utils/Basic",s="moxie/core/I18n",u="moxie/core/utils/Mime",c="moxie/core/utils/Env",l="moxie/core/utils/Dom",d="moxie/core/Exceptions",f="moxie/core/EventTarget",p="moxie/core/utils/Encode",h="moxie/runtime/Runtime",g="moxie/runtime/RuntimeClient",m="moxie/file/Blob",v="moxie/file/File",_="moxie/file/FileInput",y="moxie/file/FileDrop",w="moxie/runtime/RuntimeTarget",E="moxie/file/FileReader",b="moxie/core/utils/Url",R="moxie/file/FileReaderSync",x="moxie/xhr/FormData",S="moxie/xhr/XMLHttpRequest",T="moxie/runtime/Transporter",A="moxie/image/Image",O="moxie/runtime/html5/Runtime",I="moxie/core/utils/Events",D="moxie/runtime/html5/file/FileReader",N="moxie/runtime/html5/utils/BinaryReader",L="moxie/runtime/html5/image/JPEGHeaders",M="moxie/runtime/html5/image/ExifParser",C="moxie/runtime/html5/image/JPEG",F="moxie/runtime/html5/image/PNG",P="moxie/runtime/html5/image/ImageInfo",z="moxie/runtime/html5/image/MegaPixel",H="moxie/runtime/html5/image/Image",U="moxie/runtime/flash/Runtime",k="moxie/runtime/flash/file/Blob",q="moxie/runtime/flash/file/FileReader",B="moxie/runtime/flash/file/FileReaderSync",G="moxie/runtime/flash/xhr/XMLHttpRequest",j="moxie/runtime/flash/runtime/Transporter",X="moxie/runtime/flash/image/Image",V="moxie/runtime/silverlight/Runtime",W="moxie/runtime/html4/Runtime";i(a,[],function(){var e=function(e){return void 0===e?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(i){return n(arguments,function(r,o){o>0&&n(r,function(n,r){void 0!==n&&(e(i[r])===e(n)&&~a(e(n),["array","object"])?t(i[r],n):i[r]=n)})}),i},n=function(e,t){var n,i,r,o;if(e){try{n=e.length}catch(e){n=o}if(n===o){for(i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))return}else for(r=0;n>r;r++)if(!1===t(e[r],r))return}},i=function(t){var n;if(!t||"object"!==e(t))return!0;for(n in t)return!1;return!0},r=function(t,n){function i(o){"function"===e(t[o])&&t[o](function(e){++o<r&&!e?i(o):n(e)})}var r=t.length;"function"!==e(n)&&(n=function(){}),t&&t.length||n(),i(0)},o=function(e,t){var i=0,r=e.length,o=new Array(r);n(e,function(e,n){e(function(e){if(e)return t(e);var a=[].slice.call(arguments);a.shift(),o[n]=a,++i===r&&(o.unshift(null),t.apply(this,o))})})},a=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1},s=function(t,n){var i=[];"array"!==e(t)&&(t=[t]),"array"!==e(n)&&(n=[n]);for(var r in t)-1===a(t[r],n)&&i.push(t[r]);return!!i.length&&i},u=function(e,t){var i=[];return n(e,function(e){-1!==a(e,t)&&i.push(e)}),i.length?i:null},c=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},l=function(){var e=0;return function(t){var n,i=(new Date).getTime().toString(32);for(n=0;5>n;n++)i+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+i+(e++).toString(32)}}(),d=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},f=function(e){if("string"!=typeof e)return e;var t,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],n.hasOwnProperty(t)&&(e*=n[t]),e};return{guid:l,typeOf:e,extend:t,each:n,isEmptyObj:i,inSeries:r,inParallel:o,inArray:a,arrayDiff:s,arrayIntersect:u,toArray:c,trim:d,parseSizeStr:f}}),i(s,[a],function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=n.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),i(u,[a,s],function(e,t){var n={mimes:{},extensions:{},addMimeType:function(e){var t,n,i,r=e.split(/,/);for(t=0;t<r.length;t+=2){for(i=r[t+1].split(/ /),n=0;n<i.length;n++)this.mimes[i[n]]=r[t];this.extensions[r[t]]=i}},extList2mimes:function(t,n){var i,r,o,a,s=this,u=[];for(r=0;r<t.length;r++)for(i=t[r].extensions.split(/\s*,\s*/),o=0;o<i.length;o++){if("*"===i[o])return[];if(a=s.mimes[i[o]])-1===e.inArray(a,u)&&u.push(a);else{if(!n||!/^\w+$/.test(i[o]))return[];u.push("."+i[o])}}return u},mimes2exts:function(t){var n=this,i=[];return e.each(t,function(t){if("*"===t)return i=[],!1;var r=t.match(/^(\w+)\/(\*|\w+)$/);r&&("*"===r[2]?e.each(n.extensions,function(e,t){new RegExp("^"+r[1]+"/").test(t)&&[].push.apply(i,n.extensions[t])}):n.extensions[t]&&[].push.apply(i,n.extensions[t]))}),i},mimes2extList:function(n){var i=[],r=[];return"string"===e.typeOf(n)&&(n=e.trim(n).split(/\s*,\s*/)),r=this.mimes2exts(n),i.push({title:t.translate("Files"),extensions:r.length?r.join(","):"*"}),i.mimes=n,i},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return n.addMimeType("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe"),n}),i(c,[a],function(e){function t(e,t,n){var i=0,r=0,o=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},u=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),r=Math.max(e.length,t.length),i=0;r>i;i++)if(e[i]!=t[i]){if(e[i]=u(e[i]),t[i]=u(t[i]),e[i]<t[i]){o=-1;break}if(e[i]>t[i]){o=1;break}}if(!n)return o;switch(n){case">":case"gt":return o>0;case">=":case"ge":return o>=0;case"<=":case"le":return 0>=o;case"==":case"=":case"eq":return 0===o;case"<>":case"!=":case"ne":return 0!==o;case"":case"<":case"lt":return 0>o;default:return null}}var n=function(e){var t="function",n="object",i="major",r="name",o="version",a={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},s={rgx:function(){for(var i,r,o,a,s,u,c,l=0,d=arguments;l<d.length;l+=2){var f=d[l],p=d[l+1];if(void 0===i){i={};for(a in p)s=p[a],typeof s===n?i[s[0]]=e:i[s]=e}for(r=o=0;r<f.length;r++)if(u=f[r].exec(this.getUA())){for(a=0;a<p.length;a++)c=u[++o],s=p[a],typeof s===n&&s.length>0?2==s.length?i[s[0]]=typeof s[1]==t?s[1].call(this,c):s[1]:3==s.length?i[s[0]]=typeof s[1]!==t||s[1].exec&&s[1].test?c?c.replace(s[1],s[2]):e:c?s[1].call(this,c,s[2]):e:4==s.length&&(i[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):e):i[s]=c||e;break}if(u)break}return i},str:function(t,i){for(var r in i)if(typeof i[r]===n&&i[r].length>0){for(var o=0;o<i[r].length;o++)if(a.has(i[r][o],t))return"?"===r?e:r}else if(a.has(i[r],t))return"?"===r?e:r;return t}},u={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},c={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[r,o,i],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[r,"Opera"],o,i],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[r,o,i],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[r,"IE"],o,i],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[r,"Yandex"],o,i],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[r,/_/g," "],o,i],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[r,o,i],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[r,"Dolphin"],o,i],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[r,"Chrome"],o,i],[/((?:android.+))version\/((\d+)?[\w\.]+)\smobile\ssafari/i],[[r,"Android Browser"],o,i],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[o,i,[r,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[o,i,r],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[r,[i,s.str,u.browser.oldsafari.major],[o,s.str,u.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[r,o,i],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[r,"Netscape"],o,i],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[r,o,i]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[r,o],[/rv\:([\w\.]+).*(gecko)/i],[o,r]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[r,[o,s.str,u.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[r,"Windows"],[o,s.str,u.os.windows.version]],[/\((bb)(10);/i],[[r,"BlackBerry"],o],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[r,o],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[r,"Symbian"],o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[r,"Firefox OS"],o],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[r,o],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[r,"Chromium OS"],o],[/(sunos)\s?([\w\.]+\d)*/i],[[r,"Solaris"],o],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[r,o],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[r,"iOS"],[o,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[r,[o,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[r,o]]};return(new function(e){var t=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"");this.getBrowser=function(){return s.rgx.apply(this,c.browser)},this.getEngine=function(){return s.rgx.apply(this,c.engine)},this.getOS=function(){return s.rgx.apply(this,c.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return t},this.setUA=function(e){return t=e,this},this.setUA(t)}).getResult()}(),i=function(){var t={define_property:!1,create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open("get","/"),"responseType"in n)return n.responseType=t,n.responseType===t}}catch(e){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==r.browser||r.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(n){var i=[].slice.call(arguments);return i.shift(),"function"===e.typeOf(t[n])?t[n].apply(this,i):!!t[n]}}(),r={can:i,browser:n.browser.name,version:parseFloat(n.browser.major),os:n.os.name,osVersion:n.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return r.OS=r.os,r}),i(l,[c],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},n=function(e,t){return!!e.className&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)},i=function(e,t){n(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},r=function(e,t){if(e.className){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})}},o=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},a=function(t,n){function i(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===c.compatMode?c.documentElement:c.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var r,o,a,s=0,u=0,c=document;if(t=t,n=n||c.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!c.documentMode||c.documentMode<8))return o=i(t),a=i(n),{x:o.x-a.x,y:o.y-a.y};for(r=t;r&&r!=n&&r.nodeType;)s+=r.offsetLeft||0,u+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!=n&&r.nodeType;)s-=r.scrollLeft||0,u-=r.scrollTop||0,r=r.parentNode;return{x:s,y:u}};return{get:t,hasClass:n,addClass:i,removeClass:r,getStyle:o,getPos:a,getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}}}}),i(d,[a],function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": RuntimeError "+this.code}var i={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,i),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": ImageError "+this.code}var i={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(n,i),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": FileException "+this.code}var i={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,i),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": DOMException "+this.code}var i={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,i),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),i(f,[d,a],function(e,t){function n(){var n={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid("uid_"))},addEventListener:function(e,i,r,o){var a,s=this;return e=t.trim(e),/\s/.test(e)?void t.each(e.split(/\s+/),function(e){s.addEventListener(e,i,r,o)}):(e=e.toLowerCase(),r=parseInt(r,10)||0,a=n[this.uid]&&n[this.uid][e]||[],a.push({fn:i,priority:r,scope:o||this}),n[this.uid]||(n[this.uid]={}),void(n[this.uid][e]=a))},hasEventListener:function(e){return e?!(!n[this.uid]||!n[this.uid][e]):!!n[this.uid]},removeEventListener:function(e,i){e=e.toLowerCase();var r,o=n[this.uid]&&n[this.uid][e];if(o){if(i){for(r=o.length-1;r>=0;r--)if(o[r].fn===i){o.splice(r,1);break}}else o=[];o.length||(delete n[this.uid][e],t.isEmptyObj(n[this.uid])&&delete n[this.uid])}},removeAllEventListeners:function(){n[this.uid]&&delete n[this.uid]},dispatchEvent:function(i){var r,o,a,s,u,c={},l=!0;if("string"!==t.typeOf(i)){if(s=i,"string"!==t.typeOf(s.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);i=s.type,s.total!==u&&s.loaded!==u&&(c.total=s.total,c.loaded=s.loaded),c.async=s.async||!1}if(-1!==i.indexOf("::")?function(e){r=e[0],i=e[1]}(i.split("::")):r=this.uid,i=i.toLowerCase(),o=n[r]&&n[r][i]){o.sort(function(e,t){return t.priority-e.priority}),a=[].slice.call(arguments),a.shift(),c.type=i,a.unshift(c);var d=[];t.each(o,function(e){a[0].target=e.scope,d.push(c.async?function(t){setTimeout(function(){t(!1===e.fn.apply(e.scope,a))},1)}:function(t){t(!1===e.fn.apply(e.scope,a))})}),d.length&&t.inSeries(d,function(e){l=!e})}return l},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var n;"array"!==t.typeOf(e)&&(e=[e]);for(var i=0;i<e.length;i++)n="on"+e[i],"function"===t.typeOf(this[n])?this.addEventListener(e[i],this[n]):"undefined"===t.typeOf(this[n])&&(this[n]=null)}})}return n.instance=new n,n}),i(p,[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},n=function(e,n){if("function"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var i,r,o,a,s,u,c,l,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,p=0,h="",g=[];if(!e)return e;e+="";do{a=d.indexOf(e.charAt(f++)),s=d.indexOf(e.charAt(f++)),u=d.indexOf(e.charAt(f++)),c=d.indexOf(e.charAt(f++)),l=a<<18|s<<12|u<<6|c,i=l>>16&255,r=l>>8&255,o=255&l,g[p++]=64==u?String.fromCharCode(i):64==c?String.fromCharCode(i,r):String.fromCharCode(i,r,o)}while(f<e.length);return h=g.join(""),n?t(h):h};return{utf8_encode:e,utf8_decode:t,atob:n,btoa:function(t,n){if(n&&e(t),"function"==typeof window.btoa)return window.btoa(t);var i,r,o,a,s,u,c,l,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,p=0,h="",g=[];if(!t)return t;do{i=t.charCodeAt(f++),r=t.charCodeAt(f++),o=t.charCodeAt(f++),l=i<<16|r<<8|o,a=l>>18&63,s=l>>12&63,u=l>>6&63,c=63&l,g[p++]=d.charAt(a)+d.charAt(s)+d.charAt(u)+d.charAt(c)}while(f<t.length);h=g.join("");var m=t.length%3;return(m?h.slice(0,m-3):h)+"===".slice(m||3)}}}),i(h,[a,l,f],function(e,t,n){function i(n,r,a,s,u){var c,l=this,d=e.guid(r+"_"),f=u||"browser";n=n||{},o[d]=this,a=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},a),n.preferred_caps&&(f=i.getMode(s,n.preferred_caps,f)),c=function(){var t={};return{exec:function(e,n,i,r){return c[n]&&(t[e]||(t[e]={context:this,instance:new c[n]}),t[e].instance[i])?t[e].instance[i].apply(this,r):void 0},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var n=this;e.each(t,function(t,i){"function"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),n.removeInstance(i)})}}}(),e.extend(this,{initialized:!1,uid:d,type:r,mode:i.getMode(s,n.required_caps,f),shimid:d+"_container",clients:0,options:n,can:function(t,n){var r=arguments[2]||a;if("string"===e.typeOf(t)&&"undefined"===e.typeOf(n)&&(t=i.parseCaps(t)),"object"===e.typeOf(t)){for(var o in t)if(!this.can(o,t[o],r))return!1;return!0}return"function"===e.typeOf(r[t])?r[t].call(this,n):n===r[t]},getShimContainer:function(){var n,i=t.get(this.shimid);return i||(n=this.options.container?t.get(this.options.container):document.body,i=document.createElement("div"),i.id=this.shimid,i.className="moxie-shim moxie-shim-"+this.type,e.extend(i.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),n.appendChild(i),n=null),i},getShim:function(){return c},shimExec:function(e,t){var n=[].slice.call(arguments,2);return l.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return l[e]&&l[e][t]?l[e][t].apply(this,n):l.shimExec.apply(this,arguments)},destroy:function(){if(l){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),c&&c.removeAllInstances(),this.unbindAll(),delete o[this.uid],this.uid=null,d=l=c=e=null}}}),this.mode&&n.required_caps&&!this.can(n.required_caps)&&(this.mode=!1)}var r={},o={};return i.order="html5,flash,silverlight,html4",i.getRuntime=function(e){return!!o[e]&&o[e]},i.addConstructor=function(e,t){t.prototype=n.instance,r[e]=t},i.getConstructor=function(e){return r[e]||null},i.getInfo=function(e){var t=i.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},i.parseCaps=function(t){var n={};return"string"!==e.typeOf(t)?t||{}:(e.each(t.split(","),function(e){n[e]=!0}),n)},i.can=function(e,t){var n,r,o=i.getConstructor(e);return!!o&&(n=new o({required_caps:t}),r=n.mode,n.destroy(),!!r)},i.thatCan=function(e,t){var n=(t||i.order).split(/\s*,\s*/);for(var r in n)if(i.can(n[r],e))return n[r];return null},i.getMode=function(t,n,i){var r=null;if("undefined"===e.typeOf(i)&&(i="browser"),n&&!e.isEmptyObj(t)){if(e.each(n,function(n,i){if(t.hasOwnProperty(i)){var o=t[i](n);if("string"==typeof o&&(o=[o]),r){if(!(r=e.arrayIntersect(r,o)))return r=!1}else r=o}}),r)return-1!==e.inArray(i,r)?i:r[0];if(!1===r)return!1}return i},i.capTrue=function(){return!0},i.capFalse=function(){return!1},i.capTest=function(e){return function(){return!!e}},i}),i(g,[d,a,h],function(e,t,n){return function(){var i;t.extend(this,{connectRuntime:function(r){function o(t){var a,u;return t.length?(a=t.shift(),(u=n.getConstructor(a))?(i=new u(r),i.bind("Init",function(){i.initialized=!0,setTimeout(function(){i.clients++,s.trigger("RuntimeInit",i)},1)}),i.bind("Error",function(){i.destroy(),o(t)}),i.mode?void i.init():void i.trigger("Error")):void o(t)):(s.trigger("RuntimeError",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),void(i=null))}var a,s=this;if("string"===t.typeOf(r)?a=r:"string"===t.typeOf(r.ruid)&&(a=r.ruid),a){if(i=n.getRuntime(a))return i.clients++,i;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}o((r.runtime_order||n.order).split(/\s*,\s*/))},getRuntime:function(){return i&&i.uid?i:(i=null,null)},disconnectRuntime:function(){i&&--i.clients<=0&&(i.destroy(),i=null)}})}}),i(m,[a,p,g],function(e,t,n){function i(o,a){function s(t,n,o){var a,s=r[this.uid];return"string"===e.typeOf(s)&&s.length?(a=new i(null,{type:o,size:n-t}),a.detach(s.substr(t,a.size)),a):null}n.call(this),o&&this.connectRuntime(o),a?"string"===e.typeOf(a)&&(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid("uid_"),ruid:o,size:a.size||0,type:a.type||"",slice:function(e,t,n){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,n)},getSource:function(){return r[this.uid]?r[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),e=e||"";var n=e.match(/^data:([^;]*);base64,/);n&&(this.type=n[1],e=t.atob(e.substring(e.indexOf("base64,")+7))),this.size=e.length,r[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(r[this.uid])},destroy:function(){this.detach(),delete r[this.uid]}}),a.data?this.detach(a.data):r[this.uid]=a}var r={};return i}),i(v,[a,u,m],function(e,t,n){function i(i,r){var o,a;if(r||(r={}),a=r.type&&""!==r.type?r.type:t.getFileMime(r.name),r.name)o=r.name.replace(/\\/g,"/"),o=o.substr(o.lastIndexOf("/")+1);else{var s=a.split("/")[0];o=e.guid((""!==s?s:"file")+"_"),t.extensions[a]&&(o+="."+t.extensions[a][0])}n.apply(this,arguments),e.extend(this,{type:a||"",name:o||e.guid("file_"),lastModifiedDate:r.lastModifiedDate||(new Date).toLocaleString()})}return i.prototype=n.prototype,i}),i(_,[a,u,l,d,f,s,v,h,g],function(e,t,n,i,r,o,a,s,u){function c(r){var c,d,f,p=this;if(-1!==e.inArray(e.typeOf(r),["string","node"])&&(r={browse_button:r}),!(d=n.get(r.browse_button)))throw new i.DOMException(i.DOMException.NOT_FOUND_ERR);f={accept:[{title:o.translate("All Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:d.parentNode||document.body},r=e.extend({},f,r),"string"==typeof r.required_caps&&(r.required_caps=s.parseCaps(r.required_caps)),"string"==typeof r.accept&&(r.accept=t.mimes2extList(r.accept)),c=n.get(r.container),c||(c=document.body),"static"===n.getStyle(c,"position")&&(c.style.position="relative"),c=d=null,u.call(p),e.extend(p,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){p.convertEventPropsToHandlers(l),p.bind("RuntimeInit",function(t,i){p.ruid=i.uid,p.shimid=i.shimid,p.bind("Ready",function(){p.trigger("Refresh")},999),p.bind("Change",function(){var t=i.exec.call(p,"FileInput","getFiles");p.files=[],e.each(t,function(e){return 0===e.size||void p.files.push(new a(p.ruid,e))})},999),p.bind("Refresh",function(){var t,o,a,s;a=n.get(r.browse_button),s=n.get(i.shimid),a&&(t=n.getPos(a,n.get(r.container)),o=n.getSize(a),s&&e.extend(s.style,{top:t.y+"px",left:t.x+"px",width:o.w+"px",height:o.h+"px"})),s=a=null}),i.exec.call(p,"FileInput","init",r)}),p.connectRuntime(e.extend({},r,{required_caps:{select_file:!0}}))},disable:function(t){var n=this.getRuntime();n&&n.exec.call(this,"FileInput","disable","undefined"===e.typeOf(t)||t)},refresh:function(){p.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var l=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return c.prototype=r.instance,c}),i(y,[s,l,d,a,v,g,f,u],function(e,t,n,i,r,o,a,s){function u(n){var a,u=this;"string"==typeof n&&(n={drop_zone:n}),a={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},n="object"==typeof n?i.extend({},a,n):a,n.container=t.get(n.drop_zone)||document.body,"static"===t.getStyle(n.container,"position")&&(n.container.style.position="relative"),"string"==typeof n.accept&&(n.accept=s.mimes2extList(n.accept)),o.call(u),i.extend(u,{uid:i.guid("uid_"),ruid:null,files:null,init:function(){u.convertEventPropsToHandlers(c),u.bind("RuntimeInit",function(e,t){u.ruid=t.uid,u.bind("Drop",function(){var e=t.exec.call(u,"FileDrop","getFiles");u.files=[],i.each(e,function(e){u.files.push(new r(u.ruid,e))})},999),t.exec.call(u,"FileDrop","init",n),u.dispatchEvent("ready")}),u.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null}})}var c=["ready","dragenter","dragleave","drop","error"];return u.prototype=a.instance,u}),i(w,[a,g,f],function(e,t,n){function i(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return i.prototype=n.instance,i}),i(E,[a,p,d,f,m,v,w],function(e,t,n,i,r,o,a){function s(){function i(e,i){function l(e){c.readyState=s.DONE,c.error=e,c.trigger("error"),d()}function d(){o.destroy(),o=null,c.trigger("loadend")}if(o=new a,this.convertEventPropsToHandlers(u),this.readyState===s.LOADING)return l(new n.DOMException(n.DOMException.INVALID_STATE_ERR));if(this.readyState=s.LOADING,this.trigger("loadstart"),i instanceof r)if(i.isDetached()){var f=i.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=f;break;case"readAsDataURL":this.result="data:"+i.type+";base64,"+t.btoa(f)}this.readyState=s.DONE,this.trigger("load"),d()}else!function(t){o.bind("Error",function(e,t){l(t)}),o.bind("Progress",function(e){c.result=t.exec.call(o,"FileReader","getResult"),c.trigger(e)}),o.bind("Load",function(e){c.readyState=s.DONE,c.result=t.exec.call(o,"FileReader","getResult"),c.trigger(e),d()}),t.exec.call(o,"FileReader","read",e,i)}(o.connectRuntime(i.ruid));else l(new n.DOMException(n.DOMException.NOT_FOUND_ERR))}var o,c=this;e.extend(this,{uid:e.guid("uid_"),readyState:s.EMPTY,result:null,error:null,readAsBinaryString:function(e){i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){i.call(this,"readAsDataURL",e)},readAsText:function(e){i.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[s.EMPTY,s.DONE])&&(this.readyState===s.LOADING&&(this.readyState=s.DONE),o&&o.getRuntime().exec.call(this,"FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),o&&(o.getRuntime().exec.call(this,"FileReader","destroy"),o.disconnectRuntime()),c=o=null}})}var u=["loadstart","progress","load","abort","error","loadend"];return s.EMPTY=0,s.LOADING=1,s.DONE=2,s.prototype=i.instance,s}),i(b,[],function(){var e=function(t,n){for(var i=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],r=i.length,o={http:80,https:443},a={},s=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,u=s.exec(t||"");r--;)u[r]&&(a[i[r]]=u[r]);if(!a.scheme){n&&"string"!=typeof n||(n=e(n||document.location.href)),a.scheme=n.scheme,a.host=n.host,a.port=n.port;var c="";/^[^\/]/.test(a.path)&&(c=n.path,/(\/|\/[^\.]+)$/.test(c)?c+="/":c=c.replace(/\/[^\/]+$/,"/")),
a.path=c+(a.path||"")}return a.port||(a.port=o[a.scheme]||80),a.port=parseInt(a.port,10),a.path||(a.path="/"),delete a.source,a},t=function(t){var n={http:80,https:443},i=e(t);return i.scheme+"://"+i.host+(i.port!==n[i.scheme]?":"+i.port:"")+i.path+(i.query?i.query:"")},n=function(t){function n(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),n(e())===n(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:n}}),i(R,[a,g,p],function(e,t,n){return function(){function i(e,t){if(!t.isDetached()){var i=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),i}var r=t.getSource();switch(e){case"readAsBinaryString":return r;case"readAsDataURL":return"data:"+t.type+";base64,"+n.btoa(r);case"readAsText":for(var o="",a=0,s=r.length;s>a;a++)o+=String.fromCharCode(r[a]);return o}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return i.call(this,"readAsDataURL",e)},readAsText:function(e){return i.call(this,"readAsText",e)}})}}),i(x,[d,a,m],function(e,t,n){function i(){var e,i=[];t.extend(this,{append:function(r,o){var a=this,s=t.typeOf(o);o instanceof n?e={name:r,value:o}:"array"===s?(r+="[]",t.each(o,function(e){a.append(r,e)})):"object"===s?t.each(o,function(e,t){a.append(r+"["+t+"]",e)}):"null"===s||"undefined"===s||"number"===s&&isNaN(o)?a.append(r,"false"):i.push({name:r,value:o.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(n){t.each(i,function(e){n(e.value,e.name)}),e&&n(e.value,e.name)},destroy:function(){e=null,i=[]}})}return i}),i(S,[a,d,f,p,b,h,w,m,R,x,c,u],function(e,t,n,i,r,o,a,s,u,c,l,d){function f(){this.uid=e.guid("uid_")}function p(){function n(e,t){return T.hasOwnProperty(e)?1===arguments.length?l.can("define_property")?T[e]:S[e]:void(l.can("define_property")?T[e]=t:S[e]=t):void 0}function u(t){function i(){R&&(R.destroy(),R=null),s.dispatchEvent("loadend"),s=null}function r(r){R.bind("LoadStart",function(e){n("readyState",p.LOADING),s.dispatchEvent("readystatechange"),s.dispatchEvent(e),M&&s.upload.dispatchEvent(e)}),R.bind("Progress",function(e){n("readyState")!==p.LOADING&&(n("readyState",p.LOADING),s.dispatchEvent("readystatechange")),s.dispatchEvent(e)}),R.bind("UploadProgress",function(e){M&&s.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),R.bind("Load",function(t){n("readyState",p.DONE),n("status",Number(r.exec.call(R,"XMLHttpRequest","getStatus")||0)),n("statusText",h[n("status")]||""),n("response",r.exec.call(R,"XMLHttpRequest","getResponse",n("responseType"))),~e.inArray(n("responseType"),["text",""])?n("responseText",n("response")):"document"===n("responseType")&&n("responseXML",n("response")),k=r.exec.call(R,"XMLHttpRequest","getAllResponseHeaders"),s.dispatchEvent("readystatechange"),n("status")>0?(M&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(F=!0,s.dispatchEvent("error")),i()}),R.bind("Abort",function(e){s.dispatchEvent(e),i()}),R.bind("Error",function(e){F=!0,n("readyState",p.DONE),s.dispatchEvent("readystatechange"),C=!0,s.dispatchEvent(e),i()}),r.exec.call(R,"XMLHttpRequest","send",{url:v,method:_,async:A,user:y,password:w,headers:O,mimeType:D,encoding:I,responseType:s.responseType,withCredentials:s.withCredentials,options:U},t)}var s=this;E=(new Date).getTime(),R=new a,"string"==typeof U.required_caps&&(U.required_caps=o.parseCaps(U.required_caps)),U.required_caps=e.extend({},U.required_caps,{return_response_type:s.responseType}),t instanceof c&&(U.required_caps.send_multipart=!0),P||(U.required_caps.do_cors=!0),U.ruid?r(R.connectRuntime(U)):(R.bind("RuntimeInit",function(e,t){r(t)}),R.bind("RuntimeError",function(e,t){s.dispatchEvent("RuntimeError",t)}),R.connectRuntime(U))}function m(){n("responseText",""),n("responseXML",null),n("response",null),n("status",0),n("statusText",""),E=b=null}var v,_,y,w,E,b,R,x,S=this,T={timeout:0,readyState:p.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},A=!0,O={},I=null,D=null,N=!1,L=!1,M=!1,C=!1,F=!1,P=!1,z=null,H=null,U={},k="";e.extend(this,T,{uid:e.guid("uid_"),upload:new f,open:function(o,a,s,u,c){var l;if(!o||!a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(o)||i.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(o.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(_=o.toUpperCase()),~e.inArray(_,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(a=i.utf8_encode(a),l=r.parseUrl(a),P=r.hasSameOrigin(l),v=r.resolveUrl(a),(u||c)&&!P)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(y=u||l.user,w=c||l.pass,!1===(A=s||!0)&&(n("timeout")||n("withCredentials")||""!==n("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);N=!A,L=!1,O={},m.call(this),n("readyState",p.OPENED),this.convertEventPropsToHandlers(["readystatechange"]),this.dispatchEvent("readystatechange")},setRequestHeader:function(r,o){var a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(n("readyState")!==p.OPENED||L)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(r)||i.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),!~e.inArray(r,a)&&!/^(proxy\-|sec\-)/.test(r)&&(O[r]?O[r]+=", "+o:O[r]=o,!0)},getAllResponseHeaders:function(){return k||""},getResponseHeader:function(t){return t=t.toLowerCase(),F||~e.inArray(t,["set-cookie","set-cookie2"])?null:k&&""!==k&&(x||(x={},e.each(k.split(/\r\n/),function(t){var n=t.split(/:\s+/);2===n.length&&(n[0]=e.trim(n[0]),x[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),x.hasOwnProperty(t))?x[t].header+": "+x[t].value:null},overrideMimeType:function(i){var r,o;if(~e.inArray(n("readyState"),[p.LOADING,p.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i=e.trim(i.toLowerCase()),/;/.test(i)&&(r=i.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(i=r[1],r[2]&&(o=r[2])),!d.mimes[i])throw new t.DOMException(t.DOMException.SYNTAX_ERR);z=i,H=o},send:function(n,r){if(U="string"===e.typeOf(r)?{ruid:r}:r||{},this.convertEventPropsToHandlers(g),this.upload.convertEventPropsToHandlers(g),this.readyState!==p.OPENED||L)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof s)U.ruid=n.ruid,D=n.type||"application/octet-stream";else if(n instanceof c){if(n.hasBlob()){var o=n.getBlob();U.ruid=o.ruid,D=o.type||"application/octet-stream"}}else"string"==typeof n&&(I="UTF-8",D="text/plain;charset=UTF-8",n=i.utf8_encode(n));this.withCredentials||(this.withCredentials=U.required_caps&&U.required_caps.send_browser_cookies&&!P),M=!N&&this.upload.hasEventListener(),F=!1,C=!n,N||(L=!0),u.call(this,n)},abort:function(){if(F=!0,N=!1,~e.inArray(n("readyState"),[p.UNSENT,p.OPENED,p.DONE]))n("readyState",p.UNSENT);else{if(n("readyState",p.DONE),L=!1,!R)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);R.getRuntime().exec.call(R,"XMLHttpRequest","abort",C),C=!0}},destroy:function(){R&&("function"===e.typeOf(R.destroy)&&R.destroy(),R=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var h={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};f.prototype=n.instance;var g=["loadstart","progress","abort","error","load","timeout","loadend"];return p.UNSENT=0,p.OPENED=1,p.HEADERS_RECEIVED=2,p.LOADING=3,p.DONE=4,p.prototype=n.instance,p}),i(T,[a,p,g,f],function(e,t,n,i){function r(){function i(){l=d=0,c=this.result=null}function o(t,n){var i=this;u=n,i.bind("TransportingProgress",function(t){d=t.loaded,l>d&&-1===e.inArray(i.state,[r.IDLE,r.DONE])&&a.call(i)},999),i.bind("TransportingComplete",function(){d=l,i.state=r.DONE,c=null,i.result=u.exec.call(i,"Transporter","getAsBlob",t||"")},999),i.state=r.BUSY,i.trigger("TransportingStarted"),a.call(i)}function a(){var e,n=this,i=l-d;f>i&&(f=i),e=t.btoa(c.substr(d,f)),u.exec.call(n,"Transporter","receive",e,l)}var s,u,c,l,d,f;n.call(this),e.extend(this,{uid:e.guid("uid_"),state:r.IDLE,result:null,transport:function(t,n,r){var a=this;if(r=e.extend({chunk_size:204798},r),(s=r.chunk_size%3)&&(r.chunk_size+=3-s),f=r.chunk_size,i.call(this),c=t,l=t.length,"string"===e.typeOf(r)||r.ruid)o.call(a,n,this.connectRuntime(r));else{var u=function(e,t){a.unbind("RuntimeInit",u),o.call(a,n,t)};this.bind("RuntimeInit",u),this.connectRuntime(r)}},abort:function(){var e=this;e.state=r.IDLE,u&&(u.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),i.call(e)},destroy:function(){this.unbindAll(),u=null,this.disconnectRuntime(),i.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=i.instance,r}),i(A,[a,l,d,R,S,h,g,T,c,f,m,v,p],function(e,t,n,i,r,o,a,s,u,c,l,d,f){function p(){function i(e){e||(e=this.getRuntime().exec.call(this,"Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name)}function c(t){var i=e.typeOf(t);try{if(t instanceof p){if(!t.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);g.apply(this,arguments)}else if(t instanceof l){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);m.apply(this,arguments)}else if(-1!==e.inArray(i,["blob","file"]))c.call(this,new d(null,t),arguments[1]);else if("string"===i)/^data:[^;]*;base64,/.test(t)?c.call(this,new l(null,{data:t}),arguments[1]):v.apply(this,arguments);else{if("node"!==i||"img"!==t.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(e){this.trigger("error",e.code)}}function g(t,n){var i=this.connectRuntime(t.ruid);this.ruid=i.uid,i.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(n)||n)}function m(t,n){function i(e){r.ruid=e.uid,e.exec.call(r,"Image","loadFromBlob",t)}var r=this;r.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){i(t)}),n&&"string"==typeof n.required_caps&&(n.required_caps=o.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):i(this.connectRuntime(t.ruid))}function v(e,t){var n,i=this;n=new r,n.open("get",e),n.responseType="blob",n.onprogress=function(e){i.trigger(e)},n.onload=function(){m.call(i,n.response,!0)},n.onerror=function(e){i.trigger(e)},n.onloadend=function(){n.destroy()},n.bind("RuntimeError",function(e,t){i.trigger("RuntimeError",t)}),n.send(null,t)}a.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load Resize",function(){i.call(this)},999),this.convertEventPropsToHandlers(h),c.apply(this,arguments)},downsize:function(t){var i={width:this.width,height:this.height,crop:!1,preserveHeaders:!0};t="object"==typeof t?e.extend(i,t):e.extend(i,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]});try{if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);this.getRuntime().exec.call(this,"Image","downsize",t.width,t.height,t.crop,t.preserveHeaders)}catch(e){this.trigger("error",e.code)}},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!u.can("create_canvas"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return this.connectRuntime(this.ruid).exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return e||(e="image/jpeg"),"image/jpeg"!==e||t||(t=90),this.getRuntime().exec.call(this,"Image","getAsBlob",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,"Image","getAsDataURL",e,t)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return f.atob(n.substring(n.indexOf("base64,")+7))},embed:function(i){function r(){if(u.can("create_canvas")){var t=o.getAsCanvas();if(t)return i.appendChild(t),t=null,o.destroy(),void h.trigger("embedded")}var r=o.getAsDataURL(a,c);if(!r)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(u.can("use_data_uri_of",r.length))i.innerHTML='<img src="'+r+'" width="'+o.width+'" height="'+o.height+'" />',o.destroy(),h.trigger("embedded");else{var l=new s;l.bind("TransportingComplete",function(){d=h.connectRuntime(this.result.ruid),h.bind("Embedded",function(){e.extend(d.getShimContainer().style,{top:"0px",left:"0px",width:o.width+"px",height:o.height+"px"}),d=null},999),d.exec.call(h,"ImageView","display",this.result.uid,m,v),o.destroy()}),l.transport(f.atob(r.substring(r.indexOf("base64,")+7)),a,e.extend({},g,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:i}))}}var o,a,c,l,d,h=this,g=arguments[1]||{},m=this.width,v=this.height;try{if(!(i=t.get(i)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(a=g.type||this.type||"image/jpeg",c=g.quality||90,l="undefined"!==e.typeOf(g.crop)&&g.crop,g.width)m=g.width,v=g.height||m;else{var _=t.getSize(i);_.w&&_.h&&(m=_.w,v=_.h)}return o=new p,o.bind("Resize",function(){r.call(h)}),o.bind("Load",function(){o.downsize(m,v,l,!1)}),o.clone(this,!1),o}catch(e){this.trigger("error",e.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}})}var h=["progress","load","error","resize","embedded"];return p.MAX_RESIZE_WIDTH=6500,p.MAX_RESIZE_HEIGHT=6500,p.prototype=c.instance,p}),i(O,[a,d,h,c],function(e,t,n,i){function r(t){var r=this,s=n.capTest,u=n.capTrue,c=e.extend({access_binary:s(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return r.can("access_binary")&&!!a.Image},display_media:s(i.can("create_canvas")||i.can("use_data_uri_over32kb")),do_cors:s(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:s(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==i.browser||i.version>9)}()),filter_by_extension:s(function(){return"Chrome"===i.browser&&i.version>=28||"IE"===i.browser&&i.version>=10}()),return_response_headers:u,return_response_type:function(e){return!("json"!==e||!window.JSON)||i.can("return_response_type",e)},return_status_code:u,report_upload_progress:s(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return r.can("access_binary")&&i.can("create_canvas")},select_file:function(){return i.can("use_fileinput")&&window.File},select_folder:function(){return r.can("select_file")&&"Chrome"===i.browser&&i.version>=21},select_multiple:function(){return!(!r.can("select_file")||"Safari"===i.browser&&"Windows"===i.os||"iOS"===i.os&&i.verComp(i.osVersion,"7.0.4","<"))},send_binary_string:s(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:s(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||r.can("send_binary_string")},slice_blob:s(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return r.can("slice_blob")&&r.can("send_multipart")},summon_file_dialog:s(function(){return"Firefox"===i.browser&&i.version>=4||"Opera"===i.browser&&i.version>=12||"IE"===i.browser&&i.version>=10||!!~e.inArray(i.browser,["Chrome","Safari"])}()),upload_filesize:u},arguments[2]);n.call(this,t,arguments[1]||o,c),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),a)}var o="html5",a={};return n.addConstructor(o,r),a}),i("moxie/runtime/html5/file/Blob",[O,m],function(e,t){function n(){function e(e,t,n){var i;if(!window.File.prototype.slice)return(i=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(i){return e.slice(t,n-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=n}),i(I,[a],function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var i={},r="moxie_"+e.guid(),o=function(o,a,s,u){var c,l;a=a.toLowerCase(),o.addEventListener?(c=s,o.addEventListener(a,c,!1)):o.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,s(e)},o.attachEvent("on"+a,c)),o[r]||(o[r]=e.guid()),i.hasOwnProperty(o[r])||(i[o[r]]={}),l=i[o[r]],l.hasOwnProperty(a)||(l[a]=[]),l[a].push({func:c,orig:s,key:u})},a=function(t,n,o){var a,s;if(n=n.toLowerCase(),t[r]&&i[t[r]]&&i[t[r]][n]){a=i[t[r]][n];for(var u=a.length-1;u>=0&&(a[u].orig!==o&&a[u].key!==o||(t.removeEventListener?t.removeEventListener(n,a[u].func,!1):t.detachEvent&&t.detachEvent("on"+n,a[u].func),a[u].orig=null,a[u].func=null,a.splice(u,1),o===s));u--);if(a.length||delete i[t[r]][n],e.isEmptyObj(i[t[r]])){delete i[t[r]];try{delete t[r]}catch(e){t[r]=s}}}};return{addEvent:o,removeEvent:a,removeAllEvents:function(t,n){t&&t[r]&&e.each(i[t[r]],function(e,i){a(t,i,n)})}}}),i("moxie/runtime/html5/file/FileInput",[O,a,l,I,u,c],function(e,t,n,i,r,o){function a(){var e,a=[];t.extend(this,{init:function(s){var u,c,l,d,f,p,h=this,g=h.getRuntime();e=s,a=[],l=e.accept.mimes||r.extList2mimes(e.accept,g.can("filter_by_extension")),c=g.getShimContainer(),c.innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(l?' accept="'+l.join(",")+'"':"")+" />",u=n.get(g.uid),t.extend(u.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),d=n.get(e.browse_button),g.can("summon_file_dialog")&&("static"===n.getStyle(d,"position")&&(d.style.position="relative"),f=parseInt(n.getStyle(d,"z-index"),10)||1,d.style.zIndex=f,c.style.zIndex=f-1,i.addEvent(d,"click",function(e){var t=n.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()},h.uid)),p=g.can("summon_file_dialog")?d:c,i.addEvent(p,"mouseover",function(){h.trigger("mouseenter")},h.uid),i.addEvent(p,"mouseout",function(){h.trigger("mouseleave")},h.uid),i.addEvent(p,"mousedown",function(){h.trigger("mousedown")},h.uid),i.addEvent(n.get(e.container),"mouseup",function(){h.trigger("mouseup")},h.uid),u.onchange=function n(){if(a=[],e.directory?t.each(this.files,function(e){"."!==e.name&&a.push(e)}):a=[].slice.call(this.files),"IE"!==o.browser&&"IEMobile"!==o.browser)this.value="";else{var i=this.cloneNode(!0);this.parentNode.replaceChild(i,this),i.onchange=n}h.trigger("change")},h.trigger({type:"ready",async:!0}),c=null},getFiles:function(){return a},disable:function(e){var t,i=this.getRuntime();(t=n.get(i.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),r=t.getShim(),o=t.getShimContainer();i.removeAllEvents(o,this.uid),i.removeAllEvents(e&&n.get(e.container),this.uid),i.removeAllEvents(e&&n.get(e.browse_button),this.uid),o&&(o.innerHTML=""),r.removeInstance(this.uid),a=e=o=r=null}})}return e.FileInput=a}),i("moxie/runtime/html5/file/FileDrop",[O,a,l,I,u],function(e,t,n,i,r){function o(){function e(e){if(!e.dataTransfer||!e.dataTransfer.types)return!1;var n=t.toArray(e.dataTransfer.types||[]);return-1!==t.inArray("Files",n)||-1!==t.inArray("public.file-url",n)||-1!==t.inArray("application/x-moz-file",n)}function o(e){for(var n=[],i=0;i<e.length;i++)[].push.apply(n,e[i].extensions.split(/\s*,\s*/));return-1===t.inArray("*",n)?n:[]}function a(e){if(!p.length)return!0;var n=r.getFileExtension(e.name);return!n||-1!==t.inArray(n,p)}function s(e,n){var i=[];t.each(e,function(e){var t=e.webkitGetAsEntry();if(t)if(t.isFile){var n=e.getAsFile();a(n)&&f.push(n)}else i.push(t)}),i.length?u(i,n):n()}function u(e,n){var i=[];t.each(e,function(e){i.push(function(t){c(e,t)})}),t.inSeries(i,function(){n()})}function c(e,t){e.isFile?e.file(function(e){a(e)&&f.push(e),t()},function(){t()}):e.isDirectory?l(e,t):t()}function l(e,t){function n(e){r.readEntries(function(t){t.length?([].push.apply(i,t),n(e)):e()},e)}var i=[],r=e.createReader();n(function(){u(i,t)})}var d,f=[],p=[];t.extend(this,{init:function(n){var r,u=this;d=n,p=o(d.accept),r=d.container,i.addEvent(r,"dragover",function(t){e(t)&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")},u.uid),i.addEvent(r,"drop",function(n){e(n)&&(n.preventDefault(),f=[],n.dataTransfer.items&&n.dataTransfer.items[0].webkitGetAsEntry?s(n.dataTransfer.items,function(){u.trigger("drop")}):(t.each(n.dataTransfer.files,function(e){a(e)&&f.push(e)}),u.trigger("drop")))},u.uid),i.addEvent(r,"dragenter",function(e){u.trigger("dragenter")},u.uid),i.addEvent(r,"dragleave",function(e){u.trigger("dragleave")},u.uid)},getFiles:function(){return f},destroy:function(){i.removeAllEvents(d&&n.get(d.container),this.uid),f=p=d=null}})}return e.FileDrop=o}),i(D,[O,p,a],function(e,t,n){function i(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var i,r=!1;n.extend(this,{read:function(e,t){var o=this;i=new window.FileReader,i.addEventListener("progress",function(e){o.trigger(e)}),i.addEventListener("load",function(e){o.trigger(e)}),i.addEventListener("error",function(e){o.trigger(e,i.error)}),i.addEventListener("loadend",function(){i=null}),"function"===n.typeOf(i[e])?(r=!1,i[e](t.getSource())):"readAsBinaryString"===e&&(r=!0,i.readAsDataURL(t.getSource()))},getResult:function(){return i&&i.result?r?e(i.result):i.result:null},abort:function(){i&&i.abort()},destroy:function(){i=null}})}return e.FileReader=i}),i("moxie/runtime/html5/xhr/XMLHttpRequest",[O,a,u,b,v,m,x,d,c],function(e,t,n,i,r,o,a,s,u){function c(){function e(e,t){var n,i,r=this;n=t.getBlob().getSource(),i=new window.FileReader,i.onload=function(){t.append(t.getBlobName(),new o(null,{type:n.type,data:i.result})),h.send.call(r,e,t)},i.readAsBinaryString(n)}function c(){return!window.XMLHttpRequest||"IE"===u.browser&&u.version<8?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}():new window.XMLHttpRequest}function l(e){var t=e.responseXML,n=e.responseText;return"IE"===u.browser&&n&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&("IE"===u.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function d(e){var t="----moxieboundary"+(new Date).getTime(),n="--",i="\r\n",r="";if(!this.getRuntime().can("send_binary_string"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return f.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,a){r+=e instanceof o?n+t+i+'Content-Disposition: form-data; name="'+a+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+i+"Content-Type: "+(e.type||"application/octet-stream")+i+i+e.getSource()+i:n+t+i+'Content-Disposition: form-data; name="'+a+'"'+i+i+unescape(encodeURIComponent(e))+i}),r+=n+t+n+i}var f,p,h=this;t.extend(this,{send:function(n,r){var s=this,l="Mozilla"===u.browser&&u.version>=4&&u.version<7,h="Android Browser"===u.browser,g=!1;if(p=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),f=c(),f.open(n.method,n.url,n.async,n.user,n.password),r instanceof o)r.isDetached()&&(g=!0),r=r.getSource();else if(r instanceof a){if(r.hasBlob())if(r.getBlob().isDetached())r=d.call(s,r),g=!0;else if((l||h)&&"blob"===t.typeOf(r.getBlob().getSource())&&window.FileReader)return void e.call(s,n,r);if(r instanceof a){var m=new window.FormData;r.each(function(e,t){e instanceof o?m.append(t,e.getSource()):m.append(t,e)}),r=m}}f.upload?(n.withCredentials&&(f.withCredentials=!0),f.addEventListener("load",function(e){s.trigger(e)}),f.addEventListener("error",function(e){s.trigger(e)}),f.addEventListener("progress",function(e){s.trigger(e)}),f.upload.addEventListener("progress",function(e){s.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):f.onreadystatechange=function(){switch(f.readyState){case 1:case 2:break;case 3:var e,t;try{i.hasSameOrigin(n.url)&&(e=f.getResponseHeader("Content-Length")||0),f.responseText&&(t=f.responseText.length)}catch(n){e=t=0}s.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:f.onreadystatechange=function(){},s.trigger(0===f.status?"error":"load")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){f.setRequestHeader(t,e)}),""!==n.responseType&&"responseType"in f&&(f.responseType="json"!==n.responseType||u.can("return_response_type","json")?n.responseType:"text"),g?f.sendAsBinary?f.sendAsBinary(r):function(){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=255&r.charCodeAt(t);f.send(e.buffer)}():f.send(r),s.trigger("loadstart")},getStatus:function(){try{if(f)return f.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var i=new r(t.uid,f.response),o=f.getResponseHeader("Content-Disposition");if(o){var a=o.match(/filename=([\'\"'])([^\1]+)\1/);a&&(p=a[2])}return i.name=p,i.type||(i.type=n.getFileMime(p)),i;case"json":return u.can("return_response_type","json")?f.response:200===f.status&&window.JSON?JSON.parse(f.responseText):null;case"document":return l(f);default:return""!==f.responseText?f.responseText:null}}catch(e){return null}},getAllResponseHeaders:function(){try{return f.getAllResponseHeaders()}catch(e){}return""},abort:function(){f&&f.abort()},destroy:function(){h=p=null}})}return e.XMLHttpRequest=c}),i(N,[],function(){return function(){function e(e,t){var n,i=o?0:-8*(t-1),a=0;for(n=0;t>n;n++)a|=r.charCodeAt(e+n)<<Math.abs(i+8*n);return a}function n(e,t,n){n=3===arguments.length?n:r.length-t-1,r=r.substr(0,t)+e+r.substr(n+t)}function i(e,t,i){var r,a="",s=o?0:-8*(i-1);for(r=0;i>r;r++)a+=String.fromCharCode(t>>Math.abs(s+8*r)&255);n(a,e,i)}var r,o=!1;return{II:function(e){return e===t?o:void(o=e)},init:function(e){o=!1,r=e},SEGMENT:function(e,t,i){switch(arguments.length){case 1:return r.substr(e,r.length-e-1);case 2:return r.substr(e,t);case 3:n(i,e,t);break;default:return r}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(n,r){return r===t?e(n,4):void i(n,r,4)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var i="";for(n+=t;n>t;t++)i+=String.fromCharCode(e(t,1));return i}}}}),i(L,[N],function(e){return function t(n){var i,r,o,a=[],s=0;if(i=new e,i.init(n),65496===i.SHORT(0)){for(r=2;r<=n.length;)if((o=i.SHORT(r))>=65488&&65495>=o)r+=2;else{if(65498===o||65497===o)break;s=i.SHORT(r+2)+2,o>=65505&&65519>=o&&a.push({hex:o,name:"APP"+(15&o),start:r,length:s,segment:i.SEGMENT(r,s)}),r+=s}return i.init(null),{headers:a,restore:function(e){var t,n;for(i.init(e),r=65504==i.SHORT(2)?4+i.SHORT(4):2,n=0,t=a.length;t>n;n++)i.SEGMENT(r,0,a[n].segment),r+=a[n].length;return e=i.SEGMENT(),i.init(null),e},strip:function(e){var n,r,o;for(r=new t(e),n=r.headers,r.purge(),i.init(e),o=n.length;o--;)i.SEGMENT(n[o].start,n[o].length,"");return e=i.SEGMENT(),i.init(null),e},get:function(e){for(var t=[],n=0,i=a.length;i>n;n++)a[n].name===e.toUpperCase()&&t.push(a[n].segment);return t},set:function(e,t){var n,i,r,o=[];for("string"==typeof t?o.push(t):o=t,n=i=0,r=a.length;r>n&&(a[n].name===e.toUpperCase()&&(a[n].segment=o[i],a[n].length=o[i].length,i++),!(i>=o.length));n++);},purge:function(){a=[],i.init(null),i=null}}}}}),i(M,[a,N],function(e,n){return function(){function i(e,n){var i,r,o,s,u,d,f,p=a.SHORT(e),h=[],g={};for(i=0;p>i;i++)if(d=e+12*i+2,(o=n[a.SHORT(d)])!==t){switch(s=a.SHORT(d+=2),u=a.LONG(d+=2),d+=4,h=[],s){case 1:case 7:for(u>4&&(d=a.LONG(d)+l.tiffHeader),r=0;u>r;r++)h[r]=a.BYTE(d+r);break;case 2:u>4&&(d=a.LONG(d)+l.tiffHeader),g[o]=a.STRING(d,u-1);continue;case 3:for(u>2&&(d=a.LONG(d)+l.tiffHeader),r=0;u>r;r++)h[r]=a.SHORT(d+2*r);break;case 4:for(u>1&&(d=a.LONG(d)+l.tiffHeader),r=0;u>r;r++)h[r]=a.LONG(d+4*r);break;case 5:for(d=a.LONG(d)+l.tiffHeader,r=0;u>r;r++)h[r]=a.LONG(d+4*r)/a.LONG(d+4*r+4);break;case 9:for(d=a.LONG(d)+l.tiffHeader,r=0;u>r;r++)h[r]=a.SLONG(d+4*r);break;case 10:for(d=a.LONG(d)+l.tiffHeader,r=0;u>r;r++)h[r]=a.SLONG(d+4*r)/a.SLONG(d+4*r+4);break;default:continue}f=1==u?h[0]:h,g[o]=c.hasOwnProperty(o)&&"object"!=typeof f?c[o][f]:f}return g}function r(){var e=l.tiffHeader;return a.II(18761==a.SHORT(e)),42===a.SHORT(e+=2)&&(l.IFD0=l.tiffHeader+a.LONG(e+=2),u=i(l.IFD0,s.tiff),"ExifIFDPointer"in u&&(l.exifIFD=l.tiffHeader+u.ExifIFDPointer,delete u.ExifIFDPointer),"GPSInfoIFDPointer"in u&&(l.gpsIFD=l.tiffHeader+u.GPSInfoIFDPointer,delete u.GPSInfoIFDPointer),!0)}function o(e,t,n){var i,r,o,u=0;if("string"==typeof t){var c=s[e.toLowerCase()];for(var d in c)if(c[d]===t){t=d;break}}i=l[e.toLowerCase()+"IFD"],r=a.SHORT(i);for(var f=0;r>f;f++)if(o=i+12*f+2,a.SHORT(o)==t){u=o+8;break}return!!u&&(a.LONG(u,n),!0)}var a,s,u,c,l={};return a=new n,s={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},c={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",
19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return l={tiffHeader:10},!(e===t||!e.length)&&(a.init(e),65505===a.SHORT(0)&&"EXIF\0"===a.STRING(4,5).toUpperCase()&&r())},TIFF:function(){return u},EXIF:function(){var t;if(t=i(l.exifIFD,s.exif),t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var n=0,r="";n<t.ExifVersion.length;n++)r+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=r}return t},GPS:function(){var t;return t=i(l.gpsIFD,s.gps),t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return("PixelXDimension"===e||"PixelYDimension"===e)&&o("exif",e,t)},getBinary:function(){return a.SEGMENT()},purge:function(){a.init(null),a=u=null,l={}}}}}),i(C,[a,d,L,N,M],function(e,t,n,i,r){function o(o){function a(){for(var e,t,n=0;n<=u.length;){if((e=c.SHORT(n+=2))>=65472&&65475>=e)return n+=5,{height:c.SHORT(n),width:c.SHORT(n+=2)};t=c.SHORT(n+=2),n+=t-2}return null}function s(){d&&l&&c&&(d.purge(),l.purge(),c.init(null),u=f=l=d=c=null)}var u,c,l,d,f,p;if(u=o,c=new i,c.init(u),65496!==c.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);l=new n(o),d=new r,p=!!d.init(l.get("app1")[0]),f=a.call(this),e.extend(this,{type:"image/jpeg",size:u.length,width:f&&f.width||0,height:f&&f.height||0,setExif:function(t,n){return!!p&&("object"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,n),void l.set("app1",d.getBinary()))},writeHeaders:function(){return arguments.length?l.restore(arguments[0]):u=l.restore(u)},stripHeaders:function(e){return l.strip(e)},purge:function(){s.call(this)}}),p&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS()})}return o}),i(F,[d,a,N],function(e,t,n){function i(i){function r(){var e,t;return e=a.call(this,8),"IHDR"==e.type?(t=e.start,{width:u.LONG(t),height:u.LONG(t+=4)}):null}function o(){u&&(u.init(null),s=d=c=l=u=null)}function a(e){var t,n,i,r;return t=u.LONG(e),n=u.STRING(e+=4,4),i=e+=4,r=u.LONG(e+t),{length:t,type:n,start:i,CRC:r}}var s,u,c,l,d;s=i,u=new n,u.init(s),function(){var t=0,n=0,i=[35152,20039,3338,6666];for(n=0;n<i.length;n++,t+=2)if(i[n]!=u.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=r.call(this),t.extend(this,{type:"image/png",size:s.length,width:d.width,height:d.height,purge:function(){o.call(this)}}),o.call(this)}return i}),i(P,[a,d,C,F],function(e,t,n,i){return function(r){var o,a=[n,i];o=function(){for(var e=0;e<a.length;e++)try{return new a[e](r)}catch(e){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,o),this.purge=function(){o.purge(),o=null}}}),i(z,[],function(){function e(e,i,r){var o=e.naturalWidth,a=e.naturalHeight,s=r.width,u=r.height,c=r.x||0,l=r.y||0,d=i.getContext("2d");t(e)&&(o/=2,a/=2);var f=1024,p=document.createElement("canvas");p.width=p.height=f;for(var h=p.getContext("2d"),g=n(e,o,a),m=0;a>m;){for(var v=m+f>a?a-m:f,_=0;o>_;){var y=_+f>o?o-_:f;h.clearRect(0,0,f,f),h.drawImage(e,-_,-m);var w=_*s/o+c<<0,E=Math.ceil(y*s/o),b=m*u/a/g+l<<0,R=Math.ceil(v*u/a/g);d.drawImage(p,0,0,y,v,w,b,E,R),_+=f}m+=f}p=h=null}function t(e){var t=e.naturalWidth;if(t*e.naturalHeight>1048576){var n=document.createElement("canvas");n.width=n.height=1;var i=n.getContext("2d");return i.drawImage(e,1-t,0),0===i.getImageData(0,0,1,1).data[3]}return!1}function n(e,t,n){var i=document.createElement("canvas");i.width=1,i.height=n;var r=i.getContext("2d");r.drawImage(e,0,0);for(var o=r.getImageData(0,0,1,n).data,a=0,s=n,u=n;u>a;){0===o[4*(u-1)+3]?s=u:a=u,u=s+a>>1}i=null;var c=u/n;return 0===c?1:c}return{isSubsampled:t,renderTo:e}}),i(H,[O,a,d,p,v,P,z,u,c],function(e,t,n,i,r,o,a,s,u){function c(){function e(){if(!y&&!v)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return y||v}function c(e){return i.atob(e.substring(e.indexOf("base64,")+7))}function l(e,t){return"data:"+(t||"")+";base64,"+i.btoa(e)}function d(e){var t=this;v=new Image,v.onerror=function(){m.call(this),t.trigger("error",n.ImageError.WRONG_FORMAT)},v.onload=function(){t.trigger("load")},v.src=/^data:[^;]*;base64,/.test(e)?e:l(e,E.type)}function f(e,t){var i,r=this;return window.FileReader?(i=new FileReader,i.onload=function(){t(this.result)},i.onerror=function(){r.trigger("error",n.ImageError.WRONG_FORMAT)},void i.readAsDataURL(e)):t(e.getAsDataURL())}function p(n,i,r,o){var a,s,u,c,l,d=this,f=0,p=0;if(x=o,l=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==t.inArray(l,[5,6,7,8])){var m=n;n=i,i=m}return s=e(),r?(n=Math.min(n,s.width),i=Math.min(i,s.height),a=Math.max(n/s.width,i/s.height)):a=Math.min(n/s.width,i/s.height),a>1&&!r&&o?void this.trigger("Resize"):(y||(y=document.createElement("canvas")),u=Math.round(s.width*a),c=Math.round(s.height*a),r?(y.width=n,y.height=i,u>n&&(f=Math.round((u-n)/2)),c>i&&(p=Math.round((c-i)/2))):(y.width=u,y.height=c),x||g(y.width,y.height,l),h.call(this,s,y,-f,-p,u,c),this.width=y.width,this.height=y.height,R=!0,void d.trigger("Resize"))}function h(e,t,n,i,r,o){if("iOS"===u.OS)a.renderTo(e,t,{width:r,height:o,x:n,y:i});else{t.getContext("2d").drawImage(e,n,i,r,o)}}function g(e,t,n){switch(n){case 5:case 6:case 7:case 8:y.width=t,y.height=e;break;default:y.width=e,y.height=t}var i=y.getContext("2d");switch(n){case 2:i.translate(e,0),i.scale(-1,1);break;case 3:i.translate(e,t),i.rotate(Math.PI);break;case 4:i.translate(0,t),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-t);break;case 7:i.rotate(.5*Math.PI),i.translate(e,-t),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-e,0)}}function m(){_&&(_.purge(),_=null),w=v=y=E=null,R=!1}var v,_,y,w,E,b=this,R=!1,x=!0;t.extend(this,{loadFromBlob:function(e){var t=this,i=t.getRuntime(),r=!(arguments.length>1)||arguments[1];if(!i.can("access_binary"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return E=e,e.isDetached()?(w=e.getSource(),void d.call(this,w)):void f.call(this,e.getSource(),function(e){r&&(w=c(e)),d.call(t,e)})},loadFromImage:function(e,t){this.meta=e.meta,E=new r(null,{name:e.name,size:e.size,type:e.type}),d.call(this,t?w=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t=this.getRuntime();return!_&&w&&t.can("access_image_binary")&&(_=new o(w)),{width:e().width||0,height:e().height||0,type:E.type||s.getFileMime(E.name),size:w&&w.length||E.size||0,name:E.name||"",meta:_&&_.meta||this.meta||{}}},downsize:function(){p.apply(this,arguments)},getAsCanvas:function(){return y&&(y.id=this.uid+"_canvas"),y},getAsBlob:function(e,t){return e!==this.type&&p.call(this,this.width,this.height,!1),new r(null,{name:E.name||"",type:e,data:b.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!R)return v.src;if("image/jpeg"!==e)return y.toDataURL("image/png");try{return y.toDataURL("image/jpeg",t/100)}catch(e){return y.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!R)return w||(w=c(b.getAsDataURL(e,t))),w;if("image/jpeg"!==e)w=c(b.getAsDataURL(e,t));else{var n;t||(t=90);try{n=y.toDataURL("image/jpeg",t/100)}catch(e){n=y.toDataURL("image/jpeg")}w=c(n),_&&(w=_.stripHeaders(w),x&&(_.meta&&_.meta.exif&&_.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),w=_.writeHeaders(w)),_.purge(),_=null)}return R=!1,w},destroy:function(){b=null,m.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=c}),i(U,[a,c,l,d,h],function(e,t,n,i,r){function o(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function a(a){var c,l=this;a=e.extend({swf_url:t.swf_url},a),r.call(this,a,s,{access_binary:function(e){return e&&"browser"===l.mode},access_image_binary:function(e){return e&&"browser"===l.mode},display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===l.mode},resize_image:r.capTrue,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||(!e.arrayDiff(t,["","text","document"])||"browser"===l.mode)},return_status_code:function(t){return"browser"===l.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:function(e){return e&&"browser"===l.mode},send_browser_cookies:function(e){return e&&"browser"===l.mode},send_custom_headers:function(e){return e&&"browser"===l.mode},send_multipart:r.capTrue,slice_blob:function(e){return e&&"browser"===l.mode},stream_upload:function(e){return e&&"browser"===l.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===l.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),o()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return l.getShim().exec(this.uid,e,t,n)},init:function(){var n,r,o;o=this.getShimContainer(),e.extend(o.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),n='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+a.swf_url+'" ',"IE"===t.browser&&(n+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),n+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+a.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(r=document.createElement("div"),o.appendChild(r),r.outerHTML=n,r=o=null):o.innerHTML=n,c=setTimeout(function(){l&&!l.initialized&&l.trigger("Error",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(l),clearTimeout(c),a=c=e=l=null}}(this.destroy)},u)}var s="flash",u={};return r.addConstructor(s,a),u}),i(k,[U,m],function(e,t){var n={slice:function(e,n,i,r){var o=this.getRuntime();return 0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),e=o.shimExec.call(this,"Blob","slice",n,i,r||""),e&&(e=new t(o.uid,e)),e}};return e.Blob=n}),i("moxie/runtime/flash/file/FileInput",[U],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=t}),i(q,[U,p],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var i="",r={read:function(e,t){var r=this,o=r.getRuntime();return"readAsDataURL"===e&&(i="data:"+(t.type||"")+";base64,"),r.bind("Progress",function(t,r){r&&(i+=n(r,e))}),o.shimExec.call(this,"FileReader","readAsBase64",t.uid)},getResult:function(){return i},destroy:function(){i=null}};return e.FileReader=r}),i(B,[U,p],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var i={read:function(e,t){var i;return(i=this.getRuntime().shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(i="data:"+(t.type||"")+";base64,"+i),n(i,e,t.type)):null}};return e.FileReaderSync=i}),i(G,[U,a,m,v,R,x,T],function(e,t,n,i,r,o,a){var s={send:function(e,i){function r(){e.transport=l.mode,l.shimExec.call(c,"XMLHttpRequest","send",e,i)}function s(e,t){l.shimExec.call(c,"XMLHttpRequest","appendBlob",e,t.uid),i=null,r()}function u(e,t){var n=new a;n.bind("TransportingComplete",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:l.uid})}var c=this,l=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){l.shimExec.call(c,"XMLHttpRequest","setRequestHeader",t,e.toString())}),i instanceof o){var d;if(i.each(function(e,t){e instanceof n?d=t:l.shimExec.call(c,"XMLHttpRequest","append",t,e)}),i.hasBlob()){var f=i.getBlob();f.isDetached()?u(f,function(e){f.destroy(),s(d,e)}):s(d,f)}else i=null,r()}else i instanceof n?i.isDetached()?u(i,function(e){i.destroy(),i=e.uid,r()}):(i=i.uid,r()):r()},getResponse:function(e){var n,o,a=this.getRuntime();if(o=a.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(o=new i(a.uid,o),"blob"===e)return o;try{if(n=new r,~t.inArray(e,["","text"]))return n.readAsText(o);if("json"===e&&window.JSON)return JSON.parse(n.readAsText(o))}finally{o.destroy()}}return null},abort:function(e){this.getRuntime().shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=s}),i(j,[U,m],function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),i=n.shimExec.call(this,"Transporter","getAsBlob",e);return i?new t(n.uid,i):null}};return e.Transporter=n}),i(X,[U,a,T,m,R],function(e,t,n,i,r){var o={loadFromBlob:function(e){function t(e){r.shimExec.call(i,"Image","loadFromBlob",e.uid),i=r=null}var i=this,r=i.getRuntime();if(e.isDetached()){var o=new n;o.bind("TransportingComplete",function(){t(o.result.getSource())}),o.transport(e.getSource(),e.type,{ruid:r.uid})}else t(e.getSource())},loadFromImage:function(e){return this.getRuntime().shimExec.call(this,"Image","loadFromImage",e.uid)},getAsBlob:function(e,t){var n=this.getRuntime(),r=n.shimExec.call(this,"Image","getAsBlob",e,t);return r?new i(n.uid,r):null},getAsDataURL:function(){var e,t=this.getRuntime(),n=t.Image.getAsBlob.apply(this,arguments);return n?(e=new r,e.readAsDataURL(n)):null}};return e.Image=o}),i(V,[a,c,l,d,h],function(e,t,n,i,r){function o(e){var t,n,i,r,o,a=!1,s=null,u=0;try{try{s=new ActiveXObject("AgControl.AgControl"),s.IsVersionSupported(e)&&(a=!0),s=null}catch(s){var c=navigator.plugins["Silverlight Plug-In"];if(c){for(t=c.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),n=t.split(".");n.length>3;)n.pop();for(;n.length<4;)n.push(0);for(i=e.split(".");i.length>4;)i.pop();do{r=parseInt(i[u],10),o=parseInt(n[u],10),u++}while(u<i.length&&r===o);o>=r&&!isNaN(r)&&(a=!0)}}}catch(e){a=!1}return a}function a(a){var c,l=this;a=e.extend({xap_url:t.xap_url},a),r.call(this,a,s,{access_binary:r.capTrue,access_image_binary:r.capTrue,display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:r.capTrue,resize_image:r.capTrue,return_response_headers:function(e){return e&&"client"===l.mode},return_response_type:function(e){return"json"!==e||!!window.JSON},return_status_code:function(t){return"client"===l.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:r.capTrue,send_browser_cookies:function(e){return e&&"browser"===l.mode},send_custom_headers:function(e){return e&&"client"===l.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:r.capTrue,use_http_method:function(t){return"client"===l.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),o("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return l.getShim().exec(this.uid,e,t,n)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+a.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/></object>',c=setTimeout(function(){l&&!l.initialized&&l.trigger("Error",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(l),clearTimeout(c),a=c=e=l=null}}(this.destroy)},u)}var s="silverlight",u={};return r.addConstructor(s,a),u}),i("moxie/runtime/silverlight/file/Blob",[V,a,k],function(e,t,n){return e.Blob=t.extend({},n)}),i("moxie/runtime/silverlight/file/FileInput",[V],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",function(e){for(var t="",n=0;n<e.length;n++)t+=(""!==t?"|":"")+e[n].title+" | *."+e[n].extensions.replace(/,/g,";*.");return t}(e.accept),e.name,e.multiple),this.trigger("ready")}};return e.FileInput=t}),i("moxie/runtime/silverlight/file/FileDrop",[V,l,I],function(e,t,n){var i={init:function(){var e,i=this,r=i.getRuntime();return e=r.getShimContainer(),n.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},i.uid),n.addEvent(e,"dragenter",function(e){e.preventDefault(),t.get(r.uid).dragEnter(e)&&e.stopPropagation()},i.uid),n.addEvent(e,"drop",function(e){e.preventDefault(),t.get(r.uid).dragDrop(e)&&e.stopPropagation()},i.uid),r.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=i}),i("moxie/runtime/silverlight/file/FileReader",[V,a,q],function(e,t,n){return e.FileReader=t.extend({},n)}),i("moxie/runtime/silverlight/file/FileReaderSync",[V,a,B],function(e,t,n){return e.FileReaderSync=t.extend({},n)}),i("moxie/runtime/silverlight/xhr/XMLHttpRequest",[V,a,G],function(e,t,n){return e.XMLHttpRequest=t.extend({},n)}),i("moxie/runtime/silverlight/runtime/Transporter",[V,a,j],function(e,t,n){return e.Transporter=t.extend({},n)}),i("moxie/runtime/silverlight/image/Image",[V,a,X],function(e,t,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=["tiff","exif","gps"],i={meta:{}},r=e.shimExec.call(this,"Image","getInfo");return r.meta&&t.each(n,function(e){var t,n,o,a,s=r.meta[e];if(s&&s.keys)for(i.meta[e]={},n=0,o=s.keys.length;o>n;n++)t=s.keys[n],(a=s[t])&&(/^(\d|[1-9]\d+)$/.test(a)?a=parseInt(a,10):/^\d*\.\d+$/.test(a)&&(a=parseFloat(a)),i.meta[e][t]=a)}),i.width=parseInt(r.width,10),i.height=parseInt(r.height,10),i.size=parseInt(r.size,10),i.type=r.type,i.name=r.name,i}})}),i(W,[a,d,h,c],function(e,t,n,i){function r(t){var r=this,s=n.capTest,u=n.capTrue;n.call(this,t,o,{access_binary:s(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:s(a.Image&&(i.can("create_canvas")||i.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:s(function(){return"Chrome"===i.browser&&i.version>=28||"IE"===i.browser&&i.version>=10}()),resize_image:function(){return a.Image&&r.can("access_binary")&&i.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return i.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return r.can("select_file")},summon_file_dialog:s(function(){return"Firefox"===i.browser&&i.version>=4||"Opera"===i.browser&&i.version>=12||!!~e.inArray(i.browser,["Chrome","Safari"])}()),upload_filesize:u,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),a)}var o="html4",a={};return n.addConstructor(o,r),a}),i("moxie/runtime/html4/file/FileInput",[W,a,l,I,u,c],function(e,t,n,i,r,o){function a(){function e(){var r,l,d,f,p,h,g=this,m=g.getRuntime();h=t.guid("uid_"),r=m.getShimContainer(),a&&(d=n.get(a+"_form"))&&t.extend(d.style,{top:"100%"}),f=document.createElement("form"),f.setAttribute("id",h+"_form"),f.setAttribute("method","post"),f.setAttribute("enctype","multipart/form-data"),f.setAttribute("encoding","multipart/form-data"),t.extend(f.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),p=document.createElement("input"),p.setAttribute("id",h),p.setAttribute("type","file"),p.setAttribute("name",s.name||"Filedata"),p.setAttribute("accept",c.join(",")),t.extend(p.style,{fontSize:"999px",opacity:0}),f.appendChild(p),r.appendChild(f),t.extend(p.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===o.browser&&o.version<10&&t.extend(p.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),p.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},u=[t],this.onchange=function(){},e.call(g),g.bind("change",function e(){var t,i=n.get(h),r=n.get(h+"_form");g.unbind("change",e),g.files.length&&i&&r&&(t=g.files[0],i.setAttribute("id",t.uid),r.setAttribute("id",t.uid+"_form"),r.setAttribute("target",t.uid+"_iframe")),i=r=null},998),p=f=null,g.trigger("change"))},m.can("summon_file_dialog")&&(l=n.get(s.browse_button),i.removeEvent(l,"click",g.uid),i.addEvent(l,"click",function(e){p&&!p.disabled&&p.click(),e.preventDefault()},g.uid)),a=h,r=d=l=null}var a,s,u=[],c=[];t.extend(this,{init:function(t){var o,a=this,u=a.getRuntime();s=t,c=t.accept.mimes||r.extList2mimes(t.accept,u.can("filter_by_extension")),o=u.getShimContainer(),function(){var e,r,s;e=n.get(t.browse_button),u.can("summon_file_dialog")&&("static"===n.getStyle(e,"position")&&(e.style.position="relative"),r=parseInt(n.getStyle(e,"z-index"),10)||1,e.style.zIndex=r,o.style.zIndex=r-1),s=u.can("summon_file_dialog")?e:o,i.addEvent(s,"mouseover",function(){a.trigger("mouseenter")},a.uid),i.addEvent(s,"mouseout",function(){a.trigger("mouseleave")},a.uid),i.addEvent(s,"mousedown",function(){a.trigger("mousedown")},a.uid),i.addEvent(n.get(t.container),"mouseup",function(){a.trigger("mouseup")},a.uid),e=null}(),e.call(this),o=null,a.trigger({type:"ready",async:!0})},getFiles:function(){return u},disable:function(e){var t;(t=n.get(a))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),r=e.getShimContainer();i.removeAllEvents(r,this.uid),i.removeAllEvents(s&&n.get(s.container),this.uid),i.removeAllEvents(s&&n.get(s.browse_button),this.uid),r&&(r.innerHTML=""),t.removeInstance(this.uid),a=u=c=s=r=t=null}})}return e.FileInput=a}),i("moxie/runtime/html4/file/FileReader",[W,D],function(e,t){return e.FileReader=t}),i("moxie/runtime/html4/xhr/XMLHttpRequest",[W,a,l,b,d,I,m,x],function(e,t,n,i,r,o,a,s){function u(){function e(e){var t,i,r,a,s=this,u=!1;if(l){if(t=l.id.replace(/_iframe$/,""),i=n.get(t+"_form")){for(r=i.getElementsByTagName("input"),a=r.length;a--;)switch(r[a].getAttribute("type")){case"hidden":r[a].parentNode.removeChild(r[a]);break;case"file":u=!0}r=[],u||i.parentNode.removeChild(i),i=null}setTimeout(function(){o.removeEvent(l,"load",s.uid),l.parentNode&&l.parentNode.removeChild(l);var t=s.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=l=null,e()},1)}}var u,c,l;t.extend(this,{send:function(d,f){var p,h,g,m,v=this,_=v.getRuntime();if(u=c=null,f instanceof s&&f.hasBlob()){if(m=f.getBlob(),p=m.uid,g=n.get(p),!(h=n.get(p+"_form")))throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}else p=t.guid("uid_"),h=document.createElement("form"),h.setAttribute("id",p+"_form"),h.setAttribute("method",d.method),h.setAttribute("enctype","multipart/form-data"),h.setAttribute("encoding","multipart/form-data"),h.setAttribute("target",p+"_iframe"),_.getShimContainer().appendChild(h);f instanceof s&&f.each(function(e,n){if(e instanceof a)g&&g.setAttribute("name",n);else{var i=document.createElement("input");t.extend(i,{type:"hidden",name:n,value:e}),g?h.insertBefore(i,g):h.appendChild(i)}}),h.setAttribute("action",d.url),function(){var n=_.getShimContainer()||document.body,r=document.createElement("div");r.innerHTML='<iframe id="'+p+'_iframe" name="'+p+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',l=r.firstChild,n.appendChild(l),o.addEvent(l,"load",function(){var n;try{n=l.contentWindow.document||l.contentDocument||window.frames[l.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title)?u=n.title.replace(/^(\d+).*$/,"$1"):(u=200,c=t.trim(n.body.innerHTML),v.trigger({type:"progress",loaded:c.length,total:c.length}),m&&v.trigger({type:"uploadprogress",loaded:m.size||1025,total:m.size||1025}))}catch(t){if(!i.hasSameOrigin(d.url))return void e.call(v,function(){v.trigger("error")});u=404}e.call(v,function(){v.trigger("load")})},v.uid)}(),h.submit(),v.trigger("loadstart")},getStatus:function(){return u},getResponse:function(e){if("json"===e&&"string"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(e){return null}return c},abort:function(){var t=this;l&&l.contentWindow&&(l.contentWindow.stop?l.contentWindow.stop():l.contentWindow.document.execCommand?l.contentWindow.document.execCommand("Stop"):l.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=u}),i("moxie/runtime/html4/image/Image",[W,H],function(e,t){return e.Image=t}),function(n){for(var i=0;i<n.length;i++){for(var r=e,a=n[i],s=a.split(/[.\/]/),u=0;u<s.length-1;++u)r[s[u]]===t&&(r[s[u]]={}),r=r[s[u]];r[s[s.length-1]]=o[a]}}([a,s,u,c,l,d,f,p,h,g,m,v,_,y,w,E,b,R,x,S,T,A,I])}(this),function(e){"use strict";var t={},n=e.moxie.core.utils.Basic.inArray;(function e(i){var r,o;for(r in i)o=typeof i[r],"object"!==o||~n(r,["Exceptions","Env","Mime"])?"function"===o&&(t[r]=i[r]):e(i[r])})(e.moxie),t.Env=e.moxie.core.utils.Env,t.Mime=e.moxie.core.utils.Mime,t.Exceptions=e.moxie.core.Exceptions,e.mOxie=t,e.o||(e.o=t)}(this),function(e,t,n){function i(e){function t(e,t,n){var r={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};r[e]?i[r[e]]=t:n||(i[e]=t)}var n=e.required_features,i={};return"string"==typeof n?a.each(n.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof n?a.each(n,function(e,n){t(n,e)}):!0===n&&(e.chunk_size>0&&(i.slice_blob=!0),!e.resize.enabled&&e.multipart||(i.send_binary_string=!0),a.each(e,function(e,n){t(n,!!e,!0)})),i}var r=e.setTimeout,o={},a={VERSION:"2.1.2",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(e){var n,i=[];"array"!==t.typeOf(e)&&(e=[e]);for(var r=e.length;r--;)(n=t.get(e[r]))&&i.push(n);return i.length?i:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},n=/[<>&\"\']/g;return e?(""+e).replace(n,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var n="";return a.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\D/.test(e))return a.translate("N/A");var i=Math.pow(1024,4);return e>i?t(e/i,1)+" "+a.translate("tb"):e>(i/=1024)?t(e/i,1)+" "+a.translate("gb"):e>(i/=1024)?t(e/i,1)+" "+a.translate("mb"):e>1024?Math.round(e/1024)+" "+a.translate("kb"):e+" "+a.translate("b")},parseSize:t.parseSizeStr,predictRuntime:function(e,n){var i,r;return i=new a.Uploader(e),r=t.Runtime.thatCan(i.getOption().required_features,n||e.runtimes),i.destroy(),r},addFileFilter:function(e,t){o[e]=t}};a.addFileFilter("mime_types",function(e,t,n){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:a.FILE_EXTENSION_ERROR,message:a.translate("File extension error."),file:t}),n(!1)):n(!0)}),a.addFileFilter("max_file_size",function(e,t,n){e=a.parseSize(e),void 0!==t.size&&e&&t.size>e?(this.trigger("Error",{code:a.FILE_SIZE_ERROR,message:a.translate("File size error."),file:t}),n(!1)):n(!0)}),a.addFileFilter("prevent_duplicates",function(e,t,n){if(e)for(var i=this.files.length;i--;)if(t.name===this.files[i].name&&t.size===this.files[i].size)return this.trigger("Error",{code:a.FILE_DUPLICATE_ERROR,message:a.translate("Duplicate file error."),file:t}),void n(!1);n(!0)}),a.Uploader=function(e){function s(){var e,t,n=0;if(this.state==a.STARTED){
for(t=0;t<I.length;t++)e||I[t].status!=a.QUEUED?n++:(e=I[t],this.trigger("BeforeUpload",e)&&(e.status=a.UPLOADING,this.trigger("UploadFile",e)));n==I.length&&(this.state!==a.STOPPED&&(this.state=a.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",I))}}function u(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,c()}function c(){var e,t;for(T.reset(),e=0;e<I.length;e++)t=I[e],t.size!==n?(T.size+=t.origSize,T.loaded+=t.loaded*t.origSize/t.size):T.size=n,t.status==a.DONE?T.uploaded++:t.status==a.FAILED?T.failed++:T.queued++;T.size===n?T.percent=I.length>0?Math.ceil(T.uploaded/I.length*100):0:(T.bytesPerSec=Math.ceil(T.loaded/((+new Date-S||1)/1e3)),T.percent=T.size>0?Math.ceil(T.loaded/T.size*100):0)}function l(){var e=N[0]||L[0];return!!e&&e.getRuntime().uid}function d(e,n){if(e.ruid){var i=t.Runtime.getInfo(e.ruid);if(i)return i.can(n)}return!1}function f(){this.bind("FilesAdded FilesRemoved",function(e){e.trigger("QueueChanged"),e.refresh()}),this.bind("CancelUpload",w),this.bind("BeforeUpload",m),this.bind("UploadFile",v),this.bind("UploadProgress",_),this.bind("StateChanged",y),this.bind("QueueChanged",c),this.bind("Error",b),this.bind("FileUploaded",E),this.bind("Destroy",R)}function p(e,n){var i=this,r=0,o=[],s={runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:D,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};a.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(s[t]=e[t])}),e.browse_button&&a.each(e.browse_button,function(n){o.push(function(o){var u=new t.FileInput(a.extend({},s,{accept:e.filters.mime_types,name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));u.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(i.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),r++,N.push(this),o()},u.onchange=function(){i.addFile(this.files)},u.bind("mouseenter mouseleave mousedown mouseup",function(i){M||(e.browse_button_hover&&("mouseenter"===i.type?t.addClass(n,e.browse_button_hover):"mouseleave"===i.type&&t.removeClass(n,e.browse_button_hover)),e.browse_button_active&&("mousedown"===i.type?t.addClass(n,e.browse_button_active):"mouseup"===i.type&&t.removeClass(n,e.browse_button_active)))}),u.bind("mousedown",function(){i.trigger("Browse")}),u.bind("error runtimeerror",function(){u=null,o()}),u.init()})}),e.drop_element&&a.each(e.drop_element,function(e){o.push(function(n){var o=new t.FileDrop(a.extend({},s,{drop_zone:e}));o.onready=function(){var e=t.Runtime.getInfo(this.ruid);i.features.dragdrop=e.can("drag_and_drop"),r++,L.push(this),n()},o.ondrop=function(){i.addFile(this.files)},o.bind("error runtimeerror",function(){o=null,n()}),o.init()})}),t.inSeries(o,function(){"function"==typeof n&&n(r)})}function h(e,i,r){var o=new t.Image;try{o.onload=function(){if(i.width>this.width&&i.height>this.height&&i.quality===n&&i.preserve_headers&&!i.crop)return this.destroy(),r(e);o.downsize(i.width,i.height,i.crop,i.preserve_headers)},o.onresize=function(){r(this.getAsBlob(e.type,i.quality)),this.destroy()},o.onerror=function(){r(e)},o.load(e)}catch(t){r(e)}}function g(e,n,r){function o(e,t,n){var i=x[e];switch(e){case"max_file_size":"max_file_size"===e&&(x.max_file_size=x.filters.max_file_size=t);break;case"chunk_size":(t=a.parseSize(t))&&(x[e]=t,x.send_file_name=!0);break;case"multipart":x[e]=t,t||(x.send_file_name=!0);break;case"unique_names":x[e]=t,t&&(x.send_file_name=!0);break;case"filters":"array"===a.typeOf(t)&&(t={mime_types:t}),n?a.extend(x.filters,t):x.filters=t,t.mime_types&&(x.filters.mime_types.regexp=function(e){var t=[];return a.each(e,function(e){a.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(x.filters.mime_types));break;case"resize":n?a.extend(x.resize,t,{enabled:!0}):x.resize=t;break;case"prevent_duplicates":x.prevent_duplicates=x.filters.prevent_duplicates=!!t;break;case"browse_button":case"drop_element":t=a.get(t);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":x[e]=t,n||(u=!0);break;default:x[e]=t}n||s.trigger("OptionChanged",e,t,i)}var s=this,u=!1;"object"==typeof e?a.each(e,function(e,t){o(t,e,r)}):o(e,n,r),r?(x.required_features=i(a.extend({},x)),D=i(a.extend({},x,{required_features:!0}))):u&&(s.trigger("Destroy"),p.call(s,x,function(e){e?(s.runtime=t.Runtime.getInfo(l()).type,s.trigger("Init",{runtime:s.runtime}),s.trigger("PostInit")):s.trigger("Error",{code:a.INIT_ERROR,message:a.translate("Init error.")})}))}function m(e,t){if(e.settings.unique_names){var n=t.name.match(/\.([^.]+)$/),i="part";n&&(i=n[1]),t.target_name=t.id+"."+i}}function v(e,n){function i(){l-- >0?r(o,1e3):(n.loaded=p,e.trigger("Error",{code:a.HTTP_ERROR,message:a.translate("HTTP Error."),file:n,response:A.responseText,status:A.status,responseHeaders:A.getAllResponseHeaders()}))}function o(){var d,h,g,m={};n.status===a.UPLOADING&&e.state!==a.STOPPED&&(e.settings.send_file_name&&(m.name=n.target_name||n.name),c&&f.chunks&&s.size>c?(g=Math.min(c,s.size-p),d=s.slice(p,p+g)):(g=s.size,d=s),c&&f.chunks&&(e.settings.send_chunk_number?(m.chunk=Math.ceil(p/c),m.chunks=Math.ceil(s.size/c)):(m.offset=p,m.total=s.size)),A=new t.XMLHttpRequest,A.upload&&(A.upload.onprogress=function(t){n.loaded=Math.min(n.size,p+t.loaded),e.trigger("UploadProgress",n)}),A.onload=function(){if(A.status>=400)return void i();l=e.settings.max_retries,g<s.size?(d.destroy(),p+=g,n.loaded=Math.min(p,s.size),e.trigger("ChunkUploaded",n,{offset:n.loaded,total:s.size,response:A.responseText,status:A.status,responseHeaders:A.getAllResponseHeaders()}),"Android Browser"===t.Env.browser&&e.trigger("UploadProgress",n)):n.loaded=n.size,d=h=null,!p||p>=s.size?(n.size!=n.origSize&&(s.destroy(),s=null),e.trigger("UploadProgress",n),n.status=a.DONE,e.trigger("FileUploaded",n,{response:A.responseText,status:A.status,responseHeaders:A.getAllResponseHeaders()})):r(o,1)},A.onerror=function(){i()},A.onloadend=function(){this.destroy(),A=null},e.settings.multipart&&f.multipart?(A.open("post",u,!0),a.each(e.settings.headers,function(e,t){A.setRequestHeader(t,e)}),h=new t.FormData,a.each(a.extend(m,e.settings.multipart_params),function(e,t){h.append(t,e)}),h.append(e.settings.file_data_name,d),A.send(h,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:D,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(u=a.buildUrl(e.settings.url,a.extend(m,e.settings.multipart_params)),A.open("post",u,!0),A.setRequestHeader("Content-Type","application/octet-stream"),a.each(e.settings.headers,function(e,t){A.setRequestHeader(t,e)}),A.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:D,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})))}var s,u=e.settings.url,c=e.settings.chunk_size,l=e.settings.max_retries,f=e.features,p=0;n.loaded&&(p=n.loaded=c?c*Math.floor(n.loaded/c):0),s=n.getSource(),e.settings.resize.enabled&&d(s,"send_binary_string")&&~t.inArray(s.type,["image/jpeg","image/png"])?h.call(this,s,e.settings.resize,function(e){s=e,n.size=e.size,o()}):o()}function _(e,t){u(t)}function y(e){if(e.state==a.STARTED)S=+new Date;else if(e.state==a.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==a.UPLOADING&&(e.files[t].status=a.QUEUED,c())}function w(){A&&A.abort()}function E(e){c(),r(function(){s.call(e)},1)}function b(e,t){t.code===a.INIT_ERROR?e.destroy():t.file&&(t.file.status=a.FAILED,u(t.file),e.state==a.STARTED&&(e.trigger("CancelUpload"),r(function(){s.call(e)},1)))}function R(e){e.stop(),a.each(I,function(e){e.destroy()}),I=[],N.length&&(a.each(N,function(e){e.destroy()}),N=[]),L.length&&(a.each(L,function(e){e.destroy()}),L=[]),D={},M=!1,S=A=null,T.reset()}var x,S,T,A,O=a.guid(),I=[],D={},N=[],L=[],M=!1;x={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_file_name:!0,send_chunk_number:!0},g.call(this,e,null,!0),T=new a.QueueProgress,a.extend(this,{id:O,uid:O,state:a.STOPPED,features:{},runtime:null,files:I,settings:x,total:T,init:function(){var e=this;if("function"==typeof x.preinit?x.preinit(e):a.each(x.preinit,function(t,n){e.bind(n,t)}),f.call(this),!x.browse_button||!x.url)return void this.trigger("Error",{code:a.INIT_ERROR,message:a.translate("Init error.")});p.call(this,x,function(n){"function"==typeof x.init?x.init(e):a.each(x.init,function(t,n){e.bind(n,t)}),n?(e.runtime=t.Runtime.getInfo(l()).type,e.trigger("Init",{runtime:e.runtime}),e.trigger("PostInit")):e.trigger("Error",{code:a.INIT_ERROR,message:a.translate("Init error.")})})},setOption:function(e,t){g.call(this,e,t,!this.runtime)},getOption:function(e){return e?x[e]:x},refresh:function(){N.length&&a.each(N,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=a.STARTED&&(this.state=a.STARTED,this.trigger("StateChanged"),s.call(this))},stop:function(){this.state!=a.STOPPED&&(this.state=a.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){M=arguments[0]===n||arguments[0],N.length&&a.each(N,function(e){e.disable(M)}),this.trigger("DisableBrowse",M)},getFile:function(e){var t;for(t=I.length-1;t>=0;t--)if(I[t].id===e)return I[t]},addFile:function(e,n){function i(e,n){var i=[];t.each(c.settings.filters,function(t,n){o[n]&&i.push(function(i){o[n].call(c,t,e,function(e){i(!e)})})}),t.inSeries(i,n)}function s(e){var o=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!u)return!1;e.ruid=u,e.connectRuntime(u)}s(new a.File(e))}else e instanceof t.Blob?(s(e.getSource()),e.destroy()):e instanceof a.File?(n&&(e.name=n),d.push(function(t){i(e,function(n){n||(I.push(e),f.push(e),c.trigger("FileFiltered",e)),r(t,1)})})):-1!==t.inArray(o,["file","blob"])?s(new t.File(null,e)):"node"===o&&"filelist"===t.typeOf(e.files)?t.each(e.files,s):"array"===o&&(n=null,t.each(e,s))}var u,c=this,d=[],f=[];u=l(),s(e),d.length&&t.inSeries(d,function(){f.length&&c.trigger("FilesAdded",f)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,n=I.length-1;n>=0;n--)if(I[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var i=I.splice(e===n?0:e,t===n?I.length:t),r=!1;return this.state==a.STARTED&&(a.each(i,function(e){if(e.status===a.UPLOADING)return r=!0,!1}),r&&this.stop()),this.trigger("FilesRemoved",i),a.each(i,function(e){e.destroy()}),r&&this.start(),i},bind:function(e,t,n){var i=this;a.Uploader.prototype.bind.call(this,e,function(){var e=[].slice.call(arguments);return e.splice(0,1,i),t.apply(this,e)},0,n)},destroy:function(){this.trigger("Destroy"),x=T=null,this.unbindAll()}})},a.Uploader.prototype=t.EventTarget.instance,a.File=function(){function e(e){a.extend(this,{id:a.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:a.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return-1!==t.inArray(t.typeOf(e),["blob","file"])?e:null},getSource:function(){return n[this.id]?n[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete n[this.id])}}),n[this.id]=e}var n={};return e}(),a.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=a}(window,mOxie);
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.io=t()}}(function(){var t;return function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(t,e,n){(function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized;var o="object"==typeof n&&n;o.global===o&&e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),this.open()}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var i=t("./transports"),s=t("component-emitter"),a=t("debug")("engine.io-client:socket"),c=t("indexof"),p=t("engine.io-parser"),u=t("parseuri"),f=t("parsejson"),h=t("parseqs");e.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=p.protocol,r.Socket=r,r.Transport=t("./transport"),r.transports=t("./transports"),r.parser=t("engine.io-parser"),r.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=o(this.query);return e.EIO=p.protocol,e.transport=t,this.id&&(e.sid=this.id),new i[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(h.onlyBinaryUpgrades){var e=!this.supportsBinary&&h.transport.supportsBinary;f=f||e}f||(a('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!f)if("pong"==e.type&&"probe"==e.data){if(a('probe transport "%s" pong',t),h.upgrading=!0,h.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){f||"closed"!=h.readyState&&(a("changing transport and sending upgrade packet"),p(),h.setTransport(u),u.send([{type:"upgrade"}]),h.emit("upgrade",u),u=null,h.upgrading=!1,h.flush())})}else{a('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=u.name,h.emit("upgradeError",n)}}))}function n(){f||(f=!0,p(),u.close(),u=null)}function o(e){var r=new Error("probe error: "+e);r.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',t,e),h.emit("upgradeError",r)}function i(){o("transport closed")}function s(){o("socket closed")}function c(t){u&&t.name!=u.name&&(a('"%s" works - aborting "%s"',t.name,u.name),n())}function p(){u.removeListener("open",e),u.removeListener("error",o),u.removeListener("close",i),h.removeListener("close",s),h.removeListener("upgrading",c)}a('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),f=!1,h=this;r.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",o),u.once("close",i),this.once("close",s),this.once("upgrading",c),u.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(f(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},r.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),a("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){a("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders}var o=t("engine.io-parser"),i=t("component-emitter");e.exports=r,i(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(t,e,n){(function(e){function r(t){var n=!1,r=!1,a=!1!==t.jsonp;if(e.location){var c="https:"==location.protocol,p=location.port;p||(p=c?443:80),n=t.hostname!=location.hostname||p!=t.port,r=t.secure!=c}if(t.xdomain=n,t.xscheme=r,"open"in new o(t)&&!t.forceJSONP)return new i(t);if(!a)throw new Error("JSONP disabled");return new s(t)}var o=t("xmlhttprequest-ssl"),i=t("./polling-xhr"),s=t("./polling-jsonp"),a=t("./websocket");n.polling=r,n.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(t,e,n){(function(n){function r(){}function o(t){i.call(this,t),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var e=this;a.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=r)},!1)}var i=t("./polling"),s=t("component-inherit");e.exports=o;var a,c=/\n/g,p=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=u,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),t=t.replace(p,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(t,e,n){(function(n){function r(){}function o(t){if(c.call(this,t),n.location){var e="https:"==location.protocol,r=location.port;r||(r=e?443:80),this.xd=t.hostname!=n.location.hostname||r!=t.port,this.xs=t.secure!=e}else this.extraHeaders=t.extraHeaders}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=t("xmlhttprequest-ssl"),c=t("./polling"),p=t("component-emitter"),u=t("component-inherit"),f=t("debug")("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=i,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},o.prototype.doPoll=function(){f("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},p(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),r=this;try{f("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}}catch(t){}if(this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?r.onLoad():setTimeout(function(){r.onError(e.status)},0))},f("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){r.onError(t)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(t){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),r=[],o=0,i=n.length;o<i;o++)r.push(n[o]);t=String.fromCharCode.apply(null,r)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(t,e,n){function r(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),i=t("parseqs"),s=t("engine.io-parser"),a=t("component-inherit"),c=t("yeast"),p=t("debug")("engine.io-client:polling");e.exports=r;var u=function(){return null!=new(t("xmlhttprequest-ssl"))({xdomain:!1}).responseType}();a(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){p("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(p("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){p("pre-pause polling complete"),--r||e()})),this.writable||(p("we are currently writing - waiting to pause"),r++,this.once("drain",function(){p("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;p("polling got data %s",t);var n=function(t,n,r){if("opening"==e.readyState&&e.onOpen(),"close"==t.type)return e.onClose(),!1;e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){p("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(p("transport open - closing"),t()):(p("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(t,e,n){(function(n){function r(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,o.call(this,t)}var o=t("../transport"),i=t("engine.io-parser"),s=t("parseqs"),a=t("component-inherit"),c=t("yeast"),p=t("debug")("engine.io-client:websocket"),u=n.WebSocket||n.MozWebSocket,f=u;if(!f&&"undefined"==typeof window)try{f=t("ws")}catch(t){}e.exports=r,a(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e={agent:this.agent,perMessageDeflate:this.perMessageDeflate};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(e.headers=this.extraHeaders),this.ws=u?new f(t):new f(t,void 0,e),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(t){var e=this;setTimeout(function(){o.prototype.onData.call(e,t)},0)}),r.prototype.write=function(t){function e(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var o=t.length,s=0,a=o;s<a;s++)!function(t){i.encodePacket(t,r.supportsBinary,function(i){if(!u){var s={};if(t.options&&(s.compress=t.options.compress),r.perMessageDeflate){("string"==typeof i?n.Buffer.byteLength(i):i.length)<r.perMessageDeflate.threshold&&(s.compress=!1)}}try{u?r.ws.send(i):r.ws.send(i,s)}catch(t){p("websocket closed before onclose event")}--o||e()})}(t[s])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),t=s.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},r.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===r.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(t,e,n){var r=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}},{"has-cors":22}],11:[function(t,e,n){function r(t,e,n){function r(t,o){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(i=!0,e(t),e=n):0!==r.count||i||e(null,o)}var i=!1;return n=n||o,r.count=t,0===t?e():r}function o(){}e.exports=r},{}],12:[function(t,e,n){e.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},{}],13:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(e){var n,r,o,i,s,a=.75*e.length,c=e.length,p=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),f=new Uint8Array(u);for(n=0;n<c;n+=4)r=t.indexOf(e[n]),o=t.indexOf(e[n+1]),i=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),f[p++]=r<<2|o>>4,f[p++]=(15&o)<<4|i>>2,f[p++]=(3&i)<<6|63&s;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(t,e,n){(function(t){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new i;n(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function o(t,e){return n(t),new Blob(t,e||{})}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return s?a?t.Blob:o:c?r:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],16:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],17:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r),t}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}}function a(){var t;try{t=n.storage.debug}catch(t){}return t}n=e.exports=t("./debug"),n.log=i,n.formatArgs=o,n.save=s,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(a())},{"./debug":18}],18:[function(t,e,n){function r(){return n.colors[u++%n.colors.length]}function o(t){function e(){}function o(){var t=o,e=+new Date,i=e-(p||e);t.diff=i,t.prev=p,t.curr=e,p=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(e,r){if("%%"===e)return e;a++;var o=n.formatters[r];if("function"==typeof o){var i=s[a];e=o.call(t,i),s.splice(a,1),a--}return e}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(t,s)),(o.log||n.log||console.log.bind(console)).apply(t,s)}e.enabled=!1,o.enabled=!0;var i=n.enabled(t)?o:e;return i.namespace=t,i}function i(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,o=0;o<r;o++)e[o]&&(t=e[o].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){n.enable("")}function a(t){var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=o,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var p,u=0},{ms:25}],19:[function(t,e,n){(function(e){function r(t,e){return e("b"+n.packets[t.type]+t.data.data)}function o(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=m[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,n.encodePacket(t,e,!0,r)},o.readAsArrayBuffer(t.data)}function s(t,e,r){if(!e)return n.encodeBase64Packet(t,r);if(g)return i(t,e,r);var o=new Uint8Array(1);return o[0]=m[t.type],r(new w([o.buffer,t.data]))}function a(t,e,n){for(var r=new Array(t.length),o=h(t.length,n),i=0;i<t.length;i++)!function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})}(i,t[i],o)}var c=t("./keys"),p=t("has-binary"),u=t("arraybuffer.slice"),f=t("base64-arraybuffer"),h=t("after"),l=t("utf8"),d=navigator.userAgent.match(/Android/i),y=/PhantomJS/i.test(navigator.userAgent),g=d||y;n.protocol=3;var m=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=c(m),v={type:"error",data:"parser error"},w=t("blob");n.encodePacket=function(t,n,i,a){"function"==typeof n&&(a=n,n=!1),
"function"==typeof i&&(a=i,i=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return o(t,n,a);if(w&&c instanceof e.Blob)return s(t,n,a);if(c&&c.base64)return r(t,a);var p=m[t.type];return void 0!==t.data&&(p+=i?l.encode(String(t.data)):String(t.data)),a(""+p)},n.encodeBase64Packet=function(t,r){var o="b"+n.packets[t.type];if(w&&t.data instanceof e.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];r(o+t)},i.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var a=new Uint8Array(t.data),c=new Array(a.length),p=0;p<a.length;p++)c[p]=a[p];s=String.fromCharCode.apply(null,c)}return o+=e.btoa(s),r(o)},n.decodePacket=function(t,e,r){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(r)try{t=l.decode(t)}catch(t){return v}var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:v}var i=new Uint8Array(t),o=i[0],s=u(t,1);return w&&"blob"===e&&(s=new w([s])),{type:b[o],data:s}},n.decodeBase64Packet=function(t,n){var r=b[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var o=f.decode(t.substr(1));return"blob"===n&&w&&(o=new w([o])),{type:r,data:o}},n.encodePayload=function(t,e,r){function o(t){return t.length+":"+t}function i(t,r){n.encodePacket(t,!!s&&e,!0,function(t){r(null,o(t))})}"function"==typeof e&&(r=e,e=null);var s=p(t);return e&&s?w&&!g?n.encodePayloadAsBlob(t,r):n.encodePayloadAsArrayBuffer(t,r):t.length?void a(t,i,function(t,e){return r(e.join(""))}):r("0:")},n.decodePayload=function(t,e,r){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,r);"function"==typeof e&&(r=e,e=null);var o;if(""==t)return r(v,0,1);for(var i,s,a="",c=0,p=t.length;c<p;c++){var u=t.charAt(c);if(":"!=u)a+=u;else{if(""==a||a!=(i=Number(a)))return r(v,0,1);if(s=t.substr(c+1,i),a!=s.length)return r(v,0,1);if(s.length){if(o=n.decodePacket(s,e,!0),v.type==o.type&&v.data==o.data)return r(v,0,1);if(!1===r(o,c+i,p))return}c+=i,a=""}}return""!=a?r(v,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}if(!t.length)return e(new ArrayBuffer(0));a(t,r,function(t,n){var r=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}o[i++]=e?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),e(o.buffer)})},n.encodePayloadAsBlob=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,n[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,w){var c=new w([n.buffer,a.buffer,t]);e(null,c)}})}a(t,r,function(t,n){return e(new w(n))})},n.decodePayloadAsBinary=function(t,e,r){"function"==typeof e&&(r=e,e=null);for(var o=t,i=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],p="",f=1;255!=a[f];f++){if(p.length>310){s=!0;break}p+=a[f]}if(s)return r(v,0,1);o=u(o,2+p.length),p=parseInt(p);var h=u(o,0,p);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var l=new Uint8Array(h);h="";for(var f=0;f<l.length;f++)h+=String.fromCharCode(l[f])}i.push(h),o=u(o,p)}var d=i.length;i.forEach(function(t,o){r(n.decodePacket(t,e,!0),o,d)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},{}],21:[function(t,e,n){(function(n){function r(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(o(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(t,e,n){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},{}],23:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],24:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],25:[function(t,e,n){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*p;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(t){return t>=u?Math.round(t/u)+"d":t>=p?Math.round(t/p)+"h":t>=c?Math.round(t/c)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function i(t){return s(t,u,"day")||s(t,p,"hour")||s(t,c,"minute")||s(t,a,"second")||t+" ms"}function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,c=60*a,p=60*c,u=24*p,f=365.25*u;e.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e.long?i(t):o(t)}},{}],26:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},{}],28:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=r.exec(t||""),a={},c=14;c--;)a[o[c]]=s[c]||"";return-1!=n&&-1!=i&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],29:[function(e,n,r){(function(e){!function(o){function i(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function s(t){for(var e,n=t.length,r=-1,o="";++r<n;)e=t[r],e>65535&&(e-=65536,o+=w(e>>>10&1023|55296),e=56320|1023&e),o+=w(e);return o}function a(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function c(t,e){return w(t>>e&63|128)}function p(t){if(0==(4294967168&t))return w(t);var e="";return 0==(4294965248&t)?e=w(t>>6&31|192):0==(4294901760&t)?(a(t),e=w(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=w(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=w(63&t|128)}function u(t){for(var e,n=i(t),r=n.length,o=-1,s="";++o<r;)e=n[o],s+=p(e);return s}function f(){if(v>=b)throw Error("Invalid byte index");var t=255&m[v];if(v++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(){var t,e,n,r,o;if(v>b)throw Error("Invalid byte index");if(v==b)return!1;if(t=255&m[v],v++,0==(128&t))return t;if(192==(224&t)){var e=f();if((o=(31&t)<<6|e)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=f(),n=f(),(o=(15&t)<<12|e<<6|n)>=2048)return a(o),o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=f(),n=f(),r=f(),(o=(15&t)<<18|e<<12|n<<6|r)>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function l(t){m=i(t),b=m.length,v=0;for(var e,n=[];!1!==(e=h());)n.push(e);return s(n)}var d="object"==typeof r&&r,y="object"==typeof n&&n&&n.exports==d&&n,g="object"==typeof e&&e;g.global!==g&&g.window!==g||(o=g);var m,b,v,w=String.fromCharCode,k={version:"2.0.0",encode:u,decode:l};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return k});else if(d&&!d.nodeType)if(y)y.exports=k;else{var x={},A=x.hasOwnProperty;for(var B in k)A.call(k,B)&&(d[B]=k[B])}else o.utf8=k}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(t,e,n){"use strict";function r(t){var e="";do{e=a[t%c]+e,t=Math.floor(t/c)}while(t>0);return e}function o(t){var e=0;for(f=0;f<t.length;f++)e=e*c+p[t.charAt(f)];return e}function i(){var t=r(+new Date);return t!==s?(u=0,s=t):t+"."+r(u++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,p={},u=0,f=0;f<c;f++)p[a[f]]=f;i.encode=r,i.decode=o,e.exports=i},{}],31:[function(t,e,n){function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=o(t),i=r.source,p=r.id,u=r.path,f=c[p]&&u in c[p].nsps,h=e.forceNew||e["force new connection"]||!1===e.multiplex||f;return h?(a("ignoring socket cache for %s",i),n=s(i,e)):(c[p]||(a("new io instance for %s",i),c[p]=s(i,e)),n=c[p]),n.socket(r.path)}var o=t("./url"),i=t("socket.io-parser"),s=t("./manager"),a=t("debug")("socket.io-client");e.exports=n=r;var c=n.managers={};n.protocol=i.protocol,n.connect=r,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var o=t("engine.io-client"),i=t("./socket"),s=t("component-emitter"),a=t("socket.io-parser"),c=t("./on"),p=t("component-bind"),u=t("debug")("socket.io-client:manager"),f=t("indexof"),h=t("backo2"),l=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)l.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)l.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},s(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=o(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=c(e,"open",function(){n.onopen(),t&&t()}),i=c(e,"error",function(e){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;u("connect attempt will timeout after %d",s);var a=setTimeout(function(){u("connect attempt timed out after %d",s),r.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(r),this.subs.push(i),this},r.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",p(this,"ondata"))),this.subs.push(c(t,"ping",p(this,"onping"))),this.subs.push(c(t,"pong",p(this,"onpong"))),this.subs.push(c(t,"error",p(this,"onerror"))),this.subs.push(c(t,"close",p(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",p(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},r.prototype.socket=function(t){function e(){~f(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[t];if(!n){n=new i(this,t),this.nsps[t]=n;var r=this;n.on("connecting",e),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&e()}return n},r.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},r.prototype.packet=function(t){u("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){u("cleanup");for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(t,e,n){function r(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=r},{}],34:[function(t,e,n){function r(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var o=t("socket.io-parser"),i=t("component-emitter"),s=t("to-array"),a=t("./on"),c=t("component-bind"),p=t("debug")("socket.io-client:socket"),u=t("has-binary");e.exports=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",c(this,"onopen")),a(t,"packet",c(this,"onpacket")),a(t,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(f.hasOwnProperty(t))return h.apply(this,arguments),this;var e=s(arguments),n=o.EVENT;u(e)&&(n=o.BINARY_EVENT);var r={type:n,data:e};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(p("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){p("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},r.prototype.onclose=function(t){p("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];p("emitting event %j",e),null!=t.id&&(p("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);p("sending ack %j",r);var i=u(r)?o.BINARY_ACK:o.ACK;e.packet({type:i,id:t,data:r})}}},r.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(p("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):p("bad ack %s",t.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){p("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(p("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(t,e,n){(function(n){function r(t,e){var r=t,e=e||n.location;null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var s=-1!==r.host.indexOf(":"),a=s?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port,r.href=r.protocol+"://"+a+(e&&e.port==r.port?"":":"+r.port),r}var o=t("parseuri"),i=t("debug")("socket.io-client:url");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(t,e,n){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},{}],37:[function(t,e,n){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],38:[function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],39:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(t,e,n){(function(n){function r(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(o(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(t,e,n){(function(e){var r=t("isarray"),o=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(r(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a]);return s}if("object"==typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c]);return s}return t}var n=[],i=t.data,s=t;return s.data=e(i),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){return e[t.num]}if(r(t)){for(var o=0;o<t.length;o++)t[o]=n(t[o]);return t}if(t&&"object"==typeof t){for(var i in t)t[i]=n(t[i]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function i(t,c,p){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){s++;var u=new FileReader;u.onload=function(){p?p[c]=this.result:a=this.result,--s||n(a)},u.readAsArrayBuffer(t)}else if(r(t))for(var f=0;f<t.length;f++)i(t[f],f,t);else if(t&&"object"==typeof t&&!o(t))for(var h in t)i(t[h],h,t)}var s=0,a=t;i(a),s||n(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(t,e,n){function r(){}function o(t){var e="",r=!1;return e+=t.type,n.BINARY_EVENT!=t.type&&n.BINARY_ACK!=t.type||(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(r=!0,e+=t.nsp),null!=t.id&&(r&&(e+=",",r=!1),e+=t.id),null!=t.data&&(r&&(e+=","),e+=f.stringify(t.data)),u("encoded %j as %s",t,e),e}function i(t,e){function n(t){var n=l.deconstructPacket(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)}l.removeBlobs(t,n)}function s(){this.reconstructor=null}function a(t){var e={},r=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return p();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var o="";"-"!=t.charAt(++r)&&(o+=t.charAt(r),r!=t.length););if(o!=Number(o)||"-"!=t.charAt(r))throw new Error("Illegal attachments");e.attachments=Number(o)}if("/"==t.charAt(r+1))for(e.nsp="";++r;){var i=t.charAt(r);if(","==i)break;if(e.nsp+=i,r==t.length)break}else e.nsp="/";var s=t.charAt(r+1);if(""!==s&&Number(s)==s){for(e.id="";++r;){var i=t.charAt(r);if(null==i||Number(i)!=i){--r;break}if(e.id+=t.charAt(r),r==t.length)break}e.id=Number(e.id)}if(t.charAt(++r))try{e.data=f.parse(t.substr(r))}catch(t){return p()}return u("decoded %s as %j",t,e),e}function c(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:n.ERROR,data:"parser error"}}var u=t("debug")("socket.io-parser"),f=t("json3"),h=(t("isarray"),t("component-emitter")),l=t("./binary"),d=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=s,r.prototype.encode=function(t,e){if(u("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)i(t,e);else{e([o(t)])}},h(s.prototype),s.prototype.add=function(t){var e;if("string"==typeof t)e=a(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new c(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!d(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=l.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(e,n,r){(function(e){(function(){function o(t,e){function n(t){if(n[t]!==g)return n[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,u="function"==typeof c&&v;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===c(0)&&"0"===c(new r)&&'""'==c(new i)&&c(b)===g&&c(g)===g&&c()===g&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,b,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new p(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new p(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new p(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new p(-1))}catch(t){u=!1}}o=u}if("json-parse"==t){var f=e.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){s=f(a);var h=5==s.a.length&&1===s.a[0];if(h){try{h=!f('"\t"')}catch(t){}if(h)try{h=1!==f("01")}catch(t){}if(h)try{h=1!==f("1.")}catch(t){}}}}catch(t){h=!1}o=h}}return n[t]=!!o}t||(t=c.Object()),e||(e=c.Object());var r=t.Number||c.Number,i=t.String||c.String,a=t.Object||c.Object,p=t.Date||c.Date,u=t.SyntaxError||c.SyntaxError,f=t.TypeError||c.TypeError,h=t.Math||c.Math,l=t.JSON||c.JSON;"object"==typeof l&&l&&(e.stringify=l.stringify,e.parse=l.parse);var d,y,g,m=a.prototype,b=m.toString,v=new p(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(t){}if(!n("json")){var w=n("bug-string-char-index");if(!v)var k=h.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(t,e){return x[e]+365*(t-1970)+k((t-1969+(e=+(e>1)))/4)-k((t-1901+e)/100)+k((t-1601+e)/400)};if((d=m.hasOwnProperty)||(d=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?d=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,d=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,d.call(this,t)}),y=function(t,e){var n,r,o,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)d.call(r,o)&&i++;return n=r=null,i?y=2==i?function(t,e){var n,r={},o="[object Function]"==b.call(t);for(n in t)o&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(t,n)||e(n)}:function(t,e){var n,r,o="[object Function]"==b.call(t);for(n in t)o&&"prototype"==n||!d.call(t,n)||(r="constructor"===n)||e(n)
;(r||d.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(t,e){var n,o,i="[object Function]"==b.call(t),a=!i&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(n in t)i&&"prototype"==n||!a.call(t,n)||e(n);for(o=r.length;n=r[--o];a.call(t,n)&&e(n));}),y(t,e)},!n("json-stringify")){var B={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C=function(t,e){return("000000"+(e||0)).slice(-t)},S=function(t){for(var e='"',n=0,r=t.length,o=!w||r>10,i=o&&(w?t.split(""):t);n<r;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=B[s];break;default:if(s<32){e+="\\u00"+C(2,s.toString(16));break}e+=o?i[n]:t.charAt(n)}}return e+'"'},j=function(t,e,n,r,o,i,s){var a,c,p,u,h,l,m,v,w,x,B,E,_,T,O,N;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(c=b.call(a))||d.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||d.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(A){for(h=k(a/864e5),p=k(h/365.2425)+1970-1;A(p+1,0)<=h;p++);for(u=k((h-A(p,0))/30.42);A(p,u+1)<=h;u++);h=1+h-A(p,u),l=(a%864e5+864e5)%864e5,m=k(l/36e5)%24,v=k(l/6e4)%60,w=k(l/1e3)%60,x=l%1e3}else p=a.getUTCFullYear(),u=a.getUTCMonth(),h=a.getUTCDate(),m=a.getUTCHours(),v=a.getUTCMinutes(),w=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(p<=0||p>=1e4?(p<0?"-":"+")+C(6,p<0?-p:p):C(4,p))+"-"+C(2,u+1)+"-"+C(2,h)+"T"+C(2,m)+":"+C(2,v)+":"+C(2,w)+"."+C(3,x)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=b.call(a)))return""+a;if("[object Number]"==c)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==c)return S(""+a);if("object"==typeof a){for(T=s.length;T--;)if(s[T]===a)throw f();if(s.push(a),B=[],O=i,i+=o,"[object Array]"==c){for(_=0,T=a.length;_<T;_++)E=j(_,a,n,r,o,i,s),B.push(E===g?"null":E);N=B.length?o?"[\n"+i+B.join(",\n"+i)+"\n"+O+"]":"["+B.join(",")+"]":"[]"}else y(r||a,function(t){var e=j(t,a,n,r,o,i,s);e!==g&&B.push(S(t)+":"+(o?" ":"")+e)}),N=B.length?o?"{\n"+i+B.join(",\n"+i)+"\n"+O+"}":"{"+B.join(",")+"}":"{}";return s.pop(),N}};e.stringify=function(t,e,n){var r,o,i,a;if(s[typeof e]&&e)if("[object Function]"==(a=b.call(e)))o=e;else if("[object Array]"==a){i={};for(var c,p=0,u=e.length;p<u;c=e[p++],("[object String]"==(a=b.call(c))||"[object Number]"==a)&&(i[c]=1));}if(n)if("[object Number]"==(a=b.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return j("",(c={},c[""]=t,c),o,i,r,"",[])}}if(!n("json-parse")){var E,_,T=i.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},N=function(){throw E=_=null,u()},P=function(){for(var t,e,n,r,o,i=_,s=i.length;E<s;)switch(o=i.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=w?i.charAt(E):i[E],E++,t;case 34:for(t="@",E++;E<s;)if((o=i.charCodeAt(E))<32)N();else if(92==o)switch(o=i.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=O[o],E++;break;case 117:for(e=++E,n=E+4;E<n;E++)(o=i.charCodeAt(E))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||N();t+=T("0x"+i.slice(e,E));break;default:N()}else{if(34==o)break;for(o=i.charCodeAt(E),e=E;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++E);t+=i.slice(e,E)}if(34==i.charCodeAt(E))return E++,t;N();default:if(e=E,45==o&&(r=!0,o=i.charCodeAt(++E)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(E+1))>=48&&o<=57&&N(),r=!1;E<s&&(o=i.charCodeAt(E))>=48&&o<=57;E++);if(46==i.charCodeAt(E)){for(n=++E;n<s&&(o=i.charCodeAt(n))>=48&&o<=57;n++);n==E&&N(),E=n}if(101==(o=i.charCodeAt(E))||69==o){for(o=i.charCodeAt(++E),43!=o&&45!=o||E++,n=E;n<s&&(o=i.charCodeAt(n))>=48&&o<=57;n++);n==E&&N(),E=n}return+i.slice(e,E)}if(r&&N(),"true"==i.slice(E,E+4))return E+=4,!0;if("false"==i.slice(E,E+5))return E+=5,!1;if("null"==i.slice(E,E+4))return E+=4,null;N()}return"$"},R=function(t){var e,n;if("$"==t&&N(),"string"==typeof t){if("@"==(w?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=P());n||(n=!0))n&&(","==t?"]"==(t=P())&&N():N()),","==t&&N(),e.push(R(t));return e}if("{"==t){for(e={};"}"!=(t=P());n||(n=!0))n&&(","==t?"}"==(t=P())&&N():N()),","!=t&&"string"==typeof t&&"@"==(w?t.charAt(0):t[0])&&":"==P()||N(),e[t.slice(1)]=R(P());return e}N()}return t},D=function(t,e,n){var r=U(t,e,n);r===g?delete t[e]:t[e]=r},U=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if("[object Array]"==b.call(o))for(r=o.length;r--;)D(o,r,n);else y(o,function(t){D(o,t,n)});return n.call(t,e,o)};e.parse=function(t,e){var n,r;return E=0,_=""+t,n=R(P()),"$"!=P()&&N(),E=_=null,e&&"[object Function]"==b.call(e)?U((r={},r[""]=n,r),"",e):n}}}return e.runInContext=o,e}var i="function"==typeof t&&t.amd,s={function:!0,object:!0},a=s[typeof r]&&r&&!r.nodeType&&r,c=s[typeof window]&&window||this,p=a&&s[typeof n]&&n&&!n.nodeType&&"object"==typeof e&&e;if(!p||p.global!==p&&p.window!==p&&p.self!==p||(c=p),a&&!i)o(c,a);else{var u=c.JSON,f=c.JSON3,h=!1,l=o(c,c.JSON3={noConflict:function(){return h||(h=!0,c.JSON=u,c.JSON3=f,u=f=null),l}});c.JSON={parse:l.parse,stringify:l.stringify}}i&&t(function(){return l})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(t,e,n){function r(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}e.exports=r},{}]},{},[31])(31)});
!function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function s(t){return function(){return this[t].apply(this,arguments)}}function n(e,i){function a(t,e){return e.toLowerCase()}var s,n=t(e).data(),r={},h=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var o in n)i.test(o)&&(s=o.replace(h,a),r[s]=n[o]);return r}function r(e){var i={};if(f[e]||(e=e.split("-")[0],f[e])){var a=f[e];return t.each(p,function(t,e){e in a&&(i[e]=a[e])}),i}}var h=t(window),o=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,a=this.length;i<a;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new o;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),d=function(e,i){this.dates=new o,this.viewDate=a(),this.focusDate=null,this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),a=i.language;switch(f[a]||(a=a.split("-")[0],f[a]||(a=u.language)),i.language=a,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),!0!==i.multidate&&(i.multidate=Number(i.multidate)||!1,!1!==i.multidate?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var s=g.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(i.startDate):i.startDate=g.parseDate(i.startDate,s,i.language):i.startDate=-1/0),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(i.endDate):i.endDate=g.parseDate(i.endDate,s,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var n=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(n=t.grep(n,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===n.length)switch(n[0]){case"top":case"bottom":i.orientation.y=n[0];break;case"left":case"right":i.orientation.x=n[0]}else r=t.grep(n,function(t){return/^left|right$/.test(t)}),i.orientation.x=r[0]||"auto",r=t.grep(n,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=r[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,a,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(i=void 0,a=t[s][1]):3===t[s].length&&(i=t[s][1],a=t[s][2]),e.on(a,i)},_unapplyEvents:function(t){for(var e,i,a,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(a=void 0,i=t[s][1]):3===t[s].length&&(a=t[s][1],i=t[s][2]),e.off(i,a)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var a=i||this.dates.get(-1),s=this._utc_to_local(a);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return g.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t},_local_to_utc:function(t){return t},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(e){void 0===e&&(e=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,e,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),a=h.width(),s=h.height(),n=h.scrollTop(),r=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+1001,o=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),c=o.left,u=o.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(c-=e-l)):(this.picker.addClass("datepicker-orient-left"),o.left<0?c-=o.left-10:o.left+e>a&&(c=a-e-10));var p,f,g=this.o.orientation.y;"auto"===g&&(p=-n+o.top-i,f=n+s-(o.top+d+i),g=Math.max(p,f)===f?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?u+=d:u-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:u,left:c,zIndex:r})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],a=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),a=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),a?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],a=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),n=new Date;return e.getUTCFullYear()<a||e.getUTCFullYear()===a&&e.getUTCMonth()<s?i.push("old"):(e.getUTCFullYear()>a||e.getUTCFullYear()===a&&e.getUTCMonth()>s)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===n.getFullYear()&&e.getUTCMonth()===n.getMonth()&&e.getUTCDate()===n.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var e,a=new Date(this.viewDate),s=a.getUTCFullYear(),n=a.getUTCMonth(),r=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,h=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,o=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,l=f[this.o.language].today||f.en.today||"",c=f[this.o.language].clear||f.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[n]+" "+s),this.picker.find("tfoot th.today").text(l).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(c).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var u=i(s,n-1,28),p=g.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(p),u.setUTCDate(p-(u.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(u);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var D,m=[];u.valueOf()<v;){if(u.getUTCDay()===this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)){var y=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),w=new Date(Number(y)+(11-y.getUTCDay())%7*864e5),k=new Date(Number(k=i(w.getUTCFullYear(),0,1))+(11-k.getUTCDay())%7*864e5),C=(w-k)/864e5/7+1;m.push('<td class="cw">'+C+"</td>")}if(D=this.getClassNames(u),D.push("day"),this.o.beforeShowDay!==t.noop){var _=this.o.beforeShowDay(this._utc_to_local(u));void 0===_?_={}:"boolean"==typeof _?_={enabled:_}:"string"==typeof _&&(_={classes:_}),!1===_.enabled&&D.push("disabled"),_.classes&&(D=D.concat(_.classes.split(/\s+/))),_.tooltip&&(e=_.tooltip)}D=t.unique(D),m.push('<td class="'+D.join(" ")+'"'+(e?' title="'+e+'"':"")+">"+u.getUTCDate()+"</td>"),u.getUTCDay()===this.o.weekEnd&&m.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var T=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&T.eq(e.getUTCMonth()).addClass("active")}),(s<r||s>o)&&T.addClass("disabled"),s===r&&T.slice(0,h).addClass("disabled"),s===o&&T.slice(d+1).addClass("disabled"),m="",s=10*parseInt(s/10,10);var b=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var U,M=t.map(this.dates,function(t){return t.getUTCFullYear()}),x=-1;x<11;x++)U=["year"],-1===x?U.push("old"):10===x&&U.push("new"),-1!==t.inArray(s,M)&&U.push("active"),(s<r||s>o)&&U.push("disabled"),m+='<span class="'+U.join(" ")+'">'+s+"</span>",s+=1;b.html(m)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var a,s,n,r=t(e.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var h=g.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,h),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,h),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var o=new Date;o=i(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(o,d);break;case"clear":var l;this.isInput?l=this.element:this.component&&(l=this.element.find("input")),l&&l.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(n=1,s=r.parent().find("span").index(r),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(a,s,n))):(n=1,s=0,a=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(a),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(a,s,n))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(n=parseInt(r.text(),10)||1,a=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r.is(".old")?0===s?(s=11,a-=1):s-=1:r.is(".new")&&(11===s?(s=0,a+=1):s+=1),this._setDate(i(a,s,n)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1==e&&this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(t){if(!e)return t;var i,a,s=new Date(t.valueOf()),n=s.getUTCDate(),r=s.getUTCMonth(),h=Math.abs(e);if(e=e>0?1:-1,1===h)a=-1===e?function(){return s.getUTCMonth()===r}:function(){return s.getUTCMonth()!==i},i=r+e,s.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var o=0;o<h;o++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(n),a=function(){return i!==s.getUTCMonth()}}for(;a();)s.setUTCDate(--n),s.setUTCMonth(i);return s}},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,i,s,n=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||a(),e),s=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||a(),e),s=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||a()),i.setUTCDate(i.getUTCDate()+e),s=new Date(r),s.setUTCDate(r.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||a(),e),s=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||a(),e),s=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||a()),i.setUTCDate(i.getUTCDate()+7*e),s=new Date(r),s.setUTCDate(r.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(r),n=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var l=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),a=i.getUTCDate(),s=t.inArray(e.target,this.inputs),n=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(a)}),a<this.dates[s])for(;s>=0&&a<this.dates[s];)this.pickers[s--].setUTCDate(a);else if(a>this.dates[s])for(;s<n&&a>this.dates[s];)this.pickers[s++].setUTCDate(a);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var c=t.fn.datepicker;t.fn.datepicker=function(e){var i=Array.apply(null,arguments);i.shift();var a;return this.each(function(){var s=t(this),h=s.data("datepicker"),o="object"==typeof e&&e;if(!h){var c=n(this,"date"),p=t.extend({},u,c,o),f=r(p.language),g=t.extend({},u,f,c,o);if(s.is(".input-daterange")||g.inputs){var v={inputs:g.inputs||s.find("input").toArray()};s.data("datepicker",h=new l(this,t.extend(g,v)))}else s.data("datepicker",h=new d(this,g))}if("string"==typeof e&&"function"==typeof h[e]&&void 0!==(a=h[e].apply(h,i)))return!1}),void 0!==a?a:this};var u=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=d;var f=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,g.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(e,a,s){function n(){var t=this.slice(0,c[o].length);return t===c[o].slice(0,t.length)}if(e){if(e instanceof Date)return e;"string"==typeof a&&(a=g.parseFormat(a));var r,h,o,l=/([\-+]\d+)([dmwy])/,c=e.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,o=0;o<c.length;o++)switch(r=l.exec(c[o]),h=parseInt(r[1]),r[2]){case"d":e.setUTCDate(e.getUTCDate()+h);break;case"m":e=d.prototype.moveMonth.call(d.prototype,e,h);break;case"w":e.setUTCDate(e.getUTCDate()+7*h);break;case"y":e=d.prototype.moveYear.call(d.prototype,e,h)}return i(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}c=e&&e.match(this.nonpunctuation)||[],e=new Date;var u,p,v={},D=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};m.M=m.MM=m.mm=m.m,m.dd=m.d,e=i(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);var y=a.parts.slice();if(c.length!==y.length&&(y=t(y).filter(function(e,i){return-1!==t.inArray(i,D)}).toArray()),c.length===y.length){var w;for(o=0,w=y.length;o<w;o++){if(u=parseInt(c[o],10),r=y[o],isNaN(u))switch(r){case"MM":p=t(f[s].months).filter(n),u=t.inArray(p[0],f[s].months)+1;break;case"M":p=t(f[s].monthsShort).filter(n),u=t.inArray(p[0],f[s].monthsShort)+1}v[r]=u}var k,C;for(o=0;o<D.length;o++)(C=D[o])in v&&!isNaN(v[C])&&(k=new Date(e),m[C](k,v[C]),isNaN(k)||(e=k))}return e}},formatDate:function(e,i,a){if(!e)return"";"string"==typeof i&&(i=g.parseFormat(i));var s={d:e.getUTCDate(),D:f[a].daysShort[e.getUTCDay()],DD:f[a].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[a].monthsShort[e.getUTCMonth()],MM:f[a].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var n=t.extend([],i.separators),r=0,h=i.parts.length;r<=h;r++)n.length&&e.push(n.shift()),e.push(s[i.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery);
this.sitemapstyler=function(){var e=document.getElementById("sitemap");if(e){this.listItem=function(e){if(e.getElementsByTagName("ul").length>0){var t=e.getElementsByTagName("ul")[0];t.style.display="none";var l=document.createElement("span");l.className="collapsed",l.onclick=function(){t.style.display="none"==t.style.display?"block":"none",this.className="none"==t.style.display?"collapsed":"expanded"},e.appendChild(l)}};for(var t=e.getElementsByTagName("li"),l=0;l<t.length;l++)listItem(t[l])}},window.onload=sitemapstyler;
window.__twttrlr||(!function(t,e){function n(t){for(var e,n=1;e=arguments[n];n++)for(var r in e)t[r]=e[r];return t}function r(t){return Array.prototype.slice.call(t)}function i(t,e){for(var n,r=0;n=t[r];r++)if(e==n)return r;return-1}function o(){for(var t=r(arguments),e=[],n=0,i=t.length;n<i;n++)t[n].length>0&&e.push(t[n].replace(/\/$/,""));return e.join("/")}function a(t,e,n){for(var r=e.split("/"),i=t;r.length>1;){var o=r.shift();i=i[o]=i[o]||{}}i[r[0]]=n}function s(){}function l(t,e){this.id=this.path=t,this.force=!!e}function u(t,e){this.id=t,this.body=e,void 0===e&&(this.path=this.resolvePath(t))}function c(t,e){this.deps=t,this.collectResults=e,0==this.deps.length&&this.complete()}function d(t,e){this.deps=t,this.collectResults=e}function h(){for(var t in F)if("interactive"==F[t].readyState)return M[F[t].id]}function f(t,e){var n;return!t&&j&&(n=N||h()),n?(delete M[n.scriptId],n.body=e,n.execute()):(k=n=new u(t,e),C[n.id]=n),n}function w(){var t,e,n=r(arguments);return"string"==typeof n[0]&&(t=n.shift()),e=n.shift(),f(t,e)}function p(t,e){var n=e.id||"",r=n.split("/");r.pop();var i=r.join("/");return t.replace(/^\./,i)}function m(t,e){function n(t){return u.exports[p(t,e)]}for(var r=[],i=0,o=t.length;i<o;i++)"require"!=t[i]?"exports"!=t[i]?r.push(n(t[i])):(e.exports=e.exports||{},r.push(e.exports)):r.push(n);return r}function g(){var t,e,n=r(arguments),o=[];return"string"==typeof n[0]&&(t=n.shift()),z(n[0])&&(o=n.shift()),e=n.shift(),f(t,function(t){function n(){var n,i=m(r(o),a);n="function"==typeof e?e.apply(a,i):e,void 0===n&&(n=a.exports),t(n)}for(var a=this,s=[],l=0,u=o.length;l<u;l++){var c=o[l];-1==i(["require","exports"],c)&&s.push(p(c,a))}s.length>0?v.apply(this,s.concat(n)):n()})}function v(){var t,e,n=r(arguments);"function"==typeof n[n.length-1]&&(t=n.pop()),"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=new c(_(n,e),e);return t&&i.then(t),i}function _(t,e){for(var n,r=[],i=0;n=t[i];i++)"string"==typeof n&&(n=y(n)),z(n)&&(n=new d(_(n,e),e)),r.push(n);return r}function y(t){for(var e,n=0;e=v.matchers[n];n++){var r=e[0],i=e[1];if(t.match(r))return i(t)}throw new Error(t+" was not recognised by loader")}function b(){return t.using=O,t.provide=I,t.define=R,t.loadrunner=$,P}function T(t){for(var e=0;e<v.bundles.length;e++)for(var n in v.bundles[e])if(n!=t&&i(v.bundles[e][n],t)>-1)return n}for(var x,k,N,E,j=t.attachEvent&&!t.opera,F=e.getElementsByTagName("script"),S=0,K=e.createElement("script"),A={},C={},M={},O=t.using,I=t.provide,R=t.define,$=t.loadrunner,L=0;E=F[L];L++)if(E.src.match(/loadrunner\.js(\?|#|$)/)){x=E;break}var z=Array.isArray||function(t){return t.constructor==Array};s.prototype.then=function(e){return this.started||(this.started=!0,this.start()),this.completed?e.apply(t,this.results):(this.callbacks=this.callbacks||[],this.callbacks.push(e)),this},s.prototype.start=function(){},s.prototype.complete=function(){if(!this.completed&&(this.results=r(arguments),this.completed=!0,this.callbacks))for(var e,n=0;e=this.callbacks[n];n++)e.apply(t,this.results)},l.loaded=[],l.prototype=new s,l.prototype.start=function(){var t,e,n,r=this;return(n=C[this.id])?(n.then(function(){r.complete()}),this):((t=A[this.id])?t.then(function(){r.loaded()}):!this.force&&i(l.loaded,this.id)>-1?this.loaded():(e=T(this.id))?v(e,function(){r.loaded()}):this.load(),this)},l.prototype.load=function(){var e=this;A[this.id]=e;var n=K.cloneNode(!1);this.scriptId=n.id="LR"+ ++S,n.type="text/javascript",n.async=!0,n.onerror=function(){throw new Error(e.path+" not loaded")},n.onreadystatechange=n.onload=function(n){n=t.event||n,("load"==n.type||i(["loaded","complete"],this.readyState)>-1)&&(this.onreadystatechange=null,e.loaded())},n.src=this.path,N=this,F[0].parentNode.insertBefore(n,F[0]),N=null,M[n.id]=this},l.prototype.loaded=function(){this.complete()},l.prototype.complete=function(){-1==i(l.loaded,this.id)&&l.loaded.push(this.id),delete A[this.id],s.prototype.complete.apply(this,arguments)},u.exports={},u.prototype=new l,u.prototype.resolvePath=function(t){return o(v.path,t+".js")},u.prototype.start=function(){var t,e,n=this;this.body?this.execute():(t=u.exports[this.id])?this.exp(t):(e=C[this.id])?e.then(function(t){n.exp(t)}):(bundle=T(this.id))?v(bundle,function(){n.start()}):(C[this.id]=this,this.load())},u.prototype.loaded=function(){var t,e,n=this;j?(e=u.exports[this.id])?this.exp(e):(t=C[this.id])&&t.then(function(t){n.exp(t)}):(t=k,k=null,t.id=t.id||this.id,t.then(function(t){n.exp(t)}))},u.prototype.complete=function(){delete C[this.id],l.prototype.complete.apply(this,arguments)},u.prototype.execute=function(){var t=this;"object"==typeof this.body?this.exp(this.body):"function"==typeof this.body&&this.body.apply(window,[function(e){t.exp(e)}])},u.prototype.exp=function(t){this.complete(this.exports=u.exports[this.id]=t||{})},c.prototype=new s,c.prototype.start=function(){function t(){var t=[];r.collectResults&&(t[0]={});for(var e,i=0;e=r.deps[i];i++){if(!e.completed)return;e.results.length>0&&(r.collectResults?e instanceof d?n(t[0],e.results[0]):a(t[0],e.id,e.results[0]):t=t.concat(e.results))}r.complete.apply(r,t)}for(var e,r=this,i=0;e=this.deps[i];i++)e.then(t);return this},d.prototype=new s,d.prototype.start=function(){var t=this,e=0,r=[];return t.collectResults&&(r[0]={}),function i(){var o=t.deps[e++];o?o.then(function(e){o.results.length>0&&(t.collectResults?o instanceof d?n(r[0],o.results[0]):a(r[0],o.id,o.results[0]):r.push(o.results[0])),i()}):t.complete.apply(t,r)}(),this},g.amd={};var P=function(t){return t(v,w,P,define)};P.Script=l,P.Module=u,P.Collection=c,P.Sequence=d,P.Dependency=s,P.noConflict=b,t.loadrunner=P,t.using=v,t.provide=w,t.define=g,v.path="",v.matchers=[],v.matchers.add=function(t,e){this.unshift([t,e])},v.matchers.add(/(^script!|\.js$)/,function(t){var e=new l(t.replace(/^\$/,v.path.replace(/\/$/,"")+"/").replace(/^script!/,""),!1);return e.id=t,e}),v.matchers.add(/^[a-zA-Z0-9_\-\/]+$/,function(t){return new u(t)}),v.bundles=[],x&&(v.path=x.getAttribute("data-path")||x.src.split(/loadrunner\.js/)[0]||"",(main=x.getAttribute("data-main"))&&v.apply(t,main.split(/\s*,\s*/)).then(function(){}))}(this,document),window.__twttrlr=loadrunner.noConflict()),__twttrlr(function(using,provide,loadrunner,define){provide("util/iframe",function(t){t(function(t){var e,n=document.createElement("div");if(n.innerHTML="<iframe allowtransparency='true' frameborder='0' scrolling='no'></iframe>",e=n.firstChild,e.src=t.url,e.className=t.className||"",t.css)for(var r in t.css)e.style[r]=t.css[r];if(t.attributes)for(var i in t.attributes)e.setAttribute(i,t.attributes[i]);return t.replace?t.replace.parentNode.replaceChild(e,t.replace):document.body.insertBefore(e,document.body.firstChild),e})}),provide("util/querystring",function(t){function e(t){return encodeURIComponent(t).replace(/\+/g,"%2B")}function n(t){return decodeURIComponent(t)}function r(t){var n=[];for(var r in t)null!==t[r]&&void 0!==t[r]&&n.push(e(r)+"="+e(t[r]));return n.sort().join("&")}function i(t){var e,r,i,o,a={};if(t)for(e=t.split("&"),o=0;i=e[o];o++)r=i.split("="),2==r.length&&(a[n(r[0])]=n(r[1]));return a}function o(t,e){return r(e).length>0?t.indexOf("?")>=0?t+"&"+r(e):t+"?"+r(e):t}t({url:o,decode:i,encode:r,encodePart:e,decodePart:n})}),provide("util/nodeselect",function(t){var e=document;t("querySelectorAll"in e?function(t,n){return e.querySelectorAll(t+"."+n)}:"getElementsByClassName"in e?function(t,n){var r,o=e.getElementsByClassName(n),a=[];for(i=0;r=o[i];i++)r.tagName.toLowerCase()==t&&a.push(r);return a}:function(t,n){var r,o=e.getElementsByTagName(t),a=new RegExp("(?:^|\\s+)"+n+"(?:\\s+|$)"),s=[];for(i=0;r=o[i];i++)a.test(r.className)&&s.push(r);return s})}),provide("$vendor/domready/ready.js",function(t){!function(t){function e(){i=1;for(var t=0,e=o.length;t<e;t++)o[t]()}var n,r,i=0,o=[],a=t.createElement("a"),s="DOMContentLoaded",l="addEventListener",u="onreadystatechange";/^loade|c/.test(t.readyState)&&(i=1),t[l]&&t[l](s,r=function(){t.removeEventListener(s,r,!1),e()},!1),a.doScroll&&t.attachEvent(u,n=function(){/^c/.test(t.readyState)&&(t.detachEvent(u,n),e())});var c=a.doScroll?function(t){self!=top?i?t():o.push(t):function(){try{a.doScroll("left")}catch(e){return setTimeout(function(){c(t)},50)}t()}()}:function(t){i?t():o.push(t)};"undefined"!=typeof module&&module.exports?module.exports={domReady:c}:window.domReady=c}(document),t(),loadrunner.Script.loaded.push("$vendor/domready/ready.js")}),provide("util/domready",function(t){using("$vendor/domready/ready.js",function(){t(domReady)})}),provide("util/util",function(t){function e(t){for(var e,n=1;e=arguments[n];n++)for(var r in e)t[r]=e[r];return t}function n(t){return e([],t)}function r(t){for(var e in t)t.hasOwnProperty(e)&&!t[e]&&!1!==t[e]&&0!==t[e]&&delete t[e]}function i(t,e){if(t.indexOf)return t.indexOf(e);for(var n,r=0;n=t[r];r++)if(e==n)return r;return-1}function o(t,e){if(!t)return null;if(!e)return t;if(t.filter)return t.filter(e);for(var n=[],r=0,i=t.length;r<i;r++)e(t[r])&&n.push(t[r]);return n}function a(t,e){if(t.contains)return t.contains(e);for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}t({aug:e,array:n,indexOf:i,filter:o,compact:r,containsElement:a})}),provide("tfw/widget/base",function(t){using("util/util","util/domready","util/nodeselect","util/querystring","util/iframe",function(e,n,r,i,o){function a(t){if(t)return t.lang?t.lang:a(t.parentNode)}function s(){var t,e,n=d.widgets;for(var i in n){t=i.match(/\./)?r.apply(this,i.split(".")):document.getElementsByTagName(i);for(var o,a=0;o=t[a];a++)o.getAttribute("data-twttr-rendered")||(o.setAttribute("data-twttr-rendered","true"),e=new n[i](o),f.list.push(e),f.byId[e.id]=e,e.render(d))}}function l(t){d=t}function u(){s()}function c(t){return t&&f.byId[t]?f.byId[t].element:null}var d,h=0,f={list:[],byId:{}},w={"zh-tw":{"%{followers_count} followers":"%{followers_count} \u4f4d\u8ddf\u96a8\u8005","100K+":"\u8d85\u904e\u5341\u842c","10k unit":"1\u842c \u55ae\u4f4d",Follow:"\u8ddf\u96a8","Follow %{screen_name}":"\u8ddf\u96a8 %{screen_name}",K:"\u5343",M:"\u767e\u842c",Tweet:"\u63a8\u6587","Tweet %{hashtag}":"\u63a8\u6587%{hashtag}","Tweet to %{name}":"\u63a8\u6587\u7d66%{name}"},"zh-cn":{"%{followers_count} followers":"%{followers_count} \u5173\u6ce8\u8005","100K+":"10\u4e07+","10k unit":"1\u4e07\u5355\u5143",Follow:"\u5173\u6ce8","Follow %{screen_name}":"\u5173\u6ce8 %{screen_name}",K:"\u5343",M:"\u767e\u4e07",Tweet:"\u53d1\u63a8","Tweet %{hashtag}":"\u4ee5 %{hashtag} \u53d1\u63a8","Tweet to %{name}":"\u53d1\u63a8\u7ed9 %{name}"},ja:{"%{followers_count} followers":"%{followers_count}\u4eba\u306e\u30d5\u30a9\u30ed\u30ef\u30fc","100K+":"10\u4e07\u4ee5\u4e0a","10k unit":"\u4e07",Follow:"\u30d5\u30a9\u30ed\u30fc\u3059\u308b","Follow %{screen_name}":"%{screen_name}\u3055\u3093\u3092\u30d5\u30a9\u30ed\u30fc",K:"K",M:"M",Tweet:"\u30c4\u30a4\u30fc\u30c8","Tweet %{hashtag}":"%{hashtag} \u3092\u30c4\u30a4\u30fc\u30c8\u3059\u308b","Tweet to %{name}":"%{name}\u3055\u3093\u3078\u30c4\u30a4\u30fc\u30c8\u3059\u308b"},ru:{"%{followers_count} followers":"\u0427\u0438\u0442\u0430\u0442\u0435\u043b\u0438: %{followers_count} ","100K+":"100 \u0442\u044b\u0441.+","10k unit":"\u0431\u043b\u043e\u043a 10k",Follow:"\u0427\u0438\u0442\u0430\u0442\u044c","Follow %{screen_name}":"\u0427\u0438\u0442\u0430\u0442\u044c %{screen_name}",K:"\u0442\u044b\u0441.",M:"\u043c\u043b\u043d.",Tweet:"\u0422\u0432\u0438\u0442\u043d\u0443\u0442\u044c","Tweet %{hashtag}":"\u0422\u0432\u0438\u0442\u043d\u0443\u0442\u044c %{hashtag}","Tweet to %{name}":"\u0422\u0432\u0438\u0442\u043d\u0443\u0442\u044c %{name}"},da:{"%{followers_count} followers":"%{followers_count} f\xf8lgere","100K+":"100K+","10k unit":"10k enhed",Follow:"F\xf8lg","Follow %{screen_name}":"F\xf8lg %{screen_name}",K:"K",M:"M",Tweet:"Tweet","Tweet %{hashtag}":"Tweet %{hashtag}","Tweet to %{name}":"Tweet til %{name}"},de:{"%{followers_count} followers":"%{followers_count} Follower","100K+":"100Tsd+","10k unit":"10tsd-Einheit",Follow:"Folgen","Follow %{screen_name}":"%{screen_name} folgen",K:"Tsd",M:"M",Tweet:"Twittern","Tweet %{hashtag}":"Tweet %{hashtag}","Tweet to %{name}":"Tweet an %{name}"},fil:{"%{followers_count} followers":"%{followers_count} mga tagasunod","100K+":"100K+","10k unit":"10k yunit",Follow:"Sundan","Follow %{screen_name}":"Sundan si %{screen_name}",K:"K",M:"M",Tweet:"I-tweet","Tweet %{hashtag}":"I-tweet ang %{hashtag}","Tweet to %{name}":"Mag-Tweet kay %{name}"},ur:{"%{followers_count} followers":"%{followers_count} \u0641\u0627\u0644\u0648\u0631\u0632","100K+":"1 \u0644\u0627\u06a9\u06be+","10k unit":"\u062f\u0633 \u06c1\u0632\u0627\u0631 \u06cc\u0648\u0646\u0679",Follow:"\u0641\u0627\u0644\u0648 \u06a9\u0631\u06cc\u06ba","Follow %{screen_name}":"%{screen_name} \u06a9\u0648 \u0641\u0627\u0644\u0648 \u06a9\u0631\u06cc\u06ba",K:"\u06c1\u0632\u0627\u0631",M:"\u0645\u0644\u06cc\u0646",Tweet:"\u0679\u0648\u06cc\u0679 \u06a9\u0631\u06cc\u06ba","Tweet %{hashtag}":"\u0679\u0648\u06cc\u0679 \u06a9\u0631\u06cc\u06ba %{hashtag}","Tweet to %{name}":"%{name} \u06a9\u0648 \u0679\u0648\u06cc\u0679 \u06a9\u0631\u06cc\u06ba"},id:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikuti","Follow %{screen_name}":"Ikuti %{screen_name}",K:"&nbsp;ribu",M:"&nbsp;juta",Tweet:"Tweet","Tweet %{hashtag}":"Tweet %{hashtag}","Tweet to %{name}":"Tweet ke %{name}"},it:{"%{followers_count} followers":"%{followers_count} follower","100K+":"100K+","10k unit":"10k unit\xe0",Follow:"Segui","Follow %{screen_name}":"Segui %{screen_name}",K:"K",M:"M",Tweet:"Tweet","Tweet %{hashtag}":"Twitta %{hashtag}","Tweet to %{name}":"Twitta a %{name}"},fr:{"%{followers_count} followers":"%{followers_count} abonn\xe9s","100K+":"100K+","10k unit":"unit\xe9 de 10k",Follow:"Suivre","Follow %{screen_name}":"Suivre %{screen_name}",K:"K",M:"M",Tweet:"Tweeter","Tweet %{hashtag}":"Tweeter %{hashtag}","Tweet to %{name}":"Tweeter \xe0 %{name}"},fi:{"%{followers_count} followers":"%{followers_count} seuraajaa","100K+":"100 000+","10k unit":"10 000 yksikk\xf6\xe4",Follow:"Seuraa","Follow %{screen_name}":"Seuraa k\xe4ytt\xe4j\xe4\xe4 %{screen_name}",K:"tuhatta",M:"milj.",Tweet:"Twiittaa","Tweet %{hashtag}":"Twiittaa %{hashtag}","Tweet to %{name}":"Twiittaa k\xe4ytt\xe4j\xe4lle %{name}"},tr:{"%{followers_count} followers":"%{followers_count} takip\xe7i","100K+":"+100 bin","10k unit":"10 bin birim",Follow:"Takip et","Follow %{screen_name}":"Takip et: %{screen_name}",K:"bin",M:"milyon",Tweet:"Tweetle","Tweet %{hashtag}":"Tweetle: %{hashtag}","Tweet to %{name}":"Tweetle: %{name}"},fa:{"%{followers_count} followers":"%{followers_count} \u062f\u0646\u0628\u0627\u0644\u200c\u06a9\u0646\u0646\u062f\u0647","100K+":">\u06f1\u06f0\u06f0\u0647\u0632\u0627\u0631","10k unit":"\u06f1\u06f0\u0647\u0632\u0627\u0631 \u0648\u0627\u062d\u062f",Follow:"\u062f\u0646\u0628\u0627\u0644 \u06a9\u0631\u062f\u0646","Follow %{screen_name}":"\u062f\u0646\u0628\u0627\u0644 \u06a9\u0631\u062f\u0646 %{screen_name}",K:"\u0647\u0632\u0627\u0631",M:"\u0645\u06cc\u0644\u06cc\u0648\u0646",Tweet:"\u062a\u0648\u06cc\u06cc\u062a","Tweet %{hashtag}":"\u062a\u0648\u06cc\u06cc\u062a \u06a9\u0631\u062f\u0646 %{hashtag}","Tweet to %{name}":"\u0628\u0647 %{name} \u062a\u0648\u06cc\u06cc\u062a \u06a9\u0646\u06cc\u062f"},ko:{"%{followers_count} followers":"%{followers_count}\uba85\uc758 \ud314\ub85c\uc6cc","100K+":"100\ub9cc \uc774\uc0c1","10k unit":"\ub9cc \ub2e8\uc704",Follow:"\ud314\ub85c\uc6b0","Follow %{screen_name}":"%{screen_name} \ud314\ub85c\uc6b0\ud558\uae30",K:"\ucc9c",M:"\ubc31\ub9cc",Tweet:"\ud2b8\uc717","Tweet %{hashtag}":"%{hashtag} \uad00\ub828 \ud2b8\uc717\ud558\uae30","Tweet to %{name}":"%{name}\ub2d8\uc5d0\uac8c \ud2b8\uc717\ud558\uae30"},th:{"%{followers_count} followers":"%{followers_count} \u0e1c\u0e39\u0e49\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21","100K+":"100\u0e1e\u0e31\u0e19+","10k unit":"\u0e2b\u0e19\u0e48\u0e27\u0e22 10\u0e1e\u0e31\u0e19",Follow:"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21","Follow %{screen_name}":"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21 %{screen_name}",K:"\u0e1e\u0e31\u0e19",M:"\u0e25\u0e49\u0e32\u0e19",Tweet:"\u0e17\u0e27\u0e35\u0e15","Tweet %{hashtag}":"\u0e17\u0e27\u0e35\u0e15 %{hashtag}","Tweet to %{name}":"\u0e17\u0e27\u0e35\u0e15\u0e16\u0e36\u0e07 %{name}"},ar:{"%{followers_count} followers":"\u0639\u062f\u062f \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u064a\u0646 %{followers_count}","100K+":"+100 \u0623\u0644\u0641","10k unit":"10 \u0622\u0644\u0627\u0641 \u0648\u062d\u062f\u0629",Follow:"\u062a\u0627\u0628\u0639","Follow %{screen_name}":"\u062a\u0627\u0628\u0639 %{screen_name}",K:"\u0623\u0644\u0641",M:"\u0645\u0644\u064a\u0648\u0646",Tweet:"\u063a\u0631\u0650\u0651\u062f","Tweet %{hashtag}":"\u063a\u0631\u0650\u0651\u062f %{hashtag}","Tweet to %{name}":"\u063a\u0631\u0650\u0651\u062f \u0644\u0640 %{name}"},hi:{"%{followers_count} followers":"%{followers_count} \u092b\u093c\u0949\u0932\u094b\u0905\u0930\u094d\u0938","100K+":"\u0967\u0966\u0966 \u0939\u091c\u093e\u0930+","10k unit":"\u0967\u0966 \u0939\u091c\u093e\u0930 \u0907\u0915\u093e\u0908\u092f\u093e\u0902",Follow:"\u092b\u093c\u0949\u0932\u094b","Follow %{screen_name}":"%{screen_name} \u0915\u094b \u092b\u093c\u0949\u0932\u094b \u0915\u0930\u0947\u0902",K:"\u0939\u091c\u093e\u0930",M:"\u0967\u0966 \u0932\u093e\u0916",Tweet:"\u091f\u094d\u0935\u0940\u091f","Tweet %{hashtag}":"\u091f\u094d\u0935\u0940\u091f %{hashtag}","Tweet to %{name}":"%{name} \u0915\u094b \u091f\u094d\u0935\u0940\u091f \u0915\u0930\u0947\u0902"},sv:{"%{followers_count} followers":"%{followers_count} f\xf6ljare","100K+":"100K+","10k unit":"10k",Follow:"F\xf6lj","Follow %{screen_name}":"F\xf6lj %{screen_name}",K:"K",M:"M",Tweet:"Tweeta","Tweet %{hashtag}":"Tweeta %{hashtag}","Tweet to %{name}":"Tweeta till %{name}"},he:{"%{followers_count} followers":"%{followers_count} \u05e2\u05d5\u05e7\u05d1\u05d9\u05dd","100K+":"\u05de\u05d0\u05d5\u05ea \u05d0\u05dc\u05e4\u05d9\u05dd","10k unit":"\u05e2\u05e9\u05e8\u05d5\u05ea \u05d0\u05dc\u05e4\u05d9\u05dd",Follow:"\u05de\u05e2\u05e7\u05d1","Follow %{screen_name}":"\u05dc\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 %{screen_name}",K:"\u05d0\u05dc\u05e3",M:"\u05de\u05d9\u05dc\u05d9\u05d5\u05df",Tweet:"\u05e6\u05d9\u05d5\u05e5","Tweet %{hashtag}":"\u05e6\u05d9\u05d9\u05e6\u05d5 %{hashtag}","Tweet to %{name}":"\u05e6\u05d9\u05d5\u05e5 \u05d0\u05dc %{name}"},pl:{"%{followers_count} followers":"%{followers_count} obserwuj\u0105cych","100K+":"100 tys.+","10k unit":"10 tys.",Follow:"Obserwuj","Follow %{screen_name}":"Obserwuj %{screen_name}",K:"tys.",M:"mln",Tweet:"Tweetnij","Tweet %{hashtag}":"Tweetnij %{hashtag}","Tweet to %{name}":"Tweetnij do %{name}"},nl:{"%{followers_count} followers":"%{followers_count} volgers","100K+":"100k+","10k unit":"10k-eenheid",Follow:"Volgen","Follow %{screen_name}":"%{screen_name} volgen",K:"k",M:" mln.",Tweet:"Tweeten","Tweet %{hashtag}":"%{hashtag} tweeten","Tweet to %{name}":"Tweeten naar %{name}"},es:{"%{followers_count} followers":"%{followers_count} seguidores","100K+":"100K+","10k unit":"10k unidad",Follow:"Seguir","Follow %{screen_name}":"Seguir a %{screen_name}",K:"K",M:"M",Tweet:"Twittear","Tweet %{hashtag}":"Twittear %{hashtag}","Tweet to %{name}":"Twittear a %{name}"},hu:{"%{followers_count} followers":"%{followers_count} k\xf6vet\u0151","100K+":"100E+","10k unit":"10E+",Follow:"K\xf6vet\xe9s","Follow %{screen_name}":"%{screen_name} k\xf6vet\xe9se",K:"E",M:"M",Tweet:"Tweet","Tweet %{hashtag}":"%{hashtag} tweetel\xe9se","Tweet to %{name}":"Tweet k\xfcld\xe9se neki: %{name}"},pt:{"%{followers_count} followers":"%{followers_count} seguidores","100K+":"+100 mil","10k unit":"10 mil unidades",Follow:"Seguir","Follow %{screen_name}":"Siga %{screen_name}",K:"Mil",M:"M",Tweet:"Tweetar","Tweet %{hashtag}":"Tweetar %{hashtag}","Tweet to %{name}":"Tweetar para %{name}"},msa:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikut","Follow %{screen_name}":"Ikut %{screen_name}",K:"ribu",M:"juta",Tweet:"Tweet","Tweet %{hashtag}":"Tweet %{hashtag}","Tweet to %{name}":"Tweet kepada %{name}"},no:{"%{followers_count} followers":"%{followers_count} f\xf8lgere","100K+":"100K+","10k unit":"10k ",Follow:"F\xf8lg","Follow %{screen_name}":"F\xf8lg %{screen_name}",K:"K",M:"M",Tweet:"Tweet","Tweet %{hashtag}":"Tweet %{hashtag}","Tweet to %{name}":"Send tweet til %{name}"}},p=function(){};e.aug(p.prototype,{setLanguage:function(t){var e;return t||(t=this.params().lang||this.originElement.getAttribute("data-lang")||a(this.originElement)),(t=t&&t.toLowerCase())?w[t]?this.lang=t:(e=t.replace(/[-_].*/,""),w[e]?this.lang=e:void(this.lang="en")):this.lang="en"},_:function(t,e){var n=this.lang;return e=e||{},n&&w.hasOwnProperty(n)||(n=this.lang="en"),t=w[n]&&w[n][t]||t,this.ringo(t,e,/%\{([\w_]+)\}/g)},ringo:function(t,e,n){return n=n||/\{\{([\w_]+)\}\}/g,t.replace(n,function(t,n){return void 0!==e[n]?e[n]:t})},add:function(t){f.list.push(this),f.byId[this.id]=t},create:function(t,e,n,r){return this.id=this.generateId(),o({url:t,css:{width:n[0]+("string"!=typeof n[0]?"px":""),height:n[1]+("string"!=typeof n[1]?"px":"")},className:e,id:this.id,attributes:r,replace:this.originElement})},params:function(){var t=this.originElement.href&&this.originElement.href.split("?")[1],e=t?i.decode(t):{};return(this.params=function(){return e})()},dataAttr:function(t){return this.originElement.getAttribute("data-"+t)},generateId:function(){return this.originElement.id||"twitter-widget-"+h++},styles:{base:"font: normal normal normal 11px/18px 'Helvetica Neue', Arial, sans-serif; margin: 0; padding: 0; white-space: nowrap;",button:"font-weight: bold; text-shadow: 0 1px 0 rgba(255,255,255,.5);",large:"font-size: 13px; line-height: 26px;",vbubble:"font-size: 16px;"},width:function(){throw new Error(name+" not implemented")},height:function(){return"m"==this.size?20:28},dimensions:function(){return[this.width(),this.height()]}}),t({Base:p,init:l,embed:u,find:c,TWITTER_PROFILE_URL:/^https?\:\/\/(?:www\.)?twitter\.com\/(?:#!?\/)?([\w_]{1,20})\/?$/})})}),provide("util/events",function(t){using("util/util",function(e){function n(){this.completed=!1,this.callbacks=[]}var r={bind:function(t,e){return this._handlers=this._handlers||{},this._handlers[t]=this._handlers[t]||[],this._handlers[t].push(e)},unbind:function(t,n){if(this._handlers[t])if(n){var r=e.indexOf(this._handlers[t],n);r>=0&&this._handlers[t].splice(r,1)}else this._handlers[t]=[]},trigger:function(t,e){var n=this._handlers&&this._handlers[t];if(e.type=t,n)for(var r,i=0;r=n[i];i++)r.call(this,e)}};n.prototype.addCallback=function(t){this.completed?t.apply(this,this.results):this.callbacks.push(t)},n.prototype.complete=function(){this.results=makeArray(arguments),this.completed=!0;for(var t,e=0;t=this.callbacks[e];e++)t.apply(this,this.results)},t({Emitter:r,Promise:n})})}),provide("util/uri",function(t){using("util/querystring","util/util",function(e,n){function r(t){var e;return t.match(/^https?:\/\//)?t:(e=location.host,location.port.length>0&&(e+=":"+location.port),[location.protocol,"//",e,t].join(""))}function i(){for(var t,e=document.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"==t.getAttribute("rel"))return r(t.getAttribute("href"));return null}function o(){for(var t,e,r,i,o=document.getElementsByTagName("a"),a=document.getElementsByTagName("link"),s=/\bme\b/,l=/^https?\:\/\/(www\.)?twitter.com\/([a-zA-Z0-9_]+)$/,u=n.array(o).concat(n.array(a)),c=0;i=u[c];c++)if(e=i.getAttribute("rel"),r=i.getAttribute("href"),e&&r&&e.match(s)&&(t=r.match(l)))return t[2]}t({absolutize:r,getCanonicalURL:i,getScreenNameFromPage:o})})}),provide("tfw/widget/intent",function(t){using("util/util","tfw/widget/base","util/querystring","util/uri",function(e,n,r,i){function o(t){var e=Math.round(p/2-h/2),n=0;w>f&&(n=Math.round(w/2-f/2)),window.open(t,"intent",d+",width="+h+",height="+f+",left="+e+",top="+n)}function a(t,e){using("tfw/widget/hubclient",function(n){n.openIntent(t,e)})}function s(t){return[t,"original_referer="+location.href].join(-1==t.indexOf("?")?"?":"&")}function l(t){t=t||window.event;for(var e,n=t.target||t.srcElement;n&&"a"!==n.nodeName.toLowerCase();)n=n.parentNode;if(n&&"a"===n.nodeName.toLowerCase()&&n.href&&n.href.match(c)){var r=s(n.href);r=r.replace(/^http[:]/,"https:"),r=r.replace(/^\/\//,"https://"),twttr.events.hub?(e=new m(u.generateId(),n),u.add(e),a(r,n),twttr.events.trigger("click",{target:n,region:"intent",type:"click",data:{}})):o(r),t.returnValue=!1,t.preventDefault&&t.preventDefault()}}var u,c=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,d="scrollbars=yes,resizable=yes,toolbar=no,location=yes",h=550,f=520,w=screen.height,p=screen.width,m=function(t,e){this.id=t,this.element=this.originElement=e},g=function(t){this.originElement=[],this.element=t};g.prototype=new n.Base,e.aug(g.prototype,{render:function(t){u=this,window.__twitterIntentHandler||(document.addEventListener?document.addEventListener("click",l,!1):document.attachEvent&&document.attachEvent("onclick",l),window.__twitterIntentHandler=!0)}}),t({Listener:g})})}),provide("lib/twt",function(t){t(function(t,e){using("$vendor/twt/dist/twt."+("en"!=t?t+".":"")+"min.js",function(){twt.settings.lang=t,e(twt)})})}),provide("$xd/json2.js",function(exports){window.JSON||(window.JSON={}),function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,a,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)a[n]=str(n,l)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof(r=rep[n])&&(i=str(r,l))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in l)Object.hasOwnProperty.call(l,r)&&(i=str(r,l))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(t,e,i)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),exports(),loadrunner.Script.loaded.push("$xd/json2.js")}),provide("util/decider",function(t){function e(t){var e=n[t]||!1;if(!e)return!1;if(!0===e||100===e)return!0;var r=100*Math.random(),i=e>=r;return n[t]=i,i}var n={force_new_cookie:100,rufous_pixel:50,decider_fixture:12.34};t({isAvailable:e})}),provide("util/params",function(t){using("util/querystring",function(e){var n=function(t){var n=t.search.substr(1);return e.decode(n)},r=function(t){var n=t.href,r=n.indexOf("#"),i=r<0?"":n.substring(r+1);return e.decode(i)};t({combined:function(t){var e={},i=n(t),o=r(t);for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a]);for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a]);return e},fromQuery:n,fromFragment:r})})}),provide("tfw/widget/env",function(t){using("util/params",function(e){function n(){var t=e.combined(document.location)._;return void 0!==r?r:(r=!1,t&&/^\d+$/.test(t)&&(r=+new Date-parseInt(t)<36e5),r)}var r;t({isDynamicWidget:n})})}),provide("dom/cookie",function(t){using("util/util",function(e){t(function(t,n,r){var i=e.aug({},r);if(arguments.length>1&&"[object Object]"!==String(n)){if(null!==n&&void 0!==n||(i.expires=-1),"number"==typeof i.expires){var o=i.expires,a=new Date((new Date).getTime()+60*o*1e3);i.expires=a}return n=String(n),document.cookie=[encodeURIComponent(t),"=",i.raw?n:encodeURIComponent(n),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=n||{};var s,l=i.raw?function(t){return t}:decodeURIComponent;return(s=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?l(s[1]):null})})}),provide("util/donottrack",function(t){using("dom/cookie",function(e){t(function(t){var n=/\.(gov|mil)(:\d+)?$/i,r=/https?:\/\/([^\/]+).*/i;return t=t||document.referrer,t=r.test(t)&&r.exec(t)[1],!!e("dnt")||(!!n.test(document.location.host)||(!(!t||!n.test(t))||(document.navigator?1==document.navigator.doNotTrack:!!navigator&&(1==navigator.doNotTrack||1==navigator.msDoNotTrack))))})})}),provide("tfw/widget/guest_cookie",function(t){using("dom/cookie","util/donottrack","util/decider",function(e,n,r){function i(){var t=e(s)||!1;t&&(t.match(/^v3\:/)||o())}function o(){e(s)&&e(s,null,{domain:".twitter.com",path:"/"})}function a(){n()&&o()}var s="pid";t({set:a,destroy:o,forceNewCookie:i,guest_id_cookie:s})})}),provide("tfw/widget/tracking",function(t){using("dom/cookie","util/donottrack","tfw/widget/guest_cookie","tfw/widget/env","util/decider",function(e,n,r,i,o){function a(t,e,n){var r=u+e;if(t)return t[r]=n,t}function s(t,s,l,u,d){u||(u=!1),d||(d=!1),s||(s={}),l=l||"tweetbutton";var h=c[l]||c.tweetbutton,f=t.ownerDocument.createElement("img"),w=[];if(!u){var p=s.original_redirect_referrer||document.referrer.toString();a(s,"referrer",p),a(s,"widget",+i.isDynamicWidget()),d||n(p)?a(s,"dnt","1"):(a(s,"hask",+!!e("k")),a(s,"li",+!!e("twid")),a(s,r.guest_id_cookie,e(r.guest_id_cookie)||""))}for(var m in s)if(s.hasOwnProperty(m)){var g=encodeURIComponent(m),v=encodeURIComponent(s[m]);v=v.replace(/'/g,"%27"),w.push(g+"="+v)}if(f.src=h+"?"+w.join("&"),f.alt="",f.style.position="absolute",f.style.height="1px",f.style.width="1px",f.style.top="-9999px",f.style.left="-9999px",t.appendChild(f),o.isAvailable("rufous_pixel")){var _={twttr_referrer:"referrer",twttr_variant:"version",lang:"language",screen_name:"screen_name"},y={_category_:"tfw_widgets",event_name:l+":impression"};for(var m in s){var b=_[m];b&&(y[b]=s[m])}!d&&!n(p)&&(s.twttr_li&&(y.logged_in="1"==s.twttr_li),y.pid=e(r.guest_id_cookie)||""),s.status_id&&(y.tweet_ids=[s.status_id]),s.twttr_widget&&(y.widget="1"==s.twttr_widget);var f=t.ownerDocument.createElement("img"),T=Array.prototype.toJSON;delete Array.prototype.toJSON
;var x="//r.twimg.com/jot?l="+encodeURIComponent(JSON.stringify(y)).replace(/'/g,"%27");Array.prototype.toJSON=T,(d||n(p))&&(x+="&dnt=1"),f.src=x,f.alt="",f.style.position="absolute",f.style.height="1px",f.style.width="1px",f.style.top="-9999px",f.style.left="-9999px",t.appendChild(f)}}function l(){t({addPixel:s,addVar:a})}var u="twttr_",c={tweetbutton:"//p.twitter.com/t.gif",followbutton:"//p.twitter.com/f.gif",tweetembed:"//p.twitter.com/e.gif"};o.isAvailable("force_new_cookie")&&r.forceNewCookie(),"undefined"==typeof JSON?using("$xd/json2.js",function(){l()}):l()})}),provide("util/tweetparser",function(t){using("util/util",function(e){function n(t,n){var r=document.getElementsByTagName(t);return e.filter(r,function(t){return e.containsElement(n,t)})||[]}function r(t){return t&&a.test(t)&&RegExp.$1}function i(t){if(t&&t.nodeName&&/blockquote/i.test(t.nodeName)){var e={},i=n("p",t).shift(),a=n("a",t).pop();if(!i&&n("br",t).length){i=document.createElement("p");for(var s,l=0;(s=t.childNodes[l])&&(1!==s.nodeType||!/^br$/i.test(s.nodeName));l++)i.appendChild(s)}return i&&(e.text=i.textContent||i.innerText||"",e.rendered_text=i.innerHTML||""),a&&(a.getAttribute("data-datetime")?e.created_at=a.getAttribute("data-datetime"):e.time=a.textContent||a.innerText),e.user=o(t),e.id=e.id_str=r(a.href),e.id_str&&e.text&&e.user&&e}}function o(t){for(var e,r,i={},o=0,a=t.childNodes.length;o<a;o++)if(e=t.childNodes[o],1===e.nodeType&&/^p$/i.test(e.nodeName)&&(e=e.childNodes[0]),e&&3===e.nodeType&&s.test(e.nodeValue)){i.name=RegExp.$1.split(" ").slice(1).join(" "),i.screen_name=RegExp.$2;break}return i.screen_name?i:(r=n("a",t).pop(),r&&l.test(r.href)?(i.name="",i.screen_name=RegExp.$2,i):void 0)}var a=/\/(\d+)\/?$/,s=/^\s*(.+)\s+\(@([\w_]{1,20})\)\s*$/,l=/^https?:\/\/(?:www\.)?twitter\.com\/(#!\/)?([\w_]{1,20})/;t({parseTweet:i,parseId:r,parseAuthor:o})})}),provide("i18n/i18n",function(t){function e(){twttr.i18n_missing_interval||(twttr.i18n_missing_interval=window.setInterval(function(){twttr.i18n_missing&&twttr.i18n_missing.length>0&&($.ajax({type:"POST",data:$.param({authenticity_token:twttr.form_authenticity_token,location:window.location.href,"strings[]":twttr.i18n_missing}),url:"/translate/untranslated_javascript"}),twttr.i18n_missing=new Array)},1e4))}function n(t){twttr.i18n_missing||(twttr.i18n_missing=new Array),twttr.i18n_missing_reported||(twttr.i18n_missing_reported={}),twttr.i18n_missing_reported[t]||(twttr.i18n_missing.push(encodeURIComponent(t)),twttr.i18n_missing_reported[t]=!0)}function r(t,e){if(e)for(var n in e)t=t.replace(new RegExp("\\%\\{"+n+"\\}","gi"),e[n]);return t}window.setupTranslationCallback=e,t({_:function(t,e){if(twttr.i18n){var i=twttr.i18n[t];i?t=i:n(t)}return r(t,e)},setupTranslationCallback:e})}),provide("tfw/data",function(t){using("util/querystring",function(e){window.twttr=window.twttr||{},window.twttr.tfw=window.twttr.tfw||{},window.twttr.tfw.callbacks=window.twttr.tfw.callbacks||{};var n=twttr.tfw.callbacks,r=0,i=!1,o=function(t,e){return t=={}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},a=function(t){return function(e){e.error?t.error&&t.error(e):t.success&&t.success(e),t.complete&&t.complete(e),s(t)}},s=function(t){var e=t.script;e&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),t.script=void 0,e=void 0),t.callbackName&&twttr.tfw.callbacks[t.callbackName]&&delete twttr.tfw.callbacks[t.callbackName]},l=function(t){var e={};return t.success&&o("function",t.success)&&(e.success=t.success),t.error&&o("function",t.error)&&(e.error=t.error),t.complete&&o("function",t.complete)&&(e.complete=t.complete),e},u=function(t,o){!i&&/^https?\:$/.test(window.location.protocol)||(t=t.replace(/^\/\//,"https://"));var s="cb"+r,l="twttr.tfw.callbacks."+s;n[s]=a(o);var u=document.createElement("script"),c={callback:l,suppress_response_codes:!0};u.src=e.url(t,c),u.async="async",(document.head||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(u),o.script=u,o.callbackName=s,r++},c=function(t,e,n){var r=t.length,i={},o=0;return function(a){var s;if(s=n(a),i[s]=a,++o===r){for(var l=[],u=[],c=[],d=0;d<r;d++){var a=i[t[d]];l.push(a),a.error?c.push(a):u.push(a)}e.error&&c.length>0&&e.error(c),e.success&&u.length>0&&e.success(u),e.complete&&e.complete(l)}}},d={};d.config=function(t){!0!==t.forceSSL&&!1!==t.forceSSL||(i=t.forceSSL)},d.user=function(){return function(){var t,n={};1===arguments.length?(t=arguments[0].screenName,n=l(arguments[0])):(t=arguments[0],n.success=arguments[1]);var r=o("array",t)?"//api.twitter.com/1/users/lookup.json":"//cdn.api.twitter.com/1/users/show.json";t=o("array",t)?t.join(","):t;var i={screen_name:t},a=e.url(r,i);u(a,n)}}(),d.status=function(){var t="//cdn.api.twitter.com/1/statuses/show.json";return function(){var n,r={};if(1===arguments.length?(n=arguments[0].id,r=l(arguments[0])):(n=arguments[0],r.success=arguments[1]),o("array",n))for(var i=c(n,r,function(t){return t.error?t.request.split("id=")[1].split("&")[0]:t.id_str}),a=0;a<n.length;a++){var s={id:n[a],include_entities:!0},d=e.url(t,s);u(d,{success:i,error:i})}else{var s={id:n,include_entities:!0},d=e.url(t,s);u(d,r)}}}(),d.tweet=d.status,d.count=function(){return function(){var t="",n={};1===arguments.length?(t=arguments[0].url,n=l(arguments[0])):2===arguments.length&&(t=arguments[0],n.success=arguments[1]);var r={url:t},i=e.url("//cdn.api.twitter.com/1/urls/count.json",r);u(i,n)}}(),d.friendshipExists=function(){return function(t){var n=(arguments[0],l(arguments[0])),r={screen_name_a:t.screenNameA,screen_name_b:t.screenNameB},i=e.url("//cdn.api.twitter.com/1/friendships/exists.json",r);u(i,n)}}(),t(d)})}),provide("util/insert",function(t){t(function(t,e){if(e){if(!e.parentNode)return e;e.parentNode.replaceChild(t,e),delete e}else document.body.insertBefore(t,document.body.firstChild);return t})}),provide("dom/textsize",function(t){function e(t,e,n){return t+e+n}var n={};t(function(t,r,i){var o,a=document.createElement("span"),s={};return i=i||"",r=r||"",o=e(t,r,i),n[o]?n[o]:(a.className=r+" twitter-measurement",a.setAttribute("style",i),a.innerHTML=t,document.body.appendChild(a),s.width=a.clientWidth||a.offsetWidth,s.height=a.clientHeight||a.offsetHeight,document.body.removeChild(a),delete a,n[o]=s)})}),provide("tfw/widget/tweet",function(t){using("util/util","tfw/widget/base","util/querystring","util/uri","dom/textsize",function(e,n,r,i,o){var a=document.title,s=encodeURI(location.href),l=["vertical","horizontal","none"],u=function(t){this.originElement=t,this.id=this.generateId();var n=this.params(),r=n.count||this.dataAttr("count"),o=n.size||this.dataAttr("size"),u=i.getScreenNameFromPage();this.setLanguage(),~t.className.indexOf("twitter-hashtag-button")?this.type="hashtag":~t.className.indexOf("twitter-mention-button")&&(this.type="mention"),this.text=n.text||this.dataAttr("text"),this.align=n.align||this.dataAttr("align")||"",this.via=n.via||this.dataAttr("via"),this.related=n.related||this.dataAttr("related"),this.counturl=n.counturl||this.dataAttr("counturl"),this.searchlink=n.searchlink||this.dataAttr("searchlink"),this.placeid=n.placeid||this.dataAttr("placeid"),this.hashtags=n.hashtags||this.dataAttr("hashtags"),this.screen_name=n.screen_name||this.dataAttr("button-screen-name"),this.button_hashtag=n.button_hashtag||this.dataAttr("button-hashtag"),this.url=n.url||this.dataAttr("url"),this.size="large"==o?"l":"m",this.dnt=n.dnt||this.dataAttr("dnt")||"",this.type?(this.count="none",u&&(this.related=this.related?u+","+this.related:u)):(this.text=this.text||a,this.url=this.url||i.getCanonicalURL()||s,this.count=~e.indexOf(l,r)?r:"horizontal",this.count="vertical"==this.count&&"l"==this.size?"none":this.count,this.via=this.via||u)};u.prototype=new n.Base,e.aug(u.prototype,{parameters:function(){var t={text:this.text,url:this.url,via:this.via,related:this.related,count:this.count,lang:this.lang,counturl:this.counturl,searchlink:this.searchlink,placeid:this.placeid,original_referer:location.href,id:this.id,size:this.size,type:this.type,screen_name:this.screen_name,button_hashtag:this.button_hashtag,hashtags:this.hashtags,align:this.align,dnt:this.dnt,_:+new Date};return e.compact(t),r.encode(t)},height:function(){return"vertical"==this.count?62:"m"==this.size?20:28},width:function(){var t={ver:8,cnt:14,btn:24,xlcnt:18,xlbtn:38},n="vertical"==this.count,r="hashtag"==this.type?"Tweet %{hashtag}":"mention"==this.type?"Tweet to %{name}":"Tweet",i=this._(r,{name:"@"+this.screen_name,hashtag:"#"+this.button_hashtag}),a=this._("K"),s=this._("100K+"),l=(n?"8888":"88888")+a,u=0,c=0,d=0,h=0,f=this.styles.base,w=f;return~e.indexOf(["ja","ko"],this.lang)?l+=this._("10k unit"):l=l.length>s.length?l:s,n?(w=f+this.styles.vbubble,h=t.ver,d=t.btn):"l"==this.size?(f=w=f+this.styles.large,d=t.xlbtn,h=t.xlcnt):(d=t.btn,h=t.cnt),"none"!=this.count&&(c=o(l,"",w).width+h),u=o(i,"",f+this.styles.button).width+d,n?u>c?u:c:this.calculatedWidth=u+c},render:function(t){var e=t.assetUrl()+"/widgets/tweet_button.1340179658.html#"+this.parameters();this.count&&(this.originElement.className+=" twitter-count-"+this.count),this.element=this.create(e,this.originElement.className,this.dimensions(),{title:this._("Twitter Tweet Button")})}}),t({Embeddable:u})})}),provide("tfw/widget/tweetembed",function(t){using("util/util","tfw/widget/base","tfw/widget/tweet","util/uri","util/insert","tfw/data","i18n/i18n","util/params","util/tweetparser","tfw/widget/tracking",function(e,n,r,i,o,a,s,l,u,c){function d(t){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=twttr.widgets.config.assetUrl()+"/"+t,document.getElementsByTagName("head")[0].appendChild(e)}function h(){w||(d("embed/embed.a7496683edd7dac5ab847ca2a44e080b.css"),w=!0)}function f(t,e){var n={};n.status_id=t.id_str,n.context=g,c.addVar(n,"variant",p),c.addVar(n,"referrer",document.location.href),c.addPixel(document.body,n,"tweetembed",!0),e&&t._wjs_reply&&(n.status_id=t._wjs_reply.id_str,n.context=v,c.addPixel(document.body,n,"tweetembed",!0))}var w,p="1.0",m=(l.fromQuery(document.location),/^([0-9]+)( ?px)?$/),g="subject",v="thread",_=function(t){var n,r=t.getAttribute("width")||"";this.originElement=t,this.id=this.generateId(),n=this.params(),this.setLanguage(),this.related=n.related||t.getAttribute("data-related"),this.partner=n.partner||t.getAttribute("data-partner"),this.classNames=e.filter(t.className.split(" "),function(t){return"twitter-tweet"!=t}),this.classNames.push(["twitter-tweet-rendered"]),this.styleAttr=[],this.styleAttr.push(t.getAttribute("style")||""),m.test(r)?this.explicitWidth=RegExp.$1:t.className.match(/(?:\b|^)tw-align-[lr]/i)&&(this.explicitWidth="350"),this.explicitWidth&&this.styleAttr.push("width:"+this.explicitWidth+"px!important"),this.showThread=!~e.indexOf(this.classNames,"tw-hide-thread"),this.showMedia=!~e.indexOf(this.classNames,"tw-hide-media"),this.data=u.parseTweet(this.originElement),this.inReplyTo=t.getAttribute("data-in-reply-to")||""};_.prototype=new n.Base,e.aug(_.prototype,{create:function(t,e){var n,r=this,i=!!t._wjs_stub_data;return!i&&f(t,r.showThread),using("lib/twt",function(a){a(r.lang,function(a){var s=document.createElement("div"),l=a.autoFormat(r.explicitWidth||r.element),u=a(t,{format:l,popupWebIntents:!1,tweetElement:"blockquote",showMedia:r.showMedia,showErrors:!1,showFollowButton:!i,renderActions:!i,product:"tweetembed",partner:r.partner,related:r.related}),c={id:r.id,classNames:e||"",style:r.styleAttr.join(";"),lang:r.lang,twt:r.data._wjs_reply?u.inReplyTo(t._wjs_reply).html():u.html()};s.innerHTML=r.ringo('<div id="{{id}}" class="{{classNames}}" lang="{{lang}}" style="{{style}}">{{twt}}</div>',c),n=o(s.firstChild,r.element)})}),n},render:function(t){var e,n,r=this;r.data&&(h(),using("lib/twt",function(t){t(r.lang,function(){e=r.classNames.join(" "),r.data._wjs_stub_data=!0,r.element=r.originElement,r.element=r.create(r.data,e),n=[r.data.id_str],r.inReplyTo&&r.showThread&&n.push(r.inReplyTo),a.status({id:n,complete:function(t){var n=t[0],i=t[1];if(!n.error){if(r.data=n,r.showThread&&n.in_reply_to_status_id_str&&(!i||n.in_reply_to_status_id_str!=i.id_str))return void a.status({id:n.in_reply_to_status_id_str,complete:function(t){t&&!t.error&&(r.data._wjs_reply=t),r.element=r.create(r.data,e)}});n.in_reply_to_status_id_str&&i&&!i.error&&(r.data._wjs_reply=i),r.element=r.create(r.data,e)}}})})}))}}),t({Embeddable:_})})}),provide("tfw/widget/follow",function(t){using("util/util","tfw/widget/base","util/querystring","util/uri","dom/textsize",function(e,n,r,i,o){var a=function(t){this.originElement=t;var e=this.params(),n=e.size||this.dataAttr("size"),r=e.show_screen_name||this.dataAttr("show-screen-name"),i=e.show_count||this.dataAttr("show-count");this.id=this.generateId(),this.setLanguage(),this.showScreenName="false"!=r,this.showCount="false"!=i,this.explicitWidth=e.width||this.dataAttr("width")||"",this.screenName=this.screenNameFromHref(),this.preview=e.preview||this.dataAttr("preview")||"",this.align=e.align||this.dataAttr("align")||"",this.dnt=e.dnt||this.dataAttr("dnt")||"",this.size="large"==n?"l":"m"};a.prototype=new n.Base,e.aug(a.prototype,{parameters:function(){var t={screen_name:this.screenName,lang:this.lang,show_count:this.showCount,show_screen_name:this.showScreenName,align:this.align,id:this.id,preview:this.preview,size:this.size,dnt:this.dnt,_:+new Date};return e.compact(t),r.encode(t)},screenNameFromHref:function(){var t=this.originElement.href;return n.TWITTER_PROFILE_URL.test(t),RegExp.$1},render:function(t){if(this.screenName){var e=t.assetUrl()+"/widgets/follow_button.1340179658.html#"+this.parameters();this.element=this.create(e,"twitter-follow-button",this.dimensions(),{title:this._("Twitter Follow Button")})}},width:function(){if(this.calculatedWidth)return this.calculatedWidth;if(this.explicitWidth)return this.explicitWidth;var t={cnt:13,btn:24,xlcnt:22,xlbtn:38},n=this.showScreenName?"Follow %{screen_name}":"Follow",r=this._(n,{screen_name:"@"+this.screenName}),i=~e.indexOf(["ja","ko"],this.lang)?this._("10k unit"):this._("M"),a=this._("%{followers_count} followers",{followers_count:"88888"+i}),s=0,l=0,u=this.styles.base;return"l"==this.size?(u+=this.styles.large,buttonPadding=t.xlbtn,countPadding=t.xlcnt):(buttonPadding=t.btn,countPadding=t.cnt),this.showCount&&(l=o(a,"",u).width+countPadding),s=o(r,"",u+this.styles.button).width+buttonPadding,this.calculatedWidth=s+l}}),t({Embeddable:a})})}),function(){function t(t){return!t&&/^http\:$/.test(window.location.protocol)||twttr.ignoreSSL?"http":"https"}if(window.twttr=window.twttr||{},twttr.host=twttr.host||"platform.twitter.com",twttr.widgets)return twttr.widgets.loaded&&twttr.widgets.load(),!1;if(twttr.init)return!1;twttr.init=!0,function(){twttr._e=twttr._e||[],twttr.ready=twttr.ready||function(t){twttr.widgets&&twttr.widgets.loaded?t(twttr):twttr._e.push(t)}}(),using.path.length||(using.path=t()+"://"+twttr.host+"/js"),twttr.ignoreSSL=twttr.ignoreSSL||!1;var e=[];twttr.events={bind:function(t,n){return e.push([t,n])}},using("util/domready",function(n){n(function(){using("util/util","tfw/widget/follow","tfw/widget/tweet","tfw/widget/tweetembed","tfw/widget/intent","util/events","tfw/widget/base",function(n,r,i,o,a,s,l){function u(){using("tfw/widget/hubclient",function(t){twttr.events.hub=t.init(c),t.init(c,!0)})}var c={widgets:{"a.twitter-share-button":i.Embeddable,"a.twitter-mention-button":i.Embeddable,"a.twitter-hashtag-button":i.Embeddable,"a.twitter-follow-button":r.Embeddable,"blockquote.twitter-tweet":o.Embeddable,body:a.Listener}},d=twttr.events&&twttr.events.hub?twttr.events:{};twttr.events=n.aug(d,s.Emitter),c.assetUrl=function(e){var n=twttr.host;return"https"==t(e)&&twttr.secureHost&&(n=twttr.secureHost),t(e)+"://"+n},twttr.events.oldbind=twttr.events.bind,twttr.events.bind=function(t,e){u(),this.bind=this.oldbind,this.bind(t,e)};for(var h,f=0;h=e[f];f++)twttr.events.bind(h[0],h[1]);for(f=0;h=twttr._e[f];f++)h(twttr);twttr.ready=function(t){t(twttr)},twttr.widgets={load:function(){l.init(c),l.embed(),twttr.widgets.loaded=!0},config:c},twttr.widgets.load()})})})}()});
var Komodo;Ember.ENV.RAISE_ON_DEPRECATION=!0;var LoggingMixin=Ember.Mixin.create({LOGGING:!1,name:void 0,_displayMessage:function(e,o){if(o=o||{},this.LOGGING||"error"==o.type||"warn"==o.type){var a="["+(new Date).toTimeString()+"] "+(this.toString()||this.name)+": "+e;switch(o.type){case"debug":Ember.Logger.debug(a);break;case"warn":Ember.Logger.warn(a);break;case"error":Ember.Logger.error(a);break;case"info":Ember.Logger.info(a);break;default:Ember.Logger.log(a)}Komodo.Services.eventAggregator&&Komodo.Services.eventAggregator._publishWithNoLog("debugMessageLogged",a)}},debug:function(e){this._displayMessage(e,{type:"debug"})},log:function(e){this._displayMessage(e)},info:function(e){this._displayMessage(e,{type:"info"})},warn:function(e){this._displayMessage(e,{type:"warn"})},error:function(e){this._displayMessage(e,{type:"error"})}});Komodo=Komodo||Ember.Namespace.extend(LoggingMixin,{}).create(),Komodo.Models=Ember.Namespace.extend(LoggingMixin,{name:"Komodo.Models"}).create(),Komodo.Controls=Ember.Namespace.extend(LoggingMixin,{name:"Komodo.Controls"}).create(),Komodo.Services=Ember.Namespace.extend(LoggingMixin,{name:"Komodo.Services"}).create(),Komodo.Repositories=Ember.Namespace.extend(LoggingMixin,{name:"Komodo.Repositories"}).create(),Komodo.Messaging=Ember.Namespace.extend(LoggingMixin,{name:"Komodo.Messaging"}).create(),Komodo.UI=Ember.Namespace.extend(LoggingMixin,{name:"Komodo.UI"}).create(),Komodo.UI.Validators=Ember.Namespace.extend(LoggingMixin,{name:"Komodo.UI.Validators"}).create();
Komodo.Application=Ember.Application.extend(LoggingMixin,{_readyCallbacks:[],name:"Komodo.Application",Resolver:Ember.DefaultResolver.extend({resolveTemplate:function(e){var o=this._super(e);return o||Ember.TEMPLATES.not_found}}),registerReadyCallback:function(e){var o={};if(void 0==e)throw new Error("No function has been provided in call to 'Komodo.Application.registerReadyCallback'.");if("[object Function]"!==o.toString.call(e))throw new Error("The object passed to 'Komodo.Application.registerReadyCallback' is not a function.");this.get("_readyCallbacks").addObject(e)}}).create(),Komodo.Application.Router.map(function(){this.resource("login"),this.resource("home"),this.resource("prerequisites")}),Komodo.Application.deferReadiness();
Komodo.NavigationGroupNames=Ember.Namespace.create({Utilities:"utilities",GetConnected:"get-connected",HowTosFAQ:"how-tos-faq",ManageAccount:"manage-account",ManageCustomer:"manage-customer",ManageViewing:"manage-viewing",NewsAnnoucements:"news-announcements",OnlineTill:"online-till",Reports:"reports",TechnicalErrors:"technical-errors",ManageCase:"manage-case",Campaign:"campaigns",ManageStock:"manage-stock",ManagePayments:"manage-payments",Permissions:"permissions",MigrationCleanup:"migration-cleanup",CSICommandsQueue:"csiCommandsQueue",ClientTracker:"client-tracker",CustomerSubType:{Residential:"residential",Csi:"csi",Dealer:"dealer",Commercial:"commercial",Specialist:"specialist"}});
Komodo.Dependency=Ember.Mixin.create({requiresDependency:function(e,t){var r;if(!this.get(e)){var n=t||{};if(!n.factoryType){if(n.singleton)return this.set(e,n.singleton),void Komodo.debug("Dependency.requiresDependency: set singleton instance: attribute = '"+e+"' / instance string = '"+n.singleton.toString()+"'");throw r="Dependency.requiresDependency: required attribute missing: attribute = '"+e+"'",Komodo.error(r),new Error(r)}try{this.set(e,n.factoryType.create()),Komodo.debug("Dependency.requiresDependency: created transient instance: attribute = '"+e+"' / factory type = '"+n.factoryType+"'")}catch(t){throw r="Dependency.requiresDependency: transient instance creation failed: attribute = '"+e+"' / factory type = '"+n.factoryType+"' / e = '"+t+"' / ensure that the factoryType extends Ember.Object",Komodo.error(r),new Error(r)}}}});
Komodo.UI.Messaging=Ember.Mixin.create(Komodo.Dependency,{_listeningForEvents:!1,_messagingService:null,_messageBuilderFactory:void 0,_messageIdGenerator:void 0,processId:null,processVersion:null,processName:null,processStartTime:null,instanceId:void 0,init:function(){this._super(),this.requiresDependency("_messagingService",{singleton:Komodo.Services.messagingService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService})},getMessagingService:function(){return this.get("_messagingService")},getMessageBuilderFactory:function(){return this.get("_messageBuilderFactory")},getEventAggregator:function(){return this.get("_eventAggregator")},getLocalizationService:function(){return this.get("_localizationService")},getUIService:function(){return this.get("_uiService")},getSystemService:function(){return this.get("_systemService")},getCacheRepository:function(){return this.get("_cacheRepository")},startNewProcess:function(){this._stopListeningForEventsFromOldProcess(),this.set("processId",void 0),this._setupNewProcess()},_handleMessage:function(e){var s,t;switch(Komodo.guard.againstUndefined(e,"handlerContext"),s=e.processingType||"",t=e.systemName||"",s.toLowerCase()){case"__systemcontext":this._processInstanceId(e.message);break;default:e.handler=this,"shuttle"===t.toLowerCase()?this.getMessagingService().bus.dispatchHandlerMessage(e):this.getMessagingService().dispatchHandlerMessage(e)}},_processInstanceId:function(e){var s=this;void 0!=e&&void 0!=e.ResponseMessage&&void 0!=e.ResponseMessage.EventMetaData&&void 0!=e.ResponseMessage.EventMetaData.Process&&void 0!=e.ResponseMessage.EventMetaData.Process.InstanceId&&void 0!=e.ResponseMessage.EventMetaData.Process.InstanceId.KeyValueList&&Ember.isArray(e.ResponseMessage.EventMetaData.Process.InstanceId.KeyValueList)&&void 0!=s.get("instanceId")&&e.ResponseMessage.EventMetaData.Process.InstanceId.KeyValueList.forEach(function(e){if(e.NameField){var t=!1;s.get("instanceId").forEach(function(s){t||s.NameField&&s.NameField==e.NameField&&s.ValueField==e.ValueField&&(t=!0)}),t||s.get("instanceId").addObject(e)}})},_stopListeningForEventsFromOldProcess:function(){var e=this,s=this.get("processId");this.get("_listeningForEvents")&&(this.getEventAggregator().unsubscribe(s,e,this.get("_handleMessage")),this.set("_listeningForEvents",!1))},_setupNewProcess:function(){var e=(new Date).toUTCString();Komodo.UI.log("[MessagingMixin._setupNewProcess]"),this.get("processId")||this.set("processId",this.getSystemService().newGuid()),this.set("instanceId",[]),this.set("processStartTime",e.replace(/UTC$/g,"GMT")),this.getEventAggregator().subscribe(this.get("processId"),this,this.get("_handleMessage")),this.set("_listeningForEvents",!0),this.set("bus._controller",this)},buildProcessInformation:function(){return Komodo.UI.log("[MessagingMixin.buildProcessInformation]"),{processId:this.get("processId"),processVersion:this.get("processVersion"),processName:this.get("processName"),processStartTime:this.get("processStartTime"),instanceId:this.get("instanceId")}},sendMessage:function(e,s){var t,i=this,n=s||{},r=$.Deferred(),o=this.buildProcessInformation();return Komodo.UI.log("[MessagingMixin.sendMessage] : content = "+JSON.stringify(e)),t={Header:{EventName:s.eventName,EventVersion:s.eventVersion,EventValidityInMinutes:s.eventValidityInMinutes||0,Priority:s.eventPriority||null,ProcessCorrelationId:o.processId,ProcessName:o.processName,ProcessVersion:o.processVersion,ProcessStartTimestamp:o.processStartTime,InstanceId:o.instanceId,Parameters:s.parameters||[]},Payload:e||null},t.Header.Parameters.push({key:"locale",value:this.getLocalizationService().getCurrentLanguage()}),!0===n.storeAndForward?this.getMessagingService().enqueue(t,n).done(function(e){i.getEventAggregator().publish(Komodo.EventNames.processQueueRequested),r.resolve(e)}).fail(function(e){Komodo.UI.log("[MessagingMixin.sendMessage - store/forward] : error = "+e),r.reject(e)}):(n.alertDeliveryFailure=n.alertDeliveryFailure||!0,this.getMessagingService().sendMessage(t,n).done(function(){r.resolve()}).fail(function(e){Komodo.UI.log("[MessagingMixin.sendMessage - immediate] : error = "+e),r.reject(e)})),r},bus:Ember.Object.create({getController:function(){return this.get("_controller")},send:function(e,s){var t,i,n;return Komodo.guard.againstUndefined(e,"message"),t=this.getController(),i="string"==typeof s?{messageType:s}:s||{},n=$.Deferred(),Komodo.UI.log("[MessagingMixin.bus.send] : content = "+JSON.stringify(e)),i.alertDeliveryFailure=i.alertDeliveryFailure||!0,i.controllerProcessId=t.get("processId"),i.headers=i.headers||[],i.headers.push({key:"System-Locale",value:t.getLocalizationService().getCurrentLanguage()}),t.getMessagingService().bus.send(e,i).done(function(){n.resolve()}).fail(function(e){Komodo.UI.log("[MessagingMixin.bus.send] : error = "+e),n.reject(e)}),n}}),destroy:function(){this._stopListeningForEventsFromOldProcess(),this._super()}});
Komodo.UI.Validation=Ember.Mixin.create(Komodo.Dependency,{validators:{},_models:[],isModelDirty:!1,isModelValid:!0,init:function(){this._super(),this.requiresDependency("_validationService",{singleton:Komodo.Services.validationService})},getValidationService:function(){return this.get("_validationService")},canSubmitData:function(e,t,i){i=i||{};var o=!!i.showInModal&&i.showInModal,r=i.group;return this.getValidationService().clearErrors(),!1!==this.getValidationService().validateModel(this,e,this.get("validators"),r)||(this.getValidationService().displayErrors(t,o),!1)},registerModel:function(e,t){var i,o=this;i=t.create?t.create():t,this.set(e,i),Object.keys(i).forEach(function(e){Ember.addObserver(i,e,o,"_modelChanged")}),this.get("_models").addObject(i)},reset:function(){this.set("isModelDirty",!1),this.set("isModelValid",!0);var e=this,t=Object.keys(this.get("validators"));t.forEach(function(t){e.get("validators")[t].identifier===e&&e.deregisterValidator(t)}),this.get("_models").forEach(function(i){t=Object.keys(i),t.forEach(function(t){Ember.removeObserver(i,t,e,"_modelChanged")})}),this.get("_models").clear()},deregisterValidator:function(e){Komodo.UI.debug("Controller.deregisterValidator: name:["+e+"]");var t=this.get("validators."+e);if(t){t.removeObserver("errors.@each",this,"_checkModelValidity");var i=Ember.Binding.from("validators").to(e);if(i&&i.disconnect(this.get("validators")),delete this.get("validators")[e],t.get("options.modelPath")){Ember.Binding.from(t.get("options.modelPath")).to("validators."+e+".model").connect(this)}}this._checkModelValidity()},registerValidator:function(e,t,i){Komodo.UI.debug("Controller.registerValidator: properties:["+t.toString()+"]"),i=i||{},"string"==typeof e&&(i.modelPath=e,e=this.get(e)),t&&(t=$.makeArray(t));var o=Komodo.UI.Validators.Validator.create({model:e,options:i,properties:t,identifier:this}),r=i.name;if(!r){if(1!=t.length)throw new Error("Please provide a name in the options object for the validator.");r=t[0]+"Validator"}if(this.set("validators."+r,o),i.modelPath){Ember.Binding.from(i.modelPath).to("validators."+r+".model").connect(this)}o.addObserver("errors.@each",this,"_checkModelValidity"),o.validate()},_modelChanged:function(e,t){this.set("isModelDirty",!0),Komodo.UI.debug("Controller: property changed: "+t+" on "+e.constructor)},_checkModelValidity:function(){var e=this;this.set("isModelValid",!0),Object.keys(this.get("validators")).forEach(function(t){var i=e.get("validators."+t);i.identifier===e&&i.get("errors").length>0&&e.set("isModelValid",!1)})},_getErrors:function(e){var t=Ember.A(),i=this;return Object.keys(this.get("validators")).forEach(function(o){var r=i.get("validators."+o);r.get("model")===e&&r.get("errors").forEach(function(e){t.addObject(e)})}),t}});
Komodo.UI.View=Ember.View.extend(Komodo.Dependency,{viewKey:void 0,isKomodoView:!0,_deniedControls:void 0,init:function(){Komodo.UI.duplicateElementIdResolver.clearIdsForView(this.get("viewKey")),this._super();var e=this;Komodo.Services.securityService.addObserver("deniedControls",this,function(i){e.get("isDestroyed")||e.get("isDestroying")||e.set("_deniedControls",i)}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService})},getSecurityService:function(){return this.get("_securityService")},templateName:function(){return this.get("viewKey")}.property("viewKey"),deniedControls:function(){var e=[],i=this,t=this.getSecurityService().get("deniedControls");return t&&t.forEach(function(t){t.viewKey==i.viewKey&&e.pushObject(t)}),e}.property("_deniedControls","viewKey")});
Komodo.UI.Route=Ember.Route.extend(Komodo.Dependency,{_isRestricted:!1,useCaseName:void 0,useCaseDisplayName:void 0,init:function(){this._super(),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_traceRepository",{singleton:Komodo.Repositories.traceRepository})},getUIService:function(){var e=this.get("_uiService");if(!e)throw new Error("The required KomodoServices.UIService instance is 'undefined'.  You may not have called this._super() in your route's init method.");return e},getSystemService:function(){var e=this.get("_systemService");if(!e)throw new Error("The required KomodoServices.SystemService instance is 'undefined'.  You may not have called this._super() in your route's init method.");return e},getSecurityService:function(){return this.get("_securityService")},getTraceRepository:function(){return this.get("_traceRepository")},activate:function(){this._super(),window.scrollTo(0,0),"prerequisites"!==this.get("routeName")&&this.getSystemService().get("arePrerequisitesMissing")&&this.transitionTo("prerequisites")},deactivate:function(){this._super(),window.scrollTo(0,0),this.controller&&this.controller.stop&&this.controller.stop()},_controllerInvariant:function(e,t,i){Komodo.assert("Could not find a controller matching use case name '"+t+"' as defined for route with name '"+e+"'",void 0!==i)},setupController:function(e,t){var i=this.get("useCaseName");!Komodo.Services.navigationService.get("hasActiveGroup")&&i&&Komodo.Services.eventAggregator.publish(Komodo.EventNames.navigationGroupChanged,i),e.set("route",this),this._super(e,t),e.start&&e.start()},actions:{willTransition:function(e){if(this.getUIService().getRoute(e.targetName).get("_isRestricted")&&!this.getSecurityService().canAccessRoute(e.targetName)&&(e.abort(),Komodo.Application.error("[SECURITY] : you do not have access to route '"+e.targetName+"'.")),ADRUM){var t=new ADRUM.events.VPageView({url:"http://localhost/#"+e.targetName});this.getUIService().getController("application").set("_transitionToPage",t),t.start()}this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"menuItemClicked",user:this.getSecurityService().get("domainUserName"),fromRouteName:this.getUIService().getCurrentRouteName(),toRouteName:e.targetName}}).fail(function(e){Komodo.Services.error(e)}),Komodo.Services.eventAggregator.publish(Komodo.EventNames.willTransitionToRoute,"willTransitionToRoute")},didTransition:function(){var e=this.getUIService().getController("application").get("_transitionToPage");ADRUM&&e&&(e.end(),ADRUM.report(e),this.getUIService().getController("application").set("_transitionToPage",null))}}}),Komodo.UI.Route.reopenClass({registerRoutes:function(e){var t=Komodo.Application.routeBuilder;Komodo.Application.routeBuilder=function(){return t&&t.call(this),e.call(this)}}});
Komodo.UI.RestrictedRoute=Komodo.UI.Route.extend({_isRestricted:!0,activate:function(){if(this._super(),!this.getSecurityService().get("isAuthenticated"))return void this.getUIService().getController("login").authenticate();this.getSecurityService().canAccessRoute(this.get("routeName"))||this.getUIService().transitionTo("home")}});
Komodo.UI.Controller=Ember.Controller.extend(Komodo.UI.Messaging,Komodo.UI.Validation,Komodo.Dependency,{data:void 0,_controller:null,_isStarted:!1,start:function(){Komodo.UI.log("Controller:start"),this.set("_isStarted",!0),this._setupNewProcess()},stop:function(){Komodo.UI.log("Controller:stop"),this.reset(),this._stopListeningForEventsFromOldProcess(),this.set("_isStarted",!1)}});
Komodo.UI.Validators.Validator=Ember.Object.extend({errors:void 0,properties:void 0,functions:void 0,model:void 0,options:void 0,groups:void 0,isValid:function(){return 0==(this.get("errors")||[]).length}.property("errors.@each"),init:function(){var t=this;if(this._super(),this.set("errors",Ember.A()),void 0!=this.get("functions")&&null!=this.get("functions")||this.set("functions",[]),this.get("options")){var e=this.get("options");e.functions&&(e.functions=$.makeArray(e.functions),e.functions.forEach(function(e){t.get("functions").addObject(e)})),!0===e.limitValueToType&&this.set("limitValueStrategy",(new Komodo.UI.LimitValueToTypeStrategyFactory).create(this.options)),e.isRequired&&this.get("functions").addObject(Komodo.UI.Validators.RequiredValidator),e.minLength&&this.get("functions").addObject(Komodo.UI.Validators.MinLengthValidator),e.maxLength&&this.get("functions").addObject(Komodo.UI.Validators.MaxLengthValidator),"date"==e.type&&this.get("functions").addObject(Komodo.UI.Validators.DatePickerValidator),e.regExPattern&&e.regExPattern.length>0&&this.get("functions").addObject(Komodo.UI.Validators.RegExValidator),e.groups&&this.set("groups",$.makeArray(e.groups))}},hasRequiredValidator:function(){var t=!1;return this.get("functions").forEach(function(e){e===Komodo.UI.Validators.RequiredValidator&&(t=!0)}),t}.property("functions.@each"),validate:function(t,e){var o={},i=this;if(void 0===t)i.get("properties").forEach(function(t){void 0!==i.get("limitValueStrategy")&&void 0!==i.get("model."+t)&&null!==i.get("model."+t)&&i.set("model."+t,i.get("limitValueStrategy").limitValue(i.get("model."+t))),o[t]=i.get("model."+t)});else{var r=e;void 0!==i.get("limitValueStrategy")&&void 0!==e&&null!==e&&(r=i.get("limitValueStrategy").limitValue(e),Ember.run.next(function(){i.set("model."+t,r)})),o[t]=r}i.get("errors").clear(),i.get("functions").forEach(function(t){t.apply(void 0,[o,i.get("model"),i.get("options")]).forEach(function(t){i.get("errors").addObject(t)})})}});
function BigInteger(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function nbi(){return new BigInteger(null)}function am1(t,i,r,o,n,e){for(;--e>=0;){var s=i*this[t++]+r[o]+n;n=Math.floor(s/67108864),r[o++]=67108863&s}return n}function am2(t,i,r,o,n,e){for(var s=32767&i,h=i>>15;--e>=0;){var p=32767&this[t],a=this[t++]>>15,f=h*p+a*s;p=s*p+((32767&f)<<15)+r[o]+(1073741823&n),n=(p>>>30)+(f>>>15)+h*a+(n>>>30),r[o++]=1073741823&p}return n}function am3(t,i,r,o,n,e){for(var s=16383&i,h=i>>14;--e>=0;){var p=16383&this[t],a=this[t++]>>14,f=h*p+a*s;p=s*p+((16383&f)<<14)+r[o]+n,n=(p>>28)+(f>>14)+h*a,r[o++]=268435455&p}return n}function int2char(t){return BI_RM.charAt(t)}function intAt(t,i){var r=BI_RC[t.charCodeAt(i)];return null==r?-1:r}function bnpCopyTo(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function bnpFromInt(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function nbv(t){var i=nbi();return i.fromInt(t),i}function bnpFromString(t,i){var r;if(16==i)r=4;else if(8==i)r=3;else if(256==i)r=8;else if(2==i)r=1;else if(32==i)r=5;else{if(4!=i)return void this.fromRadix(t,i);r=2}this.t=0,this.s=0;for(var o=t.length,n=!1,e=0;--o>=0;){var s=8==r?255&t[o]:intAt(t,o);s<0?"-"==t.charAt(o)&&(n=!0):(n=!1,0==e?this[this.t++]=s:e+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-e)-1)<<e,this[this.t++]=s>>this.DB-e):this[this.t-1]|=s<<e,(e+=r)>=this.DB&&(e-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,e>0&&(this[this.t-1]|=(1<<this.DB-e)-1<<e)),this.clamp(),n&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function bnToString(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r,o=(1<<i)-1,n=!1,e="",s=this.t,h=this.DB-s*this.DB%i;if(s-- >0)for(h<this.DB&&(r=this[s]>>h)>0&&(n=!0,e=int2char(r));s>=0;)h<i?(r=(this[s]&(1<<h)-1)<<i-h,r|=this[--s]>>(h+=this.DB-i)):(r=this[s]>>(h-=i)&o,h<=0&&(h+=this.DB,--s)),r>0&&(n=!0),n&&(e+=int2char(r));return n?e:"0"}function bnNegate(){var t=nbi();return BigInteger.ZERO.subTo(this,t),t}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(0!=(i=r-t.t))return this.s<0?-i:i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function nbits(t){var i,r=1;return 0!=(i=t>>>16)&&(t=i,r+=16),0!=(i=t>>8)&&(t=i,r+=8),0!=(i=t>>4)&&(t=i,r+=4),0!=(i=t>>2)&&(t=i,r+=2),0!=(i=t>>1)&&(t=i,r+=1),r}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function bnpDRShiftTo(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function bnpLShiftTo(t,i){var r,o=t%this.DB,n=this.DB-o,e=(1<<n)-1,s=Math.floor(t/this.DB),h=this.s<<o&this.DM;for(r=this.t-1;r>=0;--r)i[r+s+1]=this[r]>>n|h,h=(this[r]&e)<<o;for(r=s-1;r>=0;--r)i[r]=0;i[s]=h,i.t=this.t+s+1,i.s=this.s,i.clamp()}function bnpRShiftTo(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(i.t=0);var o=t%this.DB,n=this.DB-o,e=(1<<o)-1;i[0]=this[r]>>o;for(var s=r+1;s<this.t;++s)i[s-r-1]|=(this[s]&e)<<n,i[s-r]=this[s]>>o;o>0&&(i[this.t-r-1]|=(this.s&e)<<n),i.t=this.t-r,i.clamp()}function bnpSubTo(t,i){for(var r=0,o=0,n=Math.min(t.t,this.t);r<n;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=o<0?-1:0,o<-1?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function bnpMultiplyTo(t,i){var r=this.abs(),o=t.abs(),n=r.t;for(i.t=n+o.t;--n>=0;)i[n]=0;for(n=0;n<o.t;++n)i[n+r.t]=r.am(0,o[n],i,n,0,r.t);i.s=0,i.clamp(),this.s!=t.s&&BigInteger.ZERO.subTo(i,i)}function bnpSquareTo(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function bnpDivRemTo(t,i,r){var o=t.abs();if(!(o.t<=0)){var n=this.abs();if(n.t<o.t)return null!=i&&i.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=nbi());var e=nbi(),s=this.s,h=t.s,p=this.DB-nbits(o[o.t-1]);p>0?(o.lShiftTo(p,e),n.lShiftTo(p,r)):(o.copyTo(e),n.copyTo(r));var a=e.t,f=e[a-1];if(0!=f){var u=f*(1<<this.F1)+(a>1?e[a-2]>>this.F2:0),g=this.FV/u,m=(1<<this.F1)/u,c=1<<this.F2,v=r.t,b=v-a,l=null==i?nbi():i;for(e.dlShiftTo(b,l),r.compareTo(l)>=0&&(r[r.t++]=1,r.subTo(l,r)),BigInteger.ONE.dlShiftTo(a,l),l.subTo(e,e);e.t<a;)e[e.t++]=0;for(;--b>=0;){var T=r[--v]==f?this.DM:Math.floor(r[v]*g+(r[v-1]+c)*m);if((r[v]+=e.am(0,T,r,b,0,a))<T)for(e.dlShiftTo(b,l),r.subTo(l,r);r[v]<--T;)r.subTo(l,r)}null!=i&&(r.drShiftTo(a,i),s!=h&&BigInteger.ZERO.subTo(i,i)),r.t=a,r.clamp(),p>0&&r.rShiftTo(p,r),s<0&&BigInteger.ZERO.subTo(r,r)}}}function bnMod(t){var i=nbi();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(BigInteger.ZERO)>0&&t.subTo(i,i),i}function Classic(t){this.m=t}function cConvert(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function cRevert(t){return t}function cReduce(t){t.divRemTo(this.m,null,t)}function cMulTo(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function cSqrTo(t,i){t.squareTo(i),this.reduce(i)}function bnpInvDigit(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function Montgomery(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function montConvert(t){var i=nbi();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(BigInteger.ZERO)>0&&this.m.subTo(i,i),i}function montRevert(t){var i=nbi();return t.copyTo(i),this.reduce(i),i}function montReduce(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=i+this.m.t,t[r]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function montSqrTo(t,i){t.squareTo(i),this.reduce(i)}function montMulTo(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(t,i){if(t>4294967295||t<1)return BigInteger.ONE;var r=nbi(),o=nbi(),n=i.convert(this),e=nbits(t)-1;for(n.copyTo(r);--e>=0;)if(i.sqrTo(r,o),(t&1<<e)>0)i.mulTo(o,n,r);else{var s=r;r=o,o=s}return i.revert(r)}function bnModPowInt(t,i){var r;return r=t<256||i.isEven()?new Classic(i):new Montgomery(i),this.exp(t,r)}var dbits,canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array,rr,vv;for(rr="0".charCodeAt(0),vv=0;vv<=9;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1);
function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(i){var t,s,h;for(t=0;t<256;++t)this.S[t]=t;for(s=0,t=0;t<256;++t)s=s+this.S[t]+i[t%i.length]&255,h=this.S[t],this.S[t]=this.S[s],this.S[s]=h;this.i=0,this.j=0}function ARC4next(){var i;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,i=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=i,this.S[i+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_psize=256;
function rng_seed_int(r){rng_pool[rng_pptr++]^=255&r,rng_pool[rng_pptr++]^=r>>8&255,rng_pool[rng_pptr++]^=r>>16&255,rng_pool[rng_pptr++]^=r>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int((new Date).getTime())}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),rng_state=prng_newstate(),rng_state.init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(r){var n;for(n=0;n<r.length;++n)r[n]=rng_get_byte()}function SecureRandom(){}var rng_state,rng_pool,rng_pptr;if(null==rng_pool){rng_pool=new Array,rng_pptr=0;var t;if(window.crypto&&window.crypto.getRandomValues){var ua=new Uint8Array(32);for(window.crypto.getRandomValues(ua),t=0;t<32;++t)rng_pool[rng_pptr++]=ua[t]}if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}for(;rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}SecureRandom.prototype.nextBytes=rng_get_bytes;
function parseBigInt(n,t){return new BigInteger(n,t)}function linebrk(n,t){for(var e="",r=0;r+t<n.length;)e+=n.substring(r,r+t)+"\n",r+=t;return e+n.substring(r,n.length)}function byte2Hex(n){return n<16?"0"+n.toString(16):n.toString(16)}function pkcs1pad2(n,t){if(t<n.length+11)return alert("Message too long for RSA"),null;for(var e=new Array,r=n.length-1;r>=0&&t>0;){var l=n.charCodeAt(r--);l<128?e[--t]=l:l>127&&l<2048?(e[--t]=63&l|128,e[--t]=l>>6|192):(e[--t]=63&l|128,e[--t]=l>>6&63|128,e[--t]=l>>12|224)}e[--t]=0;for(var i=new SecureRandom,u=new Array;t>2;){for(u[0]=0;0==u[0];)i.nextBytes(u);e[--t]=u[0]}return e[--t]=2,e[--t]=0,new BigInteger(e)}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function RSASetPublic(n,t){null!=n&&null!=t&&n.length>0&&t.length>0?(this.n=parseBigInt(n,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function RSADoPublic(n){return n.modPowInt(this.e,this.n)}function RSAEncrypt(n){var t=pkcs1pad2(n,this.n.bitLength()+7>>3);if(null==t)return null;var e=this.doPublic(t);if(null==e)return null;var r=e.toString(16);return 0==(1&r.length)?r:"0"+r}RSAKey.prototype.doPublic=RSADoPublic,RSAKey.prototype.setPublic=RSASetPublic,RSAKey.prototype.encrypt=RSAEncrypt;
function hex2b64(r){var t,a,n="";for(t=0;t+3<=r.length;t+=3)a=parseInt(r.substring(t,t+3),16),n+=b64map.charAt(a>>6)+b64map.charAt(63&a);for(t+1==r.length?(a=parseInt(r.substring(t,t+1),16),n+=b64map.charAt(a<<2)):t+2==r.length&&(a=parseInt(r.substring(t,t+2),16),n+=b64map.charAt(a>>2)+b64map.charAt((3&a)<<4));(3&n.length)>0;)n+=b64padchar;return n}function b64tohex(r){var t,a,n="",h=0;for(t=0;t<r.length&&r.charAt(t)!=b64padchar;++t)v=b64map.indexOf(r.charAt(t)),v<0||(0==h?(n+=int2char(v>>2),a=3&v,h=1):1==h?(n+=int2char(a<<2|v>>4),a=15&v,h=2):2==h?(n+=int2char(a),n+=int2char(v>>2),a=3&v,h=3):(n+=int2char(a<<2|v>>4),n+=int2char(15&v),h=0));return 1==h&&(n+=int2char(a<<2)),n}function b64toBA(r){var t,a=b64tohex(r),n=new Array;for(t=0;2*t<a.length;++t)n[t]=parseInt(a.substring(2*t,2*t+2),16);return n}var b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64padchar="=";
var CryptoJS=CryptoJS||function(t,e){var r={},i=r.lib={},n=function(){},o=i.Base={extend:function(t){n.prototype=this;var e=new n;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,r=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var n=0;n<t;n++)e[i+n>>>2]|=(r[n>>>2]>>>24-n%4*8&255)<<24-(i+n)%4*8;else if(65535<r.length)for(n=0;n<t;n+=4)e[i+n>>>2]=r[n>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],i=0;i<e;i+=4)r.push(4294967296*t.random()|0);return new s.init(r,e)}}),c=r.enc={},a=c.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],i=0;i<t;i++){var n=e[i>>>2]>>>24-i%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i+=2)r[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new s.init(r,e/2)}},f=c.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],i=0;i<t;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new s.init(r,e)}},h=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,i=r.words,n=r.sigBytes,o=this.blockSize,c=n/(4*o),c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0);if(e=c*o,n=t.min(4*e,n),e){for(var a=0;a<e;a+=o)this._doProcessBlock(i,a);a=i.splice(0,e),r.sigBytes-=n}return new s.init(a,n)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new p.HMAC.init(t,r).finalize(e)}}});var p=r.algo={};return r}(Math);!function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,i=this._map;t.clamp(),t=[];for(var n=0;n<r;n+=3)for(var o=(e[n>>>2]>>>24-n%4*8&255)<<16|(e[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|e[n+2>>>2]>>>24-(n+2)%4*8&255,s=0;4>s&&n+.75*s<r;s++)t.push(i.charAt(o>>>6*(3-s)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,i=this._map,n=i.charAt(64);n&&-1!=(n=t.indexOf(n))&&(r=n);for(var n=[],o=0,s=0;s<r;s++)if(s%4){var c=i.indexOf(t.charAt(s-1))<<s%4*2,a=i.indexOf(t.charAt(s))>>>6-s%4*2;n[o>>>2]|=(c|a)<<24-o%4*8,o++}return e.create(n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,i,n,o,s){return((t=t+(e&r|~e&i)+n+s)<<o|t>>>32-o)+e}function r(t,e,r,i,n,o,s){return((t=t+(e&i|r&~i)+n+s)<<o|t>>>32-o)+e}function i(t,e,r,i,n,o,s){return((t=t+(e^r^i)+n+s)<<o|t>>>32-o)+e}function n(t,e,r,i,n,o,s){return((t=t+(r^(e|~i))+n+s)<<o|t>>>32-o)+e}for(var o=CryptoJS,s=o.lib,c=s.WordArray,a=s.Hasher,s=o.algo,f=[],h=0;64>h;h++)f[h]=4294967296*t.abs(t.sin(h+1))|0;s=s.MD5=a.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,o){for(var s=0;16>s;s++){var c=o+s,a=t[c];t[c]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var s=this._hash.words,c=t[o+0],a=t[o+1],h=t[o+2],u=t[o+3],p=t[o+4],d=t[o+5],l=t[o+6],y=t[o+7],_=t[o+8],v=t[o+9],g=t[o+10],B=t[o+11],x=t[o+12],S=t[o+13],k=t[o+14],m=t[o+15],z=s[0],C=s[1],w=s[2],D=s[3],z=e(z,C,w,D,c,7,f[0]),D=e(D,z,C,w,a,12,f[1]),w=e(w,D,z,C,h,17,f[2]),C=e(C,w,D,z,u,22,f[3]),z=e(z,C,w,D,p,7,f[4]),D=e(D,z,C,w,d,12,f[5]),w=e(w,D,z,C,l,17,f[6]),C=e(C,w,D,z,y,22,f[7]),z=e(z,C,w,D,_,7,f[8]),D=e(D,z,C,w,v,12,f[9]),w=e(w,D,z,C,g,17,f[10]),C=e(C,w,D,z,B,22,f[11]),z=e(z,C,w,D,x,7,f[12]),D=e(D,z,C,w,S,12,f[13]),w=e(w,D,z,C,k,17,f[14]),C=e(C,w,D,z,m,22,f[15]),z=r(z,C,w,D,a,5,f[16]),D=r(D,z,C,w,l,9,f[17]),w=r(w,D,z,C,B,14,f[18]),C=r(C,w,D,z,c,20,f[19]),z=r(z,C,w,D,d,5,f[20]),D=r(D,z,C,w,g,9,f[21]),w=r(w,D,z,C,m,14,f[22]),C=r(C,w,D,z,p,20,f[23]),z=r(z,C,w,D,v,5,f[24]),D=r(D,z,C,w,k,9,f[25]),w=r(w,D,z,C,u,14,f[26]),C=r(C,w,D,z,_,20,f[27]),z=r(z,C,w,D,S,5,f[28]),D=r(D,z,C,w,h,9,f[29]),w=r(w,D,z,C,y,14,f[30]),C=r(C,w,D,z,x,20,f[31]),z=i(z,C,w,D,d,4,f[32]),D=i(D,z,C,w,_,11,f[33]),w=i(w,D,z,C,B,16,f[34]),C=i(C,w,D,z,k,23,f[35]),z=i(z,C,w,D,a,4,f[36]),D=i(D,z,C,w,p,11,f[37]),w=i(w,D,z,C,y,16,f[38]),C=i(C,w,D,z,g,23,f[39]),z=i(z,C,w,D,S,4,f[40]),D=i(D,z,C,w,c,11,f[41]),w=i(w,D,z,C,u,16,f[42]),C=i(C,w,D,z,l,23,f[43]),z=i(z,C,w,D,v,4,f[44]),D=i(D,z,C,w,x,11,f[45]),w=i(w,D,z,C,m,16,f[46]),C=i(C,w,D,z,h,23,f[47]),z=n(z,C,w,D,c,6,f[48]),D=n(D,z,C,w,y,10,f[49]),w=n(w,D,z,C,k,15,f[50]),C=n(C,w,D,z,d,21,f[51]),z=n(z,C,w,D,x,6,f[52]),D=n(D,z,C,w,u,10,f[53]),w=n(w,D,z,C,g,15,f[54]),C=n(C,w,D,z,a,21,f[55]),z=n(z,C,w,D,_,6,f[56]),D=n(D,z,C,w,m,10,f[57]),w=n(w,D,z,C,l,15,f[58]),C=n(C,w,D,z,S,21,f[59]),z=n(z,C,w,D,p,6,f[60]),D=n(D,z,C,w,B,10,f[61]),w=n(w,D,z,C,h,15,f[62]),C=n(C,w,D,z,v,21,f[63]);s[0]=s[0]+z|0,s[1]=s[1]+C|0,s[2]=s[2]+w|0,s[3]=s[3]+D|0},_doFinalize:function(){var e=this._data,r=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;r[n>>>5]|=128<<24-n%32;var o=t.floor(i/4294967296);for(r[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(r.length+1),this._process(),e=this._hash,r=e.words,i=0;4>i;i++)n=r[i],r[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),o.MD5=a._createHelper(s),o.HmacMD5=a._createHmacHelper(s)}(Math),function(){var t=CryptoJS,e=t.lib,r=e.Base,i=e.WordArray,e=t.algo,n=e.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),o=i.create(),s=o.words,c=r.keySize,r=r.iterations;s.length<c;){a&&n.update(a);var a=n.update(t).finalize(e);n.reset();for(var f=1;f<r;f++)a=n.finalize(a),n.reset();o.concat(a)}return o.sigBytes=4*c,o}});t.EvpKDF=function(t,e,r){return n.create(r).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=CryptoJS,r=e.lib,i=r.Base,n=r.WordArray,o=r.BufferedBlockAlgorithm,s=e.enc.Base64,c=e.algo.EvpKDF,a=r.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,i){return("string"==typeof r?l:d).encrypt(t,e,r,i)},decrypt:function(e,r,i){return("string"==typeof r?l:d).decrypt(t,e,r,i)}}}});r.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=e.mode={},h=function(t,e,r){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var n=0;n<r;n++)t[e+n]^=i[n]},u=(r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;h.call(this,t,e,i),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),u.Decryptor=u.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=t.slice(e,e+i);r.decryptBlock(t,e),h.call(this,t,e,i),this._prevBlock=n}}),f=f.CBC=u,u=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,r=r-t.sigBytes%r,i=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(i);r=n.create(o,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.BlockCipher=a.extend({cfg:a.cfg.extend({mode:f,padding:u}),reset:function(){a.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var p=r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),f=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?n.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){t=s.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var r=n.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return p.create({ciphertext:t,salt:r})}},d=r.SerializableCipher=i.extend({cfg:i.extend({format:f}),encrypt:function(t,e,r,i){i=this.cfg.extend(i);var n=t.createEncryptor(r,i);return e=n.finalize(e),n=n.cfg,p.create({ciphertext:e,key:r,iv:n.iv,algorithm:t,mode:n.mode,padding:n.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(r,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),e=(e.kdf={}).OpenSSL={execute:function(t,e,r,i){return i||(i=n.random(8)),t=c.create({keySize:e+r}).compute(t,i),r=n.create(t.words.slice(e),4*r),t.sigBytes=4*e,p.create({key:t,iv:r,salt:i})}},l=r.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:e}),encrypt:function(t,e,r,i){return i=this.cfg.extend(i),r=i.kdf.execute(r,t.keySize,t.ivSize),i.iv=r.iv,t=d.encrypt.call(this,t,e,r.key,i),t.mixIn(r),t},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),r=i.kdf.execute(r,t.keySize,t.ivSize,e.salt),i.iv=r.iv,d.decrypt.call(this,t,e,r.key,i)}})}(),function(){for(var t=CryptoJS,e=t.lib.BlockCipher,r=t.algo,i=[],n=[],o=[],s=[],c=[],a=[],f=[],h=[],u=[],p=[],d=[],l=0;256>l;l++)d[l]=128>l?l<<1:l<<1^283;for(var y=0,_=0,l=0;256>l;l++){var v=_^_<<1^_<<2^_<<3^_<<4,v=v>>>8^255&v^99;i[y]=v,n[v]=y;var g=d[y],B=d[g],x=d[B],S=257*d[v]^16843008*v;o[y]=S<<24|S>>>8,s[y]=S<<16|S>>>16,c[y]=S<<8|S>>>24,a[y]=S,S=16843009*x^65537*B^257*g^16843008*y,f[v]=S<<24|S>>>8,h[v]=S<<16|S>>>16,u[v]=S<<8|S>>>24,p[v]=S,y?(y=g^d[d[d[x^g]]],_^=d[d[_]]):y=_=1}var k=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes/4,t=4*((this._nRounds=r+6)+1),n=this._keySchedule=[],o=0;o<t;o++)if(o<r)n[o]=e[o];else{var s=n[o-1];o%r?6<r&&4==o%r&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=s<<8|s>>>24,s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=k[o/r|0]<<24),n[o]=n[o-r]^s}for(e=this._invKeySchedule=[],r=0;r<t;r++)o=t-r,s=r%4?n[o]:n[o-4],e[r]=4>r||4>=o?s:f[i[s>>>24]]^h[i[s>>>16&255]]^u[i[s>>>8&255]]^p[i[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,s,c,a,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,f,h,u,p,n),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,i,n,o,s,c){for(var a=this._nRounds,f=t[e]^r[0],h=t[e+1]^r[1],u=t[e+2]^r[2],p=t[e+3]^r[3],d=4,l=1;l<a;l++)var y=i[f>>>24]^n[h>>>16&255]^o[u>>>8&255]^s[255&p]^r[d++],_=i[h>>>24]^n[u>>>16&255]^o[p>>>8&255]^s[255&f]^r[d++],v=i[u>>>24]^n[p>>>16&255]^o[f>>>8&255]^s[255&h]^r[d++],p=i[p>>>24]^n[f>>>16&255]^o[h>>>8&255]^s[255&u]^r[d++],f=y,h=_,u=v;y=(c[f>>>24]<<24|c[h>>>16&255]<<16|c[u>>>8&255]<<8|c[255&p])^r[d++],_=(c[h>>>24]<<24|c[u>>>16&255]<<16|c[p>>>8&255]<<8|c[255&f])^r[d++],v=(c[u>>>24]<<24|c[p>>>16&255]<<16|c[f>>>8&255]<<8|c[255&h])^r[d++],p=(c[p>>>24]<<24|c[f>>>16&255]<<16|c[h>>>8&255]<<8|c[255&u])^r[d++],t[e]=y,t[e+1]=_,t[e+2]=v,t[e+3]=p},keySize:8});t.AES=e._createHelper(r)}();
var CryptoJS=CryptoJS||function(t,e){var n={},i=n.lib={},r=function(){},s=i.Base={extend:function(t){r.prototype=this;var e=new r;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new o.init(n,e)}}),a=n.enc={},c=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new o.init(n,e/2)}},h=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new o.init(n,e)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},u=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,s=this.blockSize,a=r/(4*s),a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(e=a*s,r=t.min(4*e,r),e){for(var c=0;c<e;c+=s)this._doProcessBlock(i,c);c=i.splice(0,e),n.sigBytes-=r}return new o.init(c,r)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=u.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new l.HMAC.init(t,n).finalize(e)}}});var l=n.algo={};return n}(Math);!function(){var t=CryptoJS,e=t.lib,n=e.WordArray,i=e.Hasher,r=[],e=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],s=n[1],o=n[2],a=n[3],c=n[4],h=0;80>h;h++){if(16>h)r[h]=0|t[e+h];else{var f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=f<<1|f>>>31}f=(i<<5|i>>>27)+c+r[h],f=20>h?f+(1518500249+(s&o|~s&a)):40>h?f+(1859775393+(s^o^a)):60>h?f+((s&o|s&a|o&a)-1894007588):f+((s^o^a)-899497514),c=a,a=o,o=s<<30|s>>>2,s=i,i=f}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=i._createHelper(e),t.HmacSHA1=i._createHmacHelper(e)}(),function(){var t=CryptoJS,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=e.parse(n));var i=t.blockSize,r=4*i;n.sigBytes>r&&(n=t.finalize(n)),n.clamp();for(var s=this._oKey=n.clone(),o=this._iKey=n.clone(),a=s.words,c=o.words,h=0;h<i;h++)a[h]^=1549556828,c[h]^=909522486;s.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t=CryptoJS,e=t.lib,n=e.Base,i=e.WordArray,e=t.algo,r=e.HMAC,s=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,s=r.create(n.hasher,t),o=i.create(),a=i.create([1]),c=o.words,h=a.words,f=n.keySize,n=n.iterations;c.length<f;){var u=s.update(e).finalize(a);s.reset();for(var l=u.words,d=l.length,p=u,g=1;g<n;g++){p=s.finalize(p),s.reset();for(var y=p.words,_=0;_<d;_++)l[_]^=y[_]}o.concat(u),h[0]++}return o.sigBytes=4*f,o}});t.PBKDF2=function(t,e,n){return s.create(n).compute(t,e)}}();
!function(r){function t(r,t,n,a,e,o,s){var i=r+(t&n|~t&a)+e+s;return(i<<o|i>>>32-o)+t}function n(r,t,n,a,e,o,s){var i=r+(t&a|n&~a)+e+s;return(i<<o|i>>>32-o)+t}function a(r,t,n,a,e,o,s){var i=r+(t^n^a)+e+s;return(i<<o|i>>>32-o)+t}function e(r,t,n,a,e,o,s){var i=r+(n^(t|~a))+e+s;return(i<<o|i>>>32-o)+t}var o=CryptoJS,s=o.lib,i=s.WordArray,c=s.Hasher,h=o.algo,u=[];!function(){for(var t=0;t<64;t++)u[t]=4294967296*r.abs(r.sin(t+1))|0}();var v=h.MD5=c.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(r,o){for(var s=0;s<16;s++){var i=o+s,c=r[i];r[i]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var h=this._hash.words,v=r[o+0],f=r[o+1],l=r[o+2],_=r[o+3],d=r[o+4],y=r[o+5],H=r[o+6],g=r[o+7],p=r[o+8],w=r[o+9],B=r[o+10],D=r[o+11],M=r[o+12],b=r[o+13],m=r[o+14],k=r[o+15],x=h[0],z=h[1],A=h[2],C=h[3];x=t(x,z,A,C,v,7,u[0]),C=t(C,x,z,A,f,12,u[1]),A=t(A,C,x,z,l,17,u[2]),z=t(z,A,C,x,_,22,u[3]),x=t(x,z,A,C,d,7,u[4]),C=t(C,x,z,A,y,12,u[5]),A=t(A,C,x,z,H,17,u[6]),z=t(z,A,C,x,g,22,u[7]),x=t(x,z,A,C,p,7,u[8]),C=t(C,x,z,A,w,12,u[9]),A=t(A,C,x,z,B,17,u[10]),z=t(z,A,C,x,D,22,u[11]),x=t(x,z,A,C,M,7,u[12]),C=t(C,x,z,A,b,12,u[13]),A=t(A,C,x,z,m,17,u[14]),z=t(z,A,C,x,k,22,u[15]),x=n(x,z,A,C,f,5,u[16]),C=n(C,x,z,A,H,9,u[17]),A=n(A,C,x,z,D,14,u[18]),z=n(z,A,C,x,v,20,u[19]),x=n(x,z,A,C,y,5,u[20]),C=n(C,x,z,A,B,9,u[21]),A=n(A,C,x,z,k,14,u[22]),z=n(z,A,C,x,d,20,u[23]),x=n(x,z,A,C,w,5,u[24]),C=n(C,x,z,A,m,9,u[25]),A=n(A,C,x,z,_,14,u[26]),z=n(z,A,C,x,p,20,u[27]),x=n(x,z,A,C,b,5,u[28]),C=n(C,x,z,A,l,9,u[29]),A=n(A,C,x,z,g,14,u[30]),z=n(z,A,C,x,M,20,u[31]),x=a(x,z,A,C,y,4,u[32]),C=a(C,x,z,A,p,11,u[33]),A=a(A,C,x,z,D,16,u[34]),z=a(z,A,C,x,m,23,u[35]),x=a(x,z,A,C,f,4,u[36]),C=a(C,x,z,A,d,11,u[37]),A=a(A,C,x,z,g,16,u[38]),z=a(z,A,C,x,B,23,u[39]),x=a(x,z,A,C,b,4,u[40]),C=a(C,x,z,A,v,11,u[41]),A=a(A,C,x,z,_,16,u[42]),z=a(z,A,C,x,H,23,u[43]),x=a(x,z,A,C,w,4,u[44]),C=a(C,x,z,A,M,11,u[45]),A=a(A,C,x,z,k,16,u[46]),z=a(z,A,C,x,l,23,u[47]),x=e(x,z,A,C,v,6,u[48]),C=e(C,x,z,A,g,10,u[49]),A=e(A,C,x,z,m,15,u[50]),z=e(z,A,C,x,y,21,u[51]),x=e(x,z,A,C,M,6,u[52]),C=e(C,x,z,A,_,10,u[53]),A=e(A,C,x,z,B,15,u[54]),z=e(z,A,C,x,f,21,u[55]),x=e(x,z,A,C,p,6,u[56]),C=e(C,x,z,A,k,10,u[57]),A=e(A,C,x,z,H,15,u[58]),z=e(z,A,C,x,b,21,u[59]),x=e(x,z,A,C,d,6,u[60]),C=e(C,x,z,A,D,10,u[61]),A=e(A,C,x,z,l,15,u[62]),z=e(z,A,C,x,w,21,u[63]),h[0]=h[0]+x|0,h[1]=h[1]+z|0,h[2]=h[2]+A|0,h[3]=h[3]+C|0},_doFinalize:function(){var t=this._data,n=t.words,a=8*this._nDataBytes,e=8*t.sigBytes;n[e>>>5]|=128<<24-e%32;var o=r.floor(a/4294967296),s=a;n[15+(e+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(e+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var i=this._hash,c=i.words,h=0;h<4;h++){var u=c[h];c[h]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return i},clone:function(){var r=c.clone.call(this);return r._hash=this._hash.clone(),r}});o.MD5=c._createHelper(v),o.HmacMD5=c._createHmacHelper(v)}(Math);
!function(){new function(){if(!window.ADRUM&&!0!==window["adrum-disable"]){var t=window.ADRUM={};window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime(),function(t){!function(t){t.Cd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(e=0;e<t.length;e++){var n=t[e];n&&n.setUp()}}}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){function n(t){return void 0!==t&&null!==t}function r(t){return"object"==typeof t&&!e.isArray(t)&&null!==t}function o(t){return"function"==typeof t||!1}function i(t){return"string"==typeof t}function a(t,n){for(var o in n){var i=n[o];if(s(n,o)){var u=t[o];r(i)&&r(u)?a(u,i):e.isArray(u)&&e.isArray(i)?t[o]=u.concat(i):t[o]=i}}return t}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&n(t[e])}function u(t){return i(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}function c(t,e){var n=Array.prototype[t];return n?f(n):l(t,e)}function f(t){var e=Array.prototype.slice;return function(n){return t.apply(n,e.call(arguments,1))}}function l(t,e){return function(r,i){if(!n(r))throw new TypeError(t+" called on null or undefined");if(!o(i))throw new TypeError(i+" is not a function");return e.apply(null,arguments)}}function p(t,e,n){var r=Object(t),o=r.length>>>0,i=0;if(3>arguments.length){for(;i<o&&!(i in r);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=e(n,r[i],i,r));return n}function d(t,n,r){return e.reduce(t,function(t,e,o,i){return t[o]=n.call(r,e,o,i),t},Array(t.length>>>0))}function h(t,n,r){return e.reduce(t,function(t,e,o,i){return n.call(r,e,o,i)&&t.push(e),t},[])}var g=Array.isArray,m=Object.prototype.toString;e.isDefined=n,e.isArray=o(g)&&o(g.bind)?g.bind(Array):function(t){return m.call(t)===m.call([])},e.isObject=r,e.isFunction=o,e.isString=i,e.isNumber=function(t){return"number"==typeof t},e.isBoolean=function(t){return"boolean"==typeof t},e.lb=function(t){setTimeout(t,0)},e.addEventListener=function(e,n,r){function o(){try{return r.apply(this,Array.prototype.slice.call(arguments))}catch(r){t.exception(r,"M1",n,e,r)}}t.isDebug&&t.log("M0",n,e),e.addEventListener?e.addEventListener(n,o,!1):e.attachEvent&&e.attachEvent("on"+n,o)},e.loadScriptAsync=function(e){var n=document.createElement("script");n.async=!0,n.src=e;var r=document.getElementsByTagName("script")[0];r?(r.parentNode.insertBefore(n,r),t.log("M2",e)):t.log("M3",e)},e.mergeJSON=a,e.hasOwnPropertyDefined=s,e.Vh=function(t){var r=[];return n(t)&&(r=e.isArray(t)?t:[t]),r},e.generateGUID=function(t){return n(t)&&o(t.getRandomValues)&&function(){function e(t){return t=t.toString(16),"0000".substr(t.length)+t}var n=new Uint16Array(8);return t.getRandomValues(n),e(n[0])+e(n[1])+"_"+e(n[2])+"_"+e(n[3])+"_"+e(n[4])+"_"+e(n[5])+e(n[6])+e(n[7])}}(window.crypto||window.msCrypto)||function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.Ld=function(t){return t&&(t=t.stack)&&"string"==typeof t?t:null},e.trim=u,e.fh=function(t){var e,n,r={};if(!t)return r;var o=t.split("\n");for(n=0;n<o.length;n++){var i=o[n];e=i.indexOf(":"),t=u(i.substr(0,e)).toLowerCase(),e=u(i.substr(e+1)),t&&(r[t]=r[t]?r[t]+", "+e:e)}return r},e.tryPeriodically=function(t,e,n,r){function o(){if(e())n&&n();else{var a=t(++i);0<a?setTimeout(o,a):r&&r()}}var i=0;o()},e.kc=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.gd=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return t.apply(this,e.concat(n))}},e.now=function(){return(new Date).getTime()},e.li=p,e.reduce=c("reduce",p),e.ki=d,e.map=c("map",d),e.ji=h,e.filter=c("filter",h),e.Ff=function(t){return e.filter(t,n)},e.wf=function(t){return[].concat.apply([],t)}}(t.utils||(t.utils={}))}(t||(t={})),function(t){var e=t.conf||(t.conf={});e.userConf=window["adrum-config"]||{},e.useHTTPSAlways=!0===e.userConf.useHTTPSAlways,e.beaconUrlHttp=t.utils.isDefined(e.userConf.beaconUrlHttp)?e.userConf.beaconUrlHttp:"http://col.eum-appdynamics.com",e.beaconUrlHttps=t.utils.isDefined(e.userConf.beaconUrlHttps)?e.userConf.beaconUrlHttps:"https://col.eum-appdynamics.com",e.corsEndpointPath="/eumcollector/beacons/browser/v1",e.imageEndpointPath="/eumcollector/adrum.gif?",e.appKey=e.userConf.appKey||window["adrum-app-key"]||"EUM-AAB-AUA",t=e.useHTTPSAlways||"https:"===document.location.protocol;var n=e.userConf.adrumExtUrlHttp||"http://cdn.appdynamics.com",r=e.userConf.adrumExtUrlHttps||"https://cdn.appdynamics.com";e.adrumExtUrl=(t?r:n)+"/adrum-ext.8c4a6dc76aa95fe7a1f821862569a8b8.js",e.adrumXdUrl=r+"/adrum-xd.8c4a6dc76aa95fe7a1f821862569a8b8.html",e.agentVer="4.3.5.0",e.sendImageBeacon=e.userConf.beacon&&e.userConf.beacon.sendImageBeacon||window["adrum-send-image-beacon"],window["adrum-geo-resolver-url"]?(n=window["adrum-geo-resolver-url"],r=n.indexOf("://"),-1!=r&&(n=n.substring(r+3)),n=(t?"https://":"http://")+n):(n=e.userConf.geoResolverUrlHttps||"",r=e.userConf.geoResolverUrlHttp||"",n=t?n:r),e.geoResolverUrl=n,e.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"],e.Fe=10}(t||(t={})),function(t){function e(e,n,r,o){return e=t.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+r+"&msg="+encodeURIComponent(e.substring(0,500)),o&&(e+="&stack=",e+=encodeURIComponent(o.substring(0,1500-e.length))),e}function n(n,r){2<=a||(document.createElement("img").src=e(n,0,t.conf.appKey,r),a++)}function r(t){return 0<=t.location.search.indexOf("ADRUM_debug=true")||0<=t.cookie.search(/(^|;)\s*ADRUM_debug=true/)}t.iDR=r,function(t){t[t.API_ERROR=0]="API_ERROR",t[t.API_ERROR_INVALID_PARAMS=1]="API_ERROR_INVALID_PARAMS",t[t.API_ERROR_INVALID_CONFIG=2]="API_ERROR_INVALID_CONFIG",t[t.API_WARNING=3]="API_WARNING",t[t.API_WARNING_INEFFECTIVE_CONFIG=4]="API_WARNING_INEFFECTIVE_CONFIG"}(t.$d||(t.$d={})),t.ja=["JS Agent API Error:","JS Agent API Error Invalid Parameters: ","JS Agent API Error Invalid Configs: ","JS Agent API Warning:","JS Agent API Warning Ineffective Config:"],t.W=" a constructor is called as a function. Don't forget keyword new.",t.isDebug=r(document),t.apiMessageConsoleOut=!(!t.utils.isDefined(t.conf.userConf)||!t.utils.isDefined(t.conf.userConf.log)||!0!==t.conf.userConf.log.apiMessageConsoleOut);var o=[],i=[];t.logMessages=o,t.apiMessages=i,t.log=function(e){for(var n=1;n<arguments.length;n++);t.isDebug&&o.push(Array.prototype.slice.call(arguments).join(" | "))},t.Pg=function(t){for(var e=1;e<arguments.length;e++);i.push(Array.prototype.slice.call(arguments).join(" | "))},t.error=function(e){for(var r=1;r<arguments.length;r++);r=Array.prototype.slice.call(arguments).join(" | "),t.log(r),n(r,null)},t.reportAPIMessage=function(e,n,r,o){var i=t.ih.apply(this,arguments);return t.Pg(i),t.apiMessageConsoleOut&&"undefined"!=typeof console&&void 0!==console.log&&console.log(i),i},t.exception=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];1>arguments.length||(e=Array.prototype.slice.call(arguments),r=t.utils.Ld(e[0]),e=e.slice(1).join(" | "),t.log(e),n(e,r))},t.assert=function(e,n){e||t.error("Assert fail: "+n)},t.dumpLog=t.isDebug?function(){for(var t="",e=0;e<o.length;e++)t+=o[e].replace(RegExp("<br/>","g"),"\n\t")+"\n";return t}:function(){},t.ih=function(e,n,r,o){var i,a="",a="",s=(new window.Error).stack,s=t.utils.isString(s)?s.substring(5):s+"";switch(t.utils.isDefined(i)||(i=t.utils.map(o,function(t){return null===t?"null":void 0==t?"undefined":""===t?"''":t})),e){case 0:case 3:a=t.ja[e],a=t.utils.isDefined(r)?""+a+n+"\n in "+r+"("+i.join(", ")+")\n"+s:""+a+n+"\n"+s;break;case 1:a=t.ja[e],a=""+a+n+"\nin "+r+"("+i.join(", ")+")\n"+s;break;case 2:case 4:a=t.ja[e],a=""+a+n+", but "+r+"="+i.join(", ")+"\n"+s;break;default:a=t.ja[0],a=""+a+n+"\nin "+r+"("+i.join(", ")+")\n"+s}return a},t.cIEBU=e;var a=0;t.log("M4")}(t||(t={})),function(t){var e=function(){function t(t){this.max=t,this.Ma=0}return t.prototype.tg=function(){this.wa()||this.Ma++},t.prototype.wa=function(){return this.Ma>=this.max},t.prototype.reset=function(){this.Ma=0},t}(),n=function(){function n(){this.pa=[],this.pb=new e(n.Pe),this.ab=new e(n.Ie)}return n.prototype.submit=function(e){this.push(e)&&t.initEXTDone&&this.processQ()},n.prototype.processQ=function(){for(var e=this.If(),n=0;n<e.length;n++){var r=e[n];"function"==typeof t.commands[r[0]]?(t.isDebug&&t.log("M5",r[0],r.slice(1).join(", ")),t.commands[r[0]].apply(t,r.slice(1))):t.error("M6",r[0])}},n.prototype.Ig=function(t){return"reportXhr"===t||"reportPageError"===t},n.prototype.push=function(e){var n=e[0],r=this.Ig(n),o=r?this.pb:this.ab;return o.wa()?(t.log("M7",r?"spontaneous":"non spontaneous",n),!1):(this.pa.push(e),o.tg(),!0)},n.prototype.If=function(){var t=this.pa;return this.reset(),t},n.prototype.size=function(){return this.pa.length},n.prototype.reset=function(){this.pa=[],this.pb.reset(),this.ab.reset()},n.prototype.isSpontaneousQueueDead=function(){return this.pb.wa()},n.prototype.isNonSpontaneousQueueDead=function(){return this.ab.wa()},n.Pe=100,n.Ie=100,n}();t.ge=n}(t||(t={})),function(t){t.q=new t.ge,t.command=function(e){for(var n=1;n<arguments.length;n++);t.isDebug&&t.log("M8",e,Array.prototype.slice.call(arguments).slice(1).join(", ")),t.q.submit(Array.prototype.slice.call(arguments))}}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.status={}}return t.prototype.setUp=function(){},t.prototype.set=function(t,e){this.status[t]=e},t}();t.Hb=e}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){window.ADRUM.aop=e,e.support=function(t){return!t||"apply"in t},e.around=function(n,r,o,i,a){return t.assert(e.support(n),"aop.around called on a function which does not support interception"),n=n||function(){},function(){t.isDebug&&t.log("M9",i,Array.prototype.slice.call(arguments).join(", "));var e,s=Array.prototype.slice.call(arguments);try{r&&(e=r.apply(this,s))}catch(e){t.exception(e,"M10",i,e)}t.assert(!e||"[object Array]"===Object.prototype.toString.call(e));var u=void 0;try{u=n.apply(this,e||s)}catch(t){throw a&&a(t),t}finally{try{o&&o.apply(this,s)}catch(e){t.exception(e,"M11",i,e)}}return u}},e.before=function(t,n,r){return e.around(t,n,null,r)},e.after=function(t,n,r){return e.around(t,null,n,r)}}(t.aop||(t.aop={}))}(t||(t={})),function(t){t=t.EventType||(t.EventType={}),t[t.PageView=0]="PageView",t[t.Ajax=2]="Ajax",t[t.VPageView=3]="VPageView",t[t.Error=4]="Error",t[t.IFRAME=1]="IFRAME",t[t.ABSTRACT=100]="ABSTRACT",t[t.ADRUM_XHR=101]="ADRUM_XHR",t[t.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE"}(t||(t={})),function(t){t=t.events||(t.events={}),t.w={},t.w[100]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"},t.w[3]={resTiming:"object"},t.w[102]={digestCount:"number"},t.w[2]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object",parameter:"object",xhrStatus:"number"},t.w[101]={allResponseHeaders:"string"},t.w[4]={msg:"string",line:"number",stack:"string"}}(t||(t={})),function(t){var e=function(){function t(){this.D={}}return t.prototype.mark=function(t,e){n.mark.apply(this,arguments)},t.prototype.getTiming=function(t){return(t=this.getEntryByName(t))&&t.startTime},t.prototype.measure=function(t,e,r){n.measure.apply(this,arguments)},t.prototype.getEntryByName=function(t){return n.getEntryByName.call(this,t)},t.La=function(t){return n.La(t)},t}();t.PerformanceTracker=e;var n;!function(e){var n=t.utils.hasOwnPropertyDefined,r=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,o=t.utils.isObject(r)&&t.utils.isObject(r.timing)&&t.utils.isNumber(r.timing.navigationStart)?r.timing.navigationStart:window["adrum-start-time"],i=t.utils.now;e.mark=function(e,n){this.D[e]={name:e,entryType:"mark",startTime:t.utils.isDefined(n)?n:i(),duration:0}},e.measure=function(e,r,a){n(this.D,r)&&n(this.D,a)?this.D[e]={name:e,entryType:"measure",startTime:r?this.D[r].startTime:o,duration:(a?this.D[a].startTime:i())-(r?this.D[r].startTime:o)}:t.error("M12",n(this.D,r)?a:r)},e.getEntryByName=function(t){return this.D[t]||null},e.La=function(t){return t+o}}(n||(n={}))}(t||(t={})),function(t){!function(e){function n(e,n){e=e||{};for(var r in e)n[r]=function(){var n=r,o=e[r];return function(e){var r="_"+n,i=this[r];if(t.utils.isDefined(e)){if(typeof e!==o)throw r="wrong type of "+n+" value, "+typeof e+" passed in but should be a "+o+".",t.reportAPIMessage(1,r,"ADRUM.report",Array.prototype.slice.call(arguments)),TypeError(r);this[r]=e}return i}}()}function r(t){var e,n={};for(e in t){var r=t[e];n[r.start]=!0,n[r.end]=!0}return n}var o=function(){function e(e){this.perf=new t.PerformanceTracker,"Object"===this.constructor.name&&t.reportAPIMessage(0,t.W),this.timestamp(t.utils.now()),this.guid(t.utils.generateGUID()),this.url(document.URL),this.nb(e)}return e.prototype.type=function(){return 100},e.prototype.nb=function(e){if(t.utils.isObject(e))for(var n in e){var r=this[n]||this["mark"+t.utils.kc(n)];r&&t.utils.isFunction(r)&&r.call(this,e[n])}},e.fc=function(t,e,n){return{guid:function(){return t},url:function(){return e},type:function(){return n}}},e.prototype.hg=function(){return e.fc(this.parentGUID(),this.parentUrl(),this.parentType())},e.prototype.parent=function(e){var n=this.hg();return t.utils.isDefined(e)&&(t.utils.isFunction(e.guid)&&t.utils.isFunction(e.url)&&t.utils.isFunction(e.type)?(this.parentGUID(e.guid()),this.parentUrl(e.url()),this.parentType(e.type())):t.reportAPIMessage(0,"object is not a valid EventIdentifier","EventTracker.parent",Array.prototype.slice.call(arguments))),n},e}();e.EventTracker=o,e.aa=n,e.gc=function(e,n){e=e||{};var o,i=r(e);for(o in i)i=t.utils.kc(o),n["mark"+i]=t.utils.gd(function(t,e){this.perf.mark(t,e)},o),n["get"+i]=t.utils.gd(function(t){return this.perf.getTiming(t)},o)},n(e.w[100],o.prototype)}(t.events||(t.events={}))}(t||(t={}));var e=this.ff||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};!function(t){!function(n){var r=function(n){function r(e){this.constructor!=r?t.reportAPIMessage(0,t.W,"ADRUM.events.Error",[]):n.call(this,e)}return e(r,n),r.prototype.type=function(){return 4},r}(n.EventTracker);n.Error=r,n.aa(n.w[4],r.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(n){var r=function(n){function r(){n.apply(this,arguments)}return e(r,n),r.prototype.setUp=function(){var e=this;n.prototype.setUp.call(this),t.listenForErrors=function(){e.Wc()},this.Wc()},r.prototype.qd=function(e,n,o,i){r.errorsSent>=t.conf.Fe?t.log("M13"):(i=t.utils.Ld(i),t.command("reportPageError",new t.events.Error(t.utils.mergeJSON({msg:e+"",url:t.utils.isString(n)?n:void 0,line:t.utils.isNumber(o)?o:void 0,stack:i},this.status))),r.errorsSent++)},r.prototype.Wc=function(){var e=this;t.aop.support(window.onerror)?(window.onerror=t.aop.around(window.onerror,function(t,n,o,i,a){r.Ya||(e.qd(t,n,o,a),r.Ya=!0)},function(){r.Ya=!1},"onerror"),t.log("M14")):t.log("M15")},r.Ya=!1,r.errorsSent=0,r}(n.Hb);n.ErrorMonitor=r,n.Ra=new n.ErrorMonitor}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){var e=function(){function e(){this.Fa=[],this.Ba(e.Ia,0)}return e.prototype.Wg=function(t){this.Ba(e.$b,t)},e.prototype.Yg=function(t){this.Ba(e.hc,t)},e.prototype.Xg=function(t){this.Ba(e.bc,t)},e.prototype.Ba=function(t,e){this.Fa.push({Vg:(new Date).getTime(),Ug:e,hd:t}),this.Cf=t},e.prototype.getPhaseName=function(){return this.Cf},e.prototype.getPhaseID=function(t){for(var n=0;n<e.ec.length;n++)if(e.ec[n]===t)return n;return null},e.prototype.getPhaseCallbackTime=function(t){for(var e=this.Fa,n=0;n<e.length;n++)if(e[n].hd===t)return e[n].Vg;return null},e.prototype.findPhaseAtNominalTime=function(n){t.assert(0<=n);for(var r=this.Fa,o=r.length-1;0<=o;o--)if(n>=r[o].Ug)return r[o].hd;return t.error("M16",n,t.utils.Jf(r)),e.Ia},e.Ia="AFTER_FIRST_BYTE",e.$b="AFTER_DOM_INTERACTIVE",e.hc="AT_ONLOAD",e.bc="AFTER_ONLOAD",e.ec=[e.Ia,e.$b,e.hc,e.bc],e}();t.ei=e,t.lifecycle=new e,t.lifecycle=t.lifecycle}(t||(t={})),function(t){!function(t){var n=function(t){function n(){t.apply(this,arguments)}return e(n,t),n.prototype.type=function(){return 0},n}(t.EventTracker);t.PageView=n}(t.events||(t.events={}))}(t||(t={})),function(t){!function(e){var n=t.utils.now,r=function(){function r(){}return r.prototype.setUp=function(){var e=document.readyState;if("loading"===e)t.log("M17"),r.wh(),r.Dd();else{var o={timeStamp:n()};r.X(o),"interactive"===e?(t.log("M18"),r.Dd()):(t.log("M19"),r.ca(o),r.fd(o))}},r.Dd=function(){t.utils.addEventListener(window,"load",r.ca),t.utils.addEventListener(window,"load",r.fd)},r.fd=function(o){r.currentBasePage=new t.events.PageView,t.lifecycle.Yg(o&&o.timeStamp),t.utils.lb(function(){var o=n();t.lifecycle.Xg(o),t.command("mark","onload",o),e.PerformanceMonitor.perf&&(e.perfMonitor.xf(),e.perfMonitor.yf()),t.command("reportOnload",r.currentBasePage),t.utils.loadScriptAsync(t.conf.adrumExtUrl)}),t.log("M20")},r.wh=function(){if(t.utils.isFunction(document.addEventListener))document.addEventListener("DOMContentLoaded",r.X,!1);else if(t.utils.isObject(document.attachEvent)){document.attachEvent("onreadystatechange",r.X);var e=null;try{e=null===window.frameElement?document.documentElement:null}catch(t){}null!=e&&e.doScroll&&function t(){if(!r.isReady){try{e.doScroll("left")}catch(e){return void setTimeout(t,10)}r.ca()}}()}else t.exception("M21");t.log("M22")},r.ca=function(e){r.Zc||(t.lifecycle.Wg(e&&e.timeStamp),t.command("mark","onready",n()),r.Zc=!0)},r.X=function(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",r.X,!1),r.ca(t)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",r.X),r.ca(t))},r.isReady=!1,r.Zc=!1,r}();e.DOMEventsMonitor=r,e.Hf=new e.DOMEventsMonitor}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){var n=function(){function e(){this.navTiming=this.resTiming=null}return e.prototype.setUp=function(){e.perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,t.utils.isObject(e.perf)&&t.utils.isObject(e.perf.timing)||(e.perf=void 0),this.setResourceTimingBufferSize()},e.prototype.setResourceTimingBufferSize=function(){var n=e.perf,r=t.conf.userConf&&t.conf.userConf.resTiming&&t.conf.userConf.resTiming.bufSize;!t.utils.isNumber(r)||0>=r?t.log("M23"):n&&t.utils.isFunction(n.setResourceTimingBufferSize)?n.setResourceTimingBufferSize(r):t.log("M24setResourceTimingBufferSize is not supported")},e.prototype.xf=function(){var n=e.perf;if(n=n&&n.timing)if(n.navigationStart&&n.navigationStart<=n.loadEventEnd){var r,o={};for(r in n){var i=n[r];"number"==typeof i&&(o[r]=i)}this.navTiming=o}else t.log("M26");else t.log("M25")},e.prototype.yf=function(){this.resTiming=this.Dc()},e.prototype.Dc=function(){var n=e.perf,r=[];return n&&n.getEntriesByType&&(n=n.getEntriesByType("resource"))&&n.length&&0<n.length&&n.unshift&&(r=n),0==r.length&&t.log("M27"),r},e.perf=null,e}();e.PerformanceMonitor=n,e.perfMonitor=new e.PerformanceMonitor}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){e.parseURI=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t=e&&null!=t.match(e[1]+"//"),e&&{href:e[0]||"",protocol:e[1]||"",ob:t?"//":"",wb:e[2]||"",gb:e[3]||"",host:e[4]||"",hostname:e[5]||"",port:e[6]||"",pathname:e[7]||"",search:e[8]||"",hash:e[9]||""}},e.absolutizeURI=function(t,n){function r(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}var o,i,a,s,u,c,f,l;return l=n?e.parseURI(n):{},f=t?e.parseURI(t):{},l.protocol?(o=l.protocol,i=l.ob,a=l.wb,s=l.gb,u=l.host,c=r(l.pathname),f=l.search):l.host?(o=f.protocol,i=f.ob,a=l.wb,s=l.gb,u=l.host,c=r(l.pathname),f=l.search):(o=f.protocol,i=f.ob,a=f.wb,s=f.gb,u=f.host,l.pathname?("/"===l.pathname.charAt(0)?c=r(l.pathname):(c=f.pathname?f.pathname.slice(0,f.pathname.lastIndexOf("/")+1)+l.pathname:i?"/"+l.pathname:l.pathname,c=r(c)),f=l.search):(c=r(f.pathname),f=l.search||f.search)),o+i+(a?a+(s?":"+s:"")+"@":"")+u+c+f+(l.hash?l.hash:"")},e.getFullyQualifiedUrl=function(n){try{var r,o,i=document.location.href;t:{for(var a=document.getElementsByTagName("base"),s=0;s<a.length;s++){var u=a[s].href;if(u){o=u;break t}}o=void 0}return r=o?e.absolutizeURI(i,o):i,e.absolutizeURI(r,n)}catch(e){return t.exception(e,"M28",n,r),n}}}(t.utils||(t.utils={}))}(t||(t={})),function(t){t=t.events||(t.events={}),t=t.b||(t.b={}),t.navigationStart="navigationStart",t.domainLookupStart="domainLookupStart",t.domainLookupEnd="domainLookupEnd",t.connectStart="connectStart",t.secureConnectionStart="secureConnectionStart",t.connectEnd="connectEnd",t.requestStart="requestStart",t.responseStart="responseStart",t.responseEnd="responseEnd",t.domContentLoadedEventStart="domContentLoadedEventStart",t.loadEventEnd="loadEventEnd",t.Ad="sendTime",t.xc="firstByteTime",t.vd="respAvailTime",t.wd="respProcTime",t.yb="viewChangeStart",t.Qd="viewChangeEnd",t.zb="viewDOMLoaded",t.Vd="xhrRequestsCompleted",t.Oi="viewFragmentsLoaded",t.Pi="viewResourcesLoaded",t.Ab="virtualPageStart",t.Sh="virtualPageEnd"}(t||(t={})),function(t){t=t.events||(t.events={}),t.metricSpec={},t.metricSpec[0]={Of:{start:t.b.navigationStart,end:t.b.loadEventEnd,name:"PLT"},Vf:{start:t.b.navigationStart,end:t.b.responseStart,name:"FBT"},Ki:{start:t.b.navigationStart,end:t.b.requestStart,name:"SCT"},Li:{start:t.b.secureConnectionStart,end:t.b.connectEnd,name:"SHT"},ri:{start:t.b.domainLookupStart,end:t.b.domainLookupEnd,name:"DLT"},Ni:{start:t.b.connectStart,end:t.b.connectEnd,name:"TCP"},Ii:{start:t.b.requestStart,end:t.b.responseStart,name:"RAT"},ti:{start:t.b.responseStart,end:t.b.loadEventEnd,name:"FET"},vi:{start:t.b.responseStart,end:t.b.domContentLoadedEventStart,name:"DRT"},ii:{start:t.b.responseStart,end:t.b.responseEnd,name:"DDT"},pi:{start:t.b.responseEnd,end:t.b.domContentLoadedEventStart,name:"DPT"},Hi:{start:t.b.domContentLoadedEventStart,end:t.b.loadEventEnd,name:"PRT"},qi:{start:t.b.navigationStart,end:t.b.domContentLoadedEventStart,name:"DOM"}},t.metricSpec[2]={Vf:{start:t.b.Ad,end:t.b.xc,name:"FBT"},ui:{start:t.b.xc,end:t.b.vd,name:"DDT"},hi:{start:t.b.vd,end:t.b.wd,name:"DPT"},Of:{start:t.b.Ad,end:t.b.wd,name:"PLT"}},t.metricSpec[3]={Bi:{start:t.b.Ab,end:t.b.Sh,name:"PLT"},ni:{start:t.b.yb,end:t.b.Qd,name:"DDT"},yi:{start:t.b.yb,end:t.b.zb,name:"DRT"},Zh:{start:t.b.Qd,end:t.b.zb,name:"DPT"},$h:{start:t.b.yb,end:t.b.zb,name:"DOM"},Gi:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},zi:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},xi:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},Ai:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}},t.metricSpec[102]=t.metricSpec[3]}(t||(t={})),function(t){!function(n){var r=function(r){function o(e){this.constructor!=o&&this.constructor!=n.AdrumAjax?t.reportAPIMessage(0,t.W,"ADRUM.events.Ajax",[]):r.call(this,e)}return e(o,r),o.prototype.type=function(){return 2},o}(n.EventTracker);n.Ajax=r,n.aa(n.w[2],r.prototype),n.gc(n.metricSpec[2],r.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(t){var n=function(t){function n(e){t.call(this,e)}return e(n,t),n.prototype.type=function(){return 2},n}(t.Ajax);t.AdrumAjax=n,t.aa(t.w[101],n.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(n){var r=t.utils.isObject,o=t.utils.isDefined,i=t.utils.map,a=t.utils.reduce,s=t.utils.filter,u=t.utils.Vh,c=t.utils.isString,f=t.utils.Ff,l=t.utils.wf,p=t.utils.isFunction,d=t.utils.mergeJSON,h=function(n){function h(){n.call(this),this.conf=null,this.qb=!1,this.Ja=0,!0===window["adrum-xhr-disable"]?t.log("M29"):window.XMLHttpRequest?(this.conf={exclude:[{urls:[{pattern:t.conf.beaconUrlHttp+t.conf.corsEndpointPath},{pattern:t.conf.beaconUrlHttps+t.conf.corsEndpointPath}]}],include:[],maxPerPageView:h.Fb},h.nd(this.conf,t.conf.userConf&&t.conf.userConf.xhr),(this.g=window.XMLHttpRequest.prototype)?"open"in this.g&&"send"in this.g?(this.qb=t.aop.support(this.g.open)&&t.aop.support(this.g.send))||t.log("M33"):t.log("M32"):t.log("M31")):t.log("M30")}return e(h,n),h.nd=function(e,n){var r=h.Fb;if(n){var o=n.maxPerPageView;t.utils.isNumber(o)&&0<o?r=o:t.reportAPIMessage(4,"value is not valid; don't limit xhr","xhr.maxPerPageView",[o])}e.maxPerPageView=r,e.exclude=h.xb(h.Pd,"exclude",e,n),e.include=h.xb(h.Pd,"include",e,n),e.parameter=h.xb(h.Qh,"parameter",n)},h.xb=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return f(i(s(l(i(f(n),function(t){return u(t[e])})),h.Eg(e)),t))},h.Pd=function(t){var e=h.ld(t);return t=h.md(t),e||t},h.Eg=function(e){return function(n){return r(n)||t.reportAPIMessage(2,"Filter object must be an object","xhr."+e,[n])}},h.md=function(t){var e=t.urls;if(e&&0<e.length&&(t.urls=h.Af(e),0<t.urls.length))return t},h.ld=function(e){var n=e.method;if(o(n)){if(c(n))return e;t.error("M34")}},h.Qh=function(t){var e=h.md(t);return h.ld(t),h.jh(t)&&e},h.jh=function(e){if(p(e.getFromBody))return e;t.error("M35")},h.Af=function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r].pattern;if("string"==typeof o)try{n.push(new RegExp(o))}catch(e){t.exception(e,"Parse regex pattern failed.")}else t.error("xhr filter pattern should be a string")}return n},h.Ed=function(t,e,n){var r=n&&n.include;return n=n&&n.exclude,r&&0<r.length&&!h.Tc(e,t,r)||n&&0<n.length&&h.Tc(e,t,n)},h.uc=function(e){var n=e.message||e.description,r=e.fileName||e.filename,o=e.lineNumber;t.utils.isString(e.description)&&0<=e.description.indexOf("Access is denied.")&&(n+=": maybe you have CORS XHR error in IE"),t.monitor.Ra.qd(n,r,o,e)},h.prototype.setUp=function(){if(this.qb){t.log("M36"),t.xhrConstructor=window.XMLHttpRequest,t.xhrOpen=this.xhrOpen=this.g.open,t.xhrSend=this.xhrSend=this.g.send;var e=this;this.g.open=t.aop.around(this.g.open,function(){h.Gg(this)&&(4===this.readyState?(t.log("M37"),h.Pf(this._adrumAjaxT),h.a(this,this._adrumAjaxT)):t.log("M38"+this._adrumAjaxT.url()+"' is reported."));var n=1<=arguments.length?String(arguments[0]):"",r=2<=arguments.length?String(arguments[1]):"",r=t.utils.getFullyQualifiedUrl(r);e.Ja>=e.conf.maxPerPageView||h.Ed(r,n,e.conf)||(this._adrumAjaxT=new t.events.AdrumAjax(t.utils.mergeJSON({method:n,url:r},e.status)))},null,"XHR.open",h.uc),this.g.send=t.aop.around(this.g.send,function(n){var r=this,o=this._adrumAjaxT;if(o&&!(++e.Ja>e.conf.maxPerPageView)){var i=t.utils.now(),a=o.getSendTime();t.assert(null===a,"M39"),o.timestamp(i),o.markSendTime(a||i),o.parentPhase(t.lifecycle.getPhaseName()),h.Rc(o.url())?r.setRequestHeader("ADRUM","isAjax:true"):t.log("M40",document.location.href,o.url()),n=h.gg(o.url(),e.conf.parameter,n),o.parameter(n);var s=0,u=function(){if(4==r.readyState)t.log("M41"),e.Ga(r);else{var n=null;try{n=r.onreadystatechange}catch(n){return t.log("M42",n),void e.Ga(r)}s++,n?t.aop.support(n)?(r.onreadystatechange=e.pc(n,r,"XHR.onReadyStateChange"),t.log("M43",s)):(t.log("M44"),e.Ga(r)):s<h.df?t.utils.lb(u):(t.log("M45"),e.Ga(r))}};u()}},null,"XHR.send",h.uc),"addEventListener"in this.g&&"removeEventListener"in this.g&&t.aop.support(this.g.addEventListener)&&t.aop.support(this.g.removeEventListener)?(this.g.addEventListener=t.aop.around(this.g.addEventListener,this.Bf(),null,"XHR.addEventListener"),this.g.removeEventListener=t.aop.around(this.g.removeEventListener,function(e,n){if(this._adrumAjaxT){var r=Array.prototype.slice.call(arguments);return n.__adrumInterceptor?(r[1]=n.__adrumInterceptor,t.log("M46")):t.log("M47"),r}},null,"XHR.removeEventListener")):t.log("M48"),t.log("M49")}},h.prototype.td=function(){this.Ja=0},h.$c=function(t,e){for(var n=!1,r=0;r<e.length;r++){var o=e[r];if(o&&o.test(t)){n=!0;break}}return n},h.Tc=function(t,e,n){var r=!1;if(e&&n)for(var o=0;o<n.length;o++){var i=n[o];if(!(i.method&&t!==i.method||i.urls&&!h.$c(e,i.urls))){r=!0;break}}return r},h.gh=function(t,e,n){return(e||t)===(n||t)},h.Rc=function(t){var e=document.createElement("a");e.href=t,t=document.location;var n=t.protocol;return e.protocol===n&&e.hostname===t.hostname&&h.gh(h.Ef[n],e.port,t.port)},h.gg=function(t,e,n){if(e&&(e=s(i(s(e,function(e){return h.$c(t,e.urls)}),function(t){return t.getFromBody(n)}),r),0<e.length))return a(e,d,{})},h.Ic=function(e){var n=e._adrumAjaxT;if(n){var r=(new Date).getTime();2==e.readyState?n.markFirstByteTime(n.getFirstByteTime()||r):4==e.readyState&&(t.assert(null===n.getRespAvailTime(),"M50"),n.markRespAvailTime(n.getRespAvailTime()||r),n.markFirstByteTime(n.getFirstByteTime()||r))}},h.prototype.pc=function(e,n,r){return h.Xh(e,function(){h.Ic(this)},function(){var e=n._adrumAjaxT;if(e&&4==n.readyState){var r=(new Date).getTime();t.assert(null===e.getRespProcTime(),"M51"),e.markRespProcTime(e.getRespProcTime()||r),h.a(n,e)}},r)},h.Gg=function(e){return t.utils.isDefined(e._adrumAjaxT)&&t.utils.isString(e._adrumAjaxT._url)},h.Pf=function(t){var e=(new Date).getTime();t.markRespAvailTime(t.getRespAvailTime()||e),t.markFirstByteTime(t.getFirstByteTime()||e),t.markRespProcTime(t.getRespProcTime()||e)},h.a=function(e,n){var r,o=e.status;n.xhrStatus(o),n.allResponseHeaders(e.getAllResponseHeaders()),400<=o?(r="blob"==e.responseType?"blob":c(e.responseText)?e.responseText:"",n.error({status:o,msg:r})):0!==o||h.Rc(n.url())||n.error({status:o,msg:"Cannot load requested resource. The cause may be: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin is therefore not allowed access"}),t.command("reportXhr",n)},h.prototype.Ga=function(e){if(e._adrumAjaxT){var n=(new Date).getTime()+3e4,r=function(){h.Ic(e);var o=e._adrumAjaxT;if(o){var i=(new Date).getTime();4==e.readyState?(t.assert(null===o.getRespProcTime(),"M52"),o.markRespProcTime(o.getRespProcTime()||i),t.log("M53"),h.a(e,o),delete e._adrumAjaxT):i<n?setTimeout(r,h.Gb):(delete e._adrumAjaxT,t.log("M54"))}};r()}},h.Xh=function(e,n,r,o){var i=e;return e&&"object"==typeof e&&"toString"in e&&"[xpconnect wrapped nsIDOMEventListener]"===e.toString()&&"handleEvent"in e&&(i=function(){e.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),t.aop.around(i,n,r,o)},h.prototype.Bf=function(){for(var e=0;e<arguments.length;e++);var n=this;return function(e,r){if(("load"===e||"error"===e)&&r&&this._adrumAjaxT){var o;if(o=r,o.__adrumInterceptor)o=o.__adrumInterceptor;else if(t.aop.support(o)){var i=n.pc(o,this,"XHR.invokeEventListener");o=o.__adrumInterceptor=i}else o=null;if(o)return i=Array.prototype.slice.call(arguments),i[1]=o,t.log("M55"),i;t.log("M56",e,r)}}},h.df=5,h.Gb=50,h.Fb=50,h.Ef={"http:":"80","https:":"443"},h}(n.Hb);n.na=h,n.ia=new n.na}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){function n(t,e){var n=[],r=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(t);if(r){var o=r[1],r=r[2].replace(/^"|"$/g,""),r=decodeURIComponent(r).split("|"),a=r[0].split(":");if("R"===a[0]&&Number(a[1])===e)for(i(o),o=1;o<r.length;o++)n.push(r[o])}return n}function r(t,e){var n=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(t);if(n){var r=n[1],o=n[4],a=n[5];if(Number(n[3])===e)return i(r),{index:Number(o),value:a}}return null}function o(e){var n=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(e);if(n)return t.log("M59",e),3===n.length?(i("ADRUM"),{startTime:Number(n[1]),startPage:n[2]}):(t.error("M60",e),null)}function i(e){t.log("M58",e);var n=new Date;n.setTime(n.getTime()-1e3),document.cookie=e+"=;Expires="+n.toUTCString()}e.startTimeCookie=null,e.cookieMetadataChunks=null,e.sc=function(i,a){t.log("M57");for(var s=a?a.length:0,u=[],c=i.split(";"),f=0;f<c.length;f++){var l=c[f],p=r(l,s);p?u.push(p):null!=(l=o(l))&&(e.startTimeCookie=l)}for(Array.prototype.sort.call(u,function(t,e){return t.index-e.index}),l=[],
f=0;f<u.length;f++)l.push(u[f].value);for(f=0;f<c.length;f++)(u=n(c[f],s))&&0<u.length&&(l=l.concat(u));e.cookieMetadataChunks=l},t.correlation.eck=e.sc}(t.correlation||(t.correlation={}))}(t||(t={})),function(t){t.report=function(e){t.utils.isObject(e)&&t.utils.isFunction(e.type)?-1==[0,2,3,4].indexOf(e.type())?t.reportAPIMessage(0,e.type()+"is not a valid external event type","ADRUM.report",Array.prototype.slice.call(arguments)):t.utils.lb(function(){t.command("reportEvent",e)}):t.reportAPIMessage(1,"","ADRUM.report",Array.prototype.slice.call(arguments))}}(t||(t={})),function(t){"EUM-AAB-AUA"===t.conf.appKey&&"undefined"!=typeof console&&void 0!==console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']"),t.correlation.sc(document.cookie,document.referrer),t.command("mark","firstbyte",window["adrum-start-time"]),t.monitor.Cd(t.monitor.Ra,t.monitor.Hf,t.monitor.perfMonitor,t.monitor.ia)}(t||(t={})),function(t){t=t.ng||(t.ng={}),t=t.c||(t.c={}),t.Xc="locationChangeStart",t.Og="locationChangeSuccess",t.yd="routeChangeStart",t.zd="routeChangeSuccess",t.Gd="stateChangeStart",t.Hd="stateChangeSuccess",t.Rd="viewContentLoaded",t.qg="includeContentRequested",t.pg="includeContentLoaded",t.qc="digest",t.Di="outstandingRequestsComplete",t.jc="beforeNgXhrRequested",t.ac="afterNgXhrRequested",t.Ci="ngXhrLoaded",t.mc="$$completeOutstandingRequest"}(t||(t={})),function(t){!function(e){function n(t,n,r,o,i,a){if(n)try{return n.apply(t,[r,o,i].concat(a))}catch(n){return t.error(r,o,i,a,e.Error.re,"an exception occurred in a caller-provided callback function",n)}}function r(t,r){return function(){var o=this.current,i=r[o]||r[e.ma]||o,a=Array.prototype.slice.call(arguments);if(this.uf(t))return this.error(t,o,i,a,e.Error.se,"event "+t+" inappropriate in current state "+this.current);if(!1===n(this,this["onbefore"+t],t,o,i,a))return e.la.Cb;if(i===e.ma&&(i=o),o===i)return n(this,this["onafter"+t]||this["on"+t],t,o,i,a),e.la.Qe;var s=this;return this.transition=function(){return s.transition=null,s.current=i,n(s,s["onenter"+i]||s["on"+i],t,o,i,a),n(s,s["onafter"+t]||s["on"+t],t,o,i,a),e.la.Ye},!1===n(this,this["onleave"+o],t,o,i,a)?(this.transition=null,e.la.Cb):this.transition?this.transition():void 0}}var o=t.utils.hasOwnPropertyDefined;e.VERSION="2.3.5",e.la={Ye:1,Qe:2,Cb:3,ci:4},e.Error={se:100,di:200,re:300},e.ma="*",e.create=function(t,n){function i(t){var n=t.from instanceof Array?t.from:t.from?[t.from]:[e.ma];f[t.name]=f[t.name]||{};for(var r=0;r<n.length;r++)l[n[r]]=l[n[r]]||[],l[n[r]].push(t.name),f[t.name][n[r]]=t.to||n[r]}var a="string"==typeof t.initial?{state:t.initial}:t.initial,s=n||t.target||{},u=t.events||[],c=t.callbacks||{},f={},l={};a&&(a.event=a.event||"startup",i({name:a.event,from:"none",to:a.state}));for(var p=0;p<u.length;p++)i(u[p]);for(var d in f)o(f,d)&&(s[d]=r(d,f[d]));for(d in c)o(c,d)&&(s[d]=c[d]);return s.current="none",s.wi=function(t){return t instanceof Array?0<=t.indexOf(this.current):this.current===t},s.tf=function(t){return!this.transition&&(o(f[t],this.current)||o(f[t],e.ma))},s.uf=function(t){return!this.tf(t)},s.Fa=function(){return l[this.current]},s.error=t.error||function(t,e,n,r,o,i,a){throw a||i},a&&!a.defer&&s[a.event](),s}}(t.Vb||(t.Vb={}))}(t||(t={})),function(t){!function(n){var r=function(r){function o(e){this.constructor!=t.ng.NgVPageView&&this.constructor!=o?t.reportAPIMessage(0,t.W,"ADRUM.events.VPageView",[]):(r.call(this,e),this.perf=new t.PerformanceTracker,this.start(),t.monitor.ia.td())}return e(o,r),o.prototype.type=function(){return 3},o.prototype.cg=function(){return n.EventTracker.fc(this.guid(),this.url(),this.type())},o.prototype.Fd=function(e){var n=this.cg();e.set("parent",n),t.log("M61",n.guid(),n.url())},o.prototype.startCorrelatingXhrs=function(){t.log("M62"),this.Fd(t.monitor.ia)},o.prototype.stopCorrelatingXhrs=function(){t.monitor.ia.set("parent",null),t.log("M63")},o.prototype.zh=function(){t.log("M64"),this.Fd(t.monitor.Ra)},o.prototype.start=function(){this.markVirtualPageStart(),this.startCorrelatingXhrs()},o.prototype.end=function(){this.markVirtualPageEnd(),this.stopCorrelatingXhrs()},o}(n.EventTracker);n.VPageView=r,n.aa(n.w[3],r.prototype),n.gc(n.metricSpec[3],r.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){var e=t.ng||(t.ng={}),e=e.conf||(e.conf={});e.disabled=t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.disable,e.distinguishVPwithItsTemplateUrl=!!(t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&!0===t.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl),e.xhr={},e.metrics={includeResTimingInEndUserResponseTiming:!0},t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.vp&&(t.conf.userConf.spa.angular.vp.xhr&&t.monitor.na.nd(e.xhr,t.conf.userConf.spa.angular.vp.xhr),t.conf.userConf.spa.angular.vp.metrics&&t.utils.mergeJSON(e.metrics,t.conf.userConf.spa.angular.vp.metrics))}(t||(t={})),function(t){!function(n){var r=function(r){function o(e){r.call(this,e),this.Qc=!0,this.da={},this.V=0,this.constructor!=o?t.reportAPIMessage(0,t.W,"ADRUM.events.Ajax",[]):this.stopCorrelatingXhrs()}return e(o,r),o.prototype.type=function(){return 3},o.prototype.Ab=function(){this.markViewChangeStart(),this.markVirtualPageStart(this.getViewChangeStart()),this.timestamp(this.getViewChangeStart())},o.prototype.rg=function(){this.digestCount(this.digestCount()+1)},o.prototype.sg=function(){this.V++,t.log("increasing xhr count "+this.V+" pending xhr requests")},o.prototype.Df=function(){this.V--,t.log("decreasing xhr count "+this.V+" pending xhr requests")},o.prototype.lg=function(){var e=this.perf.getEntryByName(t.events.b.Vd);return t.log("xhrCount "+this.V+" xhrReuqestCompleted "+e),0<this.V},o.prototype.qf=function(){var t={Ea:0},e=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]");if(e&&0<e.length)for(var n in o.ud)for(var r=0;r<e.length;r++){var i=angular.element(e[r]).find(n);if(0<i.length)for(var a=0;a<i.length;a++){var s=i[a][o.ud[n].sb];(s=s?decodeURIComponent(s):null)&&!t[s]&&(t[s]=n,t.Ea++)}}this.da=t},o.prototype.pf=function(t){return!!this.da[decodeURIComponent(t.name)]},o.prototype.rf=function(){var e=[],n=this;0<this.da.Ea&&(e=t.monitor.perfMonitor.Dc().filter(function(t){return n.pf(t)})),this.resTiming(e)},o.Sf=function(e){for(var r=[],o=0;o<e.length;o++){var i=e[o];2!==e[o].eventType&&101!==e[o].eventType||t.monitor.na.Ed(i.eventUrl,i.method,n.conf.xhr)||r.push(e[o])}return r},o.dg=function(t){var e,n,r=-1;for(e=0,n=t.length;e<n;e++)r=Math.max(r,t[e].timestamp+t[e].metrics.PLT);return r},o.prototype.kf=function(){if(n.conf.xhr){var e=o.Sf(t.channel.getEventsWithParentGUID(this.guid())),e=o.dg(e);if(0<e){var r=this.perf.getEntryByName(t.events.b.Vd);this.markXhrRequestsCompleted(Math.min(r&&r.startTime||Number.MAX_VALUE,e))}}},o.prototype.adjustTimings=function(){this.kf();var e=this.getViewDOMLoaded(),r=this.getXhrRequestsCompleted(),e=Math.max(e,r);n.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.jf(),r=this.getViewResourcesLoaded(),r=Math.max(e,r),t.log("adjust this.end from %s to %s",e,r),e=r),this.markVirtualPageEnd(e)},o.prototype.jf=function(){if(0<this.da.Ea){this.rf();var e=this.resTiming();if(e&&e.length>=this.da.Ea){for(var n=[],r=0;r<e.length;r++)n.push(e[r].responseEnd);e=Math.max.apply(Math,n),this.markViewResourcesLoaded(t.PerformanceTracker.La(e))}}},o.prototype.identifier=function(e){var n=this.Td;return t.utils.isDefined(e)&&(this.Td=o.Qf(e),this.url(this.Td.url)),n},o.Qf=function(e){var n={};return e&&e.j?(n.j={eb:""},t.utils.mergeJSON(n.j,{eb:e.j.originalPath,ea:e.j.template,fa:e.j.templateUrl})):e&&e.state&&(n.state={url:""},t.utils.mergeJSON(n.state,{url:e.state.url,name:e.state.name,ea:e.state.template,fa:e.state.templateUrl})),n},o.ud={img:{sb:"src"},script:{sb:"src"},link:{sb:"href"}},o}(t.events.VPageView);n.NgVPageView=r,t.events.aa(t.events.w[102],r.prototype)}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=function(){function n(){this.h=new e.NgVPageView}return n.prototype.qh=function(){var r=this;e.conf.metrics.includeResTimingInEndUserResponseTiming?(t.log("M65"),setTimeout(function(){r.hb()},n.$e)):setTimeout(function(){r.hb()},n.af)},n.prototype.hb=function(){t.log("M66");var e=this.h;e.parent(t.monitor.DOMEventsMonitor.currentBasePage),t.command("call",function(){e.adjustTimings(),t.reporter.reportEvent(e)})},n.prototype.vh=function(t){this.h=t},n.$e=5e3,n.af=2*t.monitor.na.Gb,n}();e.VirtualPageStateMachine=n,t.Vb.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(e){t.log("M67"+e)},callbacks:{onChangeView:function(){this.h.Ab(),this.h.zh()},onviewLoaded:function(){this.h.markViewDOMLoaded()},onXhrPending:function(){this.h.Qc&&this.xhrCompleted()},onleaveXhrPending:function(t,e,n){return"abort"===t?(this.hb(),!0):"xhrCompleted"===t&&"End"===n?!this.h.lg()&&(this.h.markXhrRequestsCompleted(),!0):void 0},onEnd:function(){this.h.qf(),this.qh()},oninit:function(e,n,r,o){this.vh(o),t.monitor.ia.td()},onlocChange:function(t,e,n,r){this.h.identifier.url=r,this.h.nb({url:r})},onbeforeXhrReq:function(e,n,r,o){var i=this.h;return i.Qc=!1,t.log("M68",o&&o[1]||"",i.guid()),i.sg(),i.startCorrelatingXhrs(),o[3]&&(o[3]=t.aop.before(o[3],function(e,n,r){t.log("M69"),i.Df(),r&&(e=t.utils.fh(r)["content-type"])&&0<=e.indexOf("text/html")&&i.markViewFragmentsLoaded()})),o},onafterXhrReq:function(){this.h.stopCorrelatingXhrs()}}},n.prototype)}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=function(){function n(){this.n=new e.VirtualPageStateMachine,this.distinguishVPwithItsTemplateUrl=t.ng.conf.distinguishVPwithItsTemplateUrl}return n.prototype.k=function(r,o){switch(t.log("M70",r),r){case e.c.yd:case e.c.Gd:this.n.start();var i=o.next.url||document.URL,a=new e.NgVPageView({url:i,identifier:o.next});this.distinguishVPwithItsTemplateUrl&&n.Ag(this.n.h,a)?this.n.h.nb({url:i,identifier:o.next}):this.Fh(a);break;case e.c.zd:case e.c.Hd:this.n.h.markViewChangeEnd();break;case e.c.Rd:this.n.viewLoaded();break;case e.c.jc:this.n.beforeXhrReq(o);break;case e.c.ac:this.n.afterXhrReq();break;case e.c.mc:this.n.xhrCompleted();break;case e.c.Xc:this.n.locChange(o.next.url);break;case e.c.qc:this.n.h.rg()}},n.prototype.Fh=function(t){this.n.abort(),this.n.init(t),this.n.start()},n.Ag=function(e,n){var r=e.identifier(),o=n.identifier();return!t.utils.isDefined(r)&&!t.utils.isDefined(o)||r===o||!(!t.utils.isDefined(r)||!t.utils.isDefined(o))&&(r.state||o.state?!(!t.utils.isDefined(r.state)||!t.utils.isDefined(o.state))&&(r.state.name===o.state.name&&r.state.ea===o.state.ea&&r.state.fa===o.state.fa&&r.state.url===o.state.url):r.j&&o.j?r.j.eb===o.j.eb&&r.j.ea===o.j.ea&&r.j.fa===o.j.fa:r.url===o.url)},n}();e.bf=n}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=t.utils.addEventListener,r=function(){function r(){this.l=new e.bf,this.Oc=!1}return r.prototype.setUp=function(){function e(e){return function(){t.log(e),r.init()}}var r=this;e("M71")(),n(document,"DOMContentLoaded",e("M72")),n(window,"load",e("M73"))},r.prototype.init=function(){if("undefined"!=typeof angular&&!this.Oc){this.Oc=!0,t.log("M74");var e=this,n=angular.module("ng");n.config(["$provide",function(t){e.xg(t),e.wg(t)}]),n.run(["$browser",function(t){e.vg(t)}]),t.log("M75")}},r.prototype.wg=function(n){var r=t.aop,o=this;n.decorator("$httpBackend",["$delegate",function(t){return t=r.around(t,function(){var t=Array.prototype.slice.call(arguments);return o.l.k(e.c.jc,t),t},function(){o.l.k(e.c.ac)},"ng.httpBackend")}])},r.prototype.xg=function(n){var r=t.aop,o=this;n.decorator("$rootScope",["$delegate",function(t){return t.$digest=r.after(t.$digest,function(){o.l.k(e.c.qc)},"ngevents.digest"),t.$on("$locationChangeStart",function(t,n){var r={url:n},i=t&&t.ba&&t.ba.$state&&t.ba.$state.current;i&&(r.state=i),o.l.k(e.c.Xc,{next:r})}),t.$on("$locationChangeSuccess",function(){o.l.k(e.c.Og)}),t.$on("$routeChangeStart",function(t,n){var r={url:location.href},i=n&&n.$$route;i&&(r.j=i),o.l.k(e.c.yd,{next:r})}),t.$on("$routeChangeSuccess",function(){o.l.k(e.c.zd)}),t.$on("$stateChangeStart",function(t,n){o.l.k(e.c.Gd,{next:{state:n}})}),t.$on("$stateChangeSuccess",function(){o.l.k(e.c.Hd)}),t.$on("$viewContentLoaded",function(t){var n={url:location.href};(t=t&&t.ba&&t.ba.$state&&t.ba.$state.current)&&(n.state=t),o.l.k(e.c.Rd,{next:n})}),t.$on("$includeContentRequested",function(){o.l.k(e.c.qg)}),t.$on("$includeContentLoaded",function(){o.l.k(e.c.pg)}),t}])},r.prototype.vg=function(n){var r=this;n.$$completeOutstandingRequest=t.aop.before(n.$$completeOutstandingRequest,function(){r.l.k(e.c.mc)})},r}();e.Yh=r,e.ngMonitor=new r}(t.ng||(t.ng={}))}(t||(t={})),function(t){var e=t.ng||(t.ng={});e.conf.disabled||t.monitor.Cd(e.ngMonitor)}(t||(t={}))}}}();
!function(){new function(){var e=window.ADRUM;if(e&&e.q&&!0!==window["adrum-disable"]){!function(e){!function(t){t.R=function(n){function r(e){return e.replace(/\s/g,"")===o}var i={a:[1,2,3,"str"]},o='{"a":[1,2,3,"str"]}';return"undefined"!=typeof JSON&&JSON&&t.isFunction(JSON.stringify)&&r(JSON.stringify(i))?JSON.stringify(n):"undefined"!=typeof Object&&Object&&t.isFunction(Object.toJSON)&&r(Object.toJSON(i))?Object.toJSON(n):(e.error("M76"),null)},t.Pa=function(t,n,r){var i=t,o=r;"xhr"===r&&(i=document.createElement("div"),t.appendChild(i),o="xhr_"+t.getElementsByTagName("div").length),t=document.createElement("p"),t.innerHTML="Script loaded from "+e.conf.adrumExtUrl+". Metrics collected are:",i.appendChild(t),t=document.createElement("table"),t.id="ADRUM_"+o;var a,o=document.createElement("tbody");for(a in n){r=document.createElement("tr");var s=document.createElement("td");s.innerHTML=a,s.className="name";var u=document.createElement("td");u.innerHTML=String(n[a]),u.className="value",r.appendChild(s),r.appendChild(u),o.appendChild(r)}t.appendChild(o),i.appendChild(t)},t.Jf=function(){function e(n,r){try{if("object"!=typeof n)return String(n);if(0<=t.qa(r,n))return"Already visited";r.push(n);var i;if(t.isArray(n)){for(var o="[ ",a=0;a<n.length;a++)0!=a&&(o+=", "),o+=e(n[a],r);i=o+" ]"}else{var s,o="{ ",a=!0;for(s in n)a?a=!1:o+=", ",o+=e(s,r)+" => "+e(n[s],r);i=o+" }"}return i}catch(e){return"dumpObject failed: "+e}}return function(t){return e(t,[])}}(),t.qa=t.isFunction(Array.prototype.indexOf)?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.compareWindows=function(e,t){return e==t},t.Va=function(e,n,r,i,o){if(!t.isDefined(n))return n;if(t.isArray(n)){e=[];for(var a=0,s=n.length;a<s;a++)e[a]=t.Va(a,n[a],r,i,o);return e}if(t.isFunction(n))return n;if(t.isObject(n)){e={};for(a in n)t.hasOwnPropertyDefined(n,a)&&(e[r(a)]=o&&o(a)?n[a]:t.Va(a,n[a],r,i,o));return e}return i(e,n)},t.Qg=function(e){var n,r=[];for(n in e)t.hasOwnPropertyDefined(e,n)&&r.push([n,e[n]]);return r},t.Dh=function(){try{localStorage.setItem("try","try");var e=localStorage.getItem("try");return localStorage.removeItem("try"),"try"===e}catch(e){return!1}},t.Ch=function(){try{var e=t.R({v:1});return 1===JSON.parse(e).v}catch(e){return!1}},t.Eh=function(){return t.isFunction(window.postMessage)},t.zf=function(e,t){var n=document.createElement("div");return n.innerHTML='<iframe id="'+t+'" src='+e+' width="0" height="0" tabindex="-1" title="empty" style="display: none;"></iframe>',document.body.appendChild(n),document.getElementById(t)},t.uh=function(e,n){t.isDefined(n)&&(e.parentPageName=n)},t.Xa=function(e){return t.isNumber(e)&&isFinite(e)&&Math.floor(e)===e},t.oc=function(t){e.log(t),console&&console.log&&console.log(t)}}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(e){e.Id=function(e){return/^[0-9]+$/.test(e)?Number(e):null},e.Pc=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(t){function n(t){var n=t.split("\r\n"),r=/^\s*ADRUM_(\d+): (.+)\s*$/i;t=[];for(var i=0;i<n.length;i++){var o=n[i];try{var a=r.exec(o);a&&t.push([Number(a[1]),a[2]])}catch(t){e.exception(t,"M79",o)}}for(Array.prototype.sort.call(t,function(e,t){return e[0]-t[0]}),a=[],n=0;n<t.length;n++)a.push(t[n][1]);return a}var r=e.utils.hasOwnPropertyDefined,i=null,o=null;t.Gc=function(){return o||(o=t.bd(t.fb(t.cookieMetadataChunks),t.fb(e.footerMetadataChunks))),o},t.getPageGUID=function(){var n=e.monitor.DOMEventsMonitor,r=e.utils.isObject(n.currentBasePage)&&e.utils.isFunction(n.currentBasePage.guid);if(!i){var o=t.Gc();i=o&&o.clientRequestGUID||(r?n.currentBasePage.guid():e.utils.generateGUID())}return i},t.jg=function(r){return r=n(r),e.log("M77",r),t.bd(t.fb(r))},t.bd=function(n,r){function i(t){for(var n=0;n<t.length;n++){var r=t[n];r!=o&&0>e.utils.qa(u,r)&&u.push(r)}}if(!n||0>=n.O.length)return null;r||(r=n);var o;if(!(0<r.O.length))return e.error("M78"),null;if(o=r.O[0],0>e.utils.qa(n.O,o))return null;var a=r.serverSnapshotType||n.serverSnapshotType,s=r.hasEntryPointErrors||n.hasEntryPointErrors,u=[];i(n.O),i(r.O);var c={clientRequestGUID:o,btGlobalAccountName:n.btGlobalAccountName};return 0<u.length&&(c.otherClientRequestGUIDs=u),0<t.ad(n.btTime,r.btTime).length&&(c.btTime=t.ad(n.btTime,r.btTime)),null!==a&&(c.serverSnapshotType=a),null!==s&&(c.hasEntryPointErrors=s),c},t.ad=function(e,t){for(var n=e.concat(t),i={},o={},a=0;a<n.length;a++){var s=n[a];s.id in i||(i[s.id]=-1),i[s.id]=Math.max(i[s.id],s.duration),s.id in o||(o[s.id]=-1),o[s.id]=Math.max(o[s.id],s.ert)}var u,n=[];for(u in i)r(i,u)&&n.push({id:u,duration:i[u],ert:o[u]});return n},t.fb=function(t){if(!e.utils.isArray(t))return null;for(var n=[],r=null,i=[],o=null,a=null,s=0;s<t.length;s++){var u=t[s];if("string"!=typeof u)return null;if(u=u.replace(/^"|"$/g,""),u=decodeURIComponent(u).split(",")[0].replace(/^\s+|\s+$/g,"").split(":"),2===u.length){var c=u[1];switch(u[0]){case"clientRequestGUID":case"g":n.push(c);break;case"btId":case"i":i.push({id:c,duration:-1,ert:-1});break;case"btDuration":case"d":if(0===i.length)return null;if(u=e.utils.Id(c),!e.utils.Pc(u)||-1>u)return null;i[i.length-1].duration=u;break;case"btERT":case"e":if(0===i.length)return null;if(u=e.utils.Id(c),!e.utils.Pc(u)||-1>u)return null;i[i.length-1].ert=u;break;case"serverSnapshotType":case"s":o=c;break;case"globalAccountName":case"n":r=c;break;case"hasEntryPointErrors":case"h":a=c}}}return 0===n.length?null:{O:n,btGlobalAccountName:r,btTime:i,serverSnapshotType:o,hasEntryPointErrors:a}},t.Fi=n}(e.correlation||(e.correlation={}))}(e||(e={})),function(e){var t=e.conf||(e.conf={});t.ai=3e3,t.Nd=e.isDebug,t.cf=1e3,t.Ee=2,t.De=5,t.ye=5,t.ze=20,t.Nb=5e3,t.M=512,t.ie=10,t.he=64,t.Oe=10,t.Ne=10,t.Je=300,t.Pb=2048,t.Y=2048,t.bi=760,t.Yc={eumAppKey:"ky",userPageName:"un",clientRequestGUID:"cg",otherClientRequestGUIDs:"og",baseGUID:"bg",parentGUID:"mg",parentPageUrl:"mu",parentPageType:"mt",parentLifecyclePhase:"pp",pageType:"pt",pageUrl:"pu",pageReferrer:"pr",pageTitle:"pl",pageName:"pn",httpHeaders:"hh",parameter:"pa",navOrXhrMetrics:"mn",cookieMetrics:"mc",resourceTimingInfo:"rt",userData:"ud",userDataLong:"udl",userDataDouble:"udd",userDataBoolean:"udb",userDataDate:"udt",errors:"er",ajaxError:"ae",xhrStatus:"xs",btTime:"bt",btGlobalAccountName:"btgan",serverSnapshotType:"ss",hasEntryPointErrors:"se",dataType:"dt",geoCountry:"gc",geoRegion:"gr",geoCity:"gt",localIP:"lp",ip:"ip",BEACONS:"B",ver:"vr",eom:"em",agentId:"ai",rootGUID:"rg",events:"es",guids:"gs",urlParts:"up",sequenceId:"si",eventType:"et",eventGUID:"eg",parentType:"at",serverMetadata:"sm",eventUrl:"eu",line:"ln",message:"dm",duration:"dn",id:"id",ert:"ert",parentUrl:"au",parentPageName:"an",geo:"ge",metrics:"mx",timestamp:"ts",country:"c",region:"r",city:"t",method:"md",clientId:"ci"}}(e||(e={})),function(e){e=e.beacons||(e.beacons={}),e.numBeaconsSent=0,e.beaconsSent=[]}(e||(e={})),function(e){!function(t){var n=function(){function n(){}return n.prototype.send=function(n,r){var i,o=(r?e.conf.beaconUrlHttps:e.conf.beaconUrlHttp)+e.conf.corsEndpointPath+"/"+e.conf.appKey+"/adrum";e.utils.isFunction(e.xhrConstructor)&&e.utils.isFunction(e.xhrOpen)?(i=new e.xhrConstructor,e.xhrOpen.call(i,"POST",o)):(i=new XMLHttpRequest,i.open("POST",o)),i.setRequestHeader("Content-type","text/plain");var a=e.utils.R(n);null!=a&&(e.utils.isFunction(e.xhrSend)?e.xhrSend.call(i,a):i.send(a),e.log("M80"+o+"\n"),e.log("<hr/>"),e.isDebug&&t.beaconsSent.push(n),t.numBeaconsSent+=1)},n}();t.de=n}(e.beacons||(e.beacons={}))}(e||(e={})),e||(e={}),function(e){var t=function(){function t(e,t,n){this.va=e,this.ug=t,this.ub=n}return t.prototype.Fc=function(){try{return t.Bc(this.ug.ADRUM)}catch(n){return e.error("M81"),t.Bc(e)}},t.Bc=function(e){return e.correlation.getPageGUID()},t}();e.ae=t}(e||(e={})),function(e){e.beacons||(e.beacons={})}(e||(e={})),function(e){!function(e){var t=function(){function t(){this.ra=[],this.Qa={}}return t.prototype.ua=function(t){if(!t)return"";if(e.hasOwnPropertyDefined(this.Qa,t))return this.Qa[t];var n=this.ra.length;return this.Qa[t]=n,this.ra[n]=t,n},t}();e.Mb=t}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(t){var n=e.utils.map,r=function(){function e(){}return e.yh=function(e){e=(e||"").match(/([^:\/?#]+:\/\/)?([^?#]+)?(\?[^#]*)?(#[\s\S]*)?/);var t={};return e[1]&&(t.protocol=e[1].substring(0,e[1].length-3)),e[2]&&(t.path=e[2]),e[3]&&(t.lh=e[3]),e[4]&&(t.anchor=e[4]),t},e.Nf=function(t,r){var i=e.yh(t),o="";return i.protocol&&(o+=r.ua(i.protocol),o+="://"),i.path&&(o+=n(i.path.split("/"),r.ua,r).join("/")),o+=n([i.lh,i.anchor],function(e){return e?e[0]+r.ua(e.slice(1)):""},r).join("")},e.Lf=function(e,t){return""+t.ua(e)},e}();t.Db=r}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(t){!function(t){function n(){var t=null,n=null;try{t=localStorage[o]}catch(e){}if(t)try{t=n=JSON.parse(t),e.utils.isObject(t)&&e.utils.isNumber(t[u])&&-1<t[u]?i=n:e.error("M82")}catch(t){e.exception(t,"M83");try{delete localStorage[o]}catch(t){e.exception(t,"M84")}}}function r(){try{var t=e.channel,n=i[a]||i[s],r=t&&t.L&&t.L.I&&t.L.I.id||(e.utils.isString(n)?n:e.utils.generateGUID());i[a]=i[s]=r,localStorage[o]=e.utils.R(i)}catch(e){}}var i,o="ADRUM_CLIENTINFO",a="agentId",s="clientId",u="seqId";n(),i||(i={seqId:0}),r(),t.ag=function(){n();var e=i[u]++;return r(),e}}(t.lc||(t.lc={}))}(e.Bd||(e.Bd={}))}(e||(e={})),function(e){!function(t){var n=function(){function n(){this.T={sa:!1},this.od=/;jsessionid=[^\/?]+/,t.mergeJSON(this.T,e.conf.userConf.T),t.isBoolean(this.T.sa)||t.isArray(this.T.sa)||(e.log("M85"),this.T.sa=!1)}return n.xh=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t},n.prototype.ig=function(e){var n,r,i="";return t.isString(e)?(n=e.indexOf("?")+1,0<n&&(r=e.indexOf("#"),0>r?i=e.substring(n):n<=r&&(i=e.substring(n,r))),i):""},n.prototype.Rf=function(e){var n,r,i,o="",a=this.T.sa,s={},u=0;if(!t.isString(e)||""===e)return"";if(!1===a)return e;if(""===(n=this.ig(e)))return e;if(t.isArray(a)){for(i=0;i<a.length;i++)s[a[i]]=!0;for(a=n+"&",i=0;i<a.length;i++)switch(a[i]){case"=":r=a.substring(u,i);break;case"&":case";":r=r||a.substring(u,i),i++,s[r]||(o+=a.substring(u,i)),u=i,r=null}o=o.substring(0,o.length-1)}return""==o&&(n="?"+n),e.replace(n,o)},n.prototype.K=function(e){if(null===e||void 0===e)return null;if(""===e)return"";var t=e.match(this.od),n=e;if(null!=t){var r=e.indexOf("?");(0>r||r>t.index)&&(n=e.replace(this.od,""))}return n=this.Rf(n)},n.prototype.vc=function(e){if(null===e||void 0===e)return null;var t=e.indexOf("?"),n=e.indexOf("#");return 0>t&&(t=Number.MAX_VALUE),0>n&&(n=Number.MAX_VALUE),e.substring(0,Math.min(t,n))},n.prototype.Zg=function(e){if(null===e||void 0===e)return null;var t=this.vc(e);return t+"?"+n.xh(e.substring(t.length))},n}();t.gi=n,t.A=new n}(e.utils||(e.utils={}))}(e||(e={})),function(e){e=e.U||(e.U={}),e.Q||(e.Q={})}(e||(e={})),function(e){e=e.U||(e.U={}),e.Q||(e.Q={})}(e||(e={})),function(e){!function(t){!function(t){var n=function(){function t(t,n,r){this.mh=0,this.ib=[],this.Jc=!1,this.og=r;var i=this;e.utils.addEventListener(window,"message",function(e){i.dh(e)}),this.mg=e.utils.zf(n,t)}return t.prototype.dh=function(t){var n;try{n=JSON.parse(t.data),e.utils.isDefined(n)&&!0===n.success?-1===n.id&&"iframe-ready"===n.data?(this.Jc=!0,this.og()):this.ib[n.id]&&this.ib[n.id](n.data):e.error("M86"+t.data+"]")}catch(t){e.exception(t,"M87")}},t.prototype.send=function(t,n,r,i){if(this.Jc){var o=this.mh++;this.ib[o]=i,this.mg.contentWindow.postMessage(e.utils.R({id:o,action:t,key:n,value:r}),"*")}},t.prototype.generateGUID=function(e,t){this.send("generateGUID",e,null,t)},t}();t.fe=n}(t.Q||(t.Q={}))}(e.U||(e.U={}))}(e||(e={})),function(e){!function(t){var n=function(){function t(){this.dc=new r(t.Xd),this.Ud=new r(t.Zd),this.Wh=new i(t.Yd)}return t.prototype.init=function(n){this.channel=n,e.utils.Dh()&&e.utils.Ch()?e.utils.Eh()&&t.Mg()?this.Nh():this.Od():t.cd=!0},t.prototype.Od=function(){var n=this.dc.load();t.Kg(n)||(n={ver:e.conf.agentVer,id:e.utils.generateGUID()},this.dc.save(n)),t.I=n},t.prototype.Nh=function(){var n=this.Ud.load();if(t.Lg(n))t.I=n;else{e.log("M88");var r=this;this.Wh.load(function(n){n&&(n={ver:e.conf.agentVer,id:n,ttl:(new Date).getTime()+t.je},r.Ud.save(n),t.I=n,e.log("M89"))}),r=this,e.utils.tryPeriodically(t.Ka,function(){return r.isReady()},function(){r.onReady()},function(){r.cb()})}},t.Mg=function(){return e.conf.userConf&&e.conf.userConf.xd&&e.conf.userConf.xd.enable},t.Kg=function(e){return e&&e.id&&0<e.id.length},t.Lg=function(e){return e&&e.id&&0<e.id.length&&0===e.id.indexOf("XD_")&&e.ttl>(new Date).getTime()},t.prototype.isReady=function(){return t.cd||e.utils.isDefined(t.I)},t.prototype.onReady=function(){this.channel.onResolverReady()},t.prototype.cb=function(){e.log("M90"),this.Od(),this.channel.onResolverReady()},t.Ka=function(e){return 10<e?-1:[1,50,100,500][e-1]||1e3},t.Xd="ADRUM_AGENT_INFO",t.Zd="ADRUM_XD_AGENT_INFO",t.Yd="ADRUM_XD_AGENT_ID",t.je=6048e5,t.cd=!1,t}();t.L=n;var r=function(){function t(e){this.cc=e}return t.prototype.load=function(){var t=null;try{var n=localStorage.getItem(this.cc);n&&(t=JSON.parse(n))}catch(t){e.exception(t,"M91")}return t},t.prototype.save=function(t){try{var n=e.utils.R(t);n&&localStorage.setItem(this.cc,n)}catch(t){e.exception(t,"M92")}},t}(),i=function(){function t(e){this.lf=e}return t.prototype.load=function(t){var n=this;try{var r=new e.U.Q.fe("cross-domain-store-server-iframe",e.conf.adrumXdUrl,function(){r.generateGUID(n.lf,t)})}catch(t){e.exception(t,"M93")}},t}()}(e.channel||(e.channel={}))}(e||(e={})),function(e){!function(t){var n=e.utils.isString,r=function(){function r(){}return r.prototype.$a=function(t,n,i){return t={ver:e.conf.agentVer,dataType:"R",rootGUID:i.Fc(),events:t},e.channel.L.I&&e.channel.L.I.id&&(t.agentId=e.channel.L.I.id),n&&(t.geo=n),r.hh(t)},r.hh=function(t){return e.isDebug||(t=r.vf(t)),t},r.vf=function(i){var o=new e.utils.Mb,a=new e.utils.Mb;return i=e.utils.Va(null,i,r.Ua,function(i,s){return n(s)&&s.length>e.conf.Pb&&(s=s.substr(0,e.conf.Pb)),r.Jg(i)&&(n(s)&&s.length>e.conf.M&&(s=3<e.conf.M?s.substr(0,e.conf.M-3):"",s+="..."),s=t.Db.Nf(s,o)),r.Bg(i)&&(s=t.Db.Lf(s,a)),s},r.Sg),i[r.Ua("guids")]=a.ra,i[r.Ua("urlParts")]=o.ra,i},r.Jg=function(e){return"eventUrl"==e||"parentUrl"==e||"pageReferrer"==e||"pageUrl"==e||"u"==e},r.Bg=function(e){return"eventGUID"==e||"parentGUID"==e||"rootGUID"==e||"clientRequestGUID"==e},r.Ua=function(t){if(e.conf.Nd)return t;var n=e.conf.Yc[t];return void 0===n?t:n},r.Sg=function(e){return e=""+e,0===e.indexOf("userData")||"parameter"===e},r}();t.ce=r}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(t){var n=function(){function n(){}return n.prototype.send=function(e,t){for(var n=0;n<e.length;n++)this.sh(e[n],t)},n.prototype.sh=function(n,r){var i=(r?e.conf.beaconUrlHttps:e.conf.beaconUrlHttp)+e.conf.imageEndpointPath,o=document.createElement("img");try{o.src=i+n}catch(e){}e.isDebug&&t.beaconsSent.push(n),t.numBeaconsSent+=1},n}();t.ue=n}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(e){e.ga=function(e,t){return 3>=t?"...":(e.length>t&&(e=e.substring(0,t-3)+"..."),e)},e.Kd=function(e,t){return 3>=t?"...":(e.length>t&&(e=e.substring(0,(t-3)/2)+"..."+e.substring(e.length-(t-3)/2,e.length)),e)},e.Kh=function(t,n){return t.length<=n||(t=e.ga(t,n-1),t+=":"),t},e.Ih=function(t,n,r,i,o,a){return t=e.Kh(t,i),r=e.ga(r,o),t.length+n.length+r.length>a-3&&(n=e.ga(n,a-3-t.length-r.length)),0<r.length?t+"//"+n+":"+r:t+"//"+n},e.Jh=function(t,n,r){if(t=e.map(t,function(t){return e.Kd(t,n)}),t.length>r){var i=t[0];t=t.slice(t.length-r),t.unshift("..."),""==i&&t.unshift(i)}return t},e.Lh=function(t,n,r,i,o){i=e.Ih(t.protocol,t.hostname,t.port,i,o,n),r--,o=e.ga(t.search,n),r--;var a=e.ga(t.hash,n);r--,t=t.pathname.split("/");var s="";return 0<t.length&&(s=t.pop(),s=e.Kd(s,n),r--),t=e.Jh(t,n,r),0==t.length?i+s+o+a:i+t.join("/")+"/"+s+o+a}}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(){}return e.Wa=function(){for(var t=0;t<e.Kb.length;t++)e.G[e.Kb[t]]=e.C.pe;for(t=0;t<e.Ib.length;t++)e.G[e.Ib[t]]=e.C.me;e.G.js=e.C.Xe,e.G.css=e.C.CSS,e.G.svg=e.C.Ze,e.G.html=e.C.Jb,e.G.htm=e.C.Jb},e.Ta=function(e){return e.duration?e.duration:e.responseEnd&&e.startTime?e.responseEnd-e.startTime:-1},e.Ec=function(t){var n;return(t=t.pathname)&&-1!=(n=t.lastIndexOf("."))?e.G[t.substring(n+1,t.length).toLowerCase()]||e.C.Sb:e.C.Sb},e.C={pe:"img",Xe:"script",CSS:"css",Ze:"svg",Jb:"html",me:"font",Sb:"other"},e.Kb="bmp gif jpeg jpg png webp".split(" "),e.Ib=["ttf","woff","otf","eot"],e.G={},e}();e.Z=t,t.Wa()}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(t){function n(e){r.marks.push(0==t[e]?-1:Math.round(t[e]-r.ed))}this.marks=[];var r=this;this.ed=t.startTime,this.zg(t)?(this.yc=e.Eb,n("startTime"),n("fetchStart")):(this.yc=e.Ub,n("startTime"),n("redirectStart"),n("redirectEnd"),n("fetchStart"),n("domainLookupStart"),n("domainLookupEnd"),n("connectStart"),n("secureConnectionStart"),n("connectEnd"),n("requestStart"),n("responseStart")),n("responseEnd")}return e.bg=function(){var t={};return t[e.Ub]=e.We,t[e.Eb]=e.ee,t},e.prototype.zg=function(e){return this.F(e.redirectStart)&&this.F(e.redirectEnd)&&this.F(e.domainLookupStart)&&this.F(e.domainLookupEnd)&&this.F(e.connectStart)&&this.F(e.connectEnd)&&this.F(e.requestStart)&&this.F(e.responseStart)&&this.F(e.secureConnectionStart)},e.prototype.F=function(e){return!e||0===e},e.Ub=1,e.Eb=2,e.We="startTime redirectStart redirectEnd fetchStart dnsLookupStart dnsLookupEnd connectStart secureConnectionStart connectEnd requestStart responseStart responseEnd".split(" "),e.ee=["startTime","fetchStart","responseEnd"],e}();e.Tb=t}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(){}return e.prototype.Ca=function(e,t){if(e)return e.slice(0,t)},e}();e.ne=t}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var t=function(){function t(){}return t.prototype.Ca=function(t,n){if(t){if(t.length<=n)return t;for(var r=[],i=0;i<t.length;i++)r.push({jb:t[i],index:i});r.sort(function(t,n){return-(e.Z.Ta(t.jb)-e.Z.Ta(n.jb))}),r=r.slice(0,n),r.sort(function(e,t){return e.index-t.index});for(var o=[],i=0;i<r.length;i++)o.push(r[i].jb);return o}},t}();e.Xb=t}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var t=function(){function t(){}return t.prototype.Ca=function(t,n){if(t){if(t.length<=n)return t;for(var r=1,i=Math.floor(Number.MAX_VALUE/4),o=t.length;r<i;){for(var a=t.length-1;0<=a;a--)if(e.Z.Ta(t[a])<r&&(t.splice(a,1),o--),o<=n)return t;r*=4}return(new e.Xb).Ca(t,n)}},t}();e.Ve=t}(e.events||(e.events={}))}(e||(e={})),function(e){!function(t){var n=e.utils.hasOwnPropertyDefined,r=function(){function r(n,o){this.version=2,this.resourceTimingInfo={},this.Mc={},this.Nc={},this.rd={},this.sd={},this.kb=[],this.hf=function(n,r){if(n&&r&&0<r.length){this.Gh=n;for(var o=new i,a=new i,s=0;s<r.length;s++){var u=r[s],c=e.utils.parseURI(e.utils.A.K(u.name)),f=u.initiatorType,l=t.Z.Ec(c),h=new t.Tb(u);this.kb.push({u:this.Mh(c),i:o.Ac(this.Nc,f),r:a.Ac(this.sd,l),f:h.yc,o:0===s&&u.isBase?1:Math.round(h.ed),m:h.marks,e:e.utils.isDefined(u.encodedBodySize)?u.encodedBodySize:-1,d:e.utils.isDefined(u.decodedBodySize)?u.decodedBodySize:-1,s:e.utils.isDefined(u.transferSize)?u.transferSize:-1,p:e.utils.isDefined(u.nextHopProtocol)?u.nextHopProtocol:""})}}};var a=r.Zf();this.sf(a,n),n=this.ph(a,n),this.hf(o||e.monitor.perfMonitor.navTiming&&e.monitor.perfMonitor.navTiming.navigationStart,n),this.clearResourceTimings()}return r.Wa=function(){var n=e.conf.userConf&&e.conf.userConf.resTiming&&e.conf.userConf.resTiming.sampler;r.oh=n&&"FirstN"==n?new t.ne:n&&"TopN"==n?new t.Xb:new t.Ve},r.prototype.Kc=function(e,t){e[t]=e[t]?e[t]+1:1},r.prototype.Mh=function(t){return e.utils.Lh(t,"number"==typeof e.conf.userConf.maxResUrlSegmentLength?e.conf.userConf.maxResUrlSegmentLength:e.conf.he,"number"==typeof e.conf.userConf.maxResUrlSegmentNumber?e.conf.userConf.maxResUrlSegmentNumber:e.conf.ie,e.conf.Oe,e.conf.Ne)},r.prototype.sf=function(e,t){if(e&&this.Lc(e),t&&0<t.length)for(var n=0;n<t.length;n++)this.Lc(t[n])},r.prototype.Lc=function(n){var r=e.utils.parseURI(e.utils.A.K(n.name)),r=t.Z.Ec(r);this.Kc(this.Mc,n.initiatorType),this.Kc(this.rd,r)},r.prototype.ph=function(t,n){if(n&&0<n.length){var i=e.conf.userConf&&e.conf.userConf.resTiming&&e.conf.userConf.resTiming.maxNum||e.conf.Je;t&&i--,n=r.oh.Ca(n,i),t&&n.unshift(t)}return n},r.prototype.build=function(){return 0==this.kb.length?null:{v:this.version,ic:this.Mc,it:this.Nc,rc:this.rd,rt:this.sd,f:t.Tb.bg(),t:this.Gh,r:this.kb}},r.Zf=function(){var t=e.monitor.perfMonitor.navTiming,r=null;if(t){var i,r={};for(i in t)n(t,i)&&(r[i]=t[i]);r.initiatorType="other",r.name=document.URL,r.navigationStart&&!r.startTime&&(r.startTime=r.navigationStart),r.isBase=!0}return r},r.prototype.clearResourceTimings=function(){var t=e.monitor.PerformanceMonitor.perf;e.conf.userConf&&e.conf.userConf.resTiming&&e.conf.userConf.resTiming.clearResTimingOnBeaconSend&&t&&e.utils.isFunction(t.clearResourceTimings)&&t.clearResourceTimings()},r}();t.ResourceTimingInfoBuilder=r;var i=function(){function e(){this.Tg=1}return e.prototype.Ac=function(e,t){return e[t]||(e[t]=this.Tg++),e[t]},e}();r.Wa()}(e.events||(e.events={}))}(e||(e={})),function(e){e.events||(e.events={})}(e||(e={})),function(e){!function(t){var n=function(){function n(){}return n.prototype.make=function(n,r){void 0===r&&(r={});var i={eventGUID:n.guid(),eventType:n.type(),eventUrl:e.utils.A.K(n.url()||document.URL),timestamp:e.utils.now()};n.type()!==e.EventType.PageView&&e.utils.mergeJSON(i,{parentGUID:n.parentGUID()||e.correlation.getPageGUID(),parentUrl:e.utils.A.K(n.parentUrl()||document.URL),parentType:n.parentType()||(e.utils.compareWindows(top,window)?e.EventType.PageView:e.EventType.IFRAME)});var o,a=e.EventType[n.type()],a=t.$.kg(a,e.conf.userConf,r,e.conf.Y);for(o in a)i[o]=a[o];return i},n}();t.ka=n}(e.events||(e.events={}))}(e||(e={})),function(e){!function(t){var n=e.utils.isNumber,r=e.utils.isString,i=e.utils.isObject,o=e.utils.oc,a=e.utils.Xa,s=e.utils.isBoolean,u=function(){function t(){}return t.bb=function(t,n){var r=!1;if(i(t)){var o=e.utils.R(t);(!o||o.length<=n)&&(r=!0)}return r},t.Bh=function(e,n,i){if(r(n)){if(!(n.length>i))return n;t.ya(e,i,n.length)}else t.Za(e,"string")},t.za=function(e,n){return function(r,o,a){if(i(o)){var s,u;for(u in o)e(o[u])?(s=s||{},s[u]=o[u]):t.Za(r,n,u);if(s){if(t.bb(s,a))return s;t.ya(r,a)}}else t.Za(r,"object")}},t.Za=function(e,t,n){o(e+" dropped because it was not a "+t+(n?", field name "+n:""))},t.ya=function(e,t,n){o("User event info field "+e+" dropped because it is too long"+(n?" ("+n+" exceeds "+t+")":""))},t.kg=function(n,r,o,a){if((n=r&&r.userEventInfo&&r.userEventInfo[n])&&(o=e.utils.isFunction(n)?n.call(null,o):n,i(o)))return t.Rh(o,a)},t.Rh=function(e,n){var r,i={};for(r in t.wc)if(r in e){var o=t.wc[r](r,e[r],n);o&&(i[r]=o)}return i},t.bh=t.za(r,"string"),t.ah=t.za(a,"integer"),t.dd=t.za(n,"number"),t.$g=t.za(s,"boolean"),t.wc={userPageName:t.Bh,userData:t.bh,userDataLong:t.ah,userDataDouble:t.dd,userDataBoolean:t.$g,userDataDate:t.dd},t}();t.$=u}(e.events||(e.events={}))}(e||(e={}));var t=this.ff||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};!function(e){!function(n){var r=e.utils.isDefined,i=function(i){function o(){i.apply(this,arguments)}return t(o,i),o.setPageName=function(e){o.Ph=e},o.addUserData=function(e,t){o.ha=o.ha||{},o.ha[e]=t},o.prototype.make=function(t){t=i.prototype.make.call(this,t||new n.PageView);var a=this.eg(),s=this.$f();e.conf.viz&&(a&&e.utils.Pa(document.getElementById(e.conf.viz),a,"navtime"),e.utils.Pa(document.getElementById(e.conf.viz),s,"cookie")),s.PLC=1,a&&(a.PLC=1),0<e.monitor.ErrorMonitor.errorsSent&&(s.EPM=1,a&&(a.EPM=1)),e.utils.mergeJSON(t,{eventGUID:e.correlation.getPageGUID(),eventType:e.utils.compareWindows(top,window)?e.EventType.PageView:e.EventType.IFRAME,cookieMetrics:s});var u=-1;return a&&a.timestamp?u=a.timestamp:s&&s.timestamp&&(u=s.timestamp),0<u&&e.utils.mergeJSON(t,{timestamp:u}),a&&(t.metrics=a),document.referrer&&null!==document.referrer&&0<document.referrer.length&&(t.pageReferrer=e.utils.A.K(document.referrer)),a=o.fg(),0<a.length&&(t.pageTitle=a),a=e.correlation.Gc(),null!==a&&(t.serverMetadata=a),a=e.monitor.perfMonitor.resTiming?new n.ResourceTimingInfoBuilder(e.monitor.perfMonitor.resTiming).build():null,null!==a&&(t.resourceTimingInfo=a),!r(t.userData)&&r(o.ha)&&(n.$.bb(o.ha,e.conf.Y)?t.userData=o.ha:n.$.ya("userData",e.conf.Y)),e.utils.isDefined(t.userPageName)||(t.userPageName=o.Ph),o.userPageName=t.userPageName,t},o.prototype.eg=function(){if(!e.monitor.perfMonitor.navTiming)return null;var t,r={},i=o.Cc(e.monitor.perfMonitor.navTiming,r,"NT"),a=n.metricSpec[e.EventType.PageView];for(t in a){var s=a[t];i.add(s.name,s.start,s.end)}return r.timestamp=e.monitor.perfMonitor.navTiming.navigationStart,r},o.prototype.$f=function(){var t={};return e.commands.marks&&(o.Cc(e.commands.marks,t,"CK").add("PLT","starttime","onload").add("FBT","starttime","firstbyte").add("FET","firstbyte","onload").add("DRT","firstbyte","onready").add("PRT","onready","onload").add("DOM","starttime","onready"),t.timestamp=e.commands.marks.starttime?e.commands.marks.starttime:e.commands.marks.firstbyte),t},o.fg=function(){var t,n=e.conf.userConf,n=n&&n.page;t=!(n&&"captureTitle"in n)||n.captureTitle;var r,i;return n&&(r="title"in n,i=n.title),r=t?r?e.utils.isFunction(i)?i():i:document.title:"",e.utils.isString(r)?r:(e.utils.oc("Ignoring wrong type of page title: "+typeof r),"")},o.gf=function(t,n,r,i,o,a){n=i[n],r=i[r],n&&r?o[t]=r-n:e.log("M94",a,t,n,r)},o.Cc=function(e,t,n){var r={add:function(i,a,s){return o.gf(i,a,s,e,t,n),r}};return r},o}(n.ka);n.H=i}(e.events||(e.events={}))}(e||(e={})),function(e){!function(t){!function(t){function n(t,o){var u,f=o[t],d=typeof f;p.push(t);var g=h[p.join(".")];if(e.utils.isFunction(g))u=g(f);else switch(d){case"string":u="number"==typeof g?c(f,i,g):i(f);break;case"number":u=s(f);break;case"object":if(f)if(e.utils.isArray(f))u=a(f,!1,!1);else{u=[];for(var v in f)l(f,v)&&(d=n(v,f))&&(r(t)&&"timestamp"==v||u.push({xa:v,v:d}));if(r(t)){for(f=0;f<u.length;f++)u[f]=u[f].xa+i(":")+u[f].v;u=i("{")+u.join(i(","))+i("}")}else{for(f=0;f<u.length;f++)v=u[f],d=v.xa,e.conf.Nd||((g=e.conf.Yc[v.xa])?d=g:e.error("M95",v.xa)),u[f]=d+"="+v.v;u=u.join("&")}}else u=null}return p.pop(),u}function r(e){return"navOrXhrMetrics"==e||"cookieMetrics"==e}function i(e){return void 0===e||null===e||0===e.length?null:encodeURIComponent(e)}function o(e){return encodeURIComponent(encodeURIComponent(e))}function a(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!0),0===e.length)return null;var o=[];if(t)o=e;else for(t=0;t<e.length;t++)o.push(n(t,e));return i("[")+o.join(i(","))+i(r?">":"]")}function s(e){return e=Math.round(e),e<t.Rb&&(e=t.Rb),e>t.Ob&&(e=t.Ob),i(e)}function u(e,n){return(e>n||0>e)&&(e=t.Se),i(e)}function c(t,n,r,i){if(void 0===i&&(i=!0),void 0===t||null===t||0===t.length)return null;var o=3<=r?"...":"";e.assert(r>=o.length);for(var a=!1,s=null;;){try{if(null===(s=n(t)))return null;if(s.length<=r)break}catch(e){}var u;a?u=t.length-1:(a=!0,u=r-=o.length);var c=i?0:Math.max(t.length-u,0);t=t.substr(c,u)}return a&&(s=i?s+o:o+s),s}function f(n,r,i){return 0==i?t.Ha:r<n?0:(r=t.Ha+(r-n)/i,e.assert(r>=t.Ha),e.log("M96",n,r),r)}var l=e.utils.hasOwnPropertyDefined;t.Se=-1,t.M=180,t.Le=50,t.Me=50,t.Ge=40,t.Ha=50,t.ve=50,t.Qb=128,t.Be=30,t.Ce=30,t.Ae=30,t.He=8,t.Rb=-99999,t.Ob=999999,t.we=2e3,t.Ke=2,t.xe=99999999;var h={".pageUrl":t.M,".parentPageUrl":t.M,".pageReferrer":t.M,".pageTitle":t.Le,".userPageName":t.Me,".geoCountry":t.Be,".geoRegion":t.Ce,".geoCity":t.Ae,".localIP":t.He,".otherClientRequestGUIDs":function(e){e=e||[];var n=e.slice(0,t.Ke);return a(n,!1,n.length<e.length)},".btTime":function(n){n=n||[];for(var r=n.slice(0,e.conf.ye),i=[],o=0;o<r.length;o++){var c=r[o];i.push(a([u(Number(c[0]),t.xe),s(c[1]),s(c[2])],!0,!1))}return a(i,!0,r.length<n.length)},".ajaxError":function(e){return a([o(e[0]),c(e[1],o,t.ve)],!0,!1)},".userData":function(e){e=e||[];for(var n=!1,r=0,i=[],s=0;s<e.length;s++){var u=e[s];if(i[s]=a([o(u[0]),o(u[1])],!0,!1),(r+=i[s].length)>t.Qb){n=!0;break}}for(;;){if(null===(e=a(i,!0,n))||e.length<=t.Qb)return e;i.pop(),n=!0}}},p=[];t.Kf=function(r,i){void 0===i&&(i=!0),p=[];var u=[];r.errors&&(u=r.errors,r.errors=null);var l=n("",{"":r});if(u&&0<u.length){for(var h=f(i?870:354,t.we-l.length,u.length),d=[],g=0;g<u.length;g++){var v=u[g],m=e.utils.A.vc(e.utils.A.K(v[0]));d.push(a([c(m,o,t.Ge,!1),e.utils.Xa(v[1])?s(v[1]):-1,c(v[2],o,h)],!0,!1))}u=a(d,!0,!1),l+="&errors="+u}return l},t.si=n,t.Mi=i,t.element=o,t.mi=a,t.oi=s,t.Ei=u,t.truncate=c,t.Ji=f}(t.Lb||(t.Lb={}))}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(t){var n=e.utils.hasOwnPropertyDefined,r=e.utils.qa,i=function(){function i(){}return i.prototype.$a=function(n,r,o){for(var a=[],s=[],u=null,c=[],f=0;f<n.length;f++){var l=n[f];if(l.eventType===e.EventType.Error){var h=l;s.push([l.eventUrl+"",e.utils.Xa(h.line)?h.line:void 0,h.message+""])}else l.eventType!==e.EventType.PageView&&l.eventType!==e.EventType.IFRAME||(u=l),c.push(l)}if(n=c,0<s.length)for(u&&(u.errors=s.splice(0,e.conf.Ee));0<s.length;)l=s.splice(0,e.conf.De),u=i.eh.make(),u.errors=l,u.isErrorEvent=!0,u.cookieMetrics=null,u.metrics=null,u.resourceTimingInfo=null,n.push(u);for(s=0;s<n.length;s++)l=n[s],e.log("M97"),l.resourceTimingInfo=null,i.Wf(l,r,o),u=i.transform(l),a.push(t.Lb.Kf(u,l.isErrorEvent));return a},i.Wf=function(t,n,r){t.ver=this.qe,t.rootGUID=r.Fc(),t.geo=n,t.dataType="R",t.eom=1,t.eumAppKey=e.conf.appKey,t.PLC=1},i.transform=function(e){var t={};return i.Sd("",{"":e},t),t},i.Sd=function(t,o,a){o=o[t];var s=i.Vc[t];if("metrics"===t||"cookieMetrics"===t)a[s]=o;else if("btTime"===t&&e.utils.isArray(o)&&0<o.length){t=[];for(var u=0;u<o.length;u++)t.push([o[u].id,o[u].duration,o[u].ert]);a[s]=t}else if("userData"===t&&e.utils.isObject(o))a[s]=e.utils.Qg(o);else if(!(t&&-1<r(["userDataLong","userDataDouble","userDataBoolean","userDataDate"],t)))if(e.utils.isObject(o))for(u in o)n(o,u)&&i.Sd(u,o,a);else i.Vc[t]&&("eventType"===t&&o>e.EventType.Ajax&&(o=e.utils.compareWindows(top,window)?e.EventType.PageView:e.EventType.IFRAME),a[s]=o)},i.eh=new e.events.H,i.qe=3,i.Vc={eumAppKey:"eumAppKey",userPageName:"userPageName",rootGUID:"baseGUID",parentGUID:"parentGUID",parentUrl:"parentPageUrl",parentType:"parentPageType",parentLifecyclePhase:"parentLifecyclePhase",eventType:"pageType",eventUrl:"pageUrl",pageReferrer:"pageReferrer",pageTitle:"pageTitle",metrics:"navOrXhrMetrics",xhrMetrics:"navOrXhrMetrics",resourceTimingInfo:"resourceTimingInfo",cookieMetrics:"cookieMetrics",userData:"userData",errors:"errors",ajaxError:"ajaxError",dataType:"dataType",country:"geoCountry",region:"geoRegion",city:"geoCity",localIP:"localIP",ver:"ver",eom:"eom",eventGUID:"clientRequestGUID",otherClientRequestGUIDs:"otherClientRequestGUIDs",btTime:"btTime",serverSnapshotType:"serverSnapshotType",hasEntryPointErrors:"hasEntryPointErrors"},i}();t.te=i}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(){}return e.prototype.send=function(){},e}();e.le=t}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(){}return e.prototype.$a=function(){return null},e}();e.ke=t}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){var t=function(){function t(){}return t.nc=function(t,n){if(!t)return null;var r=t.ADRUM.lifecycle;if(!r||!r.getPhaseCallbackTime)return null;var i=n.getPhaseCallbackTime("AT_ONLOAD"),r=r.getPhaseCallbackTime("AT_ONLOAD"),o=null==r
;return null==i?(e.error("M98"),null):e.lifecycle.getPhaseID(o||i<=r?"AFTER_FIRST_BYTE":"AFTER_ONLOAD")},t}();e.Ue=t,e.cPLPI=t.nc}(e||(e={})),function(e){!function(t){var n=function(){function t(t){this.ready=!1,this.geoResolverUrl=t,e.utils.isString(t)&&0<e.utils.trim(t).length&&(this.geoResolverUrl=t+"/resolve.js")}return t.prototype.init=function(t){if(this.channel=t,this.Na()&&(e.geo=this.tb(),this.mf()||this.Aa()&&!this.zc()))return void this.channel.mb(e.geo.result);this.zc()?(this.Aa()&&(this.geoResolverUrl+="?ip="+encodeURIComponent(e.conf.userConf.geo.localIP)),this.Oh()):(this.ready=!0,this.channel.onResolverReady())},t.prototype.Na=function(){return e.utils.isDefined(e.conf.userConf)&&e.utils.isDefined(e.conf.userConf.geo)},t.prototype.Aa=function(){return this.Na()&&e.utils.isDefined(e.conf.userConf.geo.localIP)&&!e.utils.isDefined(e.conf.userConf.geo.city)&&!e.utils.isDefined(e.conf.userConf.geo.region)&&!e.utils.isDefined(e.conf.userConf.geo.country)},t.prototype.tb=function(){return{failed:!1,result:{country:e.conf.userConf.geo.country,region:e.conf.userConf.geo.region,city:e.conf.userConf.geo.city,localIP:this.Mf(e.conf.userConf.geo.localIP)}}},t.prototype.mf=function(){return this.Na()&&e.utils.isDefined(e.conf.userConf.geo.localIP)&&e.utils.isDefined(e.conf.userConf.geo.city)&&e.utils.isDefined(e.conf.userConf.geo.region)&&e.utils.isDefined(e.conf.userConf.geo.country)},t.prototype.zc=function(){return e.utils.isString(this.geoResolverUrl)&&0<e.utils.trim(this.geoResolverUrl).length},t.prototype.Mf=function(e){if(null==e||0==e.length)return null;if(e=e.split("."),4!=e.length)return null;for(var t=[],n=0;n<e.length;n++){var r=parseInt(e[n]);if(isNaN(r)||0>r||255<r)return null;t.push(("0"+r.toString(16)).slice(-2))}return t.join("")},t.prototype.Oh=function(){e.geo={failed:!1,result:null},e.utils.loadScriptAsync(this.geoResolverUrl);var n=this;e.utils.tryPeriodically(t.Ka,function(){return n.isReady()},function(){n.onReady()},function(){n.cb()})},t.prototype.isReady=function(){return this.ready||(this.ready=e.geo&&(e.geo.failed||null!==e.geo.result))||e.log("M99"),this.ready},t.prototype.onReady=function(){e.geo.failed?(e.log("M100"),this.Aa()&&(e.geo=this.tb())):(e.assert("object"==typeof e.geo.result),e.log("M101",e.geo.result)),e.geo&&e.geo.result&&this.channel.mb(e.geo.result),this.channel.onResolverReady()},t.prototype.cb=function(){e.log("M102"),this.Aa()&&(e.geo=this.tb()),e.geo&&e.geo.result&&this.channel.mb(e.geo.result),this.ready=!0,this.channel.onResolverReady()},t.Ka=function(e){return 10<e?-1:[1,50,100,500][e-1]||1e3},t}();t.oe=n}(e.channel||(e.channel={}))}(e||(e={})),function(e){!function(t){var n=function(){function t(){this.ready=!1,this.channel=null}return t.prototype.init=function(n){this.channel=n,t.B=t.B||t.Yf(),this.ready=!t.B.va;var r=this;t.B.va?(e.log("M103"),t.B.va.ADRUM.command("listenForOkToSendChildFrameBeacons",function(){e.log("M104"),r.ready=!0,r.onReady()})):r.onReady()},t.prototype.isReady=function(){return this.isReady||e.log("M105"),this.ready},t.prototype.onReady=function(){this.channel.th(t.B),this.channel.onResolverReady()},t.Yf=function(){for(var n,r=window,i=t.Sc(r),o=window;o.parent&&!e.utils.compareWindows(o,o.parent);){o=o.parent,i=i||t.Sc(o);try{o.ADRUM&&(n=n||o,r=o)}catch(e){}}return new e.ae(n,r,i)},t.Sc=function(e){try{return 0==e.document.URL.indexOf("https:")}catch(e){}},t.B=null,t}();t.be=n}(e.channel||(e.channel={}))}(e||(e={})),function(e){!function(t){var n=function(){function n(n,r,i){this.events=[],this.N={},this.ta=NaN,this.J=[],this.Sa=!1,this.bufferMode=!e.conf.userConf||!e.conf.userConf.channel||void 0===e.conf.userConf.channel.bufferMode||e.conf.userConf.channel.bufferMode,this.Da=-1,this.Hh=n,this.nf=r,this.J.push(new t.oe(i)),this.J.push(new t.be),this.J.push(new t.L)}return n.create=function(){var t,r;return n.yg()&&!e.conf.sendImageBeacon?(t=new e.beacons.de,r=new e.beacons.ce):n.Dg()?(t=new e.beacons.le,r=new e.beacons.ke):(t=new e.beacons.ue,r=new e.beacons.te),t=new n(t,r,e.conf.geoResolverUrl),t.init(),t},n.prototype.init=function(){for(var e=0;e<this.J.length;e++)this.J[e].init(this)},n.prototype.Uh=function(t){return(t.parentType===e.EventType.VPageView||t.parentType===e.EventType.NG_VIRTUAL_PAGE)&&null!==this.N[t.parentGUID]},n.prototype.kh=function(t){var n=t.parentGUID;if(!e.utils.isDefined(this.N[n])){this.N[n]=[];var r=this,i=t.eventGUID;setTimeout(function(){r.Oa(i)},1e4)}this.N[n].push(t)},n.prototype.report=function(t){t.sequenceId=e.Bd.lc.ag(),t.timestamp=t.timestamp||e.utils.now(),this.Uh(t)?this.kh(t):this.events.push(t),1==this.events.length&&(this.ta=e.utils.now());var r=t.parentGUID;r&&r!==e.correlation.getPageGUID()||this.Oa(t.eventGUID),n.Cg(t)&&(this.Sa=!0),this.rb()},n.prototype.Oa=function(e){var t=this.N[e];if(this.N[e]=null,t&&0!=t.length)for(this.events=this.events.concat(t),e=0;e<t.length;e++)this.Oa(t[e].eventGUID)},n.prototype.Fg=function(t){return t.eventType===e.EventType.PageView||t.eventType===e.EventType.IFRAME},n.prototype.of=function(){for(var t=0;t<this.events.length;t++){var n=this.events[t];if(this.Fg(n)){var r=this.B.va;r&&(n.parentLifecyclePhase=e.Ue.nc(r,e.lifecycle),n.parentGUID=r.ADRUM.correlation.getPageGUID(),n.parentUrl=e.utils.A.K(r.document.URL),e.utils.isDefined(r.ADRUM.events.H.userPageName)&&(n.parentPageName=r.ADRUM.events.H.userPageName),n.parentType=e.utils.compareWindows(top,r)?e.EventType.PageView:e.EventType.IFRAME)}}},n.prototype.rh=function(){if(0==this.events.length)e.log("M106");else{this.of();var t=this.ub(this.events,this.B),n=this.nf.$a(this.events,this.Xf,this.B);this.Hh.send(n,t),this.events=[],this.ta=Number.POSITIVE_INFINITY}},n.prototype.onResolverReady=function(){this.rb()},n.prototype.mb=function(e){this.Xf=e},n.prototype.th=function(e){this.B=e},n.prototype.addResolver=function(e){e.init(this),this.J.push(e)},n.prototype.nh=function(){for(var e=0;e<this.J.length;e++)if(!this.J[e].isReady())return!1;return!0},n.prototype.Uc=function(){return this.ta+e.conf.Nb>e.utils.now()},n.prototype.Hg=function(){return this.events.length<e.conf.ze},n.prototype.ub=function(t,n){if(n.ub||e.conf.userConf.useHTTPSAlways)return!0;for(var r=0;r<t.length;r++){var i=t[r];if(i.eventUrl&&0==i.eventUrl.indexOf("https:"))return!0}return!1},n.prototype.getEventsWithParentGUID=function(e){return this.N[e]||[]},n.prototype.rb=function(){if(this.nh())if(this.Th()){if(this.Uc()&&0<this.events.length&&0>this.Da){var t=this;this.Da=setTimeout(function(){t.rb()},e.conf.Nb+this.ta-e.utils.now())}}else clearTimeout(this.Da),this.Da=-1,this.Sa=!1,this.rh()},n.Cg=function(t){return t.eventType===e.EventType.PageView||t.eventType===e.EventType.IFRAME||t.eventType===e.EventType.VPageView},n.prototype.Th=function(){return this.bufferMode&&!this.Sa&&this.Hg()&&this.Uc()},n.yg=function(){var e="undefined"!=typeof JSON&&!(!JSON||!JSON.stringify);return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&e},n.Dg=function(){return e.conf.userConf&&e.conf.userConf.beacon&&e.conf.userConf.beacon.neverSendImageBeacon},n}();t.Channel=n;var r=n.create();t.report=function(e){r.report(e)},t.addResolver=function(e){r.addResolver(e)},t.getEventsWithParentGUID=function(e){return r.getEventsWithParentGUID(e)}}(e.channel||(e.channel={}))}(e||(e={})),function(e){var t=function(){function t(){}return t.kd=function(){return window.attachEvent?e.utils.isFunction(window.addEventListener)?this.vb:this.Jd:this.Md},t.jd=function(n){var r=null;switch(t.kd()){case t.Md:r=n.parentPhase();break;case t.vb:r=e.lifecycle.findPhaseAtNominalTime(n.getSendTime());break;case t.Jd:r=null}return e.lifecycle.getPhaseID(r)},t.Md="uCT",t.vb="uNET",t.Jd="tIA",t}();e.oa=t}(e||(e={})),function(e){!function(n){var r=e.utils.hasOwnPropertyDefined,i=function(i){function o(){i.apply(this,arguments)}return t(o,i),o.prototype.make=function(t){var r=i.prototype.make.call(this,t,o.getContext(t)),a=t.url(),s=t.getSendTime(),u=t.getFirstByteTime(),c=t.getRespAvailTime(),f=t.getRespProcTime();return e.assert(null!==a&&null!==s&&null!==u&&null!==c&&null!==f,"missing some pieces of XHR data: url="+a+", send="+s+", fbt="+u+", rat="+c+", eut="+f+", parentPhase="+t.parentPhase()),null===a||null===s||null===u||null===c||null===f?null:(a=t.error(),s={PLC:1,FBT:u-s,DDT:c-u,DPT:f-c,PLT:f-s,ARE:a?1:0},u=t.url(),o.Ng(s,u)?(e.conf.viz&&e.utils.Pa(document.getElementById(e.conf.viz),s,"xhr"),e.utils.mergeJSON(r,{eventUrl:e.utils.A.K(u),parentType:t.parentType()||e.EventType.PageView,parentLifecyclePhase:t.parentPhaseId(),metrics:s,method:t.method(),timestamp:t.timestamp(),ajaxError:a&&[a.status,a.msg||""],xhrStatus:t.xhrStatus()}),(t=t.parameter())&&n.$.bb(t,e.conf.Y)?r.parameter=t:t&&n.$.ya("parameter",e.conf.Y),e.utils.uh(r,n.H.userPageName),r):null)},o.getContext=function(e){return{url:e.url()||"",method:e.method()||""}},o.Ng=function(t,n){for(var i in t)if(r(t,i)){var o=t[i];if(0>o)return e.error("XHR "+i+" ["+o+"] "+n),!1}return!0},o}(n.ka);n.Zb=i}(e.events||(e.events={}))}(e||(e={})),function(e){!function(n){var r=function(n){function r(){n.apply(this,arguments)}return t(r,n),r.prototype.make=function(t){var r=n.prototype.make.call(this,t);return r&&(t=t.allResponseHeaders()||"",(t=e.correlation.jg(t))&&null!==t&&null!==t.clientRequestGUID&&(r.eventGUID=t.clientRequestGUID),null!==t&&(r.serverMetadata=t)),r},r}(n.Zb);n.Wd=r}(e.events||(e.events={}))}(e||(e={})),function(e){!function(n){var r=function(r){function i(){r.apply(this,arguments)}return t(i,r),i.prototype.make=function(t){var i=r.prototype.make.call(this,t);return e.utils.mergeJSON(i,{message:t.msg()||"",timestamp:t.timestamp(),line:t.line(),stack:t.stack(),parentPageName:n.H.userPageName}),e.utils.isString(i.userPageName)||(i.userPageName=i.parentPageName),i},i}(n.ka);n.Te=r}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){!function(t){t.build=function(t){var n,r={},i=e.metricSpec[t.type()];for(n in i){var o=i[n];if(null!==o.name&&t.perf.getEntryByName(o.start)&&t.perf.getEntryByName(o.end)){t.perf.measure(o.name,o.start,o.end);var a=t.perf.getEntryByName(o.name);r[o.name]=a&&0<=a.duration&&a.duration||null}}for(n in r)r[n]=Math.round(r[n]);return r}}(e.Wb||(e.Wb={}))}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var n=function(n){function r(){n.apply(this,arguments)}return t(r,n),r.prototype.make=function(t){var r=n.prototype.make.call(this,t),i=e.Wb.build(t);return i.PLC=1,r.metrics=i,r.timestamp=t.timestamp(),t=new e.ResourceTimingInfoBuilder(t.resTiming()).build(),null!==t&&(r.resourceTimingInfo=t),r},r}(e.ka);e.Yb=n}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var n=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.make=function(t){var n=e.prototype.make.call(this,t);return n&&(n.metrics.VDC=t.digestCount()||0),n},n}(e.Yb);e.Re=n}(e.events||(e.events={}))}(e||(e={})),function(e){var t=e.events||(e.events={});t.pd={},e=[{S:t.PageView,P:new t.H},{S:t.Ajax,P:new t.Zb},{S:t.AdrumAjax,P:new t.Wd},{S:t.Error,P:new t.Te},{S:t.VPageView,P:new t.Yb},{S:e.ng.NgVPageView,P:new t.Re}];for(var n=0;n<e.length;n++){var r=e[n];r.S.prototype._regId=n,t.pd[n]=r.P}}(e||(e={})),function(e){!function(t){t.reportEvent=function(t){var n=e.events.pd[t._regId];n?(n=n.make(t),e.utils.isDefined(n)&&(e.log("M108",e.EventType[t.type()]),e.channel.report(n))):e.log("M107"+e.EventType[e.eventType])}}(e.reporter||(e.reporter={}))}(e||(e={})),function(e){!function(t){var n=function(){function t(){this.ready=!1}return t.prototype.onReady=function(){this.ready=!0,this.channel.onResolverReady()},t.prototype.isReady=function(){return this.ready||e.log("M109"),this.ready},t.prototype.init=function(e){this.channel=e},t}();t.ef=n}(e.commands||(e.commands={}))}(e||(e={})),function(e){!function(t){var n=new t.ef;e.channel.addResolver(n),t.marks={},t.mark=function(n,r){e.log("M110",n,r),t.marks[n]=r},t.reportOnload=function(t){setTimeout(function(){e.log("M111"),e.reporter.reportEvent(t),n.onReady()},e.conf.cf)},t.reportEvent=function(){e.reporter.reportEvent.apply(e.reporter,arguments)},t.addResolver=function(t){e.channel.addResolver(t)},t.reportXhr=function(t){e.log("M112"),e.oa.kd()==e.oa.vb?(e.log("M113"),setTimeout(function(){t.parentPhaseId(e.oa.jd(t)),e.reporter.reportEvent(t)},0)):(t.parentPhaseId(e.oa.jd(t)),e.reporter.reportEvent(t))},t.listenForOkToSendChildFrameBeacons=function(t){e.log("M114");try{t()}catch(t){e.exception(t,"M115")}},t.reportPageError=function(t){var n=t.url();e.log("M116",t.msg(),n,t.line(),t.stack()),n&&0!==n.length||t.url("CROSSORIGIN"),e.reporter.reportEvent(t)},t.setPageName=function(t){e.events.H.setPageName(t)},t.addUserData=function(t,n){e.events.H.addUserData(t,n)},t.call=function(e){e()}}(e.commands||(e.commands={}))}(e||(e={})),function(e){!function(e){e.tc=function(t){return encodeURIComponent(e.A.Zg(t))}}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(t){var n=function(){function t(){}return t.prototype.setUp=function(){this.Rg(),e.utils.addEventListener(window,"pagehide",t.Bb),e.utils.addEventListener(window,"beforeunload",t.Bb),e.utils.addEventListener(window,"unload",t.Bb)},t.prototype.Rg=function(){(this.startTime=t.Uf()||t.Tf())&&e.commands.mark("starttime",this.startTime)},t.Uf=function(){var t;try{if(e.utils.isDefined(window.external)&&e.utils.isNumber(window.external.pageT))t=(new Date).getTime()-window.external.pageT;else if(e.utils.isDefined(window.Hc)&&e.utils.isFunction(window.Hc.pageT)){var n=window.Hc.pageT();e.utils.isNumber(n)&&(t=(new Date).getTime()-n)}else e.utils.isDefined(window.chrome)&&e.utils.isFunction(window.chrome.csi)&&(n=window.chrome.csi(),e.utils.isDefined(n)&&e.utils.isNumber(n.pageT)&&(t=(new Date).getTime()-n.pageT));t&&(t=Math.round(t),e.log("M117",t))}catch(t){e.exception(t,"M118")}return t},t.Tf=function(){var t=e.correlation.startTimeCookie;if(t){e.log("M119",t.startTime,t.startPage);var n=e.utils.tc(document.referrer);if(n===t.startPage){if(!isNaN(t.startTime))return t.startTime;e.log("M120",t.startTime)}else e.log("M121",n,t.startPage)}else e.log("M122")},t.Gf=function(t,n){var r=document.domain,i="https:"===document.location.protocol,o="ADRUM=s="+Number(new Date)+"&r="+e.utils.tc(document.location.href),a=o+";path=/";if(i&&(a+=";secure"),e.log("M123",o),!e.conf.useStrictDomainCookies){for(var i=t(),r=r.split("."),s="",u=r.length-1;0<=u;u--){s="."+r[u]+s,e.log("M124",s),n(a+";domain="+s);var c=t();if(c!=i&&0<=c.indexOf(o))return e.log("M125"),void e.log("M126")}e.log("M127")}e.log("M128"),n(a),e.log("M129")},t.Bb=function(){var e=!1;return function(){e||(e=!0,t.Gf(function(){return document.cookie},function(e){document.cookie=e}))}}(),t}();t.fi=n,t.Ah=new n}(e.monitor||(e.monitor={}))}(e||(e={})),function(e){e.log("M130"),e.monitor.Ah.setUp(),e.q.processQ(),e.initEXTDone=!0,e.log("M131")}(e||(e={}))}}}();
!function(e){"use strict";var t=function(t,i){e.fn.typeahead.defaults;i.scrollBar&&(i.items=100,i.menu='<ul class="typeahead dropdown-menu" style="max-height:220px;overflow:auto;"></ul>');var s=this;if(s.$element=e(t),s.options=e.extend({},e.fn.typeahead.defaults,i),s.$menu=e(s.options.menu).insertAfter(s.$element),s.eventSupported=s.options.eventSupported||s.eventSupported,s.grepper=s.options.grepper||s.grepper,s.highlighter=s.options.highlighter||s.highlighter,s.lookup=s.options.lookup||s.lookup,s.matcher=s.options.matcher||s.matcher,s.render=s.options.render||s.render,s.onSelect=s.options.onSelect||null,s.sorter=s.options.sorter||s.sorter,s.source=s.options.source||s.source,s.displayField=s.options.displayField||s.displayField,s.valueField=s.options.valueField||s.valueField,s.options.ajax){var a=s.options.ajax;"string"==typeof a?s.ajax=e.extend({},e.fn.typeahead.defaults.ajax,{url:a}):("string"==typeof a.displayField&&(s.displayField=s.options.displayField=a.displayField),"string"==typeof a.valueField&&(s.valueField=s.options.valueField=a.valueField),s.ajax=e.extend({},e.fn.typeahead.defaults.ajax,a)),s.ajax.url||(s.ajax=null),s.query=""}else s.source=s.options.source,s.ajax=null;s.shown=!1,s.listen()};t.prototype={constructor:t,eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},select:function(){var e=this.$menu.find(".active"),t=e.attr("data-value"),i=this.$menu.find(".active a").text();return this.options.onSelect&&this.options.onSelect({value:t,text:i}),this.$element.val(this.updater(i)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},ajaxLookup:function(){function t(){this.ajaxToggleLoadClass(!0),this.ajax.xhr&&this.ajax.xhr.abort();var t=this.ajax.preDispatch?this.ajax.preDispatch(i):{query:i};this.ajax.xhr=e.ajax({url:this.ajax.url,data:t,success:e.proxy(this.ajaxSource,this),type:this.ajax.method||"get",dataType:"json"}),this.ajax.timerId=null}var i=e.trim(this.$element.val());return i===this.query?this:(this.query=i,this.ajax.timerId&&(clearTimeout(this.ajax.timerId),this.ajax.timerId=null),!i||i.length<this.ajax.triggerLength?(this.ajax.xhr&&(this.ajax.xhr.abort(),this.ajax.xhr=null,this.ajaxToggleLoadClass(!1)),this.shown?this.hide():this):(this.ajax.timerId=setTimeout(e.proxy(t,this),this.ajax.timeout),this))},ajaxSource:function(e){this.ajaxToggleLoadClass(!1);var t,i=this;if(i.ajax.xhr)return i.ajax.preProcess&&(e=i.ajax.preProcess(e)),i.ajax.data=e,t=i.grepper(i.ajax.data)||[],t.length?(i.ajax.xhr=null,i.render(t.slice(0,i.options.items)).show()):i.shown?i.hide():i},ajaxToggleLoadClass:function(e){this.ajax.loadingClass&&this.$element.toggleClass(this.ajax.loadingClass,e)},lookup:function(e){var t,i=this;if(!i.ajax)return i.query=i.$element.val(),i.query?i.query.length<i.options.minLength?i.shown?i.hide():i:(t=i.grepper(i.source),t&&t.length?i.render(t.slice(0,i.options.items)).show():i.shown?i.hide():i):i.shown?i.hide():i;i.ajaxer()},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){if(this.options.ajax)return e;for(var t,i=[],s=[],a=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?s.push(t):a.push(t):i.push(t);return i.concat(s,a)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var i,s=this,a="string"==typeof s.options.displayField;return t=e(t).map(function(t,n){return"object"==typeof n?(i=a?n[s.options.displayField]:s.options.displayField(n),t=e(s.options.item).attr("data-value",n[s.options.valueField])):(i=n,t=e(s.options.item).attr("data-value",n)),t.find("a").html(s.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},grepper:function(t){var i,s,a=this,n="string"==typeof a.options.displayField;if(!(n&&t&&t.length))return null;if(t[0].hasOwnProperty(a.options.displayField))i=e.grep(t,function(e){return s=n?e[a.options.displayField]:a.options.displayField(e),a.matcher(s)});else{if("string"!=typeof t[0])return null;i=e.grep(t,function(e){return a.matcher(e)})}return this.sorter(i)},next:function(t){var i=this.$menu.find(".active").removeClass("active"),s=i.next();if(s.length||(s=e(this.$menu.find("li")[0])),this.options.scrollBar){var a=this.$menu.children("li").index(s);a%8==0&&this.$menu.scrollTop(26*a)}s.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),i=t.prev();if(i.length||(i=this.$menu.find("li").last()),this.options.scrollBar){var s=this.$menu.children("li"),a=s.length-1,n=s.index(i);(a-n)%8==0&&this.$menu.scrollTop(26*(n-7))}i.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.ajax?this.ajaxLookup():this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}},e.fn.typeahead=function(i){return this.each(function(){var s=e(this),a=s.data("typeahead"),n="object"==typeof i&&i;a||s.data("typeahead",a=new t(this,n)),"string"==typeof i&&a[i]()})},e.fn.typeahead.defaults={source:[],items:8,minLength:1,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',displayField:"name",scrollBar:!1,valueField:"id",onSelect:function(){},ajax:{url:null,timeout:300,method:"get",triggerLength:1,loadingClass:null,preDispatch:null,preProcess:null}},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var i=e(this);i.data("typeahead")||(t.preventDefault(),i.typeahead(i.data()))})})}(window.jQuery);
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new o(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.2.0",o.prototype.close=function(e){function i(){n.detach().trigger("closed.bs.alert").remove()}var o=t(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var n=t(s);e&&e.preventDefault(),n.length||(n=o.hasClass("alert")?o:o.parent()),n.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(150):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.button"),n="object"==typeof e&&e;s||o.data("bs.button",s=new i(this,n)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.2.0",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,s=o.is("input")?"val":"html",n=o.data();e+="Text",null==n.resetText&&o.data("resetText",o[s]()),o[s](null==n[e]?this.options[e]:n[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),i.preventDefault()})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.carousel"),n=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),r="string"==typeof e?e:n.slide;s||o.data("bs.carousel",s=new i(this,n)),"number"==typeof e?s.to(e):r?s[r]():n.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.2.0",i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},i.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.to=function(e){var i=this,o=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),s=i||o[e](),n=this.interval,r="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[a]()}if(s.hasClass("active"))return this.sliding=!1;var h=s[0],p=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(p),!p.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,o.addClass(r),s.addClass(r),o.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*o.css("transition-duration").slice(0,-1))):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),n&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(i){var o,s=t(this),n=t(s.attr("data-target")||(o=s.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var r=t.extend({},n.data(),s.data()),a=s.attr("data-slide-to");a&&(r.interval=!1),e.call(n,r),a&&n.data("bs.carousel").to(a),i.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.collapse"),n=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);!s&&n.toggle&&"show"==e&&(e=!e),s||o.data("bs.collapse",s=new i(this,n)),"string"==typeof e&&s[e]()})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};i.VERSION="3.2.0",i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var o=this.$parent&&this.$parent.find("> .panel > .in");if(o&&o.length){var s=o.data("bs.collapse");if(s&&s.transitioning)return;e.call(o,"hide"),s||o.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var a=t.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350)[n](this.$element[0][a])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!t.support.transition)return o.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(350)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var o=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o,s=t(this),n=s.attr("data-target")||i.preventDefault()||(o=s.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),r=t(n),a=r.data("bs.collapse"),l=a?"toggle":s.data(),h=s.attr("data-parent"),p=h&&t(h);a&&a.transitioning||(p&&p.find('[data-toggle="collapse"][data-parent="'+h+'"]').not(s).addClass("collapsed"),s[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(r,l)})}(jQuery),function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(n).each(function(){var o=i(t(this)),s={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown",s))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new r(this)),"string"==typeof e&&o[e].call(i)})}var s=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(o){var s=t(this);if(!s.is(".disabled, :disabled")){var n=i(s),r=n.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(n.trigger(o=t.Event("show.bs.dropdown",a)),o.isDefaultPrevented())return;s.trigger("focus"),n.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var s=i(o),r=s.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&s.find(n).trigger("focus"),o.trigger("click");var a=" li:not(.divider):visible a",l=s.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var h=l.index(l.filter(":focus"));38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,o){return this.each(function(){var s=t(this),n=s.data("bs.modal"),r=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new i(this,r)),"string"==typeof e?n[e](o):r.show&&n.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.2.0",i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(150):n()}else e&&e()},i.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),s=o.attr("href"),n=t(o.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),o.data());o.is("a")&&i.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(n,r,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tooltip"),n="object"==typeof e&&e;(s||"destroy"!=e)&&(s||o.data("bs.tooltip",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.2.0",i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),n=s.length;n--;){var r=s[n];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,s=this.tip(),n=this.getUID(this.type);this.setContent(),s.attr("id",n),this.$element.attr("aria-describedby",n),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(r);l&&(r=r.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var h=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(l){var d=r,f=this.$element.parent(),u=this.getPosition(f);r="bottom"==r&&h.top+h.height+c-u.scroll>u.height?"top":"top"==r&&h.top-u.scroll-c<0?"bottom":"right"==r&&h.right+p>u.width?"left":"left"==r&&h.left-p<u.left?"right":r,s.removeClass(d).addClass(r)}var g=this.getCalculatedOffset(r,h,p,c);this.applyPlacement(g,r);var v=function(){o.$element.trigger("shown.bs."+o.type),o.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(150):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),s=o[0].offsetWidth,n=o[0].offsetHeight,r=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=n&&(e.top=e.top+n-h);var p=this.getViewportAdjustedDelta(i,e,l,h);p.left?e.left+=p.left:e.top+=p.top;var c=p.left?2*p.left-s+l:2*p.top-n+h,d=p.left?"left":"top",f=p.left?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],d)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(){function e(){"in"!=i.hoverState&&o.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,o=this.tip(),s=t.Event("hide.bs."+this.type);if(this.$element.removeAttr("aria-describedby"),this.$element.trigger(s),!s.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName;return t.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():null,{scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:o?t(window).width():e.outerWidth(),height:o?t(window).height():e.outerHeight()},o?{top:0,left:0}:e.offset())},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var s={top:0,left:0};if(!this.$viewport)return s;var n=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-n-r.scroll,l=e.top+n-r.scroll+o;a<r.top?s.top=r.top-a:l>r.top+r.height&&(s.top=r.top+r.height-l)}else{var h=e.left-n,p=e.left+n+i;h<r.left?s.left=r.left-h:p>r.width&&(s.left=r.left+r.width-p)}return s},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.popover"),n="object"==typeof e&&e;(s||"destroy"!=e)&&(s||o.data("bs.popover",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.2.0",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),function(t){"use strict";function e(i,o){var s=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(i).is("body")?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),s=o.data("bs.scrollspy"),n="object"==typeof i&&i;s||o.data("bs.scrollspy",s=new e(this,n)),"string"==typeof i&&s[i]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",i=0;t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var o=this;this.$body.find(this.selector).map(function(){var o=t(this),s=o.data("target")||o.attr("href"),n=/^#./.test(s)&&t(s);return n&&n.length&&n.is(":visible")&&[[n[e]().top+i,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,n=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return r!=(t=n[n.length-1])&&this.activate(t);if(r&&e<=s[0])return r!=(t=n[0])&&this.activate(t);for(t=s.length;t--;)r!=n[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tab");s||o.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.2.0",i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],n=t.Event("show.bs.tab",{relatedTarget:s});if(e.trigger(n),!n.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},i.prototype.activate=function(e,i,o){function s(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var n=i.find("> .active"),r=o&&t.support.transition&&n.hasClass("fade");r?n.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),n.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(i){i.preventDefault(),e.call(t(this),"show")})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.affix"),n="object"==typeof e&&e;s||o.data("bs.affix",s=new i(this,n)),"string"==typeof e&&s[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.2.0",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),o=this.$target.scrollTop(),s=this.$element.offset(),n=this.options.offset,r=n.top,a=n.bottom;"object"!=typeof n&&(a=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof a&&(a=n.bottom(this.$element));var l=!(null!=this.unpin&&o+this.unpin<=s.top)&&(null!=a&&s.top+this.$element.height()>=e-a?"bottom":null!=r&&o<=r&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var h="affix"+(l?"-"+l:""),p=t.Event(h+".bs.affix");this.$element.trigger(p),p.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(h).trigger(t.Event(h.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-a}))}}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},o.offsetBottom&&(o.offset.bottom=o.offsetBottom),o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);
var CryptoJS=CryptoJS||function(t,n){var i={},r=i.lib={},e=function(){},s=r.Base={extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=s.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=void 0!=n?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,i=t.words,r=this.sigBytes;if(t=t.sigBytes,this.clamp(),r%4)for(var e=0;e<t;e++)n[r+e>>>2]|=(i[e>>>2]>>>24-e%4*8&255)<<24-(r+e)%4*8;else if(65535<i.length)for(e=0;e<t;e+=4)n[r+e>>>2]=i[e>>>2];else n.push.apply(n,i);return this.sigBytes+=t,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i=[],r=0;r<n;r+=4)i.push(4294967296*t.random()|0);return new o.init(i,n)}}),a=i.enc={},c=a.Hex={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],r=0;r<t;r++){var e=n[r>>>2]>>>24-r%4*8&255;i.push((e>>>4).toString(16)),i.push((15&e).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(i,n/2)}},u=a.Latin1={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],r=0;r<t;r++)i.push(String.fromCharCode(n[r>>>2]>>>24-r%4*8&255));return i.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(i,n)}},h=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=r.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,r=i.words,e=i.sigBytes,s=this.blockSize,a=e/(4*s),a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(n=a*s,e=t.min(4*n,e),n){for(var c=0;c<n;c+=s)this._doProcessBlock(r,c);c=r.splice(0,n),i.sigBytes-=e}return new o.init(c,e)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});r.Hasher=f.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new l.HMAC.init(t,i).finalize(n)}}});var l=i.algo={};return i}(Math);!function(t){function n(t,n,i,r,e,s,o){return((t=t+(n&i|~n&r)+e+o)<<s|t>>>32-s)+n}function i(t,n,i,r,e,s,o){return((t=t+(n&r|i&~r)+e+o)<<s|t>>>32-s)+n}function r(t,n,i,r,e,s,o){return((t=t+(n^i^r)+e+o)<<s|t>>>32-s)+n}function e(t,n,i,r,e,s,o){return((t=t+(i^(n|~r))+e+o)<<s|t>>>32-s)+n}for(var s=CryptoJS,o=s.lib,a=o.WordArray,c=o.Hasher,o=s.algo,u=[],h=0;64>h;h++)u[h]=4294967296*t.abs(t.sin(h+1))|0;o=o.MD5=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var o=0;16>o;o++){var a=s+o,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var o=this._hash.words,a=t[s+0],c=t[s+1],h=t[s+2],f=t[s+3],l=t[s+4],p=t[s+5],d=t[s+6],g=t[s+7],y=t[s+8],_=t[s+9],v=t[s+10],w=t[s+11],B=t[s+12],m=t[s+13],S=t[s+14],x=t[s+15],H=o[0],z=o[1],C=o[2],M=o[3],H=n(H,z,C,M,a,7,u[0]),M=n(M,H,z,C,c,12,u[1]),C=n(C,M,H,z,h,17,u[2]),z=n(z,C,M,H,f,22,u[3]),H=n(H,z,C,M,l,7,u[4]),M=n(M,H,z,C,p,12,u[5]),C=n(C,M,H,z,d,17,u[6]),z=n(z,C,M,H,g,22,u[7]),H=n(H,z,C,M,y,7,u[8]),M=n(M,H,z,C,_,12,u[9]),C=n(C,M,H,z,v,17,u[10]),z=n(z,C,M,H,w,22,u[11]),H=n(H,z,C,M,B,7,u[12]),M=n(M,H,z,C,m,12,u[13]),C=n(C,M,H,z,S,17,u[14]),z=n(z,C,M,H,x,22,u[15]),H=i(H,z,C,M,c,5,u[16]),M=i(M,H,z,C,d,9,u[17]),C=i(C,M,H,z,w,14,u[18]),z=i(z,C,M,H,a,20,u[19]),H=i(H,z,C,M,p,5,u[20]),M=i(M,H,z,C,v,9,u[21]),C=i(C,M,H,z,x,14,u[22]),z=i(z,C,M,H,l,20,u[23]),H=i(H,z,C,M,_,5,u[24]),M=i(M,H,z,C,S,9,u[25]),C=i(C,M,H,z,f,14,u[26]),z=i(z,C,M,H,y,20,u[27]),H=i(H,z,C,M,m,5,u[28]),M=i(M,H,z,C,h,9,u[29]),C=i(C,M,H,z,g,14,u[30]),z=i(z,C,M,H,B,20,u[31]),H=r(H,z,C,M,p,4,u[32]),M=r(M,H,z,C,y,11,u[33]),C=r(C,M,H,z,w,16,u[34]),z=r(z,C,M,H,S,23,u[35]),H=r(H,z,C,M,c,4,u[36]),M=r(M,H,z,C,l,11,u[37]),C=r(C,M,H,z,g,16,u[38]),z=r(z,C,M,H,v,23,u[39]),H=r(H,z,C,M,m,4,u[40]),M=r(M,H,z,C,a,11,u[41]),C=r(C,M,H,z,f,16,u[42]),z=r(z,C,M,H,d,23,u[43]),H=r(H,z,C,M,_,4,u[44]),M=r(M,H,z,C,B,11,u[45]),C=r(C,M,H,z,x,16,u[46]),z=r(z,C,M,H,h,23,u[47]),H=e(H,z,C,M,a,6,u[48]),M=e(M,H,z,C,g,10,u[49]),C=e(C,M,H,z,S,15,u[50]),z=e(z,C,M,H,p,21,u[51]),H=e(H,z,C,M,B,6,u[52]),M=e(M,H,z,C,f,10,u[53]),C=e(C,M,H,z,v,15,u[54]),z=e(z,C,M,H,c,21,u[55]),H=e(H,z,C,M,y,6,u[56]),M=e(M,H,z,C,x,10,u[57]),C=e(C,M,H,z,d,15,u[58]),z=e(z,C,M,H,m,21,u[59]),H=e(H,z,C,M,l,6,u[60]),M=e(M,H,z,C,w,10,u[61]),C=e(C,M,H,z,h,15,u[62]),z=e(z,C,M,H,_,21,u[63]);o[0]=o[0]+H|0,o[1]=o[1]+z|0,o[2]=o[2]+C|0,o[3]=o[3]+M|0},_doFinalize:function(){var n=this._data,i=n.words,r=8*this._nDataBytes,e=8*n.sigBytes;i[e>>>5]|=128<<24-e%32;var s=t.floor(r/4294967296);for(i[15+(e+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i[14+(e+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n.sigBytes=4*(i.length+1),this._process(),n=this._hash,i=n.words,r=0;4>r;r++)e=i[r],i[r]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return n},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=c._createHelper(o),s.HmacMD5=c._createHmacHelper(o)}(Math);
!function(e){function n(e,n){if(!n||"function"==typeof n)return e;for(var t in n)e[t]=n[t];return e}function t(e,n,r){for(var a in n)a in e?"string"==typeof e[a]||e[a]instanceof String||"string"==typeof n[a]||n[a]instanceof String?r&&(e[a]=n[a]):t(e[a],n[a],r):e[a]=n[a];return e}function r(e,n,t){var r,a=0,o=e.length,i=void 0===o||"[object Array]"!==Object.prototype.toString.apply(e)||"function"==typeof e;if(t)if(i){for(r in e)if(!1===n.apply(e[r],t))break}else for(;a<o&&!1!==n.apply(e[a++],t););else if(i){for(r in e)if(!1===n.call(e[r],r,e[r]))break}else for(;a<o&&!1!==n.call(e[a],a,e[a++]););return e}function a(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return J[e]}):e}function o(e){var n=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(n){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},t=function(e){if("string"==typeof e)return e;var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");for(var n="",t=0;t<e.length;t++){var r=e.charCodeAt(t);r<128?n+=String.fromCharCode(r):r>127&&r<2048?(n+=String.fromCharCode(r>>6|192),n+=String.fromCharCode(63&r|128)):(n+=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128),n+=String.fromCharCode(63&r|128))}return n},a=function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var t,a,o,i,s,u,l,f="",c=0;do{t=e.charCodeAt(c++),a=e.charCodeAt(c++),o=e.charCodeAt(c++),i=t>>2,s=(3&t)<<4|a>>4,u=(15&a)<<2|o>>6,l=63&o,isNaN(a)?u=l=64:isNaN(o)&&(l=64),f+=n.charAt(i)+n.charAt(s)+n.charAt(u)+n.charAt(l),t=a=o="",i=s=u=l=""}while(c<e.length);return f},o=function(){for(var e=arguments[0],n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}return e},i=function(e,r,a,s){"function"==typeof a&&(s=a,a={}),a.cache=a.cache||!1,a.data=a.data||{},a.headers=a.headers||{},a.jsonp=a.jsonp||!1,a.async=void 0===a.async||a.async;var u,l=o({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},i.headers,a.headers);if(u="application/json"===l["content-type"]?JSON.stringify(a.data):t(a.data),"GET"===e){var f=[];if(u&&(f.push(u),u=null),a.cache||f.push("_="+(new Date).getTime()),a.jsonp&&(f.push("callback="+a.jsonp),f.push("jsonp="+a.jsonp)),f=f.join("&"),f.length>1&&(r.indexOf("?")>-1?r+="&"+f:r+="?"+f),a.jsonp){var c=document.getElementsByTagName("head")[0],p=document.createElement("script");return p.type="text/javascript",p.src=r,void c.appendChild(p)}}n(function(n,t){if(n)return s(n);t.open(e,r,a.async);for(var o in l)l.hasOwnProperty(o)&&t.setRequestHeader(o,l[o]);t.onreadystatechange=function(){if(4===t.readyState){var e=t.responseText||"";if(!s)return;s(t.status,{text:function(){return e},json:function(){try{return JSON.parse(e)}catch(e){return W.error("Can not parse JSON. URL: "+r),{}}}})}},t.send(u)})};({authBasic:function(e,n){i.headers.Authorization="Basic "+a(e+":"+n)},connect:function(e,n,t){return i("CONNECT",e,n,t)},del:function(e,n,t){return i("DELETE",e,n,t)},get:function(e,n,t){return i("GET",e,n,t)},head:function(e,n,t){return i("HEAD",e,n,t)},headers:function(e){i.headers=e||{}},isAllowed:function(e,n,t){this.options(e,function(e,r){t(-1!==r.text().indexOf(n))})},options:function(e,n,t){return i("OPTIONS",e,n,t)},patch:function(e,n,t){return i("PATCH",e,n,t)},post:function(e,n,t){return i("POST",e,n,t)},put:function(e,n,t){return i("PUT",e,n,t)},trace:function(e,n,t){return i("TRACE",e,n,t)}})[e.type?e.type.toLowerCase():"get"](e.url,e,function(n,t){200===n||0===n&&t.text()?e.success(t.json(),n,null):e.error(t.text(),n,null)})}function i(e,n){"function"==typeof e&&(n=e,e={}),e=e||{},W.extend(U,e),delete U.fixLng,U.functions&&(delete U.functions,W.extend(W,e.functions)),"string"==typeof U.ns&&(U.ns={namespaces:[U.ns],defaultNs:U.ns}),"string"==typeof U.fallbackNS&&(U.fallbackNS=[U.fallbackNS]),"string"!=typeof U.fallbackLng&&"boolean"!=typeof U.fallbackLng||(U.fallbackLng=[U.fallbackLng]),U.interpolationPrefixEscaped=W.regexEscape(U.interpolationPrefix),U.interpolationSuffixEscaped=W.regexEscape(U.interpolationSuffix),U.lng||(U.lng=W.detectLanguage()),K=W.toLanguages(U.lng),I=K[0],W.log("currentLng set to: "+I),U.useCookie&&W.cookie.read(U.cookieName)!==I&&W.cookie.create(U.cookieName,I,U.cookieExpirationTime,U.cookieDomain),U.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localStorage&&W.localStorage.setItem("i18next_lng",I);var t=_;e.fixLng&&(t=function(e,n){return n=n||{},n.lng=n.lng||t.lng,_(e,n)},t.lng=I),Z.setCurrentLng(I),V&&U.setJqueryExt?S&&S():w&&w();var r;if(V&&V.Deferred&&(r=V.Deferred()),U.resStore){if(z=U.resStore,B=!0,n&&n(null,t),r&&r.resolve(t),r)return r.promise()}else{var a=W.toLanguages(U.lng);"string"==typeof U.preload&&(U.preload=[U.preload]);for(var o=0,i=U.preload.length;o<i;o++)for(var s=W.toLanguages(U.preload[o]),u=0,l=s.length;u<l;u++)a.indexOf(s[u])<0&&a.push(s[u]);if(H.sync.load(a,U,function(e,a){z=a,B=!0,n&&n(e,t),r&&(e?r.reject:r.resolve)(e||t)}),r)return r.promise()}}function s(){return B}function u(e,n){"string"==typeof e&&(e=[e]);for(var t=0,r=e.length;t<r;t++)U.preload.indexOf(e[t])<0&&U.preload.push(e[t]);return i(n)}function l(e,n,t,r,a){"string"!=typeof n?(t=n,n=U.ns.defaultNs):U.ns.namespaces.indexOf(n)<0&&U.ns.namespaces.push(n),z[e]=z[e]||{},z[e][n]=z[e][n]||{},r?W.deepExtend(z[e][n],t,a):W.extend(z[e][n],t),U.useLocalStorage&&G._storeLocal(z)}function f(e,n){"string"!=typeof n&&(n=U.ns.defaultNs),z[e]=z[e]||{};var t=z[e][n]||{},r=!1;for(var a in t)t.hasOwnProperty(a)&&(r=!0);return r}function c(e,n){return"string"!=typeof n&&(n=U.ns.defaultNs),z[e]=z[e]||{},W.extend({},z[e][n])}function p(e,n){"string"!=typeof n&&(n=U.ns.defaultNs),z[e]=z[e]||{},z[e][n]={},U.useLocalStorage&&G._storeLocal(z)}function d(e,n,t,r){"string"!=typeof n?(resource=n,n=U.ns.defaultNs):U.ns.namespaces.indexOf(n)<0&&U.ns.namespaces.push(n),z[e]=z[e]||{},z[e][n]=z[e][n]||{};for(var a=t.split(U.keyseparator),o=0,i=z[e][n];a[o];)o==a.length-1?i[a[o]]=r:(null==i[a[o]]&&(i[a[o]]={}),i=i[a[o]]),o++;U.useLocalStorage&&G._storeLocal(z)}function g(e,n,t){"string"!=typeof n?(t=n,n=U.ns.defaultNs):U.ns.namespaces.indexOf(n)<0&&U.ns.namespaces.push(n);for(var r in t)"string"==typeof t[r]&&d(e,n,r,t[r])}function h(e){U.ns.defaultNs=e}function y(e,n){m([e],n)}function m(e,n){var t={dynamicLoad:U.dynamicLoad,resGetPath:U.resGetPath,getAsync:U.getAsync,customLoad:U.customLoad,ns:{namespaces:e,defaultNs:""}},r=W.toLanguages(U.lng);"string"==typeof U.preload&&(U.preload=[U.preload]);for(var a=0,o=U.preload.length;a<o;a++)for(var i=W.toLanguages(U.preload[a]),s=0,u=i.length;s<u;s++)r.indexOf(i[s])<0&&r.push(i[s]);for(var l=[],f=0,c=r.length;f<c;f++){var p=!1,d=z[r[f]];if(d)for(var g=0,h=e.length;g<h;g++)d[e[g]]||(p=!0);else p=!0;p&&l.push(r[f])}l.length?H.sync._fetch(l,t,function(t,r){var a=e.length*l.length;W.each(e,function(e,t){U.ns.namespaces.indexOf(t)<0&&U.ns.namespaces.push(t),W.each(l,function(e,o){z[o]=z[o]||{},z[o][t]=r[o][t],0===--a&&n&&(U.useLocalStorage&&H.sync._storeLocal(z),n())})})}):n&&n()}function v(e,n,t){return"function"==typeof n?(t=n,n={}):n||(n={}),n.lng=e,i(n,t)}function x(){return I}function b(){return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].some(function(e){return new RegExp("^"+e).test(I)})?"rtl":"ltr"}function k(e){z={},v(I,e)}function L(){window.i18next=window.i18n,q?window.i18n=q:delete window.i18n}function S(){function e(e,n,t){if(0!==n.length){var r="text";if(0===n.indexOf("[")){var a=n.split("]");n=a[1],r=a[0].substr(1,a[0].length-1)}n.indexOf(";")===n.length-1&&(n=n.substr(0,n.length-2));var o;if("html"===r)o=U.defaultValueFromContent?V.extend({defaultValue:e.html()},t):t,e.html(V.t(n,o));else if("text"===r)o=U.defaultValueFromContent?V.extend({defaultValue:e.text()},t):t,e.text(V.t(n,o));else if("prepend"===r)o=U.defaultValueFromContent?V.extend({defaultValue:e.html()},t):t,e.prepend(V.t(n,o));else if("append"===r)o=U.defaultValueFromContent?V.extend({defaultValue:e.html()},t):t,e.append(V.t(n,o));else if(0===r.indexOf("data-")){var i=r.substr("data-".length);o=U.defaultValueFromContent?V.extend({defaultValue:e.data(i)},t):t;var s=V.t(n,o);e.data(i,s),e.attr(r,s)}else o=U.defaultValueFromContent?V.extend({defaultValue:e.attr(r)},t):t,e.attr(r,V.t(n,o))}}function n(n,t){var r=n.attr(U.selectorAttr);if(r||void 0===r||!1===r||(r=n.text()||n.val()),r){var a=n,o=n.data("i18n-target");if(o&&(a=n.find(o)||n),t||!0!==U.useDataAttrOptions||(t=n.data("i18n-options")),t=t||{},r.indexOf(";")>=0){var i=r.split(";");V.each(i,function(n,r){""!==r&&e(a,r,t)})}else e(a,r,t);if(!0===U.useDataAttrOptions){var s=V.extend({lng:"non",lngs:[],_origLng:"non"},t);delete s.lng,delete s.lngs,delete s._origLng,n.data("i18n-options",s)}}}V.t=V.t||_,V.fn.i18n=function(e){return this.each(function(){n(V(this),e),V(this).find("["+U.selectorAttr+"]").each(function(){n(V(this),e)})})}}function w(){function e(e,n,t){if(0!==n.length){var r="text";if(0===n.indexOf("[")){var a=n.split("]");n=a[1],r=a[0].substr(1,a[0].length-1)}n.indexOf(";")===n.length-1&&(n=n.substr(0,n.length-2)),"html"===r?e.innerHTML=_(n,t):"text"===r?e.textContent=_(n,t):"prepend"===r?e.insertAdjacentHTML(_(n,t),"afterbegin"):"append"===r?e.insertAdjacentHTML(_(n,t),"beforeend"):e.setAttribute(r,_(n,t))}}function n(n,t){var r=n.getAttribute(U.selectorAttr);if(r||void 0===r||!1===r||(r=n.textContent||n.value),r){var a=n,o=n.getAttribute("i18n-target");if(o&&(a=n.querySelector(o)||n),r.indexOf(";")>=0)for(var i=r.split(";"),s=0,u=i.length;s<u;s++)""!==i[s]&&e(a,i[s],t);else e(a,r,t)}}H.translateObject=function(e,t){for(var r=e.querySelectorAll("["+U.selectorAttr+"]"),a=0,o=r.length;a<o;a++)n(r[a],t)}}function O(e,n,t,r){if(!e)return e;if(r=r||n,e.indexOf(r.interpolationPrefix||U.interpolationPrefix)<0)return e;var a=r.interpolationPrefix?W.regexEscape(r.interpolationPrefix):U.interpolationPrefixEscaped,o=r.interpolationSuffix?W.regexEscape(r.interpolationSuffix):U.interpolationSuffixEscaped,i=r.keyseparator||U.keyseparator,s=n.replace&&"object"==typeof n.replace?n.replace:n,u=new RegExp([a,"(.+?)","(HTML)?",o].join(""),"g"),l=r.escapeInterpolation||U.escapeInterpolation;return e.replace(u,function(e,n,t){for(var r=s,a=n;a.indexOf(i)>=0&&"object"==typeof r&&r;){var o=a.slice(0,a.indexOf(i));a=a.slice(a.indexOf(i)+1),r=r[o]}if(r&&"object"==typeof r&&r.hasOwnProperty(a)){r[a];return l&&!t?W.escape(r[a]):r[a]}return e})}function N(e,n){var t=W.extend({},n);for(delete t.postProcess,delete t.isFallbackLookup;-1!=e.indexOf(U.reusePrefix)&&!(++D>U.maxRecursion);){var r=e.lastIndexOf(U.reusePrefix),a=e.indexOf(U.reuseSuffix,r)+U.reuseSuffix.length,o=e.substring(r,a),i=o.replace(U.reusePrefix,"").replace(U.reuseSuffix,"");if(a<=r)return W.error("there is an missing closing in following translation value",e),"";if(-1!=i.indexOf(",")){var s=i.indexOf(",");if(-1!=i.indexOf("{",s)&&-1!=i.indexOf("}",s)){var u=i.indexOf("{",s),l=i.indexOf("}",u)+"}".length;try{t=W.extend(t,JSON.parse(i.substring(u,l))),i=i.substring(0,s)}catch(e){}}}var f=M(i,t);e=e.replace(o,W.regexReplacementEscape(f))}return e}function j(e){return e.context&&("string"==typeof e.context||"number"==typeof e.context)}function P(e,n){return void 0!==e.count&&"string"!=typeof e.count}function C(e){return void 0!==e.indefinite_article&&"string"!=typeof e.indefinite_article&&e.indefinite_article}function T(e,n){n=n||{};var t=A(e,n),r=F(e,n);return void 0!==r||r===t}function _(e,n){return B?(D=0,M.apply(null,arguments)):(W.log("i18next not finished initialization. you might have called t function before loading resources finished."),n&&n.defaultValue?n.detaultValue:"")}function A(e,n){return void 0!==n.defaultValue?n.defaultValue:e}function E(){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);return{postProcess:"sprintf",sprintf:e}}function M(e,n){if(void 0!==n&&"object"!=typeof n?"sprintf"===U.shortcutFunction?n=E.apply(null,arguments):"defaultValue"===U.shortcutFunction&&(n={defaultValue:n}):n=n||{},"object"==typeof U.defaultVariables&&(n=W.extend({},U.defaultVariables,n)),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var t=e[0];if(e.length>1)for(var r=0;r<e.length&&(t=e[r],!T(t,n));r++);var a,o=A(t,n),i=F(t,n),s=n.nsseparator||U.nsseparator,u=n.lng?W.toLanguages(n.lng,n.fallbackLng):K,l=n.ns||U.ns.defaultNs;t.indexOf(s)>-1&&(a=t.split(s),l=a[0],t=a[1]),void 0===i&&U.sendMissing&&"function"==typeof U.missingKeyHandler&&(n.lng?U.missingKeyHandler(u[0],l,t,o,u):U.missingKeyHandler(U.lng,l,t,o,u));var f;f="string"==typeof U.postProcess&&""!==U.postProcess?[U.postProcess]:"array"==typeof U.postProcess||"object"==typeof U.postProcess?U.postProcess:[],"string"==typeof n.postProcess&&""!==n.postProcess?f=f.concat([n.postProcess]):"array"!=typeof n.postProcess&&"object"!=typeof n.postProcess||(f=f.concat(n.postProcess)),void 0!==i&&f.length&&f.forEach(function(e){ee[e]&&(i=ee[e](i,t,n))});var c=o;return o.indexOf(s)>-1&&(a=o.split(s),c=a[1]),c===t&&U.parseMissingKey&&(o=U.parseMissingKey(o)),void 0===i&&(o=O(o,n),o=N(o,n),f.length&&(i=A(t,n),f.forEach(function(e){ee[e]&&(i=ee[e](i,t,n))}))),void 0!==i?i:o}function F(e,n){n=n||{};var t,r,a=A(e,n),o=K;if(!z)return a;if("cimode"===o[0].toLowerCase())return a;if(n.lngs&&(o=n.lngs),n.lng&&(o=W.toLanguages(n.lng,n.fallbackLng),!z[o[0]])){var i=U.getAsync;U.getAsync=!1,H.sync.load(o,U,function(e,n){W.extend(z,n),U.getAsync=i})}var s=n.ns||U.ns.defaultNs,u=n.nsseparator||U.nsseparator;if(e.indexOf(u)>-1){var l=e.split(u);s=l[0],e=l[1]}if(j(n)){t=W.extend({},n),delete t.context,t.defaultValue=U.contextNotFound;if((r=_(s+u+e+"_"+n.context,t))!=U.contextNotFound)return O(r,{context:n.context})}if(P(n,o[0])){t=W.extend({lngs:[o[0]]},n),delete t.count,t._origLng=t._origLng||t.lng||o[0],delete t.lng,t.defaultValue=U.pluralNotFound;var f;if(Z.needsPlural(o[0],n.count)){f=s+u+e+U.pluralSuffix;var c=Z.get(o[0],n.count);c>=0?f=f+"_"+c:1===c&&(f=s+u+e)}else f=s+u+e;if((r=_(f,t))!=U.pluralNotFound)return O(r,{count:n.count,interpolationPrefix:n.interpolationPrefix,interpolationSuffix:n.interpolationSuffix});if(!(o.length>1))return t.lng=t._origLng,delete t._origLng,r=_(s+u+e,t),O(r,{count:n.count,interpolationPrefix:n.interpolationPrefix,interpolationSuffix:n.interpolationSuffix});var p=o.slice();if(p.shift(),n=W.extend(n,{lngs:p}),n._origLng=t._origLng,delete n.lng,(r=_(s+u+e,n))!=U.pluralNotFound)return r}if(C(n)){var d=W.extend({},n);delete d.indefinite_article,d.defaultValue=U.indefiniteNotFound;if((r=_(s+u+e+(n.count&&!P(n,o[0])||!n.count?U.indefiniteSuffix:""),d))!=U.indefiniteNotFound)return r}for(var g,h=n.keyseparator||U.keyseparator,y=e.split(h),m=0,v=o.length;m<v&&void 0===g;m++){for(var x=o[m],b=0,k=z[x]&&z[x][s];y[b];)k=k&&k[y[b]],b++;if(void 0!==k&&(!U.showKeyIfEmpty||""!==k)){var L=Object.prototype.toString.apply(k);if("string"==typeof k)k=O(k,n),k=N(k,n);else if("[object Array]"!==L||U.returnObjectTrees||n.returnObjectTrees){if(null===k&&!0===U.fallbackOnNull)k=void 0;else if(null!==k)if(U.returnObjectTrees||n.returnObjectTrees){if("[object Number]"!==L&&"[object Function]"!==L&&"[object RegExp]"!==L){var S="[object Array]"===L?[]:{};W.each(k,function(t){S[t]=M(s+u+e+h+t,n)}),k=S}}else U.objectTreeKeyHandler&&"function"==typeof U.objectTreeKeyHandler?k=U.objectTreeKeyHandler(e,k,x,s,n):(k="key '"+s+":"+e+" ("+x+")' returned an object instead of string.",W.log(k))}else k=k.join("\n"),k=O(k,n),k=N(k,n);"string"==typeof k&&""===k.trim()&&!0===U.fallbackOnEmpty&&(k=void 0),g=k}}if(void 0===g&&!n.isFallbackLookup&&(!0===U.fallbackToDefaultNS||U.fallbackNS&&U.fallbackNS.length>0)){if(n.isFallbackLookup=!0,U.fallbackNS.length){for(var w=0,T=U.fallbackNS.length;w<T;w++)if((g=F(U.fallbackNS[w]+u+e,n))||""===g&&!1===U.fallbackOnEmpty){var E=g.indexOf(u)>-1?g.split(u)[1]:g,R=a.indexOf(u)>-1?a.split(u)[1]:a;if(E!==R)break}}else n.ns=U.ns.defaultNs,g=F(e,n);n.isFallbackLookup=!1}return g}function R(){var e,n=U.lngWhitelist||[],t=[];if("undefined"!=typeof window&&function(){for(var e=window.location.search.substring(1),n=e.split("&"),r=0;r<n.length;r++){var a=n[r].indexOf("=");if(a>0){n[r].substring(0,a)==U.detectLngQS&&t.push(n[r].substring(a+1))}}}(),U.useCookie&&"undefined"!=typeof document){var r=W.cookie.read(U.cookieName);r&&t.push(r)}if(U.detectLngFromLocalStorage&&"undefined"!=typeof window&&window.localStorage){var a=W.localStorage.getItem("i18next_lng");a&&t.push(a)}if("undefined"!=typeof navigator){if(navigator.languages)for(var o=0;o<navigator.languages.length;o++)t.push(navigator.languages[o]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return function(){for(var r=0;r<t.length;r++){var a=t[r];if(a.indexOf("-")>-1){var o=a.split("-");a=U.lowerCaseLng?o[0].toLowerCase()+"-"+o[1].toLowerCase():o[0].toLowerCase()+"-"+o[1].toUpperCase()}if(0===n.length||n.indexOf(a)>-1){e=a;break}}}(),e||(e=U.fallbackLng[0]),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var n=Object(this),t=n.length>>>0;if(0===t)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=t)return-1;for(var a=r>=0?r:Math.max(t-Math.abs(r),0);a<t;a++)if(a in n&&n[a]===e)return a;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){"use strict";if(null==this)throw new TypeError;var n=Object(this),t=n.length>>>0;if(0===t)return-1;var r=t;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var a=r>=0?Math.min(r,t-1):t-Math.abs(r);a>=0;a--)if(a in n&&n[a]===e)return a;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var I,V=e.jQuery||e.Zepto,H={},z={},D=0,K=[],B=!1,G={},q=null;"undefined"!=typeof module&&module.exports?module.exports=H:(V&&(V.i18n=V.i18n||H),e.i18n&&(q=e.i18n),e.i18n=H),G={load:function(e,n,t){n.useLocalStorage?G._loadLocal(e,n,function(r,a){for(var o=[],i=0,s=e.length;i<s;i++)a[e[i]]||o.push(e[i]);o.length>0?G._fetch(o,n,function(e,n){W.extend(a,n),G._storeLocal(n),t(e,a)}):t(r,a)}):G._fetch(e,n,function(e,n){t(e,n)})},_loadLocal:function(e,n,t){var r={},a=(new Date).getTime();if(window.localStorage){var o=e.length;W.each(e,function(e,i){var s=W.localStorage.getItem("res_"+i);s&&(s=JSON.parse(s),s.i18nStamp&&s.i18nStamp+n.localStorageExpirationTime>a&&(r[i]=s)),0===--o&&t(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var n in e)e[n].i18nStamp=(new Date).getTime(),W.localStorage.setItem("res_"+n,JSON.stringify(e[n]))},_fetch:function(e,n,t){var r=n.ns,a={};if(n.dynamicLoad){var o=function(e,n){t(e,n)};if("function"==typeof n.customLoad)n.customLoad(e,r.namespaces,n,o);else{var i=O(n.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});W.ajax({url:i,cache:n.cache,success:function(e,n,t){W.log("loaded: "+i),o(null,e)},error:function(e,n,t){W.log("failed loading: "+i),o("failed loading resource.json error: "+t)},dataType:"json",async:n.getAsync,timeout:n.ajaxTimeout})}}else{var s,u=r.namespaces.length*e.length;W.each(r.namespaces,function(r,o){W.each(e,function(e,r){var i=function(e,n){e&&(s=s||[],s.push(e)),a[r]=a[r]||{},a[r][o]=n,0===--u&&t(s,a)};"function"==typeof n.customLoad?n.customLoad(r,o,n,i):G._fetchOne(r,o,n,i)})})}},_fetchOne:function(e,n,t,r){var a=O(t.resGetPath,{lng:e,ns:n});W.ajax({url:a,cache:t.cache,success:function(e,n,t){W.log("loaded: "+a),r(null,e)},error:function(e,n,t){if(n&&200==n||e&&e.status&&200==e.status)W.error("There is a typo in: "+a);else if(n&&404==n||e&&e.status&&404==e.status)W.log("Does not exist: "+a);else{var o=n||(e&&e.status?e.status:null);W.log(o+" when loading "+a)}r(t,{})},dataType:"json",async:t.getAsync,timeout:t.ajaxTimeout,headers:t.headers})},postMissing:function(e,n,t,r,a){var o={};o[t]=r;var i=[];if("fallback"===U.sendMissingTo&&!1!==U.fallbackLng[0])for(var s=0;s<U.fallbackLng.length;s++)i.push({lng:U.fallbackLng[s],url:O(U.resPostPath,{lng:U.fallbackLng[s],ns:n})});else if("current"===U.sendMissingTo||"fallback"===U.sendMissingTo&&!1===U.fallbackLng[0])i.push({lng:e,url:O(U.resPostPath,{lng:e,ns:n})});else if("all"===U.sendMissingTo)for(var s=0,u=a.length;s<u;s++)i.push({lng:a[s],url:O(U.resPostPath,{lng:a[s],ns:n})});for(var l=0,f=i.length;l<f;l++){var c=i[l];W.ajax({url:c.url,type:U.sendType,data:o,success:function(e,a,o){W.log("posted missing key '"+t+"' to: "+c.url);for(var i=t.split("."),s=0,u=z[c.lng][n];i[s];)u=s===i.length-1?u[i[s]]=r:u[i[s]]=u[i[s]]||{},s++},error:function(e,n,r){W.log("failed posting missing key '"+t+"' to: "+c.url)},dataType:"json",async:U.postAsync,timeout:U.ajaxTimeout})}},reload:k};var U={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:{namespaces:["translation"],defaultNs:"translation"},fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,showKeyIfEmpty:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:G.postMissing,ajaxTimeout:0,shortcutFunction:"sprintf"},J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},$={create:function(e,n,t,r){var a;if(t){var o=new Date;o.setTime(o.getTime()+60*t*1e3),a="; expires="+o.toGMTString()}else a="";r=r?"domain="+r+";":"",document.cookie=e+"="+n+a+";"+r+"path=/"},read:function(e){for(var n=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var a=t[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},X={create:function(e,n,t,r){},read:function(e){return null},remove:function(e){}},W={extend:V?V.extend:n,deepExtend:t,each:V?V.each:r,ajax:V?V.ajax:"undefined"!=typeof document?o:function(){},cookie:"undefined"!=typeof document?$:X,detectLanguage:R,escape:a,log:function(e){U.debug&&"undefined"!=typeof console&&console.log(e)},error:function(e){"undefined"!=typeof console&&console.error(e)},getCountyIndexOfLng:function(e){var n=0;return"nb-NO"!==e&&"nn-NO"!==e&&"nb-no"!==e&&"nn-no"!==e||(n=1),n},toLanguages:function(e,n){function t(e){var n=e;if("string"==typeof e&&e.indexOf("-")>-1){var t=e.split("-");n=U.lowerCaseLng?t[0].toLowerCase()+"-"+t[1].toLowerCase():t[0].toLowerCase()+"-"+t[1].toUpperCase()}else n=U.lowerCaseLng?e.toLowerCase():e;return n}var r=this.log;"string"==typeof(n=n||U.fallbackLng)&&(n=[n]);var a=[],o=U.lngWhitelist||!1,i=function(e){!o||o.indexOf(e)>-1?a.push(e):r("rejecting non-whitelisted language: "+e)};if("string"==typeof e&&e.indexOf("-")>-1){var s=e.split("-");"unspecific"!==U.load&&i(t(e)),"current"!==U.load&&i(t(s[this.getCountyIndexOfLng(e)]))}else i(t(e));for(var u=0;u<n.length;u++)-1===a.indexOf(n[u])&&n[u]&&a.push(t(n[u]));return a},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(e){return"string"==typeof e?e.replace(/\$/g,"$$$$"):e},localStorage:{setItem:function(e,n){if(window.localStorage)try{window.localStorage.setItem(e,n)}catch(n){W.log('failed to set value for key "'+e+'" to localStorage.')}},getItem:function(e,n){if(window.localStorage)try{return window.localStorage.getItem(e,n)}catch(n){return void W.log('failed to get value for key "'+e+'" from localStorage.')}}}};W.applyReplacement=O;var Q=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","Aymar\xe1",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg","Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,2],2],["zh","Chinese",[1],3]],Y={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},Z={rules:function(){var e,n={};for(e=Q.length;e--;)n[Q[e][0]]={name:Q[e][1],numbers:Q[e][2],plurals:Y[Q[e][3]]};return n}(),addRule:function(e,n){Z.rules[e]=n},setCurrentLng:function(e){if(!Z.currentRule||Z.currentRule.lng!==e){var n=e.split("-");Z.currentRule={lng:e,rule:Z.rules[n[0]]}}},needsPlural:function(e,n){var t,r=e.split("-");return!((t=Z.currentRule&&Z.currentRule.lng===e?Z.currentRule.rule:Z.rules[r[W.getCountyIndexOfLng(e)]])&&t.numbers.length<=1)&&1!==this.get(e,n)},get:function(e,n){var t=e.split("-");return function(n,t){var r;if(r=Z.currentRule&&Z.currentRule.lng===e?Z.currentRule.rule:Z.rules[n]){var a;a=r.noAbs?r.plurals(t):r.plurals(Math.abs(t));var o=r.numbers[a];return 2===r.numbers.length&&1===r.numbers[0]&&(2===o?o=-1:1===o&&(o=1)),o}return 1===t?"1":"-1"}(t[W.getCountyIndexOfLng(e)],n)}},ee={},ne=function(e,n){ee[e]=n},te=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,n){for(var t=[];n>0;t[--n]=e);return t.join("")}var t=function(){return t.cache.hasOwnProperty(arguments[0])||(t.cache[arguments[0]]=t.parse(arguments[0])),t.format.call(null,t.cache[arguments[0]],arguments)};return t.format=function(t,r){var a,o,i,s,u,l,f,c=1,p=t.length,d="",g=[];for(o=0;o<p;o++)if("string"===(d=e(t[o])))g.push(t[o]);else if("array"===d){if(s=t[o],s[2])for(a=r[c],i=0;i<s[2].length;i++){if(!a.hasOwnProperty(s[2][i]))throw te('[sprintf] property "%s" does not exist',s[2][i]);a=a[s[2][i]]}else a=s[1]?r[s[1]]:r[c++];if(/[^s]/.test(s[8])&&"number"!=e(a))throw te("[sprintf] expecting number but found %s",e(a));switch(s[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=s[7]?a.toExponential(s[7]):a.toExponential();break;case"f":a=s[7]?parseFloat(a).toFixed(s[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&s[7]?a.substring(0,s[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(s[8])&&s[3]&&a>=0?"+"+a:a,l=s[4]?"0"==s[4]?"0":s[4].charAt(1):" ",f=s[6]-String(a).length,u=s[6]?n(l,f):"",g.push(s[5]?a+u:u+a)}return g.join("")},t.cache={},t.parse=function(e){for(var n=e,t=[],r=[],a=0;n;){if(null!==(t=/^[^\x25]+/.exec(n)))r.push(t[0]);else if(null!==(t=/^\x25{2}/.exec(n)))r.push("%");else{if(null===(t=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)))throw"[sprintf] huh?";if(t[2]){a|=1;var o=[],i=t[2],s=[]
;if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(i)))throw"[sprintf] huh?";for(o.push(s[1]);""!==(i=i.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(i)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(i)))throw"[sprintf] huh?";o.push(s[1])}t[2]=o}else a|=2;if(3===a)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(t)}n=n.substring(t[0].length)}return r},t}(),re=function(e,n){return n.unshift(e),te.apply(null,n)};ne("sprintf",function(e,n,t){return t.sprintf?"[object Array]"===Object.prototype.toString.apply(t.sprintf)?re(e,t.sprintf):"object"==typeof t.sprintf?te(e,t.sprintf):e:e}),H.init=i,H.isInitialized=s,H.setLng=v,H.preload=u,H.addResourceBundle=l,H.hasResourceBundle=f,H.getResourceBundle=c,H.addResource=d,H.addResources=g,H.removeResourceBundle=p,H.loadNamespace=y,H.loadNamespaces=m,H.setDefaultNamespace=h,H.t=_,H.translate=_,H.exists=T,H.detectLanguage=W.detectLanguage,H.pluralExtensions=Z,H.sync=G,H.functions=W,H.lng=x,H.dir=b,H.addPostProcessor=ne,H.applyReplacement=W.applyReplacement,H.options=U,H.noConflict=L}("undefined"==typeof exports?window:exports);
window.equiv=function(){function n(n){return"string"==typeof n?"string":"boolean"==typeof n?"boolean":"number"==typeof n?isNaN(n)?"nan":"number":void 0===n?"undefined":null===n?"null":n instanceof Array?"array":n instanceof Date?"date":n instanceof RegExp?"regexp":"object"==typeof n?"object":n instanceof Function?"function":void 0}function r(r,e,t){var o=n(r);if(o)return"function"===n(e[o])?e[o].apply(e,t):e[o]}var e,t=[],o=function(){function r(n,r){return r===n}return{string:r,boolean:r,number:r,null:r,undefined:r,nan:function(n){return isNaN(n)},date:function(r,e){return"date"===n(r)&&e.valueOf()===r.valueOf()},regexp:function(r,e){return"regexp"===n(r)&&e.source===r.source&&e.global===r.global&&e.ignoreCase===r.ignoreCase&&e.multiline===r.multiline},function:function(){var n=t[t.length-1];return n!==Object&&void 0!==n},array:function(r,t){var o,u;if("array"!==n(r))return!1;if((u=t.length)!==r.length)return!1;for(o=0;o<u;o++)if(!e(t[o],r[o]))return!1;return!0},object:function(n,r){var o,u=!0,i=[],a=[];if(r.constructor!==n.constructor)return!1;t.push(r.constructor);for(o in r)i.push(o),e(r[o],n[o])||(u=!1);t.pop();for(o in n)a.push(o);return u&&e(i.sort(),a.sort())}}}();return e=function(){var n=Array.prototype.slice.apply(arguments);return n.length<2||function(n,e){return n===e||typeof n==typeof e&&null!==n&&null!==e&&void 0!==n&&void 0!==e&&r(n,o,[e,n])}(n[0],n[1])&&arguments.callee.apply(this,n.splice(1,n.length-1))}}();
Lawnchair.plugin({page:function(t,i){var a=[],n=~~t||1,e=n+1,h=n-1,l=1==n?0:5*h,s=l>=5?l+5:5;this.all(function(t){a=t});var r=Math.ceil(a.length/5),t={max:r,next:e>r?r:e,prev:0==h?1:h};return this.__results=t[this.name]=a.slice(l,s),i&&this.fn("page",i).call(this,t),this}});
!function(){window.WebComponents=window.WebComponents||{flags:{}};var e=document.querySelector('script[src*="webcomponents-lite.js"]'),t={};if(!t.noOpts){if(location.search.slice(1).split("&").forEach(function(e){var n,o=e.split("=");o[0]&&(n=o[0].match(/wc-(.+)/))&&(t[n[1]]=o[1]||!0)}),e)for(var n,o=0;n=e.attributes[o];o++)"src"!==n.name&&(t[n.name]=n.value||!0);if(t.log&&t.log.split){var r=t.log.split(",");t.log={},r.forEach(function(e){t.log[e]=!0})}else t.log={}}t.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=t.register),WebComponents.flags=t}(),function(e){"use strict";function t(e){return void 0!==u[e]}function n(){s.call(this),this._isInvalid=!0}function o(e){return""==e&&n.call(this),e.toLowerCase()}function r(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1==[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function i(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1==[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function a(e,a,s){function c(e){g.push(e)}var d=a||"scheme start",l=0,v="",w=!1,_=!1,g=[];e:for(;(e[l-1]!=f||0==l)&&!this._isInvalid;){var b=e[l];switch(d){case"scheme start":if(!b||!p.test(b)){if(a){c("Invalid scheme.");break e}v="",d="no scheme";continue}v+=b.toLowerCase(),d="scheme";break;case"scheme":if(b&&m.test(b))v+=b.toLowerCase();else{if(":"!=b){if(a){if(f==b)break e;c("Code point not allowed in scheme: "+b);break e}v="",l=0,d="no scheme";continue}if(this._scheme=v,v="",a)break e;t(this._scheme)&&(this._isRelative=!0),d="file"==this._scheme?"relative":this._isRelative&&s&&s._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==b?(this._query="?",d="query"):"#"==b?(this._fragment="#",d="fragment"):f!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._schemeData+=r(b));break;case"no scheme":if(s&&t(s._scheme)){d="relative";continue}c("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!=b||"/"!=e[l+1]){c("Expected /, got: "+b),d="relative";continue}d="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=s._scheme),f==b){this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._username=s._username,this._password=s._password;break e}if("/"==b||"\\"==b)"\\"==b&&c("\\ is an invalid code point."),d="relative slash";else if("?"==b)this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query="?",this._username=s._username,this._password=s._password,d="query";else{if("#"!=b){var y=e[l+1],E=e[l+2];("file"!=this._scheme||!p.test(b)||":"!=y&&"|"!=y||f!=E&&"/"!=E&&"\\"!=E&&"?"!=E&&"#"!=E)&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password,this._path=s._path.slice(),this._path.pop()),d="relative path";continue}this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._fragment="#",this._username=s._username,this._password=s._password,d="fragment"}break;case"relative slash":if("/"!=b&&"\\"!=b){"file"!=this._scheme&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password),d="relative path";continue}"\\"==b&&c("\\ is an invalid code point."),d="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=b){c("Expected '/', got: "+b),d="authority ignore slashes";continue}d="authority second slash";break;case"authority second slash":if(d="authority ignore slashes","/"!=b){c("Expected '/', got: "+b);continue}break;case"authority ignore slashes":if("/"!=b&&"\\"!=b){d="authority";continue}c("Expected authority, got: "+b);break;case"authority":if("@"==b){w&&(c("@ already seen."),v+="%40"),w=!0;for(var L=0;L<v.length;L++){var N=v[L];if("\t"!=N&&"\n"!=N&&"\r"!=N)if(":"!=N||null!==this._password){var M=r(N);null!==this._password?this._password+=M:this._username+=M}else this._password="";else c("Invalid whitespace in authority.")}v=""}else{if(f==b||"/"==b||"\\"==b||"?"==b||"#"==b){l-=v.length,v="",d="host";continue}v+=b}break;case"file host":if(f==b||"/"==b||"\\"==b||"?"==b||"#"==b){2!=v.length||!p.test(v[0])||":"!=v[1]&&"|"!=v[1]?0==v.length?d="relative path start":(this._host=o.call(this,v),v="",d="relative path start"):d="relative path";continue}"\t"==b||"\n"==b||"\r"==b?c("Invalid whitespace in file host."):v+=b;break;case"host":case"hostname":if(":"!=b||_){if(f==b||"/"==b||"\\"==b||"?"==b||"#"==b){if(this._host=o.call(this,v),v="",d="relative path start",a)break e;continue}"\t"!=b&&"\n"!=b&&"\r"!=b?("["==b?_=!0:"]"==b&&(_=!1),v+=b):c("Invalid code point in host/hostname: "+b)}else if(this._host=o.call(this,v),v="",d="port","hostname"==a)break e;break;case"port":if(/[0-9]/.test(b))v+=b;else{if(f==b||"/"==b||"\\"==b||"?"==b||"#"==b||a){if(""!=v){var T=parseInt(v,10);T!=u[this._scheme]&&(this._port=T+""),v=""}if(a)break e;d="relative path start";continue}"\t"==b||"\n"==b||"\r"==b?c("Invalid code point in port: "+b):n.call(this)}break;case"relative path start":if("\\"==b&&c("'\\' not allowed in path."),d="relative path","/"!=b&&"\\"!=b)continue;break;case"relative path":if(f!=b&&"/"!=b&&"\\"!=b&&(a||"?"!=b&&"#"!=b))"\t"!=b&&"\n"!=b&&"\r"!=b&&(v+=r(b));else{"\\"==b&&c("\\ not allowed in relative path.");var O;(O=h[v.toLowerCase()])&&(v=O),".."==v?(this._path.pop(),"/"!=b&&"\\"!=b&&this._path.push("")):"."==v&&"/"!=b&&"\\"!=b?this._path.push(""):"."!=v&&("file"==this._scheme&&0==this._path.length&&2==v.length&&p.test(v[0])&&"|"==v[1]&&(v=v[0]+":"),this._path.push(v)),v="","?"==b?(this._query="?",d="query"):"#"==b&&(this._fragment="#",d="fragment")}break;case"query":a||"#"!=b?f!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._query+=i(b)):(this._fragment="#",d="fragment");break;case"fragment":f!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._fragment+=b)}l++}}function s(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function c(e,t){void 0===t||t instanceof c||(t=new c(String(t))),this._url=e,s.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");a.call(this,n,null,t)}var d=!1;if(!e.forceJURL)try{var l=new URL("b","http://a");l.pathname="c%20d",d="http://a/c%20d"===l.href}catch(e){}if(!d){var u=Object.create(null);u.ftp=21,u.file=0,u.gopher=70,u.http=80,u.https=443,u.ws=80,u.wss=443;var h=Object.create(null);h["%2e"]=".",h[".%2e"]="..",h["%2e."]="..",h["%2e%2e"]="..";var f=void 0,p=/[a-zA-Z]/,m=/[a-zA-Z0-9\+\-\.]/;c.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""==this._username&&null==this._password||(e=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){s.call(this),a.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||a.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],a.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"==e[0]&&(e=e.slice(1)),a.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"==e[0]&&(e=e.slice(1)),a.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return e=this.host,e?this._scheme+"://"+e:""}};var v=e.URL;v&&(c.createObjectURL=function(e){return v.createObjectURL.apply(v,arguments)},c.revokeObjectURL=function(e){v.revokeObjectURL(e)}),e.URL=c}}(self),"undefined"==typeof WeakMap&&function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};n.prototype={set:function(t,n){var o=t[this.name];return o&&o[0]===t?o[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=n}(),function(e){function t(e){b.push(e),g||(g=!0,m(o))}function n(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function o(){g=!1;var e=b;b=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();r(e),n.length&&(e.callback_(n,e),t=!0)}),t&&o()}function r(e){e.nodes_.forEach(function(t){var n=v.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function i(e,t){for(var n=e;n;n=n.parentNode){var o=v.get(n);if(o)for(var r=0;r<o.length;r++){var i=o[r],a=i.options;if(n===e||a.subtree){var s=t(a);s&&i.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++y}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function c(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function d(e,t){return E=new s(e,t)}function l(e){return L||(L=c(E),L.oldValue=e,L)}function u(){E=L=void 0}function h(e){return e===L||e===E}function f(e,t){return e===t?e:L&&h(e)?L:null}function p(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var m,v=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var w=[],_=String(Math.random());window.addEventListener("message",function(e){if(e.data===_){var t=w;w=[],t.forEach(function(e){e()})}}),m=function(e){w.push(e),window.postMessage(_,"*")}}var g=!1,b=[],y=0;a.prototype={observe:function(e,t){if(e=n(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var o=v.get(e);o||v.set(e,o=[]);for(var r,i=0;i<o.length;i++)if(o[i].observer===this){r=o[i],r.removeListeners(),r.options=t;break}r||(r=new p(this,e,t),o.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=v.get(e),n=0;n<t.length;n++){var o=t[n];if(o.observer===this){o.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var E,L;p.prototype={enqueue:function(e){var n=this.observer.records_,o=n.length;if(n.length>0){var r=n[o-1],i=f(r,e);if(i)return void(n[o-1]=i)}else t(this.observer);n[o]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=v.get(e);t||v.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=v.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,o=e.target,r=new d("attributes",o);r.attributeName=t,r.attributeNamespace=n;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;i(o,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(n)))return e.attributeOldValue?l(a):r});break;case"DOMCharacterDataModified":var o=e.target,r=d("characterData",o),a=e.prevValue;i(o,function(e){if(e.characterData)return e.characterDataOldValue?l(a):r});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,c,h=e.target;"DOMNodeInserted"===e.type?(s=[h],c=[]):(s=[],c=[h]);var f=h.previousSibling,p=h.nextSibling,r=d("childList",e.target.parentNode);r.addedNodes=s,r.removedNodes=c,r.previousSibling=f,r.nextSibling=p,i(e.relatedNode,function(e){if(e.childList)return r})}u()}},e.JsMutationObserver=a,e.MutationObserver||(e.MutationObserver=a,a._isPolyfilled=!0)}}(self),function(){function e(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"\xa0":return"&nbsp;"}}function t(t){return t.replace(l,e)}var n="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&function(){var e=document.importNode;document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(t),n}return t}}();var o=function(){if(!n){var e=document.createElement("template"),t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var o=e.cloneNode(!0);return 0===o.content.childNodes.length||0===o.content.firstChild.content.childNodes.length}}(),r=function(){};if(n){var i=document.implementation.createHTMLDocument("template"),a=!0,s=document.createElement("style");s.textContent="template{display:none;}";var c=document.head;c.insertBefore(s,c.firstElementChild),r.prototype=Object.create(HTMLElement.prototype),r.decorate=function(e){if(!e.content){e.content=i.createDocumentFragment();for(var n;n=e.firstChild;)e.content.appendChild(n);if(e.cloneNode=function(e){return r.cloneNode(this,e)},a)try{Object.defineProperty(e,"innerHTML",{get:function(){for(var e="",n=this.content.firstChild;n;n=n.nextSibling)e+=n.outerHTML||t(n.data);return e},set:function(e){for(i.body.innerHTML=e,r.bootstrap(i);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;i.body.firstChild;)this.content.appendChild(i.body.firstChild)},configurable:!0})}catch(e){a=!1}r.bootstrap(e.content)}},r.bootstrap=function(e){for(var t,n=e.querySelectorAll("template"),o=0,i=n.length;o<i&&(t=n[o]);o++)r.decorate(t)},document.addEventListener("DOMContentLoaded",function(){r.bootstrap(document)});var d=document.createElement;document.createElement=function(){"use strict";var e=d.apply(document,arguments);return"template"===e.localName&&r.decorate(e),e};var l=/[&\u00A0<>]/g}if(n||o){var u=Node.prototype.cloneNode;r.cloneNode=function(e,t){var n=u.call(e,!1);return this.decorate&&this.decorate(n),t&&(n.content.appendChild(u.call(e.content,!0)),this.fixClonedDom(n.content,e.content)),n},r.fixClonedDom=function(e,t){if(t.querySelectorAll)for(var n,o,r=t.querySelectorAll("template"),i=e.querySelectorAll("template"),a=0,s=i.length;a<s;a++)o=r[a],n=i[a],this.decorate&&this.decorate(o),n.parentNode.replaceChild(o.cloneNode(!0),n)};var h=document.importNode;Node.prototype.cloneNode=function(e){var t=u.call(this,e);return e&&r.fixClonedDom(t,this),t},document.importNode=function(e,t){if("template"===e.localName)return r.cloneNode(e,t);var n=h.call(document,e,t);return t&&r.fixClonedDom(n,e),n},o&&(HTMLTemplateElement.prototype.cloneNode=function(e){return r.cloneNode(this,e)})}n&&(window.HTMLTemplateElement=r)}(),function(e){"use strict";if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e(function(){t(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}()),!function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}()){var n=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(n.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var o=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||o&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||o&&"function"!=typeof window.Event){var r=window.Event;window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},window.Event.prototype=r.prototype}}(window.WebComponents),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){function t(e,t){t=t||f,o(function(){i(e,t)},t)}function n(e){return"complete"===e.readyState||e.readyState===v}function o(e,t){if(n(t))e&&e();else{var r=function(){"complete"!==t.readyState&&t.readyState!==v||(t.removeEventListener(w,r),o(e,t))};t.addEventListener(w,r)}}function r(e){e.target.__loaded=!0}function i(e,t){function n(){c==d&&e&&e({allImports:s,loadedImports:l,errorImports:u})}function o(e){r(e),l.push(this),c++,n()}function i(e){u.push(this),c++,n()}var s=t.querySelectorAll("link[rel=import]"),c=0,d=s.length,l=[],u=[];if(d)for(var h,f=0;f<d&&(h=s[f]);f++)a(h)?(l.push(this),c++,n()):(h.addEventListener("load",o),h.addEventListener("error",i));else n()}function a(e){return l?e.__loaded||e.import&&"loading"!==e.import.readyState:e.__importParsed}function s(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)c(t)&&d(t)}function c(e){return"link"===e.localName&&"import"===e.rel}function d(e){e.import?r({target:e}):(e.addEventListener("load",r),e.addEventListener("error",r))}var l=Boolean("import"in document.createElement("link")),u=Boolean(window.ShadowDOMPolyfill),h=function(e){return u?window.ShadowDOMPolyfill.wrapIfNeeded(e):e},f=h(document),p={get:function(){var e=window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return h(e)},configurable:!0};Object.defineProperty(document,"_currentScript",p),Object.defineProperty(f,"_currentScript",p);var m=/Trident/.test(navigator.userAgent),v=m?"complete":"interactive",w="readystatechange";l&&(new MutationObserver(function(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)t.addedNodes&&s(t.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var e,t=document.querySelectorAll("link[rel=import]"),n=0,o=t.length;n<o&&(e=t[n]);n++)d(e)}()),t(function(e){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var t=f.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),f.dispatchEvent(t)}),e.IMPORT_LINK_TYPE="import",e.useNative=l,e.rootDocument=f,e.whenReady=t,e.isIE=m}(window.HTMLImports),function(e){var t=[],n=function(e){t.push(e)},o=function(){t.forEach(function(t){t(e)})};e.addModule=n,e.initializeModules=o}(window.HTMLImports),window.HTMLImports.addModule(function(e){var t=/(url\()([^)]*)(\))/g,n=/(@import[\s]+(?!url\())([^;]*)(;)/g,o={resolveUrlsInStyle:function(e,t){var n=e.ownerDocument,o=n.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,o),e},resolveUrlsInCssText:function(e,o,r){var i=this.replaceUrls(e,r,o,t);return i=this.replaceUrls(i,r,o,n)},replaceUrls:function(e,t,n,o){return e.replace(o,function(e,o,r,i){var a=r.replace(/["']/g,"");return n&&(a=new URL(a,n).href),t.href=a,a=t.href,o+"'"+a+"'"+i})}};e.path=o}),window.HTMLImports.addModule(function(e){var t={async:!0,ok:function(e){return e.status>=200&&e.status<300||304===e.status||0===e.status},load:function(n,o,r){var i=new XMLHttpRequest;return(e.flags.debug||e.flags.bust)&&(n+="?"+Math.random()),i.open("GET",n,t.async),i.addEventListener("readystatechange",function(e){if(4===i.readyState){var n=null;try{var a=i.getResponseHeader("Location");a&&(n="/"===a.substr(0,1)?location.origin+a:a)}catch(e){console.error(e.message)}o.call(r,!t.ok(i)&&i,i.response||i.responseText,n)}}),i.send(),i},loadDocument:function(e,t,n){this.load(e,t,n).responseType="document"}};e.xhr=t}),window.HTMLImports.addModule(function(e){var t=e.xhr,n=e.flags,o=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};o.prototype={addNodes:function(e){this.inflight+=e.length;for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)this.require(t);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){if(this.pending[e])return this.pending[e].push(t),!0;return this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,o){if(n.load&&console.log("fetch",e,o),e)if(e.match(/^data:/)){var r=e.split(","),i=r[0],a=r[1];a=i.indexOf(";base64")>-1?atob(a):decodeURIComponent(a),setTimeout(function(){this.receive(e,o,null,a)}.bind(this),0)}else{var s=function(t,n,r){this.receive(e,o,t,n,r)}.bind(this);t.load(e,s)}else setTimeout(function(){this.receive(e,o,{error:"href must be specified"},null)}.bind(this),0)},receive:function(e,t,n,o,r){this.cache[e]=o;for(var i,a=this.pending[e],s=0,c=a.length;s<c&&(i=a[s]);s++)this.onload(e,i,o,n,r),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=o}),window.HTMLImports.addModule(function(e){var t=function(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))};t.prototype={handler:function(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)"childList"===t.type&&t.addedNodes.length&&this.addedNodes(t.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)t.children&&t.children.length&&this.addedNodes(t.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),window.HTMLImports.addModule(function(e){function t(e){return"link"===e.localName&&e.rel===l}function n(e){var t=o(e);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)}function o(e){return e.textContent+r(e)}function r(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var n=e.ownerDocument.baseURI,o=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+n+o+".js\n"}function i(e){var t=e.ownerDocument.createElement("style");return t.textContent=e.textContent,a.resolveUrlsInStyle(t),t}var a=e.path,s=e.rootDocument,c=e.flags,d=e.isIE,l=e.IMPORT_LINK_TYPE,u="link[rel="+l+"]",h={documentSelectors:u,importsSelectors:[u,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e))return void(c.parse&&console.log("[%s] is already parsed",e.localName));var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){c.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,c.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);t>=0&&this.dynamicElements.splice(t,1)},parseImport:function(e){if(e.import=e.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(e),e.import&&(e.import.__importParsed=!0),this.markParsingComplete(e),e.__resource&&!e.__error?e.dispatchEvent(new CustomEvent("load",{bubbles:!1})):e.dispatchEvent(new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)(t=e.__pending.shift())&&t({target:e});this.parseNext()},parseLink:function(e){t(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t=e;e=i(e),t.__appliedElement=e,e.__importElement=t,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){for(var t=e;t.ownerDocument.__importLink;)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(e,t){var n=this,o=function(r){e.removeEventListener("load",o),e.removeEventListener("error",o),t&&t(r),n.markParsingComplete(e),n.parseNext()};if(e.addEventListener("load",o),e.addEventListener("error",o),d&&"style"===e.localName){var r=!1;if(-1==e.textContent.indexOf("@import"))r=!0;else if(e.sheet){r=!0;for(var i,a=e.sheet.cssRules,s=a?a.length:0,c=0;c<s&&(i=a[c]);c++)i.type===CSSRule.IMPORT_RULE&&(r=r&&Boolean(i.styleSheet))}r&&setTimeout(function(){e.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(t){var o=document.createElement("script");o.__importElement=t,o.src=t.src?t.src:n(t),e.currentScript=t,this.trackElement(o,function(t){o.parentNode&&o.parentNode.removeChild(o),e.currentScript=null}),this.addElementToDocument(o)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(s)||this.nextToParseDynamic())},nextToParseInDoc:function(e,n){if(e&&this._mayParse.indexOf(e)<0){this._mayParse.push(e);for(var o,r=e.querySelectorAll(this.parseSelectorsForNode(e)),i=0,a=r.length;i<a&&(o=r[i]);i++)if(!this.isParsed(o))return this.hasResource(o)?t(o)?this.nextToParseInDoc(o.__doc,o):o:void 0}return n},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){return(e.ownerDocument||e)===s?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return this.dynamicElements.indexOf(e)>=0},hasResource:function(e){return!t(e)||void 0!==e.__doc}};e.parser=h,e.IMPORT_SELECTOR=u}),window.HTMLImports.addModule(function(e){function t(e){return n(e,a)}function n(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function o(e){return!!Object.getOwnPropertyDescriptor(e,"baseURI")}function r(e,t){var n=document.implementation.createHTMLDocument(a);n._URL=t;var r=n.createElement("base");r.setAttribute("href",t),n.baseURI||o(n)||Object.defineProperty(n,"baseURI",{value:t});var i=n.createElement("meta");return i.setAttribute("charset","utf-8"),n.head.appendChild(i),n.head.appendChild(r),n.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}var i=e.flags,a=e.IMPORT_LINK_TYPE,s=e.IMPORT_SELECTOR,c=e.rootDocument,d=e.Loader,l=e.Observer,u=e.parser,h={documents:{},documentPreloadSelectors:s,importsPreloadSelectors:[s].join(","),loadNode:function(e){f.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);f.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){return(e.ownerDocument||e)===c?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,n,o,a,s){if(i.load&&console.log("loaded",e,n),n.__resource=o,n.__error=a,t(n)){var c=this.documents[e];void 0===c&&(c=a?null:r(o,s||e),c&&(c.__importLink=n,this.bootDocument(c)),this.documents[e]=c),n.__doc=c}u.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),u.parseNext()},loadedAll:function(){u.parseNext()}},f=new d(h.loaded.bind(h),h.loadedAll.bind(h));if(h.observer=new l,!document.baseURI){var p={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",p),Object.defineProperty(c,"baseURI",p)}e.importer=h,e.importLoader=f}),window.HTMLImports.addModule(function(e){var t=e.parser,n=e.importer,o={added:function(e){for(var o,r,i,a,s=0,c=e.length;s<c&&(a=e[s]);s++)o||(o=a.ownerDocument,r=t.isParsed(o)),i=this.shouldLoadNode(a),i&&n.loadNode(a),this.shouldParseNode(a)&&r&&t.parseDynamic(a,i)},shouldLoadNode:function(e){return 1===e.nodeType&&r.call(e,n.loadSelectorsForNode(e))},shouldParseNode:function(e){return 1===e.nodeType&&r.call(e,t.parseSelectorsForNode(e))}};n.observer.addCallback=o.added.bind(o);var r=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){function t(){window.HTMLImports.importer.bootDocument(o)}var n=e.initializeModules;e.isIE;if(!e.useNative){n();var o=e.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?t():document.addEventListener("DOMContentLoaded",t)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],o=function(e){n.push(e)},r=function(){n.forEach(function(t){t(e)})};e.addModule=o,e.initializeModules=r,e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(e){function t(e,t){n(e,function(e){if(t(e))return!0;o(e,t)}),o(e,t)}function n(e,t,o){var r=e.firstElementChild;if(!r)for(r=e.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)!0!==t(r,o)&&n(r,t,o),r=r.nextElementSibling;return null}function o(e,n){for(var o=e.shadowRoot;o;)t(o,n),o=o.olderShadowRoot}function r(e,t){i(e,t,[])}function i(e,t,n){if(e=window.wrap(e),!(n.indexOf(e)>=0)){n.push(e);for(var o,r=e.querySelectorAll("link[rel="+a+"]"),s=0,c=r.length;s<c&&(o=r[s]);s++)o.import&&i(o.import,t,n);t(e)}}var a=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=r,e.forSubtree=t}),window.CustomElements.addModule(function(e){function t(e,t){return n(e,t)||o(e,t)}function n(t,n){if(e.upgrade(t,n))return!0;n&&a(t)}function o(e,t){g(e,function(e){if(n(e,t))return!0})}function r(e){L.push(e),E||(E=!0,setTimeout(i))}function i(){E=!1;for(var e,t=L,n=0,o=t.length;n<o&&(e=t[n]);n++)e();L=[]}function a(e){y?r(function(){s(e)}):s(e)}function s(e){
e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function c(e){d(e),g(e,function(e){d(e)})}function d(e){y?r(function(){l(e)}):l(e)}function l(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function u(e){for(var t=e,n=window.wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function h(e){if(e.shadowRoot&&!e.shadowRoot.__watched){_.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)m(t),t=t.olderShadowRoot}}function f(e,n){if(_.dom){var o=n[0];if(o&&"childList"===o.type&&o.addedNodes&&o.addedNodes){for(var r=o.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var i=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";i=i.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,i||"")}var a=u(e);n.forEach(function(e){"childList"===e.type&&(N(e.addedNodes,function(e){e.localName&&t(e,a)}),N(e.removedNodes,function(e){e.localName&&c(e)}))}),_.dom&&console.groupEnd()}function p(e){for(e=window.wrap(e),e||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(f(e,t.takeRecords()),i())}function m(e){if(!e.__observer){var t=new MutationObserver(f.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function v(e){e=window.wrap(e),_.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),t(e,e===window.wrap(document)),m(e),_.dom&&console.groupEnd()}function w(e){b(e,v)}var _=e.flags,g=e.forSubtree,b=e.forDocumentTree,y=window.MutationObserver._isPolyfilled&&_["throttle-attached"];e.hasPolyfillMutations=y,e.hasThrottledAttached=y;var E=!1,L=[],N=Array.prototype.forEach.call.bind(Array.prototype.forEach),M=Element.prototype.createShadowRoot;M&&(Element.prototype.createShadowRoot=function(){var e=M.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=h,e.upgradeDocumentTree=w,e.upgradeDocument=v,e.upgradeSubtree=o,e.upgradeAll=t,e.attached=a,e.takeRecords=p}),window.CustomElements.addModule(function(e){function t(t,o){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var r=t.getAttribute("is"),i=e.getRegisteredDefinition(t.localName)||e.getRegisteredDefinition(r);if(i&&(r&&i.tag==t.localName||!r&&!i.extends))return n(t,i,o)}}function n(t,n,r){return a.upgrade&&console.group("upgrade:",t.localName),n.is&&t.setAttribute("is",n.is),o(t,n),t.__upgraded__=!0,i(t),r&&e.attached(t),e.upgradeSubtree(t,r),a.upgrade&&console.groupEnd(),t}function o(e,t){Object.__proto__?e.__proto__=t.prototype:(r(e,t.prototype,t.native),e.__proto__=t.prototype)}function r(e,t,n){for(var o={},r=t;r!==n&&r!==HTMLElement.prototype;){for(var i,a=Object.getOwnPropertyNames(r),s=0;i=a[s];s++)o[i]||(Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i)),o[i]=1);r=Object.getPrototypeOf(r)}}function i(e){e.createdCallback&&e.createdCallback()}var a=e.flags;e.upgrade=t,e.upgradeWithDefinition=n,e.implementPrototype=o}),window.CustomElements.addModule(function(e){function t(t,o){var c=o||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(r(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(d(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return c.prototype||(c.prototype=Object.create(HTMLElement.prototype)),c.__name=t.toLowerCase(),c.extends&&(c.extends=c.extends.toLowerCase()),c.lifecycle=c.lifecycle||{},c.ancestry=i(c.extends),a(c),s(c),n(c.prototype),l(c.__name,c),c.ctor=u(c),c.ctor.prototype=c.prototype,c.prototype.constructor=c.ctor,e.ready&&v(document),c.ctor}function n(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,n){o.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){o.call(this,e,null,n)},e.setAttribute._polyfilled=!0}}function o(e,t,n){e=e.toLowerCase();var o=this.getAttribute(e);n.apply(this,arguments);var r=this.getAttribute(e);this.attributeChangedCallback&&r!==o&&this.attributeChangedCallback(e,o,r)}function r(e){for(var t=0;t<y.length;t++)if(e===y[t])return!0}function i(e){var t=d(e);return t?i(t.extends).concat([t]):[]}function a(e){for(var t,n=e.extends,o=0;t=e.ancestry[o];o++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}function s(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}for(var o,r=e.prototype,i=!1;r;)r==t&&(i=!0),o=Object.getPrototypeOf(r),o&&(r.__proto__=o),r=o;i||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}function c(e){return _(N(e.tag),e)}function d(e){if(e)return E[e.toLowerCase()]}function l(e,t){E[e]=t}function u(e){return function(){return c(e)}}function h(e,t,n){return e===L?f(t,n):M(e,t)}function f(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n=d(t||e);if(n){if(e==n.tag&&t==n.is)return new n.ctor;if(!t&&!n.is)return new n.ctor}var o;return t?(o=f(e),o.setAttribute("is",t),o):(o=N(e),e.indexOf("-")>=0&&g(o,HTMLElement),o)}function p(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return w(e),e}}var m,v=(e.isIE,e.upgradeDocumentTree),w=e.upgradeAll,_=e.upgradeWithDefinition,g=e.implementPrototype,b=e.useNative,y=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],E={},L="http://www.w3.org/1999/xhtml",N=document.createElement.bind(document),M=document.createElementNS.bind(document);m=Object.__proto__||b?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),document.registerElement=t,document.createElement=f,document.createElementNS=h,e.registry=E,e.instanceof=m,e.reservedTagList=y,e.getRegisteredDefinition=d,document.register=document.registerElement}),function(e){function t(){i(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(e){setTimeout(e,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=e.useNative,o=e.initializeModules;e.isIE;if(n){var r=function(){};e.watchShadow=r,e.upgrade=r,e.upgradeAll=r,e.upgradeDocumentTree=r,e.upgradeSubtree=r,e.takeRecords=r,e.instanceof=function(e,t){return e instanceof t}}else o();var i=e.upgradeDocumentTree,a=e.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&a(wrap(e.import))}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,t)}else t()}(window.CustomElements),function(e){var t=document.createElement("style");t.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var n=document.querySelector("head");n.insertBefore(t,n.firstChild)}(window.WebComponents);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var o=[],i=e(document),t=navigator.userAgent.toLowerCase(),n=e(window),a=[],s={ieQuirks:null,msie:/msie/.test(t)&&!/opera/.test(t),opera:/opera/.test(t)};s.ie6=s.msie&&/msie 6./.test(t)&&"object"!=typeof window.XMLHttpRequest,s.ie7=s.msie&&/msie 7.0/.test(t),e.modal=function(o,i){return e.modal.impl.init(o,i)},e.modal.close=function(){e.modal.impl.close()},e.modal.focus=function(o){e.modal.impl.focus(o)},e.modal.setContainerDimensions=function(){e.modal.impl.setContainerDimensions()},e.modal.setPosition=function(){e.modal.impl.setPosition()},e.modal.update=function(o,i){e.modal.impl.update(o,i)},e.fn.modal=function(o){return e.modal.impl.init(this,o)},e.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},e.modal.impl={d:{},init:function(o,i){var t=this;if(t.d.data)return!1;if(s.ieQuirks=s.msie&&"BackCompat"===document.compatMode,t.o=e.extend({},e.modal.defaults,i),t.zIndex=t.o.zIndex,t.occb=!1,"object"==typeof o)o=o instanceof e?o:e(o),t.d.placeholder=!1,o.parent().parent().size()>0&&(o.before(e("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),t.d.placeholder=!0,t.display=o.css("display"),t.o.persist||(t.d.orig=o.clone(!0)));else{if("string"!=typeof o&&"number"!=typeof o)return alert("SimpleModal Error: Unsupported data type: "+typeof o),t;o=e("<div></div>").html(o)}return t.create(o),o=null,t.open(),e.isFunction(t.o.onShow)&&t.o.onShow.apply(t,[t.d]),t},create:function(i){var t=this;t.getDimensions(),t.o.modal&&s.ie6&&(t.d.iframe=e('<iframe src="javascript:false;"></iframe>').css(e.extend(t.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:a[0],width:a[1],zIndex:t.o.zIndex,top:0,left:0})).appendTo(t.o.appendTo)),t.d.overlay=e("<div></div>").attr("id",t.o.overlayId).addClass("simplemodal-overlay").css(e.extend(t.o.overlayCss,{display:"none",opacity:t.o.opacity/100,height:t.o.modal?o[0]:0,width:t.o.modal?o[1]:0,position:"fixed",left:0,top:0,zIndex:t.o.zIndex+1})).appendTo(t.o.appendTo),t.d.container=e("<div></div>").attr("id",t.o.containerId).addClass("simplemodal-container").css(e.extend({position:t.o.fixed?"fixed":"absolute"},t.o.containerCss,{display:"none",zIndex:t.o.zIndex+2})).append(t.o.close&&t.o.closeHTML?e(t.o.closeHTML).addClass(t.o.closeClass):"").appendTo(t.o.appendTo),t.d.wrap=e("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(t.d.container),t.d.data=i.attr("id",i.attr("id")||t.o.dataId).addClass("simplemodal-data").css(e.extend(t.o.dataCss,{display:"none"})).appendTo("body"),i=null,t.setContainerDimensions(),t.d.data.appendTo(t.d.wrap),(s.ie6||s.ieQuirks)&&t.fixIE()},bindEvents:function(){var t=this;e("."+t.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault(),t.close()}),t.o.modal&&t.o.close&&t.o.overlayClose&&t.d.overlay.bind("click.simplemodal",function(e){e.preventDefault(),t.close()}),i.bind("keydown.simplemodal",function(e){t.o.modal&&9===e.keyCode?t.watchTab(e):t.o.close&&t.o.escClose&&27===e.keyCode&&(e.preventDefault(),t.close())}),n.bind("resize.simplemodal orientationchange.simplemodal",function(){t.getDimensions(),t.o.autoResize?t.setContainerDimensions():t.o.autoPosition&&t.setPosition(),s.ie6||s.ieQuirks?t.fixIE():t.o.modal&&(t.d.iframe&&t.d.iframe.css({height:a[0],width:a[1]}),t.d.overlay.css({height:o[0],width:o[1]}))})},unbindEvents:function(){e("."+this.o.closeClass).unbind("click.simplemodal"),i.unbind("keydown.simplemodal"),n.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var o=this,i=o.o.position;e.each([o.d.iframe||null,o.o.modal?o.d.overlay:null,"fixed"===o.d.container.css("position")?o.d.container:null],function(e,o){if(o){var t="document.body.clientHeight",n="document.body.clientWidth",a="document.body.scrollHeight",s="document.body.scrollLeft",d="document.body.scrollTop",l="document.body.scrollWidth",r="document.documentElement.clientHeight",c="document.documentElement.clientWidth",p="document.documentElement.scrollLeft",m="document.documentElement.scrollTop",u=o[0].style;if(u.position="absolute",e<2)u.removeExpression("height"),u.removeExpression("width"),u.setExpression("height",a+" > "+t+" ? "+a+" : "+t+' + "px"'),u.setExpression("width",l+" > "+n+" ? "+l+" : "+n+' + "px"');else{var h,f;if(i&&i.constructor===Array){var v=i[0]?"number"==typeof i[0]?i[0].toString():i[0].replace(/px/,""):o.css("top").replace(/px/,"");if(h=-1===v.indexOf("%")?v+" + (t = "+m+" ? "+m+" : "+d+') + "px"':parseInt(v.replace(/%/,""))+" * (("+r+" || "+t+") / 100) + (t = "+m+" ? "+m+" : "+d+') + "px"',i[1]){var g="number"==typeof i[1]?i[1].toString():i[1].replace(/px/,"");f=-1===g.indexOf("%")?g+" + (t = "+p+" ? "+p+" : "+s+') + "px"':parseInt(g.replace(/%/,""))+" * (("+c+" || "+n+") / 100) + (t = "+p+" ? "+p+" : "+s+') + "px"'}}else h="("+r+" || "+t+") / 2 - (this.offsetHeight / 2) + (t = "+m+" ? "+m+" : "+d+') + "px"',f="("+c+" || "+n+") / 2 - (this.offsetWidth / 2) + (t = "+p+" ? "+p+" : "+s+') + "px"';u.removeExpression("top"),u.removeExpression("left"),u.setExpression("top",h),u.setExpression("left",f)}}})},focus:function(o){var i=this,t=o&&-1!==e.inArray(o,["first","last"])?o:"first",n=e(":input:enabled:visible:"+t,i.d.wrap);setTimeout(function(){n.length>0?n.focus():i.d.wrap&&i.d.wrap.focus()},10)},getDimensions:function(){var e=void 0===window.innerHeight?n.height():window.innerHeight;o=[i.height(),i.width()],a=[e,n.width()]},getVal:function(e,o){return e?"number"==typeof e?e:"auto"===e?0:e.indexOf("%")>0?parseInt(e.replace(/%/,""))/100*("h"===o?a[0]:a[1]):parseInt(e.replace(/px/,"")):null},update:function(e,o){var i=this;if(!i.d.data)return!1;i.d.origHeight=i.getVal(e,"h"),i.d.origWidth=i.getVal(o,"w"),i.d.data.hide(),e&&i.d.container.css("height",e),o&&i.d.container.css("width",o),i.setContainerDimensions(),i.d.data.show(),i.o.focus&&i.focus(),i.unbindEvents(),i.bindEvents()},setContainerDimensions:function(){var e=this,o=s.ie6||s.ie7,i=e.d.origHeight?e.d.origHeight:s.opera?e.d.container.height():e.getVal(o?e.d.container[0].currentStyle.height:e.d.container.css("height"),"h"),t=e.d.origWidth?e.d.origWidth:s.opera?e.d.container.width():e.getVal(o?e.d.container[0].currentStyle.width:e.d.container.css("width"),"w"),n=e.d.data.outerHeight(!0),d=e.d.data.outerWidth(!0);e.d.origHeight=e.d.origHeight||i,e.d.origWidth=e.d.origWidth||t;var l=e.o.maxHeight?e.getVal(e.o.maxHeight,"h"):null,r=e.o.maxWidth?e.getVal(e.o.maxWidth,"w"):null,c=l&&l<a[0]?l:a[0],p=r&&r<a[1]?r:a[1],m=e.o.minHeight?e.getVal(e.o.minHeight,"h"):"auto";i=i?e.o.autoResize&&i>c?c:i<m?m:i:n?n>c?c:e.o.minHeight&&"auto"!==m&&n<m?m:n:m;var u=e.o.minWidth?e.getVal(e.o.minWidth,"w"):"auto";t=t?e.o.autoResize&&t>p?p:t<u?u:t:d?d>p?p:e.o.minWidth&&"auto"!==u&&d<u?u:d:u,e.d.container.css({height:i,width:t}),e.d.wrap.css({overflow:n>i||d>t?"auto":"visible"}),e.o.autoPosition&&e.setPosition()},setPosition:function(){var e,o,i=this,t=a[0]/2-i.d.container.outerHeight(!0)/2,s=a[1]/2-i.d.container.outerWidth(!0)/2,d="fixed"!==i.d.container.css("position")?n.scrollTop():0;i.o.position&&"[object Array]"===Object.prototype.toString.call(i.o.position)?(e=d+(i.o.position[0]||t),o=i.o.position[1]||s):(e=d+t,o=s),i.d.container.css({left:o,top:e})},watchTab:function(o){var i=this;if(e(o.target).parents(".simplemodal-container").length>0){if(i.inputs=e(":input:enabled:visible:first, :input:enabled:visible:last",i.d.data[0]),!o.shiftKey&&o.target===i.inputs[i.inputs.length-1]||o.shiftKey&&o.target===i.inputs[0]||0===i.inputs.length){o.preventDefault();var t=o.shiftKey?"last":"first";i.focus(t)}}else o.preventDefault(),i.focus()},open:function(){var o=this;o.d.iframe&&o.d.iframe.show(),e.isFunction(o.o.onOpen)?o.o.onOpen.apply(o,[o.d]):(o.d.overlay.show(),o.d.container.show(),o.d.data.show()),o.o.focus&&o.focus(),o.bindEvents()},close:function(){var o=this;if(!o.d.data)return!1;if(o.unbindEvents(),e.isFunction(o.o.onClose)&&!o.occb)o.occb=!0,o.o.onClose.apply(o,[o.d]);else{if(o.d.placeholder){var i=e("#simplemodal-placeholder");o.o.persist?i.replaceWith(o.d.data.removeClass("simplemodal-data").css("display",o.display)):(o.d.data.hide().remove(),i.replaceWith(o.d.orig))}else o.d.data.hide().remove();o.d.container.hide().remove(),o.d.overlay.hide(),o.d.iframe&&o.d.iframe.hide().remove(),o.d.overlay.remove(),o.d={}}}}});
tinymce.PluginManager.add("code",function(e){function o(){e.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e.getParam("code_dialog_width",600),minHeight:e.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(o){e.focus(),e.undoManager.transact(function(){e.setContent(o.data.code)}),e.selection.setCursorLocation(),e.nodeChanged()}}).find("#code").value(e.getContent({source_view:!0}))}e.addCommand("mceCodeEditor",o),e.addButton("code",{icon:"code",tooltip:"Source code",onclick:o}),e.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:o})});
tinymce.PluginManager.add("image",function(t){function e(t,e){function i(t,i){n.parentNode&&n.parentNode.removeChild(n),e({width:t,height:i})}var n=document.createElement("img");n.onload=function(){i(Math.max(n.width,n.clientWidth),Math.max(n.height,n.clientHeight))},n.onerror=function(){i()};var a=n.style;a.visibility="hidden",a.position="fixed",a.bottom=a.left=0,a.width=a.height="auto",document.body.appendChild(n),n.src=t}function i(t,e,i){function n(t,i){return i=i||[],tinymce.each(t,function(t){var a={text:t.text||t.title};t.menu?a.menu=n(t.menu):(a.value=t.value,e(a)),i.push(a)}),i}return n(t,i||[])}function n(e){return function(){var i=t.settings.image_list;"string"==typeof i?tinymce.util.XHR.send({url:i,success:function(t){e(tinymce.util.JSON.parse(t))}}):"function"==typeof i?i(e):e(i)}}function a(n){function a(){var t,e,i,n;t=m.find("#width")[0],e=m.find("#height")[0],t&&e&&(i=t.value(),n=e.value(),m.find("#constrain")[0].checked()&&h&&p&&i&&n&&(h!=i?(n=Math.round(i/h*n),isNaN(n)||e.value(n)):(i=Math.round(n/p*i),isNaN(i)||t.value(i))),h=i,p=n)}function r(){function e(e){function i(){e.onload=e.onerror=null,t.selection&&(t.selection.select(e),t.nodeChanged())}e.onload=function(){v.width||v.height||!x||y.setAttribs(e,{width:e.clientWidth,height:e.clientHeight}),i()},e.onerror=i}var i,n;g(),a(),v=tinymce.extend(v,m.toJSON()),v.alt||(v.alt=""),v.title||(v.title=""),""===v.width&&(v.width=null),""===v.height&&(v.height=null),v.style||(v.style=null),v={src:v.src,alt:v.alt,title:v.title,width:v.width,height:v.height,style:v.style,caption:v.caption,class:v.class},t.undoManager.transact(function(){function a(e){return t.schema.getTextBlockElements()[e.nodeName]}if(!v.src)return void(d&&(y.remove(d),t.focus(),t.nodeChanged()));if(""===v.title&&(v.title=null),d?y.setAttribs(d,v):(v.id="__mcenew",t.focus(),t.selection.setContent(y.createHTML("img",v)),d=y.get("__mcenew"),y.setAttrib(d,"id",null)),t.editorUpload.uploadImagesAuto(),!1===v.caption&&y.is(d.parentNode,"figure.image")&&(i=d.parentNode,y.insertAfter(d,i),y.remove(i)),!0!==v.caption)e(d);else if(!y.is(d.parentNode,"figure.image")){n=d,d=d.cloneNode(!0),i=y.create("figure",{class:"image"}),i.appendChild(d),i.appendChild(y.create("figcaption",{contentEditable:!0},"Caption")),i.contentEditable=!1;var r=y.getParent(n,a);r?y.split(r,n,i):y.replace(i,n),t.selection.select(i)}})}function l(t){return t&&(t=t.replace(/px$/,"")),t}function o(i){var n,a,r,l=i.meta||{};f&&f.value(t.convertURL(this.value(),"src")),tinymce.each(l,function(t,e){m.find("#"+e).value(t)}),l.width||l.height||(n=t.convertURL(this.value(),"src"),a=t.settings.image_prepend_url,r=new RegExp("^(?:[a-z]+:)?//","i"),a&&!r.test(n)&&n.substring(0,a.length)!==a&&(n=a+n),this.value(n),e(t.documentBaseURI.toAbsolute(this.value()),function(t){t.width&&t.height&&x&&(h=t.width,p=t.height,m.find("#width").value(h),m.find("#height").value(p))}))}function s(t){if(t.margin){var e=t.margin.split(" ");switch(e.length){case 1:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[0],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[0];break;case 2:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[1];break;case 3:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[1];break;case 4:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[3]}delete t.margin}return t}function g(){function e(t){return t.length>0&&/^[0-9]+$/.test(t)&&(t+="px"),t}if(t.settings.image_advtab){var i=m.toJSON(),n=y.parseStyle(i.style);n=s(n),i.vspace&&(n["margin-top"]=n["margin-bottom"]=e(i.vspace)),i.hspace&&(n["margin-left"]=n["margin-right"]=e(i.hspace)),i.border&&(n["border-width"]=e(i.border)),m.find("#style").value(y.serializeStyle(y.parseStyle(y.serializeStyle(n))))}}function c(){if(t.settings.image_advtab){var e=m.toJSON(),i=y.parseStyle(e.style);m.find("#vspace").value(""),m.find("#hspace").value(""),i=s(i),(i["margin-top"]&&i["margin-bottom"]||i["margin-right"]&&i["margin-left"])&&(i["margin-top"]===i["margin-bottom"]?m.find("#vspace").value(l(i["margin-top"])):m.find("#vspace").value(""),i["margin-right"]===i["margin-left"]?m.find("#hspace").value(l(i["margin-right"])):m.find("#hspace").value("")),i["border-width"]&&m.find("#border").value(l(i["border-width"])),m.find("#style").value(y.serializeStyle(y.parseStyle(y.serializeStyle(i))))}}var m,d,u,h,p,f,b,v={},y=t.dom,x=!1!==t.settings.image_dimensions;d=t.selection.getNode(),u=y.getParent(d,"figure.image"),u&&(d=y.select("img",u)[0]),d&&("IMG"!=d.nodeName||d.getAttribute("data-mce-object")||d.getAttribute("data-mce-placeholder"))&&(d=null),d&&(h=y.getAttrib(d,"width"),p=y.getAttrib(d,"height"),v={src:y.getAttrib(d,"src"),alt:y.getAttrib(d,"alt"),title:y.getAttrib(d,"title"),class:y.getAttrib(d,"class"),width:h,height:p,caption:!!u}),n&&(f={type:"listbox",label:"Image list",values:i(n,function(e){e.value=t.convertURL(e.value||e.url,"src")},[{text:"None",value:""}]),value:v.src&&t.convertURL(v.src,"src"),onselect:function(t){var e=m.find("#alt");(!e.value()||t.lastControl&&e.value()==t.lastControl.text())&&e.value(t.control.text()),m.find("#src").value(t.control.value()).fire("change")},onPostRender:function(){f=this}}),t.settings.image_class_list&&(b={name:"class",type:"listbox",label:"Class",values:i(t.settings.image_class_list,function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({inline:"img",classes:[e.value]})})})});var w=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:o},f];!1!==t.settings.image_description&&w.push({name:"alt",type:"textbox",label:"Image description"}),t.settings.image_title&&w.push({name:"title",type:"textbox",label:"Image Title"}),x&&w.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:a,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:a,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),w.push(b),t.settings.image_caption&&tinymce.Env.ceFalse&&w.push({name:"caption",type:"checkbox",label:"Caption"}),t.settings.image_advtab?(d&&(d.style.marginLeft&&d.style.marginRight&&d.style.marginLeft===d.style.marginRight&&(v.hspace=l(d.style.marginLeft)),d.style.marginTop&&d.style.marginBottom&&d.style.marginTop===d.style.marginBottom&&(v.vspace=l(d.style.marginTop)),d.style.borderWidth&&(v.border=l(d.style.borderWidth)),v.style=t.dom.serializeStyle(t.dom.parseStyle(t.dom.getAttrib(d,"style")))),m=t.windowManager.open({title:"Insert/edit image",data:v,bodyType:"tabpanel",body:[{title:"General",type:"form",items:w},{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:c},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:g},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]}],onSubmit:r})):m=t.windowManager.open({title:"Insert/edit image",data:v,body:w,onSubmit:r})}t.on("preInit",function(){function e(t){var e=t.attr("class");return e&&/\bimage\b/.test(e)}function i(t){return function(i){function n(e){e.attr("contenteditable",t?"true":null)}for(var a,r=i.length;r--;)a=i[r],e(a)&&(a.attr("contenteditable",t?"false":null),tinymce.each(a.getAll("figcaption"),n))}}t.parser.addNodeFilter("figure",i(!0)),t.serializer.addNodeFilter("figure",i(!1))}),t.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:n(a),stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),t.addMenuItem("image",{icon:"image",text:"Insert/edit image",onclick:n(a),context:"insert",prependToContext:!0}),t.addCommand("mceImage",n(a))});
tinymce.ThemeManager.add("modern",function(e){function t(t,n){var i,o=[];if(t)return h(t.split(/[ ,]/),function(t){function r(){function n(e){return function(n,i){for(var o,r=i.parents.length;r--&&"OL"!=(o=i.parents[r].nodeName)&&"UL"!=o;);t.active(n&&o==e)}}var i=e.selection;"bullist"==l&&i.selectorChanged("ul > li",n("UL")),"numlist"==l&&i.selectorChanged("ol > li",n("OL")),t.settings.stateSelector&&i.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&i.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})}var l;"|"==t?i=null:m.has(t)?(t={type:t,size:n},o.push(t),i=null):(i||(i={type:"buttongroup",items:[]},o.push(i)),e.buttons[t]&&(l=t,t=e.buttons[l],"function"==typeof t&&(t=t()),t.type=t.type||"button",t.size=n,t=m.create(t),i.items.push(t),e.initialized?r():e.on("init",r)))}),{type:"toolbar",layout:"flow",items:o}}function n(e){function n(n){if(n)return i.push(t(n,e)),!0}var i=[];if(tinymce.isArray(f.toolbar)){if(0===f.toolbar.length)return;tinymce.each(f.toolbar,function(e,t){f["toolbar"+(t+1)]=e}),delete f.toolbar}for(var o=1;o<10&&n(f["toolbar"+o]);o++);if(i.length||!1===f.toolbar||n(f.toolbar||v),i.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:i}}function i(){function t(t){return"|"==t?{text:"|"}:e.menuItems[t]}var n,i=[],o=[];if(f.menu)for(n in f.menu)o.push(n);else for(n in g)o.push(n);for(var r="string"==typeof f.menubar?f.menubar.split(/[ ,]/):o,l=0;l<r.length;l++){var a=r[l];a=function(n){var i,o,r,l,a;if(a=tinymce.makeMap((f.removed_menuitems||"").split(/[ ,]/)),f.menu?(o=f.menu[n],l=!0):o=g[n],o){i={text:o.title},r=[],h((o.items||"").split(/[ ,]/),function(e){t(e)&&!a[e]&&r.push(t(e))}),l||h(e.menuItems,function(e){e.context==n&&("before"==e.separator&&r.push({text:"|"}),e.prependToContext?r.unshift(e):r.push(e),"after"==e.separator&&r.push({text:"|"}))});for(var s=0;s<r.length;s++)"|"==r[s].text&&(0!==s&&s!=r.length-1||r.splice(s,1));if(i.menu=r,!i.menu.length)return null}return i}(a),a&&i.push(a)}return i}function o(t){function n(e){var n=t.find(e)[0];n&&n.focus(!0)}e.shortcuts.add("Alt+F9","",function(){n("menubar")}),e.shortcuts.add("Alt+F10","",function(){n("toolbar")}),e.shortcuts.add("Alt+F11","",function(){n("elementpath")}),t.on("cancel",function(){e.focus()})}function r(t,n){function i(e){return{width:e.clientWidth,height:e.clientHeight}}var o,r,l,a;o=e.getContainer(),r=e.getContentAreaContainer().firstChild,l=i(o),a=i(r),null!==t&&(t=Math.max(f.min_width||100,t),t=Math.min(f.max_width||65535,t),b.setStyle(o,"width",t+(l.width-a.width)),b.setStyle(r,"width",t)),n=Math.max(f.min_height||100,n),n=Math.min(f.max_height||65535,n),b.setStyle(r,"height",n),e.fire("ResizeEditor")}function l(t,n){var i=e.getContentAreaContainer();d.resizeTo(i.clientWidth+t,i.clientHeight+n)}function a(){function n(){return e.contextToolbars||[]}function i(t){var n,i,o;return n=tinymce.DOM.getPos(e.getContentAreaContainer()),i=e.dom.getRect(t),o=e.dom.getRoot(),"BODY"==o.nodeName&&(i.x-=o.ownerDocument.documentElement.scrollLeft||o.scrollLeft,i.y-=o.ownerDocument.documentElement.scrollTop||o.scrollTop),i.x+=n.x,i.y+=n.y,i}function o(){h(e.contextToolbars,function(e){e.panel&&e.panel.hide()})}function r(e,t,n){t=t?t.substr(0,2):"",h({t:"down",b:"up"},function(i,o){e.classes.toggle("arrow-"+i,n(o,t.substr(0,1)))}),h({l:"left",r:"right"},function(i,o){e.classes.toggle("arrow-"+i,n(o,t.substr(1,1)))})}function l(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}}function a(e,t,n,i,o){return o=l({x:e,y:t,w:o.w,h:o.h}),f.inline_toolbar_position_handler&&(o=f.inline_toolbar_position_handler({elementRect:l(n),contentAreaRect:l(i),panelRect:o})),o}function s(e,t){e.moveTo(t.left,t.top)}function c(t){var n,l,c,u,d,f,m,h;if(!e.removed){if(!t||!t.toolbar.panel)return void o();m=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],d=t.toolbar.panel,d.show(),c=i(t.element),l=tinymce.DOM.getRect(d.getEl()),u=tinymce.DOM.getRect(e.getContentAreaContainer()||e.getBody()),h=25,c.w=t.element.clientWidth,c.h=t.element.clientHeight,e.inline||(u.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(t.element)&&c.w<h&&(c=y.inflate(c,0,8)),n=y.findBestRelativePosition(l,c,u,m),c=y.clamp(c,u),n?(f=y.relativePosition(l,c,n),s(d,a(f.x,f.y,c,u,l))):(u.h+=l.h,c=y.intersect(u,c),c?(n=y.findBestRelativePosition(l,c,u,["bc-tc","bl-tl","br-tr"]),n?(f=y.relativePosition(l,c,n),s(d,a(f.x,f.y,c,u,l))):s(d,a(c.x,c.y,c,u,l))):d.hide()),r(d,n,function(e,t){return e===t})}}function u(){function t(){e.selection&&c(g(e.selection.getNode()))}tinymce.util.Delay.requestAnimationFrame(t)}function d(){v||(v=e.selection.getScrollContainer()||e.getWin(),tinymce.$(v).on("scroll",u),e.on("remove",function(){tinymce.$(v).off("scroll")}))}function b(n){var i;if(n.toolbar.panel)return n.toolbar.panel.show(),void c(n);d(),i=m.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:t(n.toolbar.items),oncancel:function(){e.focus()}}),n.toolbar.panel=i,i.renderTo(document.body).reflow(),c(n)}function p(){tinymce.each(n(),function(e){e.panel&&e.panel.hide()})}function g(t){var i,o,r,l=n();for(r=e.$(t).parents().add(t),i=r.length-1;i>=0;i--)for(o=l.length-1;o>=0;o--)if(l[o].predicate(r[i]))return{toolbar:l[o],element:r[i]};return null}var v;e.on("click keyup setContent",function(t){("setcontent"!=t.type||t.selection)&&tinymce.util.Delay.setEditorTimeout(e,function(){var t;t=g(e.selection.getNode()),t?(p(),b(t)):p()})}),e.on("blur hide",p),e.on("ObjectResizeStart",function(){var t=g(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.hide()}),e.on("nodeChange ResizeEditor ResizeWindow",u),e.on("remove",function(){tinymce.each(n(),function(e){e.panel&&e.panel.remove()}),e.contextToolbars={}}),e.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var t=g(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.items()[0].focus()})}function s(e){return function(){e.initialized?e.fire("SkinLoaded"):e.on("init",function(){e.fire("SkinLoaded")})}}function c(t){function r(){if(h&&h.moveRel&&h.visible()&&!h._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),i=0,o=0;if(t){var r=b.getPos(n),l=b.getPos(t);i=Math.max(0,l.x-r.x),o=Math.max(0,l.y-r.y)}h.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,o)}}function l(){h&&(h.show(),r(),b.addClass(e.getBody(),"mce-edit-focus"))}function c(){h&&(h.hide(),p.hideAll(),b.removeClass(e.getBody(),"mce-edit-focus"))}function u(){if(h)return void(h.visible()||l());h=d.panel=m.create({type:y?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!y,border:1,items:[!1===f.menubar?null:{type:"menubar",border:"0 0 1 0",items:i()},n(f.toolbar_items_size)]}),e.fire("BeforeRenderUI"),h.renderTo(y||document.body).reflow(),o(h),l(),a(),e.on("nodeChange",r),e.on("activate",l),e.on("deactivate",c),e.nodeChanged()}var h,y;return f.fixed_toolbar_container&&(y=b.select(f.fixed_toolbar_container)[0]),f.content_editable=!0,e.on("focus",function(){t.skinUiCss?tinymce.DOM.styleSheetLoader.load(t.skinUiCss,u,u):u()}),e.on("blur hide",c),e.on("remove",function(){h&&(h.remove(),h=null)}),t.skinUiCss&&tinymce.DOM.styleSheetLoader.load(t.skinUiCss,s(e)),{}}function u(t){var l,c,u;return t.skinUiCss&&tinymce.DOM.styleSheetLoader.load(t.skinUiCss,s(e)),l=d.panel=m.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===f.menubar?null:{type:"menubar",border:"0 0 1 0",items:i()},n(f.toolbar_items_size),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]}),!1!==f.resize&&(c={type:"resizehandle",direction:f.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;u={width:t.clientWidth,height:t.clientHeight}},onResize:function(e){"both"==f.resize?r(u.width+e.deltaX,u.height+e.deltaY):r(null,u.height+e.deltaY)}}),!1!==f.statusbar&&l.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},c]}),e.fire("BeforeRenderUI"),e.on("SwitchMode",function(){return function(e){"readonly"==e.mode?l.find("*").disabled(!0):l.find("*").disabled(!1)}}()),l.renderBefore(t.targetNode).reflow(),f.readonly&&e.setMode("readonly"),f.width&&tinymce.DOM.setStyle(l.getEl(),"width",f.width),e.on("remove",function(){l.remove(),l=null}),o(l),a(),{iframeContainer:l.find("#iframe")[0].getEl(),editorContainer:l.getEl()}}var d=this,f=e.settings,m=tinymce.ui.Factory,h=tinymce.each,b=tinymce.DOM,y=tinymce.geom.Rect,p=tinymce.ui.FloatPanel,g={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},v="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";d.renderUI=function(t){var n=!1!==f.skin&&(f.skin||"lightgray");if(n){var i=f.skin_url;i=i?e.documentBaseURI.toAbsolute(i):tinymce.baseURL+"/skins/"+n,tinymce.Env.documentMode<=7?t.skinUiCss=i+"/skin.ie7.min.css":t.skinUiCss=i+"/skin.min.css",e.contentCSS.push(i+"/content"+(e.inline?".inline":"")+".min.css")}return e.on("ProgressState",function(e){d.throbber=d.throbber||new tinymce.ui.Throbber(d.panel.getEl("body")),e.state?d.throbber.show(e.time):d.throbber.hide()}),f.inline?c(t):u(t)},d.resizeTo=r,d.resizeBy=l});
Ember.TEMPLATES.Address=Ember.Handlebars.template(function(e,n,i,a,t){function s(e,n){return n.buffer.push('\r\n  <div class="container-fluid">\r\n    <div class="col-sm-12">\r\n      '),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.addressControl:addresses~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push(" "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.Link",{hash:{action:"showAddressPanel",target:"parentView",tabindexBinding:"_tabindexAddLink",text:"~locale.addressControl:addLink~"},hashTypes:{action:"STRING",target:"STRING",tabindexBinding:"STRING",text:"STRING"},hashContexts:{action:e,target:e,tabindexBinding:e,text:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    </div>\r\n  </div>\r\n  "),""}function r(e,n){var a;return n.buffer.push("\r\n  "),a=i.if.call(e,"view.multipleAddress",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(4,d,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n  "),""}function d(e,n){var a,t,s;return n.buffer.push('\r\n  <br />\r\n  <div class="container-fluid">\r\n    <div class="col-sm-12">\r\n      <table id="addresses" class="table table-bordered komodo-datagrid" width="80%">\r\n        <tbody>\r\n          <tr>\r\n            <th class="customClass" width="15%">'),n.buffer.push(L((t=i.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},t?t.call(e,"locale.addressControl:addressType",s):A.call(e,"loc","locale.addressControl:addressType",s)))),n.buffer.push('</th>\r\n            <th width="55%">'),n.buffer.push(L((t=i.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},t?t.call(e,"locale.addressControl:address",s):A.call(e,"loc","locale.addressControl:address",s)))),n.buffer.push(" </th>\r\n            "),a=i.if.call(e,"view.floor",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(5,o,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push('\r\n            <th width="10%">'),n.buffer.push(L((t=i.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},t?t.call(e,"locale.addressControl:isPrimary",s):A.call(e,"loc","locale.addressControl:isPrimary",s)))),n.buffer.push('</th>\r\n            <th width="10%">'),n.buffer.push(L((t=i.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},t?t.call(e,"locale.addressControl:edit",s):A.call(e,"loc","locale.addressControl:edit",s)))),n.buffer.push('</th>\r\n            <th width="10%">'),n.buffer.push(L((t=i.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},t?t.call(e,"locale.addressControl:delete",s):A.call(e,"loc","locale.addressControl:delete",s)))),n.buffer.push("</th>\r\n          </tr>\r\n          "),a=i.each.call(e,"addressItem","in","view.addressList",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(7,l,n),contexts:[e,e,e],types:["ID","ID","ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  "),""}function o(e,n){var a,t;return n.buffer.push('\r\n            <th width="10%">'),n.buffer.push(L((a=i.loc||e&&e.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},a?a.call(e,"locale.addressControl:floor",t):A.call(e,"loc","locale.addressControl:floor",t)))),n.buffer.push('</th>\r\n            <th width="10%">'),n.buffer.push(L((a=i.loc||e&&e.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},a?a.call(e,"locale.addressControl:exactLocation",t):A.call(e,"loc","locale.addressControl:exactLocation",t)))),n.buffer.push("</th>\r\n            "),""}function l(e,n){var a;return n.buffer.push('\r\n          <tr>\r\n            <td class="customClass" >'),a=i._triageMustache.call(e,"addressItem.addressTypeText",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push('</td>\r\n            <td class="customClass"> '),a=i._triageMustache.call(e,"addressItem.addressString",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("</td>\r\n            "),a=i.if.call(e,"view.floor",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(8,h,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push('\r\n            <td class="customClass">'),a=i._triageMustache.call(e,"addressItem.isPrimaryString",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push('</td>\r\n            <td class="customClass" > '),n.buffer.push(L(i.view.call(e,"Komodo.Controls.Link",{hash:{action:"editAddress",target:"parentView",text:"~locale.addressControl:edit~",contentBinding:"addressItem",tabindexBinding:"view.parentView.parentView._tabindexEditLink"},hashTypes:{action:"STRING",target:"STRING",text:"STRING",contentBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{action:e,target:e,text:e,contentBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("</td>\r\n            <td> "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.Link",{hash:{action:"deleteAddress",target:"parentView",text:"~locale.addressControl:delete~",contentBinding:"addressItem",tabindexBinding:"view.parentView.parentView._tabindexDeleteLink"},hashTypes:{action:"STRING",target:"STRING",text:"STRING",contentBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{action:e,target:e,text:e,contentBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("</td>\r\n          </tr>\r\n          "),""}function h(e,n){var a;return n.buffer.push('\r\n            <td class="customClass" >'),a=i._triageMustache.call(e,"addressItem.floor",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push('</td>\r\n            <td class="customClass" >'),a=i._triageMustache.call(e,"addressItem.exactLocation",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("</td>\r\n            "),""}function p(e,n){var a;return n.buffer.push('\r\n  <div id="addressPanel">\r\n    '),a=i.if.call(e,"view._enableAddressOverride",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(11,u,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n\r\n    "),a=i.if.call(e,"view.multipleAddress",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(17,v,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(23,x,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),a=i.if.call(e,"view.multipleAddress",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(44,D,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n  </div>\r\n  "),""}function u(e,n){var a;return n.buffer.push("\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(12,c,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n\r\n    "),""}function c(e,n){var a;return n.buffer.push("\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(13,b,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(15,f,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),""}function b(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{disableBinding:"view.parentView.parentView._disableAddressString",valueBinding:"view.parentView.parentView._addressString",id:"addressString",placeholderBinding:"view.parentView.parentView._placeHolder",tabindexBinding:"view.parentView.parentView._tabindexDeleteLink"},hashTypes:{disableBinding:"STRING",valueBinding:"STRING",id:"STRING",placeholderBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{disableBinding:e,valueBinding:e,id:e,placeholderBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function f(e,n){return n.buffer.push('\r\n    <br />\r\n    <div id="hideCheckBox" style="display: none;">\r\n      '),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"view.parentView.parentView.address.isAddressOverride",tabindexBinding:"view.parentView.parentView._tabindexOverRideCheck"},hashTypes:{checkedBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{checkedBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push(" "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.addressControl:overRide~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    </div>\r\n    "),""}function v(e,n){var a;return n.buffer.push("\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(18,w,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),""}function w(e,n){var a;return n.buffer.push("\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(19,g,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(21,B,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),""}function g(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{valueBinding:"view.parentView.parentView.address.addressType",contentBinding:"view.parentView.parentView._addressTypes",displayPath:"title",valuePath:"value",label:"~locale.addressControl:addressType~",tabindexBinding:"view.parentView.parentView._tabindexAddressType"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",displayPath:"STRING",valuePath:"STRING",label:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,displayPath:e,valuePath:e,label:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function B(e,n){return n.buffer.push("\r\n    <br />\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"view.parentView.parentView._postalSameAsPhysical",visibleBinding:"view.parentView.parentView._showSameAsPhysical"},hashTypes:{checkedBinding:"STRING",visibleBinding:"STRING"},hashContexts:{checkedBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push(" "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.addressControl:sameAsPhysical~",visibleBinding:"view.parentView.parentView._showSameAsPhysical",tabindexBinding:"view.parentView.parentView._tabindexShowSameAsPhysical"},hashTypes:{text:"STRING",visibleBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{text:e,visibleBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function x(e,n){var a;return n.buffer.push("\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(24,T,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n\r\n    "),a=i.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(35,N,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),""}function T(e,n){var a;return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.address.country",selectionBinding:"view.parentView.parentView._selectedCountry",disableBinding:"view.parentView.parentView._disableOverrideAddress",label:"~locale.addressControl:country~",validatorBinding:"view.parentView.parentView.validators.countryValidator",prompt:" ",contentBinding:"view.parentView.parentView._countries",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",tabindexBinding:"view.parentView.parentView._tabindexCountry"},hashTypes:{valueBinding:"STRING",selectionBinding:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,selectionBinding:e,disableBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),a=i.if.call(e,"view.parentView.parentView._enableAddressOverride",{hash:{},hashTypes:{},hashContexts:{},inverse:k.program(27,I,n),fn:k.program(25,V,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.postalCode",id:"postalCode",disable:!0,label:"~locale.addressControl:postalCode~",tabindexBinding:"view.parentView.parentView._tabindexPostalCode",validatorBinding:"view.parentView.parentView.validators.postalCodeValidator"},hashTypes:{valueBinding:"STRING",id:"STRING",disable:"BOOLEAN",label:"STRING",tabindexBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,id:e,disable:e,label:e,tabindexBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.building",visibleBinding:"view.parentView.parentView._isPhysicalAddress",label:"~locale.addressControl:buildingName~",validatorBinding:"view.parentView.parentView.validators.buildingValidator",tabindexBinding:"view.parentView.parentView._tabindexBuilding"},hashTypes:{valueBinding:"STRING",visibleBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,visibleBinding:e,label:e,validatorBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),a=i.if.call(e,"view.parentView.parentView._enableAddressOverride",{hash:{},hashTypes:{},hashContexts:{},inverse:k.program(31,y,n),fn:k.program(29,C,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),a=i.if.call(e,"view.parentView.parentView.floor",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(33,S,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),""}function V(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.city",id:"city",disableBinding:"view.parentView.parentView._disableLocation",label:"~locale.addressControl:city~",validatorBinding:"view.parentView.parentView.validators.cityValidator",tabindexBinding:"view.parentView.parentView._tabindexCity"},hashTypes:{valueBinding:"STRING",id:"STRING",disableBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,id:e,disableBinding:e,label:e,validatorBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function I(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.address.city",selectionBinding:"view.parentView.parentView._selectedCity",label:"~locale.addressControl:city~",validatorBinding:"view.parentView.parentView.validators.cityValidator",prompt:" ",contentBinding:"view.parentView.parentView._cities",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalValue",tabindexBinding:"view.parentView.parentView._tabindexCity"},hashTypes:{valueBinding:"STRING",selectionBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,selectionBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function C(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.streetName",id:"streetName",visibleBinding:"view.parentView.parentView._isPhysicalAddress",disableBinding:"view.parentView.parentView._disableOverrideAddress",label:"~locale.addressControl:streetName~",tabindexBinding:"view.parentView.parentView._tabindexStreetName",validatorBinding:"view.parentView.parentView.validators.streetNameValidator"},hashTypes:{valueBinding:"STRING",id:"STRING",visibleBinding:"STRING",disableBinding:"STRING",label:"STRING",tabindexBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,id:e,visibleBinding:e,disableBinding:e,label:e,tabindexBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function y(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.streetName",id:"streetName",visibleBinding:"view.parentView.parentView._isPhysicalAddress",label:"~locale.addressControl:streetName~",tabindexBinding:"view.parentView.parentView._tabindexStreetName",validatorBinding:"view.parentView.parentView.validators.streetNameValidator"},hashTypes:{valueBinding:"STRING",id:"STRING",visibleBinding:"STRING",label:"STRING",tabindexBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,id:e,visibleBinding:e,label:e,tabindexBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function S(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.exactLocation",visibleBinding:"view.parentView.parentView._isPhysicalAddress",label:"~locale.addressControl:exactLocation~",validatorBinding:"view.parentView.parentView.validators.exactLocationValidator",tabindexBinding:"view.parentView.parentView._tabindexExactLocation"},hashTypes:{valueBinding:"STRING",visibleBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,visibleBinding:e,label:e,validatorBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function N(e,n){var a;return n.buffer.push("\r\n    "),a=i.if.call(e,"view.parentView.parentView._enableAddressOverride",{hash:{},hashTypes:{},hashContexts:{},inverse:k.program(38,G,n),fn:k.program(36,R,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.unit",visibleBinding:"view.parentView.parentView._isPhysicalAddress",label:"~locale.addressControl:unitNumber~",validatorBinding:"view.parentView.parentView.validators.unitValidator",tabindexBinding:"view.parentView.parentView._tabindexUnit"},hashTypes:{valueBinding:"STRING",visibleBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,visibleBinding:e,label:e,validatorBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.streetNumber",visibleBinding:"view.parentView.parentView._isPhysicalAddress",label:"~locale.addressControl:streetNumber~",validatorBinding:"view.parentView.parentView.validators.streetNumberValidator",tabindexBinding:"view.parentView.parentView._tabindexStreetNumber"},hashTypes:{valueBinding:"STRING",visibleBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,visibleBinding:e,label:e,validatorBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),a=i.if.call(e,"view.parentView.parentView._isPostalAddress",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(40,m,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),a=i.if.call(e,"view.parentView.parentView.floor",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(42,P,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n    "),""}function R(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.address.province",disableBinding:"view.parentView.parentView._disableOverrideAddress",selectionBinding:"view.parentView.parentView._selectedProvince",label:"~locale.addressControl:province~",validatorBinding:"view.parentView.parentView.validators.provinceValidator",prompt:" ",contentBinding:"view.parentView.parentView._provinces",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",tabindexBinding:"view.parentView.parentView._tabindexProvince"},hashTypes:{valueBinding:"STRING",disableBinding:"STRING",selectionBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,disableBinding:e,selectionBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.suburb",id:"suburb",label:"~locale.addressControl:suburb~",disableBinding:"view.parentView.parentView._disableLocation",validatorBinding:"view.parentView.parentView.validators.suburbValidator",tabindexBinding:"view.parentView.parentView._tabindexSuburb"},hashTypes:{valueBinding:"STRING",id:"STRING",label:"STRING",disableBinding:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,id:e,label:e,disableBinding:e,validatorBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function G(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.address.province",selectionBinding:"view.parentView.parentView._selectedProvince",label:"~locale.addressControl:province~",validatorBinding:"view.parentView.parentView.validators.provinceValidator",prompt:" ",contentBinding:"view.parentView.parentView._provinces",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",tabindexBinding:"view.parentView.parentView._tabindexProvince"},hashTypes:{valueBinding:"STRING",selectionBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,selectionBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.address.suburb",selectionBinding:"view.parentView.parentView._selectedSuburb",label:"~locale.addressControl:suburb~",validatorBinding:"view.parentView.parentView.validators.suburbValidator",prompt:" ",contentBinding:"view.parentView.parentView._suburbs",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalValue",tabindexBinding:"view.parentView.parentView._tabindexSuburb"},hashTypes:{valueBinding:"STRING",selectionBinding:"STRING",label:"STRING",validatorBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,selectionBinding:e,label:e,validatorBinding:e,prompt:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function m(e,n){var a,t;return n.buffer.push("\r\n    "),n.buffer.push(L((a=i.loc||e&&e.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},a?a.call(e,"locale.addressControl:privateBag",t):A.call(e,"loc","locale.addressControl:privateBag",t)))),n.buffer.push('\r\n    <br/>\r\n    <table width="110%" style="margin-left:-4px">\r\n      <tr>\r\n        <td width="30%">\r\n          '),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"private-bag",contentBinding:"view.parentView.parentView._boxTypes",tabindexBinding:"view.parentView.parentView._tabindexPrivateBag",optionValuePath:"content",optionLabelPath:"content",valueBinding:"view.parentView.parentView.address.boxType"},hashTypes:{class:"STRING",contentBinding:"STRING",tabindexBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},hashContexts:{class:e,contentBinding:e,tabindexBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push('\r\n        </td>\r\n        <td width="30%">\r\n          '),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"private-bag",label:"~locale.addressControl:privateBag~",valueBinding:"view.parentView.parentView.address.privateBag",placeholderBinding:"view.parentView.parentView.suitePlaceHolder"},hashTypes:{class:"STRING",label:"STRING",valueBinding:"STRING",placeholderBinding:"STRING"},hashContexts:{class:e,label:e,valueBinding:e,placeholderBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push('\r\n        </td>\r\n        <td width="40%"></td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan="3">\r\n          '),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"view.parentView.parentView.address.privateBag",validatorBinding:"view.parentView.parentView.validators.privateBagValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("          \r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td></td>\r\n        <td>\r\n          "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"private-bag",label:"~locale.addressControl:privateBag~",valueBinding:"view.parentView.parentView.address.suite",visibleBinding:"view.parentView.parentView._isShowSuitePrivateBag",placeholderBinding:"view.parentView.parentView.bagPlaceHolder"},hashTypes:{class:"STRING",label:"STRING",valueBinding:"STRING",visibleBinding:"STRING",placeholderBinding:"STRING"},hashContexts:{class:e,label:e,valueBinding:e,visibleBinding:e,placeholderBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push('\r\n        </td>\r\n        <td></td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan="3">\r\n          '),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"view.parentView.parentView.address.suite",validatorBinding:"view.parentView.parentView.validators.suiteValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    "),""}function P(e,n){return n.buffer.push("\r\n    "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.address.floor",visibleBinding:"view.parentView.parentView._isPhysicalAddress",label:"~locale.addressControl:floor~",validatorBinding:"view.parentView.parentView.validators.floorValidator",tabindexBinding:"view.parentView.parentView._tabindexFloor"},hashTypes:{valueBinding:"STRING",visibleBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{valueBinding:e,visibleBinding:e,label:e,validatorBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n    "),""}function D(e,n){var a;return n.buffer.push('\r\n    <table width="100%">\r\n      <tr>\r\n        <td align="right">\r\n          '),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"view._isPhysicalAddressCheckBox",disabled:"true"},hashTypes:{checkedBinding:"STRING",disabled:"STRING"},hashContexts:{checkedBinding:e,disabled:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n          "),n.buffer.push(L(i.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.addressControl:primaryAddress~"},hashTypes:{text:"STRING"},hashContexts:{text:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n          "),a=i.view.call(e,"Komodo.Controls.Button",{hash:{action:"addAddress",class:"btn-success",target:"parentView",tabindexBinding:"view.parentView.parentView._tabindexAddAddressButton"},hashTypes:{action:"STRING",class:"STRING",target:"STRING",tabindexBinding:"STRING"},hashContexts:{action:e,class:e,target:e,tabindexBinding:e},inverse:k.noop,fn:k.program(45,_,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    "),""}function _(e,n){var a,t;n.buffer.push(L((a=i.loc||e&&e.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},a?a.call(e,"locale.addressControl:submit",t):A.call(e,"loc","locale.addressControl:submit",t))))}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,Ember.Handlebars.helpers),t=t||{};var K,L=this.escapeExpression,A=i.helperMissing,k=this;return t.buffer.push("<div>\r\n  "),K=i.if.call(n,"view.multipleAddress",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,s,t),contexts:[n],types:["ID"],data:t}),(K||0===K)&&t.buffer.push(K),t.buffer.push("\r\n  "),K=i.if.call(n,"view._showTable",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(3,r,t),contexts:[n],types:["ID"],data:t}),(K||0===K)&&t.buffer.push(K),t.buffer.push("\r\n  "),K=i.if.call(n,"view.showControls",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(10,p,t),contexts:[n],types:["ID"],data:t}),(K||0===K)&&t.buffer.push(K),t.buffer.push("\r\n</div>"),""});
Ember.TEMPLATES.Contact=Ember.Handlebars.template(function(e,n,t,a,i){function o(e,n){var a;return n.buffer.push("\r\n\r\n"),a=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"komodo-text-align-normal"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:x.noop,fn:x.program(2,s,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n\r\n"),a=t.view.call(e,"Komodo.Controls.ColumnView",{hash:{class:"komodo-text-align-normal"},hashTypes:{class:"STRING"},hashContexts:{class:e},inverse:x.noop,fn:x.program(6,d,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n"),a=t.if.call(e,"view.resetControls",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(10,p,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n"),""}function s(e,n){var a;return n.buffer.push("\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.phoneNumber~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push(" "),n.buffer.push(f(t.view.call(e,"Komodo.Controls.Link",{hash:{action:"addPhoneNumber",target:"parentView.parentView.parentView",contentBinding:"phone",tabindexBinding:"_tabindexAddPhoneLink",text:"~locale.customer:customerInformation.addButton~"},hashTypes:{action:"STRING",target:"STRING",contentBinding:"STRING",tabindexBinding:"STRING",text:"STRING"},hashContexts:{action:e,target:e,contentBinding:e,tabindexBinding:e,text:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push(" <br />\r\n"),a=t.each.call(e,"phone","in","view.parentView.parentView.phoneNumber",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(3,r,n),contexts:[e,e,e],types:["ID","ID","ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n"),""}function r(e,n){var a,i,o;return n.buffer.push("\r\n<br />\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreSelect",{hash:{class:"phone-dropdown",valueBinding:"phone.type",contentBinding:"phone.contactDetailType",optionLabelPath:"content.value",optionValuePath:"content.key",tabindexBinding:"phone.tabindexType"},hashTypes:{class:"STRING",valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",tabindexBinding:"STRING"},hashContexts:{class:e,valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("+"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-code",valueBinding:"phone.countryCode",tabindexBinding:"phone.tabindexCountryCode"},hashTypes:{class:"STRING",valueBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{class:e,valueBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push(" "),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreTextField",{hash:{class:"phone-number",valueBinding:"phone.contactValue",tabindexBinding:"phone.tabindexPhoneNumber"},hashTypes:{class:"STRING",valueBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{class:e,valueBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.RadioButton",{hash:{checkedBinding:"phone.isPrimary",valueBinding:"phone.Id",tabindexBinding:"phone.tabindexPhoneIsPrimary"},hashTypes:{checkedBinding:"STRING",valueBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{checkedBinding:e,valueBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),n.buffer.push(f((i=t.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},i?i.call(e,"locale.customer:customerInformation.primary",o):b.call(e,"loc","locale.customer:customerInformation.primary",o)))),n.buffer.push("\r\n"),a=t.if.call(e,"phone.isRemovable",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(4,h,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n<br />\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.countryCode",validatorBinding:"phone.countryCodeValidator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreValidation",{hash:{valueBinding:"phone.contactValue",validatorBinding:"phone.validator"},hashTypes:{valueBinding:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),""}function h(e,n){return n.buffer.push("\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.Link",{hash:{action:"removePhoneNumber",contentBinding:"phone",target:"parentView.parentView.parentView",text:"~locale.customer:customerInformation.removeButton~",tabindexBinding:"phone.tabindexRemovePhoneLink"},hashTypes:{action:"STRING",contentBinding:"STRING",target:"STRING",text:"STRING",tabindexBinding:"STRING"},hashContexts:{action:e,contentBinding:e,target:e,text:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),""}function d(e,n){var a;return n.buffer.push("\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{class:"sub-heading",text:"~locale.customer:customerInformation.email~"},hashTypes:{class:"STRING",text:"STRING"},hashContexts:{class:e,text:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push(" "),n.buffer.push(f(t.view.call(e,"Komodo.Controls.Link",{hash:{action:"addEmail",target:"parentView.parentView.parentView",tabindexBinding:"_tabindexAddEmailLink",text:"~locale.customer:customerInformation.addButton~"},hashTypes:{action:"STRING",target:"STRING",tabindexBinding:"STRING",text:"STRING"},hashContexts:{action:e,target:e,tabindexBinding:e,text:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("<br />\r\n"),a=t.each.call(e,"email","in","view.parentView.parentView.emailAddress",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(7,l,n),contexts:[e,e,e],types:["ID","ID","ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n"),""}function l(e,n){var a,i,o;return n.buffer.push("\r\n<br />\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreTextField",{hash:{label:"Email",valueBinding:"email.contactValue",tabindexBinding:"email.tabindexEmail"},hashTypes:{label:"STRING",valueBinding:"STRING",tabindexBinding:"STRING"},hashContexts:{label:e,valueBinding:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.EmailRadioButton",{hash:{checkedBinding:"email.isPrimary",valueBinding:"email.Id",name:"selectionTest1",tabindexBinding:"email.tabindexEmailIsPrimary"},hashTypes:{checkedBinding:"STRING",valueBinding:"STRING",name:"STRING",tabindexBinding:"STRING"},hashContexts:{checkedBinding:e,valueBinding:e,name:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),n.buffer.push(f((i=t.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:n},i?i.call(e,"locale.customer:customerInformation.primary",o):b.call(e,"loc","locale.customer:customerInformation.primary",o)))),n.buffer.push("\r\n"),a=t.if.call(e,"email.isRemovable",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(8,u,n),contexts:[e],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n<br />\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.CoreValidation",{hash:{validatorBinding:"email.validator",valueBinding:"email.contactValue"},hashTypes:{validatorBinding:"STRING",valueBinding:"STRING"},hashContexts:{validatorBinding:e,valueBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),""}function u(e,n){return n.buffer.push("\r\n"),n.buffer.push(f(t.view.call(e,"Komodo.Controls.Link",{hash:{action:"removeEmail",contentBinding:"email",target:"parentView.parentView.parentView",text:"~locale.customer:customerInformation.removeButton~",tabindexBinding:"email.tabindexRemoveEmailLink"},hashTypes:{action:"STRING",contentBinding:"STRING",target:"STRING",text:"STRING",tabindexBinding:"STRING"},hashContexts:{action:e,contentBinding:e,target:e,text:e,tabindexBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),""}function p(e,n){return""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),i=i||{};var c,f=this.escapeExpression,b=t.helperMissing,x=this;return c=t.view.call(n,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(1,o,i),contexts:[n],types:["ID"],data:i}),(c||0===c)&&i.buffer.push(c),i.buffer.push("\r\n"),""});
Komodo.Models.ContactPhoneNumber=Ember.Object.extend({init:function(){this.Id=void 0,this.type=void 0,this.contactValue=void 0,this.countryCode=void 0,this.isPrimary=void 0,this.isRemovable=void 0,this.contactDetailType=[],this.tabindexType=void 0,this.tabindexCountryCode=void 0,this.tabindexPhoneNumber=void 0,this.tabindexPhoneIsPrimary=void 0,this.tabindexRemovePhoneLink=void 0,this._super()}}),Komodo.Models.ContactEmailAddress=Ember.Object.extend({init:function(){this.Id=void 0,this.contactValue=void 0,this.isPrimary=void 0,this.isRemovable=void 0,this.tabindexEmail=void 0,this.tabindexEmailIsPrimary=void 0,this.tabindexRemoveEmailLink=void 0,this._super()}});
Ember.TEMPLATES.Identification=Ember.Handlebars.template(function(i,e,n,a,t){function o(i,e){var a;return e.buffer.push("\r\n\r\n  "),a=n.view.call(i,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(2,r,e),contexts:[i],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n\r\n  "),a=n.view.call(i,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(7,s,e),contexts:[i],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n\r\n\r\n\r\n\r\n  "),""}function r(i,e){var a;return e.buffer.push("\r\n  "),a=n.if.call(i,"view.parentView.parentView.identification.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(5,l,e),fn:v.program(3,d,e),contexts:[i],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n  "),e.buffer.push(h(n.view.call(i,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.identification.countryOrigin",label:"~locale.identificationControl:country~",validatorBinding:"view.parentView.parentView.validators.countryOriginValidator",tabindexBinding:"view.parentView.parentView._tabindexCountry",visibleBinding:"view.parentView.parentView.identification.isPassport",prompt:" ",contentBinding:"view.parentView.parentView._countries",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",disableBinding:"view.parentView.parentView.identification.disable"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING",visibleBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:i,label:i,validatorBinding:i,tabindexBinding:i,visibleBinding:i,prompt:i,contentBinding:i,optionLabelPath:i,optionValuePath:i,disableBinding:i},contexts:[i],types:["ID"],data:e}))),e.buffer.push("\r\n  "),""}function d(i,e){return e.buffer.push("\r\n  "),e.buffer.push(h(n.view.call(i,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.identification.idType",label:"~locale.identificationControl:type~",validatorBinding:"view.parentView.parentView.validators.idTypeValidator",tabindexBinding:"view.parentView.parentView._tabindexType",prompt:" ",contentBinding:"view.parentView.parentView._idType",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",disableBinding:"view.parentView.parentView.identification.disable"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:i,label:i,validatorBinding:i,tabindexBinding:i,prompt:i,contentBinding:i,optionLabelPath:i,optionValuePath:i,disableBinding:i},contexts:[i],types:["ID"],data:e}))),e.buffer.push("\r\n  "),""}function l(i,e){return e.buffer.push("\r\n  "),e.buffer.push(h(n.view.call(i,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.identification.idType",label:"~locale.identificationControl:type~",tabindexBinding:"view.parentView.parentView._tabindexType",prompt:" ",contentBinding:"view.parentView.parentView._idType",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",disableBinding:"view.parentView.parentView.identification.disable"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindexBinding:"STRING",prompt:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:i,label:i,tabindexBinding:i,prompt:i,contentBinding:i,optionLabelPath:i,optionValuePath:i,disableBinding:i},contexts:[i],types:["ID"],data:e}))),e.buffer.push("\r\n  "),""}function s(i,e){var a;return e.buffer.push("\r\n  "),a=n.if.call(i,"view.parentView.parentView.identification.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(10,u,e),fn:v.program(8,p,e),contexts:[i],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n  "),e.buffer.push(h(n.view.call(i,"Komodo.Controls.DatePicker",{hash:{valueBinding:"view.parentView.parentView.identification.expiryDate",label:"~locale.identificationControl:date~",validatorBinding:"view.parentView.parentView.validators.expiryDateValidator",tabindexBinding:"view.parentView.parentView._tabindexDate",visibleBinding:"view.parentView.parentView.identification.isPassport",disableBinding:"view.parentView.parentView.identification.disable"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING",visibleBinding:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:i,label:i,validatorBinding:i,tabindexBinding:i,visibleBinding:i,disableBinding:i},contexts:[i],types:["ID"],data:e}))),e.buffer.push("\r\n  "),e.buffer.push(h(n.view.call(i,"Komodo.Controls.DatePicker",{hash:{valueBinding:"view.parentView.parentView.identification.expiryDate",label:"~locale.identificationControl:date~",validatorBinding:"view.parentView.parentView.validators.expiryDateValidator",tabindexBinding:"view.parentView.parentView._tabindexDate",visibleBinding:"view.parentView.parentView.identification.isDriverLicense"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING",visibleBinding:"STRING"},hashContexts:{valueBinding:i,label:i,validatorBinding:i,tabindexBinding:i,visibleBinding:i},contexts:[i],types:["ID"],data:e}))),e.buffer.push("\r\n  "),""}function p(i,e){return e.buffer.push("\r\n  "),e.buffer.push(h(n.view.call(i,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.identification.value",label:"~locale.identificationControl:value~",validatorBinding:"view.parentView.parentView.validators.valueValidator",tabindexBinding:"view.parentView.parentView._tabindexValue",disableBinding:"view.parentView.parentView.identification.disable"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:i,label:i,validatorBinding:i,tabindexBinding:i,disableBinding:i},contexts:[i],types:["ID"],data:e}))),e.buffer.push("\r\n  "),""}function u(i,e){return e.buffer.push("\r\n  "),e.buffer.push(h(n.view.call(i,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.identification.value",label:"~locale.identificationControl:value~",validatorBinding:"view.parentView.parentView.validators.valueValidator",tabindexBinding:"view.parentView.parentView._tabindexValue",disableBinding:"view.parentView.parentView.identification.isIdentificationValueDisable"},hashTypes:{valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",tabindexBinding:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:i,label:i,validatorBinding:i,tabindexBinding:i,disableBinding:i},contexts:[i],types:["ID"],data:e}))),e.buffer.push("\r\n  "),""}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),t=t||{};var b,h=this.escapeExpression,v=this;return t.buffer.push("<div>\r\n  "),b=n.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(1,o,t),contexts:[e],types:["ID"],data:t}),(b||0===b)&&t.buffer.push(b),t.buffer.push("\r\n\r\n\r\n</div>"),""});
Komodo.Models.IdentificationModel=Ember.Object.extend({init:function(){this.idType=void 0,this.value=void 0,this.countryOrigin=void 0,this.expiryDate=void 0,this.isPassport=!1,this.isValidated=!1,this.disable=!1,this.oldValue=void 0,this.oldType=void 0,this.oldFname=void 0,this.oldLname=void 0,this.addressCountry=void 0,this.isLSOIdentityNumber=!1,this.isIdentificationNumberRequire=!0,this.isIdentificationValueDisable=!1,this.isDriverLicense=!1,this._super()}});
Ember.TEMPLATES.PaymentDetails=Ember.Handlebars.template(function(e,t,n,a,i){function s(e,t){var a;return t.buffer.push("\r\n"),a=n.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(2,o,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n"),a=n.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(6,d,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n"),""}function o(e,t){var a;return t.buffer.push("\r\n\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.RadioButtonGroup",{hash:{tabindex:"400",contentBinding:"view.parentView.parentView._paymentTypeList",label:"~locale.customer:customerInformation.methodOfPayment~",displayPath:"title",valuePath:"value",valueBinding:"view.parentView.parentView.paymentDetails.paymentType",disableBinding:"view.parentView.parentView.disableMOP"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",label:"STRING",displayPath:"STRING",valuePath:"STRING",valueBinding:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,label:e,displayPath:e,valuePath:e,valueBinding:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t"),a=n.if.call(e,"view.parentView.parentView._hideFinInfo",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(3,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n"),""}function r(e,t){var a;return t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"402",valueBinding:"view.parentView.parentView.paymentDetails.payerName",label:"~locale.customer:customerInformation.payerName~",validatorBinding:"validators.payerNameValidator",disableBinding:"view.parentView.parentView.disableCustomerPaymentDetails"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\t\t\r\n        "),a=n.if.call(e,"view.parentView.parentView._enableRealtimeAHVProcess",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(4,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\t\t\r\n        "),t.buffer.push(y(n.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.paymentDetails.bank",tabindex:"406",contentBinding:"view.parentView.parentView._banks",label:"~locale.customer:customerInformation.bank~",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" ",validatorBinding:"validators.bankValidator"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",contentBinding:"STRING",label:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,tabindex:e,contentBinding:e,label:e,optionLabelPath:e,optionValuePath:e,prompt:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.paymentDetails.accountNo",label:"~locale.customer:customerInformation.accountNumber~",tabindex:"408",validatorBinding:"validators.accountNoValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.TextField",{hash:{valueBinding:"view.parentView.parentView.paymentDetails.branchName.BranchCode",label:"~locale.customer:customerInformation.branchCodeText~",tabindex:"410",disabled:"true",validatorBinding:"validators.branchCodeTextValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",disabled:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,disabled:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t"),""}function l(e,t){return t.buffer.push("\t\t\r\n        "),t.buffer.push(y(n.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"404",valueBinding:"view.parentView.parentView.paymentDetails.contactValue",label:"~locale.customer:customerInformation.accountHolderPhoneNumber~",disableBinding:"view.parentView.parentView.disableCustomerPaymentDetails",validatorBinding:"validators.contactValueValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",disableBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,disableBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\t\t\r\n        "),""}function d(e,t){var a;return t.buffer.push("\r\n\t"),a=n.if.call(e,"view.parentView.parentView._hideFinInfo",{hash:{},hashTypes:{},hashContexts:{},inverse:V.program(14,c,t),fn:V.program(7,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n"),""}function p(e,t){var a;return t.buffer.push("\r\n\t\t<br/>\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"view.parentView.parentView.paymentDetails.payerIsCustomer",tabindex:"401",visibleBinding:"view.parentView.parentView.paymentDetails.enableCustNotAccHolder"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING",visibleBinding:"STRING"},hashContexts:{checkedBinding:e,tabindex:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("&nbsp;"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.customerPayer~",visibleBinding:"view.parentView.parentView.paymentDetails.enableCustNotAccHolder"},hashTypes:{text:"STRING",visibleBinding:"STRING"},hashContexts:{text:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" <br/> <br/>\r\n\t\t"),a=n.if.call(e,"view.parentView.parentView.paymentDetails.isIdentificationNumberRequire",{hash:{},hashTypes:{},hashContexts:{},inverse:V.program(10,u,t),fn:V.program(8,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\t\t"),a=n.if.call(e,"view.parentView.parentView._enableRealtimeAHVProcess",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(12,b,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\t\t\r\n        "),t.buffer.push(y(n.view.call(e,"Komodo.Controls.Select",{hash:{tabindex:"407",contentBinding:"view.parentView.parentView._accountTypes",optionLabelPath:"content.value",prompt:" ",label:"~locale.customer:customerInformation.accountType~",optionValuePath:"content.key",validatorBinding:"validators.accountTypeValidator",valueBinding:"view.parentView.parentView.paymentDetails.accountType"},hashTypes:{tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",prompt:"STRING",label:"STRING",optionValuePath:"STRING",validatorBinding:"STRING",valueBinding:"STRING"},hashContexts:{tabindex:e,contentBinding:e,optionLabelPath:e,prompt:e,label:e,optionValuePath:e,validatorBinding:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.paymentDetails.branchName",label:"~locale.customer:customerInformation.branchCode~",tabindex:"409",contentBinding:"view.parentView.parentView._bankBranches",optionLabelPath:"content.CanonicalValue",optionValuePath:"content",prompt:" ",validatorBinding:"validators.branchNameValidator"},hashTypes:{valueBinding:"STRING",label:"STRING",tabindex:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",validatorBinding:"STRING"},hashContexts:{valueBinding:e,label:e,tabindex:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.paymentDetails.debitOrderDay",tabindex:"411",labelBinding:"view.parentView.parentView._debitOrderDaylabel",prompt:" ",contentBinding:"view.parentView.parentView._debitOderDays",validatorBinding:"validators.debitOrderDayValidator",optionLabelPath:"content.value",optionValuePath:"content.key",disableBinding:"view.parentView.parentView.disableDebitOrderDay"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",labelBinding:"STRING",prompt:"STRING",contentBinding:"STRING",validatorBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:e,tabindex:e,labelBinding:e,prompt:e,contentBinding:e,validatorBinding:e,optionLabelPath:e,optionValuePath:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t"),""}function h(e,t){return t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"403",valueBinding:"view.parentView.parentView.paymentDetails.payerID",label:"~locale.customer:customerInformation.payerID~",validatorBinding:"validators.payerIDValidator",disableBinding:"view.parentView.parentView.disableCustomerPaymentDetails"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function u(e,t){return t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"403",valueBinding:"view.parentView.parentView.paymentDetails.payerID",label:"~locale.customer:customerInformation.payerID~",validatorBinding:"validators.payerIDValidator",disableBinding:"view.parentView.parentView.paymentDetails.isIdentificationValueDisable"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING",disableBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,validatorBinding:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t\t"),""}function b(e,t){return t.buffer.push("\t\t\r\n        "),t.buffer.push(y(n.view.call(e,"Komodo.Controls.TextField",{hash:{tabindex:"405",valueBinding:"view.parentView.parentView.paymentDetails.accountHolderEmailAddress",label:"~locale.customer:customerInformation.accountHolderEmailAddress~",disableBinding:"view.parentView.parentView.paymentDetails.disableAccountHolderEmailAddress",validatorBinding:"validators.accountHolderEmailAddressValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",disableBinding:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:e,valueBinding:e,label:e,disableBinding:e,validatorBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}function c(e,t){return t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.Select",{hash:{valueBinding:"view.parentView.parentView.paymentDetails.debitOrderDay",tabindex:"401",labelBinding:"view.parentView.parentView._debitOrderDaylabel",prompt:" ",contentBinding:"view.parentView.parentView._debitOderDays",validatorBinding:"validators.debitOrderDayValidator",optionLabelPath:"content.value",optionValuePath:"content.key",disableBinding:"view.parentView.parentView.disableDebitOrderDay"},hashTypes:{valueBinding:"STRING",tabindex:"STRING",labelBinding:"STRING",prompt:"STRING",contentBinding:"STRING",validatorBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:e,tabindex:e,labelBinding:e,prompt:e,contentBinding:e,validatorBinding:e,optionLabelPath:e,optionValuePath:e,disableBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t"),""}function f(e,t){var a;return t.buffer.push("\r\n\t"),a=n.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(17,v,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),a=n.view.call(e,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(24,T,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n"),""}function v(e,t){var a;return t.buffer.push("\r\n\t"),a=n.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(18,m,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\t"),a=n.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(21,g,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\t"),""}function m(e,t){var a;return t.buffer.push("\r\n"),a=n.if.call(e,"view.parentView.parentView._enableRealtimeAHVProcess",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(19,I,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.nonCompliant~",class:"customer-status-fraud-investigation",visibleBinding:"view.parentView.parentView.paymentDetails.nonAHVCompliant"},hashTypes:{text:"STRING",class:"STRING",visibleBinding:"STRING"},hashContexts:{text:e,class:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.compliant~",class:"customer-status-active",visibleBinding:"view.parentView.parentView.paymentDetails.ahvCompliant"},hashTypes:{text:"STRING",class:"STRING",visibleBinding:"STRING"},hashContexts:{text:e,class:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.override~",class:"customer-status-active",visibleBinding:"view.parentView.parentView.paymentDetails.ahvOverride"},hashTypes:{text:"STRING",class:"STRING",visibleBinding:"STRING"},hashContexts:{text:e,class:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n\t"),""}function I(e,t){return t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.ahvStatus~",visibleBinding:"view.parentView.parentView.isAHVCompliant"},hashTypes:{text:"STRING",visibleBinding:"STRING"},hashContexts:{text:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n"),""}function g(e,t){var a;return t.buffer.push("\r\n\t\t"),t.buffer.push(y(n.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.verifyBankingDetails~",visibleBinding:"view.parentView.parentView.paymentDetails.ahvRealtime"},hashTypes:{text:"STRING",visibleBinding:"STRING"},hashContexts:{text:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" \r\n\t\t"),a=n.view.call(e,"Komodo.Controls.Button",{hash:{action:"verifyBankingDetails",class:"btn-success",tabindex:"411",size:"xs",visibleBinding:"view.parentView.parentView.paymentDetails.ahvRealtime",disabledBinding:"view.parentView.parentView.paymentDetails.disabeAHVRealtime",target:"parentView.parentView.parentView"},hashTypes:{action:"STRING",class:"STRING",tabindex:"STRING",size:"STRING",visibleBinding:"STRING",disabledBinding:"STRING",target:"STRING"},hashContexts:{action:e,class:e,tabindex:e,size:e,visibleBinding:e,disabledBinding:e,target:e},inverse:V.noop,fn:V.program(22,w,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\t"),""}function w(e,t){var a,i;t.buffer.push(y((a=n.loc||e&&e.loc,i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.customer:customerInformation.submit",i):N.call(e,"loc","locale.customer:customerInformation.submit",i))))}function T(e,t){var a;return t.buffer.push("\r\n        "),a=n.view.call(e,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(25,x,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    "),""}function x(e,t){return t.buffer.push("\r\n            "),t.buffer.push(y(n.view.call(e,"Komodo.Controls.LabelField",{hash:{label:"Reason:",labelBinding:"view.parentView.parentView.paymentDetails.AHVError",visibleBinding:"view.parentView.parentView.paymentDetails.nonAHVCompliant"},hashTypes:{label:"STRING",labelBinding:"STRING",visibleBinding:"STRING"},hashContexts:{label:e,labelBinding:e,visibleBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var B,y=this.escapeExpression,V=this,N=n.helperMissing;return B=n.view.call(t,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(1,s,i),contexts:[t],types:["ID"],data:i}),(B||0===B)&&i.buffer.push(B),i.buffer.push("\r\n\r\n"),B=n.if.call(t,"view._hideFinInfo",{hash:{},hashTypes:{},hashContexts:{},inverse:V.noop,fn:V.program(16,f,i),contexts:[t],types:["ID"],data:i}),(B||0===B)&&i.buffer.push(B),i.buffer.push("\r\n\r\n    "),i.buffer.push(y(n.view.call(t,"Komodo.Controls.SupportingDocuments",{hash:{tabIndex:500},hashTypes:{tabIndex:"INTEGER"},hashContexts:{tabIndex:t},contexts:[t],types:["ID"],data:i}))),i.buffer.push("\r\n\r\n    "),i.buffer.push(y(n.view.call(t,"Komodo.Controls.SupervisorAuthentication",{hash:{tabIndex:600},hashTypes:{tabIndex:"INTEGER"},hashContexts:{tabIndex:t},contexts:[t],types:["ID"],data:i}))),i.buffer.push("\r\n"),""});
Komodo.Models.PaymentDetailsModel=Ember.Object.extend({init:function(){this.paymentType=void 0,this.debitOrderDay=void 0,this.accountNo=void 0,this.bank=void 0,this.branchName=void 0,this.payerName=void 0,this.payerID=void 0,this.payerIsCustomer=void 0,this.allowSupervisorAuthentication=!1,this.allowDocumentUploads=!1,this.disableAddDeleteDocuments=!1,this.enableCustNotAccHolder=!1,this.contactType=void 0,this.contactValue=void 0,this.countryCode=void 0,this.accountHolderEmailAddress=void 0,this.ahvRealtime=void 0,this.ahvCompliant=!1,this.nonAHVCompliant=!1,this.ahvOverride=!1,this.disabeAHVRealtime=!1,this.rejectAHV=!1,this.identificationType=void 0,this.disableAccountHolderEmailAddress=!1,this.supervisorValidator=!1,this.isIdentificationValueDisable=!1,this.isIdentificationNumberRequire=!0,this.AHVError="",this._super()}});
Ember.TEMPLATES.SupervisorAuthentication=Ember.Handlebars.template(function(t,e,a,o,n){function s(t,e){var o;return e.buffer.push("\r\n\t<hr/>\r\n\t"),e.buffer.push(I(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.supervisorAuthentication~",class:"sub-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n    <br/>\r\n    <br/>\r\n\t"),o=a.if.call(t,"view.isAuthenticated",{hash:{},hashTypes:{},hashContexts:{},inverse:T.program(12,c,e),fn:T.program(2,r,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t<br/>\r\n\t<br/>\r\n"),""}function r(t,e){var o;return e.buffer.push("\r\n\t\t"),o=a.view.call(t,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(3,i,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push('\r\n\t\t<br/>\r\n\t\t<div style="float:right;">\r\n\t\t\t'),o=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"overrideAHV",tabindex:"602",target:"parentView",disableBinding:"view.disableOverrideAHV"},hashTypes:{action:"STRING",tabindex:"STRING",target:"STRING",disableBinding:"STRING"},hashContexts:{action:t,tabindex:t,target:t,disableBinding:t},inverse:T.noop,fn:T.program(8,l,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t\t\t"),o=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"rejectAHV",tabindex:"603",type:"danger",target:"parentView"},hashTypes:{action:"STRING",tabindex:"STRING",type:"STRING",target:"STRING"},hashContexts:{action:t,tabindex:t,type:t,target:t},inverse:T.noop,fn:T.program(10,p,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t\t</div>\r\n\t"),""}function i(t,e){var o;return e.buffer.push("\r\n\t\t"),o=a.view.call(t,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(4,h,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t\t"),o=a.view.call(t,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(6,u,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t\t"),""}function h(t,e){return e.buffer.push("\r\n\t\t\t"),e.buffer.push(I(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.supervisorName~",class:"info-heading"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:t,class:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n\t\t\t<br/>\r\n\t\t\t"),e.buffer.push(I(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"view.parentView.parentView.model.supervisorUsername"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n\t\t\t<br/>\r\n\t\t"),""}function u(t,e){return e.buffer.push("\r\n\t\t\t"),e.buffer.push(I(a.view.call(t,"Komodo.Controls.CoreCheckbox",{hash:{checkedBinding:"view.parentView.parentView.model.acceptDocumentation",tabindex:"601"},hashTypes:{checkedBinding:"STRING",tabindex:"STRING"},hashContexts:{checkedBinding:t,tabindex:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push(I(a.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.customer:customerInformation.acceptDocumentation~"},hashTypes:{text:"STRING"},hashContexts:{text:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n\t\t"),""}function l(t,e){var o,n;e.buffer.push(I((o=a.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:e},o?o.call(t,"locale.customer:customerInformation.overrideAHV",n):y.call(t,"loc","locale.customer:customerInformation.overrideAHV",n))))}function p(t,e){var o,n;e.buffer.push(I((o=a.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:e},o?o.call(t,"locale.customer:customerInformation.rejectAHV",n):y.call(t,"loc","locale.customer:customerInformation.rejectAHV",n))))}function c(t,e){var o;return e.buffer.push("\r\n\t\t"),o=a.view.call(t,"Komodo.Controls.ColumnLayoutView",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(13,f,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push('\r\n\t\t<br/>\r\n\t\t<div style="float:right;">\r\n\t\t\t'),o=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"authenticate",tabindex:"606",target:"parentView"},hashTypes:{action:"STRING",tabindex:"STRING",target:"STRING"},hashContexts:{action:t,tabindex:t,target:t},inverse:T.noop,fn:T.program(18,m,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t\t\t"),o=a.view.call(t,"Komodo.Controls.Button",{hash:{action:"clear",tabindex:"607",type:"inverse",target:"parentView"},hashTypes:{action:"STRING",tabindex:"STRING",type:"STRING",target:"STRING"},hashContexts:{action:t,tabindex:t,type:t,target:t},inverse:T.noop,fn:T.program(20,x,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t\t</div>\r\n\t"),""}function f(t,e){var o;return e.buffer.push("\r\n\t\t"),o=a.view.call(t,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(14,d,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t\t"),o=a.view.call(t,"Komodo.Controls.ColumnView",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(16,b,e),contexts:[t],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("\r\n\t\t"),""}function d(t,e){return e.buffer.push("\r\n\t\t\t"),e.buffer.push(I(a.view.call(t,"Komodo.Controls.TextField",{hash:{tabindex:"604",valueBinding:"view.parentView.parentView.model.supervisorUsername",label:"~locale.customer:customerInformation.supervisorName~",validatorBinding:"view.parentView.parentView.validators.supervisorUsernameValidator"},hashTypes:{tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{tabindex:t,valueBinding:t,label:t,validatorBinding:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n\t\t"),""}function b(t,e){return e.buffer.push("\r\n\t\t\t"),e.buffer.push(I(a.view.call(t,"Komodo.Controls.TextField",{hash:{type:"password",tabindex:"605",valueBinding:"view.parentView.parentView.model.passCode",label:"~locale.customer:customerInformation.supervisorpassword~",validatorBinding:"view.parentView.parentView.validators.passCodeValidator"},hashTypes:{type:"STRING",tabindex:"STRING",valueBinding:"STRING",label:"STRING",validatorBinding:"STRING"},hashContexts:{type:t,tabindex:t,valueBinding:t,label:t,validatorBinding:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n\t\t"),""}function m(t,e){var o,n;e.buffer.push(I((o=a.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:e},o?o.call(t,"locale.customer:customerInformation.authenticate",n):y.call(t,"loc","locale.customer:customerInformation.authenticate",n))))}function x(t,e){var o,n;e.buffer.push(I((o=a.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:e},o?o.call(t,"locale.customer:customerInformation.clear",n):y.call(t,"loc","locale.customer:customerInformation.clear",n))))}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),n=n||{};var v,I=this.escapeExpression,T=this,y=a.helperMissing;v=a.if.call(e,"view.parentView.paymentDetails.allowSupervisorAuthentication",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(1,s,n),contexts:[e],types:["ID"],data:n}),v||0===v?n.buffer.push(v):n.buffer.push("")});
Komodo.Models.SupervisorAuthenticationModel=Ember.Object.extend({init:function(){this.supervisorUsername="",this.passCode="",this.acceptDocumentation=!1,this._super()}});
Ember.TEMPLATES.SupportingDocuments=Ember.Handlebars.template(function(e,t,s,a,o){function n(e,t){t.buffer.push("\r\n\t<hr/>\r\n")}function r(e,t){var a,o;return t.buffer.push("\r\n"),t.buffer.push(f((a=s.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerDocument.addDocuments",o):d.call(e,"loc","locale.commercialcustomer:customerDocument.addDocuments",o)))),t.buffer.push("\r\n"),""}function c(e,t){var a,o,n;return t.buffer.push('\r\n    <br/>\r\n    <br/>\r\n    <table class="table table-bordered komodo-datagrid">\r\n      <thead>\r\n        <tr>\r\n          <th width="30%">'),t.buffer.push(f((o=s.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.commercialcustomer:customerDocument.document",n):d.call(e,"loc","locale.commercialcustomer:customerDocument.document",n)))),t.buffer.push('</th>\r\n          <th width="20%">'),t.buffer.push(f((o=s.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.commercialcustomer:customerDocument.type",n):d.call(e,"loc","locale.commercialcustomer:customerDocument.type",n)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(f((o=s.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.commercialcustomer:customerDocument.size",n):d.call(e,"loc","locale.commercialcustomer:customerDocument.size",n)))),t.buffer.push("</th>\r\n\t\t\t"),a=s.if.call(e,"showSerialNumber",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(6,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\r\n          <th width="10%">'),t.buffer.push(f((o=s.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.commercialcustomer:customerDocument.percentage",n):d.call(e,"loc","locale.commercialcustomer:customerDocument.percentage",n)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(f((o=s.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.commercialcustomer:customerDocument.status",n):d.call(e,"loc","locale.commercialcustomer:customerDocument.status",n)))),t.buffer.push('</th>\r\n          <th width="10%">'),t.buffer.push(f((o=s.loc||e&&e.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},o?o.call(e,"locale.commercialcustomer:customerDocument.actions",n):d.call(e,"loc","locale.commercialcustomer:customerDocument.actions",n)))),t.buffer.push("</th>\r\n        </tr>\r\n      </thead>\r\n      "),a=s.each.call(e,"row","in","customerDataModel.customerDocuments",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(8,h,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n    </table>\r\n"),""}function l(e,t){var a,o;return t.buffer.push('\r\n          <th width="10%">'),t.buffer.push(f((a=s.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerDocument.serialNumber",o):d.call(e,"loc","locale.commercialcustomer:customerDocument.serialNumber",o)))),t.buffer.push("</th>\r\n\t\t\t"),""}function h(e,t){var a;return t.buffer.push("\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            "),t.buffer.push(f(s.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"row.documentName"},hashTypes:{textBinding:"STRING"},hashContexts:{textBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),t.buffer.push(f(s.view.call(e,"Komodo.Controls.CoreSelect",{hash:{valueBinding:"row.documentType",contentBinding:"row.documentTypes",optionLabelPath:"content.value",optionValuePath:"content.value",prompt:" ",disabledBinding:"view.parentView.paymentDetails.disableAddDeleteDocuments",tabindex:"91",class:"komodo-grid-edit"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",disabledBinding:"STRING",tabindex:"STRING",class:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e,disabledBinding:e,tabindex:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=s._triageMustache.call(e,"row.documentSize",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n\t\t\t"),a=s.if.call(e,"showSerialNumber",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(9,u,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          <td>\r\n            "),a=s._triageMustache.call(e,"row.uploadPercentage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n          <td>\r\n            "),a=s._triageMustache.call(e,"row.uploadStatus",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n          <td>\r\n\t\t\t"),a=s.view.call(e,"Komodo.Controls.Button",{hash:{action:"viewDocument",target:"parentView",size:"xs",tabindex:"93"},hashTypes:{action:"STRING",target:"STRING",size:"STRING",tabindex:"STRING"},hashContexts:{action:e,target:e,size:e,tabindex:e},inverse:b.noop,fn:b.program(11,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n\t\t\t"),a=s.view.call(e,"Komodo.Controls.Button",{hash:{action:"removeDocument",target:"parentView",size:"xs",type:"danger",tabindex:"94",disabledBinding:"view.parentView.paymentDetails.disableAddDeleteDocuments"},hashTypes:{action:"STRING",target:"STRING",size:"STRING",type:"STRING",tabindex:"STRING",disabledBinding:"STRING"},hashContexts:{action:e,target:e,size:e,type:e,tabindex:e,disabledBinding:e},inverse:b.noop,fn:b.program(13,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      "),""}function u(e,t){return t.buffer.push("\r\n          <td>\r\n            "),t.buffer.push(f(s.view.call(e,"Komodo.Controls.CoreSelect",{hash:{valueBinding:"row.documentSerialNumber",contentBinding:"row.documentSerialNumbers",optionLabelPath:"content.value",optionValuePath:"content.value",prompt:" ",tabindex:"92",class:"komodo-grid-edit"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",tabindex:"STRING",class:"STRING"},hashContexts:{valueBinding:e,contentBinding:e,optionLabelPath:e,optionValuePath:e,prompt:e,tabindex:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n          </td>\r\n\t\t\t"),""}function i(e,t){var a,o;return t.buffer.push("\r\n            "),t.buffer.push(f((a=s.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerDocument.view",o):d.call(e,"loc","locale.commercialcustomer:customerDocument.view",o)))),t.buffer.push("\r\n            "),""}function p(e,t){var a,o;return t.buffer.push("\r\n            "),t.buffer.push(f((a=s.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"locale.commercialcustomer:customerDocument.delete",o):d.call(e,"loc","locale.commercialcustomer:customerDocument.delete",o)))),t.buffer.push("\r\n            "),""}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),o=o||{};var m,d=s.helperMissing,f=this.escapeExpression,b=this;return m=s.if.call(t,"view.parentView.paymentDetails.allowDocumentUploads",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(1,n,o),contexts:[t],types:["ID"],data:o}),(m||0===m)&&o.buffer.push(m),o.buffer.push("\r\n"),o.buffer.push(f(s.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.commercialcustomer:customerDocument.supportDocuments~",isVisibleBinding:"view.parentView.paymentDetails.allowDocumentUploads",class:"sub-heading"},hashTypes:{text:"STRING",isVisibleBinding:"STRING",class:"STRING"},hashContexts:{text:t,isVisibleBinding:t,class:t},contexts:[t],types:["ID"],data:o}))),o.buffer.push("\r\n<br/>\r\n<br/>\r\n"),m=s.view.call(t,"Komodo.Controls.Button",{hash:{id:"pickfiles",tabindex:"90",isVisibleBinding:"view.parentView.paymentDetails.allowDocumentUploads",disabledBinding:"view.parentView.paymentDetails.disableAddDeleteDocuments"},hashTypes:{id:"STRING",tabindex:"STRING",isVisibleBinding:"STRING",disabledBinding:"STRING"},hashContexts:{id:t,tabindex:t,isVisibleBinding:t,disabledBinding:t},inverse:b.noop,fn:b.program(3,r,o),contexts:[t],types:["ID"],data:o}),(m||0===m)&&o.buffer.push(m),o.buffer.push("\r\n"),m=s.if.call(t,"view.parentView.paymentDetails.allowDocumentUploads",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(5,c,o),contexts:[t],types:["ID"],data:o}),(m||0===m)&&o.buffer.push(m),""});
Komodo.Models.SupportingDocumentsModel=Ember.Object.extend({init:function(){this._super()}});
Ember.TEMPLATES.ErrorCodesView=Ember.Handlebars.template(function(e,o,n,r,a){function s(e,o){var r,a;return o.buffer.push(i((r=n.loc||e&&e.loc,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:o},r?r.call(e,"locale.customer:common.clearErrors",a):l.call(e,"loc","locale.customer:common.clearErrors",a)))),o.buffer.push("  "),""}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var t,l=n.helperMissing,i=this.escapeExpression,c=this;return a.buffer.push('<div id="clearErrorCode" class="komodo-search-field">\r\n  '),a.buffer.push(i(n.view.call(o,"Komodo.Controls.CoreTextField",{hash:{id:"SearchField_error",valueBinding:"errorCodesModel.serialNumber",placeholder:"placeholder",label:"Search Text"},hashTypes:{id:"STRING",valueBinding:"STRING",placeholder:"ID",label:"STRING"},hashContexts:{id:o,valueBinding:o,placeholder:o,label:o},contexts:[o],types:["ID"],data:a}))),a.buffer.push("\r\n  "),a.buffer.push(i(n.view.call(o,"Komodo.Controls.CoreSelect",{hash:{valueBinding:"errorCodesModel.errorReasonCode",optionLabelPath:"content.CanonicalValue",optionValuePath:"content.CanonicalKey",contentBinding:"getErrorCodes",class:"error-dropdown",selectionBinding:"_selectBind"},hashTypes:{valueBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",contentBinding:"STRING",class:"STRING",selectionBinding:"STRING"},hashContexts:{valueBinding:o,optionLabelPath:o,optionValuePath:o,contentBinding:o,class:o,selectionBinding:o},contexts:[o],types:["ID"],data:a}))),a.buffer.push("\r\n  "),t=n.view.call(o,"Komodo.Controls.Button",{hash:{size:"nextto-control",action:"clearErrors"},hashTypes:{size:"STRING",action:"STRING"},hashContexts:{size:o,action:o},inverse:c.noop,fn:c.program(1,s,a),contexts:[o],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),a.buffer.push("\r\n</div>"),""});
var ColumnHeaderForExportConfiguration={BasicConfiguration:{CustomerHistory:[{Field:"Id",Value:"valueId"},{Field:"CreateDateTime",Value:"valueCreateDateTime"},{Field:"UserName",Value:"valueUserName"},{Field:"ProductName",Value:"valueProductName"},{Field:"EventId",Value:"valueEventId"},{Field:"EventName",Value:"valueEventName"},{Field:"RealDateTime",Value:"valueIdRealDateTime"},{Field:"RequestedByUserName",Value:"valueRequestedByUserName"},{Field:"===",Value:"valueseparator"}],CustomerHistoryAPI:[{ApiName:"apiName",FileName:"fileName",FileFormat:"fileFormat"}],CaseHistory:[{Field:"fieldCustomerUID",Value:"valueCustomerUID"},{Field:"fieldUID",Value:"valueUID"},{Field:"fieldModifiedDate",Value:"valueModifiedDate"},{Field:"fieldCaseOwner",Value:"valueCaseOwner"},{Field:"fieldNotes",Value:"valueNotes"},{Field:"fieldStatus",Value:"valueStatus"},{Field:"fieldSeparator",Value:"valueSeparator"}],CaseHistoryApi:[{ApiName:"apiName",FileName:"fileName",FileFormat:"fileFormat"}],CustomerAnalysisBillable:[{Field:"fieldCreationDate",Value:"valueCreationDate"},{Field:"fieldTransactionType",Value:"valueTransactionType"},{Field:"fieldProduct",Value:"valueProduct"},{Field:"fieldLedgerAccountDescription",Value:"valueLedgerAccountDescription"},{Field:"fieldPeriodFrom",Value:"valuePeriodFrom"},{Field:"fieldPeriodTo",Value:"valuePeriodTo"},{Field:"fieldAmount",Value:"valueAmount"},{Field:"fieldRunningTotal",Value:"valueRunningTotal"},{Field:"fieldHistoryNumber",Value:"valueHistoryNumber"},{Field:"fieldUserName",Value:"valueUserName"},{Field:"fieldEventId",Value:"valueEventId"},{Field:"fieldEventName",Value:"valueEventName"},{Field:"fieldMessage",Value:"valueMessage"},{Field:"fieldMessageTrackingId",Value:"valueMessageTrackingId"},{Field:"fieldseparator",Value:"valueseparator"}],CustomerAnalysisAll:[{Field:"fieldCreationDate",Value:"valueCreationDate"},{Field:"fieldHistoryNumber",Value:"valueHistoryNumber"},{Field:"fieldUserName",Value:"valueUserName"},{Field:"fieldProduct",Value:"valueProduct"},{Field:"fieldEventId",Value:"valueEventId"},{Field:"fieldEventName",Value:"valueEventName"},{Field:"fieldTransactionType",Value:"valueTransactionType"},{Field:"fieldLedgerAccountDescription",Value:"valueLedgerAccountDescription"},{Field:"fieldPeriodFrom",Value:"valuePeriodFrom"},{Field:"fieldPeriodTo",Value:"valuePeriodTo"},{Field:"fieldAmount",Value:"valueAmount"},{Field:"fieldRunningTotal",Value:"valueRunningTotal"},{Field:"fieldMessage",Value:"valueMessage"},{Field:"fieldMessageTrackingId",Value:"valueMessageTrackingId"},{Field:"fieldseparator",Value:"valueseparator"}],CustomerAnalysisAPI:[{ApiName:"apiName",FileName:"fileName",FileFormat:"fileFormat"}]}};
var CustomerStatusChangeConfigurationForSA={BasicConfiguration:{AllowedCustomerStatuses:[{CanonicalKey:"1",CanonicalValue:"Active"},{CanonicalKey:"13",CanonicalValue:"Fraud Investigation"}]},ManageStatuses:{RulesForStatusChange:[{CanonicalKey:"1",ChangeToKey:["13"],Permission:"canCustomerStatusChangeActiveToFraudInv"},{CanonicalKey:"1",ChangeToKey:["5"],Permission:"canCustomerStatusChangeActiveToFraud"},{CanonicalKey:"1",ChangeToKey:["11"],Permission:"canCustomerStatusChangeActiveToDeceased"},{CanonicalKey:"1",ChangeToKey:["12"],Permission:"canCustomerStatusChangeActiveToEmigrated"},{CanonicalKey:"13",ChangeToKey:["5"],Permission:"canCustomerStatusChangeFraudInvestigationToFraud"},{CanonicalKey:"13",ChangeToKey:["1"],Permission:"canCustomerStatusChangeFraudInvestigationToActive"}]}},CustomerStatusChangeConfigurationForAfrica={BasicConfiguration:{AllowedCustomerStatuses:[{CanonicalKey:"1",CanonicalValue:"Active"},{CanonicalKey:"13",CanonicalValue:"Fraud Investigation"},{CanonicalKey:"17",CanonicalValue:"Piracy Investigation"},{CanonicalKey:"6",CanonicalValue:"Bad Debt Write-off"}]},ManageStatuses:{RulesForStatusChange:[{CanonicalKey:"1",ChangeToKey:["13"],Permission:"canCustomerStatusChangeActiveToFraudInv"},{CanonicalKey:"1",ChangeToKey:["5"],Permission:"canCustomerStatusChangeActiveToFraud"},{CanonicalKey:"1",ChangeToKey:["11"],Permission:"canCustomerStatusChangeActiveToDeceased"},{CanonicalKey:"1",ChangeToKey:["12"],Permission:"canCustomerStatusChangeActiveToEmigrated"},{CanonicalKey:"1",ChangeToKey:["16"],Permission:"canCustomerStatusChangeActiveToPiracy"},{CanonicalKey:"1",ChangeToKey:["17"],Permission:"canCustomerStatusChangeActiveToPiracyInvestigation"},{CanonicalKey:"1",ChangeToKey:["6"],Permission:"canCustomerStatusChangeActiveToBadDebt"},{CanonicalKey:"13",ChangeToKey:["5"],Permission:"canCustomerStatusChangeFraudInvestigationToFraud"},{CanonicalKey:"13",ChangeToKey:["1"],Permission:"canCustomerStatusChangeFraudInvestigationToActive"},{CanonicalKey:"17",ChangeToKey:["1"],Permission:"canCustomerStatusChangePiracyInvestigationToActive"},{CanonicalKey:"6",ChangeToKey:["1"],Permission:"canCustomerStatusChangeBadDebtToActive"},{CanonicalKey:"17",ChangeToKey:["16"],Permission:"canCustomerStatusChangePiracyInvestigationToPiracy"}]}};
function GetCustomerTypesConstants(constantType,constantName){switch(Komodo.Services.queryService.getSelectedCountryId()){case void 0:case null:case"":return eval("Komodo."+constantType+".default."+constantName);default:try{return void 0!==eval("Komodo."+constantType+"."+Komodo.Services.queryService.getSelectedCountryId()+"."+constantName)?eval("Komodo."+constantType+"."+Komodo.Services.queryService.getSelectedCountryId()+"."+constantName):eval("Komodo."+constantType+".default."+constantName)}catch(err){return eval("Komodo."+constantType+".default."+constantName)}}}Komodo.AccountTypes=Ember.Namespace.create({DSTV_RES:"3",GOTV_RES:"7",BOX_OFFICE:"9",DDCC:"10",HOLIDAY_HOME:"13",DSTV_COMM:"11",DMX:"14",PAYMENT_PLAN:"15"}),Komodo.ChargePeriod=Ember.Namespace.create({MONTHLY:"1",ANNUALLY:"12"}),Komodo.DunningLevel=Ember.Namespace.create({OVERDUE_FIRST:"61",OVERDUE_SECOND:"62"}),Komodo.IVRConfiguration=Ember.Namespace.create({documentType:"customerprofile",PageFrom:0,SearchEntity:"Customer",highlightSearchResult:{cssClass:"search-highlight",htmlTag:"span"}}),Komodo.MOP=Ember.Namespace.create({DEBIT_ORDER:"2",CASH:"1",PAYROLL:"6",AHV_PENDING:"7"}),Komodo.OperationalCommunicationStatus=Ember.Namespace.create({Draft:"1",Inactive:"2",Active:"3",Removed:"4"}),Komodo.OperationalCommunicationStatusReason=Ember.Namespace.create({Create:"1",SentForApproval:"2",Approved:"3",ScheduledForExecution:"4",Rejected:"5",Updated:"6",RemovedFromExecution:"7"}),Komodo.MOPCollection=Ember.Namespace.create({MOP_DEBITORDER:{value:"2",title:"Debit Order"},MOP_CASH:{value:"1",title:"Cash"}}),Komodo.DefaultCurrencyQualifier=Ember.Namespace.create({nam:{QUALIFIER:"NAD"},zaf:{QUALIFIER:"ZAR"},ken:{QUALIFIER:"KES"},zmb:{QUALIFIER:"ZMW"},nga:{QUALIFIER:"NGN"},gha:{QUALIFIER:"GHS"},zwe:{QUALIFIER:"USD"},tza:{QUALIFIER:"TZS"},moz:{QUALIFIER:"MZN"},uga:{QUALIFIER:"UGX"},bwa:{QUALIFIER:"BWP"},mwi:{QUALIFIER:"MWK"},eth:{QUALIFIER:"ETB"},swz:{QUALIFIER:"SZL"},cod:{QUALIFIER:"CDF"},mus:{QUALIFIER:"MUR"}}),Komodo.CountryDescription=Ember.Namespace.create({KENYA:"Kenya",ZAMBIA:"Zambia",NAMIBIA:"Namibia"}),Komodo.AgreementTypes=Ember.Namespace.create({GENERAL:"1",HOLIDAY_HOME:"13",BOX_OFFICE:"12",EMPLOYEE:"18",DCC:"20",PAYMENT_PLAN:"16",SHOWMAX:"21"}),Komodo.AccountStatus=Ember.Namespace.create({OPEN:"6",SUSPENDED:"4"}),Komodo.AccountStatusAllowed=Ember.Namespace.create({zaf:{OPEN:"6",SUSPENDED:"4",OVERDUE:"9",DISCONNECTED:"7"},nam:{OPEN:"6",SUSPENDED:"4"},ken:{OPEN:"6",SUSPENDED:"4"},zmb:{OPEN:"6",SUSPENDED:"4"},nga:{OPEN:"6",SUSPENDED:"4"},gha:{OPEN:"6",SUSPENDED:"4"},zwe:{OPEN:"6",SUSPENDED:"4"},tza:{OPEN:"6",SUSPENDED:"4"},moz:{OPEN:"6",SUSPENDED:"4"},uga:{OPEN:"6",SUSPENDED:"4"},mwi:{OPEN:"6",SUSPENDED:"4"},bwa:{OPEN:"6",SUSPENDED:"4"},eth:{OPEN:"6",SUSPENDED:"4"},swz:{OPEN:"6",SUSPENDED:"4"},cod:{OPEN:"6",SUSPENDED:"4"},mus:{OPEN:"6",SUSPENDED:"4"}}),Komodo.AccountStatusNotAllowed=Ember.Namespace.create({zaf:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"0",PIRACY:"0",DISCONNECTED:"0",FRAUDULENT:"8"},nam:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},ken:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},zmb:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},nga:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},gha:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},zwe:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},tza:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},moz:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},uga:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},mwi:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},bwa:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},eth:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},swz:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},cod:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"},mus:{BADDEBTWRITEOFF:"3",CANCELLED:"10",CLOSED:"5",DOUBTFULDEBT:"11",OVERDUE:"9",PIRACY:"1",DISCONNECTED:"7",FRAUDULENT:"8"}}),Komodo.MethodOfPayment=Ember.Namespace.create({CASH:"1",CURRENT:"2",SAVINGS:"3",TRANSMISSION:"4",DO_CREDITCARD:"5",PAYROLL:"6",AHV_PENDING:"7"}),Komodo.DocumentTypeEnum=Ember.Namespace.create({OIINVOICE:"commercialinvoice",OISTATEMENT:"commercialstatement",COMMERCIALBBFSTATEMENT:"commercialstatement",RESIDENTIALBBFSTATEMENT:"residentialstatement",BBFINVOICE:"residentialinvoice",TRANSHISTORY:"transhistory",NATIONALDEAL:"Natbbfstatement"}),Komodo.DocumentTypeEnumForSA=Ember.Namespace.create({OIINVOICE:"CommOIInvoice",OISTATEMENT:"CommOIStatement",COMMERCIALBBFSTATEMENT:"CommBBFStatement",RESIDENTIALBBFSTATEMENT:"ResBBFStatement",OIINVOICECOPY:"CommOIInvoiceCopy",BBFINVOICE:"ResBBFInvoice",TRANSHISTORY:"TransHistory",NATIONALDEAL:"Natbbfstatement"}),Komodo.DocumentDateType=Ember.Namespace.create({nam:{FIRSTVALIDDATE:"2016-04-01"},zaf:{FIRSTVALIDDATE:"2015-07-13"}}),Komodo.RefundDocumentType=Ember.Namespace.create({zaf:{COPY_OF_ID:"Copy of ID",COPY_OF_PASSPORT:"Copy of Passport",BANK_STATEMENT:"Bank Statement",PROOF_OF_PAYMENT:"Proof of Payment",THIRD_PARTY_DEDUCTION_AUTHORISATION_FORM:"Third Party Deduction Authorisation Form"}}),Komodo.RefundConfig=Ember.Namespace.create({zaf:{REQUEST_STATUS:"Pending",TRANSACTION_TYPE:"Refunds",LEDGER_ACCOUNT:"Refunds"}}),Komodo.TransactionStatus=Ember.Namespace.create({zaf:{REJECTED:"Rejected",APPROVED:"Approved"}}),Komodo.CustomerTypesConstants=Ember.Namespace.create({nam:{TEST:"77777"},zaf:{TEST:"777777",CUSTOMERCLASS_NATIONALDEAL:"9",CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",EMPLOYEETHIRDPARTY_IP_DAY:"1"},ken:{CUSTOMERCLASS_NATIONALDEAL:"9",CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1"},zmb:{CUSTOMERCLASS_NATIONALDEAL:"9",CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},nga:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},gha:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},zwe:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},tza:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},moz:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},uga:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},bwa:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},mwi:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},eth:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},swz:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},cod:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},mus:{CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEFAULT_IP_DAY:"1"},default:{VIP:"7",DIPLOMAT:"9",SHAREHOLDERS:"8",EMPLOYEE:"6",SALES_PROMOTERS:"13",INTERNAL_DEMO:"12",EXTERNAL_DEMO:"10",PANELIST:"32",FIELD_TRIALS:"38",RESIDENTIAL_CUSTOMER_CANONICAL_CODE:"2",CUSTOMERCLASS_NATIONALDEAL:"9",CUSTOMERCLASS_CSI:"4",CUSTOMERCLASS_SPECIALIST:"3",CUSTOMERCLASS_RESIDENTIAL:"2",CUSTOMERCLASS_COMMERCIAL:"1",DEALER:"6",MULTICHOICE:"35",NASPERS:"37",AGENCIES:"36",MULTICHOICE_IP_DAY:"23",NASPERS_IP_DAY:"25",AGENCIES_IP_DAY:"1",MCA_TEMPORARY:"108",RETRENCHEE:"96",EMPLOYEE_RELATED:"39",LEARNERSHIP:"82",TEMPORARY:"99",THIRD_PARTY_TEMPORARY:"109",AGENCY:"74",FAMILY_MEMBER:"21",CUSTOMERTYPE_MULTICHOICE:"35",CUSTOMERTYPE_NASPERS:"37",THIRD_PARTY:"36",MONITORING:"1",FAXALLOWED:!1}}),Komodo.BoxTypes=Ember.Namespace.create({PO_BOX:"PO Box",SUITE:"Suite",PRIVATE_BAG:"Private Bag",Suite_PrivateBag:"Suite & Private Bag"}),Komodo.DebitOrder=Ember.Namespace.create({ADHOC_PAYMENT_LIMIT:17e3,ADHOC_COMMERCIAL_PAYMENT_LIMIT:5e4,ADHOC_REQUEST_SUBMIT_TIME_LIMIT:"03.00",ADHOC_SUCCESS_INTERACTION_CATEGORY:5,ADHOC_SUCCESS_INTERACTION_SUBCATEGORY:133,ADHOC_SUCCESS_INTERACTION_OUTCOME:215,ADHOC_FAIL_INTERACTION_OUTCOME:216,ADHOC_PENDING_INTERACTION_OUTCOME:217,ADHOC_SUCCESS_INTERACTION_STATUS:1,ADHOC_SUCCESS_INTERACTION_INTERACTIONMEDIUM:1,ADHOC_COMMERCIAL_PAYMORE_LIMIT:6e4,ADHOC_RESIDENTIAL_PAYMORE_LIMIT:20400,ADHOC_AHVVERIFIED_INTERACTION_OUTCOME:843,ADHOC_AHVREJECTED_INTERACTION_OUTCOME:842,ADHOC_AHVVerified_INTERACTION_OUTCOME:744,ADHOC_AHVNotVerified_INTERACTION_OUTCOME:745}),Komodo.CustomerValidationsConstants=Ember.Namespace.create({nam:{IDNUMBERMIN:"11",IDNUMBERMAX:"13",EMPLOYEENOMAX:"7",EMPLOYEENOVALIDATOR:"Komodo.UI.Validators.numericValidator"},zaf:{IDNUMBERMIN:"8",IDNUMBERMAX:"13",EMPLOYEENOMAX:"10",EMPLOYEENOVALIDATOR:"Komodo.UI.Validators.alphanumericValidator",LSO_ID_MIN:"12",LSO_ID_MAX:"12",PASSPORT_MIN:"7",PASSPORT_MAX:"10",ACCOUNTHOLDERID_MIN:"7",ACCOUNTHOLDERID_MAX:"20",COMMERCIAL_ACCOUNTHOLDERID_MIN:"8",COMMERCIAL_ACCOUNTHOLDERID_MAX:"50"},zmb:{IDNUMBERMIN:"7",IDNUMBERMAX:"10",PASSPORT_MIN:"7",PASSPORT_MAX:"9"},nga:{DRIVERS_LICENSE_MIN:"10",DRIVERS_LICENSE_MAX:"14",VOTER_ID_MIN:"8",VOTER_ID_MAX:"10",NATIONAL_ID_MIN:"10",NATIONAL_ID_MAX:"12",PASSPORT_MIN:"8",PASSPORT_MAX:"10"},gha:{DRIVERS_LICENSE_MIN:"14",DRIVERS_LICENSE_MAX:"28",VOTER_ID_MIN:"10",VOTER_ID_MAX:"28",NATIONAL_ID_MIN:"15",NATIONAL_ID_MAX:"28",PASSPORT_MIN:"8",PASSPORT_MAX:"28",NATIONAL_INSURANCE_ID_MIN:"8",NATIONAL_INSURANCE_ID_MAX:"28"},zwe:{DRIVERS_LICENSE_MIN:"8",DRIVERS_LICENSE_MAX:"20",NATIONAL_ID_MIN:"8",NATIONAL_ID_MAX:"20",PASSPORT_MIN:"8",PASSPORT_MAX:"20"},tza:{DRIVERS_LICENSE_MIN:"10",DRIVERS_LICENSE_MAX:"10",NATIONAL_ID_MIN:"8",NATIONAL_ID_MAX:"20",PASSPORT_MIN:"8",PASSPORT_MAX:"12",VOTER_ID_MIN:"8",VOTER_ID_MAX:"13"},moz:{IDNUMBERMIN:"8",IDNUMBERMAX:"28",DRIVERS_LICENSE_MIN:"9",DRIVERS_LICENSE_MAX:"28",NATIONAL_ID_MIN:"13",NATIONAL_ID_MAX:"28",PASSPORT_MIN:"9",PASSPORT_MAX:"28",VOTER_ID_MIN:"8",VOTER_ID_MAX:"28"},uga:{DRIVERS_LICENSE_MIN:"10",DRIVERS_LICENSE_MAX:"28",NATIONAL_ID_MIN:"14",NATIONAL_ID_MAX:"28",PASSPORT_MIN:"8",PASSPORT_MAX:"28",VOTER_ID_MIN:"8",VOTER_ID_MAX:"28"},bwa:{DRIVERS_LICENSE_MIN:"5",DRIVERS_LICENSE_MAX:"20",NATIONAL_ID_MIN:"9",NATIONAL_ID_MAX:"20",PASSPORT_MIN:"9",PASSPORT_MAX:"20"},mwi:{DRIVERS_LICENSE_MIN:"8",DRIVERS_LICENSE_MAX:"20",PASSPORT_MIN:"8",PASSPORT_MAX:"20",VOTER_ID_MIN:"8",VOTER_ID_MAX:"20"},eth:{DRIVERS_LICENSE_MIN:"2",DRIVERS_LICENSE_MAX:"8",NATIONAL_ID_MIN:"3",NATIONAL_ID_MAX:"17",PASSPORT_MIN:"2",PASSPORT_MAX:"9"},swz:{DRIVERS_LICENSE_MIN:"10",DRIVERS_LICENSE_MAX:"20",NATIONAL_ID_MIN:"8",NATIONAL_ID_MAX:"20",PASSPORT_MIN:"8",PASSPORT_MAX:"20",VOTER_ID_MIN:"8",VOTER_ID_MAX:"20"},cod:{DRIVERS_LICENSE_MIN:"10",DRIVERS_LICENSE_MAX:"20",NATIONAL_ID_MIN:"8",NATIONAL_ID_MAX:"20",PASSPORT_MIN:"8",PASSPORT_MAX:"20",VOTER_ID_MIN:"8",VOTER_ID_MAX:"20"},mus:{DRIVERS_LICENSE_MIN:"10",DRIVERS_LICENSE_MAX:"20",NATIONAL_ID_MIN:"8",NATIONAL_ID_MAX:"20",PASSPORT_MIN:"8",PASSPORT_MAX:"20",VOTER_ID_MIN:"8",VOTER_ID_MAX:"20"},default:{IDNUMBERMIN:"8",IDNUMBERMAX:"13",PASSPORT_MIN:"8",PASSPORT_MAX:"10",EMPLOYEENOMAX:"7",EMPLOYEENOVALIDATOR:"Komodo.UI.Validators.numericValidator",DRIVERS_LICENSE_MIN:"8",DRIVERS_LICENSE_MAX:"10",VOTER_ID_MIN:"8",VOTER_ID_MAX:"15",NATIONAL_ID_MIN:"8",NATIONAL_ID_MAX:"15",REFUGEE_ID_MIN:"8",REFUGEE_ID_MAX:"20",ACCOUNTHOLDERID_MIN:"8",ACCOUNTHOLDERID_MAX:"13",NRC_MIN:"9",NRC_MAX:"9"}}),Komodo.CustomerClass=Ember.Namespace.create({COMMERCIAL:"1",CSI:"4",NATIONAL_DEAL:"9"}),Komodo.InstallationTypes=Ember.Namespace.create({IPTV:"IPtv",STANDARD:"Standard"}),Komodo.AddressTypes=Ember.Namespace.create({PHYSICAL:"Physical",POSTAL:"Postal",DELIVERY:"Delivery"}),Komodo.CustomerAuthorityDelegatedRoles=Ember.Namespace.create({ADMINISTRATOR:"Administrator",OTHER:"Other"}),Komodo.ChargePeriodCollection=Ember.Namespace.create({MONTHLY:{title:"Monthly",value:"1"},ANNUALLY:{title:"Annually",value:"12"}}),Komodo.ActivityStatus=Ember.Namespace.create({ADHOC_DEBIT_SUCCESS:"Adhoc Debit Order Scheduled",ADHOC_DEBIT_FAILURE:"Adhoc Debit Order failed"}),Komodo.BatchJournalAndReversal=Ember.Namespace.create({JOURNAL_COLUMN_LENGTH:"4",FULLREVERSAL_COLUMN_LENGTH:"2",PARTIALREVERSAL_COLUMN_LENGTH:"3",INTERFUNDTRANSFER_COLUMN_LENGTH:"6"}),Komodo.BatchJournalApprovalsAndRejection=Ember.Namespace.create({JOURNAL_COLUMN_LENGTH:"5"}),Komodo.DefualtAnniversaryMonth=Ember.Namespace.create({Default:"0"}),Komodo.OperationalCommunicationStatus=Ember.Namespace.create({Draft:"1",Inactive:"2",Active:"3",Removed:"4"}),Komodo.OperationalCommunicationStatusReason=Ember.Namespace.create({Create:"1",SentForApproval:"2",Approved:"3",ScheduledForExecution:"4",Rejected:"5",Updated:"6",RemovedFromExecution:"7"}),Komodo.OperationalCommunicationExecutionCycle=Ember.Namespace.create({RealTime:"2",Bulk:"1",MainRun:"4",FillerRun:"5"}),Komodo.OperationalCommunicationMessageType=Ember.Namespace.create({OperationalMessage:"1",PriceIncreaseMessage:"2"}),Komodo.OperationalCommunicationMediaOfCommunication=Ember.Namespace.create({FileFormat:"1",MessagingFramework:"2"}),Komodo.OperationalCommunicationChannelCategory=Ember.Namespace.create({SMS:"1",Email:"2",DSD:"3",Post:"4",MMS:"5",Call:"6"}),Komodo.OperationalCommunicationExecutionType=Ember.Namespace.create({Sampling:"1",RealExecution:"2"}),Komodo.CampaignName=Ember.Namespace.create({CAMPAIGN_NAME:"Campaign",ID:"2"}),Komodo.TemplateForProformaInvoice=Ember.Namespace.create({Template_Type:"Email",Application_Name:"ProformaInvoice",Business_Unit:"Multichoice",Language:"English",Date_Format:"es-CL"}),Komodo.AHVOverride=Ember.Namespace.create({AHV_Realtime:"ahvrealtime",AHV_Override:"ahvoverride",Non_Compliant:"non-compliant",Compliant:"compliant",InteractionMedium:"5",Category:"5",Subcategory:"290",Verified_Outcome:"843",NotVerified_Outcome:"842",status:"1",priority:"4"}),Komodo.InteractionMedium=Ember.Namespace.create({Email:"3",Walkin:"5"}),Komodo.QueryType=Ember.Namespace.create({DStv:"4",GOtv:"5"}),Komodo.Category=Ember.Namespace.create({Financial:"5",Email:"9"}),Komodo.SubCategory=Ember.Namespace.create({StatementInvoiceQueries:"131"}),Komodo.Outcome=Ember.Namespace.create({EmailSuccessfullySent:"92",ProformaInvoiceProvided:"844"}),Komodo.CaseStatus=Ember.Namespace.create({Complete:"1"}),Komodo.PreActivateConstants=Ember.Namespace.create({zaf:{holidayHomeMinDays:1,holidayHomeMaxDays:30,productReconnectreason:1134,productSubstitutionreason:1234,quoteForQuantityChangereason:0,holidayHomeQuotereason:34680},nam:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,quoteForQuantityChangereason:0,THRESHOLDAMOUNT:250},ken:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,quoteForQuantityChangereason:0,THRESHOLDAMOUNT:2500},zmb:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,quoteForQuantityChangereason:0,THRESHOLDAMOUNT:250},gha:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:30},zwe:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:3},moz:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:30},uga:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:3650},bwa:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:220},mwi:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:25},eth:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:10},swz:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:99},mus:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:25},cod:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,THRESHOLDAMOUNT:14.4},default:{productSubstitutionreason:1231,productReconnectreason:1231,productCreatereason:1231,quoteForQuantityChangereason:0,THRESHOLDAMOUNT:250,preactivationEventId:203}}),Komodo.MaskCharacter=Ember.Namespace.create({passport:0,id:6,accountNumber:4}),Komodo.MaskType=Ember.Namespace.create({typeAccount:"1",typepassport:"2",typeID:"3"}),Komodo.CampaignList=Ember.Namespace.create({OutboundCampaign:"4",StandardCampaign:"1",StatusDraft:"1",StatusActive:"3",StatusInactive:"2",StatusReasonSaved:"1",StatusReasonRejected:"3",StatusReasonApproved:"4",StatusReasonExecutionAwaiting:"7",StatusExecutionSuccess:"12",StatusExecutionFailed:"13",StatusPartialExecution:"14",StatusReasonDeactivated:"15"}),Komodo.FilterArray=Ember.Namespace.create({SplitTextMultiSelect:"Option Set",SplitTextListFilter:"Special Text"}),Komodo.CountryCode=Ember.Namespace.create({LesothoCountryCode:"266"}),Komodo.CustomerQuoteConstants=Ember.Namespace.create({gha:{TaxTypeDescription:"cst"},tza:{TaxTypeDescription:"excisetax"},default:{TaxTypeDescription:"cst"}});
function getCustomerLuanguage(){var t=Komodo.Services.customerProfileService.getCustomerPersonalDetail().languagePreferenceText;return null!=t&&void 0!=t?t:null}function GetDCCEmailConstants(t,e,i){for(var E=getCustomerLuanguage().toLowerCase(),a=e.trim().toLowerCase(),C=e,l=C.split(" "),I="",n=0;n<l.length;n++)I+=l[n];var a=I.toLowerCase(),A=a+"_"+E;return Evaluate("Komodo."+t+"."+A+"."+i)}Komodo.DCCNotificationCostants=Ember.Namespace.create({dcccancellationletter_english:{EMAIL_RECEIPT_MF_APPLICATION:"DCC",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"AdHocDCCCancellation",IS_BULK:"false",EMAIL_RECEIPT_MF_LANGUAGE:"English",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single",EMAIL_RECEIPT_EMAILFROM:"dcc@multichoice.co.za",INPUT_XML:"<DCCCancellationLetter xmlns=''> <DCCCancellationAndPolicyDetails> <Title>#tittle#</Title> <Initial>#initial#</Initial> <Surname>#surnmame#</Surname> </DCCCancellationAndPolicyDetails></DCCCancellationLetter>",Category:"17",SubCategory:"17",Outcome:"137",Status:"1",InteractionMedium:"3",Note:"DCC Cancellation Email notification re-sent Successfully"},dcccancellationletter_afrikaans:{EMAIL_RECEIPT_MF_APPLICATION:"DCC",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"AdHocDCCCancellation",IS_BULK:"false",EMAIL_RECEIPT_MF_LANGUAGE:"Afrikaans",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single",EMAIL_RECEIPT_EMAILFROM:"dcc@multichoice.co.za",INPUT_XML:"<DCCCancellationLetter xmlns=''> <DCCCancellationAndPolicyDetails> <Title>#tittle#</Title> <Initial>#initial#</Initial> <Surname>#surnmame#</Surname> </DCCCancellationAndPolicyDetails></DCCCancellationLetter>",Category:"17",SubCategory:"17",Outcome:"137",Status:"1",InteractionMedium:"3",Note:"DCC Cancellation Email notification re-sent Successfully"},dccwelcomepackletter_english:{EMAIL_RECEIPT_MF_APPLICATION:"DCC",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"AdHocDCCActivation",IS_BULK:"false",EMAIL_RECEIPT_MF_LANGUAGE:"English",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single",EMAIL_RECEIPT_EMAILFROM:"dcc@multichoice.co.za",INPUT_XML:"<DCCActivationLetter xmlns=''> <DCCActivationAndPolicyDetails> <Title>#tittle#</Title> <Initial>#initial#</Initial> <Surname>#surnmame#</Surname> </DCCActivationAndPolicyDetails></DCCActivationLetter>",Category:"17",SubCategory:"17",Outcome:"73",Status:"1",InteractionMedium:"3",Note:"DCC Activation Email notification re-sent sucessfully"},dccwelcomepackletter_afrikaans:{EMAIL_RECEIPT_MF_APPLICATION:"DCC",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"AdHocDCCActivation",IS_BULK:"false",EMAIL_RECEIPT_MF_LANGUAGE:"Afrikaans",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single",EMAIL_RECEIPT_EMAILFROM:"dcc@multichoice.co.za",INPUT_XML:"<DCCActivationLetter xmlns=''> <DCCActivationAndPolicyDetails> <Title>#tittle#</Title> <Initial>#initial#</Initial> <Surname>#surnmame#</Surname> </DCCActivationAndPolicyDetails></DCCActivationLetter>",Category:"17",SubCategory:"17",Outcome:"73",Status:"1",InteractionMedium:"3",Note:"DCC Activation Email notification re-sent sucessfully"},dccarrearsletter_english:{EMAIL_RECEIPT_MF_APPLICATION:"DCC",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"AdHocDCCArrears",IS_BULK:"false",EMAIL_RECEIPT_MF_LANGUAGE:"English",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single",EMAIL_RECEIPT_EMAILFROM:"dcc@multichoice.co.za",INPUT_XML:"<DCCArrearsLetter xmlns=''> <DCCArrearsAndPolicyDetails> <Title>#tittle#</Title> <Initial>#initial#</Initial> <Surname>#surnmame#</Surname> </DCCArrearsAndPolicyDetails></DCCArrearsLetter>",Category:"17",SubCategory:"17",Outcome:"137",Status:"1",InteractionMedium:"3",Note:"DCC Arrears Email notification re-sent sucessfully"},dccarrearsletter_afrikaans:{EMAIL_RECEIPT_MF_APPLICATION:"DCC",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"AdHocDCCArrears",IS_BULK:"false",EMAIL_RECEIPT_MF_LANGUAGE:"Afrikaans",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single",EMAIL_RECEIPT_EMAILFROM:"dcc@multichoice.co.za",INPUT_XML:"<DCCArrearsLetter xmlns=''> <DCCArrearsAndPolicyDetails> <Title>#tittle#</Title> <Initial>#initial#</Initial> <Surname>#surnmame#</Surname> </DCCArrearsAndPolicyDetails></DCCArrearsLetter>",Category:"17",SubCategory:"17",Outcome:"137",Status:"1",InteractionMedium:"3",Note:"DCC Arrears Email notification re-sent sucessfully"},dccannualletter_english:{EMAIL_RECEIPT_MF_APPLICATION:"DCC",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"AdHocDCCAnnual",IS_BULK:"false",EMAIL_RECEIPT_MF_LANGUAGE:"English",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single",EMAIL_RECEIPT_EMAILFROM:"dcc@multichoice.co.za",INPUT_XML:"<DCCAnnualLetter xmlns=''> <DCCAnnualAndPolicyDetails> <Title>#tittle#</Title> <Initial>#initial#</Initial> <Surname>#surnmame#</Surname> </DCCAnnualAndPolicyDetails></DCCAnnualLetter>",Category:"17",SubCategory:"17",Outcome:"73",Status:"1",InteractionMedium:"3",Note:"DCC Annual Email notification re-sent sucessfully"},dccannualletter_afrikaans:{EMAIL_RECEIPT_MF_APPLICATION:"DCC",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"AdHocDCCAnnual",IS_BULK:"false",EMAIL_RECEIPT_MF_LANGUAGE:"Afrikaans",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single",EMAIL_RECEIPT_EMAILFROM:"dcc@multichoice.co.za",INPUT_XML:"<DCCAnnualLetter xmlns=''> <DCCAnnualAndPolicyDetails> <Title>#tittle#</Title> <Initial>#initial#</Initial> <Surname>#surnmame#</Surname> </DCCAnnualAndPolicyDetails></DCCAnnualLetter>",Category:"17",SubCategory:"17",Outcome:"73",Status:"1",InteractionMedium:"3",Note:"DCC Annual Email notification re-sent sucessfully"}});
var saveAs=saveAs||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement),d=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},u=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){f(e)}}},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},l=function(t,f,l){l||(t=c(t));var p,v=this,w=t.type,m="application/octet-stream"===w,y=function(){u(v,"writestart progress write writeend".split(" "))};if(v.readyState=v.INIT,r)return p=n().createObjectURL(t),void setTimeout(function(){o.href=p,o.download=f,a(o),y(),s(p),v.readyState=v.DONE});!function(){if((d||m&&i)&&e.FileReader){var o=new FileReader;return o.onloadend=function(){var t=d?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,v.readyState=v.DONE,y()},o.readAsDataURL(t),void(v.readyState=v.INIT)}if(p||(p=n().createObjectURL(t)),m)e.location.href=p;else{e.open(p,"_blank")||(e.location.href=p)}v.readyState=v.DONE,y(),s(p)}()},p=l.prototype,v=function(e,t,n){return new l(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return saveAs});
var saveAs=saveAs||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement),d=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},u=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){f(e)}}},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},l=function(t,f,l){l||(t=c(t));var p,v=this,w=t.type,m="application/octet-stream"===w,y=function(){u(v,"writestart progress write writeend".split(" "))};if(v.readyState=v.INIT,r)return p=n().createObjectURL(t),void setTimeout(function(){o.href=p,o.download=f,a(o),y(),s(p),v.readyState=v.DONE});!function(){if((d||m&&i)&&e.FileReader){var o=new FileReader;return o.onloadend=function(){var t=d?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,v.readyState=v.DONE,y()},o.readAsDataURL(t),void(v.readyState=v.INIT)}if(p||(p=n().createObjectURL(t)),m)e.location.href=p;else{e.open(p,"_blank")||(e.location.href=p)}v.readyState=v.DONE,y(),s(p)}()},p=l.prototype,v=function(e,t,n){return new l(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return saveAs});
function Evaluate(input){var value=void 0;return input&&(value=eval(input)),value}
Komodo.UI.Validators.RegExValidator=function(a,e,r){Komodo.UI.Validators.debug("RegExValidator.call()");var o=Ember.A(),l=a[Object.keys(a)[0]];r=r||{};var t=r.displayName,d=r.errorMessage||kl.value("validations.regExDefaultErrorMessage",{displayName:t});if(void 0!==l&&null!==l&&""!==l){new RegExp(r.regExPattern).test(l)||o.addObject(d)}return o};
function GetManageViewingConstants(constantType,constantName){switch(Komodo.Services.queryService.getSelectedCountryId()){case void 0:case null:case"":return eval("Komodo."+constantType+".default."+constantName);default:return void 0!==eval("Komodo."+constantType+"."+Komodo.Services.queryService.getSelectedCountryId()+"."+constantName)?eval("Komodo."+constantType+"."+Komodo.Services.queryService.getSelectedCountryId()+"."+constantName):eval("Komodo."+constantType+".default."+constantName)}}Komodo.ManageViewingContants=Ember.Namespace.create({ken:{Commercial:{default:{MIN_VIEWING_POINTS:"1"}}},nam:{Commercial:{default:{MIN_VIEWING_POINTS:"1"}}},zmb:{Commercial:{default:{MIN_VIEWING_POINTS:"1"}}},nga:{Commercial:{default:{MIN_VIEWING_POINTS:"1"}}},zaf:{Commercial:{unit:{MIN_VIEWING_POINTS:"3"},default:{MIN_VIEWING_POINTS:"1"}}},zwe:{Commercial:{default:{MIN_VIEWING_POINTS:"1"}}},gha:{Commercial:{default:{MIN_VIEWING_POINTS:"1"}}},default:{Commercial:{default:{MIN_VIEWING_POINTS:"1"}}},disableNonBillableProducts:["mobile free bouquet","mobile add on bouquet including m-net"],disableDPPProduct:["DPPPRM24 R799","DIPPRMMWEB R999","DPPPRM24 R849","DPPPRM24 R899","DIPCOMPKU R529","DIPCOMPKU R539","DIPPRM R899","DIPPRM R949","DPP24","DIP24 R149","DPP24 R89"]}),Komodo.DeviceInfoConstants=Ember.Namespace.create({zaf:{EventIdsToResend:"190,157"},nam:{EventIdsToResend:""},ken:{EventIdsToResend:""},zmb:{EventIdsToResend:""},nga:{EventIdsToResend:""},zwe:{EventIdsToResend:""},gha:{EventIdsToResend:""}}),Komodo.UpgradeDowngradeConstants=Ember.Namespace.create({zaf:{ExcludedProductNames:"dpp24",BundleProduct:"dppprm24 r799,dppprm24 r849,dipcompku r529,dipprm r899,dipprmmweb r999,dppprm24 r899,dipprm r949,dipcompku r539",DPPHardwareProduct:"dpp24",ExcludedMnetProducts:"m-net go (dtt),m-net go (dth)"},nam:{ExcludedProductNames:"",BundleProduct:"",DPPHardwareProduct:"",ExcludedMnetProducts:""},ken:{ExcludedProductNames:"",BundleProduct:"",DPPHardwareProduct:"",ExcludedMnetProducts:""},zmb:{ExcludedProductNames:"",BundleProduct:"",DPPHardwareProduct:"",ExcludedMnetProducts:""},nga:{ExcludedProductNames:"",BundleProduct:"",DPPHardwareProduct:"",ExcludedMnetProducts:"",AllowUpgradeDowngradeProductStatus:"active,pending removal,disconnect pending removal",productsubstitution:"productsubstitution",awaitingPayment:"awaiting payment"},zwe:{ExcludedProductNames:"",BundleProduct:"",DPPHardwareProduct:"",ExcludedMnetProducts:"",AllowUpgradeDowngradeProductStatus:"active,pending removal,disconnect pending removal",productsubstitution:"productsubstitution",awaitingPayment:"awaiting payment"},gha:{ExcludedProductNames:"",BundleProduct:"",DPPHardwareProduct:"",ExcludedMnetProducts:"",AllowUpgradeDowngradeProductStatus:"active,pending removal,disconnect pending removal",productsubstitution:"productsubstitution",awaitingPayment:"awaiting payment"}}),Komodo.ReconnectConstants=Ember.Namespace.create({zaf:{PrincipalProductNameExcluded:"emobile",AddonProductNameExcluded:"dmmprk",IncludedAddonProductTypes:"addon,high definition addon",ProductStatusIncluded:"disconnected,disconnect pending reconnect,suspended,pending installation,request disconnect,pending reconnect,unfair disconnection pending,delayed activation,pending,default (product instalments)",QuoteButtonExcludeForStatus:"pending installation,delayed activation,pending",PaymentAlreadyDoneStatus:"pending,disconnected,request disconnect,disconnect pending reconnect,pending reconnect,pending installation,delayed activation",MinDaysForPreActivatedQuote:1,MaxDaysForPreActivatedQuote:5,MaxHHDaysForPreActivatedQuote:30,DefaultDayForPreActivatedQuote:5,DefaultHHDayForPreActivatedQuote:30,DCCAllowedStatus:"disconnected,disconnect pending reconnect",BundleProducts:"",MultipleReconnectAllowedStatus:"disconnected,disconnect pending reconnect,unfair disconnection pending"},nam:{PrincipalProductNameExcluded:"emobile",AddonProductNameExcluded:"dmmprk",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"disconnected,disconnect pending reconnect,suspended,pending installation,request disconnect,pending reconnect,unfair disconnection pending,delayed activation,pending",QuoteButtonExcludeForStatus:"pending installation,delayed activation,pending",PaymentAlreadyDoneStatus:"disconnected",MinDaysForPreActivatedQuote:1,MaxDaysForPreActivatedQuote:3,DefaultDayForPreActivatedQuote:1,DCCAllowedStatus:"",BundleProducts:"",MultipleReconnectAllowedStatus:"disconnected,disconnect pending reconnect"},ken:{PrincipalProductNameExcluded:"emobile",AddonProductNameExcluded:"dmmprk",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"disconnected,disconnect pending reconnect,suspended,pending installation,request disconnect,pending reconnect,unfair disconnection pending,delayed activation,pending",QuoteButtonExcludeForStatus:"pending installation,delayed activation,pending",PaymentAlreadyDoneStatus:"pending,disconnected,request disconnect,disconnect pending reconnect,pending reconnect,pending installation,delayed activation",MinDaysForPreActivatedQuote:1,MaxDaysForPreActivatedQuote:3,DefaultDayForPreActivatedQuote:1,DCCAllowedStatus:"",BundleProducts:"",UnfairDisconnectVisibleForStatus:"",MultipleReconnectAllowedStatus:"disconnected,disconnect pending reconnect"},zmb:{PrincipalProductNameExcluded:"emobile",AddonProductNameExcluded:"dmmprk",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"disconnected,disconnect pending reconnect,suspended,pending installation,request disconnect,pending reconnect,unfair disconnection pending,delayed activation,pending",QuoteButtonExcludeForStatus:"pending installation,delayed activation,pending",PaymentAlreadyDoneStatus:"pending,disconnected,request disconnect,disconnect pending reconnect,pending reconnect,pending installation,delayed activation",MinDaysForPreActivatedQuote:1,MaxDaysForPreActivatedQuote:3,DefaultDayForPreActivatedQuote:1,DCCAllowedStatus:"",BundleProducts:"",UnfairDisconnectVisibleForStatus:"",MultipleReconnectAllowedStatus:"disconnected,disconnect pending reconnect"},nga:{PrincipalProductNameExcluded:"emobile",AddonProductNameExcluded:"dmmprk",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"disconnected,disconnect pending reconnect,suspended,pending installation,request disconnect,pending reconnect,unfair disconnection pending,delayed activation,pending",QuoteButtonExcludeForStatus:"pending installation,delayed activation,pending",PaymentAlreadyDoneStatus:"pending,disconnected,request disconnect,disconnect pending reconnect,pending reconnect,pending installation,delayed activation",MinDaysForPreActivatedQuote:1,MaxDaysForPreActivatedQuote:3,DefaultDayForPreActivatedQuote:1,DCCAllowedStatus:"",BundleProducts:"",UnfairDisconnectVisibleForStatus:"",MultipleReconnectAllowedStatus:"disconnected,disconnect pending reconnect"},zwe:{PrincipalProductNameExcluded:"emobile",AddonProductNameExcluded:"dmmprk",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"disconnected,disconnect pending reconnect,suspended,pending installation,request disconnect,pending reconnect,unfair disconnection pending,delayed activation,pending",QuoteButtonExcludeForStatus:"pending installation,delayed activation,pending",PaymentAlreadyDoneStatus:"disconnected",MinDaysForPreActivatedQuote:1,MaxDaysForPreActivatedQuote:3,DefaultDayForPreActivatedQuote:1,DCCAllowedStatus:"",BundleProducts:"",MultipleReconnectAllowedStatus:"disconnected,disconnect pending reconnect"},gha:{PrincipalProductNameExcluded:"emobile",AddonProductNameExcluded:"dmmprk",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"disconnected,disconnect pending reconnect,suspended,pending installation,request disconnect,pending reconnect,unfair disconnection pending,delayed activation,pending",QuoteButtonExcludeForStatus:"pending installation,delayed activation,pending",PaymentAlreadyDoneStatus:"disconnected",MinDaysForPreActivatedQuote:1,MaxDaysForPreActivatedQuote:3,DefaultDayForPreActivatedQuote:1,DCCAllowedStatus:"",BundleProducts:"",MultipleReconnectAllowedStatus:"disconnected,disconnect pending reconnect"}}),Komodo.gotvfreeproductforChargeperiod=Ember.Namespace.create({zaf:{gotvfreeproduct:"GOtv Lite,GOtvLiteL,GOtv Lite Lesotho"},nam:{gotvfreeproduct:""},ken:{gotvfreeproduct:""},zmb:{gotvfreeproduct:""},nga:{gotvfreeproduct:""},zwe:{gotvfreeproduct:""},gha:{gotvfreeproduct:""},default:{gotvProduct:"GOTV LITE BOUQUET"}}),Komodo.productExcludeforChargeperiod=Ember.Namespace.create({zaf:{gotvProduct:"GOtv Lite,GOtv Lite Lesotho"},nam:{gotvProduct:"GOTV LITE BOUQUET"},ken:{gotvProduct:"GOTV LITE BOUQUET"},zmb:{gotvProduct:"GOTV LITE BOUQUET"},nga:{gotvProduct:"GOTV LITE BOUQUET"},zwe:{gotvProduct:"GOTV LITE BOUQUET"},gha:{gotvProduct:"GOTV LITE BOUQUET"},default:{gotvProduct:"GOTV LITE BOUQUET"}}),Komodo.DisconnectConstant=Ember.Namespace.create({zaf:{excludedProductNames:"boxoffice,dpp24",ProductStatus:"active,pending removal"},nam:{excludedProductNames:"boxoffice,dpp24",ProductStatus:"active,pending removal"},ken:{excludedProductNames:"boxoffice,dpp24",ProductStatus:"active,pending removal"},zmb:{excludedProductNames:"boxoffice,dpp24",ProductStatus:"active,pending removal"},nga:{excludedProductNames:"boxoffice,dpp24",ProductStatus:"active,pending removal"},zwe:{excludedProductNames:"boxoffice,dpp24",ProductStatus:"active,pending removal"},gha:{excludedProductNames:"boxoffice,dpp24",ProductStatus:"active,pending removal"}}),Komodo.CancelConstants=Ember.Namespace.create({zaf:{PrincipalProductNameExcluded:"dpp24,boxoffice,emobile",AddonProductNameExcluded:"boxoffice,dmmprk",ProductStatusIncluded:"disconnected,active",IncludedAddonProductTypes:"addon",DCCStatus:"disconnected,active",DppMwebAddon:"adslmweb 4mb data and line,adslmweb 10mb data and line,adslmweb 4mb data,adslmweb 10mb data,ftth mweb telkom"},nam:{PrincipalProductNameExcluded:"dpp24,boxoffice,emobile",AddonProductNameExcluded:"boxoffice,dmmprk",ProductStatusIncluded:"disconnected,active",IncludedAddonProductTypes:"addon",DCCStatus:"disconnected,active",DppMwebAddon:""},ken:{PrincipalProductNameExcluded:"dpp24,boxoffice,emobile",AddonProductNameExcluded:"boxoffice,dmmprk",ProductStatusIncluded:"disconnected,active",IncludedAddonProductTypes:"addon",DCCStatus:"disconnected,active",DppMwebAddon:""},zmb:{PrincipalProductNameExcluded:"dpp24,boxoffice,emobile",AddonProductNameExcluded:"boxoffice,dmmprk",ProductStatusIncluded:"disconnected,active",IncludedAddonProductTypes:"addon",DCCStatus:"disconnected,active",DppMwebAddon:""},nga:{PrincipalProductNameExcluded:"dpp24,boxoffice,emobile",AddonProductNameExcluded:"boxoffice,dmmprk",ProductStatusIncluded:"disconnected,active",IncludedAddonProductTypes:"addon",DCCStatus:"disconnected,active",DppMwebAddon:""},zwe:{PrincipalProductNameExcluded:"dpp24,boxoffice,emobile",AddonProductNameExcluded:"boxoffice,dmmprk",ProductStatusIncluded:"disconnected,active",IncludedAddonProductTypes:"addon",DCCStatus:"disconnected,active",DppMwebAddon:""},gha:{PrincipalProductNameExcluded:"dpp24,boxoffice,emobile",AddonProductNameExcluded:"boxoffice,dmmprk",ProductStatusIncluded:"disconnected,active",IncludedAddonProductTypes:"addon",DCCStatus:"disconnected,active",DppMwebAddon:""}}),Komodo.SuspendConstants=Ember.Namespace.create({zaf:{PrincipalProductNameExcluded:"emobile,boxoffice,m-net dtt",AddonProductNameExcluded:"dmmprk,boxoffice",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"active",QuarterlyProducts:"gotvlite,gotvlitel"},nam:{PrincipalProductNameExcluded:"emobile,boxoffice",AddonProductNameExcluded:"dmmprk,boxoffice",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"active",QuarterlyProducts:"golite - gotv lite bouquet"},ken:{PrincipalProductNameExcluded:"emobile,boxoffice",AddonProductNameExcluded:"dmmprk,boxoffice",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"active",QuarterlyProducts:"golite - gotv lite bouquet"},zmb:{PrincipalProductNameExcluded:"emobile,boxoffice",AddonProductNameExcluded:"dmmprk,boxoffice",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"active",QuarterlyProducts:"golite - gotv lite bouquet"},nga:{PrincipalProductNameExcluded:"emobile,boxoffice",AddonProductNameExcluded:"dmmprk,boxoffice",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"active",QuarterlyProducts:"golite - gotv lite bouquet"},zwe:{PrincipalProductNameExcluded:"emobile,boxoffice",AddonProductNameExcluded:"dmmprk,boxoffice",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"active",QuarterlyProducts:"golite - gotv lite bouquet"},gha:{PrincipalProductNameExcluded:"emobile,boxoffice",AddonProductNameExcluded:"dmmprk,boxoffice",IncludedAddonProductTypes:"addon",ProductStatusIncluded:"active",QuarterlyProducts:"golite - gotv lite bouquet"}}),Komodo.HolidayHome=Ember.Namespace.create({zaf:{DecoderExcluded:"dtt decoder,analogue devices",AllowedCustomerClassTypes:"CUSTOMERCLASS_RESIDENTIAL;CUSTOMERCLASS_SPECIALIST:PANELIST,EMPLOYEE_RELATED,VIP,THIRD_PARTY,MULTICHOICE,NASPERS",CommercialProductCategoryIdsToExclude:"7,10,15,3",SwitchOffDate:"01-01-2099",ExcludeAgreementType:"21"},nam:{DecoderExcluded:"",AllowedCustomerClassTypes:"CUSTOMERCLASS_RESIDENTIAL;CUSTOMERCLASS_SPECIALIST:PANELIST,EMPLOYEE,VIP,SHAREHOLDERS",CommercialProductCategoryIdsToExclude:"4,22,25,27",SwitchOffDate:"01-01-2099",ExcludeAgreementType:""},ken:{DecoderExcluded:"",AllowedCustomerClassTypes:"CUSTOMERCLASS_RESIDENTIAL",CommercialProductCategoryIdsToExclude:"4,22,25,27",SwitchOffDate:"01-01-2099",ExcludeAgreementType:""},zmb:{DecoderExcluded:"",AllowedCustomerClassTypes:"CUSTOMERCLASS_RESIDENTIAL;CUSTOMERCLASS_SPECIALIST:PANELIST,EMPLOYEE,VIP,SHAREHOLDERS",CommercialProductCategoryIdsToExclude:"4,22,25,27",SwitchOffDate:"01-01-2099",ExcludeAgreementType:""},nga:{DecoderExcluded:"",AllowedCustomerClassTypes:"CUSTOMERCLASS_RESIDENTIAL;CUSTOMERCLASS_SPECIALIST:PANELIST,EMPLOYEE,VIP,SHAREHOLDERS",CommercialProductCategoryIdsToExclude:"4,22,25,27",SwitchOffDate:"01-01-2099",ExcludeAgreementType:""},zwe:{DecoderExcluded:"",AllowedCustomerClassTypes:"CUSTOMERCLASS_RESIDENTIAL;CUSTOMERCLASS_SPECIALIST:PANELIST,EMPLOYEE,VIP,SHAREHOLDERS",CommercialProductCategoryIdsToExclude:"4,22,25,27",SwitchOffDate:"01-01-2099",ExcludeAgreementType:""},gha:{DecoderExcluded:"",AllowedCustomerClassTypes:"CUSTOMERCLASS_RESIDENTIAL;CUSTOMERCLASS_SPECIALIST:PANELIST,EMPLOYEE,VIP,SHAREHOLDERS",CommercialProductCategoryIdsToExclude:"4,22,25,27",SwitchOffDate:"01-01-2099",ExcludeAgreementType:""}}),Komodo.DPPSwitchingCompatibleHardware=Ember.Namespace.create({zaf:{AllowedDecodersModels:"MultiChoice DSD,Explora,MultiChoice HD PVR"},nam:{AllowedDecodersModels:""},ken:{AllowedDecodersModels:""},zwe:{AllowedDecodersModels:""},gha:{AllowedDecodersModels:""}});
function GetProductsConstants(constantType,constantName){switch(Komodo.Services.queryService.getSelectedCountryId()){case void 0:case null:case"":return eval("Komodo."+constantType+".default."+constantName);default:return void 0!==eval("Komodo."+constantType+"."+Komodo.Services.queryService.getSelectedCountryId()+"."+constantName)?eval("Komodo."+constantType+"."+Komodo.Services.queryService.getSelectedCountryId()+"."+constantName):eval("Komodo."+constantType+".default."+constantName)}}function GetReason(reasonType,reasonName){switch(Komodo.Services.queryService.getSelectedCountryId()){case void 0:case null:case"":return eval("Komodo."+reasonType+".default."+reasonName);default:try{return void 0!==eval("Komodo."+reasonType+"."+Komodo.Services.queryService.getSelectedCountryId()+"."+reasonName)?eval("Komodo."+reasonType+"."+Komodo.Services.queryService.getSelectedCountryId()+"."+reasonName):eval("Komodo."+reasonType+".default."+reasonName)}catch(err){return eval("Komodo."+reasonType+".default."+reasonName)}}}Komodo.ProductsConstants=Ember.Namespace.create({nam:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"202",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"15",TAX_PERC_PROFORMA_RESIDENTIAL:"0",TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Nam",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Nam",MARKET_SEGMENT:"35",HDPVRPK:"194",SDPVR_ACCESS:"275,265",SDPVR_SYSTEMKEY:"6,21",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",FREE_ADDON_CATEGORY:"72,73,2"},zaf:{MOBILE_PRODUCT_CATEGORY_ID:"10",GOTV_PRODUCT_CATEGORY_ID:"12",PRINCIPAL_PRODUCT_ID:"1",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:999,MAX_GOTV_DEVICE_ALLOWED:999,MAX_DSTV_DEVICE_ALLOWED:999,TAX_TYPE:"VAT",TAX_PERCENTAGE:"14",TAX_PERC_PROFORMA:"14",TAX_PERC_PROFORMA_RESIDENTIAL:"14",TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Zaf",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Zaf",MIN_PRODUCT_ACTIVE_MONTHS:"1",GOTV_VALUE_PRODUCT_ID:"219",GOTV_LITE_PRODUCT_ID:"220",GOTV_VALUE_LESOTHO_PRODUCT_ID:"221",GOTV_LITE_LESOTHO_PRODUCT_ID:"222",MNET_DTT_PRODUCT_ID:"45",GOTV_DEVICE:"113",GOTV_DEVICE_LESOTHO:"114",MNET_ANALOGUE:"198",ANALOGUE_HARDWARE:"31",INSURANCE_PRODUCT_CATEGORY:"7",ACCESS_SERVICE_PRODUCT_CATEGORY:"13",DTT_HARDWARE_PRODUCT_CATEGORY_ID:"35",GOTV_BUNDLE_OFFER_UID:"17",MARKET_SEGMENT:"1",HDPVRPK:"50",SDPVR_ACCESS:"48",SDPVR_SYSTEMKEY:"6",LESOTHO_MARKET_SEGMENT:"2",HOLIDAYHOME_NO_PER_GEN:"6",BOX_OFFICE_PRODUCT_ID:"225",EXPLORA_PAYMENT_PLAN:"3",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500,PS5100IMC",DPP_ADD_ON_PROD_CAT:"77",DPP_QUOTE_REM_HARD_HACK:"000000000000000141,000000000000000151,000000000000000155,000000000000000101,000000000000000103,000000000000000104,000000000000000152,000000000000000112,000000000000000153,000000000000000154,000000000000000105,000000000000000106",ALLOW_DPP_AS_PRIMARY:"184,262,247,254,255,270,297,296,295,294",MNDCSN1:"269",SHOWMAX:"283",PAYMENT_PALN:"11",MNET:"41",GOTV:"GOTV",MNET_GO:"45",EXPLORA_PAYMENT_PLAN_AGREEMENT:"16",FREE_ADDON_CATEGORY:"",SPL_PRODUCTID:"299"},ken:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"16",TAX_PERC_PROFORMA_RESIDENTIAL:"16",TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Ken",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Ken",TEMPLATE_NAME_PROFORMA_GoTV:"EmailTemplate_GoTV_ken",MARKET_SEGMENT:"27",HDPVRPK:"88",SDPVR_ACCESS:"",SDPVR_SYSTEMKEY:"",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850W,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},zmb:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"16",TAX_PERC_PROFORMA_RESIDENTIAL:"16",TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Zmb",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Zmb",TEMPLATE_NAME_PROFORMA_GoTV:"EmailTemplate_GoTV_Zmb",MARKET_SEGMENT:"43",HDPVRPK:"88,194",SDPVR_ACCESS:"265,275",SDPVR_SYSTEMKEY:"6",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850W,TDS850K,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},nga:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"11",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Nga",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Nga",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"46",HDPVRPK:"88",SDPVR_ACCESS:"",SDPVR_SYSTEMKEY:"",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850W,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},gha:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"11",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Nga",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Nga",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"24",HDPVRPK:"88",SDPVR_ACCESS:"",SDPVR_SYSTEMKEY:"",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850W,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},zwe:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"202",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Nga",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Nga",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"44",HDPVRPK:"194",SDPVR_ACCESS:"265,275",SDPVR_SYSTEMKEY:"6,21",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},tza:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Tza",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Tza",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"3",HDPVRPK:"88",SDPVR_ACCESS:"90",SDPVR_SYSTEMKEY:"",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850W,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},moz:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Moz",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Moz",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"34",HDPVRPK:"88,194",SDPVR_ACCESS:"275,265",SDPVR_SYSTEMKEY:"4,6,21",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS850W,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},uga:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Uga",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Uga",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"2",HDPVRPK:"88",SDPVR_ACCESS:"90",SDPVR_SYSTEMKEY:"4,6,21",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS850W,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},bwa:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"202",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Bwa",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_BWa",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"12",HDPVRPK:"194",SDPVR_ACCESS:"275",SDPVR_SYSTEMKEY:"4,6",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS850W,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},mwi:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"202",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Mwi",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Mwi",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"30",HDPVRPK:"194",SDPVR_ACCESS:"275",SDPVR_SYSTEMKEY:"4,6",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},eth:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Eth",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Eth",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"4",HDPVRPK:"",SDPVR_ACCESS:"",SDPVR_SYSTEMKEY:"4,6",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},swz:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Swz",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Swz",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"41",HDPVRPK:"",SDPVR_ACCESS:"",SDPVR_SYSTEMKEY:"4,6",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},cod:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Cod",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Cod",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"20",HDPVRPK:"",SDPVR_ACCESS:"",SDPVR_SYSTEMKEY:"4,6",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},mus:{MOBILE_PRODUCT_CATEGORY_ID:"25",GOTV_PRODUCT_CATEGORY_ID:"20",PRINCIPAL_PRODUCT_ID:"10",PRINCIPAL_GOTVOPEN_ID:"83",PRINCIPAL_GOTV_BQ_ID:"12",MAXIMUM_GOTV_PACKAGES:1,MAX_GOTV_DEVICE_ALLOWED:1,MAX_DSTV_DEVICE_ALLOWED:1,TEMPLATE_NAME_PROFORMA_RESIDENTIAL:"EmailTemplate_Res_Mus",TEMPLATE_NAME_PROFORMA_COMMERTIAL:"EmailTemplate_Com_Mus",TAX_TYPE:"NONE",TAX_PERCENTAGE:"0",TAX_PERC_PROFORMA:"5",TAX_PERC_PROFORMA_RESIDENTIAL:"5",MARKET_SEGMENT:"33",HDPVRPK:"",SDPVR_ACCESS:"",SDPVR_SYSTEMKEY:"4,6",HOLIDAYHOME_NO_PER_GEN:"3",BOX_OFFICE_PRODUCT_ID:"312",EXPLORA_PAYMENT_PLAN:"999",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500,DPS5001IMC,PS5100IMC",THIRDPOINT_SECONDARY:"DSD4136,DPS500,DPS5001IMC,PS5100IMC,DSR4660,DSR4828,TDS850K,TDS865,DID4614,HS7330",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",DPP_ADD_ON_PROD_CAT:"",ALLOW_DPP_AS_PRIMARY:"",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOTV:"GOTV",GOTV_LITE_PRODUCT_ID:"367",PRINCIPAL_PRODUCT_COUNT:"1",COMPE36_1_FREE_OFF:"4",FREE_ADDON_CATEGORY:"72,73,2"},default:{PRINCIPAL_CATEGORY:"Principal",ADDON_CATEGORY:"Addon",INSURANCE_CATEGORY:"Insurance",ACCESS_CATEGORY:"Access",HIGH_DEFINITION_ADDON:"High Definition Addon",HARDWARE_CATEGORY:"Hardware",MOBILE_HARDWARE:"Mobile Hardware",MOBILE_ADDON:"Mobile Add-on",GOTV_HARDWARE:"GOtv Hardware",DTT_HARDWARE:"DTT Hardware",FREE_TO_AIR:"FreeToAir",BOX_OFFICE:"Box Office",DPP_CATEGORY:"Decoder Payment Plan",DPP_ADDON_CATEGORY:"DPP Add-on",MARKET_SEGMENT:"1",HDPVRPK:"50",SDPVR_ACCESS:"48",SDPVR_SYSTEMKEY:"6",STATUS_ACTIVE:"ACTIVE",STATUS_DISCONNECTED:"DISCONNECTED",INSURANCE_PRODUCT:"DCC",INSURANCE_INVOICETEXT:"DEVICE CARE CONTRACT INSURANCE PREMIUM",STATUS_CANCELLED:"CANCELLED",STATUS_PENDING:"PENDING",STATUS_FREE:"FREE",STATUS_SUSPENDED:"SUSPENDED",STATUS_DELAYED_ACTIVATION:"DELAYED ACTIVATION",STATUS_AWAITING_PAYMENT:"AWAITING PAYMENT",STATUS_FREE_VIEW_ACTIVE:"FREE VIEW ACTIVE",STATUS_FREE_VIEW_PENDING_ACTIVATION:"FREE-VIEW PENDING ACTIVATION",STATUS_PENDING_REMOVAL:"PENDING REMOVAL",STATUS_DEFAULT_PRODUCT_INSTALMENTS:"DEFAULT (PRODUCT INSTALMENTS)",REMOVED_FROM_EXTRAVIEW:"isBreakExtraView",IS_DISCONNECTED_DEVICE:"CancelService",HOLIDAYHOME_NO_PER_GEN:"1",DEVICE_MODEL_DESCRIPTION:"DeviceModelDescription",HOLIDAYHOME_CANONICALKEY:"29",DPP24:"183",THIRDPOINT_PRIMARY:"DPS500",THIRDPOINT_SECONDARY:"DSD4137,DSD4136,DPS500",DPP_ADD_ON_PROD_CAT:"",DPP_QUOTE_REM_HACK:"",DPP_QUOTE_REM_HARD_HACK:"",GOTV_VALUE_PRODUCT_ID:"",GOTV_LITE_PRODUCT_ID:"",GOTV_VALUE_LESOTHO_PRODUCT_ID:"",GOTV_LITE_LESOTHO_PRODUCT_ID:"",GOTV_LITE_ENABLE_CHARGE_PERIOD:"GOTV LITE BOUQUET",SOUTH_AFRICA:"zaf",LESOTHO:"lso",NIGERIA:"nga",GHANA:"gha",ZIMBABWE:"zwe",MOZAMBIQUE:"moz",UGANDA:"uga",MALAWI:"mwi",BOTSWANA:"bwa",ETHIOPIA:"eth",SWAZILAND:"swz",DRC:"cod",MAURITIUS:"mus",ALLOW_DPP_AS_PRIMARY:"",PRODUCTDETAIL_TYPE:"DTT DECODER,GOTV DEVICE,MOBILE DEVICE,MOBILE DEVICES,ANALOGUE DEVICES",Sales:"1",SalesDevice:"4",SalesPackage:"5",SalesMixed:"6",SHOWMAX:"",PAYMENT_PALN:"",MNET:"",GOtv:"2",DStv:"5",MNDCSN1:"",DStv_QUOTE:"DStv",GOtv_QUOTE:"GOtv",GOTV:"GOTV",PRINCIPAL_PRODUCT_COUNT:"",EXPLORA_PAYMENT_PLAN_AGREEMENT:"",FREE_ADDON_CATEGORY:"72,73,2",PAYMENT_PLAN_ACCOUNT:"Payment Plan",RESIDENTIAL_ACCOUNT:"Residential General",HOLIDAYHOME_ACCOUNT:"Holiday Home",INVOICETEXT_ACCESS:"Access Fee"}}),Komodo.ConsiderAsNewProduct=Ember.Namespace.create({zaf:{DPPHARDWAREONLY:"183"},nam:{DPPHARDWAREONLY:"0"},ken:{DPPHARDWAREONLY:"0"},zmb:{DPPHARDWAREONLY:"0"},nga:{DPPHARDWAREONLY:"0"},zwe:{DPPHARDWAREONLY:"0"},gha:{DPPHARDWAREONLY:"0"},tza:{DPPHARDWAREONLY:"0"},moz:{DPPHARDWAREONLY:"0"},uga:{DPPHARDWAREONLY:"0"},bwa:{DPPHARDWAREONLY:"0"},mwi:{DPPHARDWAREONLY:"0"},eth:{DPPHARDWAREONLY:"0"},swz:{DPPHARDWAREONLY:"0"},cod:{DPPHARDWAREONLY:"0"},mus:{DPPHARDWAREONLY:"0"}}),Komodo.ProductType=Ember.Namespace.create({zaf:{DPP24:"DECODER PAYMENT PLAN",THIRDPARTY:"THIRDPARTY"},nam:{DPP24:"",THIRDPARTY:""},ken:{DPP24:"",THIRDPARTY:""},zmb:{DPP24:"",THIRDPARTY:""},nga:{DPP24:"",THIRDPARTY:""},zwe:{DPP24:"",THIRDPARTY:""},gha:{DPP24:"",THIRDPARTY:""},tza:{DPP24:"",THIRDPARTY:""},moz:{DPP24:"",THIRDPARTY:""},bwa:{DPP24:"",THIRDPARTY:""},mwi:{DPP24:"",THIRDPARTY:""},uga:{DPP24:"",THIRDPARTY:""},eth:{DPP24:"",THIRDPARTY:""},swz:{DPP24:"",THIRDPARTY:""},cod:{DPP24:"",THIRDPARTY:""},mus:{DPP24:"",THIRDPARTY:""}}),Komodo.QuoteGenerationMethod=Ember.Namespace.create({nam:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},ken:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},zaf:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},zmb:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},nga:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},zwe:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},gha:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},moz:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},uga:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},bwa:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},mwi:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},eth:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},swz:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},cod:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},mus:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"},default:{Latest_Open_Quote:"0",Event_Based_Quote:"1",Service_Retention_Quote:"2"}}),Komodo.ReconnectReasons=Ember.Namespace.create({nam:{Reconnect_a_Disconnected_Product:"24",Scheduled_Reconnect:"978",Manually_End_Products_Suspension:"947",Customer_Requested_Disconnect:"",Reconnect_Without_Payment:"1066",Reconnect_a_Disconnected_DPP_Product:""},ken:{Reconnect_a_Disconnected_Product:"24",Scheduled_Reconnect:"978",Manually_End_Products_Suspension:"947",Customer_Requested_Disconnect:"",Reconnect_Without_Payment:"1066",Reconnect_a_Disconnected_DPP_Product:""},zaf:{Reconnect_a_Disconnected_Product:"24",Scheduled_Reconnect:"986",Manually_End_Products_Suspension:"984",Customer_Requested_Disconnect:"1111",Reconnect_Without_Payment:"1134",Reconnect_a_Disconnected_DPP_Product:"1065"},zmb:{Reconnect_a_Disconnected_Product:"24",Scheduled_Reconnect:"978",Manually_End_Products_Suspension:"947",Customer_Requested_Disconnect:"",Reconnect_Without_Payment:"1066",Reconnect_a_Disconnected_DPP_Product:""},nga:{Reconnect_a_Disconnected_Product:"24",Scheduled_Reconnect:"978",Manually_End_Products_Suspension:"947",Customer_Requested_Disconnect:"",Reconnect_Without_Payment:"1066",Reconnect_a_Disconnected_DPP_Product:""},zwe:{Reconnect_a_Disconnected_Product:"24",Scheduled_Reconnect:"978",Manually_End_Products_Suspension:"947",Customer_Requested_Disconnect:"",Reconnect_Without_Payment:"1066",Reconnect_a_Disconnected_DPP_Product:""},gha:{Reconnect_a_Disconnected_Product:"24",Scheduled_Reconnect:"978",Manually_End_Products_Suspension:"947",Customer_Requested_Disconnect:"",Reconnect_Without_Payment:"1066",Reconnect_a_Disconnected_DPP_Product:""}}),Komodo.DisconnectReasons=Ember.Namespace.create({nam:{Customer_Request_Disconnect:"767",Disconnect_DPP_Product:""},ken:{Customer_Request_Disconnect:"767",Disconnect_DPP_Product:""},zaf:{Customer_Request_Disconnect:"21",Disconnect_DPP_Product:"1099"},zmb:{Customer_Request_Disconnect:"767",Disconnect_DPP_Product:""},nga:{Customer_Request_Disconnect:"767",Disconnect_DPP_Product:""},zwe:{Customer_Request_Disconnect:"767",Disconnect_DPP_Product:""},gha:{Customer_Request_Disconnect:"767",Disconnect_DPP_Product:""}}),Komodo.CancellationReasons=Ember.Namespace.create({nam:{Cancel_Product:"22",Cancel_Dpp_Product:""},ken:{Cancel_Product:"22",Cancel_Dpp_Product:""},zaf:{Cancel_Product:"22",Cancel_Dpp_Product:"1136"},zmb:{Cancel_Product:"22",Cancel_Dpp_Product:""},nga:{Cancel_Product:"22",Cancel_Dpp_Product:""},zwe:{Cancel_Product:"22",Cancel_Dpp_Product:""},gha:{Cancel_Product:"22",Cancel_Dpp_Product:""},moz:{Cancel_Product:"22",Cancel_Dpp_Product:""},uga:{Cancel_Product:"22",Cancel_Dpp_Product:""},bwa:{Cancel_Product:"22",Cancel_Dpp_Product:""},mwi:{Cancel_Product:"22",Cancel_Dpp_Product:""},tza:{Cancel_Product:"22",Cancel_Dpp_Product:""},eth:{Cancel_Product:"22",Cancel_Dpp_Product:""},swz:{Cancel_Product:"22",Cancel_Dpp_Product:""},cod:{Cancel_Product:"22",Cancel_Dpp_Product:""},mus:{Cancel_Product:"22",Cancel_Dpp_Product:""}}),Komodo.ChargePeriodType=Ember.Namespace.create({MONTHLY:{key:"Monthly",value:"1"},QUARTERLY:{key:"quarterly",value:"3"},YEARLY:{key:"Yearly",value:"12"}}),Komodo.ProductStatusCollection=Ember.Namespace.create({Active:{key:"1",value:"Active"},Disconnected:{key:"3",value:"Disconnected"},Cancelled:{key:"4",value:"Cancelled"},Suspended:{key:"5",value:"Suspended"},Pending:{key:"6",value:"Pending"},AtCustomer:{key:"7",value:"At Customer"},PendingRemoval:{key:"8",value:"Pending Removal"},PendingUpgrade:{key:"9",value:"Pending Upgrade"},NotAtCustomer:{key:"10",value:"Not At Customer"},Free:{key:"15",value:"Free"},DelayedActivation:{key:"14",value:"Delayed Activation"},FreeViewPendingActivation:{key:"16",value:"Free-View Pending Activation"},CancelPendingUpgrade:{key:"11",value:"Cancel Pending Upgrade"},DisconnectPendingReconnect:{key:"12",value:"Disconnect Pending Reconnect"},PendingInstallation:{key:"13",value:"Pending Installation"},FreeViewActive:{key:"17",value:"Free View Active"},DisconnectPendingRemoval:{key:"18",value:"Disconnect Pending Removal"}}),Komodo.HolidayHomeSwitchingReasons=Ember.Namespace.create({nam:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},ken:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},zaf:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34677,UpdateProductQuantityReason:34679,UpdateProductStatusWithGraceDaysReason:34678,NumberOfGraceDays:0},default:{DeviceLinkReason:"",DeviceUnlinkReason:"",DisconnectProductReason:"",UpdateProductQuantityReason:"",UpdateProductStatusWithGraceDaysReason:"",NumberOfGraceDays:""},zmb:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},nga:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},zwe:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},gha:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},tza:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},moz:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},uga:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},mwi:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},eth:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},swz:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},cod:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0},mus:{DeviceLinkReason:194,DeviceUnlinkReason:193,DisconnectProductReason:34716,UpdateProductQuantityReason:34718,UpdateProductStatusWithGraceDaysReason:34717,NumberOfGraceDays:0}});
Komodo.UploadConfiguration=Ember.Namespace.create({MAX_FILE_SIZE:"10mb",RUNTIMES:"html5,flash,silverlight,html4",IMAGE_FILE_TYPE:"Image files",IMAGE_FILE_EXTENSION:"jpg,gif,png,jpeg,JPG,GIF,PNG,JPEG",DOCUMENT_FILE_TYPE:"Adobe And Document Files",DOCUMENT_FILE_EXTENSION:"pdf,doc,xls,docx,xlsx"}),Komodo.UploadStatuses=Ember.Namespace.create({QUEUED:"QUEUED",UPLOADING:"UPLOADING",DONE:"DONE",FAILED:"FAILED"}),Komodo.DocumentTypes=Ember.Namespace.create({CHANGE_OF_OWNERSHIP_FORM:"Change of ownership form",CHANGE_OF_OWNERSHIP_LETTER:"Change of ownership letter",SUBSCRIBER_AGREEMENT_FORM:"Subscriber agreement form",COPY_OF_ID:"Copy of ID"});
Komodo.UI.Validators.MinLengthValidator=function(a,e,n){Komodo.UI.Validators.debug("MinLengthValidator.call()");var t=Ember.A(),i=a[Object.keys(a)[0]];n=n||{};var r=n.displayName,l=n.lengthErrorMessage||kl.value("validations.minLengthDefaultErrorMessage",{displayName:r,minLength:n.minLength});return i&&i.length<n.minLength&&t.addObject(l),t};
Komodo.UI.Validators.MaxLengthValidator=function(a,e,t){Komodo.UI.Validators.debug("MaxLengthValidator.call()");var r=Ember.A(),l=a[Object.keys(a)[0]];t=t||{};var o=t.displayName,d=t.lengthErrorMessage||kl.value("validations.maxLengthDefaultErrorMessage",{displayName:o,maxLength:t.maxLength});return l&&l.length>t.maxLength&&r.addObject(d),r};
Komodo.UI.Validators.DatePickerValidator=function(a,i,e){Komodo.UI.Validators.debug("DatePickerValidator.call()");var l=Ember.A(),t=a[Object.keys(a)[0]];e=e||{};var d=e.minDate,o=e.maxDate,n=e.displayName;if(void 0===t||null===t||""===t)return l;if("[object Date]"===Object.prototype.toString.call(t))return t<d&&l.addObject(e.invalidDate||kl.value("locale.komodo:validation.datepicker.invalidMinDate",{displayName:n})),t>o&&l.addObject(e.invalidDate||kl.value("locale.komodo:validation.datepicker.invalidMaxDate",{displayName:n})),t.getFullYear()>9999&&l.addObject(e.invalidFormat||kl.value("locale.komodo:validation.datepicker.invalidFormat",{displayName:n})),l;if(!t.match(/^(\d{2})\/(\d{2})\/(\d{4})$/))return[e.invalidFormat||kl.value("locale.komodo:validation.datepicker.invalidFormat",{displayName:n})];var v=t.split("/"),r=new Date(Date.UTC(v[2],v[1]-1,v[0]));return void 0!=d&&-1!=d.toString().indexOf("/")&&(d=d.split("/"),d=new Date(Date.UTC(d[2],d[1]-1,d[0]))),void 0!=o&&-1!=o.toString().indexOf("/")&&(o=o.split("/"),o=new Date(Date.UTC(o[2],o[1]-1,o[0]))),r.getDate()!=v[0]?[e.invalidFormat||kl.value("locale.komodo:validation.datepicker.invalidDay",{displayName:n})]:r.getMonth()!=v[1]-1?[e.invalidFormat||kl.value("locale.komodo:validation.datepicker.invalidMonth",{displayName:n})]:r<d?[e.invalidDate||kl.value("locale.komodo:validation.datepicker.invalidMinDate",{displayName:n})]:r>o?[e.invalidDate||kl.value("locale.komodo:validation.datepicker.invalidMaxDate",{displayName:n})]:l};
$(function(){var o=io("http://localhost:51802"),i=io("http://localhost:51803");io("http://localhost:51804").on("pushNotification",function(o){console.log("PushNotification message coming to the UI : "+JSON.stringify(o)),Komodo.Services.pushNotificationService.setMessageType(o.messageType),Komodo.Services.pushNotificationService.setPayload(o.payload),Komodo.Services.pushNotificationService.publishNotificationEvent()}),o.on("restart",function(o){console.log("Restart message coming to the UI : "+JSON.stringify(o)),o.restart?($("#login-notification").removeClass("komodo-hidden"),$("#login-notification-container").removeClass("komodo-hidden"),$("#main-notification").removeClass("komodo-hidden")):($("#login-notification").addClass("komodo-hidden"),$("#login-notification-container").addClass("komodo-hidden"),$("#main-notification").addClass("komodo-hidden"))}),i.on("serviceUpdate",function(o){o.serviceUpdate?($("#service-update-notification").removeClass("komodo-hidden"),$("#service-update-login-notification").removeClass("komodo-hidden"),$("#login-notification-container").removeClass("komodo-hidden")):($("#service-update-notification").addClass("komodo-hidden"),$("#service-update-login-notification").addClass("komodo-hidden"),$("#login-notification-container").addClass("komodo-hidden"))})});
Ember.TEMPLATES.UserRoleListView=Ember.Handlebars.template(function(s,e,a,o,h){function t(s,e){var o;return o=a._triageMustache.call(s,"role",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("<br/>"),""}function c(s,e){var o;return o=a._triageMustache.call(s,"icc",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("<br />"),""}function l(s,e){var o;return o=a._triageMustache.call(s,"crm",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}),(o||0===o)&&e.buffer.push(o),e.buffer.push("<br />"),""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),h=h||{};var r,n,p,u=a.helperMissing,f=this.escapeExpression,i=this;return h.buffer.push('<br/>\r\n<p class="bg-warning sub-heading">'),h.buffer.push(f((n=a.loc||e&&e.loc,p={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:h},n?n.call(e,"locale.komodo:system.rolesMismatchMessage",p):u.call(e,"loc","locale.komodo:system.rolesMismatchMessage",p)))),h.buffer.push(" "),h.buffer.push(f((n=a.loc||e&&e.loc,p={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:h},n?n.call(e,"locale.komodo:system.contactServiceDesk",p):u.call(e,"loc","locale.komodo:system.contactServiceDesk",p)))),h.buffer.push('</p>\r\n<br/>\r\n<p class="sub-heading">'),h.buffer.push(f((n=a.loc||e&&e.loc,p={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:h},n?n.call(e,"locale.komodo:system.clarityRoles",p):u.call(e,"loc","locale.komodo:system.clarityRoles",p)))),h.buffer.push('</p>\r\n<p class="bg-info">'),r=a.each.call(e,"role","in","view._clarityRoles",{hash:{},hashTypes:{},hashContexts:{},inverse:i.noop,fn:i.program(1,t,h),contexts:[e,e,e],types:["ID","ID","ID"],data:h}),(r||0===r)&&h.buffer.push(r),h.buffer.push('</p>\r\n<br/>\r\n<p class="sub-heading">'),h.buffer.push(f((n=a.loc||e&&e.loc,p={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:h},n?n.call(e,"locale.komodo:system.iccRoles",p):u.call(e,"loc","locale.komodo:system.iccRoles",p)))),h.buffer.push('</p>\r\n<p class="bg-info">'),r=a.each.call(e,"icc","in","view._iccRoles",{hash:{},hashTypes:{},hashContexts:{},inverse:i.noop,fn:i.program(3,c,h),contexts:[e,e,e],types:["ID","ID","ID"],data:h}),(r||0===r)&&h.buffer.push(r),h.buffer.push('</p>\r\n<br />\r\n<p class="sub-heading">'),h.buffer.push(f((n=a.loc||e&&e.loc,p={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:h},n?n.call(e,"locale.komodo:system.crmRoles",p):u.call(e,"loc","locale.komodo:system.crmRoles",p)))),h.buffer.push('</p>\r\n<p class="bg-info">'),r=a.each.call(e,"crm","in","view._crmRoles",{hash:{},hashTypes:{},hashContexts:{},inverse:i.noop,fn:i.program(5,l,h),contexts:[e,e,e],types:["ID","ID","ID"],data:h}),(r||0===r)&&h.buffer.push(r),h.buffer.push("</p>\r\n<br />\r\n"),""});
Ember.TEMPLATES.ThemeSwitcherView=Ember.Handlebars.template(function(e,t,n,o,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var i=this.escapeExpression;a.buffer.push(i(n.view.call(t,"Komodo.Controls.Select",{hash:{contentBinding:"KomodoConfiguration.themes",optionLabelPath:"content",optionValuePath:"content",label:"Choose Theme",valueBinding:"Komodo.Services.themeSwitcherService.theme"},hashTypes:{contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",label:"STRING",valueBinding:"STRING"},hashContexts:{contentBinding:t,optionLabelPath:t,optionValuePath:t,label:t,valueBinding:t},contexts:[t],types:["ID"],data:a})))});
Ember.TEMPLATES.CollapsibleView=Ember.Handlebars.template(function(s,a,e,t,n){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,Ember.Handlebars.helpers),n=n||{};var i,l=this.escapeExpression;return n.buffer.push("<div "),n.buffer.push(l(e["bind-attr"].call(a,{hash:{class:"view.headerCollapseClass"},hashTypes:{class:"STRING"},hashContexts:{class:a},contexts:[],types:[],data:n}))),n.buffer.push(" "),n.buffer.push(l(e.action.call(a,"toggleState",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:n}))),n.buffer.push(">\r\n\t<h5><span "),n.buffer.push(l(e["bind-attr"].call(a,{hash:{class:"view.changeIconClass"},hashTypes:{class:"STRING"},hashContexts:{class:a},contexts:[],types:[],data:n}))),n.buffer.push(">&nbsp;</span>&nbsp;"),i=e._triageMustache.call(a,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:n}),(i||0===i)&&n.buffer.push(i),n.buffer.push('</h5>\r\n    <span class="komodo-collapsible-view-links-container">\r\n        '),n.buffer.push(l(e.view.call(a,"Komodo.Application.CollapsibleViewLinkView",{hash:{contentBinding:"view._links",defaultSeparatorClassNamesBinding:"view._defaultSeparatorClassNames",defaultLinkClassNamesBinding:"view._defaultLinkClassNames"},hashTypes:{contentBinding:"STRING",defaultSeparatorClassNamesBinding:"STRING",defaultLinkClassNamesBinding:"STRING"},hashContexts:{contentBinding:a,defaultSeparatorClassNamesBinding:a,defaultLinkClassNamesBinding:a},contexts:[a],types:["ID"],data:n}))),n.buffer.push("\r\n    </span>\r\n</div>"),""});
Ember.TEMPLATES.SearchProcessResponseView=Ember.Handlebars.template(function(t,e,s,a,r){function n(t,e){var a;return e.buffer.push("\r\n\t\t\t\t\t"),a=s.each.call(t,"item","in","view.context._displayData",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(2,h,e),contexts:[t,t,t],types:["ID","ID","ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n\t\t\t\t"),""}function h(t,e){var a,r,n;return e.buffer.push("\r\n\t\t\t\t\t<tr class='komodo-process-response'>\r\n\t\t\t\t\t\t<td "),e.buffer.push(f(s.action.call(t,"toggleVisibility",{hash:{target:"item.controller"},hashTypes:{target:"STRING"},hashContexts:{target:t},contexts:[t],types:["STRING"],data:e}))),e.buffer.push(">\r\n\t\t\t\t\t\t\t<span class='search-result-name'>"),e.buffer.push(f((r=s.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:e},r?r.call(t,"locale.komodo:eventName",n):b.call(t,"loc","locale.komodo:eventName",n)))),e.buffer.push(": </span>&nbsp;<span class='search-result-value'>"),a=s._triageMustache.call(t,"item.hit._source.ResponseMessage.EventName",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("</span><br/>\r\n\t\t\t\t\t\t\t<span class='search-result-name'>"),e.buffer.push(f((r=s.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:e},r?r.call(t,"locale.komodo:eventDateTime",n):b.call(t,"loc","locale.komodo:eventDateTime",n)))),e.buffer.push(": </span>&nbsp;<span class='search-result-value'>"),a=s._triageMustache.call(t,"item.hit._source.ResponseMessage.EventMetaData.Event.Timestamp",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("</span><br/>\r\n\t\t\t\t\t\t\t<div "),e.buffer.push(f(s["bind-attr"].call(t,{hash:{class:"item.controller.visible:komodo-show:komodo-hidden"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:e}))),e.buffer.push(">\r\n\t\t\t\t\t\t\t\t"),a=s.if.call(t,"item.controller.viewClass",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(5,l,e),fn:d.program(3,o,e),contexts:[t],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t"),""}function o(t,e){return e.buffer.push("\r\n\t\t\t\t\t\t\t\t"),e.buffer.push(f(s.view.call(t,"item.controller.viewClass",{hash:{contextBinding:"item"},hashTypes:{contextBinding:"STRING"},hashContexts:{contextBinding:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n\t\t\t\t\t\t\t\t"),""}function l(t,e){var a;return e.buffer.push("\r\n\t\t\t\t\t\t\t\t"),a=s.if.call(t,"item.controller.hasResponseMessageObject",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(8,c,e),fn:d.program(6,u,e),contexts:[t],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n\t\t\t\t\t\t\t\t"),""}function u(t,e){return e.buffer.push("\r\n\t\t\t\t\t\t\t\t"),e.buffer.push(f(s._triageMustache.call(t,"item.controller.buildTreeView",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n\t\t\t\t\t\t\t\t"),""}function c(t,e){var a;return e.buffer.push("\r\n\t\t\t\t\t\t\t\t"),a=s._triageMustache.call(t,"item.hit._source.ResponseMessage",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n\t\t\t\t\t\t\t\t"),""}function p(t,e){var a,r;return e.buffer.push("\r\n\t\t\t\t"),e.buffer.push(f((a=s.loc||t&&t.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:e},a?a.call(t,"locale.komodo:shell.searchProcessResponseEmpty",r):b.call(t,"loc","locale.komodo:shell.searchProcessResponseEmpty",r)))),e.buffer.push("\r\n\t\t\t\t"),""}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),r=r||{};var i,f=this.escapeExpression,d=this,b=s.helperMissing;return r.buffer.push("<div class='modal-max-size'>\r\n\t<div>\r\n\t\t<table id='search-process-response-results' width='100%'>\r\n\t\t\t<tbody>\r\n\t\t\t\t"),i=s.if.call(e,"controller._hasData",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(10,p,r),fn:d.program(1,n,r),contexts:[e],types:["ID"],data:r}),(i||0===i)&&r.buffer.push(i),r.buffer.push("\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t\t"),r.buffer.push(f(s.view.call(e,"Komodo.Controls.Pager",{hash:{mode:"virtual",contentLengthBinding:"_totalHits",pageSelectedAction:"pageSelected",itemsPerPage:"10",visiblePageCount:"10"},hashTypes:{mode:"STRING",contentLengthBinding:"STRING",pageSelectedAction:"STRING",itemsPerPage:"STRING",visiblePageCount:"STRING"},hashContexts:{mode:e,contentLengthBinding:e,pageSelectedAction:e,itemsPerPage:e,visiblePageCount:e},contexts:[e],types:["ID"],data:r}))),r.buffer.push("\r\n\t</div>\r\n</div>"),""});
Ember.TEMPLATES.CollapsibleViewLinkView=Ember.Handlebars.template(function(s,e,a,t,h){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),h=h||{};var r,i=this.escapeExpression;return h.buffer.push("<a "),h.buffer.push(i(a["bind-attr"].call(e,{hash:{class:"view.linkClassNames",action:"view.action",href:"view.href",target:"view.target"},hashTypes:{class:"STRING",action:"STRING",href:"STRING",target:"STRING"},hashContexts:{class:e,action:e,href:e,target:e},contexts:[],types:[],data:h}))),h.buffer.push(">"),r=a._triageMustache.call(e,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h}),(r||0===r)&&h.buffer.push(r),h.buffer.push("</a>\r\n<span "),h.buffer.push(i(a["bind-attr"].call(e,{hash:{class:":collapsible-view-link-separator view.separatorClassNames"},hashTypes:{class:"STRING"},hashContexts:{class:e},contexts:[],types:[],data:h}))),h.buffer.push(">"),r=a._triageMustache.call(e,"view._separatorText",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h}),(r||0===r)&&h.buffer.push(r),h.buffer.push("</span>\r\n"),""});
Ember.TEMPLATES.LabelFieldLabelView=Ember.Handlebars.template(function(e,s,a,t,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),r=r||{};var h,i=this.escapeExpression;return h=a._triageMustache.call(s,"view.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" <span "),r.buffer.push(i(a["bind-attr"].call(s,{hash:{class:"view.validator.hasRequiredValidator:error-text:komodo-hidden",id:"elementId"},hashTypes:{class:"STRING",id:"STRING"},hashContexts:{class:s,id:s},contexts:[],types:[],data:r}))),r.buffer.push(">*</span>"),""});
Ember.TEMPLATES.LabelFieldValidationView=Ember.Handlebars.template(function(e,a,s,t,r){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),r=r||{};var h;return r.buffer.push('<span class="error-text">'),h=s._triageMustache.call(a,"view.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("</span>"),""});
Ember.TEMPLATES.LabelFieldView=Ember.Handlebars.template(function(e,s,a,h,t){function r(e,s){return s.buffer.push("\r\n  "),s.buffer.push(p(a.view.call(e,"view.validationView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n"),""}function n(e,s){s.buffer.push("\r\n  <span>&nbsp;</span>\r\n")}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),t=t||{};var i,p=this.escapeExpression,f=this;return t.buffer.push(p(a.view.call(s,"view.LabelView",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:t}))),t.buffer.push(" <span "),t.buffer.push(p(a["bind-attr"].call(s,{hash:{class:"view.validator.hasRequiredValidator:error-text:komodo-hidden"},hashTypes:{class:"STRING"},hashContexts:{class:s},contexts:[],types:[],data:t}))),t.buffer.push(">*</span><br/>\r\n"),t.buffer.push(p(a.view.call(s,"view.FieldView",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:t}))),t.buffer.push("<br/>\r\n"),i=a.if.call(s,"view.validationView",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(3,n,t),fn:f.program(1,r,t),contexts:[s],types:["ID"],data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("<br/>   "),""});
Ember.TEMPLATES.CoreCheckBoxBaseView=Ember.Handlebars.template(function(e,a,t,i,d){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),d=d||{};var s=this.escapeExpression;return d.buffer.push('<label class="checkbox-inline"><input type="checkbox" '),d.buffer.push(s(t["bind-attr"].call(a,{hash:{checked:"view.checked",tabindex:"view.tabindex",id:"view._checkBoxId",disabled:"view.disabled","data-title":"view.dataTitle"},hashTypes:{checked:"STRING",tabindex:"STRING",id:"STRING",disabled:"STRING","data-title":"STRING"},hashContexts:{checked:a,tabindex:a,id:a,disabled:a,"data-title":a},contexts:[],types:[],data:d}))),d.buffer.push("/></label>\r\n"),""});
Ember.TEMPLATES.CoreCheckBoxSwitchView=Ember.Handlebars.template(function(e,s,t,a,o){function h(e,s){var a,o;return s.buffer.push("\r\n        "),s.buffer.push(l((a=t.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},a?a.call(e,"locale.komodo:controls.toggleButton.on",o):r.call(e,"loc","locale.komodo:controls.toggleButton.on",o)))),s.buffer.push("\r\n    "),""}function n(e,s){var a,o;return s.buffer.push("\r\n        "),s.buffer.push(l((a=t.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},a?a.call(e,"locale.komodo:controls.toggleButton.off",o):r.call(e,"loc","locale.komodo:controls.toggleButton.off",o)))),s.buffer.push("\r\n    "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),o=o||{};var c,r=t.helperMissing,l=this.escapeExpression,i=this;return o.buffer.push("<span "),o.buffer.push(l(t["bind-attr"].call(s,{hash:{class:":komodo-switch view.checked:switch-on:switch-off view.disabled:switch-disabled"},hashTypes:{class:"STRING"},hashContexts:{class:s},contexts:[],types:[],data:o}))),o.buffer.push('>\r\n   <input type="checkbox" '),o.buffer.push(l(t["bind-attr"].call(s,{hash:{checked:"view.checked",id:"view._checkBoxId",disabled:"view.disabled","data-title":"view.dataTitle"},hashTypes:{checked:"STRING",id:"STRING",disabled:"STRING","data-title":"STRING"},hashContexts:{checked:s,id:s,disabled:s,"data-title":s},contexts:[],types:[],data:o}))),o.buffer.push("/>\r\n   <span>\r\n    "),c=t.if.call(s,"view.checked",{hash:{},hashTypes:{},hashContexts:{},inverse:i.program(3,n,o),fn:i.program(1,h,o),contexts:[s],types:["ID"],data:o}),(c||0===c)&&o.buffer.push(c),o.buffer.push("\r\n    </span>\r\n    <div>&nbsp;</div>\r\n\r\n</span>\r\n"),""});
Ember.TEMPLATES.CoreCheckBoxToggleView=Ember.Handlebars.template(function(e,s,t,a,o){function h(e,s){var a,o;return s.buffer.push("\r\n        "),s.buffer.push(r((a=t.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},a?a.call(e,"locale.komodo:controls.toggleButton.on",o):c.call(e,"loc","locale.komodo:controls.toggleButton.on",o)))),s.buffer.push("\r\n    "),""}function l(e,s){var a,o;return s.buffer.push("\r\n        "),s.buffer.push(r((a=t.loc||e&&e.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},a?a.call(e,"locale.komodo:controls.toggleButton.off",o):c.call(e,"loc","locale.komodo:controls.toggleButton.off",o)))),s.buffer.push("\r\n    "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),o=o||{};var n,c=t.helperMissing,r=this.escapeExpression,d=this;return o.buffer.push("<span "),o.buffer.push(r(t["bind-attr"].call(s,{hash:{class:":btn :btn-sm  view.checked:btn-success:btn-danger view.disabled:disabled"},hashTypes:{class:"STRING"},hashContexts:{class:s},contexts:[],types:[],data:o}))),o.buffer.push('>\r\n   <input type="checkbox" '),o.buffer.push(r(t["bind-attr"].call(s,{hash:{checked:"view.checked",id:"view._checkBoxId",disabled:"view.disabled","data-title":"view.dataTitle"},hashTypes:{checked:"STRING",id:"STRING",disabled:"STRING","data-title":"STRING"},hashContexts:{checked:s,id:s,disabled:s,"data-title":s},contexts:[],types:[],data:o}))),o.buffer.push("/>\r\n    "),n=t.if.call(s,"view.checked",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(3,l,o),fn:d.program(1,h,o),contexts:[s],types:["ID"],data:o}),(n||0===n)&&o.buffer.push(n),o.buffer.push("\r\n</span>\r\n"),""});
Ember.TEMPLATES.CoreDatePickerView=Ember.Handlebars.template(function(i,e,n,d,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var s=this.escapeExpression;return a.buffer.push(s(n.view.call(e,"Ember.TextField",{hash:{idBinding:"view._textFieldId",type:"text",valueBinding:"view.valueDisplay",tabindexBinding:"view.tabindex",isVisibleBinding:"view.isVisible",disabledBinding:"view.disabled",classNameBindings:":komodo-datepicker view.validationFailed",placeholder:"view.placeholderVal"},hashTypes:{idBinding:"STRING",type:"STRING",valueBinding:"STRING",tabindexBinding:"STRING",isVisibleBinding:"STRING",disabledBinding:"STRING",classNameBindings:"STRING",placeholder:"ID"},hashContexts:{idBinding:e,type:e,valueBinding:e,tabindexBinding:e,isVisibleBinding:e,disabledBinding:e,classNameBindings:e,placeholder:e},contexts:[e],types:["ID"],data:a}))),a.buffer.push("\r\n<span class='glyphicon glyphicon-calendar'></span>\r\n"),""});
Ember.TEMPLATES.CoreRadioButton=Ember.Handlebars.template(function(e,a,t,s,i){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),i=i||{};var d,h=this.escapeExpression;return i.buffer.push("<input type='radio' "),i.buffer.push(h(t["bind-attr"].call(a,{hash:{id:"view._radioButtonId",name:"view.name",value:"view.optionValue",checked:"view.checked",disabled:"view.disabled","data-title":"view.optionLabel"},hashTypes:{id:"STRING",name:"STRING",value:"STRING",checked:"STRING",disabled:"STRING","data-title":"STRING"},hashContexts:{id:a,name:a,value:a,checked:a,disabled:a,"data-title":a},contexts:[],types:[],data:i}))),i.buffer.push(" />\r\n"),d=t._triageMustache.call(a,"view.optionLabel",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:i}),(d||0===d)&&i.buffer.push(d),i.buffer.push("\r\n"),""});
Ember.TEMPLATES.CoreTextLabel=Ember.Handlebars.template(function(e,t,a,s,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),r=r||{};var h;h=a._triageMustache.call(t,"view.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),h||0===h?r.buffer.push(h):r.buffer.push("")});
Ember.TEMPLATES.CoreValidationView=Ember.Handlebars.template(function(e,t,a,s,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),r=r||{};var h;return h=a._triageMustache.call(t,"view.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("&nbsp;"),""});
Ember.TEMPLATES.RecentCustomersListView=Ember.Handlebars.template(function(t,n,e,s,o){function r(t,n){var s;return n.buffer.push('\r\n    <tr class="customer-record">\r\n      <td>\r\n        '),s=e.view.call(t,"Komodo.Controls.ActionView",{hash:{contentBinding:"item",action:"loadCustomer"},hashTypes:{contentBinding:"STRING",action:"STRING"},hashContexts:{contentBinding:t,action:t},inverse:d.noop,fn:d.program(2,i,n),contexts:[t],types:["ID"],data:n}),(s||0===s)&&n.buffer.push(s),n.buffer.push("\r\n      </td>\r\n      <td>\r\n        "),s=e.view.call(t,"Komodo.Controls.ActionView",{hash:{contentBinding:"item",action:"loadCustomer"},hashTypes:{contentBinding:"STRING",action:"STRING"},hashContexts:{contentBinding:t,action:t},inverse:d.noop,fn:d.program(4,a,n),contexts:[t],types:["ID"],data:n}),(s||0===s)&&n.buffer.push(s),n.buffer.push("\r\n      </td>\r\n      <td>"),s=e.view.call(t,"Komodo.Controls.ActionView",{hash:{contentBinding:"item",action:"loadCustomer"},hashTypes:{contentBinding:"STRING",action:"STRING"},hashContexts:{contentBinding:t,action:t},inverse:d.noop,fn:d.program(6,h,n),contexts:[t],types:["ID"],data:n}),(s||0===s)&&n.buffer.push(s),n.buffer.push("</td>\r\n    </tr>\r\n    "),""}function i(t,n){return n.buffer.push("\r\n          "),n.buffer.push(u(e.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"item.value",class:"customer-name"},hashTypes:{textBinding:"STRING",class:"STRING"},hashContexts:{textBinding:t,class:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n        "),""}function a(t,n){return n.buffer.push("\r\n        "),n.buffer.push(u(e.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{textBinding:"item.key",class:"customer-number"},hashTypes:{textBinding:"STRING",class:"STRING"},hashContexts:{textBinding:t,class:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\r\n          "),""}function h(t,n){return n.buffer.push(u(e.view.call(t,"Komodo.Controls.Link",{hash:{text:"~locale.customer:common.view~",contentBinding:"item"},hashTypes:{text:"STRING",contentBinding:"STRING"},hashContexts:{text:t,contentBinding:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push(" "),""}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,Ember.Handlebars.helpers),o=o||{};var c,u=this.escapeExpression,d=this;return o.buffer.push('<table width="100%">\r\n  <tbody>\r\n    '),c=e.each.call(n,"item","in","recentCustomersListModel.listData",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(1,r,o),contexts:[n,n,n],types:["ID","ID","ID"],data:o}),(c||0===c)&&o.buffer.push(c),o.buffer.push("\r\n    </tbody>\r\n</table>\r\n"),""});
Ember.TEMPLATES.PrerequisitesView=Ember.Handlebars.template(function(e,s,o,r,t){function a(e,s){var r;return s.buffer.push('<p class="bg-info sub-heading">'),r=o._triageMustache.call(e,"versionDetectedMessage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(r||0===r)&&s.buffer.push(r),s.buffer.push("</p>"),""}function l(e,s){var r,t;return s.buffer.push("\r\n        "),s.buffer.push(i((r=o.loc||e&&e.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s},r?r.call(e,"locale.komodo:prerequisites.redirect",t):c.call(e,"loc","locale.komodo:prerequisites.redirect",t)))),s.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,Ember.Handlebars.helpers),t=t||{};var h,p,n,c=o.helperMissing,i=this.escapeExpression,u=this;return t.buffer.push('<div class="prerequisites-padding">\r\n    <p class="komodo-heading">'),t.buffer.push(i((p=o.loc||s&&s.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:t},p?p.call(s,"locale.komodo:prerequisites.title",n):c.call(s,"loc","locale.komodo:prerequisites.title",n)))),t.buffer.push('</p>\r\n    <hr />\r\n    <p class="bg-primary">'),t.buffer.push(i((p=o.loc||s&&s.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:t},p?p.call(s,"locale.komodo:prerequisites.nodejs.description",n):c.call(s,"loc","locale.komodo:prerequisites.nodejs.description",n)))),t.buffer.push("</p>\r\n    <br />\r\n    "),h=o.if.call(s,"localServerRunning",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,a,t),contexts:[s],types:["ID"],data:t}),(h||0===h)&&t.buffer.push(h),t.buffer.push("\r\n    <br />\r\n\r\n    <h4> "),t.buffer.push(i((p=o.loc||s&&s.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:t},p?p.call(s,"locale.komodo:prerequisites.download",n):c.call(s,"loc","locale.komodo:prerequisites.download",n)))),t.buffer.push(" </h4>\r\n    <p>"),t.buffer.push(i((p=o.loc||s&&s.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:t},p?p.call(s,"locale.komodo:prerequisites.nodejs.installationDescription",n):c.call(s,"loc","locale.komodo:prerequisites.nodejs.installationDescription",n)))),t.buffer.push("</p>\r\n    <a "),t.buffer.push(i(o["bind-attr"].call(s,{hash:{href:"downloadUrl"},hashTypes:{href:"STRING"},hashContexts:{href:s},contexts:[],types:[],data:t}))),t.buffer.push(">"),t.buffer.push(i((p=o.loc||s&&s.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:t},p?p.call(s,"locale.komodo:prerequisites.nodejs.download",n):c.call(s,"loc","locale.komodo:prerequisites.nodejs.download",n)))),t.buffer.push("</a>\r\n    <br />\r\n\r\n    <p>"),t.buffer.push(i((p=o.loc||s&&s.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:t},p?p.call(s,"locale.komodo:prerequisites.nodejs.startService",n):c.call(s,"loc","locale.komodo:prerequisites.nodejs.startService",n)))),t.buffer.push("</p>\r\n    <br />\r\n\r\n    <h4> "),t.buffer.push(i((p=o.loc||s&&s.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:t},p?p.call(s,"locale.komodo:prerequisites.support.title",n):c.call(s,"loc","locale.komodo:prerequisites.support.title",n)))),t.buffer.push("</h4>\r\n\r\n    <p>"),t.buffer.push(i((p=o.loc||s&&s.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:t},p?p.call(s,"locale.komodo:prerequisites.support.description",n):c.call(s,"loc","locale.komodo:prerequisites.support.description",n)))),t.buffer.push("</p>\r\n    <br/>\r\n    <div>\r\n        "),h=o.view.call(s,"Komodo.Controls.Button",{hash:{action:"goToLogin"},hashTypes:{action:"STRING"},hashContexts:{action:s},inverse:u.noop,fn:u.program(3,l,t),contexts:[s],types:["ID"],data:t}),(h||0===h)&&t.buffer.push(h),t.buffer.push("\r\n    </div>\r\n</div>\r\n"),""});
Ember.TEMPLATES.NavigationView=Ember.Handlebars.template(function(e,n,s,t,r){function i(e,n){return n.buffer.push("\r\n"),n.buffer.push(o(s.view.call(e,"Komodo.Application.NavigationGroupView",{hash:{contentBinding:"group"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:e},contexts:[e],types:["ID"],data:n}))),n.buffer.push("\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),r=r||{};var a,o=this.escapeExpression,h=this;return r.buffer.push("\r\n"),a=s.each.call(n,"group","in","Komodo.Services.navigationService.tiles",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(1,i,r),contexts:[n,n,n],types:["ID","ID","ID"],data:r}),(a||0===a)&&r.buffer.push(a),r.buffer.push("\r\n"),""});
Ember.TEMPLATES.NavigationGroupView=Ember.Handlebars.template(function(e,s,t,n,a){function h(e,s){s.buffer.push('\r\n    <span class="right-arrow"></span>\r\n  ')}function i(e,s){return s.buffer.push("\r\n"),s.buffer.push(o(t.view.call(e,"Komodo.Application.GroupItemView",{hash:{contentBinding:"view.content.allTileLinks"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),a=a||{};var r,o=this.escapeExpression,p=this;return a.buffer.push("<div "),a.buffer.push(o(t["bind-attr"].call(s,{hash:{class:"view.isActive:komodo-quicklinks-title:komodo-nav-links"},hashTypes:{class:"STRING"},hashContexts:{class:s},contexts:[],types:[],data:a}))),a.buffer.push(">\r\n  <a "),a.buffer.push(o(t.action.call(s,"activateGroup","view.content",{hash:{},hashTypes:{},hashContexts:{},contexts:[s,s],types:["STRING","ID"],data:a}))),a.buffer.push(">"),r=t._triageMustache.call(s,"view.content.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a}),(r||0===r)&&a.buffer.push(r),a.buffer.push("</a>\r\n  "),r=t.if.call(s,"view.isActiveItem",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(1,h,a),contexts:[s],types:["ID"],data:a}),(r||0===r)&&a.buffer.push(r),a.buffer.push("\r\n</div>\r\n"),r=t.if.call(s,"view.isActive",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(3,i,a),contexts:[s],types:["ID"],data:a}),(r||0===r)&&a.buffer.push(r),a.buffer.push("\r\n"),""});
Ember.TEMPLATES.GroupItemView=Ember.Handlebars.template(function(s,e,t,a,h){function r(s,e){e.buffer.push('<span class="right-arrow"></span>')}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),h=h||{};var n,p=this.escapeExpression,u=this;return h.buffer.push("<a "),h.buffer.push(p(t.action.call(e,"activateGroup","view.content",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:h}))),h.buffer.push(" "),h.buffer.push(p(t["bind-attr"].call(e,{hash:{class:"view.isActiveClass"},hashTypes:{class:"STRING"},hashContexts:{class:e},contexts:[],types:[],data:h}))),h.buffer.push(">"),n=t._triageMustache.call(e,"view.content.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h}),(n||0===n)&&h.buffer.push(n),h.buffer.push(" "),n=t.if.call(e,"view.isActiveItem",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,r,h),contexts:[e],types:["ID"],data:h}),(n||0===n)&&h.buffer.push(n),h.buffer.push("</a>\r\n\r\n"),""});
Ember.TEMPLATES.LocalizationChangerView=Ember.Handlebars.template(function(e,n,i,a,t){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,Ember.Handlebars.helpers),t=t||{};var l=this.escapeExpression;t.buffer.push(l(i.view.call(n,"Ember.Select",{hash:{valueBinding:"view.selectedLanguage",contentBinding:"view.languages",optionLabelPath:"content.value",optionValuePath:"content.key",disableBinding:"view.disabled"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING"},hashContexts:{valueBinding:n,contentBinding:n,optionLabelPath:n,optionValuePath:n,disableBinding:n},contexts:[n],types:["ID"],data:t})))});
Ember.TEMPLATES.HomeView=Ember.Handlebars.template(function(e,s,t,n,r){function i(e,s){var n;return s.buffer.push("\r\n  "),n=t.if.call(e,"item.display",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(2,a,s),contexts:[e],types:["ID"],data:s}),(n||0===n)&&s.buffer.push(n),s.buffer.push("\r\n  "),""}function a(e,s){var n;return s.buffer.push("\r\n  "),n=t.view.call(e,"Komodo.Controls.ActionView",{hash:{action:"activateGroup",target:"controller",contextBinding:"item"},hashTypes:{action:"STRING",target:"STRING",contextBinding:"STRING"},hashContexts:{action:e,target:e,contextBinding:e},inverse:c.noop,fn:c.program(3,o,s),contexts:[e],types:["ID"],data:s}),(n||0===n)&&s.buffer.push(n),s.buffer.push("\r\n\r\n  "),""}function o(e,s){var n;return s.buffer.push('\r\n  <div class="komodo-link-tile" id="homeImages">\r\n    <img class="img-responsive"  '),s.buffer.push(p(t["bind-attr"].call(e,{hash:{src:"item.imageurl"},hashTypes:{src:"STRING"},hashContexts:{src:e},contexts:[],types:[],data:s}))),s.buffer.push(' />\r\n    <h3 class="komodo-tile-heading">'),n=t._triageMustache.call(e,"item.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(n||0===n)&&s.buffer.push(n),s.buffer.push('</h3>\r\n    <br/>\r\n      <div class="home-tile-link-display">'),s.buffer.push(p(t.view.call(e,"Komodo.Application.HomeTileLinkView",{hash:{contentBinding:"item.homeTileLinks"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("</div><br/> \r\n  </div>\r\n  "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var h,p=this.escapeExpression,c=this;return r.buffer.push('<div class="komodo-homeview">\r\n  '),h=t.each.call(s,"item","in","Komodo.Services.navigationService.tiles",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,i,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("\r\n    <br/>\r\n    <br/>\r\n</div>"),""});
Ember.TEMPLATES.HomeTileLinkView=Ember.Handlebars.template(function(e,s,a,t,h){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),h=h||{};var r,p=this.escapeExpression;return h.buffer.push("<a "),h.buffer.push(p(a.action.call(s,"activateGroup","view.module",{hash:{},hashTypes:{},hashContexts:{},contexts:[s,s],types:["STRING","ID"],data:h}))),h.buffer.push(">"),r=a._triageMustache.call(s,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:h}),(r||0===r)&&h.buffer.push(r),h.buffer.push("</a><span "),h.buffer.push(p(a["bind-attr"].call(s,{hash:{class:"view.isHidden"},hashTypes:{class:"STRING"},hashContexts:{class:s},contexts:[],types:[],data:h}))),h.buffer.push("> | </span>\r\n"),""});
Ember.TEMPLATES.DataGridLabel=Ember.Handlebars.template(function(e,t,a,s,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),r=r||{};var h;h=a._triageMustache.call(t,"view.content.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),h||0===h?r.buffer.push(h):r.buffer.push("")});
Ember.TEMPLATES.FailedMessagesView=Ember.Handlebars.template(function(e,s,t,a,h){function r(e,s){var a;return s.buffer.push("\r\n        <tr>\r\n          <td>"),a=t._triageMustache.call(e,"item.messageException.messageId",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(a||0===a)&&s.buffer.push(a),s.buffer.push("</td>\r\n          <td>"),a=t._triageMustache.call(e,"item.messageException.faultCode",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(a||0===a)&&s.buffer.push(a),s.buffer.push("</td>\r\n          <td>"),a=t._triageMustache.call(e,"item.messageException.faultString",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(a||0===a)&&s.buffer.push(a),s.buffer.push("</td>\r\n        </tr>\r\n      "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),h=h||{};var n,i,o,u=this.escapeExpression,l=t.helperMissing,d=this;return h.buffer.push("<div id='komodo-debug-popup'>\r\n\t<span class='komodo-minimize'>\r\n\t\t<a href='#' "),h.buffer.push(u(t.action.call(s,"hideFailedMessages",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:h}))),h.buffer.push(" class='komodo-minimize' id='debug-minimize'><i class='icon-minus-sign icon-white'></i></a>\r\n\t</span>\r\n\t<h4 class=\"komodo-message-failure-heading\">"),h.buffer.push(u((i=t.loc||s&&s.loc,o={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:h},i?i.call(s,"debug.failedMessagesTitle",o):l.call(s,"loc","debug.failedMessagesTitle",o)))),h.buffer.push('</h4>\r\n  <table class="table table-bordered komodo-datagrid">\r\n      <tr>\r\n        <th>Message Id</th>\r\n        <th>Fault Code</th>\r\n        <th>Fault String</th>\r\n      </tr>\r\n      '),n=t.each.call(s,"item","in","_failedMessages",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(1,r,h),contexts:[s,s,s],types:["ID","ID","ID"],data:h}),(n||0===n)&&h.buffer.push(n),h.buffer.push("\r\n  </table>\r\n</div>\r\n"),""});
Ember.TEMPLATES.DebugView=Ember.Handlebars.template(function(e,n,t,a,s){function o(e,n){var a,s;return n.buffer.push("\r\n            "),n.buffer.push(d((a=t.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:n},a?a.call(e,"debug.search",s):h.call(e,"loc","debug.search",s)))),n.buffer.push("\r\n            "),""}function r(e,n){var a,s;return n.buffer.push("\r\n        "),n.buffer.push(d((a=t.loc||e&&e.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:n},a?a.call(e,"debug.clearLog",s):h.call(e,"loc","debug.clearLog",s)))),n.buffer.push("\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),s=s||{};var l,i,c,h=t.helperMissing,d=this.escapeExpression,u=this;return s.buffer.push('<div id="komodo-debug-popup">\r\n\t<span class="komodo-minimize">\r\n\t\t<a href="#" '),s.buffer.push(d(t.action.call(n,"hideDebug",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(' class="komodo-minimize" id="debug-minimize"><i class="icon-minus-sign icon-white"></i></a>\r\n\t</span>\r\n\t<h4>'),s.buffer.push(d((i=t.loc||n&&n.loc,c={hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s},i?i.call(n,"debug.title",c):h.call(n,"loc","debug.title",c)))),s.buffer.push('</h4>\r\n  <table width="100%">\r\n    <tr>\r\n     \r\n      <td width="30%">\r\n        <table width="100%">\r\n          '),s.buffer.push(d(t.view.call(n,"Komodo.Controls.Select",{hash:{valueBinding:"data.selectedSourceFilter",label:"~debug.sourceFilter~",contentBinding:"data.sourceFilters",optionLabelPath:"content",optionValuePath:"content.value",prompt:"~debug.sourceFilterPrompt~",class:"komodo-clearlog"},hashTypes:{valueBinding:"STRING",label:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING",class:"STRING"},hashContexts:{valueBinding:n,label:n,contentBinding:n,optionLabelPath:n,optionValuePath:n,prompt:n,class:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\r\n        </table>\r\n      </td>\r\n   \r\n      <td width="30%">\r\n        <table width="100%">\r\n          <div class="input-append">\r\n            '),s.buffer.push(d(t.view.call(n,"Ember.TextField",{hash:{valueBinding:"data.searchText",id:"search-field"},hashTypes:{valueBinding:"STRING",id:"STRING"},hashContexts:{valueBinding:n,id:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\r\n            "),l=t.view.call(n,"Komodo.Controls.Button",{hash:{action:"search",class:"button-no-margin"},hashTypes:{action:"STRING",class:"STRING"},hashContexts:{action:n,class:n},inverse:u.noop,fn:u.program(1,o,s),contexts:[n],types:["ID"],data:s}),(l||0===l)&&s.buffer.push(l),s.buffer.push('\r\n          </div>\r\n        </table>\r\n      </td>\r\n    </tr>\r\n    \r\n    <tr>\r\n      <td  colspan="3">\r\n        '),s.buffer.push(d(t.view.call(n,"Komodo.Controls.DataGrid",{hash:{canSort:!0,pageSize:10,performsValidation:!1,canDelete:!1,canEdit:!1,canSelect:!0,selectedItemBinding:"selectedLog",contentBinding:"logData",columnsBinding:"logDataColumns",class:"table-condensed"},hashTypes:{canSort:"BOOLEAN",pageSize:"INTEGER",performsValidation:"BOOLEAN",canDelete:"BOOLEAN",canEdit:"BOOLEAN",canSelect:"BOOLEAN",selectedItemBinding:"STRING",contentBinding:"STRING",columnsBinding:"STRING",class:"STRING"},hashContexts:{canSort:n,pageSize:n,performsValidation:n,canDelete:n,canEdit:n,canSelect:n,selectedItemBinding:n,contentBinding:n,columnsBinding:n,class:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\r\n      </td>\r\n  \r\n    </tr>\r\n    <tr>\r\n      <td  colspan="3">\r\n        '),l=t.view.call(n,"Komodo.Controls.Button",{hash:{action:"clearLog",class:"komodo-clearlog"},hashTypes:{action:"STRING",class:"STRING"},hashContexts:{action:n,class:n},inverse:u.noop,fn:u.program(3,r,s),contexts:[n],types:["ID"],data:s}),(l||0===l)&&s.buffer.push(l),s.buffer.push("\r\n      </td>\r\n   \r\n    </tr>\r\n  </table>\r\n</div>\r\n"),""});
Ember.TEMPLATES.RecentCustomersView=Ember.Handlebars.template(function(e,s,t,o,n){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),n=n||{};var a,r,h=this.escapeExpression,i=t.helperMissing;return n.buffer.push('<div id="komodo-recent-customers-container">\r\n\t<span class="komodo-minimize">\r\n\t\t<a href="#" '),n.buffer.push(h(t.action.call(s,"hide",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:n}))),n.buffer.push(' class="komodo-minimize" id="debug-minimize"><span class="glyphicon glyphicon-minus-sign"></span></a>\r\n\t</span>\r\n\t<h4>'),n.buffer.push(h((a=t.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:n},a?a.call(s,"locale.komodo:recentCustomers",r):i.call(s,"loc","locale.komodo:recentCustomers",r)))),n.buffer.push("</h4>\r\n    <div>\r\n        "),n.buffer.push(h((a=t.outlet||s&&s.outlet,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:n},a?a.call(s,"customerList",r):i.call(s,"outlet","customerList",r)))),n.buffer.push("\r\n    </div>\r\n</div>\r\n"),""});
Ember.TEMPLATES.BusyIndicatorView=Ember.Handlebars.template(function(e,s,t,r,a){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),a=a||{};var n;return a.buffer.push('<img src="Content/Images/busy-indicator.svg"/>  '),n=t._triageMustache.call(s,"view.controller.busyIndicatorTitle",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a}),(n||0===n)&&a.buffer.push(n),""});
Ember.TEMPLATES.BusyIndicatorBlockingView=Ember.Handlebars.template(function(e,t,s,a,r){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),r=r||{};var n;return r.buffer.push('<img src="Content/Images/busy-indicator.svg"/>  '),n=s._triageMustache.call(t,"view.context.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(n||0===n)&&r.buffer.push(n),""});
Ember.TEMPLATES.LoginView=Ember.Handlebars.template(function(n,i,a,e,s){function t(n,i){var e;return i.buffer.push("\r\n\r\n"),e=a.view.call(n,"Komodo.Controls.FormView",{hash:{action:"login",disableBinding:"isLoginDisabled"},hashTypes:{action:"STRING",disableBinding:"STRING"},hashContexts:{action:n,disableBinding:n},inverse:b.noop,fn:b.program(2,o,i),contexts:[n],types:["ID"],data:i}),(e||0===e)&&i.buffer.push(e),i.buffer.push("\r\n"),""}function o(n,i){var e;return i.buffer.push("\r\n<div>\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.TextField",{hash:{type:"text",valueBinding:"data.userName",disableBinding:"isUserNameDisabled",validatorBinding:"validators.userNameValidator",label:"~login.username~",class:"auto-width"},hashTypes:{type:"STRING",valueBinding:"STRING",disableBinding:"STRING",validatorBinding:"STRING",label:"STRING",class:"STRING"},hashContexts:{type:n,valueBinding:n,disableBinding:n,validatorBinding:n,label:n,class:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.TextField",{hash:{type:"password",valueBinding:"data.password",disableBinding:"isControlDisabled",validatorBinding:"validators.passwordValidator",label:"~login.password~",class:"auto-width"},hashTypes:{type:"STRING",valueBinding:"STRING",disableBinding:"STRING",validatorBinding:"STRING",label:"STRING",class:"STRING"},hashContexts:{type:n,valueBinding:n,disableBinding:n,validatorBinding:n,label:n,class:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.Select",{hash:{valueBinding:"data.loginCountry",contentBinding:"_content",optionLabelPath:"content.value",optionValuePath:"content",disableBinding:"isControlDisabled",validatorBinding:"validators.loginCountryValidator",label:"~login.country~",selectionBinding:"_defaultCountry",class:"auto-width"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING",validatorBinding:"STRING",label:"STRING",selectionBinding:"STRING",class:"STRING"},hashContexts:{valueBinding:n,contentBinding:n,optionLabelPath:n,optionValuePath:n,disableBinding:n,validatorBinding:n,label:n,selectionBinding:n,class:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n    <br />\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.Link",{hash:{hrefBinding:"KomodoConfiguration.passwordChangeUrl",text:"~login.changePasswordLink~",target:"_blank"},hashTypes:{hrefBinding:"STRING",text:"STRING",target:"STRING"},hashContexts:{hrefBinding:n,text:n,target:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("<br />\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.Link",{hash:{action:"showOptions",text:"~login.optionsLink~",visibleBinding:"isOptionsLinkVisible"},hashTypes:{action:"STRING",text:"STRING",visibleBinding:"STRING"},hashContexts:{action:n,text:n,visibleBinding:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push(" <br />\r\n    <div "),i.buffer.push(u(a["bind-attr"].call(n,{hash:{class:"isOptionsVisible:komodo-show:komodo-hidden"},hashTypes:{class:"STRING"},hashContexts:{class:n},contexts:[],types:[],data:i}))),i.buffer.push(">\r\n        <br />\r\n        "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.CoreTextLabel",{hash:{text:"~login.changeLanguageLabel~"},hashTypes:{text:"STRING"},hashContexts:{text:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n        "),i.buffer.push(u(a.view.call(n,"Komodo.Application.LocalizationChangerView",{hash:{disableBinding:"isControlDisabled"},hashTypes:{disableBinding:"STRING"},hashContexts:{disableBinding:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push('\r\n    </div>\r\n    <br />\r\n    <div class="float-right">\r\n        '),e=a.view.call(n,"Komodo.Controls.Button",{hash:{action:"login",size:"sm",disableBinding:"isLoginDisabled",isValidAware:"true"},hashTypes:{action:"STRING",size:"STRING",disableBinding:"STRING",isValidAware:"STRING"},hashContexts:{action:n,size:n,disableBinding:n,isValidAware:n},inverse:b.noop,fn:b.program(3,l,i),contexts:[n],types:["ID"],data:i}),(e||0===e)&&i.buffer.push(e),i.buffer.push("\r\n    </div>\r\n    <br />\r\n</div>\r\n"),""}function l(n,i){var e,s;return i.buffer.push("\r\n        "),i.buffer.push(u((e=a.loc||n&&n.loc,s={hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:i},e?e.call(n,"login.login",s):p.call(n,"loc","login.login",s)))),i.buffer.push("\r\n        "),""}function r(n,i){var e;return i.buffer.push("\r\n\r\n"),e=a.view.call(n,"Komodo.Controls.FormView",{hash:{action:"login",disableBinding:"isLoginDisabled"},hashTypes:{action:"STRING",disableBinding:"STRING"},hashContexts:{action:n,disableBinding:n},inverse:b.noop,fn:b.program(6,d,i),contexts:[n],types:["ID"],data:i}),(e||0===e)&&i.buffer.push(e),i.buffer.push("\r\n"),""}function d(n,i){var e,s,t;return i.buffer.push('\r\n<div class="col-md-12 login">\r\n    <div class="komodo-hidden" id="login-notification-container">\r\n        <span id="login-notification" class="label label-access komodo-hidden">'),i.buffer.push(u((s=a.loc||n&&n.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:i},s?s.call(n,"shell.oldVersion",t):p.call(n,"loc","shell.oldVersion",t)))),i.buffer.push("<br />"),i.buffer.push(u((s=a.loc||n&&n.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:i},s?s.call(n,"shell.reopenBrowser",t):p.call(n,"loc","shell.reopenBrowser",t)))),i.buffer.push('</span><br />\r\n        <span id="service-update-login-notification" class="label label-primary komodo-hidden">'),i.buffer.push(u((s=a.loc||n&&n.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:i},s?s.call(n,"shell.serviceUpdateShort",t):p.call(n,"loc","shell.serviceUpdateShort",t)))),i.buffer.push("</span>\r\n    </div>\r\n    <br />\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.TextField",{hash:{type:"text",valueBinding:"data.userName",disableBinding:"isUserNameDisabled",validatorBinding:"validators.userNameValidator",label:"~login.username~"},hashTypes:{type:"STRING",valueBinding:"STRING",disableBinding:"STRING",validatorBinding:"STRING",label:"STRING"},hashContexts:{type:n,valueBinding:n,disableBinding:n,validatorBinding:n,label:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.TextField",{hash:{type:"password",valueBinding:"data.password",disableBinding:"isControlDisabled",validatorBinding:"validators.passwordValidator",label:"~login.password~"},hashTypes:{type:"STRING",valueBinding:"STRING",disableBinding:"STRING",validatorBinding:"STRING",label:"STRING"},hashContexts:{type:n,valueBinding:n,disableBinding:n,validatorBinding:n,label:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.Select",{hash:{valueBinding:"data.loginCountry",contentBinding:"_content",optionLabelPath:"content.value",optionValuePath:"content",disableBinding:"isControlDisabled",validatorBinding:"validators.loginCountryValidator",label:"~login.country~",selectionBinding:"_defaultCountry"},hashTypes:{valueBinding:"STRING",contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",disableBinding:"STRING",validatorBinding:"STRING",label:"STRING",selectionBinding:"STRING"},hashContexts:{valueBinding:n,contentBinding:n,optionLabelPath:n,optionValuePath:n,disableBinding:n,validatorBinding:n,label:n,selectionBinding:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.Link",{hash:{hrefBinding:"KomodoConfiguration.passwordChangeUrl",text:"~login.changePasswordLink~",target:"_blank"},hashTypes:{hrefBinding:"STRING",text:"STRING",target:"STRING"},hashContexts:{hrefBinding:n,text:n,target:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n    "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.Link",{hash:{action:"showOptions",text:"~login.optionsLink~",visibleBinding:"isOptionsLinkVisible"},hashTypes:{action:"STRING",text:"STRING",visibleBinding:"STRING"},hashContexts:{action:n,text:n,visibleBinding:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push('\r\n\r\n    <br />\r\n    <br />\r\n\r\n    <div class="float-right">\r\n        '),e=a.view.call(n,"Komodo.Controls.Button",{hash:{action:"login",disableBinding:"isLoginDisabled",isValidAware:"true"},hashTypes:{action:"STRING",disableBinding:"STRING",isValidAware:"STRING"},hashContexts:{action:n,disableBinding:n,isValidAware:n},inverse:b.noop,fn:b.program(3,l,i),contexts:[n],types:["ID"],data:i}),(e||0===e)&&i.buffer.push(e),i.buffer.push('\r\n    </div>\r\n    <br />\r\n\r\n    <div class="float-right">\r\n        <div '),i.buffer.push(u(a["bind-attr"].call(n,{hash:{class:"isOptionsVisible:komodo-show:komodo-hidden"},hashTypes:{class:"STRING"},hashContexts:{class:n},contexts:[],types:[],data:i}))),i.buffer.push(">\r\n            <br />\r\n            "),i.buffer.push(u(a.view.call(n,"Komodo.Controls.CoreTextLabel",{hash:{text:"~login.changeLanguageLabel~"},hashTypes:{text:"STRING"},hashContexts:{text:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push("\r\n            "),i.buffer.push(u(a.view.call(n,"Komodo.Application.LocalizationChangerView",{hash:{disableBinding:"isControlDisabled"},hashTypes:{disableBinding:"STRING"},hashContexts:{disableBinding:n},contexts:[n],types:["ID"],data:i}))),i.buffer.push('\r\n        </div>\r\n        <br />\r\n    </div>\r\n    <br/>\r\n    <span class="version-number">'),i.buffer.push(u((s=a.loc||n&&n.loc,t={hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:i},s?s.call(n,"shell.version",t):p.call(n,"loc","shell.version",t)))),i.buffer.push(" "),e=a._triageMustache.call(n,"KomodoConfiguration.version",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:i}),(e||0===e)&&i.buffer.push(e),i.buffer.push("</span>\r\n</div>\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),s=s||{};var h,p=a.helperMissing,u=this.escapeExpression,b=this;h=a.if.call(i,"isMobileDevice",{hash:{},hashTypes:{},hashContexts:{},inverse:b.program(5,r,s),fn:b.program(1,t,s),contexts:[i],types:["ID"],data:s}),h||0===h?s.buffer.push(h):s.buffer.push("")});
function Mash(){var n,r,t=4022871197,e=function(e){for(e=e.toString(),n=0;n<e.length;n++)t+=e.charCodeAt(n),r=.02519603282416938*t,t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=4294967296*r;return 2.3283064365386963e-10*(t>>>0)};return e.version="Mash 0.9",e}function MRG32k3a(){return function(n){var r,t,e=4294967087,u=4294944443,a=12345,o=12345,i=123,c=12345,f=12345,l=123,h=Mash();for(0===n.length&&(n=[+new Date]),r=0;r<n.length;r++)a+=4294967296*h(n[r]),o+=4294967296*h(n[r]),i+=4294967296*h(n[r]),c+=4294967296*h(n[r]),f+=4294967296*h(n[r]),l+=4294967296*h(n[r]);a%=e,o%=e,i%=e,c%=u,f%=u,l%=u,h=null;var s=function(){var n,r,t,e=4294967087,u=4294944443;return r=1403580*o-810728*a,n=r/e|0,r-=n*e,r<0&&(r+=e),a=o,o=i,i=r,t=527612*l-1370589*c,n=t/u|0,t-=n*u,t<0&&(t+=u),c=f,f=l,l=t,r<=t?r-t+e:r-t};return t=function(){return 2.3283064365386963e-10*s()},t.uint32=s,t.fract53=function(){return t()+1.1102230246251565e-16*(2097151&s())},t.version="MRG32k3a 0.9",t.args=n,t}(Array.prototype.slice.call(arguments))}
Komodo.Application.ApplicationView=Ember.View.extend({templateName:"application"});
Ember.TEMPLATES.DataGridCellView=Ember.Handlebars.template(function(i,e,n,t,s){function a(i,e){e.buffer.push(r(n.view.call(i,"view.editControl",{hash:{columnContextBinding:"view.editContext",valueBinding:"view.value"},hashTypes:{columnContextBinding:"STRING",valueBinding:"STRING"},hashContexts:{columnContextBinding:i,valueBinding:i},contexts:[i],types:["ID"],data:e})))}function o(i,e){return e.buffer.push("<br/>"),e.buffer.push(r(n.view.call(i,"Komodo.Controls.DataGridValidationView",{hash:{validatorBinding:"view.validator",textBinding:"view.error"},hashTypes:{validatorBinding:"STRING",textBinding:"STRING"},hashContexts:{validatorBinding:i,textBinding:i},contexts:[i],types:["ID"],data:e}))),""}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),s=s||{};var l,r=this.escapeExpression,h=this;return s.buffer.push(r(n.view.call(e,"view.displayControl",{hash:{columnContextBinding:"view.displayContext",isVisibleBinding:"view.isLabelVisible"},hashTypes:{columnContextBinding:"STRING",isVisibleBinding:"STRING"},hashContexts:{columnContextBinding:e,isVisibleBinding:e},contexts:[e],types:["ID"],data:s}))),l=n.if.call(e,"view.isEditableControlVisible",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(1,a,s),contexts:[e],types:["ID"],data:s}),(l||0===l)&&s.buffer.push(l),l=n.if.call(e,"view._hasValidationError",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(3,o,s),contexts:[e],types:["ID"],data:s}),(l||0===l)&&s.buffer.push(l),s.buffer.push("\r\n"),""});
Ember.TEMPLATES.DataGridPagerView=Ember.Handlebars.template(function(e,s,t,a,h){function r(e,s){var a;return s.buffer.push("\r\n\t<a "),s.buffer.push(p(t["bind-attr"].call(e,{hash:{id:"view.hrefElementId"},hashTypes:{id:"STRING"},hashContexts:{id:e},contexts:[],types:[],data:s}))),s.buffer.push(">"),a=t._triageMustache.call(e,"view.content.display",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(a||0===a)&&s.buffer.push(a),s.buffer.push("</a>\r\n"),""}function n(e,s){var a;return s.buffer.push("\r\n\t<a "),s.buffer.push(p(t.action.call(e,"page",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:s}))),s.buffer.push(" "),s.buffer.push(p(t["bind-attr"].call(e,{hash:{id:"view.hrefElementId"},hashTypes:{id:"STRING"},hashContexts:{id:e},contexts:[],types:[],data:s}))),s.buffer.push(">"),a=t._triageMustache.call(e,"view.content.display",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(a||0===a)&&s.buffer.push(a),s.buffer.push("</a>\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),h=h||{};var f,p=this.escapeExpression,u=this;f=t.if.call(s,"view.disabled",{hash:{},hashTypes:{},hashContexts:{},inverse:u.program(3,n,h),fn:u.program(1,r,h),contexts:[s],types:["ID"],data:h}),f||0===f?h.buffer.push(f):h.buffer.push("")});
Ember.TEMPLATES.DataGridRowView=Ember.Handlebars.template(function(t,e,s,a,n){function h(t,e){return e.buffer.push('\r\n\t<td class="komodo-hidden" '),e.buffer.push(f(s["bind-attr"].call(t,{hash:{"data-identifier":"view.dataIdentifier","data-content-index":"view.dataContentIndex"},hashTypes:{"data-identifier":"STRING","data-content-index":"STRING"},hashContexts:{"data-identifier":t,"data-content-index":t},contexts:[],types:[],data:e}))),e.buffer.push("></td>\r\n"),""}function r(t,e){return e.buffer.push("\r\n\t<td "),e.buffer.push(f(s["bind-attr"].call(t,{hash:{width:"width"},hashTypes:{width:"STRING"},hashContexts:{width:t},contexts:[],types:[],data:e}))),e.buffer.push(" "),e.buffer.push(f(s["bind-attr"].call(t,{hash:{class:"customClass"},hashTypes:{class:"STRING"},hashContexts:{class:t},contexts:[],types:[],data:e}))),e.buffer.push(">\r\n\t\t"),e.buffer.push(f(s.view.call(t,"Komodo.Controls.DataGridCell",{hash:{contentBinding:"this"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:t},contexts:[t],types:["ID"],data:e}))),e.buffer.push("\r\n\t</td>\r\n"),""}function i(t,e){var a;return e.buffer.push('\r\n    <td width="110px">\r\n        '),a=s.if.call(t,"view.parentView.canEditFullLine",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(6,o,e),contexts:[t],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n        "),a=s.if.call(t,"view.parentView.canDelete",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(8,d,e),contexts:[t],types:["ID"],data:e}),(a||0===a)&&e.buffer.push(a),e.buffer.push("\r\n    </td>\r\n"),""}function o(t,e){var a,n;return e.buffer.push("\r\n            <button "),e.buffer.push(f(s["bind-attr"].call(t,{hash:{id:"view.editButtonElementId",class:"view.isEditing:hidden :btn :btn-success :btn-xs"},hashTypes:{id:"STRING",class:"STRING"},hashContexts:{id:t,class:t},contexts:[],types:[],data:e}))),e.buffer.push(" "),e.buffer.push(f(s.action.call(t,"edit",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:t},contexts:[t],types:["STRING"],data:e}))),e.buffer.push(">"),e.buffer.push(f((a=s.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:e},a?a.call(t,"controls.datagrid.edit",n):p.call(t,"loc","controls.datagrid.edit",n)))),e.buffer.push("</button>\r\n            <button "),e.buffer.push(f(s["bind-attr"].call(t,{hash:{id:"view.closeButtonElementId",class:"view.isNotEditing:hidden :btn :btn-primary :btn-xs"},hashTypes:{id:"STRING",class:"STRING"},hashContexts:{id:t,class:t},contexts:[],types:[],data:e}))),e.buffer.push(" "),e.buffer.push(f(s.action.call(t,"closeEdit",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:t},contexts:[t],types:["STRING"],data:e}))),e.buffer.push(">"),e.buffer.push(f((a=s.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:e},a?a.call(t,"controls.datagrid.done",n):p.call(t,"loc","controls.datagrid.done",n)))),e.buffer.push("</button>\r\n        "),""}function d(t,e){var a,n;return e.buffer.push("\r\n            <button "),e.buffer.push(f(s["bind-attr"].call(t,{hash:{id:"view.deleteButtonElementId",class:"view.isEditing:hidden :btn :btn-danger :btn-xs"},hashTypes:{id:"STRING",class:"STRING"},hashContexts:{id:t,class:t},contexts:[],types:[],data:e}))),e.buffer.push(" "),e.buffer.push(f(s.action.call(t,"removeItem",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:t},contexts:[t],types:["STRING"],data:e}))),e.buffer.push(">"),e.buffer.push(f((a=s.loc||t&&t.loc,n={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:e},a?a.call(t,"controls.datagrid.delete",n):p.call(t,"loc","controls.datagrid.delete",n)))),e.buffer.push("</button>\r\n        "),""}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var u,f=this.escapeExpression,p=s.helperMissing,c=this;return u=s.if.call(e,"view.hasDataIdentifier",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,h,n),contexts:[e],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push("\r\n"),u=s.each.call(e,"view.parentView.columns",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(3,r,n),contexts:[e],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push("\r\n"),u=s.if.call(e,"view.parentView.canDisplayActions",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(5,i,n),contexts:[e],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push("\r\n"),""});
Ember.TEMPLATES.DataGridView=Ember.Handlebars.template(function(s,e,t,r,h){function a(s,e){var r;return e.buffer.push("\r\n                "),r=t.if.call(s,"view._canSortGrid",{hash:{},hashTypes:{},hashContexts:{},inverse:w.program(7,o,e),fn:w.program(2,n,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n            "),""}function n(s,e){var r;return e.buffer.push("\r\n                    <th>\r\n                        <a "),e.buffer.push(C(t.action.call(s,"sort","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s,s],types:["STRING","ID"],data:e}))),e.buffer.push(">"),r=t._triageMustache.call(s,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("</a>\r\n                        "),r=t.if.call(s,"isSortedAsc",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(3,f,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n                        "),r=t.if.call(s,"isSortedDesc",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(5,u,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n                    </th>\r\n                "),""}function f(s,e){e.buffer.push('\r\n                            <i class="icon-chevron-up"></i>\r\n                        ')}function u(s,e){e.buffer.push('\r\n                            <i class="icon-chevron-down"></i>\r\n                        ')}function o(s,e){var r;return e.buffer.push("\r\n                    <th>"),r=t._triageMustache.call(s,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("</th>\r\n                "),""}function p(s,e){e.buffer.push("\r\n                <th>Actions</th>\r\n            ")}function c(s,e){var r;return e.buffer.push("\r\n        <tfoot>\r\n            "),r=t.if.call(s,"view._hasFooterData",{hash:{},hashTypes:{},hashContexts:{},inverse:w.program(16,y,e),fn:w.program(12,i,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n        </tfoot>\r\n    "),""}function i(s,e){var r;return e.buffer.push("\r\n                "),r=t.each.call(s,"footer","in","view.footers",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(13,l,e),contexts:[s,s,s],types:["ID","ID","ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n            "),""}function l(s,e){var r;return e.buffer.push("               \r\n                    <tr>\r\n                        "),r=t.each.call(s,"column","in","footer",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(14,b,e),contexts:[s,s,s],types:["ID","ID","ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n                    </tr>\r\n                "),""}function b(s,e){var r;return e.buffer.push("\r\n                            <th "),e.buffer.push(C(t["bind-attr"].call(s,{hash:{colspan:"column.columnSpan"},hashTypes:{colspan:"STRING"},hashContexts:{colspan:s},contexts:[],types:[],data:e}))),e.buffer.push(" "),e.buffer.push(C(t["bind-attr"].call(s,{hash:{class:"column.customClass"},hashTypes:{class:"STRING"},hashContexts:{class:s},contexts:[],types:[],data:e}))),e.buffer.push(">"),r=t._triageMustache.call(s,"column.content",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("</th>\r\n                        "),""}function y(s,e){var r;return e.buffer.push("    \r\n                <tr>\r\n                    "),r=t.each.call(s,"view.columns",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(17,x,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n                    "),r=t.if.call(s,"view.canDisplayActions",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(25,D,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n                </tr>\r\n            "),""}function x(s,e){var r;return e.buffer.push("\r\n                        "),r=t.if.call(s,"view._canSortGrid",{hash:{},hashTypes:{},hashContexts:{},inverse:w.program(23,I,e),fn:w.program(18,d,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n                    "),""}function d(s,e){var r;return e.buffer.push("\r\n                            <th>\r\n                                <a "),e.buffer.push(C(t.action.call(s,"sort","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s,s],types:["STRING","ID"],data:e}))),e.buffer.push(">"),r=t._triageMustache.call(s,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("</a>\r\n                                "),r=t.if.call(s,"isSortedAsc",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(19,v,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n                                "),r=t.if.call(s,"isSortedDesc",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(21,g,e),contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("\r\n                            </th>\r\n                        "),""}function v(s,e){e.buffer.push('\r\n                                    <i class="icon-chevron-up"></i>\r\n                                ')}function g(s,e){e.buffer.push('\r\n                                    <i class="icon-chevron-down"></i>\r\n                                ')}function I(s,e){var r;return e.buffer.push("\r\n                            <th>"),r=t._triageMustache.call(s,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}),(r||0===r)&&e.buffer.push(r),e.buffer.push("</th>\r\n                        "),""}function D(s,e){e.buffer.push("\r\n                        <th>Actions</th>\r\n                    ")}function T(s,e){return e.buffer.push('\r\n    <div class="pagination">\r\n        '),e.buffer.push(C(t.view.call(s,"view.gridPagerView",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:e}))),e.buffer.push("\r\n    </div>\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),h=h||{};var m,C=this.escapeExpression,w=this;return h.buffer.push('<div class="table-responsive">\r\n<h4>'),m=t._triageMustache.call(e,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h}),(m||0===m)&&h.buffer.push(m),h.buffer.push('</h4>\r\n<table class="table table-bordered komodo-datagrid">\r\n    <thead>\r\n        <tr>\r\n            '),m=t.each.call(e,"view.columns",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(1,a,h),contexts:[e],types:["ID"],data:h}),(m||0===m)&&h.buffer.push(m),h.buffer.push("\r\n            "),m=t.if.call(e,"view.canDisplayActions",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(9,p,h),contexts:[e],types:["ID"],data:h}),(m||0===m)&&h.buffer.push(m),h.buffer.push("\r\n        </tr>\r\n    </thead>\r\n    "),h.buffer.push(C(t.view.call(e,"view.gridContentView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h}))),h.buffer.push("\r\n    "),m=t.if.call(e,"view._showFooter",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(11,c,h),contexts:[e],types:["ID"],data:h}),(m||0===m)&&h.buffer.push(m),h.buffer.push("\r\n</table>\r\n"),m=t.if.call(e,"view._showPaging",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(27,T,h),contexts:[e],types:["ID"],data:h}),(m||0===m)&&h.buffer.push(m),h.buffer.push("\r\n</div>"),""});
Ember.TEMPLATES.FileReaderView=Ember.Handlebars.template(function(e,s,a,l,r){function t(e,s){var l;return s.buffer.push('\r\n<p class="file-upload-item">'),l=a._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(l||0===l)&&s.buffer.push(l),s.buffer.push("</p>\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),r=r||{};var n,h,p,i=a.helperMissing,o=this.escapeExpression,u=this;return r.buffer.push('<div class="file-upload btn btn-primary">\r\n    <span>\r\n        '),r.buffer.push(o((h=a.loc||s&&s.loc,p={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},h?h.call(s,"locale.komodo:controls.fileReader.uploadFiles",p):i.call(s,"loc","locale.komodo:controls.fileReader.uploadFiles",p)))),r.buffer.push(' <span class="glyphicon glyphicon-file" aria-hidden="true"></span>\r\n    </span>\r\n    <input type="file" '),r.buffer.push(o(a["bind-attr"].call(s,{hash:{multiple:"view.multiple"},hashTypes:{multiple:"STRING"},hashContexts:{multiple:s},contexts:[],types:[],data:r}))),r.buffer.push(" />\r\n</div><br />\r\n"),n=a.each.call(s,"name","in","view.fileNames",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,t,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(n||0===n)&&r.buffer.push(n),r.buffer.push("\r\n"),""});
Ember.TEMPLATES["if-equal"]=Ember.Handlebars.template(function(e,s,r,a,h){function t(e,s){var a;return s.buffer.push("\r\n"),a=r._triageMustache.call(e,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(a||0===a)&&s.buffer.push(a),s.buffer.push("\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),h=h||{};var n,u=this;return h.buffer.push(" \r\n"),n=r.if.call(s,"isEqual",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,t,h),contexts:[s],types:["ID"],data:h}),(n||0===n)&&h.buffer.push(n),h.buffer.push("\r\n"),""});
Ember.TEMPLATES.LinkView=Ember.Handlebars.template(function(e,s,t,a,h){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),h=h||{};var r;r=t._triageMustache.call(s,"view.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:h}),r||0===r?h.buffer.push(r):h.buffer.push("")});
Ember.TEMPLATES.SearchNavigationView=Ember.Handlebars.template(function(e,t,s,n,r){function a(e,t){var n;return t.buffer.push("\r\n          "),n=s.each.call(e,"item","in","view.context.data.routes",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(2,o,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(n||0===n)&&t.buffer.push(n),t.buffer.push("\r\n          "),""}function o(e,t){var n;return t.buffer.push('\r\n          <tr class="customer-record">\r\n            <td class="searchLink">\r\n              '),n=s.view.call(e,"Komodo.Controls.ActionView",{hash:{contentBinding:"item",action:"routeSelected"},hashTypes:{contentBinding:"STRING",action:"STRING"},hashContexts:{contentBinding:e,action:e},inverse:u.noop,fn:u.program(3,h,t),contexts:[e],types:["ID"],data:t}),(n||0===n)&&t.buffer.push(n),t.buffer.push("\r\n            </td>\r\n          </tr>\r\n          "),""}function h(e,t){return t.buffer.push("\r\n              "),t.buffer.push(l(s.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{id:"siteSearchLink",textBinding:"item.title",class:"link-name"},hashTypes:{id:"STRING",textBinding:"STRING",class:"STRING"},hashContexts:{id:e,textBinding:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n              "),""}function i(e,t){return t.buffer.push('\r\n          <tr class="customer-record">\r\n            <td>\r\n              '),t.buffer.push(l(s.view.call(e,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.komodo:shell.searchResultsNotFound~",class:"link-name"},hashTypes:{text:"STRING",class:"STRING"},hashContexts:{text:e,class:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\r\n            </td>\r\n          </tr>\r\n          "),""}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),r=r||{};var c,l=this.escapeExpression,u=this;return r.buffer.push('<div id="komodo-site-search-container">\r\n  <span class="komodo-minimize">\r\n    <a href="#" '),r.buffer.push(l(s.action.call(t,"hideSiteSearchText",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}))),r.buffer.push(' class="komodo-minimize" id="debug-minimize">\r\n      <span class="glyphicon glyphicon-minus-sign"></span>\r\n    </a>\r\n  </span>\r\n  <h4>\r\n    <span>'),r.buffer.push(l(s.view.call(t,"Komodo.Controls.CoreTextLabel",{hash:{text:"~locale.komodo:shell.searchResults~"},hashTypes:{text:"STRING"},hashContexts:{text:t},contexts:[t],types:["ID"],data:r}))),r.buffer.push('</span></h4>\r\n\r\n  <div>\r\n    <table id="siteSearchTable" width="100%">\r\n      <tbody>      \r\n          '),c=s.if.call(t,"view.context.data.routes.length",{hash:{},hashTypes:{},hashContexts:{},inverse:u.program(5,i,r),fn:u.program(1,a,r),contexts:[t],types:["ID"],data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>"),""});
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.Logger=Infrastructure.Core.Logger||function(){return{log:function(r){console.log(r)},debug:function(r){console.debug(r)},error:function(r){console.error(r)},info:function(r){console.info(r)},warn:function(r){console.warn(r)}}};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.ValidationService=Infrastructure.Core.ValidationService||function(r){if(!r)throw new Error("ValidationService instance must have a logger.");var o=r,e=[];return{clearErrors:function(){o.log("ValidationService.clearErrors"),e.clear()},validateModel:function(r,a,t,n){o.log("ValidationService.validateModel");var i=Object.keys(t),l=!0;return i.forEach(function(o){var i=t[o];i.identifier===r&&i.model===a&&(void 0==n||$.inArray(n,i.groups)>-1)&&(i.validate(),i.errors.forEach(function(r){e.push(r),l=!1}))}),l},displayErrors:function(r,a){if(o.log("ValidationService.displayErrors"),e.length>0){a=!0===a||void 0===a||null===a;var t=a?"<br />":"\n",n="";e.forEach(function(r){n+=r+t}),n=kl.value("controller.invalidDataMessage")+t+n,a?Komodo.Controls.MessageBoxController.show(r,n,Komodo.Controls.MessageBoxOkButtons,this,"modelval","warning"):alert(n)}}}};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.TraceService=Infrastructure.Core.TraceService||function(r,e){if(!r)throw new Error("TraceService instance must have a eventAggregator.");if(!e)throw new Error("TraceService instance must have a logger.");var t=r,a=e;return{writeInformation:function(r,e,n,i){if(!r)throw new Error("TraceService.writeInformation requires a transactionId.");if(!e)throw new Error("TraceService.writeInformation requires an eventName.");if(!n)throw new Error("TraceService.writeInformation requires a message.");if(!i)throw new Error("TraceService.writeInformation requires  data.");t.save(void 0,{transactionId:r,eventName:e,message:n,data:i}).fail(function(r){a.error(r)})}}};
!function(e){e.storageService={getItem:function(e){return sessionStorage.getItem(e)},clear:function(){return sessionStorage.clear()},removeItem:function(e){return sessionStorage.removeItem(e)},setItem:function(e,t){return sessionStorage.setItem(e,t)}}}(Infrastructure.Core);
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.SecurityService=Infrastructure.Core.SecurityService||function(e,o,s,t,r,i,n,c,u,a){if(!e)throw new Error("SecurityService instance must have a cacheRepository.");if(!o)throw new Error("SecurityService instance must have an eventAggregator.");if(!s)throw new Error("SecurityService instance must have a localizationService.");if(!t)throw new Error("SecurityService instance must have an encryptionService.");if(!r)throw new Error("SecurityService instance must have a systemService.");if(!i)throw new Error("SecurityService instance must have a communicationService.");if(!n)throw new Error("SecurityService instance must have a offlineService.");if(!c)throw new Error("SecurityService instance must have eventNames.");if(!u)throw new Error("SecurityService instance must a logger.");if(!a)throw new Error("SecurityService instance must a storage.");var l,d,f,h=!1,m=e,v=o,g=s,y=t,p=r,S=i,b=n,R=c,w=u,j=a,A=!1,E=[],C={get:function(e){var o=e.split(".");if(1===o.length)return this[e];var s;return o.forEach(function(e){s=s?s[e]:this[e]},this),s},addObserver:function(e,o,s){e&&o&&s&&E.push({property:e,context:o,callback:s})},get session(){return l},set session(e){l=e,v.publish(R.sessionChanged,e)},get userRolesMismatch(){return d},set userRolesMismatch(e){d=e,$(this).trigger("propertychange",{property:"userRolesMismatch",value:e})},get applyViewOnly(){return A},set applyViewOnly(e){this.hasPermission("view-only")?this.hideForViewOnly=!0:this.hideForViewOnly=!1,A=e},get userId(){return l?l.userId:void 0},get domainUserName(){return l?l.domainUserName:void 0},get sessionToken(){return l?l.sessionToken:void 0},set sessionToken(e){l&&(l.sessionToken=e)},get isAuthenticated(){return h},set isAuthenticated(e){h=e,$(this).trigger("propertychange",{property:"isAuthenticated",value:e})},get deniedControls(){return f},set deniedControls(e){f=e,$(this).trigger("propertychange",{property:"deniedControls",value:e})},permissions:void 0,roles:void 0,routeAccess:void 0,userSystemAccessRoles:void 0,iccRoles:void 0,crmRoles:void 0,hideForViewOnly:!1,init:function(){var e,o,s=this;if($(this).bind("propertychange",function(e,o){E.filter(function(e){return e.property===o.property}).forEach(function(e){e.callback.call(e.context,o.value)})}),m.fetch("permissions").done(function(e){s.permissions=e.data}),m.fetch("roles").done(function(e){s.roles=e.data}),m.fetch("iccRoles").done(function(e){s.iccRoles=e.data}),m.fetch("crmRoles").done(function(e){s.crmRoles=e.data}),m.fetch("userRolesMismatch").done(function(e){s.userRolesMismatch=e.data}),m.fetch("deniedControls").done(function(e){s.deniedControls=e.data}),m.fetch("routeAccess").done(function(e){s.routeAccess=e.data}),e=j.getItem("session")){try{o=JSON.parse(e)}catch(e){o=void 0}o&&(this.session=o,this.isAuthenticated=!0,w.log("[SecurityService.init] : existing session information found"))}v.subscribe(R.sessionExpired,this,this.sessionExpired),v.subscribe(R.sessionLoggedOut,this,this.sessionLoggedOut)},setPermissions:function(e){return void 0==e?null:(this.permissions=e,m.save("permissions",e))},setRoles:function(e){return void 0==e?null:(this.roles=e,m.save("roles",e))},setIccRoles:function(e){return void 0==e?null:(this.iccRoles=e,m.save("iccRoles",e))},setCrmRoles:function(e){return void 0==e?null:(this.crmRoles=e,m.save("crmRoles",e))},setUserRoleMismatch:function(e){return void 0==e?null:(this.userRolesMismatch=e,m.save("userRolesMismatch",e))},setDeniedControls:function(e){return void 0==e?null:(this.deniedControls=e,m.save("deniedControls",e))},setRouteAccess:function(e){return void 0==e?null:(this.routeAccess=e,m.save("routeAccess",e))},registerSession:function(e,o){var s={sessionToken:o.sessionToken,userId:o.userId,domainUserName:e,identityTokenExpiryDate:o.identityTokenExpiryDate};this.session=s,j.setItem("session",JSON.stringify(s))},authenticate:function(e,o,s){w.log("[SecurityService.authenticate]");var t=$.Deferred();return S.postResource("authentication",{data:{domainUserName:o,password:s,country:e}}).done(function(e){w.log("[SecurityService.authenticate - successful] : user name = '"+o+"'"),t.resolve(e)}).fail(function(e,o,s){S.isDisconnected(e)?t.reject(g.value("locale.komodo:login.noConnectionError")):t.reject(g.value("locale.komodo:login.authenticationFailedError",{error:e.responseText||s}))}),t},login:function(e,o,s){w.log("[SecurityService.login]");var t=$.Deferred(),r=this;return S.postResource("sessionTokens",{data:{domainUserName:o,password:s,country:e}}).done(function(e){if(w.log("[SecurityService.login - logged in] : user name = '"+o+"'"),r.registerSession(o,e),r.setPermissions(e.permissions),r.setRoles(e.roles),r.setDeniedControls(e.deniedControls),r.setRouteAccess(e.routeAccess),r.userSystemAccessRoles=e.userSystemAccess.userSystemAccessRoles,r.userSystemAccessRoles.forEach(function(e){"crm"==e.system.toLowerCase()&&r.setCrmRoles(e.userRoles),"icc"==e.system.toLowerCase()&&r.setIccRoles(e.userRoles)}),void 0!=r.iccRoles&&void 0!=r.crmRoles)for(var i=0;i<r.roles.length;i++)for(var n=0;n<r.iccRoles.length;n++)for(var c=0;c<r.crmRoles.length;c++)null==r.crmRoles[c].match(r.iccRoles[n])||null==r.roles[i].match(r.iccRoles[n])?r.setUserRoleMismatch(!0):r.setUserRoleMismatch(!1);if(!r.hasSystemAccess())return void t.reject(g.value("locale.komodo:login.noSystemAccess"));r.isAuthenticated=!0,v.publish(R.userLoggedIn,e),m.save("offlineUser",{domainUserName:o,userId:r.userId,key:y.md5(s)}).then(function(){t.resolve({online:!0})})}).fail(function(e,i,n){S.isDisconnected(e)?p.isHostedLocally()?m.fetch("offlineUser").done(function(e){e.data.domainUserName.toLowerCase()==o.toLowerCase()&&y.md5(s)==e.data.key?b.workOffline({domainUserName:e.data.domainUserName,userId:e.data.userId}).done(function(){r.registerSession(o,{domainUserName:e.data.domainUserName,userId:e.data.userId}),r.isAuthenticated=!0,t.resolve({online:!1})}).fail(function(e){t.reject(e)}):t.reject(g.value("locale.komodo:login.noConnectionError"))}).fail(function(e){t.reject(e)}):t.reject(g.value("locale.komodo:login.noConnectionError")):t.reject(g.value("locale.komodo:login.loginFailedError",{loginError:e.responseText||n}))}),t},logout:function(){var e=this,o=e.sessionToken,s=$.Deferred();return w.log("[SecurityService.logout - successful]"),j.removeItem("session"),this.session=void 0,this.isAuthenticated=!1,v.publish(R.userLoggedOut),b.workingOffline()||void 0==o||S.deleteResource("sessionTokens/"+o).done(function(){w.log("[SecurityService.logout]"),s.resolve()}).fail(function(e,o,t){S.isDisconnected(e)?s.reject(g.value("locale.komodo:logout.noConnection")):s.reject(t)}),s},sessionExpired:function(){this.logout()},sessionLoggedOut:function(){alert(g.value("locale.komodo:logout.sessionLoggedOut")),this.sessionToken=void 0,v.publish(R.sessionExpired)},hasPermission:function(e){var o=!1;if(!e)throw new Error("SecurityService.hasPermission requires a permission object");return void 0!=this.permissions&&(o=this.permissions.some(function(o){return o.toLowerCase()===e.toLowerCase()})),w.log("[SecurityService.hasPermission] : permission = '"+e+"' / available = "+o),o},routeAccessPermissionType:function(e){var o="HIDE";return e&&void 0!=this.routeAccess&&this.routeAccess.forEach(function(s){s.routeName.toLowerCase()===e.toLowerCase()&&(o=s.permissionType)}),w.log("[SecurityService.routeAccessPermissionType] : routeName = '"+e+"' / permision type = "+o),o},canAccessRoute:function(e){return"grant"===this.routeAccessPermissionType(e).toLowerCase()},hasSystemAccess:function(){var e=!1;return this.routeAccess?(this.routeAccess.forEach(function(o){e||(e="grant"==o.permissionType.toLowerCase())}),e):e},overrideRouteAccess:function(e){var o;if(!e)throw new Error("SecurityService.overrideRouteAccess requires a routeAccess object");if(!e.routeName)throw new Error("Core.SecurityService.overrideRouteAccess requires a routeAccess.routeName object");o=e.routeName,this.routeAccess&&this.routeAccess.forEach(function(s){s.routeName.toLowerCase()===o.toLowerCase()&&(s.permissionType=e.permissionType,v.publish(R.routeAccessChanged))})},destroy:function(){v.unsubscribe(R.sessionExpired,this,this.sessionExpired)}};return C.init(),delete C.init,C};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.PushNotificationService=Infrastructure.Core.PushNotificationService||function(r,t){if(!r)throw new Error("PushNotificationService instance must have a configuration.");if(!t)throw new Error("PushNotificationService instance must have a eventAggregator.");var e,i,n=t;return{setMessageType:function(r){e=r},setPayload:function(r){i=r},publishNotificationEvent:function(){n.publish(e,i)}}};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.PermissionService=Infrastructure.Core.PermissionService||function(e){if(!e)throw new Error("PermissionService instance must have a communicationService.");var r=e,n=function(e,n){var o=$.Deferred();return r.getResource(e+(n?"/"+n:"")).done(function(e){o.resolve(e)}).fail(function(e,r,n){o.reject(n)}),o},o=function(e,n,o){var t=$.Deferred();return r.postResource(e+(o?"/"+o:""),{data:n}).done(function(e){t.resolve(e)}).fail(function(e,r,n){t.reject(n,e)}),t},t=function(e,n,o){var t=$.Deferred();return r.deleteResource(e+(o?"/"+o:""),{data:n}).done(function(e){t.resolve(e)}).fail(function(e,r,n){t.reject(n)}),t};return{get:function(e){return this[e]},fetchAvailableRoles:function(){return n("roles")},fetchAvailableRoleModules:function(e){return n("rolemodule",e)},fetchAvailableRoutes:function(){return n("routes")},fetchRoleRoutes:function(e){return n("roleRoutes",e)},compareEnvironments:function(e,n,o){var t=$.Deferred();return r.getResource("/securitySlots?isoCode="+o+"&env1="+e+"&env2="+n).done(function(e){t.resolve(e)}).fail(function(e,r,n){t.reject(n,e)}),t},promoteSecurity:function(e){return o("securitySlots",e)},fetchAvailablePermissions:function(){return n("permissions")},fetchAvailableModules:function(){return n("modules")},fetchRolePermissions:function(e){return n("rolePermissions",e)},applyRoleRoutes:function(e,r){return o("roleroutes",r,e)},applyRoleModules:function(e){return o("rolemodule",e)},applyRolePermissions:function(e,r){return o("rolepermissions",r,e)},addRole:function(e){return o("roles",e)},addPermission:function(e){return o("permissions",e)},addModule:function(e){return o("modules",e)},removePermission:function(e){return t("permissions",e)},removeModule:function(e){return t("modules",e)},addRoute:function(e,r,n){return o("routes",{routeName:e,description:r,deniedAction:n})}}};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.OfflineService=Infrastructure.Core.OfflineService||function(e,t,r,n,i){if(!e)throw new Error("OfflineService instance must have a eventAggregator.");if(!t)throw new Error("OfflineService instance must have a cacheRepository.");if(!r)throw new Error("OfflineService instance must have a localizationService.");if(!n)throw new Error("OfflineService instance must have an cacheKeys.");if(!i)throw new Error("OfflineService instance must have eventNames.");var f=e,o=t,a=n,s=i,c=[],u={},l={get:function(e){var t=e.split(".");if(1===t.length)return this[e];var r;return t.forEach(function(e){r=r?r[e]:this[e]},this),r},init:function(){var e=this;o.fetch(a.offlineState).done(function(t){var r=e.state;r.offline=t.data.offline,r.userId=t.data.userId,r.domainUserName=t.data.domainUserName,r.offlineActivationDate=t.data.offlineActivationDate,e.state=r})},get state(){return u||{}},set state(e){u=e},get domainUserName(){return u?u.domainUserName:""},workingOffline:function(){return!!this.state&&(this.state.offline||!1)},applyOfflineState:function(e){var t=this,r=$.Deferred();return o.save(a.offlineState,{offline:e.offline,userId:e.userId,domainUserName:e.domainUserName,offlineActivationDate:e.offlineActivationDate}).done(function(){t.state=e,f.publish(s.offlineStateChanged,e)}).then(function(){r.resolve()}),r},workOffline:function(e){var t,r=$.Deferred();if(this.workingOffline())r.resolve();else{if(!e)throw new Error("Infrastructure.Core.OfflineService workOffline must have a session.");t=this.state,t.offline=!0,t.userId=e.userId,t.domainUserName=e.domainUserName,t.offlineActivationDate=new Date,this.applyOfflineState(t).then(function(){r.resolve()})}return r},workOnline:function(){var e;this.workingOffline()&&(e=u,e.offline=!1,this.applyOfflineState(e))},applyUserData:function(e){if(!e)throw new Error("Infrastructure.Core.OfflineService applyUserData must have a userDataContainer.");e.userId=this.state.userId,e.domainUserName=this.state.domainUserName},registerOfflineTaskReporter:function(e){var t={};if(void 0==e)throw new Error("No function has been provided in call to 'Infrastructure.Core.OfflineService.registerOfflineTaskReporter'.");if("[object Function]"!==t.toString.call(e))throw new Error("The object passed to 'Infrastructure.Core.OfflineService.registerOfflineTaskReporter' is not a function.");c.push(e)},outstandingOfflineTasks:function(){var e=$.Deferred(),t=[],r=c.length,n=0,i=function(){(n+=1)==r&&e.resolve(t)};return c.length>0?c.forEach(function(e){var r=e.call();if(!r.promise||!r.resolve)throw new Error("The result from the function passed to 'Infrastructure.Core.OfflineService.registerOfflineTaskReporter' is not a $.Deferred() object.");r.done(function(e){void 0!=e&&("[object Array]"===Object.prototype.toString.call(e)?t=t.concat(e):t.push(e)),i()}).fail(function(e){t.push(e),i()})}):e.resolve(t),e},hasOutstandingOfflineTasks:function(){var e=$.Deferred();return this.outstandingOfflineTasks().done(function(t){e.resolve(t.length>0)}).fail(function(t){e.reject(t)}),e}};return l.init(),l};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.MessagingService=Infrastructure.Core.MessagingService||function(configuration,securityService,eventAggregator,messageRepository,cacheRepository,traceRepository,localizationService,offlineService,encryptionService,traceService,communicationService,eventNames,bus,logger){if(!configuration)throw new Error("MessagingService instance must have a configuration.");if(!securityService)throw new Error("MessagingService instance must have a securityService.");if(!eventAggregator)throw new Error("MessagingService instance must have a eventAggregator.");if(!messageRepository)throw new Error("MessagingService instance must have a messageRepository.");if(!cacheRepository)throw new Error("MessagingService instance must have a cacheRepository.");if(!traceRepository)throw new Error("MessagingService instance must have a traceRepository.");if(!localizationService)throw new Error("MessagingService instance must have a localizationService.");if(!offlineService)throw new Error("MessagingService instance must have a offlineService.");if(!traceService)throw new Error("MessagingService instance must have a traceService.");if(!encryptionService)throw new Error("MessagingService instance must have a encryptionService.");if(!communicationService)throw new Error("MessagingService instance must have a communicationService.");if(!eventNames)throw new Error("MessagingService instance must have eventNames.");if(!bus)throw new Error("MessagingService instance must have bus.");if(!logger)throw new Error("MessagingService instance must have a logger.");var _configuration=configuration,_securityService=securityService,_eventAggregator=eventAggregator,_messageRepository=messageRepository,_cacheRepository=cacheRepository,_traceRepository=traceRepository,_localizationService=localizationService,_offlineService=offlineService,_encryptionService=encryptionService,_traceService=traceService,_communicationService=communicationService,_eventNames=eventNames,_bus=bus,_logger=logger,_processingQueue=!1,_pollServerMessagesTimer,_pollServerMessagesIntervals=[250],_pollServerMessagesIntervalIndex=0,_resetPollServerMessagesInterval=function(){_pollServerMessagesIntervalIndex=0},messagingService={init:function(){_eventAggregator.subscribe(_eventNames.connectionEstablished,this,this.processQueue),_eventAggregator.subscribe(_eventNames.userLoggedIn,this,this.processQueue),_eventAggregator.subscribe(_eventNames.processQueueRequested,this,this.processQueue),_eventAggregator.subscribe(_eventNames.postMessageSucceeded,this,_resetPollServerMessagesInterval),_eventAggregator.subscribe(_eventNames.postMessageSucceeded,this,this.pollResponseMessages),_pollServerMessagesIntervals=_configuration.pollServerMessagesIntervals||[1e3],this.pollResponseMessages()},get bus(){return _bus},pollResponseMessages:function(){var e=this,s=_pollServerMessagesTimer;s&&clearTimeout(s),s=setTimeout(function(){if(_offlineService.workingOffline()||!_securityService.isAuthenticated||void 0==_securityService.userId)return void(e.isDestroyed||e.pollResponseMessages());_communicationService.getResource("responsemessages?userid="+_securityService.userId,{cache:!1}).done(function(s){if(_logger.info("[MessagingService._pollResponseMessages] : messages received = "+s.length),0!==s.length){_resetPollServerMessagesInterval();try{s.forEach(function(s){"shuttle"===s.systemName.toLowerCase()?e.bus.publishReceivedMessage(s):e.publishReceivedMessage(s)})}catch(e){_logger.error("[MessagingService._pollResponseMessages] : could not publish message / error = "+e)}}}).fail(function(e,s,r){_logger.warn("[MessagingService._pollResponseMessages - failed] : textStatus = '"+s+"' / errorThrown = '"+r+"'"),401==e.status&&_eventAggregator.publish(_eventNames.sessionExpired)}).always(function(){e.pollResponseMessages()})},_getPollServerMessagesInterval()),_pollServerMessagesTimer=s},createMessageRecord:function(e,s,r){var a;if(!s)throw new Error("MessagingService.createMessageRecord requires a busMessage object.");if(!s.Header)throw new Error("MessagingService.createMessageRecord requires a busMessageHeader object.");return s.Header.SessionToken=_securityService.sessionToken,a=_encryptionService.publicEncrypt(JSON.stringify(s)),{userId:_securityService.userId,userName:_securityService.domainUserName,inProcess:!1,processCorrelationId:r.processCorrelationId,messageId:e,messageType:r.messageType,eventName:s.Header.EventName,encryptionKeyId:a.encryptionKeyId,encryptionIV:a.iv,encryptionSymmetricKey:a.symmetricKey,payload:a.encrypted}},enqueue:function(e,s){var r,a=this,n=$.Deferred(),t=s.processCorrelationId;if(_logger.log("MessagingService.enqueue: processCorrelationId = '"+t+"'"),!e)throw new Error("MessagingService.enqueue requires a busMessage object.");return _securityService.isAuthenticated?_generateNextMessageId().done(function(o){r=a.createMessageRecord(o,e,s),_traceRepository.fetchAll().done(function(e){r.traceItems=$.map(e,function(e){return e.data})||[],r.traceItems.push({transactionId:t,eventName:"clarity.event.enqueue",message:"[clarity] : message enqueued",data:{user:_securityService.domainUserName,dateRequestEnqueued:new Date}})}).fail(function(e){throw _logger.warn("MessagingService.enqueue [could not fetch all trace repository items]: error ='"+e+"'"),new Error("MessagingService.enqueue [could not fetch all trace repository items]: error ='"+e+"'")}).always(function(){_messageRepository.save(o,{fireAndForget:s.fireAndForget,processCorrelationId:t,message:r}).done(function(e){_traceRepository.clear().fail(function(e){alert("[FATAL ERROR - could not clear trace items] : Please contact support.  ERROR REPORTED: "+e)}).always(function(){n.resolve(e)})}).fail(function(e){alert("[FATAL ERROR - could not save message record] : Please contact support.  Your last message will need to be resubmitted.  ERROR REPORTED: "+e),n.reject(e)})})}).fail(function(e){alert("[FATAL ERROR - could not generate message id] : Please contact support.  Your last message will need to be resubmitted.  ERROR REPORTED: "+e),n.reject(e)}):n.reject(_localizationService.value("locale.komodo:login.sessionExpiryTitle")),n},sendQueuedMessages:function(){var e=$.Deferred();_logger.log("MessagingService.sendQueuedMessages");try{_getRecordsToBeSent().done(function(s){if(0===s.length)return void e.resolve([],[]);_processing(s).done(function(){_sendRecords(s).done(function(s,r){s.forEach(function(e){_traceService.writeInformation(e.data.processCorrelationId,"clarity.event.publish","[clarity] : message published",{user:_securityService.domainUserName,dateRequestEnqueued:new Date})}),e.resolve(s,r)}).fail(function(r){_rollbackProcessing(s),_removeFireAndForget(s),e.reject(r,s)})}).fail(function(r){_logger.error("Failed to mark messages as in process in messagingService:sendQueuedMessages().  Error message was "+r),e.reject(r,s)})}).fail(function(s){e.reject(s)})}catch(s){e.reject(s)}return e},sendMessage:function(e,s){var r,a,n=this,t=$.Deferred(),o={messages:[]},i=n.createMessageRecord(-1,e,s);return _securityService.isAuthenticated&&_traceRepository.fetchAll().done(function(e){i.traceItems=$.map(e,function(e){return e.data})||[],i.traceItems.push({transactionId:s.processCorrelationId,eventName:"clarity.event.publish",message:"[clarity] : message published",data:{user:_securityService.domainUserName,dateRequestEnqueued:new Date}})}).fail(function(e){_logger.warn("MessagingService.enqueue [could not fetch all trace repository items]: error ='"+e+"'")}).always(function(){o.messages.push(i),_postSendMessageRequest.call(n,o).done(function(n){if(n.successfulMessageIds&&n.successfulMessageIds.length>0&&_logger.debug("[MessagingService.sendMessage - delivered]"),n.failedMessages&&n.failedMessages.length>0)for(n.failedMessages.forEach(function(e){_logger.error("[MessagingService.sendMessage - failure] : FaultCode = '"+e.faultCode+"' / FaultString = '"+e.faultString+"'")}),r=0;r<n.failedMessages.length;r++)a=n.failedMessages[r],a.recoverable?(s.alertDeliveryFailure&&alert(_localizationService.value("locale.komodo:messaging.deliveryFailure")),_eventAggregator.publish(i.processCorrelationId,{message:e,eventName:i.eventName,processingType:"DeliveryFailure"})):(_eventAggregator.publish(i.processCorrelationId,{message:i,eventName:i.eventName,processingType:"Fault"}),Komodo&&Komodo.DEBUG&&_eventAggregator.publish(_eventNames.messageFaultReceived,{failedRecord:i,messageException:a}));n.sessionTimeout&&(_securityService.logout(),_eventAggregator.publish(_eventNames.sessionExpired)),_traceRepository.clear().fail(function(e){alert("[FATAL ERROR - could not clear trace items] : Please contact support.  ERROR REPORTED: "+e)}).always(function(){t.resolve()})}).fail(function(e,s,r){401==e.status?(_securityService.logout(),_eventAggregator.publish(_eventNames.sessionExpired)):alert(_localizationService.value("locale.komodo:messaging.deliveryFailure")),t.reject(r)})}),t},dispatchHandlerMessage:function(e){if(_logger.log("[MessagingService.dispatchHandlerMessage]"),!e)throw new Error("MessagingService.dispatchHandlerMessage requires a handlerContext object.");if(!e.message)throw new Error("MessagingService.dispatchHandlerMessage requires a handlerContext message.");if(!e.processingType)throw new Error("MessagingService.dispatchHandlerMessage requires a handlerContext processingType.");if(!e.eventName)throw new Error("MessagingService.dispatchHandlerMessage requires a handlerContext eventName.");if(!e.handler)throw new Error("MessagingService.dispatchHandlerMessage requires a handlerContext handler.");var s="message"+e.processingType,r="message"+e.eventName+e.processingType,a=function(s){return!!e.handler[s]};a(r)?e.handler[r].call(e.handler,e.message):a(s)&&e.handler[s].call(e.handler,e.message)},publishReceivedMessage:function(responseMessage){_logger.log("[MessagingService.publishReceivedMessage] : response message = "+responseMessage);var message=eval("("+responseMessage.json+")"),eventName=message.ResponseMessage.EventName,eventId=message.ResponseMessage.EventMetaData.Event.EventId,processId=message.ResponseMessage.EventMetaData.Process.CorrelationID;_eventAggregator.publish(processId,{message:message,eventName:eventName,processingType:"Received"}),_eventAggregator.publish(processId,{message:message,processingType:"__SystemContext"}),_eventAggregator.publish(eventName,message.ResponseMessage),_communicationService.deleteResource("responsemessages/"+eventId).done(function(){_traceService.writeInformation(processId,"clarity.event.receive","[clarity] : message received",{user:_securityService.domainUserName,dateResponseReceived:new Date}),_logger.info("[MessagingService.publishReceivedMessage - ack complete] : eventId = '"+eventId+"'")}).fail(function(){_logger.warn("[MessagingService.publishReceivedMessage - ack failed] : eventId = '"+eventId+"'")})},resetInProcess:function(){_logger.log("MessagingService.resetInProcess");var e=$.Deferred();return _messageRepository.fetchAll().done(function(s){_setInProcess(s.filter(function(e){return e.data.message.inProcess}),!1).done(function(s){e.resolve(s)}).fail(function(s){e.reject(s)})}).fail(function(s){e.reject(s)}),e},processQueue:function(){var e=$.Deferred();if(_processingQueue)return _logger.log("[MessagingService.processQueue - already processing]"),e.reject("[MessagingService.processQueue - already processing]"),e;try{_processingQueue=!0,this.sendQueuedMessages().done(function(s,r){e.resolve(s,r)}).fail(function(s,r){_logger.log("[MessagingService.processQueue] : error = "+s),void 0!=r&&r.forEach(function(e){_eventAggregator.publish(e.data.processCorrelationId,{message:e.data.message,eventName:e.data.message.eventName,processingType:"DeliveryFailure"})}),e.reject(s)})}finally{_processingQueue=!1}return e},destroy:function(){_eventAggregator.unsubscribe(_eventNames.connectionEstablished,this,this.processQueue),_eventAggregator.unsubscribe(_eventNames.userLoggedIn,this,this.processQueue),_eventAggregator.unsubscribe(_eventNames.processQueueRequested,this,this.processQueue)}},_postSendMessageRequest=function(e){var s=$.Deferred();return _communicationService.postResource("requestmessages",{user:_securityService.domainUserName,data:e}).done(function(e,r,a){_resetPollServerMessagesInterval(),messagingService.pollResponseMessages(),s.resolve(e,r,a)}).fail(function(e,r,a){s.reject(e,r,a)}),s},_removeRecords=function(e){var s=$.Deferred(),r=e.length,a=0,n=function(){(a+=1)==r&&(_logger.log("[MessagingService._removeRecords - complete]"),s.resolve())};return _logger.log("[MessagingService._removeRecords] : message count = "+e.length),e.length>0?e.forEach(function(e){_messageRepository.remove(e.data.message.messageId).done(function(){_logger.log("[MessagingService._removeRecords - message removed] : messageId = "+e.data.message.messageId),n()}).fail(function(s){_logger.error("[MessagingService._removeRecords - failed] : messageId = "+e.data.message.messageId+" / error = '"+s+"'"),n()})}):s.resolve(),s},_rollbackProcessing=function(e){return _logger.log("[MessagingService._rollbackProcessing]"),_setInProcess(e,!1)},_sendRecords=function(e){var s,r,a,n,t,o,i=this,g=$.Deferred(),c=[],l=[],u={messages:$.map(e,function(e){return e.data.message})};return _securityService.isAuthenticated&&_postSendMessageRequest.call(i,u).done(function(i){if(n=i.successfulMessageIds,t=$.map(e,function(e){return $.inArray(e.data.message.messageId,n)>-1?e:null}),r=t.slice(),t.forEach(function(e){_logger.debug("[MessagingService._sendRecords - delivered] : message id = '"+e.data.message.messageId+"'")}),i.failedMessages&&i.failedMessages.length>0)for(i.failedMessages.forEach(function(e){_logger.warn("[MessagingService._sendRecords - delivery failure] : MessageId = '"+e.messageId+"' / FaultCode = '"+e.faultCode+"' / FaultString = '"+e.faultString+"'")}),s=0;s<i.failedMessages.length;s++){a=i.failedMessages[s];var u=$.grep(e,function(e){return e.data.message.messageId===a.messageId})[0];c.push(u),l.push(u.data.message.messageId);var v=u.data.message.eventName;a.recoverable?(_rollbackProcessing(u),_eventAggregator.publish(u.data.processCorrelationId,{message:u.data.message,eventName:v,processingType:"DeliveryFailure"}),Komodo&&Komodo.DEBUG&&_logger.warn("[MessagingService._sendRecords - recoverable message failure] : message id = '"+a.messageId+"'")):(r.push(u),_eventAggregator.publish(u.data.processCorrelationId,{message:u.data.message,eventName:v,processingType:"Fault"}),Komodo&&Komodo.DEBUG&&_eventAggregator.publish(_eventNames.messageFaultReceived,{failedRecord:u,messageException:a}))}_removeRecords(r).then(function(){g.resolve(t,c)}),i.sessionTimeout&&(o=$.map(e,function(e){return-1==$.inArray(e.data.message.messageId,n)&&-1==$.inArray(e.data.message.messageId,l)?e:null}),_rollbackProcessing(o),_securityService.logout(),_eventAggregator.publish(_eventNames.sessionExpired))}).fail(function(e,s,r){401==e.statusCode&&(_securityService.logout(),_eventAggregator.publish(_eventNames.sessionExpired)),g.reject(r)}),g},_getRecordsToBeSent=function(){_logger.log("MessagingService._getRecordsToBeSent");var e=$.Deferred();return _messageRepository.fetchAll().done(function(s){var r=s.filter(function(e){return!e.data.message.inProcess});r.sort(function(e,s){return e.data.message.messageId-s.data.message.messageId}),e.resolve(r)}).fail(function(s){e.reject(s)}),e},_processing=function(e){return _logger.log("[MessagingService._processing]"),_setInProcess(e,!0)},_removeFireAndForget=function(e){return _logger.log("[MessagingService._removeFireAndForget]"),_removeRecords($.map(e,function(e){return e.data.fireAndForget?e:void 0}))},_setInProcess=function(e,s){if(_logger.log("MessagingService._setInProcess: inProcess = '"+s+"'"),!e)throw new Error("MessagingService._setInProcess requires a records object.");e=$.makeArray(e);var r=e.length,a=0,n=$.Deferred(),t=function(){(a+=1)==r&&n.resolve(e)};return e.length>0?e.forEach(function(e){e.data.message.inProcess=s,_messageRepository.save(e.data.message.messageId,e.data).done(function(){_logger.log("MessagingService._setInProcess: messageId = "+e.key+" / inProcess = '"+s+"'"),t()}).fail(function(r){_logger.error("MessagingService._setInProcess: failed: messageId = "+e.key+" / inProcess = '"+s+"' / error = "+r),t()})}):n.resolve(e),n},_getPollServerMessagesInterval=function(){var e=_pollServerMessagesIntervalIndex,s=_pollServerMessagesIntervals.length-1;e>s&&(e=s);var r=_pollServerMessagesIntervals[e];return _pollServerMessagesIntervalIndex=e+1,r},_setNextMessageId=function(e){_logger.log("MessagingService.setNextMessageId: messageId = "+e);var s=$.Deferred();return _cacheRepository.save("MessageId",e).done(function(){s.resolve(e)}).fail(function(r){_logger.error("MessagingService.setNextMessageId: failed: messageId = "+e+" / error = '"+r+"'"),s.reject(r)}),s},_generateNextMessageId=function(){_logger.log("MessagingService.generateNextMessageId");var e=$.Deferred(),s=function(s){_setNextMessageId(s).done(function(){_logger.log("[MessagingService.generateNextMessageId] : messageId = "+s),e.resolve(s)}).fail(function(s){_logger.error("[MessagingService.generateNextMessageId - failed] : error = '"+s+"'"),e.reject(s)})};return _cacheRepository.fetch("MessageId").done(function(e){s(e.data+1)}).fail(function(){s(1)}),e};return messagingService.init(),messagingService};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.Messaging=Infrastructure.Core.Messaging||function(e,s,t,n,r,o,a){if(!e)throw new Error("Messaging instance must have a messagingService.");if(!s)throw new Error("Messaging instance must have a eventAggregator.");if(!t)throw new Error("Messaging instance must have a localizationService.");if(!n)throw new Error("Messaging instance must have a systemService.");if(!r)throw new Error("Messaging instance must have a logger.");if(!o)throw new Error("Messaging instance must have eventNames");if(!a)throw new Error("Messaging instance must have busService");var i,c,u=e,g=s,d=t,l=n,h=a,f=!1,v=r,p=o,m=null,b=null,M=null,I=null;return{get listeningForEvents(){return f},set listeningForEvents(e){f=e},get processId(){return m},set processId(e){m=e},get processVersion(){return b},set processVersion(e){b=e},get processName(){return M},set processName(e){M=e},get processStartTime(){return I},set processStartTime(e){I=e},get instanceId(){return i},set instanceId(e){i=e},startNewProcess:function(){this._stopListeningForEventsFromOldProcess(),this.processId=void 0,this._setupNewProcess()},handleMessage:function(e){var s,t;if(!e)throw new Error("Messaging.handleMessage must have a handlerContext.");switch(s=e.processingType||"",t=e.systemName||"",s.toLowerCase()){case"__systemcontext":this._processInstanceId(e.message);break;default:e.handler=this,"shuttle"===t.toLowerCase()?h.dispatchHandlerMessage(e):u.dispatchHandlerMessage(e)}},_processInstanceId:function(e){var s=this;void 0!=e&&void 0!=e.ResponseMessage&&void 0!=e.ResponseMessage.EventMetaData&&void 0!=e.ResponseMessage.EventMetaData.Process&&void 0!=e.ResponseMessage.EventMetaData.Process.InstanceId&&void 0!=e.ResponseMessage.EventMetaData.Process.InstanceId.KeyValueList&&Ember.isArray(e.ResponseMessage.EventMetaData.Process.InstanceId.KeyValueList)&&void 0!=s.instanceId&&e.ResponseMessage.EventMetaData.Process.InstanceId.KeyValueList.forEach(function(e){if(e.NameField){var t=!1;s.instanceId.forEach(function(s){t||s.NameField&&s.NameField==e.NameField&&s.ValueField==e.ValueField&&(t=!0)}),t||s.instanceId.push(e)}})},_stopListeningForEventsFromOldProcess:function(){var e=this,s=this.processId;this.listeningForEvents&&(g.unsubscribe(s,e,this.handleMessage),this.listeningForEvents=!1)},_setupNewProcess:function(){var e=(new Date).toUTCString();v.log("[Messaging._setupNewProcess]"),this.processId||(this.processId=l.newGuid()),this.instanceId=[],this.processStartTime=e.replace(/UTC$/g,"GMT"),g.subscribe(this.processId,this,this.handleMessage),this.listeningForEvents=!0,this.bus.context=this},buildProcessInformation:function(){return v.log("[Messaging.buildProcessInformation]"),{processId:this.processId,processVersion:this.processVersion,processName:this.processName,processStartTime:this.processStartTime,instanceId:this.instanceId}},sendMessage:function(e,s){var t,n=s||{},r=$.Deferred(),o=this.buildProcessInformation();return v.log("[Messaging.sendMessage] : content = "+JSON.stringify(e)),t={Header:{EventName:s.eventName,EventVersion:s.eventVersion,EventValidityInMinutes:s.eventValidityInMinutes||0,Priority:s.eventPriority||null,ProcessCorrelationId:o.processId,ProcessName:o.processName,ProcessVersion:o.processVersion,ProcessStartTimestamp:o.processStartTime,InstanceId:o.instanceId,Parameters:s.parameters||[]},Payload:e||null},t.Header.Parameters.push({key:"locale",value:d.getCurrentLanguage()}),!0===n.storeAndForward?u.enqueue(t,n).done(function(e){g.publish(p.processQueueRequested),r.resolve(e)}).fail(function(e){v.log("[Messaging.sendMessage - store/forward] : error = "+e),r.reject(e)}):(n.alertDeliveryFailure=n.alertDeliveryFailure||!0,u.sendMessage(t,n).done(function(){r.resolve()}).fail(function(e){v.log("[Messaging.sendMessage - immediate] : error = "+e),r.reject(e)})),r},bus:{get context(){return c},set context(e){c=e},send:function(e,s){var t,n,r;if(!e)throw new Error("bus.send requires a message object.");return t=this.context,n="string"==typeof s?{messageType:s}:s||{},r=$.Deferred(),v.log("[Messaging.bus.send] : content = "+JSON.stringify(e)),n.alertDeliveryFailure=n.alertDeliveryFailure||!0,n.controllerProcessId=t.processId,n.headers=n.headers||[],n.headers.push({key:"System-Locale",value:d.getCurrentLanguage()}),h.send(e,n).done(function(){r.resolve()}).fail(function(e){v.log("[Messaging.bus.send] : error = "+e),r.reject(e)}),r}},destroy:function(){this._stopListeningForEventsFromOldProcess()}}};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.LocalizationService=Infrastructure.Core.LocalizationService||function(e,n,t,r,a){if(!e)throw new Error("LocalizationService instance must have a cacheRepository.");if(!n)throw new Error("LocalizationService instance must have a systemService.");if(!t)throw new Error("LocalizationService instance must have an cacheKeys.");if(!r)throw new Error("LocalizationService instance must have an configuration.");if(!a)throw new Error("LocalizationService instance must have a logger.");var o,i=[],c=[],u=e,s=n,f=t,l=r,h={get:function(e){var n=e.split(".");if(1===n.length)return this[e];var t;return n.forEach(function(e){t=t?t[e]:this[e]},this),t},init:function(){u.fetch(f.selectedLanguage).done(function(e){o=e.data}).fail(function(){o=l.defaultLanguage})},start:function(){var e=$.Deferred(),n=s.getRootPathForApplication(),t=n+"locales/__lng__/__ns__.json",r={namespaces:["locale.komodo"],defaultNs:"locale.komodo"};return i.forEach(function(e){r.namespaces.push(e)}),i18n.init({cache:!1,lng:o,fallbackLng:l.fallbackLanguage,resGetPath:t,debug:!0,ns:r},function(){c.forEach(function(e){e()}),e.resolve()}),e},value:function(e,n){return i18n.t(e,n)},changeLanguage:function(e){var n=$.Deferred();return e!==o&&u.save(f.selectedLanguage,e).done(function(){o=e}),n},registerStartCallback:function(e){"function"==typeof e&&c.push(e)},getCurrentLanguage:function(){return o},registerNamespace:function(e){i.push(e)}};return h.init(),h};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.FeatureToggleService=Infrastructure.Core.FeatureToggleService||function(e,r,a,o){if(!e)throw new Error("FeatureToggleService instance must have a configuration.");if(!r)throw new Error("FeatureToggleService instance must have a cachedDataService.");if(!a)throw new Error("FeatureToggleService instance must have a localizationService.");if(!o)throw new Error("FeatureToggleService instance must have a logger.");var t=r,u=a;return{isEnabled:function(e,r){var a,o=$.Deferred(),n=(e+"."+r).toLowerCase();if(!e||!r)throw new Error("FeatureToggleService.isEnabled: Please specify both the 'feature' and the 'toggle' parameters");return t.fetch("FeatureToggles",{qualifier:"global"}).done(function(e){if(e.forEach(function(e){a||e.key.toLowerCase()==n&&(a=e)}),!a)return void o.resolve(!1);switch((a.value||"unknown").toLowerCase()){case"true":o.resolve(!0);break;case"false":o.resolve(!1);break;default:o.reject(u.value("locale.komodo:featureToggles.isEnabledError",{name:n,error:u.value("locale.komodo:featureToggles.unknownValue",{value:a.value})}))}}).fail(function(e){o.reject(u.value("locale.komodo:featureToggles.retrieveFailure",{error:e}))}),o}}};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.EventAggregator=Infrastructure.Core.EventAggregator||function(){var e=[];return{_publishWithNoLog:function(e,n){this.publish(e,n)},publish:function(n,t){if(n){var c=e.filter(function(e){return e.message===n});c&&c.length>0&&c.forEach(function(n){n.context?n.callback.call(n.context,t||{}):n.callback(t||{}),n.oneTime&&e.splice(e.indexOf(n),1)})}},unsubscribe:function(n,t,c){if(n&&t){var r=[];r=c?e.filter(function(e){return e.message===n&&e.callback===c}):e.filter(function(e){return e.message===n&&e.callback===t}),r&&r.length>0&&r.forEach(function(n){var t=e.indexOf(n);e.splice(t,1)})}},subscribe:function(n,t,c){n&&t&&(c?e.push({message:n,callback:c,oneTime:!1,context:t}):e.push({message:n,callback:t,oneTime:!1,context:void 0}))},one:function(n,t,c){n&&t&&(c?e.push({message:n,callback:c,oneTime:!0,context:t}):e.push({message:n,callback:t,oneTime:!0,context:void 0}))}}};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.EncryptionService=Infrastructure.Core.EncryptionService||function(e,r,n,t,i,o){if(!e)throw new Error("EncryptionService instance must have an cacheRepository.");if(!r)throw new Error("EncryptionService instance must have an eventAggregator.");if(!n)throw new Error("EncryptionService instance must have an systemService.");if(!t)throw new Error("EncryptionService instance must have an cacheKeys.");if(!i)throw new Error("EncryptionService instance must have an eventNames.");if(!o)throw new Error("EncryptionService instance must have a logger.");var c,y=e,a=r,s=n,u=t,p=o,v={me:this,get:function(e){return this[e]},init:function(){y.fetch(u.publicEncryptionKey).done(function(e){c=e.data}).fail(function(e){p.warn("[encryption] : message = 'no encryption key found' / error = '"+e+"'")}),a.subscribe(u.userLoggedIn,this,this._userLoggedIn)},_userLoggedIn:function(e){this.saveEncryptionKey(e.publicEncryptionKey)},saveEncryptionKey:function(e){var r=$.Deferred();return y.save(u.publicEncryptionKey,e).done(function(){c=e,r.resolve()}),r},publicEncrypt:function(e){var r,n,t,i=new RSAKey;return c?(i.setPublic(c.modulus,c.exponent||"010001"),r=CryptoJS.PBKDF2(s.newGuid(),CryptoJS.enc.Hex.parse(s.newGuid()),{keySize:6,iterations:10}),n=CryptoJS.lib.WordArray.random(16),t={iv:n,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7},{encryptionKeyId:c.id,symmetricKey:hex2b64(i.encrypt(r.toString(CryptoJS.enc.Base64))),iv:n.toString(CryptoJS.enc.Base64),encrypted:CryptoJS.AES.encrypt(e,r,t).toString()}):{encryptionKeyId:void 0,symmetricKey:void 0,iv:void 0,encrypted:e}},md5:function(e){return CryptoJS.MD5(e).toString()}};return v.init(),v};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.CommunicationService=Infrastructure.Core.CommunicationService||function(e,n,t){if(!e)throw new Error("CommunicationService instance must have a configuration.");if(!n)throw new Error("CommunicationService instance must have a eventAggregator.");if(!t)throw new Error("CommunicationService instance must have eventNames.");var r,i,o=e,s=n,c=t,a={get:function(e){return this[e]},init:function(){s.subscribe(c.sessionChanged,this,this.sessionChanged),$.ajaxSetup({beforeSend:function(e){r&&r.sessionToken&&(e.setRequestHeader("komodo-sessiontoken",r.sessionToken),o.channelSplitCompatability&&e.setRequestHeader("countryisocode",Komodo.loggedInCountry||""))},timeout:o.ajaxTimeout})},sessionChanged:function(e){r=e},isDisconnected:function(e){return 0==e.status},checkConnectionStatus:function(e){var n=i;this.isDisconnected(e)?(i=!1,n&&s.publish(c.connectionLost)):(n||s.publish(c.connectionEstablished),i=!0)},serviceCall:function(e,n){var t=this;e.done(function(e,r,i){t.checkConnectionStatus(i),n.resolve(e,r,i)}).fail(function(e,r,i){t.checkConnectionStatus(e),n.reject(e,r,i)})},getResource:function(e,n){var t=n||{},r=$.Deferred();return void 0==t.async&&(t.async=!0),void 0==t.cache&&(t.cache=!1),this.serviceCall($.ajax({url:this.getAPIUrl(e,n),dataType:"json",type:"GET",async:t.async,cache:t.cache}),r),r},postResource:function(e,n){var t=n||{},r=t.data||{},i=$.Deferred();return this.serviceCall($.ajax({url:this.getAPIUrl(e,n),type:"POST",contentType:"application/json",data:JSON.stringify(r),beforeSend:n.beforeSend}),i),i},deleteResource:function(e,n){var t=$.Deferred(),r=n||{},i=r.data||{};return this.serviceCall($.ajax({url:this.getAPIUrl(e,n),type:"DELETE",contentType:"application/json",data:JSON.stringify(i),beforeSend:r.beforeSend}),t),t},getAPIUrl:function(e,n){var t;if(n&&n.customResource)return e;if(!e||0==e.length)throw new Error("CommunicationService: argument 'baseUrl' may not be empty.");return t=o.apiUrl,-1==t.indexOf("/",t.length-1)&&(t+="/"),t+("/"==e[0]?e.substr(1):e)},get isOnline(){return i},willDestroy:function(){s.unsubscribe(c.sessionChanged,this,this.sessionChanged)}};return a.init(),a};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.CachedDataService=Infrastructure.Core.CachedDataService||function(e,a,r,t,c,n,i,o,u,f,h,s){if(!e)throw new Error("CachedDataService instance must have a configuration.");if(!a)throw new Error("CachedDataService instance must have a cachedDataRepository.");if(!r)throw new Error("CachedDataService instance must have a cacheRepository.");if(!t)throw new Error("CachedDataService instance must have a cachedDataStorageRepository.");if(!c)throw new Error("CachedDataService instance must have a localizationService.");if(!n)throw new Error("CachedDataService instance must have a communicationService.");if(!i)throw new Error("CachedDataService instance must have a systemService.");if(!o)throw new Error("CachedDataService instance must have a eventAggregator.");if(!u)throw new Error("CachedDataService instance must have a offlineService.");if(!f)throw new Error("CachedDataService instance must have eventNames.");if(!h)throw new Error("CachedDataService instance must have an cacheKeys.");if(!s)throw new Error("CachedDataService instance must have a logger.");var d,l=e,v=a,C=r,D=t,m=c,g=n,y=i,b=o,S=u,w=f,p=h,E=[],I=s,K=function(e){var a=$.Deferred(),r=!1,c=e.Payload;return v.fetchAll().done(function(e){e.forEach(function(e){e.data.cacheKey===c.cacheKey&&e.data.versionNumber!==c.versionNumber&&(r=!0,e.data.versionNumber=c.versionNumber,v.save(c.cacheKey,c).done(function(e){t.remove(c.cacheKey).then(function(){a.resolve(e)})}).fail(function(e){a.reject(e)}))}),r||a.resolve()}).fail(function(e){a.reject(e)}),a},N=function(){var e=$.Deferred();return g.getResource("cacheddata",{async:!1}).done(function(a){E=a,e.resolve(a)}).fail(function(a,r,t){e.reject(t)}),e},j=function(e,a){var r="",t=$.Deferred();e.forEach(function(e){v.contains(e.cacheKey).done(function(a){a&&v.fetch(e.cacheKey).done(function(a){e.versionNumber!==a.data.versionNumber&&D.remove(e.cacheKey)}).fail(function(a){r="CachedDataService._updateCachedDataMeta: failed to fetch current item: cacheKey = '"+e.cacheKey+" / versionNumber = '"+e.versionNumber+"' / error = '"+a+"'",I.error(r),t.reject(r)})}).fail(function(a){r="CachedDataService._updateCachedDataMeta: failed to check existence: cacheKey = '"+e.cacheKey+" / versionNumber = '"+e.versionNumber+"' / error = '"+a+"'",I.error(r),t.reject(r)})}),e.forEach(function(e){v.save(e.cacheKey,e).done(function(r){a(r),I.log("CachedDataService._updateCachedDataMeta: updated: cacheKey = '"+e.cacheKey+" / versionNumber = '"+e.versionNumber+"'")}).fail(function(a){r="CachedDataService._updateCachedDataMeta: failed: cacheKey = '"+e.cacheKey+" / versionNumber = '"+e.versionNumber+"' / error = '"+a+"'",I.error(r),t.reject(r)})})},k=function(){var e="",a=$.Deferred(),r=[];if(I.log("CachedDataService._updateCachedDataMeta"),S.workingOffline())return a.resolve(r),a;var t=0,c=0,n=function(e){r.push(e),(c+=1)===t&&(I.log("CachedDataService._updateCachedDataMeta: complete"),a.resolve(r))};return N().done(function(e){var a=e.cachedItems.filter(function(e){return e.domain.toLowerCase().match("global")});e.cachedItems.filter(function(e){return e.qualifier.toLowerCase().match("global")}).forEach(function(e){a.push(e)}),e.cachedItems.filter(function(e){return e.datasetName.toLowerCase().match("routedocumentationlink")}).forEach(function(e){a.push(e)}),t=a.length,j(a,n)}).fail(function(r){e="CachedDataService._updateCachedDataMeta: failed: error = '"+r+"'",I.error(e),a.reject(e)}),a},L=function(){var e,a=$.Deferred(),r=[],t=0,c=0,n=function(e){r.push(e),(c+=1)===t&&a.resolve(r)},i=E;if(0!==i.length){var o=i.cachedItems,u="";C.fetch(p.selectedCountry).done(function(e){u=e.data.countryId}),u&&(o=i.cachedItems.filter(function(e){return e.domain.match(u)})),t=o.length,j(o,n)}else e="CachedDataService._updateCachedDataMeta: failed: error = cachedMetaData is empty '",I.error(e),a.reject(e);return a},M=function(){d=void 0},_={init:function(){b.subscribe(w.applicationInitialized,this,k),b.subscribe(w.userLoggedIn,this,L),b.subscribe(w.userLoggedOut,this,M),b.subscribe(w.cachedDataVersionChanged,this,K)},fetch:function(e,a){var r=this,t=a||{},c=$.Deferred(),n=t.qualifier?t.qualifier:m.getCurrentLanguage(),i=t.domain?t.domain:d;return i?r.getFileData(i,n,e,c):C.fetch("selectedCountry").done(function(a){d=a.data.countryId,r.getFileData(a.data.countryId,n,e,c)}),c},getFileData:function(e,a,r,t){var c=this,n=(e+"."+a+"."+r).toLowerCase();return v.fetch(n).done(function(n){c.fallbackLanguageHandler(e,a,n.data.versionNumber,r,t)}).fail(function(){return c.fallbackLanguageHandler(e,a,"-1",r,t)}),t},fallbackLanguageHandler:function(e,a,r,t,c){var n=this,i=l.fallbackLanguage,o=c;return y.isMobile?(n.serverCall(e,a,r,t).done(function(e){o.resolve(e)}).fail(function(e,a,r){o.reject("[CachedDataService.fetch.fallbackLanguageHandler - failed] : key = '"+t+"' / error = '"+r+"'")}),o):(n.localCall(e,a,r,t).done(function(e){o.resolve(e)}).fail(function(a){I.error("CachedDataService.fetch: failed: key = '"+(e+"."+i+"."+t).toLowerCase()+"' / error = '"+a+"'"),o.reject(a)}),o)},serverCall:function(e,a,r,t){var c=$.Deferred();return I.log("CachedDataService.fetch.serverCall: key = '"+t+"''"),g.getResource("cachedData/"+t+"?domain="+e+"&qualifier="+a+"&version="+r,{beforeSend:function(e){e.setRequestHeader("Accept","application/json")}}).done(function(e){c.resolve(e.data)}).fail(function(e,a,r){c.reject("[CachedDataService.fetch.serverCall - failed] : key = '"+t+"' / error = '"+r+"'")}),c},localCall:function(e,a,r,t){var c=this,n=$.Deferred(),i=(e+"."+a+"."+t).toLowerCase();return I.log("CachedDataService.fetch.localCall: key = '"+t+"''"),D.fetch(i).done(function(e){n.resolve(e.data)}).fail(function(o){I.log("[CachedDataService.fetch.localCall - failed] : key = '"+t+"' / error = '"+o+"'"),c.serverCall(e,a,r,t).done(function(e){D.save(i,e).then(function(){n.resolve(e)})}).fail(function(e,a,r){n.reject("[CachedDataService.fetch.serverCall - failed] : key = '"+t+"' / error = '"+r+"'")})}),n},fetchArray:function(e,a,r){var t=$.Deferred();if(!e)throw new Error("Infrastructure.Core.CachedDataService.fetchArray requires an array");return this.fetch(a,r).done(function(a){e.clear(),$.each(a,function(a,r){e.addObject(r)}),t.resolve(a)}).fail(function(e){t.reject(e)}),t},destroy:function(){b.unsubscribe(w.applicationInitialized,this,k),b.unsubscribe(w.cachedDataVersionChanged,this,K),b.unsubscribe(w.userLoggedOut,this,M)}};return _.init(),_};
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.BusService=Infrastructure.Core.BusService||function(communicationService,securityService,traceRepository,eventAggregator,localizationService,traceService,eventNames,logger){if(!communicationService)throw new Error("BusService instance must have a communicationService.");if(!securityService)throw new Error("BusService instance must have a securityService.");if(!traceRepository)throw new Error("BusService instance must have a traceRepository.");if(!eventAggregator)throw new Error("BusService instance must have a eventAggregator.");if(!localizationService)throw new Error("BusService instance must have a localizationService.");if(!traceService)throw new Error("BusService instance must have a traceService.");if(!eventNames)throw new Error("BusService instance must have a eventNames.");if(!logger)throw new Error("BusService instance must have a logger.");var _communicationService=communicationService,_securityService=securityService,_traceRepository=traceRepository,_eventAggregator=eventAggregator,_localizationService=localizationService,_traceService=traceService,_eventNames=eventNames,_logger=logger,_post=function(e){var r=$.Deferred();return _communicationService.postResource("shuttlerequestmessages",{user:_securityService.domainUserName,data:e}).done(function(e,s,a){_eventAggregator.publish(_eventNames.postMessageSucceeded),r.resolve(e,s,a)}).fail(function(e,s,a){r.reject(e,s,a)}),r},bus={dispatchHandlerMessage:function(e){var r,s;if(_logger.log("[BusService.dispatchHandlerMessage]"),!e)throw new Error("BusService.dispatchHandlerMessage requires a handlerContext object.");if(!e.message)throw new Error("BusService.bus.dispatchHandlerMessage requires a handlerContext message.");if(!e.message.message)throw new Error("BusService.dispatchHandlerMessage requires a handlerContext message.message.");if(!e.messageType)throw new Error("BusService.dispatchHandlerMessage requires a handlerContext messageType.");if(!e.target)throw new Error("BusService.dispatchHandlerMessage requires a handlerContext target.");if(!e.handler)throw new Error("BusService.dispatchHandlerMessage requires a handlerContext handler.");void 0!=(s=e.handler[e.target.toLowerCase()])&&(r=function(e){return void 0!=s[e]},r(e.messageType)?s[e.messageType].call(e.handler,e.message.message,e.message.headers):r("handle")&&s.handle.call(e.handler,e.message.message,e.message.headers))},publishReceivedMessage:function(responseMessage){_logger.log("[BusService.publishReceivedMessage] : response message = "+responseMessage);var message=eval("("+responseMessage.json+")"),messageId=responseMessage.messageId,messageType=message.messageType,controllerProcessId=message.controllerProcessId;_eventAggregator.publish(controllerProcessId,{message:message,messageType:messageType,target:"handlers",systemName:"shuttle"}),_eventAggregator.publish(message.messageType,message),_communicationService.deleteResource("responsemessages/"+messageId).done(function(){_traceService.writeInformation(controllerProcessId,"clarity.bus.message.receive","[clarity] : message received",{user:_securityService.get("domainUserName"),dateResponseReceived:new Date}),_logger.info("[BusService.publishReceivedMessage - ack complete] : messageId = '"+messageId+"'")}).fail(function(){_logger.warn("[BusService.publishReceivedMessage - ack failed] : messageId = '"+messageId+"'")})},send:function(e,r){var s,a,t=r||{},i=$.Deferred();return _securityService.isAuthenticated?(s={userId:_securityService.userId,userName:_securityService.domainUserName,correlationId:t.correlationId,controllerProcessId:t.controllerProcessId,messageType:t.messageType,message:JSON.stringify(e),headers:t.headers||[]},_traceRepository.fetchAll().done(function(e){s.traceItems=$.map(e,function(e){return e.data})||[],s.traceItems.push({transactionId:r.processCorrelationId,eventName:"clarity.message.sent",message:"[clarity] : message sent",data:{user:_securityService.domainUserName,dateRequestEnqueued:new Date}})}).fail(function(e){_logger.warn("BusService.send [could not fetch all trace repository items]: error ='"+e+"'")}).always(function(){_post(s).done(function(r){r.ok?(_logger.debug("[BusService.send - delivered]"),_traceRepository.clear().fail(function(e){a="[FATAL ERROR - could not clear trace items] : Please contact support.  ERROR REPORTED: "+e,alert(a),i.reject(a)}).always(function(){i.resolve()})):(t.alertDeliveryFailure&&(a=_localizationService.value("locale.komodo:messaging.deliveryFailure"),alert(a),i.reject(a),_logger.error(r.exceptionMessage)),_eventAggregator.publish(e.controllerProcessId,{message:e,messageType:t.messageType,target:"failures",systemName:"shuttle"})),r.sessionTimeout&&(_securityService.logout(),_eventAggregator.publish(_eventNames.sessionExpired))}).fail(function(e,r,s){401===e.status?(_securityService.logout(),_eventAggregator.publish(_eventNames.sessionExpired)):alert(_localizationService.value("locale.komodo:messaging.deliveryFailure")),i.reject(s)})}),i):i}};return bus};
Komodo.guard=Ember.Object.extend({againstUndefined:function(e,n){if(void 0==e)throw new Error("Value named '"+n+"' may not be undefined.")}}).create();
Ember.TEMPLATES.TreeViewItemView=Ember.Handlebars.template(function(e,s,t,a,h){function n(e,s){return s.buffer.push('\r\n  <a href="#" '),s.buffer.push(f(t["bind-attr"].call(e,{hash:{id:"view.hrefId",class:"view.isCollapsed:collapsed:expanded"},hashTypes:{id:"STRING",class:"STRING"},hashContexts:{id:e,class:e},contexts:[],types:[],data:s}))),s.buffer.push("><span "),s.buffer.push(f(t["bind-attr"].call(e,{hash:{class:"view.isCollapsed:collapsed:expanded"},hashTypes:{class:"STRING"},hashContexts:{class:e},contexts:[],types:[],data:s}))),s.buffer.push(" "),s.buffer.push(f(t.action.call(e,"expandCollapse",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:s}))),s.buffer.push(" /></a>\r\n"),""}function r(e,s){var a;return s.buffer.push("\r\n\t<ul "),s.buffer.push(f(t["bind-attr"].call(e,{hash:{id:"view.itemId"},hashTypes:{id:"STRING"},hashContexts:{id:e},contexts:[],types:[],data:s}))),s.buffer.push(">\r\n\t\t"),a=t.each.call(e,"view.subItems",{hash:{},hashTypes:{},hashContexts:{},inverse:i.noop,fn:i.program(4,p,s),contexts:[e],types:["ID"],data:s}),(a||0===a)&&s.buffer.push(a),s.buffer.push("\r\n\t</ul>\r\n"),""}function p(e,s){return s.buffer.push("\r\n\t\t\t"),s.buffer.push(f(t.view.call(e,"Komodo.Controls.TreeViewItemView",{hash:{contentBinding:"this"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n\t\t"),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),h=h||{};var u,f=this.escapeExpression,i=this;return u=t.if.call(s,"view.hasSubItems",{hash:{},hashTypes:{},hashContexts:{},inverse:i.noop,fn:i.program(1,n,h),contexts:[s],types:["ID"],data:h}),(u||0===u)&&h.buffer.push(u),h.buffer.push("\r\n<a "),h.buffer.push(f(t.action.call(s,"selectItem",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:h}))),h.buffer.push(">\r\n  "),h.buffer.push(f(t._triageMustache.call(s,"view.title",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:s},contexts:[s],types:["ID"],data:h}))),h.buffer.push("\r\n</a>\r\n"),u=t.if.call(s,"view.hasSubItems",{hash:{},hashTypes:{},hashContexts:{},inverse:i.noop,fn:i.program(3,r,h),contexts:[s],types:["ID"],data:h}),(u||0===u)&&h.buffer.push(u),h.buffer.push("\r\n"),""});
Ember.TEMPLATES.TreeView=Ember.Handlebars.template(function(e,s,t,n,r){function h(e,s){return s.buffer.push("\r\n    "),s.buffer.push(i(t.view.call(e,"Komodo.Controls.TreeViewItemView",{hash:{contentBinding:"this"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n    "),""}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var a,i=this.escapeExpression,o=this;return r.buffer.push("<h4>"),a=t._triageMustache.call(s,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(a||0===a)&&r.buffer.push(a),r.buffer.push('</h4>\r\n<div class="komodo-treeview">\r\n  <div>\r\n    '),a=t.each.call(s,"view.content",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(1,h,r),contexts:[s],types:["ID"],data:r}),(a||0===a)&&r.buffer.push(a),r.buffer.push("\r\n  </div>\r\n</div>\r\n"),""});
Ember.TEMPLATES.Tooltip=Ember.Handlebars.template(function(e,s,t,a,r){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),r=r||{};var h;return r.buffer.push('<img src="Content/Images/info.svg" class="hover-image" /> <span class="hover-text">'),h=t._triageMustache.call(s,"view.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("</span>\r\n"),""});
Ember.TEMPLATES.TablePagerView=Ember.Handlebars.template(function(s,a,e,t,r){function o(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-disabled komodo-left-round komodo-pager-action">'),a.buffer.push(x((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.first",r):m.call(s,"loc","controls.pager.first",r)))),a.buffer.push("</span>"),""}function h(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-normal komodo-left-round" '),a.buffer.push(x(e.action.call(s,"first",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(x((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.first",r):m.call(s,"loc","controls.pager.first",r)))),a.buffer.push("</span>"),""}function p(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-disabled komodo-pager-action">'),a.buffer.push(x((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.previous",r):m.call(s,"loc","controls.pager.previous",r)))),a.buffer.push("</span>"),""}function n(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-normal" '),a.buffer.push(x(e.action.call(s,"previous",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(x((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.previous",r):m.call(s,"loc","controls.pager.previous",r)))),a.buffer.push("</span>"),""}function l(s,a){var t;t=e.if.call(s,"item.isCurrent",{hash:{},hashTypes:{},hashContexts:{},inverse:y.program(12,c,a),fn:y.program(10,u,a),contexts:[s],types:["ID"],data:a}),t||0===t?a.buffer.push(t):a.buffer.push("")}function u(s,a){var t;return a.buffer.push('<span class="komodo-pager-disabled">'),t=e._triageMustache.call(s,"item.number",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),a.buffer.push("</span>"),""}function c(s,a){var t;return a.buffer.push('<span class="komodo-pager-normal" '),a.buffer.push(x(e.action.call(s,"showPage","item.number",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s,s],types:["STRING","ID"],data:a}))),a.buffer.push(">"),t=e._triageMustache.call(s,"item.number",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),a.buffer.push("</span>"),""}function f(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-disabled komodo-pager-action">'),a.buffer.push(x((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.next",r):m.call(s,"loc","controls.pager.next",r)))),a.buffer.push("</span>"),""}function i(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-normal" '),a.buffer.push(x(e.action.call(s,"next",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(x((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.next",r):m.call(s,"loc","controls.pager.next",r)))),a.buffer.push("</span>"),""}function g(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-disabled komodo-right-round komodo-pager-action">'),a.buffer.push(x((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.last",r):m.call(s,"loc","controls.pager.last",r)))),a.buffer.push("</span>"),""}function b(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-normal komodo-right-round" '),a.buffer.push(x(e.action.call(s,"last",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(x((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.last",r):m.call(s,"loc","controls.pager.last",r)))),a.buffer.push("</span>"),""}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,Ember.Handlebars.helpers),r=r||{};var d,m=e.helperMissing,x=this.escapeExpression,y=this;return d=e.if.call(a,"view.isFirstPage",{hash:{},hashTypes:{},hashContexts:{},inverse:y.program(3,h,r),fn:y.program(1,o,r),contexts:[a],types:["ID"],data:r}),(d||0===d)&&r.buffer.push(d),d=e.if.call(a,"view.isFirstPage",{hash:{},hashTypes:{},hashContexts:{},inverse:y.program(7,n,r),fn:y.program(5,p,r),contexts:[a],types:["ID"],data:r}),(d||0===d)&&r.buffer.push(d),d=e.each.call(a,"item","in","view.visiblePages",{hash:{},hashTypes:{},hashContexts:{},inverse:y.noop,fn:y.program(9,l,r),contexts:[a,a,a],types:["ID","ID","ID"],data:r}),(d||0===d)&&r.buffer.push(d),d=e.if.call(a,"view.isLastPage",{hash:{},hashTypes:{},hashContexts:{},inverse:y.program(16,i,r),fn:y.program(14,f,r),contexts:[a],types:["ID"],data:r}),(d||0===d)&&r.buffer.push(d),d=e.if.call(a,"view.isLastPage",{hash:{},hashTypes:{},hashContexts:{},inverse:y.program(20,b,r),fn:y.program(18,g,r),contexts:[a],types:["ID"],data:r}),(d||0===d)&&r.buffer.push(d),""});
Ember.TEMPLATES.SplitButtonViewLinkView=Ember.Handlebars.template(function(e,t,s,a,r){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),r=r||{};var h,i=this.escapeExpression;return r.buffer.push("<a "),r.buffer.push(i(s.action.call(t,"performAction",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:t},contexts:[t],types:["STRING"],data:r}))),r.buffer.push(">"),h=s._triageMustache.call(t,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("</a>\r\n"),""});
Ember.TEMPLATES.SplitButtonView=Ember.Handlebars.template(function(t,e,n,s,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var r=this.escapeExpression;return a.buffer.push('<span class="btn-group">\r\n  <button class="btn btn-primary btn-sm" '),a.buffer.push(r(n.action.call(e,"performAction",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(r(n._triageMustache.call(e,"view.title",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:e},contexts:[e],types:["ID"],data:a}))),a.buffer.push('</button>\r\n<button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown">\r\n    <span class="caret"/>\r\n</button>                       \r\n'),a.buffer.push(r(n.view.call(e,"Komodo.Controls.SplitButtonLinkView",{hash:{contentBinding:"view.links"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:e},contexts:[e],types:["ID"],data:a}))),a.buffer.push("\r\n</span>\r\n\r\n"),""});
Ember.TEMPLATES.RichTextEditorView=Ember.Handlebars.template(function(e,r,t,i,a){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),a=a||{},a.buffer.push('<textarea id="richTextEditorControl"></textarea>\r\n')});
Ember.TEMPLATES.RadioButtonView=Ember.Handlebars.template(function(e,t,n,s,o){function i(e,t){t.buffer.push(h(n.view.call(e,"Komodo.Controls.RadioButtonItemView",{hash:{contentBinding:"this"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:e},contexts:[e],types:["ID"],data:t})))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),o=o||{};var a,h=this.escapeExpression,r=this;return o.buffer.push("<div>"),a=n.each.call(t,"view.content",{hash:{},hashTypes:{},hashContexts:{},inverse:r.noop,fn:r.program(1,i,o),contexts:[t],types:["ID"],data:o}),(a||0===a)&&o.buffer.push(a),o.buffer.push("</div>\r\n"),""});
Ember.TEMPLATES.RadioButtonItemView=Ember.Handlebars.template(function(e,a,t,i,s){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),s=s||{};var d,n=this.escapeExpression;return s.buffer.push("<div "),s.buffer.push(n(t["bind-attr"].call(a,{hash:{class:"view.parentView.parentView.isHorizontal:komodo-radio-button:komodo-radio-button-vertical"},hashTypes:{class:"STRING"},hashContexts:{class:a},contexts:[],types:[],data:s}))),s.buffer.push('>\r\n    <input type="radio" '),s.buffer.push(n(t["bind-attr"].call(a,{hash:{tabindex:"view.parentView.parentView.tabindex",disabled:"view.parentView.parentView.disabled",name:"view.groupName",id:"view.itemId",value:"view.value",checked:"view.checked","data-title":"view.title"},hashTypes:{tabindex:"STRING",disabled:"STRING",name:"STRING",id:"STRING",value:"STRING",checked:"STRING","data-title":"STRING"},hashContexts:{tabindex:a,disabled:a,name:a,id:a,value:a,checked:a,"data-title":a},contexts:[],types:[],data:s}))),s.buffer.push(" />\r\n    <span>"),d=t._triageMustache.call(a,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:s}),(d||0===d)&&s.buffer.push(d),s.buffer.push("</span>\r\n</div>"),""});
Ember.TEMPLATES.PagerView=Ember.Handlebars.template(function(s,a,e,t,r){function o(s,a){var t;return a.buffer.push("\r\n"),t=e.if.call(s,"view.isFirstPage",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(4,p,a),fn:v.program(2,h,a),contexts:[s],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),t=e.if.call(s,"view.isFirstPage",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(8,u,a),fn:v.program(6,n,a),contexts:[s],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),t=e.each.call(s,"item","in","view.visiblePages",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(10,f,a),contexts:[s,s,s],types:["ID","ID","ID"],data:a}),(t||0===t)&&a.buffer.push(t),t=e.if.call(s,"view.isLastPage",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(17,g,a),fn:v.program(15,i,a),contexts:[s],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),t=e.if.call(s,"view.isLastPage",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(21,d,a),fn:v.program(19,b,a),contexts:[s],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),a.buffer.push("\r\n"),""}function h(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-disabled komodo-left-round komodo-pager-action">'),a.buffer.push(y((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.first",r):m.call(s,"loc","controls.pager.first",r)))),a.buffer.push("</span>"),""}function p(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-normal komodo-left-round" '),a.buffer.push(y(e.action.call(s,"first",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(y((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.first",r):m.call(s,"loc","controls.pager.first",r)))),a.buffer.push("</span>"),""}function n(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-disabled komodo-pager-action">'),a.buffer.push(y((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.previous",r):m.call(s,"loc","controls.pager.previous",r)))),a.buffer.push("</span>"),""}function u(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-normal" '),a.buffer.push(y(e.action.call(s,"previous",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(y((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.previous",r):m.call(s,"loc","controls.pager.previous",r)))),a.buffer.push("</span>"),""}function f(s,a){var t;t=e.if.call(s,"item.isCurrent",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(13,c,a),fn:v.program(11,l,a),contexts:[s],types:["ID"],data:a}),t||0===t?a.buffer.push(t):a.buffer.push("")}function l(s,a){var t;return a.buffer.push('<span class="komodo-pager-disabled">'),t=e._triageMustache.call(s,"item.number",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),a.buffer.push("</span>"),""}function c(s,a){var t;return a.buffer.push('<span class="komodo-pager-normal" '),a.buffer.push(y(e.action.call(s,"showPage","item.number",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s,s],types:["STRING","ID"],data:a}))),a.buffer.push(">"),t=e._triageMustache.call(s,"item.number",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a}),(t||0===t)&&a.buffer.push(t),a.buffer.push("</span>"),""}function i(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-disabled komodo-pager-action">'),a.buffer.push(y((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.next",r):m.call(s,"loc","controls.pager.next",r)))),a.buffer.push("</span>"),""}function g(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-normal" '),a.buffer.push(y(e.action.call(s,"next",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(y((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.next",r):m.call(s,"loc","controls.pager.next",r)))),a.buffer.push("</span>"),""}function b(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-disabled komodo-right-round komodo-pager-action">'),a.buffer.push(y((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.last",r):m.call(s,"loc","controls.pager.last",r)))),a.buffer.push("</span>"),""}function d(s,a){var t,r;return a.buffer.push('<span class="komodo-pager-normal komodo-right-round" '),a.buffer.push(y(e.action.call(s,"last",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:a}))),a.buffer.push(">"),a.buffer.push(y((t=e.loc||s&&s.loc,r={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:a},t?t.call(s,"controls.pager.last",r):m.call(s,"loc","controls.pager.last",r)))),a.buffer.push("</span>"),""}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,Ember.Handlebars.helpers),r=r||{};var x,m=e.helperMissing,y=this.escapeExpression,v=this;return x=e.if.call(a,"view.shouldDisplay",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(1,o,r),contexts:[a],types:["ID"],data:r}),(x||0===x)&&r.buffer.push(x),r.buffer.push("\r\n"),""});
Ember.TEMPLATES.ModalPaneView=Ember.Handlebars.template(function(e,s,a,n,t){function h(e,s){return s.buffer.push('\r\n  <a href="#" class="close" '),s.buffer.push(o(a.action.call(e,"close",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:s}))),s.buffer.push(">x</a>\r\n"),""}function r(e,s){return s.buffer.push("\r\n"),s.buffer.push(o(a.view.call(e,"view.headerViewClass",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),t=t||{};var i,o=this.escapeExpression,f=this;return i=a.if.call(s,"view.canUserClose",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,h,t),contexts:[s],types:["ID"],data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\r\n"),i=a.if.call(s,"view.canDisplayHeader",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,r,t),contexts:[s],types:["ID"],data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\r\n<div class="komodo-modal-content">\r\n'),t.buffer.push(o(a.view.call(s,"view.bodyViewClass",{hash:{contextBinding:"view.bodyViewClassContext",viewName:"mainView"},hashTypes:{contextBinding:"STRING",viewName:"STRING"},hashContexts:{contextBinding:s,viewName:s},contexts:[s],types:["ID"],data:t}))),t.buffer.push("\r\n</div>"),""});
Ember.TEMPLATES.ModalPaneHeaderView=Ember.Handlebars.template(function(e,s,a,t,r){function h(e,s){return s.buffer.push('\r\n    <a class="close" '),s.buffer.push(p(a.action.call(e,"close",{hash:{target:"view.parentView"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:s}))),s.buffer.push(">x</a>\r\n"),""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),r=r||{};var n,p=this.escapeExpression,i=this;return n=a.if.call(s,"view.parentView.canUserClose",{hash:{},hashTypes:{},hashContexts:{},inverse:i.noop,fn:i.program(1,h,r),contexts:[s],types:["ID"],data:r}),(n||0===n)&&r.buffer.push(n),r.buffer.push("\r\n<h4>"),n=a._triageMustache.call(s,"view.parentView.heading",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(n||0===n)&&r.buffer.push(n),r.buffer.push("</h4>\r\n<hr/>"),""});
Ember.TEMPLATES.ModalPaneContentView=Ember.Handlebars.template(function(e,s,a,r,t){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),t=t||{};var n=this.escapeExpression;return t.buffer.push(n(a.view.call(s,"view.viewClass",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:t}))),t.buffer.push("\r\n"),""});
Ember.TEMPLATES.MessageBoxView=Ember.Handlebars.template(function(s,e,a,t,h){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),h=h||{};var r,n,p,i=this.escapeExpression,f=a.helperMissing;return h.buffer.push("<div "),h.buffer.push(i(a["bind-attr"].call(e,{hash:{class:"styleType"},hashTypes:{class:"STRING"},hashContexts:{class:e},contexts:[],types:[],data:h}))),h.buffer.push(">\r\n    <h4>"),r=a._triageMustache.call(e,"data.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h}),(r||0===r)&&h.buffer.push(r),h.buffer.push("</h4>\r\n    <hr />\r\n    <img "),h.buffer.push(i(a["bind-attr"].call(e,{hash:{src:"imageType"},hashTypes:{src:"STRING"},hashContexts:{src:e},contexts:[],types:[],data:h}))),h.buffer.push(" /> <p>"),n=a.expandLineBreaks||e&&e.expandLineBreaks,p={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h},r=n?n.call(e,"data.message",p):f.call(e,"expandLineBreaks","data.message",p),(r||0===r)&&h.buffer.push(r),h.buffer.push('</p>\r\n</div>\r\n<br />\r\n<p class="messagebox-message-identifier">'),r=a._triageMustache.call(e,"data.identifier",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h}),(r||0===r)&&h.buffer.push(r),h.buffer.push('</p>\r\n<div class="float-right">\r\n    '),h.buffer.push(i(a.view.call(e,"buttonsView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:h}))),h.buffer.push("\r\n</div>\r\n<br />\r\n"),""});
Komodo.Services.EventAggregator=Ember.Object.extend({_eventAggregator:Ember.Object.extend(Ember.Evented).create(),init:function(){this._super()},subscribe:function(e,o,r){Komodo.Services.log("EventAggregator.subscribe("+e+")"),this._eventAggregator.on(e,o,r)},one:function(e,o,r){Komodo.Services.log("EventAggregator.one("+e+")"),this._eventAggregator.one(e,o,r)},unsubscribe:function(e,o,r){Komodo.Services.log("EventAggregator.off("+e+")"),this._eventAggregator.off(e,o,r)},publish:function(e,o){Komodo.Services.log("EventAggregator.publish("+e+")"),this._publishWithNoLog(e,o)},_publishWithNoLog:function(e,o){this._eventAggregator.trigger(e,o)}}),Komodo.Services.eventAggregator=KomodoConfiguration.overrideEmber?new Infrastructure.Core.EventAggregator:Komodo.Services.EventAggregator.create();
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.SystemService=Infrastructure.Core.SystemService||function(t){if(!t)throw new Error("SystemService instance must have an configuration.");var r=t;return{get:function(t){var r=t.split(".");if(1===r.length)return this[t];var e;return r.forEach(function(t){e=e?e[t]:this[t]},this),e},random:MRG32k3a(),newGuid:function(){var t=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=16*t.random()|0;return("x"==r?e:3&e|8).toString(16)})},getRootPathForApplication:function(){var t=/^(\/.*\/)|(\/)[^\/]*/,r=t.exec(window.location.pathname),e=r[1];return e||"/"},isSecure:function(){return 0===r.apiUrl.toLowerCase().indexOf("https")},isHostedLocally:function(){var t=window.location.hostname.toLowerCase();return"localhost"==t||"127.0.0.1"==t||"clarity"==t},universalDateString:function(t){if("[object Date]"!=Object.prototype.toString.call(t))throw new Error("[Infrastructure.Core.SystemService.universalDateOnly] : 'date' object received is not a date / date = '"+t+"'");return moment(t).format("YYYY-MM-DDT00:00:00")+"Z"},formattedDate:function(t){return moment(t).format(r.dateFormat)},formattedDateTime:function(t){return moment(t).format(r.dateTimeFormat)},get isMobile(){var t=navigator.userAgent;return!!(t.match(/Android/i)||t.match(/webOS/i)||t.match(/iPhone/i)||t.match(/iPad/i)||t.match(/iPod/i)||t.match(/BlackBerry/i)||t.match(/Windows Phone/i)||t.match(/Mac|Macintosh|Mac OS X/i))},get isRestStorageRequired(){return!this.isMobile&&(!r.browser||!r.browser.storageAdapter||"rest"==r.browser.storageAdapter)},get arePrerequisitesMissing(){return this.isRestStorageRequired&&!Lawnchair.isKomodoRestStorageValid}}};
Komodo.Services.SystemService=Ember.Object.extend({init:function(){var e=this;Ember.Handlebars.helper("date",function(t,o){if(o&&o.data&&o.data.properties&&0!=o.data.properties.length)return new Handlebars.SafeString(e.formattedDate(o))})},random:MRG32k3a(),newGuid:function(){var e=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=16*e.random()|0;return("x"==t?o:3&o|8).toString(16)})},getRootPathForApplication:function(){var e=/^(\/.*\/)|(\/)[^\/]*/,t=e.exec(window.location.pathname),o=t[1];return o||"/"},isSecure:function(){return 0===KomodoConfiguration.apiUrl.toLowerCase().indexOf("https")},isHostedLocally:function(){var e=window.location.hostname.toLowerCase();return"localhost"==e||"127.0.0.1"==e||"clarity"==e},universalDateString:function(e){if("[object Date]"!=Object.prototype.toString.call(e))throw new Error("[Komodo.Services.SystemService.universalDateOnly] : 'date' object received is not a date / date = '"+e+"'");return moment(e).format("YYYY-MM-DDT00:00:00")+"Z"},formattedDate:function(e){return moment(e).format(KomodoConfiguration.dateFormat)},formattedDateTime:function(e){return moment(e).format(KomodoConfiguration.dateTimeFormat)},isMobile:function(){var e=navigator.userAgent;return!!(e.match(/Android/i)||e.match(/webOS/i)||e.match(/iPhone/i)||e.match(/iPad/i)||e.match(/iPod/i)||e.match(/BlackBerry/i)||e.match(/Windows Phone/i)||e.match(/Mac|Macintosh|Mac OS X/i))}.property(),isRestStorageRequired:function(){return!this.get("isMobile")&&(!KomodoConfiguration.browser||!KomodoConfiguration.browser.storageAdapter||"rest"==KomodoConfiguration.browser.storageAdapter)}.property(),arePrerequisitesMissing:function(){return this.get("isRestStorageRequired")&&!Lawnchair.isKomodoRestStorageValid}.property()}),Komodo.Services.systemService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.SystemService(KomodoConfiguration):Komodo.Services.SystemService.create();
Lawnchair.isKomodoRestStorageValid=void 0,Lawnchair.adapter("rest-storage",function(){var t,e=KomodoConfiguration.localStorageApiUrl,a=function(a,o){var r,i=$.Deferred(),n=o||{},s=e+"/repository/"+t;n.key&&(s=s+"/"+n.key);var c={async:!1,type:a,cache:!1,url:s,dataType:"json"};switch(n.data&&(c.data=JSON.stringify(n.data)),a.toUpperCase()){case"GET":c.accepts={json:"application/json"};break;case"POST":c.contentType="application/json"}return jQuery.ajax(c).done(function(t){i.resolve(t)}).fail(function(e,a,o){switch(e.status){case 404:Komodo.warn("[rest-storage - could not get item] : repository = '"+t+"' / key = '"+n.key+"'"),i.resolve(void 0);break;default:e.responseText?(r=JSON.parse(e.responseText),i.reject(r.message||o)):i.reject(o)}}),i};return{valid:function(){var t;return!(!Komodo.Services.systemService.get("isRestStorageRequired")||!e||!1===Lawnchair.isKomodoRestStorageValid)&&(t=function(t,e){var a,o,r;if(void 0==t||void 0==e)return!0;if(a=t.split("."),o=e.split("."),3!=a.length||3!=o.length)return!1;for(r=0;r<a.length;++r)a[r]=Number(a[r]);for(r=0;r<o.length;++r)o[r]=Number(o[r]);return a[0]>o[0]||!(a[0]<o[0])&&(a[1]>o[1]||!(a[1]<o[1])&&(a[2]>o[2]||!(a[2]<o[2])))},void 0==Lawnchair.isKomodoRestStorageValid&&jQuery.ajax({async:!1,type:"GET",cache:!1,url:e}).done(function(e){Lawnchair.isKomodoRestStorageValid=t(e.version,KomodoConfiguration.localServerRequiredVersion)}).fail(function(){Lawnchair.isKomodoRestStorageValid=!1}),Lawnchair.isKomodoRestStorageValid)},init:function(e,a){t=this.name,a&&this.fn(this.name,a).call(this,this)},save:function(t,e){var o=this;return t.key=t.key||this.uuid(),a("POST",{key:t.key,data:t}).done(function(){e&&o.lambda(e).call(this,t)}).fail(function(t){throw new Error(t)}),this},batch:function(t,e){throw new Error("The rest-storage adapter does not implement the 'batch' method.")},keys:function(t){var e=this;return t&&a("GET",{data:obj}).done(function(a){e.lambda(t).call(this,a)}).fail(function(a,o,r){switch(a.status){case 404:e.lambda(t).call(this,[]);break;default:throw o}}),this},get:function(t,e){var o=this;if(this.isArray(t))throw new Error("The rest-storage adapter does not implement the 'get' method for an array of keys.");return a("GET",{key:t}).done(function(t){e&&o.lambda(e).call(this,t)}).fail(function(t){throw new t(t)}),this},exists:function(t,e){var o,r=this;return a("GET",{key:t}).done(function(t){o=!!t}).fail(function(t,e,a){switch(t.status){case 404:o=!1;break;default:throw e}}),r.lambda(e).call(this,o),this},all:function(e){var o=this;return a("GET").done(function(t){e&&o.lambda(e).call(this,t)}).fail(function(a,r,i){switch(a.status){case 404:Komodo.warn("[rest-storage - could not get all items] : repository = '"+t+"'"),e&&o.lambda(e).call(this,[]);break;default:throw r}}),this},remove:function(t,e){var o=this;if(this.isArray(t))throw new Error("The rest-storage adapter does not implement the 'remove' method for an array of keys.");return a("DELETE",{key:t}).done(function(){e&&o.lambda(e).call(this)}).fail(function(t){throw t}),this},nuke:function(t){var e=this;return a("DELETE").done(function(){t&&e.lambda(t).call(this)}).fail(function(t){throw t}),this}}}());
Lawnchair.adapter("dom",function(){var t=window.localStorage,e=function(e){return{key:e+"._index_",all:function(){var e=t.getItem(JSON.stringify(this.key));return e&&(e=JSON.parse(e)),null===e&&t.setItem(JSON.stringify(this.key),JSON.stringify([])),JSON.parse(t.getItem(JSON.stringify(this.key)))},add:function(e){var i=this.all();i.push(e),t.setItem(JSON.stringify(this.key),JSON.stringify(i))},del:function(e){for(var i=this.all(),n=[],r=0,s=i.length;r<s;r++)i[r]!=e&&n.push(i[r]);t.setItem(JSON.stringify(this.key),JSON.stringify(n))},find:function(t){for(var e=this.all(),i=0,n=e.length;i<n;i++)if(t===e[i])return i;return!1}}};return{valid:function(){return!Komodo.Services.systemService.get("isRestStorageRequired")&&!!t&&function(){var e=!0,i=Math.random();try{t.setItem(i,i)}catch(t){e=!1}return t.removeItem(i),e}()},init:function(t,i){this.indexer=e(this.name),i&&this.fn(this.name,i).call(this,this)},save:function(e,i){var n=e.key?this.name+"."+e.key:this.name+"."+this.uuid();return delete e.key,t.setItem(n,JSON.stringify(e)),!1===this.indexer.find(n)&&this.indexer.add(n),e.key=n.slice(this.name.length+1),i&&this.lambda(i).call(this,e),this},batch:function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)this.save(t[n],function(t){i.push(t)});return e&&this.lambda(e).call(this,i),this},keys:function(t){if(t){var e=this.name,i=this.indexer.all(),n=[];if(Array.prototype.map)n=i.map(function(t){return t.replace(e+".","")});else for(var r in i)n.push(r.replace(e+".",""));this.fn("keys",t).call(this,n)}return this},get:function(e,i){if(this.isArray(e)){for(var n=[],r=0,s=e.length;r<s;r++){var a=this.name+"."+e[r],h=t.getItem(a);h&&(h=JSON.parse(h),h.key=e[r]),n.push(h)}i&&this.lambda(i).call(this,n)}else{var a=this.name+"."+e,h=t.getItem(a);h&&(h=JSON.parse(h),h.key=e),i&&this.lambda(i).call(this,h)}return this},exists:function(t,e){var i=!1!==this.indexer.find(this.name+"."+t);return this.lambda(e).call(this,i),this},all:function(e){for(var i,n,r=this.indexer.all(),s=[],a=0,h=r.length;a<h;a++)n=r[a],i=JSON.parse(t.getItem(n)),i.key=n.replace(this.name+".",""),s.push(i);return e&&this.fn(this.name,e).call(this,s),this},remove:function(e,i){var n=this;if(this.isArray(e)){var r,s=e.length;for(r=0;r<e.length;r++)!function(t){n.remove(e[t],function(){--s>0||i&&n.lambda(i).call(n)})}(r);return this}var a=this.name+"."+(e.key?e.key:e);return this.indexer.del(a),t.removeItem(a),i&&this.lambda(i).call(this),this},nuke:function(t){return this.all(function(e){for(var i=0,n=e.length;i<n;i++)this.remove(e[i]);t&&this.lambda(t).call(this)}),this}}}());
var Infrastructure=Infrastructure||{};Infrastructure.Core=Infrastructure.Core||{},Infrastructure.Core.Repository=Infrastructure.Core.Repository||function(e,t){if(!e)throw new Error("Repository instance must have a name.");if(!t)throw new Error("Repository instance must have a logger.");var r=e,n=t,o={name:e};return{get:function(e){return this[e]},name:r,getName:function(){return r},lawnChairOptions:function(){return o},save:function(e,t){n.log("Repository.save: name = '"+this.getName()+"' / key='"+e+"'");var r=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(n){n.save({key:e,data:t},function(e){r.resolve(e)})})}catch(e){r.reject(e)}return r},fetchAll:function(){n.log("Repository.fetchAll: name = '"+this.getName()+"'");var e=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(t){t.all(function(t){e.resolve(t)})})}catch(t){e.reject(t)}return e},fetch:function(e){n.log("Repository.fetch: name = '"+this.getName()+"' / key='"+e+"'");var t=$.Deferred(),r=this;try{new Lawnchair(this.lawnChairOptions(),function(n){n.get(e.toString(),function(n){void 0==n?t.reject("[Repository.fetch - failed] : name = '"+r.getName()+"' / key='"+e+"' / error = 'No data found for key'"):t.resolve(n)})})}catch(e){t.reject(e)}return t},remove:function(e){n.log("Repository.remove: name = '"+this.getName()+"' / key='"+e+"'");var t=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(r){r.remove(e,function(){t.resolve()})})}catch(e){t.reject(e)}return t},contains:function(e){n.log("Repository.contains: name = '"+this.getName()+"' / key='"+e+"'");var t=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(r){r.exists(e,function(e){t.resolve(e)})})}catch(e){t.reject(e)}return t},clear:function(){n.log("Repository.clear: name = '"+this.getName()+"'");var e=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(t){t.nuke(function(){e.resolve()})})}catch(t){e.reject(t)}return e},count:function(){n.log("Repository.count: name = '"+this.getName()+"'");var e=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(t){t.all(function(t){e.resolve(t.length)})})}catch(t){e.reject(t)}return e}}};
Komodo.Repositories.Repository=Ember.Object.extend({name:void 0,_lawnChairOptions:void 0,init:function(){var e=this.get("name");if(void 0==e||""===e)throw new Error("Komodo.Repositories.Repository instance must have a name.");this.set("_lawnChairOptions",{name:e})},getName:function(){return this.get("name")},lawnChairOptions:function(){return this.get("_lawnChairOptions")},save:function(e,t){Komodo.Repositories.log("Repository.save: name = '"+this.getName()+"' / key='"+e+"'");var o=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(n){n.save({key:e,data:t},function(e){o.resolve(e)})})}catch(e){o.reject(e)}return o},fetchAll:function(){Komodo.Repositories.log("Repository.fetchAll: name = '"+this.getName()+"'");var e=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(t){t.all(function(t){e.resolve(t)})})}catch(t){e.reject(t)}return e},fetch:function(e){Komodo.Repositories.log("Repository.fetch: name = '"+this.getName()+"' / key='"+e+"'");var t=$.Deferred(),o=this;try{new Lawnchair(this.lawnChairOptions(),function(n){n.get(e.toString(),function(n){void 0==n?t.reject("[Repository.fetch - failed] : name = '"+o.getName()+"' / key='"+e+"' / error = 'No data found for key'"):t.resolve(n)})})}catch(e){t.reject(e)}return t},remove:function(e){Komodo.Repositories.log("Repository.remove: name = '"+this.getName()+"' / key='"+e+"'");var t=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(o){o.remove(e,function(){t.resolve()})})}catch(e){t.reject(e)}return t},contains:function(e){Komodo.Repositories.log("Repository.contains: name = '"+this.getName()+"' / key='"+e+"'");var t=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(o){o.exists(e,function(e){t.resolve(e)})})}catch(e){t.reject(e)}return t},clear:function(){Komodo.Repositories.log("Repository.clear: name = '"+this.getName()+"'");var e=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(t){t.nuke(function(){e.resolve()})})}catch(t){e.reject(t)}return e},count:function(){Komodo.Repositories.log("Repository.count: name = '"+this.getName()+"'");var e=$.Deferred();try{new Lawnchair(this.lawnChairOptions(),function(t){t.all(function(t){e.resolve(t.length)})})}catch(t){e.reject(t)}return e}});
var Komodo=Komodo||{};Komodo.CacheKeys=Komodo.CacheKeys||{defaultLoginCountry:"defaultLoginCountry",savedTheme:"savedTheme",user:"user",selectedCountry:"selectedCountry",selectedLanguage:"selectedLanguage",offlineState:"offlineState",publicEncryptionKey:"publicEncryptionKey",navigationActiveGroup:"navigationActiveGroup",roles:"roles"};
Komodo.Repositories.cacheRepository=KomodoConfiguration.overrideEmber?new Infrastructure.Core.Repository("Cache",new Infrastructure.Core.Logger):Komodo.Repositories.Repository.extend({name:"Cache"}).create(),function(o){o.Repositories.cacheRepository.fetch(o.CacheKeys.selectedCountry).done(function(e){o.loggedInCountryDescription=e.data.countryDescription,o.loggedInCountry=e.data.countryId})}(Komodo);
Komodo.Services.LocalizationService=Ember.Object.extend(Komodo.Dependency,{_selectedLanguage:void 0,_additionalNamespaces:[],_localizationFunctions:[],init:function(){this._super(),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService});var e=this;this.getCacheRepository().fetch(Komodo.CacheKeys.selectedLanguage).done(function(o){e.set("_selectedLanguage",o.data)}).fail(function(){e.set("_selectedLanguage",KomodoConfiguration.defaultLanguage)})},getCacheRepository:function(){return this.get("_cacheRepository")},getSystemService:function(){return this.get("_systemService")},start:function(){var e=$.Deferred(),o=this,t=this.getSystemService().getRootPathForApplication(),i=t+"locales/__lng__/__ns__.json",n={namespaces:["locale.komodo"],defaultNs:"locale.komodo"};return this.get("_additionalNamespaces").forEach(function(e){n.namespaces.push(e)}),i18n.init({cache:!1,lng:o.get("_selectedLanguage"),fallbackLng:KomodoConfiguration.fallbackLanguage,resGetPath:i,debug:!0,ns:n},function(){o.get("_localizationFunctions").forEach(function(e){e()}),e.resolve()}),e},value:function(e,o){return i18n.t(e,o)},getCurrentLanguage:function(){return this.get("_selectedLanguage")},changeLanguage:function(e){var o=this,t=$.Deferred();return e!==this.get("_selectedLanguage")&&this.getCacheRepository().save(Komodo.CacheKeys.selectedLanguage,e).done(function(){o.set("_selectedLanguage",e)}),t},registerStartCallback:function(e){"function"===Ember.typeOf(e)&&this.get("_localizationFunctions").push(e)},registerNamespace:function(e){this.get("_additionalNamespaces").push(e)}}),Komodo.Services.localizationService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.LocalizationService(Komodo.Repositories.cacheRepository,Komodo.Services.systemService,Komodo.CacheKeys,KomodoConfiguration,new Infrastructure.Core.Logger):Komodo.Services.LocalizationService.create(),kl=Komodo.Services.localizationService;
Komodo.ObjectTreeFacade=function(n){var e=function(n,t,r,o){var i,u,c,f=[];for(i in n)if(n.hasOwnProperty(i)){if(u=o+"_"+i,Komodo.debug("ObjectTreeFacade:findObjectWithMember memberPath: "+u),i===t||function(n,e){return n.match(e+"$")==e}(u,t))return void r(n);"object"==typeof n[i]&&null!==n[i]&&f.push({memberName:i,object:n[i]})}f.forEach(function(n){return c=o+"_"+n.memberName,e(n.object,t,r,c)})},t=function(n){return n.substring(n.lastIndexOf("_")+1,n.length)},r=function(n,r){var o;if(e(n,r,function(n){o=n},""),void 0!==o){var i=t(r);return o[i]}},o=function(n,r,o){var i;if(e(n,r,function(n){i=n},""),void 0!==i){var u=t(r);null!==i&&(i[u]=o)}};this.get=function(e){return r(n,e)},this.set=function(e,t){o(n,e,t)}};
Komodo.Models.SearchNavigationModel=Ember.Object.extend({init:function(){this._super(),this.routes=[]}});
Komodo.EventNames={applicationInitialized:"ApplicationInitialized",cachedDataVersionChanged:"CachedDataVersionChanged",connectionEstablished:"ConnectionEstablished",connectionLost:"ConnectionLost",messageFaultReceived:"MessageFaultReceived",navigationGroupChanged:"NavigationGroupChanged",routeAccessChanged:"RouteAccessChanged",processQueueRequested:"ProcessQueueRequested",restartApplication:"RestartApplication",restrictedRouteEntered:"RestrictedRouteEntered",searchRequested:"SearchRequested",sessionExpired:"SessionExpired",sessionLoggedOut:"--fef-session-logged-out--",userLoggedIn:"UserLoggedIn",userLoggedOut:"UserLoggedOut",offlineStateChanged:"OfflineStateChanged",sessionChanged:"SessionChanged",willTransitionToRoute:"WillTransitionToRoute",customTypeChanged:"CustomTypeChanged",changeNavigationLinkDisplay:"ChangeNavigationLinkDisplay",iVRClarityUIPScreenPop:"IVRClarityUIPScreenPop",themeChanged:"ThemeChanged",loadingController:"LoadingController",postMessageSucceeded:"PostMessageSucceeded"};
Komodo.Controls.ColumnView=Ember.View.extend({tagName:"div",classNames:["col-sm-6","komodo-text-align-top"],init:function(){var e=Ember.View.create({template:this.get("template")});this.get("childViews").push(e),this._super()}});
Komodo.Controls.ColumnLayoutView=Ember.View.extend({tagName:"div",classNames:["container-fluid"],init:function(){var e=Ember.View.create({tagName:"div",classNames:["row"],template:this.get("template")});this.get("childViews").push(e),this._super()}});
Komodo.Controls.DataGridView=Komodo.UI.View.extend({_contentWillChange:Ember.beforeObserver(function(){},"content")});
Komodo.Controls.DataGridFooterColumn=Ember.Object.extend({columnSpan:void 0,customClass:void 0,content:void 0});
Komodo.Controls.DataGridColumn=Ember.Object.extend({title:void 0,name:void 0,canEdit:!1,width:"120px",controlType:void 0,isSortedAsc:!1,isSortedDesc:!1,isAlwaysEditing:!1,customClass:void 0});
Komodo.Permissions=Ember.Namespace.create({SecurityAdministration:"clarity://security/administration",SwapMaterialAvailabilityCanOverrideCharge:"clarity://swap-material-availability/can-override-charge"});
Komodo.Router=Ember.Router.extend({location:"hash"});
Komodo.Models.DebugModel=Ember.Object.extend({sourceFilters:void 0,selectedSourceFilter:void 0,searchText:void 0,logData:void 0,init:function(){this.set("logData",[]),this.set("sourceFilters",[]),this._super()}});
Komodo.UI.ActionElementIdGenerator=Ember.Object.extend({getElementId:function(e){return e&&e.get("action")?e.get("action")+"-action":null}}),Komodo.UI.actionElementIdGenerator=Komodo.UI.ActionElementIdGenerator.create();
Komodo.UI.ContentBindingElementIdGenerator=Ember.Object.extend({getElementId:function(n){if(!n||!n.get("contentBinding"))return null;var e=n.get("contentBinding")._from.replace("bindingContext.",""),t=e.lastIndexOf(".value");return t==e.length-6&&(e=e.substring(0,t)),e=e.replace(/\./g,"-")}}),Komodo.UI.contentBindingElementIdGenerator=Komodo.UI.ContentBindingElementIdGenerator.create();
Komodo.UI.DefaultElementIdGenerator=Ember.Object.extend({getElementId:function(e){if(!e||!e.toString)return null;var t=e.get("elementId");return void 0==t&&(t=e.toString().split(":")[1].replace(">","")),t}}),Komodo.UI.defaultElementIdGenerator=Komodo.UI.DefaultElementIdGenerator.create();
Komodo.UI.DuplicateElementIdResolver=Ember.Object.extend({ids:{},getIds:function(){return this.get("ids")},getUniqueElementId:function(e,t){var d,i,s,o=0,n=e+"-"+t;if(this.getIds()[n]){for(d=t.match(/(\d*$)/)[0],o=""!==d?parseInt(d,10):0,o+=1,i=t+"-"+o,s=e+"-"+i;this.getIds()[s];)o+=1,i=t+"-"+o,s=e+"-"+i;return this.getIds()[s]=!0,i}return this.getIds()[n]=!0,t},clearIdsForView:function(e){var t;for(t in this.getIds())0===t.indexOf(e)&&(this.getIds()[t]=void 0)}}),Komodo.UI.duplicateElementIdResolver=Komodo.UI.DuplicateElementIdResolver.create();
Komodo.UI.IdentifyAsElementIdGenerator=Ember.Object.extend({getElementId:function(e){if(!e||!e.get("identifyAs"))return null;var t=e.get("identifyAs"),n=e.get("title");return(t+(n?"-"+n:"")).replace(/\.|\ /g,"-")}}),Komodo.UI.identifyAsElementIdGenerator=Komodo.UI.IdentifyAsElementIdGenerator.create();
Komodo.UI.TextBindingElementIdGenerator=Ember.Object.extend({getElementId:function(e){return e&&e.get("textBinding")?e.get("textBinding")._from.replace("context.","").replace("_parentView.","").replace("parentView.","").replace(/\./g,"-"):null}}),Komodo.UI.textBindingElementIdGenerator=Komodo.UI.TextBindingElementIdGenerator.create();
Komodo.Controls.DataGridDisplayStrategyValue=function(o){return o};
Komodo.Controls.DataGridDatePickerDisplayStrategy=function(t){this.displayControl=Komodo.Controls.DataGridLabel,this.editControl=Komodo.Controls.CoreDatePicker,this.getDisplayValue=function(t){return void 0!==t&&void 0!==t.getDate&&(t=moment(t).format(KomodoConfiguration.dateFormat)),t},this.getDisplayContext=function(){return{text:t.get("displayValue")}},this.getEditContext=function(){return{}}};
Komodo.UI.ValidatorBindingElementIdGenerator=Ember.Object.extend({getElementId:function(e){return e&&e.validatorBinding?e.validatorBinding._from.replace("context.","").replace("_parentView.","").replace("parentView.","").replace(/\./g,"-"):null}}),Komodo.UI.validatorBindingElementIdGenerator=Komodo.UI.ValidatorBindingElementIdGenerator.create();
Komodo.UI.ValueBindingElementIdGenerator=Ember.Object.extend({getElementId:function(e){if(!e||!e.valueBinding)return null;var n=e.valueBinding._from.replace("context.","").replace("_parentView.","").replace("parentView.",""),r=n.lastIndexOf(".value");return r==n.length-6&&(n=n.substring(0,r)),n=n.replace(/\./g,"-")}}),Komodo.UI.valueBindingElementIdGenerator=Komodo.UI.ValueBindingElementIdGenerator.create();
Komodo.UI.DecimalLimitValueToTypeStrategy=function(){this.limitValue=function(e){return e.toString().replace(/[^\d|\..]/g,"")},this.isKeyCodeAllowed=function(e){return!(e.shiftKey||e.keyCode<48||e.keyCode>57)||190===e.keyCode}};
Komodo.UI.NumberLimitValueToTypeStrategy=function(){this.limitValue=function(e){return e.toString().replace(/[^\d.]/g,"")},this.isKeyCodeAllowed=function(e){return!(e.shiftKey||e.keyCode<48||e.keyCode>57)}};
Komodo.UI.StringLimitValueToTypeStrategy=function(e){this.limitValue=function(o){var t=/[^A-Za-z]/g;return!0===e.allowNumbersInStringType&&(t=/[^(A-Za-z|\d))]/g),o.toString().replace(t,"")},this.isKeyCodeAllowed=function(o){var t=!0;return(o.keyCode<65||o.keyCode>90)&&(o.keyCode<97||o.keyCode>122)&&(t=!1,!0===e.allowNumbersInStringType&&(o.shiftKey||o.keyCode<48||o.keyCode>57||(t=!0))),t}};
Komodo.UI.Validators.SmartcardNumberValidator=function(r,t,e){var a=Ember.A(),n=r[Object.keys(r)[0]];e=e||{};var i,d,o,u,c,l=e.displayName,s=function(){for(i=0,d=n.length,o=d%2,u=0;u<d;u+=1)c=parseInt(n.charAt(u),10),u%2==o&&(c*=2),c>9&&(c-=9),i+=c;return i%10==0};if(void 0!==n&&null!==n&&""!==n){var m=function(){return 10!=n.length&&11!=n.length?e.invalidLength||l+" must contain 10 or 11 characters":isNaN(Number(n))?e.digitsRequired||l+" must only be numeric characters":11!=n.length||s()?"":e.digitsRequired||l+" is not valid"}();""!=m&&a.addObject(m)}return a};
Komodo.UI.Validators.DecoderNumberValidator=function(r,t,e){var i=Ember.A(),a=r[Object.keys(r)[0]];e=e||{},e.type=e.type||"string";var n,u,s,c,d=e.displayName,o=function(){for(n=0,u=2,c=9;c>0;c--)n+=parseInt(a[c],10)*u,++u>7&&(u=2);return s=11-n%11,s>9&&(s=0),s==parseInt(a[11],10)};if(void 0!==a&&null!==a&&""!==a){var l=function(){if(!new RegExp("^[a-zA-Z]{1}").test(a))return e.invalidStartCharacter||d+" must start with a character";if(10!=a.length&&12!=a.length)return e.invalidLength||d+" must contain 10 or 12 characters";if(a.length>9&&isNaN(Number(a.substr(1,9))))return e.digitsRequired||"Characters 2 - 10 must be numeric";if(12==a.length){if(isNaN(Number(a[11])))return e.digitsRequired||"The last characters must be numeric";if(!o())return e.digitsRequired||d+" is not valid"}return""}();""!=l&&i.addObject(l)}return i};
Komodo.Models.RecentCustomersListModel=Ember.Object.extend({init:function(){this._super(),this.listData=[],this.classArray=[]}});
Komodo.Controls.DataGridControl=Ember.Mixin.create({init:function(){this._super(),this.set("elementId",this._resolveDataGridElementId()+"-"+this._resolveDataGridControlElementId()+"-"+this.get("parentView.parentView.contentIndex"))},_resolveDataGridControlElementId:function(){return this.get("parentView.content.name")||this.toString().split(":")[1].replace(">","")},_resolveDataGridElementId:function(){return this.get("parentView.parentView.parentView.parentView.elementId")},controlPrefix:void 0,focusOut:function(){this.get("parentView").makeNotEditable()},didInsertElement:function(){this._super(),!0===this.get("parentView._isEditing")&&this.$().focus()}});
Komodo.Models.WriteOffFunds=Ember.Object.extend({init:function(){this.Country=void 0,this.Amount=void 0,this.FinancialAccountUID=void 0,this.LedgerAccount=void 0,this.InvoiceUID=void 0,this.Comments=void 0,this.CustomerClass=void 0,this._super()}});
Komodo.Models.UpdateFinancialTransctionStatus=Ember.Object.extend({init:function(){this.Country=void 0,this.FinancialTransactionApprovalRequestUID=void 0,this.FinancialTransactionUID=void 0,this.TransactionStatus=void 0,this.StatusChangeComment=void 0,this.RequestedBy=void 0,this.Language=void 0,this._super()}});
Komodo.Models.UpdateFinancialTransctionsStatuses=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfPendingFinancialTransactions=void 0,this._super()}}),Komodo.Models.ListOfPendingFinancialTransactions=Ember.Object.extend({init:function(){this.PendingFinancialTransactions=[],this._super()}}),Komodo.Models.PendingFinancialTransactions=Ember.Object.extend({init:function(){this.FinancialTransactionApprovalRequestUID=void 0,this.FinancialTransactionUID=void 0,this.TransactionStatus=void 0,this.StatusChangeComment=void 0,this.RequestedBy=void 0,this._super()}});
Komodo.Models.UnassignOLTPrintersToUsers=Ember.Object.extend({init:function(){this.Country=void 0,this.Username=void 0,this.PrinterIDs=[],this.UserIDs=[],this._super()}});
Komodo.Models.TransferPayment=Ember.Object.extend({init:function(){this.Country=void 0,this.AmountPaid=void 0,this.FromFinancialTransactionUID=void 0,this.LedgerAccount=void 0,this.CustomerUID=void 0,this.ToAccountUID=void 0,this.RequestDate=void 0,this.RequestedBy=void 0,this.Comments=void 0,this.Language=void 0,this._super()}});
Komodo.Models.ShiftDetailsRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.Shifts=[],this._super()}});
Komodo.Models.ShiftDetails=Ember.Object.extend({init:function(){this.Country=void 0,this.Shift=Komodo.Models.Shift.create(),this.Payments=[],this.Summary=[],this.StockHandlers=[],this.ExchangeRates=[],this.AllowedCurrencies=[],this.Printers=[],this._super()}});
Komodo.Models.ShiftClosed=Ember.Object.extend({init:function(){this.Country=void 0,this.Shift=Komodo.Models.Shift.create(),this._super()}});
Komodo.Models.DocumentMetaData=Ember.Object.extend({init:function(){this.DocumentMetaDataValueUri=void 0,this.Value=void 0,this._super()}});
Komodo.Models.SecondaryCustomer=Ember.Object.extend({init:function(){this.CustomerUID=void 0,this.Action=void 0,this.AgreementId=void 0,this._super()}});
Komodo.Models.RetrieveShiftDetails=Ember.Object.extend({init:function(){this.Country=void 0,this.ShiftUID=void 0,this.UserName=void 0,this.ShiftStatus=void 0,this.ShiftType=void 0,this.StartDate=void 0,this.EndDate=void 0,this.BankDepositNumber=void 0,this._super()}});
Komodo.Models.RetrieveReceiptDetails=Ember.Object.extend({init:function(){this.Country=void 0,this.UserName=void 0,this.PaymentID=void 0,this._super()}});
Komodo.Models.RetrieveQuotations=Ember.Object.extend({init:function(){this.Country=void 0,this.QuotationUID=void 0,this._super()}});
Komodo.Models.RetrieveOLTPrinterTypes=Ember.Object.extend({init:function(){this.Country=void 0,this.UserName=void 0,this._super()}});
Komodo.Models.RetrieveOLTPrinters=Ember.Object.extend({init:function(){this.Country=void 0,this.UserName=void 0,this.AssetTag=void 0,this._super()}});
Komodo.Models.RetrieveJournals=Ember.Object.extend({init:function(){this.Country=void 0,this.JournalStatus=void 0,this._super()}});
Komodo.Models.RetrieveInvoice=Ember.Object.extend({init:function(){this.Country=void 0,this.InvoiceNumber=void 0,this._super()}});
Komodo.Models.RetrieveInteractions=Ember.Object.extend({init:function(){this.Country=void 0,this.CaseReferenceNumber=void 0,this.CustomerUID=void 0,this._super()}});
Komodo.Models.RetrieveHardware=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerID=void 0,this._super()}});
Komodo.Models.RetrieveFTApprovalRequests=Ember.Object.extend({init:function(){this.Country=void 0,this.FTApprovalRequest=void 0,this._super()}});
Komodo.Models.RetrieveFinancialTransactions=Ember.Object.extend({init:function(){this.Country=void 0,this.PaymentsFromDate=void 0,this.PaymentsUpToDate=void 0,this.LastPointOfPayment=void 0,this.ReferenceNumber=void 0,this.TransactionAmount=void 0,this._super()}});
Komodo.Models.RetrieveFinancialAccounts=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this._super()}});
Komodo.Models.RetrieveCustomerSRQ=Ember.Object.extend({init:function(){this.Country=void 0,this.UserName=void 0,this.CustomerID=void 0,this._super()}});
Komodo.Models.RetrieveCustomerDetails=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this._super()}});
Komodo.Controls.KomodoAction=Ember.Mixin.create(Ember.TargetActionSupport,{bubbles:!0,click:function(t){if(!this.get("target")){var e=this.get("context");e&&this.set("target",e)}if(this.triggerAction.apply(this),!1===this.bubbles)return t.stopPropagation(),t.preventDefault(),!1}});
Komodo.Models.RetrieveAgentDetails=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this._super()}});
Komodo.Models.RefundCustomer=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfRefundCustomerDetails=Komodo.Models.ListOfRefundCustomerDetails.create(),this._super()}}),Komodo.Models.ListOfRefundCustomerDetails=Ember.Object.extend({init:function(){this.RefundCustomerDetail=Komodo.Models.RefundCustomerDetail.create(),this._super()}}),Komodo.Models.RefundCustomerDetail=Ember.Object.extend({init:function(){this.FinancialTransactionUID=void 0,this.RequestedBy=void 0,this.Comments=void 0,this.Amount=[],this.PaymentDetail=[],this._super()}}),Komodo.Models.PaymentDetail=Ember.Object.extend({init:function(){this.MethodOfPayment=void 0,this.BankAccountType=void 0,this.AccountNumber=void 0,this.BankName=void 0,this.BranchName=void 0,this.BranchCode=void 0,this.DebitOrderDay=void 0,this.PayerName=void 0,this.PayerSurname=void 0,this.PayerIDType=void 0,this.PayerIDNumber=void 0,this.AHVStatus=void 0,this.PayerPhoneNumber=Komodo.Models.PhoneNumber.create(),this.PayerEmail=Komodo.Models.Email.create(),this._super()}});
Komodo.Models.ReceiptDetailsRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.PaymentID=void 0,this.FinancialTransactionID=void 0,this.ReceiptNumber=void 0,this.ReceiptDate=void 0,this.SubscriptionDueDate=void 0,this.MethodOfPayment=void 0,this.CustomerID=void 0,this.CustomerName=void 0,this.SmartcardNumber=void 0,this.EmailAddress=void 0,this.CellphoneNumber=void 0,this.Amount=void 0,this.AmountTendered=void 0,this.ChangeOwed=void 0,this.CashierName=void 0,this.QuotationID=void 0,this.IsCashSale=void 0,this.IsCancelled=void 0,this.IsReprint=void 0,this.ReceiptText=void 0,this._super()}});
Komodo.Models.PaymentCreated=Ember.Object.extend({init:function(){this.ListOfPayment=[],this.Username=void 0,this.Country=void 0,this.ReceiptText=void 0,this._super()}});
Komodo.Models.PaymentCaptured=Ember.Object.extend({init:function(){this.Country=void 0,this.PaymentID=void 0,this.FinancialTransactionID=void 0,this.ReceiptNumber=void 0,this.ReceiptDate=void 0,this.SubscriptionDueDate=void 0,this.MethodOfPayment=void 0,this.CustomerID=void 0,this.CustomerName=void 0,this.SmartcardNumber=void 0,this.Notes=void 0,this.EmailAddress=void 0,this.CellphoneNumber=void 0,this.Amount=void 0,this.AmountTendered=void 0,this.ChangeOwed=void 0,this.CashierName=void 0,this.QuotationID=void 0,this.IsCashSale=void 0,this.IsCancelled=void 0,this.IsReprint=void 0,this.BusinessUnit=void 0,this.EnableFiscalization=void 0,this.EnableInvoice=void 0,this._super()}});
Komodo.Models.OverrideCreditVettingDecision=Ember.Object.extend({init:function(){this.Country=void 0,this.ApplicationId=void 0,this.OverrideReason=void 0,this._super()}});
Komodo.Models.OverrideAHVStatus=Ember.Object.extend({init:function(){this.Country=void 0,this.FinancialAccountUID=void 0,this.PaymentDetail=Komodo.Models.PaymentDetail.create(),this._super()}}),Komodo.Models.PaymentDetail=Ember.Object.extend({init:function(){this.MethodOfPayment=void 0,this.BankAccountType=void 0,this.AccountNumber=void 0,this.BankName=void 0,this.BranchName=void 0,this.BranchCode=void 0,this.DebitOrderDay=void 0,this.PayerName=void 0,this.PayerSurname=void 0,this.PayerIDType=void 0,this.PayerIDNumber=void 0,this.AHVStatus=void 0,this.YearsAtBank=void 0,this.IsSalaryMandated=void 0,this.PayerPhoneNumber=Komodo.Models.PhoneNumber.create(),this.PayerEmail=Komodo.Models.Email.create(),this.IsBankAHVCompliant=void 0,this.IsThirdPartyPayer=void 0,this._super()}});
Komodo.Models.MultipleDevicesErrorCodeCleared=Ember.Object.extend({init:function(){this.Country=void 0,this.AgreementUID=void 0,this.ListOfSerialNumber=[],this.ErrorReasonCode=0,this._super()}});
Komodo.Models.InformCaseOwner=Ember.Object.extend({init:function(){this.Country=void 0,this.CaseUID=void 0,this.Notes=void 0,this._super()}});
Komodo.Models.DeviceErrorCodeCleared=Ember.Object.extend({init:function(){this.Country=void 0,this.ErrorReasonCode=0,this.SerialNumber=void 0,this._super()}});
Komodo.Models.DecoderInsured=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ServiceUID=void 0,this.DecoderSerialNumber=void 0,this.ScheduleDate=void 0,this.InsuranceStatus=void 0,this._super()}});
Komodo.Models.SRQLineItem=Ember.Object.extend({init:function(){this.SRQLineItemID=void 0,this.AdjustmentAmount=void 0,this.Amount=void 0,this.BaseAmount=void 0,this.StartDate=void 0,this.EndDate=void 0,this.SRQType=void 0,this.InvoiceText=void 0,this.TaxAmount=void 0,this._super()}});
Komodo.Models.CustomerSRQRetrieved=Ember.Object.extend({init:function(){this.CustomerSRQ=[],this._super()}});
Komodo.Models.CustomerSRQ=Ember.Object.extend({init:function(){this.SRQID=void 0,this.CreatedByUser=void 0,this.FinancialAccountID=void 0,this.FulfillmentDate=void 0,this.SRQDate=void 0,this.ReplacedBySRQID=void 0,this.TotalAmount=void 0,this.SRQStatus=void 0,this.CustomerID=void 0,this.SRQLineItems=[],this._super()}});
Komodo.Models.SplitPayment=Ember.Object.extend({init:function(){this.CustomerID=void 0,this.QuotationID=void 0,this.Amount=void 0,this.FinancialTransactionID=void 0,this.LedgerAccountID=void 0,this.CurrencyRate=void 0,this.AccountID=void 0,this.CustomerAddress=void 0,this.SmartcardNumber=void 0,this.Notes=void 0,this._super()}});
Komodo.CanonicalValues=Ember.Namespace.create({MethodOfPayment:Ember.Namespace.create({Cash:1,Current:2,Savings:3,Transmission:4,DoCreditCard:5,Payroll:6,AHVPending:7}),IdentificationType:Ember.Namespace.create({ID:"1",Passport:"2",DrivingLicence:"3",VotersId:"4",NationalId:"5",Refugee:"6",LesothoIdentityNumber:"7",NRC:"8"}),AccountType:Ember.Namespace.create({BoxOffice:9}),AddressTypes:Ember.Namespace.create({Physical:"3",Postal:"2",Delivery:"4"}),CreditApplicationStatus:Ember.Namespace.create({Expired:"11"}),CustomerClass:Ember.Namespace.create({Residential:"Residential"}),CustomerType:Ember.Namespace.create({General:"General"}),AccountBalance:Ember.Namespace.create({BoxOffice:"Box Office",HolidayHomes:"Holiday Homes",HolidayHome:"Holiday Home",PaymentPlan:"Payment Plan",AccountApiLinkName:"account",QuoteApiLinkName:"quote"}),DeliveryStatus:Ember.Namespace.create({Collected:"Collected",InTransit:"In-Transit"}),DPPPlanStatus:Ember.Namespace.create({Settle:"settle"})});
Komodo.Models.CreateManualAdjustmentTransactions=Ember.Object.extend({init:function(){this.Country=void 0,this.BaseAmount=void 0,this.FromAccountUID=void 0,this.ToAccountUID=void 0,this.FromCustomerUID=void 0,this.ToCustomerUID=void 0,this.LedgerAccountUID=void 0,this.OriginalAmount=void 0,this.Description=void 0,this.FinancialTransactionUID=void 0,this.FinancialTransactionType=void 0,this.Comment=void 0,this.Language=void 0,this._super()}});
Komodo.Models.CreateInterAccountFundsTransfer=Ember.Object.extend({init:function(){this.Country=void 0,this.AmountPaid=void 0,this.FinancialTransactionUID=void 0,this.LedgerAccount=void 0,this.CustomerUID=void 0,this.AccountUID=void 0,this.RequestDate=void 0,this.RequestedBy=void 0,this.ProductUID=void 0,this.Comments=void 0,this._super()}});
Komodo.Models.CloseShift=Ember.Object.extend({init:function(){this.Country=void 0,this.ShiftUID=void 0,this.UserName=void 0,this._super()}});
Komodo.Models.ListOfSerialNumber=Ember.Object.extend({init:function(){this.SerialNumber=void 0,this._super()}});
Komodo.Models.ClearDeviceErrorCode=Ember.Object.extend({init:function(){this.Country=void 0,this.ErrorReasonCode=0,this.SerialNumber=void 0,this._super()}});
Komodo.Models.ServiceParameter=Ember.Object.extend({init:function(){this.UID=Komodo.UI.attr.create({type:"string",options:{displayName:"Uid of Service"}}),this.ScheduleDate=Komodo.UI.attr.create({type:"string",options:{displayName:"Schedule Date"}}),this.Action=Komodo.UI.attr.create({type:"string",options:{displayName:"action"}}),this.Reason=Komodo.UI.attr.create({type:"string",options:{displayName:"reason"}}),this._super()}}),Komodo.Models.Device=Ember.Object.extend({init:function(){this.DeviceSerialNumber=Komodo.UI.attr.create({type:"string",options:{displayName:"device serial number"}}),this.Services=[],this._super()}}),Komodo.Models.Devices=Ember.Object.extend({init:function(){this.devices=[],this._super()}});
Komodo.Models.ChangeService=Ember.Object.extend({init:function(){this.Country=void 0,this.DeviceSerialNumber=void 0,this.FromProduct=void 0,this.ToProduct=void 0,this.Reason=void 0,this.ScheduledDate=void 0,this._super()}});
Komodo.Models.AssignOLTPrintersToUsers=Ember.Object.extend({init:function(){this.Country=void 0,this.UserName=void 0,this.PrinterIds=[],this.UserNames=[],this._super()}});
Komodo.Models.AddUpdateOLTPrinter=Ember.Object.extend({init:function(){this.UID=void 0,this.Country=void 0,this.UserName=void 0,this.PrinterType=void 0,this.PrinterName=void 0,this.AssetTag=void 0,this.IPAddress=void 0,this.IsActive=void 0,this.PrinterLayout=void 0,this._super()}});
Komodo.UI.Validators.RegExPatterns={Email:"^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",Phone:"^\\d{3}-\\d{3}-\\d{4}$"};
Komodo.Models.Shift=Ember.Object.extend({init:function(){this.UID=void 0,this.GLNumber=void 0,this.Status=void 0,this.Date=void 0,this.Type=void 0,this.Username=void 0,this.SupervisorUsername=void 0,this.Cash=void 0,this.Other=void 0,this.Balance=void 0,this.StockHandlerAccountID=void 0,this.BankDepositNumber=void 0,this.Currency=void 0,this._super()}});
Komodo.Models.PaymentDetail=Ember.Object.extend({init:function(){this.MethodOfPayment=void 0,this.BankAccountType=void 0,this.AccountNumber=void 0,this.BankName=void 0,this.BranchName=void 0,this.BranchCode=void 0,this.DebitOrderDay=void 0,this.PayerName=void 0,this.PayerSurname=void 0,this.PayerIDType=void 0,this.PayerIDNumber=void 0,this.AHVStatus=void 0,this.YearsAtBank=void 0,this.IsSalaryMandated=void 0,this.PayerPhoneNumber=void 0,this.PayerEmail=void 0,this.IsBankAHVCompliant=void 0,this.IsThirdPartyPayer=void 0,this._super()}});
Komodo.Models.OperationalCommunicationSelectList=Ember.Object.extend({init:function(){this.SelectListUID=void 0,this.Entity=void 0,this.Attribute=void 0,this.FieldType=void 0,this._super()}});
Komodo.Models.OperationalCommunicationFilterCriteria=Ember.Object.extend({init:function(){this.FilterCrieteriaUID=void 0,this.Entity=void 0,this.Attribute=void 0,this.Operator=void 0,this.Value=void 0,this.Country=void 0,this._super()}});
Komodo.Models.FTApprovalStatus=Ember.Object.extend({init:function(){this.FTApprovalRequestId=void 0,this.NewStatus=void 0,this.StatusChangeComment=void 0,this.StatusChangeReasonId=void 0,this.Extended=void 0,this.FinancialTransactionId=void 0,this._super()}});
Komodo.Models.ListOfFTApprovalRequest=Ember.Object.extend({init:function(){this.FTApprovalRequest=[],this._super()}});
Komodo.Models.FTApprovalRequest=Ember.Object.extend({init:function(){this.CustomerId=void 0,this.FtComment=void 0,this.Id=void 0,this.LedgerAccount=void 0,this.RequestDate=void 0,this.RequestStatus=void 0,this.RequestedBy=void 0,this.TransactionType=void 0,this.BaseAmount=void 0,this.PaymentReferenceNumber=void 0,this._super()}});
Komodo.Models.ListOfFinancialTransaction=Ember.Object.extend({init:function(){this.FinancialTransaction=[],this._super()}});
Komodo.Models.SubscriberSystem=Ember.Object.extend({init:function(){this.Name=void 0,this.UID=void 0,this._super()}});
Komodo.Models.CaseData=Ember.Object.extend({init:function(){this.CaseDataValueUri=void 0,this.Value=void 0,this._super()}});
Komodo.UI.ElementIdGeneratorProvider=Ember.Object.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_defaultElementIdGenerator",{singleton:Komodo.UI.defaultElementIdGenerator}),this.requiresDependency("_valueBindingElementIdGenerator",{singleton:Komodo.UI.valueBindingElementIdGenerator}),this.requiresDependency("_textBindingElementIdGenerator",{singleton:Komodo.UI.textBindingElementIdGenerator}),this.requiresDependency("_validatorBindingElementIdGenerator",{singleton:Komodo.UI.validatorBindingElementIdGenerator}),this.requiresDependency("_actionElementIdGenerator",{singleton:Komodo.UI.actionElementIdGenerator}),this.requiresDependency("_contentBindingElementIdGenerator",{singleton:Komodo.UI.contentBindingElementIdGenerator}),this.requiresDependency("_identifyAsElementIdGenerator",{singleton:Komodo.UI.identifyAsElementIdGenerator})},find:function(e){var n;if(e)return n=e.get("elementId"),n&&0!=n.indexOf("ember")?this.get("_defaultElementIdGenerator"):e.valueBinding&&e.valueBinding._from?this.get("_valueBindingElementIdGenerator"):e.textBinding&&e.textBinding._from?this.get("_textBindingElementIdGenerator"):e.action?this.get("_actionElementIdGenerator"):e.contentBinding&&e.contentBinding._from?this.get("_contentBindingElementIdGenerator"):e.get("identifyAs")?this.get("_identifyAsElementIdGenerator"):e.validatorBinding&&e.validatorBinding._from?this.get("_validatorBindingElementIdGenerator"):this.get("_defaultElementIdGenerator")}}),Komodo.UI.elementIdGeneratorProvider=Komodo.UI.ElementIdGeneratorProvider.create();
Komodo.Services.UIService=Ember.Object.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_elementIdGeneratorProvider",{singleton:Komodo.UI.elementIdGeneratorProvider})},getElementIdGeneratorProvider:function(){return this.get("_elementIdGeneratorProvider")},showModalPopup:function(e,t,n){var o=this.getController("ModalPane");return o.popup(e,t,n),o},_container:function(){return window.Komodo.Application.__container__}.property(),_get:function(e,t){var n=this.get("_container").lookup(e+":"+t);return void 0==n&&Komodo.Services.warn("UIService:failed to retrieve "+e+" for "+t),n},getRoute:function(e){return this._get("route",e)},getController:function(e){return this._get("controller",e)},getView:function(e){return this._get("view",e)},applicationController:function(){return this._get("controller","application")}.property(),findKomodoView:function(e){var t=e.get("parentView");if(t){if(!0===t.isKomodoView)return t;t=this.findKomodoView(t)}return t},findContainerPrefix:function(e){for(var t=e.get("parentView"),n=t.get("containerPrefix");t&&void 0==n;)n=t.get("containerPrefix"),t=t.get("parentView");return n},generateElementId:function(e,t){var n=this.generateRawElementId(e,t);return t=t||{},void 0==t.setElementId&&(t.setElementId=!0),n=this.getUniqueElementId(e,n),Komodo.Services.debug("UIService.generateElementId : elementId = '"+n+"'"),t.setElementId&&e.set("elementId",n),n},generateRawElementId:function(e,t){var n,o=this.getElementIdGeneratorProvider().find(e);return t=t||{},n=o.getElementId(e),t.prefix&&(n=t.prefix+n),Komodo.Services.debug("UIService.generateRawElementId : elementId = '"+n+"'"),n},getUniqueElementId:function(e,t){var n=t,o=this.findKomodoView(e);if(void 0!==o&&null!==o){var r=this.findContainerPrefix(o);r&&(n=r+"-"+n),n=Komodo.UI.duplicateElementIdResolver.getUniqueElementId(o.get("viewKey"),n)}else n=Komodo.UI.duplicateElementIdResolver.getUniqueElementId("__global",n);return n},transitionTo:function(e,t){t&&!$.isEmptyObject(t)?this._get("router","main").transitionTo(e,t):this._get("router","main").transitionTo(e)},getCurrentRouteName:function(){return Komodo.Application.currentRouteName},reloadPage:function(){window.location.reload()}}),Komodo.Services.uiService=Komodo.Services.UIService.create();
Komodo.Services.EncryptionService=Ember.Object.extend(Komodo.Dependency,{_publicEncryptionKey:void 0,init:function(){var e=this;this._super(),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService}),this.getCacheRepository().fetch(Komodo.CacheKeys.publicEncryptionKey).done(function(o){e.set("_publicEncryptionKey",o.data)}).fail(function(e){Komodo.warn("[encryption] : message = 'no encryption key found' / error = '"+e+"'")}),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._userLoggedIn)},getCacheRepository:function(){return this.get("_cacheRepository")},getEventAggregator:function(){return this.get("_eventAggregator")},getSystemService:function(){return this.get("_systemService")},_userLoggedIn:function(e){this.saveEncryptionKey(e.publicEncryptionKey)},saveEncryptionKey:function(e){var o=this,t=$.Deferred();return this.getCacheRepository().save(Komodo.CacheKeys.publicEncryptionKey,e).done(function(){o.set("_publicEncryptionKey",e),t.resolve()}),t},publicEncrypt:function(e){var o,t,r,i=new RSAKey;return this.get("_publicEncryptionKey")?(i.setPublic(this.get("_publicEncryptionKey.modulus"),this.get("_publicEncryptionKey.exponent")||"010001"),o=CryptoJS.PBKDF2(this.getSystemService().newGuid(),CryptoJS.enc.Hex.parse(this.getSystemService().newGuid()),{keySize:6,iterations:10}),t=CryptoJS.lib.WordArray.random(16),r={iv:t,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7},{encryptionKeyId:this.get("_publicEncryptionKey.id"),symmetricKey:hex2b64(i.encrypt(o.toString(CryptoJS.enc.Base64))),iv:t.toString(CryptoJS.enc.Base64),encrypted:CryptoJS.AES.encrypt(e,o,r).toString()}):{encryptionKeyId:void 0,symmetricKey:void 0,iv:void 0,encrypted:e}},md5:function(e){return CryptoJS.MD5(e).toString()}}),Komodo.Services.encryptionService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.EncryptionService(Komodo.Repositories.cacheRepository,Komodo.Services.eventAggregator,Komodo.Services.systemService,Komodo.CacheKeys,Komodo.EventNames,new Infrastructure.Core.Logger):Komodo.Services.EncryptionService.create();
Komodo.Services.CommunicationService=Ember.Object.extend(Komodo.Dependency,{_session:void 0,_isOnline:void 0,init:function(){var e=this;this._super(),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.getEventAggregator().subscribe(Komodo.EventNames.sessionChanged,this,this._sessionChanged),$.ajaxSetup({beforeSend:function(o){e.get("_session")&&e.get("_session.sessionToken")&&(o.setRequestHeader("komodo-sessiontoken",e.get("_session.sessionToken")),e.getKomodoConfiguration().channelSplitCompatability&&o.setRequestHeader("countryisocode",Komodo.loggedInCountry||""))},timeout:e.getKomodoConfiguration().ajaxTimeout})},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getEventAggregator:function(){return this.get("_eventAggregator")},_sessionChanged:function(e){this.set("_session",e)},isDisconnected:function(e){return 0==e.status},_checkConnectionStatus:function(e){var o=this.get("_isOnline");this.isDisconnected(e)?(this.set("_isOnline",!1),o&&this.getEventAggregator().publish(Komodo.EventNames.connectionLost)):(o||this.getEventAggregator().publish(Komodo.EventNames.connectionEstablished),this.set("_isOnline",!0))},_ajax:function(e,o){var n=this;e.done(function(e,t,i){n._checkConnectionStatus(i),o.resolve(e,t,i)}).fail(function(e,t,i){n._checkConnectionStatus(e),o.reject(e,t,i)})},getResource:function(e,o){var n=o||{},t=$.Deferred();return void 0==n.async&&(n.async=!0),void 0==n.cache&&(n.cache=!1),this._ajax($.ajax({url:this.getAPIUrl(e,o),dataType:"json",type:"GET",async:n.async,cache:n.cache}),t),t},postResource:function(e,o){var n=o||{},t=n.data||{},i=$.Deferred();return this._ajax($.ajax({url:this.getAPIUrl(e,o),type:"POST",contentType:"application/json",data:JSON.stringify(t),beforeSend:o.beforeSend}),i),i},deleteResource:function(e,o){var n=$.Deferred(),t=o||{},i=t.data||{};return this._ajax($.ajax({url:this.getAPIUrl(e,o),type:"DELETE",contentType:"application/json",data:JSON.stringify(i),beforeSend:t.beforeSend}),n),n},getAPIUrl:function(e,o){var n;if(o&&o.customResource)return e;if(Komodo.guard.againstUndefined(e,"baseUrl"),0==e.length)throw new Error("Komodo.Services.CommunicationService.getAPIUrl: argument 'baseUrl' may not be empty.");return n=this.getKomodoConfiguration().apiUrl,-1==n.indexOf("/",n.length-1)&&(n+="/"),n+("/"==e[0]?e.substr(1):e)},isOnline:function(){return this.get("_isOnline")}.property("_isOnline"),willDestroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.sessionChanged,this,this._sessionChanged)}}),Komodo.Services.communicationService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.CommunicationService(KomodoConfiguration,Komodo.Services.eventAggregator,Komodo.EventNames,new Infrastructure.Core.Logger):Komodo.Services.CommunicationService.create();
Komodo.Services.OfflineService=Ember.Object.extend(Komodo.Dependency,{_offlineTaskReporters:[],_state:Ember.Object.create(),init:function(){this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this._getOfflineState()},getEventAggregator:function(){return this.get("_eventAggregator")},getCacheRepository:function(){return this.get("_cacheRepository")},getLocalizationService:function(){return this.get("_localizationService")},state:function(){return this.get("_state")}.property("_state"),_getOfflineState:function(){var e=this;this.getCacheRepository().fetch(Komodo.CacheKeys.offlineState).done(function(t){e.set("_state.offline",t.data.offline),e.set("_state.userId",t.data.userId),e.set("_state.domainUserName",t.data.domainUserName),e.set("_state.offlineActivationDate",t.data.offlineActivationDate),e.notifyPropertyChange("_state")})},workingOffline:function(){return this.get("_state.offline")||!1},_applyOfflineState:function(e){var t=this,o=$.Deferred();return this.getCacheRepository().save(Komodo.CacheKeys.offlineState,{offline:e.get("offline"),userId:e.get("userId"),domainUserName:e.get("domainUserName"),offlineActivationDate:e.get("offlineActivationDate")}).done(function(){t.notifyPropertyChange("_state"),t.getEventAggregator().publish(Komodo.EventNames.offlineStateChanged,e)}).then(function(){o.resolve()}),o},workOffline:function(e){var t,o=$.Deferred();return this.workingOffline()?o.resolve():(Komodo.guard.againstUndefined(e,"session"),t=this.get("_state"),t.set("offline",!0),t.set("userId",e.userId),t.set("domainUserName",e.domainUserName),t.set("offlineActivationDate",new Date),this._applyOfflineState(t).then(function(){o.resolve()})),o},workOnline:function(){var e;this.workingOffline()&&(e=this.get("_state"),e.set("offline",!1),this._applyOfflineState(e))},applyUserData:function(e){Komodo.guard.againstUndefined(e,"userDataContainer"),e.userId=this.get("_state").userId,e.domainUserName=this.get("_state").domainUserName},domainUserName:function(){return this.get("_state").domainUserName}.property("_state","_state.domainUserName"),registerOfflineTaskReporter:function(e){var t={};if(void 0==e)throw new Error("No function has been provided in call to 'Komodo.Services.OfflineService.registerOfflineTaskReporter'.");if("[object Function]"!==t.toString.call(e))throw new Error("The object passed to 'Komodo.Services.OfflineService.registerOfflineTaskReporter' is not a function.");this.get("_offlineTaskReporters").addObject(e)},outstandingOfflineTasks:function(){var e=$.Deferred(),t=[],o=this.get("_offlineTaskReporters").length,n=0,i=function(){(n+=1)==o&&e.resolve(t)};return this.get("_offlineTaskReporters").length>0?this.get("_offlineTaskReporters").forEach(function(e){var o=e.call();if(!o.promise||!o.resolve)throw new Error("The result from the function passed to 'Komodo.Services.OfflineService.registerOfflineTaskReporter' is not a $.Deferred() object.");o.done(function(e){void 0!=e&&("[object Array]"===Object.prototype.toString.call(e)?t=t.concat(e):t.push(e)),i()}).fail(function(e){t.push(e),i()})}):e.resolve(t),e},hasOutstandingOfflineTasks:function(){var e=$.Deferred();return this.outstandingOfflineTasks().done(function(t){e.resolve(t.length>0)}).fail(function(t){e.reject(t)}),e},displayOutstandingOfflineTasks:function(){var e=this;this.outstandingOfflineTasks().done(function(t){0!=t.length&&Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.komodo:offline.outstandingOfflineTasksTitle"),t.join("<br/>"),Komodo.Controls.MessageBoxOkButtons,this,"outstandingOfflineTasks","alert")}).fail(function(t){Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.komodo:offline.outstandingOfflineTasksErrorTitle"),t,Komodo.Controls.MessageBoxOkButtons,this,"outstandingOfflineTasks","alert")})}}),Komodo.Services.offlineService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.OfflineService(Komodo.Services.eventAggregator,Komodo.Repositories.cacheRepository,Komodo.Services.localizationService,Komodo.CacheKeys,Komodo.EventNames):Komodo.Services.OfflineService.create();
Komodo.Services.SecurityService=Ember.Object.extend(Komodo.Dependency,{_isAuthenticated:!1,permissions:void 0,roles:void 0,deniedControls:void 0,routeAccess:void 0,userSystemAccessRoles:void 0,iccRoles:void 0,crmRoles:void 0,userRolesMismatch:void 0,hideForViewOnly:!1,init:function(){this._super();var e,o,s=this;if(this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_encryptionService",{singleton:Komodo.Services.encryptionService}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService}),this.requiresDependency("_communicationService",{singleton:Komodo.Services.communicationService}),this.requiresDependency("_offlineService",{singleton:Komodo.Services.offlineService}),this.getCacheRepository().fetch("permissions").done(function(e){s.set("permissions",e.data)}),this.getCacheRepository().fetch("roles").done(function(e){s.set("roles",e.data)}),this.getCacheRepository().fetch("iccRoles").done(function(e){s.set("iccRoles",e.data)}),this.getCacheRepository().fetch("crmRoles").done(function(e){s.set("crmRoles",e.data)}),this.getCacheRepository().fetch("userRolesMismatch").done(function(e){s.set("userRolesMismatch",e.data)}),this.getCacheRepository().fetch("deniedControls").done(function(e){s.set("deniedControls",e.data)}),this.getCacheRepository().fetch("routeAccess").done(function(e){s.set("routeAccess",e.data)}),e=sessionStorage.getItem("session")){try{o=JSON.parse(e)}catch(e){o=void 0}o&&(s.set("session",o),Komodo.Services.log("[SecurityService.init] : existing session information found"),s.set("_isAuthenticated",!0))}this.getEventAggregator().subscribe(Komodo.EventNames.sessionExpired,this,this.sessionExpired),this.getEventAggregator().subscribe(Komodo.EventNames.sessionLoggedOut,this,this.sessionLoggedOut)},getCacheRepository:function(){return this.get("_cacheRepository")},getEventAggregator:function(){return this.get("_eventAggregator")},getLocalizationService:function(){return this.get("_localizationService")},getUIService:function(){return this.get("_uiService")},getEncryptionService:function(){return this.get("_encryptionService")},getSystemService:function(){return this.get("_systemService")},getCommunicationService:function(){return this.get("_communicationService")},getOfflineService:function(){return this.get("_offlineService")},_sessionChanged:function(){this.getEventAggregator().publish(Komodo.EventNames.sessionChanged,this.get("session"))}.observes("session").on("init"),userId:function(){return this.get("session.userId")}.property("session"),domainUserName:function(){return this.get("session.domainUserName")}.property("session"),sessionToken:function(){return this.get("session.sessionToken")}.property("session"),_setPermissions:function(e){return void 0==e?null:(this.set("permissions",e),this.getCacheRepository().save("permissions",e))},_setRoles:function(e){return void 0==e?null:(this.set("roles",e),this.getCacheRepository().save("roles",e))},_setIccRoles:function(e){return void 0==e?null:(this.set("iccRoles",e),this.getCacheRepository().save("iccRoles",e))},_setCrmRoles:function(e){return void 0==e?null:(this.set("crmRoles",e),this.getCacheRepository().save("crmRoles",e))},_setUserRoleMismatch:function(e){return void 0==e?null:(this.set("userRolesMismatch",e),this.getCacheRepository().save("userRolesMismatch",e))},_setDeniedControls:function(e){return void 0==e?null:(this.set("deniedControls",e),this.getCacheRepository().save("deniedControls",e))},_setRouteAccess:function(e){return void 0==e?null:(this.set("routeAccess",e),this.getCacheRepository().save("routeAccess",e))},isAuthenticated:function(){return this.get("_isAuthenticated")}.property("_isAuthenticated"),_registerSession:function(e,o){var s={sessionToken:o.sessionToken,userId:o.userId,domainUserName:e,identityTokenExpiryDate:o.identityTokenExpiryDate};this.set("session",s),sessionStorage.setItem("session",JSON.stringify(s))},authenticate:function(e,o,s){Komodo.Services.log("[SecurityService.authenticate]");var t=$.Deferred(),i=this;return this.getCommunicationService().postResource("authentication",{data:{domainUserName:o,password:s,country:e}}).done(function(e){Komodo.Services.log("[SecurityService.authenticate - successful] : user name = '"+o+"'"),t.resolve(e)}).fail(function(e,o,s){i.getCommunicationService().isDisconnected(e)?t.reject(i.getLocalizationService().value("locale.komodo:login.noConnectionError")):t.reject(i.getLocalizationService().value("locale.komodo:login.authenticationFailedError",{error:e.responseText||s}))}),t},login:function(e,o,s){Komodo.Services.log("[SecurityService.login]");var t=$.Deferred(),i=this;return this.getCommunicationService().postResource("sessionTokens",{data:{domainUserName:o,password:s,country:e}}).done(function(e){if(Komodo.Services.log("[SecurityService.login - logged in] : user name = '"+o+"'"),i._registerSession(o,e),i._setPermissions(e.permissions),i._setRoles(e.roles),i._setDeniedControls(e.deniedControls),i._setRouteAccess(e.routeAccess),i.set("userSystemAccessRoles",e.userSystemAccess.userSystemAccessRoles),i.get("userSystemAccessRoles").forEach(function(e){"crm"==e.system.toLowerCase()&&i._setCrmRoles(e.userRoles),"icc"==e.system.toLowerCase()&&i._setIccRoles(e.userRoles)}),void 0!=i.get("iccRoles")&&void 0!=i.get("crmRoles"))for(var r=0;r<i.get("roles").length;r++)for(var n=0;n<i.get("iccRoles").length;n++)for(var c=0;c<i.get("crmRoles").length;c++)null==i.get("crmRoles")[c].match(i.get("iccRoles")[n])||null==i.get("roles")[r].match(i.get("iccRoles")[n])?i._setUserRoleMismatch(!0):i._setUserRoleMismatch(!1);if(!i.hasSystemAccess())return void t.reject(i.getLocalizationService().value("locale.komodo:login.noSystemAccess"));i.set("_isAuthenticated",!0),Komodo.Services.LOGGING&&e.permissions.forEach(function(e){Komodo.Services.log("[SecurityService.login] : user has permission '"+e+"'")}),i.getEventAggregator().publish(Komodo.EventNames.userLoggedIn,e),i.getCacheRepository().save("offlineUser",{domainUserName:o,userId:i.get("userId"),key:i.getEncryptionService().md5(s)}).then(function(){t.resolve({online:!0})})}).fail(function(e,r,n){i.getCommunicationService().isDisconnected(e)?i.getSystemService().isHostedLocally()?i.getCacheRepository().fetch("offlineUser").done(function(e){e.data.domainUserName.toLowerCase()==o.toLowerCase()&&i.getEncryptionService().md5(s)==e.data.key?i.getOfflineService().workOffline({domainUserName:e.data.domainUserName,userId:e.data.userId}).done(function(){i._registerSession(o,{domainUserName:e.data.domainUserName,userId:e.data.userId}),i.set("_isAuthenticated",!0),t.resolve({online:!1})}).fail(function(e){t.reject(e)}):t.reject(i.getLocalizationService().value("locale.komodo:login.noConnectionError"))}).fail(function(e){t.reject(e)}):t.reject(i.getLocalizationService().value("locale.komodo:login.noConnectionError")):t.reject(i.getLocalizationService().value("locale.komodo:login.loginFailedError",{loginError:e.responseText||n}))}),t},logout:function(){var e=this,o=e.get("sessionToken"),s=$.Deferred();return Komodo.Services.log("[SecurityService.logout - successful]"),sessionStorage.removeItem("session"),e.set("session",void 0),e.set("_isAuthenticated",!1),e.getEventAggregator().publish(Komodo.EventNames.userLoggedOut),e.getOfflineService().workingOffline()||void 0==o||e.getCommunicationService().deleteResource("sessionTokens/"+o).done(function(){Komodo.Services.log("[SecurityService.logout]"),s.resolve()}).fail(function(o,t,i){e.getCommunicationService().isDisconnected(o)?s.reject(e.getLocalizationService().value("locale.komodo:logout.noConnection")):s.reject(i)}),s},sessionExpired:function(){this.logout()},sessionLoggedOut:function(){alert(this.getLocalizationService().value("locale.komodo:logout.sessionLoggedOut")),this.set("sessionToken",void 0),this.getEventAggregator().publish(Komodo.EventNames.sessionExpired)},hasPermission:function(e){var o=!1;return Komodo.guard.againstUndefined(e,"permission"),void 0!=this.get("permissions")&&(o=this.get("permissions").some(function(o){return o.toLowerCase()===e.toLowerCase()})),Komodo.Services.log("[SecurityService.hasPermission] : permission = '"+e+"' / available = "+o),o},routeAccessPermissionType:function(e){var o="HIDE";return Komodo.guard.againstUndefined(e,"routeName"),e&&void 0!=this.get("routeAccess")&&this.get("routeAccess").forEach(function(s){s.routeName.toLowerCase()===e.toLowerCase()&&(o=s.permissionType)}),Komodo.Services.log("[SecurityService.routeAccessPermissionType] : routeName = '"+e+"' / permision type = "+o),o},canAccessRoute:function(e){return"grant"===this.routeAccessPermissionType(e).toLowerCase()},hasSystemAccess:function(){var e=!1;return this.get("routeAccess")?(this.get("routeAccess").forEach(function(o){e||(e="grant"==o.permissionType.toLowerCase())}),e):e},overrideRouteAccess:function(e){var o,s=this;Komodo.guard.againstUndefined(e,"routeAccess"),Komodo.guard.againstUndefined(e.routeName,"routeAccess.routeName"),o=e.routeName,this.get("routeAccess").forEach(function(t){t.routeName.toLowerCase()===o.toLowerCase()&&(t.permissionType=e.permissionType,s.getEventAggregator().publish(Komodo.EventNames.routeAccessChanged))})},viewOnly:function(){this.hasPermission("view-only")?this.set("hideForViewOnly",!0):this.set("hideForViewOnly",!1)}.property("applyViewOnly"),destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.sessionExpired,this,this.sessionExpired)}}),Komodo.Services.securityService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.SecurityService(Komodo.Repositories.cacheRepository,Komodo.Services.eventAggregator,Komodo.Services.localizationService,Komodo.Services.encryptionService,Komodo.Services.systemService,Komodo.Services.communicationService,Komodo.Services.offlineService,Komodo.EventNames,new Infrastructure.Core.Logger,Infrastructure.Core.storageService):Komodo.Services.SecurityService.create();
Komodo.Repositories.traceRepository=KomodoConfiguration.overrideEmber?new Infrastructure.Core.Repository("Trace",new Infrastructure.Core.Logger):Komodo.Repositories.Repository.extend({name:"Trace"}).create();
function GetOLTConstants(E,I){var e=void 0,A=Komodo.Services.queryService.getSelectedCountryId()?Komodo.Services.queryService.getSelectedCountryId():"default";switch(A){case void 0:case null:case"":e=Evaluate("Komodo."+E+".default."+I);break;default:e=void 0!==Evaluate("Komodo."+E+"."+A)?void 0!==Evaluate("Komodo."+E+"."+A+"."+I)?Evaluate("Komodo."+E+"."+A+"."+I):Evaluate("Komodo."+E+".default."+I):Evaluate("Komodo."+E+"."+I)}return e}function GetOLTConstantsForFiscal(E,I,e){var A=void 0,_=Komodo.Services.queryService.getSelectedCountryId()?Komodo.Services.queryService.getSelectedCountryId():"default";switch(_+=e?"_invoice":"_receipt"){case void 0:case null:case"":A=Evaluate("Komodo."+E+".default."+I);break;default:A=void 0!==Evaluate("Komodo."+E+"."+_)?void 0!==Evaluate("Komodo."+E+"."+_+"."+I)?Evaluate("Komodo."+E+"."+_+"."+I):Evaluate("Komodo."+E+".default."+I):Evaluate("Komodo."+E+"."+I)}return A}Komodo.QuotationCategory=Ember.Namespace.create({SALES:"1",DEVICESWAP:"2",REPAIR:"3",SALESDEVICE:"4",SALESPACKAGE:"5",SALESMIXED:"6"}),Komodo.RepairQuotationStatus=Ember.Namespace.create({QCPASSED:"QC PASSED",UNAVAILABLE:"UNAVAILABLE"}),Komodo.OLTEmailReceiptConstants=Ember.Namespace.create({nam:{EMAIL_RECEIPT_MF_APPLICATION:"OnlineTill",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"NAM_Receipt",EMAIL_RECEIPT_MF_LANGUAGE:"English",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_PRIMARY:"Primary",EMAIL_RECEIPT_EMAILTYPE_ALTERNATE:"Alternate",EMAIL_RECEIPT_EMAILTYPE_CAPTURED:"Captured",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single"},ken_receipt:{EMAIL_RECEIPT_MF_APPLICATION:"OnlineTill",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"KEN_Receipt",EMAIL_RECEIPT_MF_LANGUAGE:"English",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_PRIMARY:"Primary",EMAIL_RECEIPT_EMAILTYPE_ALTERNATE:"Alternate",EMAIL_RECEIPT_EMAILTYPE_CAPTURED:"Captured",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single"},ken_invoice:{EMAIL_RECEIPT_MF_APPLICATION:"OnlineTill",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"KEN_Invoice",EMAIL_RECEIPT_MF_LANGUAGE:"English",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_PRIMARY:"Primary",EMAIL_RECEIPT_EMAILTYPE_ALTERNATE:"Alternate",EMAIL_RECEIPT_EMAILTYPE_CAPTURED:"Captured",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single"},zaf:{EMAIL_RECEIPT_MF_APPLICATION:"OnlineTill",EMAIL_RECEIPT_MF_BUSINESSUNIT:"Multichoice",EMAIL_RECEIPT_MF_TEMPLATENAME:"ZAF_Receipt",EMAIL_RECEIPT_MF_LANGUAGE:"English",EMAIL_RECEIPT_MF_COMMUNICATIONTYPE:"Email",EMAIL_RECEIPT_EMAILTYPE_PRIMARY:"Primary",EMAIL_RECEIPT_EMAILTYPE_ALTERNATE:"Alternate",EMAIL_RECEIPT_EMAILTYPE_CAPTURED:"Captured",EMAIL_RECEIPT_EMAILTYPE_SINGLE:"Single"}});
Komodo.Services.CurrencyFormatterService=Ember.Object.extend({getCurrencyForCustomer:function(e){for(var r=Komodo.Services.customerProfileService.get("currency"),o=0;o<r.length;o++)if(r[o].key===e)return r[o].value;return""},convertAmountToSystemCurrency:function(e,r){return e+" "+r.toFixed(2)}}),Komodo.Services.currencyFormatterService=Komodo.Services.CurrencyFormatterService.create();
Komodo.Services.errorCodesService=Ember.Object.create({init:function(){},publishEvent:function(e,n,i,r){var t=$.Deferred(),o={eventName:i,eventVersion:r,eventValidityInMinutes:0,eventPriority:null};return e.sendMessage(n,o).done(function(){t.resolve()}).fail(function(e,n){t.fail(e)}),t}});
Komodo.Models.ErrorCodesModel=Ember.Object.extend({init:function(){this.errorReasonCode=0,this.serialNumber=void 0,this.errorReasonText=void 0,this._super()}});
Komodo.Models.AddressModel=Ember.Object.extend({init:function(){this.addressTypeText=void 0,this.addressType=void 0,this.country=void 0,this.province=void 0,this.city=void 0,this.suburb=void 0,this.postalCode=void 0,this.unit=void 0,this.building=void 0,this.streetNumber=void 0,this.privateBag=void 0,this.boxType=void 0,this.streetName=void 0,this.isPrimary=void 0,this.isPrimaryString=void 0,this.isMarketingEnabled=void 0,this.isAddressOverride=!1,this.addressString=void 0,this.floor=void 0,this.exactLocation=void 0,this.suite=void 0,this.suitePlaceHolder=void 0,this.bagPlaceHolder=void 0,this._super()}});
Komodo.UI.Validators.alphanumericValidator=function(e,a,t){var l=Ember.A(),n=e[Object.keys(e)[0]];t=t||{};var o=t.displayName;return validateInput=function(){return new RegExp("^[0-9a-zA-Z]+$").test(n)||l.addObject(o+kl.value("locale.customer:customerInformation.invalidFormat")),n&&(n.length<t.minLength&&l.addObject(kl.value("locale.komodo:validations.minLengthDefaultErrorMessage",{displayName:o,minLength:t.minLength})),n.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:o,maxLength:t.maxLength})),n.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:o,maxLength:t.maxLength}))),l},void 0!==n&&null!==n&&""!==n&&(l=validateInput()),l},Komodo.UI.Validators.alphanumericValidatorExtended=function(e,a,t){var l=Ember.A(),n=e[Object.keys(e)[0]];t=t||{};var o=t.displayName;return validateInput=function(){return new RegExp("^([A-Za-z\xc0-\xc3\xc7-\xca\xcc-\xcd\xd2-\xd5\xd2-\xd5\xd9-\xda\xdc\xe0-\xe3\xe7-\xea\xec-\xed\xf2-\xf5\xf9-\xfa\xfc0-9/]*)$").test(n)||l.addObject(o+kl.value("locale.customer:customerInformation.invalidFormat")),n&&(n.length<t.minLength&&l.addObject(kl.value("locale.komodo:validations.minLengthDefaultErrorMessage",{displayName:o,minLength:t.minLength})),n.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:o,maxLength:t.maxLength}))),l},void 0!==n&&null!==n&&""!==n&&(l=validateInput()),l},Komodo.UI.Validators.addressLineItemValidator=function(e,a,t){var l=Ember.A(),n=t.displayName,o=e[Object.keys(e)[0]];return t=t||{},o&&((o.indexOf("  ")>-1||0===o.indexOf(" ")||o.indexOf("''")>-1||o.indexOf("' '")>-1||o.indexOf(",,")>-1||o.indexOf(", ,")>-1||o.indexOf("--")>-1||o.indexOf("- -")>-1||o.indexOf("``")>-1||o.indexOf("` `")>-1)&&l.addObject(n+kl.value("locale.customer:customerInformation.invalidAddressLineFormat")),0!==o.indexOf("-")&&"-"!=o.match("-$")&&0!==o.indexOf(",")&&","!=o.match(",$")&&0!==o.indexOf("'")&&","!=o.match("'$")&&0!==o.indexOf("`")&&"`"!=o.match("`$")||l.addObject(n+kl.value("locale.customer:customerInformation.invalidAddressLineFormat")),o.length>0&&(new RegExp("^[0-9a-zA-Z-, '`&()]+$").test(o)||l.addObject(n+kl.value("locale.customer:customerInformation.invalidAddressLineFormat")))),o&&(o.length<t.minLength&&l.addObject(kl.value("locale.komodo:validations.minLengthDefaultErrorMessage",{displayName:n,minLength:t.minLength})),o.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:n,maxLength:t.maxLength}))),l},Komodo.UI.Validators.numericValidator=function(e,a,t){var l=Ember.A(),n=t.displayName,o=e[Object.keys(e)[0]];return t=t||{},validateInput=function(){return new RegExp("^[0-9]+$").test(o)||l.addObject(n+kl.value("locale.customer:customerInformation.invalidNumberFormat")),o&&o.length<t.minLength&&l.addObject(kl.value("locale.komodo:validations.minLengthDefaultErrorMessage",{displayName:n,minLength:t.minLength})),o&&o.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:n,maxLength:t.maxLength})),l},void 0!==o&&null!==o&&""!==o&&(l=validateInput()),l},Komodo.UI.Validators.validateDateForHousehold=function(e,a,t){var l=Ember.A(),n=e[Object.keys(e)[0]];t=t||{};var o=t.displayName,i=new Date((new Date).getFullYear()-18,(new Date).getMonth(),(new Date).getDate()+1),r=i.getFullYear();if(n){new Date(n).getFullYear()>r&&l.addObject(kl.value("locale.komodo:validations.typeDateDefaultErrorMessage",{displayName:o}))}return l},Komodo.UI.Validators.dateValidator=function(e,a,t){var l=Ember.A(),n=e[Object.keys(e)[0]];t=t||{};var o=t.displayName;return n<new Date&&l.addObject(kl.value("locale.komodo:validations.typeDateErrorMessage",{displayName:o})),l},Komodo.UI.Validators.alphabeticValidator=function(e,a,t){var l=Ember.A(),n=e[Object.keys(e)[0]];t=t||{};var o=t.displayName;return validateInput=function(){return new RegExp('@"^[a-zA-Z_s]+s[a-zA-Zs_]+$ ').test(n)||l.addObject(o+kl.value("locale.komodo:validations.textErrorForAlphabetic")),l},void 0!==n&&null!==n&&""!==n&&(l=validateInput()),l},Komodo.UI.Validators.extendedAlphabeticValidator=function(e,a,t){var l=Ember.A(),n=e[Object.keys(e)[0]];t=t||{};var o=t.displayName;return validateInput=function(){return new RegExp('@"^([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xffs-]*)$').test(n)||l.addObject(o+kl.value("locale.komodo:validations.textErrorForExtenedAlphabetic")),l},void 0!==n&&null!==n&&""!==n&&(l=validateInput()),l},Komodo.UI.Validators.floorValidator=function(e,a,t){var l=Ember.A(),n=t.displayName,o=e[Object.keys(e)[0]];return t=t||{},validateInput=function(){return new RegExp("^[1-9]?[0-9]{1}$|^100$").test(o)||l.addObject(kl.value("locale.specialistCustomer:customerInformation.totalNooffloor")),o&&o.length<t.minLength&&l.addObject(kl.value("locale.komodo:validations.minLengthDefaultErrorMessage",{displayName:n,minLength:t.minLength})),o&&o.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:n,maxLength:t.maxLength})),l},void 0!==o&&null!==o&&""!==o&&(l=validateInput()),l},Komodo.UI.Validators.SAIdValidator=function(e,a,t){var l=Ember.A(),n=e[Object.keys(e)[0]];t=t||{};var o=t.displayName;if(!Ember.isEmpty(n)){n.length<t.minLength&&l.addObject(kl.value("locale.komodo:validations.minLengthDefaultErrorMessage",{displayName:o,minLength:t.minLength})),n.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:o,maxLength:t.maxLength}));var i=new Date(n.substring(0,2),n.substring(2,4)-1,n.substring(4,6)),r=i.getDate(),d=i.getMonth();i.getFullYear();i.getYear()==n.substring(0,2)&&d==n.substring(2,4)-1&&r==n.substring(4,6)||l.addObject(kl.value("locale.identificationControl:invalid"),{displayName:o}),Ember.isEmpty(n.substring(10,11))||0!=parseInt(n.substring(10,11))&&1!=parseInt(n.substring(10,11))&&l.addObject(kl.value("locale.komodo:validations.identificationErrorMessage"));for(var m=0,s=0,u=1,g=0;g<13;++g)m=parseInt(n.charAt(g))*u,m>9&&(m=parseInt(m.toString().charAt(0))+parseInt(m.toString().charAt(1))),s+=m,u=u%2==0?1:2;s%10!=0&&l.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:o}))}return l},Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters=function(e,a,t){var l=Ember.A(),n=e[Object.keys(e)[0]];t=t||{};var o=t.displayName;return validateInput=function(){return new RegExp("^[ \\\\A-Za-z0-9/_-]+$").test(n)||l.addObject(o+kl.value("locale.customer:customerInformation.invalidFormatForSpecialCharecters")),n&&(n.length<t.minLength&&l.addObject(kl.value("locale.komodo:validations.minLengthDefaultErrorMessage",{displayName:o,minLength:t.minLength})),n.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:o,maxLength:t.maxLength})),n.length>t.maxLength&&l.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:o,maxLength:t.maxLength}))),l},void 0!==n&&null!==n&&""!==n&&(l=validateInput()),l};
Komodo.Services.ValidationService=Ember.Object.extend({errors:Ember.A(),clearErrors:function(){Komodo.Services.log("ValidationService.clearErrors"),this.get("errors").clear()},validateModel:function(r,o,e,i){Komodo.Services.log("ValidationService.validateModel");var a=Object.keys(e),t=!0,n=this;return a.forEach(function(a){var s=e[a];s.identifier===r&&s.model===o&&(void 0==i||$.inArray(i,s.groups)>-1)&&(s.validate(),s.errors.forEach(function(r){n.get("errors").push(r),t=!1}))}),t},displayErrors:function(r,o){if(Komodo.Services.log("ValidationService.displayErrors"),this.get("errors").length>0){o=!0===o||void 0===o||null===o;var e=o?"<br />":"\n",i="";this.get("errors").forEach(function(r){i+=r+e}),i=kl.value("controller.invalidDataMessage")+e+i,o?Komodo.Controls.MessageBoxController.show(r,i,Komodo.Controls.MessageBoxOkButtons,this,"modelval","warning"):alert(i)}}}),Komodo.Services.validationService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.ValidationService(new Infrastructure.Core.Logger):Komodo.Services.ValidationService.create();
Komodo.UI.Validators.DebitOrderValidator=function(e,a,t){var l=Ember.A();e[Object.keys(e)[0]];t=t||{};var r=t.displayName,o=Object.keys(e)[0];return"1"!==a.methodOfPayment&&"2"!==a.methodOfPayment&&"3"!==a.methodOfPayment&&"4"!==a.methodOfPayment||("accountHolderName"!==o||a.get("accountHolderName")&&a.get("accountHolderName").trim()||l.addObject(kl.value("locale.manageAccount.editPaymentDetails:general.errorMessage4",{displayName:r})),"accountHolderId"!==o||a.get("accountHolderId")&&a.get("accountHolderId").trim()||l.addObject(kl.value("locale.manageAccount.editPaymentDetails:general.errorMessage9",{displayName:r})),"bankName"!==o||a.get("bankName")||l.addObject(kl.value("locale.manageAccount.editPaymentDetails:general.errorMessage2",{displayName:r})),"branchName"!==o||a.get("branchName")||l.addObject(kl.value("locale.manageAccount.editPaymentDetails:general.errorMessage3",{displayName:r})),"accountNumber"!==o||a.get("accountNumber")&&a.get("accountNumber").trim()||l.addObject(kl.value("locale.manageAccount.editPaymentDetails:general.errorMessage1",{displayName:r})),"accountNumber"===o&&($.isNumeric(a.get("accountNumber"))||l.addObject(kl.value("locale.manageAccount.editPaymentDetails:general.errorMessage10",{displayName:r}))),"accountHolderEmailAddress"===o&&a.get("mobileNumber")&&l.addObject(kl.value("locale.manageAccount.editPaymentDetails:general.errorMessage15",{displayName:r})),"accountHolderPhoneNumber"===o&&($.isNumeric(a.get("accountHolderPhoneNumber"))||l.addObject(kl.value("locale.manageAccount.editPaymentDetails:general.errorMessage14",{displayName:r})))),l},Komodo.UI.Validators.fullNameValidator=function(e,a,t){var l=Ember.A(),r=e[Object.keys(e)[0]];t=t||{};var o=t.displayName,c=a.get("accountHolderName")?a.get("accountHolderName").split(" "):"";return(!/^([a-zA-Z]+(\s{0,1}(-){0,1}('){0,1}[a-zA-Z])*)$/.test(r)||c.length<=1)&&l.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:o})),l};
Komodo.Models.ListOfTax=Ember.Object.extend({init:function(){this.Tax=[],this._super()}});
Komodo.UI.Validators.phoneNumberValidator=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName;if(u){u.length<t.minLength&&o.addObject(kl.value("locale.komodo:validations.minLengthDefaultErrorMessage",{displayName:l,minLength:t.minLength})),(u.length>args.maxLength||u.length<args.minLength)&&o.addObject(kl.value("locale.komodo:validations.maxLengthDefaultErrorMessage",{displayName:l,maxLength:t.maxLength}));/[0-9]+$/.test(u)||o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l}))}return o},Komodo.UI.Validators.quantityValidator=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName,r=r=/^[1-9][0-9]*$/;return r.test(u)||o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l})),o},Komodo.UI.Validators.shouldNotStartWithSpace=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName;return u&&(0===u.indexOf(" ")||u.indexOf("  ")>0||u.lastIndexOf(" ")===u.length-1)&&o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l})),o},Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaValidator=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName;return/^([A-Za-z\u002D\u00C0-\u00C3\u00C7-\u00CA\u00CC-\u00CD\u00D2-\u00D5\u00D2-\u00D5\u00D9-\u00DA\u00DC\u00E0-\u00E3\u00E7-\u00EA\u00EC-\u00ED\u00F2-\u00F5\u00F9-\u00FA\u00FC\s]*)$/.test(u)||o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l})),o},Komodo.UI.Validators.shouldNotStartWithSpaceExtendedAlphaNumericValidator=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName;return/^([A-Za-z\u00C0-\u00C3\u00C7-\u00CA\u00CC-\u00CD\u00D2-\u00D5\u00D2-\u00D5\u00D9-\u00DA\u00DC\u00E0-\u00E3\u00E7-\u00EA\u00EC-\u00ED\u00F2-\u00F5\u00F9-\u00FA\u00FC\u0030-\u0039\u002f\u005c\s]*)$/.test(u)||o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l})),o},Komodo.UI.Validators.shouldNotOneStringAndshouldNotStartWithSpace=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName;return u&&(0===u.indexOf(" ")||u.indexOf("  ")>0||u.lastIndexOf(" ")===u.length-1||u.trim().indexOf(" ")<1)&&o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l})),o},Komodo.UI.Validators.nameValidator=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName;return/^([a-zA-Z0-9]+(\s{0,1}(-){0,1}('){0,1}[a-zA-Z0-9])*)$/.test(u)||o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l})),o},Komodo.UI.Validators.firstNameAndLastNameValidator=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName;return/^([a-zA-Z]+(\s{0,1}(-){0,1}('){0,1}[a-zA-Z])*)$/.test(u)||o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l})),o},Komodo.UI.Validators.firstNameAndLastNameExtendedAlphaValidator=function(a,e,t){var o=Ember.A(),u=a[Object.keys(a)[0]];t=t||{};var l=t.displayName;return/^([A-Za-z\u002D\u00C0-\u00C3\u00C7-\u00CA\u00CC-\u00CD\u00D2-\u00D5\u00D2-\u00D5\u00D9-\u00DA\u00DC\u00E0-\u00E3\u00E7-\u00EA\u00EC-\u00ED\u00F2-\u00F5\u00F9-\u00FA\u00FC\s]*)$/.test(u)||o.addObject(kl.value("locale.komodo:validations.regExDefaultErrorMessage",{displayName:l})),o};
Komodo.Application.SearchNavigationRoute=Ember.Route.extend({init:function(){this._super(),Komodo.Services.eventAggregator.subscribe("SearchNavigationEvent",this,this.showSiteSearchResults)},showSiteSearchContainer:function(){$("#komodo-site-search-container").slideDown(),$("#komodo-site-search-container").scrollTop(0)},showSiteSearchResults:function(){this.render("searchNavigation",{into:"application",outlet:"siteSearch"})}}),Komodo.UI.Route.registerRoutes(function(){this.resource("searchNavigation")});
Komodo.Services.DateTimeFormatterService=Ember.Object.extend({convertDateFromXsdToSystemDate:function(e){function t(e){var t=e.toString();return t.length<2?"0"+t:t}if(void 0!=e&&""!==e){var n=new Date(e),r=n.getFullYear(),o=t(n.getMonth()+1);return t(n.getDate())+"/"+o+"/"+r}},convertStringToDateObject:function(e){var t=new Date,n=void 0;return e&&(e.indexOf("-")>=0?(n=e.split("-"),t=new Date(new Date(parseInt(n[2],10),parseInt(n[1],10)-1,parseInt(n[0],10)))):e.indexOf("/")>=0&&(n=e.split("/"),t=new Date(new Date(parseInt(n[2],10),parseInt(n[1],10)-1,parseInt(n[0],10))))),t},convertDateFromSystemDateToEsbDate:function(e){function t(e){var t=e.toString();return t.length<2?"0"+t:t}var n=moment(e,KomodoConfiguration.dateFormat).toDate();return n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())+"T"+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds())+"Z"},convertDateFromSystemDateToLocalTimeZone:function(e){function t(e){var t=e.toString();return t.length<2?"0"+t:t}var n=moment(e,KomodoConfiguration.esbDateTimeFormat).toDate();return n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())+"T"+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds())+"Z"},getDateFromDateInXsdFormat:function(e){var t="",n=e.indexOf("T");t=e.substring(0,n).split("-").reverse().join("-");var r=e.substring(n+1,e.length),o=r.split(":"),a=new Date,i=void 0;return t&&t.indexOf("-")>=0&&(i=t.split("-"),a=new Date(parseInt(i[2],10),parseInt(i[1],10)-1,parseInt(i[0],10),parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10))),a},getDateTimeFromJavascriptDate:function(e){function t(e){var t=e.toString();return t.length<2?"0"+t:t}var n=e.getFullYear(),r=t(e.getMonth()+1),o=t(e.getDate()),a=e.getHours(),i=e.getMinutes(),s=a>=12?"PM":"AM";return a%=12,a=a||12,i=i<10?"0"+i:i,o+"-"+r+"-"+n+" "+a+":"+i+":"+t(e.getSeconds())+" "+s}}),Komodo.Services.dateTimeFormatterService=Komodo.Services.DateTimeFormatterService.create();
Komodo.Controls.MessageBoxOkButton=function(){this.text=kl.value("controls.messageBox.ok"),this.action="ok"};
Komodo.Models.Tax=Ember.Object.extend({init:function(){this.Type=void 0,this.Percent=void 0,this.Amount=void 0,this._super()}});
Komodo.Controls.MessageBoxNoButton=function(){this.text=kl.value("controls.messageBox.no"),this.action="no"};
Komodo.Controls.MessageBoxDeclineButton=function(){this.text=kl.value("controls.messageBox.decline"),this.action="decline"};
Komodo.Controls.MessageBoxCancelButton=function(){this.text=kl.value("controls.messageBox.cancel"),this.action="cancel"};
Komodo.Controls.MessageBoxAcceptButton=function(){this.text=kl.value("controls.messageBox.accept"),this.action="accept"};
Komodo.Models.ListOfCaseData=Ember.Object.extend({init:function(){this.CaseData=[],this._super()}});
Komodo.Models.Case=Ember.Object.extend({init:function(){this.UID=void 0,this.Type=void 0,this.InteracteeName=void 0,this.InteractionLocation=void 0,this.InteractionMedium=void 0,this.CustomerUID=void 0,this.HouseholdMemberUID=void 0,this.ContactPerson=void 0,this.ContactPersonNumber=void 0,this.QueryType=void 0,this.Category=void 0,this.SubCategory=void 0,this.Outcome=void 0,this.Priority=void 0,this.Status=void 0,this.LinkedCaseUID=void 0,this.ModifiedBy=void 0,this.ModifiedDate=void 0,this.ResolutionReason=void 0,this.CaseOwner=void 0,this.TeamLead=void 0,this.Notes=void 0,this.EscalationNumber=void 0,this.EscalatedTo=void 0,this.CreatedBy=void 0,this.CreatedDate=void 0,this.IsGeneralNote=void 0,this.AssignedTeam=void 0,this.ListOfCaseData=Komodo.Models.ListOfCaseData.create(),this.CreatedBy=void 0,this.CreatedDate=void 0,this.IsGeneralNote=void 0,this.AssignedTeam=void 0,this.EscalationLevel=void 0,this.SLADeadline=void 0,this._super()}});
Komodo.Models.CreateInteraction=Ember.Object.extend({init:function(){this.Country=void 0,this.Case=Komodo.Models.Case.create(),this._super()}});
Komodo.UI.propertyHelpers=Ember.Object.create({showProperties:function(t,r){var e="";if(t)if(t.length&&t.length>0)for(var n=0;n<t.length;n++)e+="  Object"+n+":"+this.getCommaSeparatedProperties(t[n]);else for(var n=0;n<r.length;n++)e+=t.get(r[n]);return e},getCommaSeparatedProperties:function(t,r){for(var e=0;e<r.length;e++)str+=getBlankIfNull(t.get(r[e]))},getBlankIfNull:function(t){return t&&""!=t.toString().trim()?t.toString().trim()+", ":""},getDefaultIfNull:function(t,r){return void 0==r&&(r="-"),this.isNullOrEmpty(t)?r:t},isNullOrEmpty:function(t,r){return void 0==t||null==t||""==t.toString()||1==r&&""==t.trim()},isDefaultOrEmpty:function(t,r){return!(!this.isNullOrEmpty(t)&&t!=r)},isArrayNullOrEmpty:function(t){return!(t&&void 0!=t.length&&t.length>0)},containsDuplicateItems:function(t,r,e,n){if(void 0==r||null==r)throw"item should not be null or undefined.";if(void 0==t||null==t)throw"collections should not be null or undefined";if(void 0==e||null==e)throw"properties should not be null or undefined";if(!e.length)throw"properties should be array";if(!(e.length>0))throw"properties should have minimum 1 entry.";if(!(t.length&&t.length>0))return!1;for(var i=0;i<t.length;i++){var o=t[i];if(!n||n!=o)for(var l=0;l<e.length;l++){for(var u=e[l],a=!0,f=0;f<u.length;f++){var s=u[f];if(s&&!(a&=o.get(s.toString())==r.get(s.toString())))break}if(a)return!0}}return!1},validatePropertiesIfChanged:function(t,r,e){if(e&&e.length&&e.length>0)for(var n=0;n<e.length;n++){var i=e[n],o=r.get(i.toString()),l=t.get(i.toString());if(o=null==o||""==o?void 0:o,l=null==l||""==l?void 0:l,!this.isNullOrEmpty(l)||!this.isNullOrEmpty(o)){if(this.isNullOrEmpty(l)||this.isNullOrEmpty(o))return Komodo.log(i+" Property Changed from "+l+" to "+o),!1;if(l instanceof Date&&o instanceof Date){if(0!=XDates.compare(l,o))return Komodo.log(i+" DateProperty Changed from "+l+" to "+o),!1}else{if(l instanceof Object&&o instanceof Object&&l!=o)return Komodo.log(i+" Property Changed from "+l+" to "+o),!1;if(l.toString()!=o.toString())return Komodo.log(i+" Property Changed from "+l+" to "+o),!1}}}return!0},validateArrayIfChanged:function(t,r,e,n){var i=this;if(this.isNullOrEmpty(n)||this.isArrayNullOrEmpty(r)||(r=r.filter(function(t){return!i.isNullOrEmpty(Ember.get(t,n))})),this.isArrayNullOrEmpty(t)&&this.isArrayNullOrEmpty(r))return!1;if(this.isArrayNullOrEmpty(t)||this.isArrayNullOrEmpty(r))return!0;if(t.length!=r.length)return!0;for(var o=0;o<t.length;o++){var l=t[o],u=r[o];if(!this.validatePropertiesIfChanged(l,u,e))return!0}return!1},areItemFieldsEmpty:function(t,r){if(!(void 0!=r&&r.length&&r.length>0))return!0;if(void 0==t||null==t)return!0;for(var e=0;e<r.length;e++){var n=Ember.get(t,r[e]);if(void 0==n||null==n||""==n)return!0}return!1},isAllFieldsEmpty:function(t,r){if(!(void 0!=r&&r.length&&r.length>0))return!0;if(void 0==t||null==t)return!0;for(var e=0;e<r.length;e++){var n=Ember.get(t,r[e]);if(!this.isNullOrEmpty(n))return!1}return!0},clone:function(t){return jQuery.extend(!0,{},t)},getBooleanText:function(t){return t?"Yes":"No"},isValidDate:function(t){if(void 0!=t&&null!=t){var r=new Date(t);return 1!=r.getDay()||0!=r.getMonth()||1!=r.getFullYear()}return!1}}),Boolean.prototype.YesNo=function(){return this?"Yes":"No"},Date.prototype.toUIString=function(){function t(t){var r=t.toString();return r.length<2?"0"+r:r}if(void 0!=this&&""!=this){var r=this.getFullYear(),e=t(this.getMonth()+1);return t(this.getDate())+"-"+e+"-"+r}},String.prototype.getDateFromDateInXsdForma=function(t){var r="",e=t.indexOf("T");r=t.substring(0,e).split("-").reverse().join("-");var n=new Date,i=void 0;return r&&r.indexOf("-")>=0&&(i=r.split("-"),n=new Date(parseInt(i[2],10),parseInt(i[1],10)-1,parseInt(i[0],10))),n},Array.prototype.firstOrDefault=function(t,r){if(Komodo.UI.propertyHelpers.isArrayNullOrEmpty(t))return null;for(var e=0;e<t.length;e++)if(r(e,t[e]))return t[e];return null},Array.prototype.Any=function(t,r){return null!=t.firstOrDefault(t,r)};
Komodo.Models.CreateInvoices=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this._super()}});
Komodo.Models.Price=Ember.Object.extend({init:function(){this.CurrencyCode=void 0,this.Value=void 0,this.ValueWithoutTax=void 0,this.ListOfTax=[],this._super()}});
Komodo.Models.PreferredCommunication=Ember.Object.extend({init:function(){this.Type=void 0,this.PreferredTime=void 0,this._super()}});
Komodo.Models.ListOfPreferredCommunication=Ember.Object.extend({init:function(){this.PreferredCommunication=[],this._super()}});
Komodo.Models.Address=Ember.Object.extend({init:function(){this.Type=void 0,this.IsPrimary=void 0,this.HouseNumber=void 0,this.BuildingNumber=void 0,this.BuildingName=void 0,this.Street=void 0,this.Suburb=void 0,this.City=void 0,this.Province=void 0,this.Country=void 0,this.PostCode=void 0,this.PostBoxNumber=void 0,this.Longitude=void 0,this.Latitude=void 0,this.IsMarketingEnabled=void 0,this.IsBillingAddress=void 0,this.Floor=void 0,this.LocationOnFloor=void 0,this.IsVerified=void 0,this._super()}});
Komodo.Models.Offer=Ember.Object.extend({init:function(){this.UID=void 0,this.Name=void 0,this._super()}});
Komodo.Models.ProductFeatures=Ember.Object.extend({init:function(){this.Value=void 0,this.Description=void 0,this._super()}});
Komodo.Models.ProductDetail=Ember.Object.extend({init:function(){this.UID=void 0,this.Type=void 0,this.Name=void 0,this.Model=void 0,this.Manufacturer=void 0,this.Description=void 0,this.Offers=[],this.Price=Komodo.Models.Price.create(),this.ProductFeatures=[],this.ShortTermSubscription=void 0,this._super()}});
Komodo.Models.Service=Ember.Object.extend({init:function(){this.ProductDetail=Komodo.Models.ProductDetail.create(),this.UID=void 0,this.Status=void 0,this._super()}});
Komodo.Models.ListOfService=Ember.Object.extend({init:function(){this.Service=[],this._super()}});
Komodo.Models.Hardware=Ember.Object.extend({init:function(){this._super(),this.SerialNumber=void 0,this.Status=void 0,this.StatusReason=void 0,this.ManufactureDate=void 0,this.MACAddress=void 0,this.OriginalSmartcard=void 0,this.SmartcardDetail=Komodo.Models.ProductDetail.create(),this.InsuranceStartDate=void 0,this.CustomerWarrantyEndDate=void 0,this.CustomerWarrantyStartDate=void 0,this.ManufacturerWarrantyEndDate=void 0,this.ManufacturerWarrantyStartDate=void 0,this.InsuranceStatus=void 0,this.WarrantyStatus=void 0,this.LinkedSmartcard=void 0,this.LinkedSmartcardStatus=void 0,this.LinkedSmartcardStatusReason=void 0,this.ProductDetail=Komodo.Models.ProductDetail.create(),this.ListOfService=[],this.SecondaryHardware=void 0,this.IsAwaitingInstallation=void 0}});
Komodo.Models.ListOfHardware=Ember.Object.extend({init:function(){this.Hardware=[],this._super()}});
Komodo.Models.PersonalDetail=Ember.Object.extend({init:function(){this.Title=void 0,this.FirstName=void 0,this.Surname=void 0,this.Initial=void 0,this.BirthDate=void 0,this.MaritalStatus=void 0,this.IdentityDetailType=void 0,this.IdentityDetailValue=void 0,this.CountryOfOrigin=void 0,this.ExpiryDate=void 0,this.EmploymentDetails=void 0,this.FinanceDetails=void 0,this.Gender=void 0,this._super()}}),Komodo.Models.EmploymentDetail=Ember.Object.extend({init:function(){this.Occupation=void 0,this.EmploymentStatus=void 0,this.YearsAtJob=void 0,this.WorkPermitExpiryDate=void 0,this._super()}}),Komodo.Models.FinanceDetail=Ember.Object.extend({init:function(){this.NetMonthlyIncome=void 0,this.DebtCommitments=void 0,this.MonthlyExpenses=void 0,this._super()}});
Komodo.Models.Agreement=Ember.Object.extend({init:function(){this.UID=void 0,this.Name=void 0,this.Type=void 0,this.StartDate=void 0,this.EndDate=void 0,this.Status=void 0,this.ActivationDate=void 0,this.TermOfPayment=void 0,this.ConsumerDetail=Komodo.Models.PersonalDetail.create(),this.ConsumerAddress=Komodo.Models.Address.create(),this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this.IsViewAtHome=void 0,this.LocationIndicator=void 0,this.NumberOfViewingPoints=void 0,this.InstallationType=void 0,this._super()}});
Komodo.Models.Account=Ember.Object.extend({init:function(){this.Type=void 0,this.UID=void 0,this.Name=void 0,this.StartDate=new Date,this.EndDate=new Date,this.DunningLevel=void 0,this.ChargeDate=void 0,this.Balance=Komodo.Models.Price.create(),this.TermOfPayment=void 0,this.Status=void 0,this.PaymentDetail=[],this.ListOfAgreement=Komodo.Models.ListOfAgreement.create(),this.BillingAddress=Komodo.Models.Address.create(),this._super()}});
Komodo.Models.ListOfAccount=Ember.Object.extend({init:function(){this.Account=[],this._super()}});
Komodo.Models.ListOfAgreement=Ember.Object.extend({init:function(){this.Agreement=[],this._super()}});
Komodo.Models.Payment=Ember.Object.extend({init:function(){this.MethodOfPayment=void 0,this.MethodOfPaymentSub=void 0,this.UID=void 0,this.Id=void 0,this.ShiftID=void 0,this.IsCancelled=void 0,this.IsSplit=void 0,this.IsCashSale=void 0,this.Amount=void 0,this.AmountTendered=void 0,this.PaymentDate=void 0,this.IsAutoReconnectRequired=void 0,this.ShiftType=void 0,this.PaymentStatus=void 0,this.AccountHolderName=void 0,this.BankName=void 0,this.ChequeAccountNumber=void 0,this.BranchName=void 0,this.BranchCode=void 0,this.ChequeDate=void 0,this.ChequeNumber=void 0,this.StockHandlerID=void 0,this.CancelReason=void 0,this.WasOffline=void 0,this.IsRefund=void 0,this.CardNumber=void 0,this.CardAuthNumber=void 0,this.SupervisorUsername=void 0,this.ElevatedPrivilegeSessionToken=void 0,this.EnableFiscalization=void 0,this.EnableInvoice=void 0,this.SmartcardNumber=void 0,this.Notes=void 0,this.BusinessUnit=void 0,this.CardTransaction=void 0,this.SplitPayments=[],this._super()}});
Komodo.Models.CreatePayment=Ember.Object.extend({init:function(){this.Country=void 0,this.UserName=void 0,this.SupervisorUsername=void 0,this.Payment=void 0,this._super()}});
Komodo.Models.Campaign=Ember.Object.extend({init:function(){this.UID=void 0,this.Name=void 0,this.Description=void 0,this.Type=void 0,this.TemplateName=void 0,this.RunCycle=void 0,this.ExecutionStartDate=void 0,this.ReviewDate=void 0,this.IsTranslationRequired=void 0,this.TranslationLanguage=void 0,this.ExpiryDate=void 0,this.DistributionPlatform=void 0,this.TargetNumberOfRespondents=void 0,this.TargetCustomerType=void 0,this.Version=void 0,this.VersionSpecified=void 0,this.Status=void 0,this.StatusReason=void 0,this.AssigneeTeam=void 0,this.OwnerTeam=void 0,this.SubCategory=void 0,this._super()}});
Komodo.Models.CreateStatementAndInvoice=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.InvoiceAndStatementType=void 0,this.FromDate=void 0,this.ToDate=void 0,this.ReferenceNumber=void 0,this.DispatchOption=void 0,this._super()}});
Komodo.Models.ListOfAddress=Ember.Object.extend({init:function(){this.Address=[],this._super()}});
Komodo.Models.Email=Ember.Object.extend({init:function(){this.Value=void 0,this.IsPrimary=void 0,this.IsMarketingEnabled=void 0,this._super()}});
Komodo.Models.ListOfEmail=Ember.Object.extend({init:function(){this.Email=[],this._super()}});
Komodo.Models.PointOfPresence=Ember.Object.extend({init:function(){this.Type=void 0,this.Value=void 0,this.IsPrimary=void 0,this.IsMarketingEnabled=void 0,this._super()}});
Komodo.Models.ListOfPointOfPresence=Ember.Object.extend({init:function(){this.PointOfPresence=[],this._super()}});
Komodo.Models.PhoneNumber=Ember.Object.extend({init:function(){this.Type=void 0,this.Code=void 0,this.Number=void 0,this.Extension=void 0,this.IsPrimary=void 0,this.IsMarketingEnabled=void 0,this.IsMarketingEnabled=void 0,this.IsBoxOfficeNumber=void 0,this.IsBoxOfficePrimary=void 0,this._super()}});
Komodo.Models.ListOfPhoneNumber=Ember.Object.extend({init:function(){this.PhoneNumber=[],this._super()}});
Komodo.Models.CareOfPersonDetail=Ember.Object.extend({init:function(){this.PersonalDetail=void 0,this.ListOfEmail=[],this.ListOfPhoneNumber=[],this.IsAllowedToTransact=void 0,this.Role=void 0,this.PaymentGroup=void 0,this._super()}});
Komodo.Models.ListOfCareOfPersonDetail=Ember.Object.extend({init:function(){this.CareOfPersonDetail=[],this._super()}});
Komodo.Models.CustomerDetail=Ember.Object.extend({init:function(){this.UID=void 0,this.SubscriberSystemUID=[],this.StartDate=void 0,this.EndDate=void 0,this.Status=void 0,this.Language=void 0,this.VATNumber=void 0,this.Class=void 0,this.Type=void 0,this.EstablishmentType=void 0,this.StockHandlerType=void 0,this.BusinessUnit=void 0,this.IsOptInForMarketing=void 0,this.PreferedMarketingMethod=void 0,this.IsTermsAccepted=void 0,this.IsSubscribedForMagazine=void 0,this.IsSubscribedForInvoice=void 0,this.ListOfConsumer=[],this.ListOfPhoneNumber=[],this.ListOfAddress=[],this.ListOfEmail=[],this.ListOfPointOfPresence=[],this.ListOfCareOfPersonDetail=[],this.PersonalDetail=void 0,this.CompanyRegistrationNumber=void 0,this.CompanyName=void 0,this.CompanyFiscalCode=void 0,this.CompanyMarketSegment=void 0,this.Position=void 0,this.Sponsor=void 0,this.OriginalCustomerNumber=void 0,this.EmployeeNumber=void 0,this.BusinessName=void 0,this.Department=void 0,this.BenefitEndDate=void 0,this.HomeEquipmentInformation=void 0,this.PINNumber=void 0,this._super()}});
Komodo.Models.CustomerDetailsRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerDetail=Komodo.Models.CustomerDetail.create(),this._super()}});
Komodo.Models.CustomerProfileThresholdUpdated=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this._super()}});
Komodo.Repositories.messageRepository=KomodoConfiguration.overrideEmber?new Infrastructure.Core.Repository("Messages",new Infrastructure.Core.Logger):Komodo.Repositories.Repository.extend({name:"Messages"}).create();
Komodo.Services.TraceService=Ember.Object.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_traceRepository",{singleton:Komodo.Repositories.traceRepository})},getTraceRepository:function(){return this.get("_traceRepository")},writeInformation:function(e,o,r,t){Komodo.guard.againstUndefined(e,"transactionId"),Komodo.guard.againstUndefined(o,"eventName"),Komodo.guard.againstUndefined(r,"message"),Komodo.guard.againstUndefined(t,"data"),this.getTraceRepository().save(void 0,{transactionId:e,eventName:o,message:r,data:t}).fail(function(e){Komodo.Services.error(e)})}}),Komodo.Services.traceService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.TraceService(Komodo.Repositories.traceRepository,new Infrastructure.Core.Logger):Komodo.Services.TraceService.create();
Komodo.Services.MessagingService=Ember.Object.extend(Komodo.Dependency,{_processingQueue:!1,_pollServerMessagesTimer:void 0,_pollServerMessagesIntervals:[250],_pollServerMessagesIntervalIndex:0,init:function(){this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_messageRepository",{singleton:Komodo.Repositories.messageRepository}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_traceRepository",{singleton:Komodo.Repositories.traceRepository}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_offlineService",{singleton:Komodo.Services.offlineService}),this.requiresDependency("_encryptionService",{singleton:Komodo.Services.encryptionService}),this.requiresDependency("_traceService",{singleton:Komodo.Services.traceService}),this.requiresDependency("_communicationService",{singleton:Komodo.Services.communicationService}),this.getEventAggregator().subscribe(Komodo.EventNames.connectionEstablished,this,this.processQueue),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this.processQueue),this.getEventAggregator().subscribe(Komodo.EventNames.processQueueRequested,this,this.processQueue),this.set("bus._service",this),this.set("_pollServerMessagesIntervals",this.getKomodoConfiguration().pollServerMessagesIntervals||[1e3]),this._pollResponseMessages(),this._super()},getSecurityService:function(){return this.get("_securityService")},getEventAggregator:function(){return this.get("_eventAggregator")},getMessageRepository:function(){return this.get("_messageRepository")},getCacheRepository:function(){return this.get("_cacheRepository")},getTraceRepository:function(){return this.get("_traceRepository")},getLocalizationService:function(){return this.get("_localizationService")},getOfflineService:function(){return this.get("_offlineService")},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getEncryptionService:function(){return this.get("_encryptionService")},getTraceService:function(){return this.get("_traceService")},getCommunicationService:function(){return this.get("_communicationService")},resetNextMessageId:function(){return this.setNextMessageId(0)},getNextMessageId:function(){Komodo.Services.log("MessagingService.getNextMessageId");var e=$.Deferred();return this.getCacheRepository().fetch("MessageId").done(function(s){e.resolve(s.data)}).fail(function(){Komodo.Services.warn("MessagingService.getNextMessageId: no record: using messageId = 1"),e.resolve(1)}),e},setNextMessageId:function(e){Komodo.Services.log("MessagingService.setNextMessageId: messageId = "+e);var s=$.Deferred();return this.getCacheRepository().save("MessageId",e).done(function(){s.resolve(e)}).fail(function(r){Komodo.Services.error("MessagingService.setNextMessageId: failed: messageId = "+e+" / error = '"+r+"'"),s.reject(r)}),s},generateNextMessageId:function(){Komodo.Services.log("MessagingService.generateNextMessageId");var e=this,s=$.Deferred(),r=function(r){e.setNextMessageId(r).done(function(){Komodo.Services.log("[MessagingService.generateNextMessageId] : messageId = "+r),s.resolve(r)}).fail(function(e){Komodo.Services.error("[MessagingService.generateNextMessageId - failed] : error = '"+e+"'"),s.reject(e)})};return this.getCacheRepository().fetch("MessageId").done(function(e){r(e.data+1)}).fail(function(){r(1)}),s},createMessageRecord:function(e,s,r){var o;return Komodo.guard.againstUndefined(s,"busMessage"),Komodo.guard.againstUndefined(s.Header,"busMessage.Header"),s.Header.SessionToken=this.getSecurityService().get("sessionToken"),o=this.getEncryptionService().publicEncrypt(JSON.stringify(s)),{userId:this.getSecurityService().get("userId"),userName:this.getSecurityService().get("domainUserName"),inProcess:!1,processCorrelationId:r.processCorrelationId,messageId:e,messageType:r.messageType,eventName:s.Header.EventName,encryptionKeyId:o.encryptionKeyId,encryptionIV:o.iv,encryptionSymmetricKey:o.symmetricKey,payload:o.encrypted}},enqueue:function(e,s){var r,o=this,t=$.Deferred(),i=s.processCorrelationId;if(Komodo.Services.log("MessagingService.enqueue: processCorrelationId = '"+i+"'"),void 0==e||""===e)throw new Error("Argument 'busMessage' may not be empty.");return this.getSecurityService().get("isAuthenticated")?this.generateNextMessageId().done(function(n){r=o.createMessageRecord(n,e,s),o.getTraceRepository().fetchAll().done(function(e){r.traceItems=$.map(e,function(e){return e.data})||[],r.traceItems.push({transactionId:i,eventName:"clarity.event.enqueue",message:"[clarity] : message enqueued",data:{user:o.getSecurityService().get("domainUserName"),dateRequestEnqueued:new Date}})}).fail(function(e){Komodo.Services.warn("MessagingService.enqueue [could not fetch all trace repository items]: error ='"+e+"'")}).always(function(){o.getMessageRepository().save(n,{fireAndForget:s.fireAndForget,processCorrelationId:i,message:r}).done(function(e){o.getTraceRepository().clear().fail(function(e){alert("[FATAL ERROR - could not clear trace items] : Please contact support.  ERROR REPORTED: "+e)}).always(function(){t.resolve(e)})}).fail(function(e){alert("[FATAL ERROR - could not save message record] : Please contact support.  Your last message will need to be resubmitted.  ERROR REPORTED: "+e),t.reject(e)})})}).fail(function(e){alert("[FATAL ERROR - could not generate message id] : Please contact support.  Your last message will need to be resubmitted.  ERROR REPORTED: "+e),t.reject(e)}):t.reject(this.getLocalizationService().value("locale.komodo:login.sessionExpiryTitle")),t},_removeRecords:function(e){var s=this,r=$.Deferred(),o=e.length,t=0,i=function(){(t+=1)==o&&(Komodo.Services.log("[MessagingService._removeRecords - complete]"),r.resolve())};return Komodo.Services.log("[MessagingService._removeRecords] : message count = "+e.length),e.length>0?e.forEach(function(e){s.getMessageRepository().remove(e.data.message.messageId).done(function(){Komodo.Services.log("[MessagingService._removeRecords - message removed] : messageId = "+e.data.message.messageId),i()}).fail(function(s){Komodo.Services.error("[MessagingService._removeRecords - failed] : messageId = "+e.data.message.messageId+" / error = '"+s+"'"),i()})}):r.resolve(),r},sendQueuedMessages:function(){var e=this,s=$.Deferred();Komodo.Services.log("MessagingService.sendQueuedMessages");try{this._getRecordsToBeSent().done(function(r){if(0===r.length)return void s.resolve([],[]);e._processing(r).done(function(){e._sendRecords(r).done(function(r,o){r.forEach(function(s){e.getTraceService().writeInformation(s.data.processCorrelationId,"clarity.event.publish","[clarity] : message published",{user:e.getSecurityService().get("domainUserName"),dateRequestEnqueued:new Date})}),s.resolve(r,o)}).fail(function(o){e._rollbackProcessing(r),e._removeFireAndForget(r),s.reject(o,r)})}).fail(function(e){Komodo.Services.error("Failed to mark messages as in process in Komodo.Services.messagingService:sendQueuedMessages().  Error message was "+e),s.reject(e,r)})}).fail(function(e){s.reject(e)})}catch(e){s.reject(e)}return s},_postSendMessageRequest:function(e){var s=this,r=$.Deferred();return this.getCommunicationService().postResource("requestmessages",{user:s.getSecurityService().get("domainUserName"),data:e}).done(function(e,o,t){s._resetPollServerMessagesInterval(),s._pollResponseMessages(),r.resolve(e,o,t)}).fail(function(e,s,o){r.reject(e,s,o)}),r},_sendRecords:function(e){var s,r,o,t,i,n,a=this,c=$.Deferred(),g=[],d=[],u={messages:$.map(e,function(e){return e.data.message})};return this.getSecurityService().get("isAuthenticated")&&this._postSendMessageRequest.call(a,u).done(function(u){if(t=u.successfulMessageIds,i=$.map(e,function(e){return $.inArray(e.data.message.messageId,t)>-1?e:null}),r=i.slice(),i.forEach(function(e){Komodo.Services.debug("[MessagingService._sendRecords - delivered] : message id = '"+e.data.message.messageId+"'")}),u.failedMessages&&u.failedMessages.length>0)for(u.failedMessages.forEach(function(e){Komodo.Services.warn("[MessagingService._sendRecords - delivery failure] : MessageId = '"+e.messageId+"' / FaultCode = '"+e.faultCode+"' / FaultString = '"+e.faultString+"'")}),s=0;s<u.failedMessages.length;s++){o=u.failedMessages[s];var l=$.grep(e,function(e){return e.data.message.messageId===o.messageId})[0];g.push(l),d.push(l.data.message.messageId);var v=l.data.message.eventName;o.recoverable?(a._rollbackProcessing(l),a.getEventAggregator().publish(l.data.processCorrelationId,{message:l.data.message,eventName:v,processingType:"DeliveryFailure"}),Komodo.DEBUG&&Komodo.Services.warn("[MessagingService._sendRecords - recoverable message failure] : message id = '"+o.messageId+"'")):(r.push(l),a.getEventAggregator().publish(l.data.processCorrelationId,{message:l.data.message,eventName:v,processingType:"Fault"}),Komodo.DEBUG&&a.getEventAggregator().publish(Komodo.EventNames.messageFaultReceived,{failedRecord:l,messageException:o}))}a._removeRecords(r).then(function(){c.resolve(i,g)}),u.sessionTimeout&&(n=$.map(e,function(e){return-1==$.inArray(e.data.message.messageId,t)&&-1==$.inArray(e.data.message.messageId,d)?e:null}),a._rollbackProcessing(n),a.getSecurityService().logout(),a.getEventAggregator().publish(Komodo.EventNames.sessionExpired))}).fail(function(e,s,r){401==e.statusCode&&(a.getSecurityService().logout(),a.getEventAggregator().publish(Komodo.EventNames.sessionExpired)),c.reject(r)}),c},sendMessage:function(e,s){var r,o,t=this,i=$.Deferred(),n={messages:[]},a=t.createMessageRecord(-1,e,s);return this.getSecurityService().get("isAuthenticated")&&t.getTraceRepository().fetchAll().done(function(e){a.traceItems=$.map(e,function(e){return e.data})||[],a.traceItems.push({transactionId:s.processCorrelationId,eventName:"clarity.event.publish",message:"[clarity] : message published",data:{user:t.getSecurityService().get("domainUserName"),dateRequestEnqueued:new Date}})}).fail(function(e){Komodo.Services.warn("MessagingService.enqueue [could not fetch all trace repository items]: error ='"+e+"'")}).always(function(){n.messages.push(a),t._postSendMessageRequest.call(t,n).done(function(n){if(n.successfulMessageIds&&n.successfulMessageIds.length>0&&Komodo.Services.debug("[MessagingService.sendMessage - delivered]"),n.failedMessages&&n.failedMessages.length>0)for(n.failedMessages.forEach(function(e){Komodo.Services.error("[MessagingService.sendMessage - failure] : FaultCode = '"+e.faultCode+"' / FaultString = '"+e.faultString+"'")}),r=0;r<n.failedMessages.length;r++)o=n.failedMessages[r],o.recoverable?(s.alertDeliveryFailure&&alert(t.getLocalizationService().value("locale.komodo:messaging.deliveryFailure")),t.getEventAggregator().publish(a.processCorrelationId,{message:e,eventName:a.eventName,processingType:"DeliveryFailure"})):(t.getEventAggregator().publish(a.processCorrelationId,{message:a,eventName:a.eventName,processingType:"Fault"}),Komodo.DEBUG&&t.getEventAggregator().publish(Komodo.EventNames.messageFaultReceived,{failedRecord:a,messageException:o}));n.sessionTimeout&&(t.getSecurityService().logout(),t.getEventAggregator().publish(Komodo.EventNames.sessionExpired)),t.getTraceRepository().clear().fail(function(e){alert("[FATAL ERROR - could not clear trace items] : Please contact support.  ERROR REPORTED: "+e)}).always(function(){i.resolve()})}).fail(function(e,s,r){401==e.status?(t.getSecurityService().logout(),t.getEventAggregator().publish(Komodo.EventNames.sessionExpired)):alert(t.getLocalizationService().value("locale.komodo:messaging.deliveryFailure")),i.reject(r)})}),i},dispatchHandlerMessage:function(e){Komodo.Services.log("[MessagingService.dispatchHandlerMessage]"),Komodo.guard.againstUndefined(e,"handlerContext"),Komodo.guard.againstUndefined(e.message,"handlerContext.message"),Komodo.guard.againstUndefined(e.processingType,"handlerContext.processingType"),Komodo.guard.againstUndefined(e.eventName,"handlerContext.eventName"),Komodo.guard.againstUndefined(e.handler,"handlerContext.handler");var s="message"+e.processingType,r="message"+e.eventName+e.processingType,o=function(s){return!!e.handler[s]};o(r)?e.handler[r].call(e.handler,e.message):o(s)&&e.handler[s].call(e.handler,e.message)},publishReceivedMessage:function(responseMessage){Komodo.Services.log("[MessagingService.publishReceivedMessage] : response message = "+responseMessage);var self=this,message=eval("("+responseMessage.json+")"),eventName=message.ResponseMessage.EventName,eventId=message.ResponseMessage.EventMetaData.Event.EventId,processId=message.ResponseMessage.EventMetaData.Process.CorrelationID;Komodo.Services.eventAggregator.publish(processId,{message:message,eventName:eventName,processingType:"Received"}),Komodo.Services.eventAggregator.publish(processId,{message:message,processingType:"__SystemContext"}),Komodo.Services.eventAggregator.publish(eventName,message.ResponseMessage),this.getCommunicationService().deleteResource("responsemessages/"+eventId).done(function(){self.getTraceService().writeInformation(processId,"clarity.event.receive","[clarity] : message received",{user:self.getSecurityService().get("domainUserName"),dateResponseReceived:new Date}),Komodo.Services.info("[MessagingService.publishReceivedMessage - ack complete] : eventId = '"+eventId+"'")}).fail(function(){Komodo.Services.warn("[MessagingService.publishReceivedMessage - ack failed] : eventId = '"+eventId+"'")})},_getRecordsToBeSent:function(){Komodo.Services.log("MessagingService._getRecordsToBeSent");var e=$.Deferred();return this.getMessageRepository().fetchAll().done(function(s){var r=s.filter(function(e){return!e.data.message.inProcess});r.sort(function(e,s){return e.data.message.messageId-s.data.message.messageId}),e.resolve(r)}).fail(function(s){e.reject(s)}),e},_processing:function(e){return Komodo.Services.log("[MessagingService._processing]"),this._setInProcess(e,!0)},_rollbackProcessing:function(e){return Komodo.Services.log("[MessagingService._rollbackProcessing]"),this._setInProcess(e,!1)},_removeFireAndForget:function(e){return Komodo.Services.log("[MessagingService._removeFireAndForget]"),this._removeRecords($.map(e,function(e){return e.data.fireAndForget?e:void 0}))},_setInProcess:function(e,s){Komodo.Services.log("MessagingService._setInProcess: inProcess = '"+s+"'"),Komodo.guard.againstUndefined(e,"records"),e=$.makeArray(e);var r=this,o=e.length,t=0,i=$.Deferred(),n=function(){(t+=1)==o&&i.resolve(e)};return e.length>0?e.forEach(function(e){e.data.message.inProcess=s,r.getMessageRepository().save(e.data.message.messageId,e.data).done(function(){Komodo.Services.log("MessagingService._setInProcess: messageId = "+e.key+" / inProcess = '"+s+"'"),n()}).fail(function(r){Komodo.Services.error("MessagingService._setInProcess: failed: messageId = "+e.key+" / inProcess = '"+s+"' / error = "+r),n()})}):i.resolve(e),i},resetInProcess:function(){Komodo.Services.log("MessagingService.resetInProcess");var e=this,s=$.Deferred();return this.getMessageRepository().fetchAll().done(function(r){e._setInProcess(r.filter(function(e){return e.data.message.inProcess}),!1).done(function(e){s.resolve(e)}).fail(function(e){s.reject(e)})}).fail(function(e){s.reject(e)}),s},processQueue:function(){var e=$.Deferred(),s=this;if(this.get("_processingQueue"))return Komodo.Services.log("[MessagingService.processQueue - already processing]"),e.reject("[MessagingService.processQueue - already processing]"),e;try{this.set("_processingQueue",!0),this.sendQueuedMessages().done(function(s,r){e.resolve(s,r)}).fail(function(r,o){Komodo.Services.log("[MessagingService.processQueue] : error = "+r),void 0!=o&&o.forEach(function(e){s.getEventAggregator().publish(e.data.processCorrelationId,{message:e.data.message,eventName:e.data.message.eventName,processingType:"DeliveryFailure"})}),e.reject(r)})}finally{this.set("_processingQueue",!1)}return e},_getPollServerMessagesInterval:function(){var e=this.get("_pollServerMessagesIntervalIndex"),s=this.get("_pollServerMessagesIntervals").length-1;e>s&&(e=s);var r=this.get("_pollServerMessagesIntervals")[e];return this.set("_pollServerMessagesIntervalIndex",e+1),r},_resetPollServerMessagesInterval:function(){this.set("_pollServerMessagesIntervalIndex",0)},_pollResponseMessages:function(){var e=this,s=this.get("_pollServerMessagesTimer");s&&clearTimeout(s),s=setTimeout(function(){if(e.getOfflineService().workingOffline()||!e.getSecurityService().get("isAuthenticated")||void 0==e.getSecurityService().get("userId"))return void(e.get("isDestroyed")||e._pollResponseMessages());e.getCommunicationService().getResource("responsemessages?userid="+e.getSecurityService().get("userId"),{cache:!1}).done(function(s){if(Komodo.Services.info("[MessagingService._pollResponseMessages] : messages received = "+s.length),0!==s.length){e._resetPollServerMessagesInterval();try{s.forEach(function(s){"shuttle"===s.systemName.toLowerCase()?e.bus.publishReceivedMessage(s):e.publishReceivedMessage(s)})}catch(e){Komodo.Services.error("[MessagingService._pollResponseMessages] : could not publish message / error = "+e)}}}).fail(function(s,r,o){Komodo.Services.warn("[MessagingService._pollResponseMessages - failed] : textStatus = '"+r+"' / errorThrown = '"+o+"'"),401==s.status&&e.getEventAggregator().publish(Komodo.EventNames.sessionExpired)}).always(function(){e._pollResponseMessages()})},e._getPollServerMessagesInterval()),this.set("_pollServerMessagesTimer",s)},bus:Ember.Object.create({getService:function(){return this.get("_service")},dispatchHandlerMessage:function(e){var s,r;Komodo.Services.log("[MessagingService.bus.dispatchHandlerMessage]"),Komodo.guard.againstUndefined(e,"handlerContext"),Komodo.guard.againstUndefined(e.message,"handlerContext.message"),Komodo.guard.againstUndefined(e.messageType,"handlerContext.messageType"),Komodo.guard.againstUndefined(e.message.message,"handlerContext.message.message"),Komodo.guard.againstUndefined(e.target,"handlerContext.target"),Komodo.guard.againstUndefined(e.handler,"handlerContext.handler"),void 0!=(r=e.handler[e.target.toLowerCase()])&&(s=function(e){return void 0!=r[e]},s(e.messageType)?r[e.messageType].call(e.handler,e.message.message,e.message.headers):s("handle")&&r.handle.call(e.handler,e.message.message,e.message.headers))},_post:function(e){var s=this.getService(),r=$.Deferred();return s.getCommunicationService().postResource("shuttlerequestmessages",{user:s.getSecurityService().get("domainUserName"),data:e}).done(function(e,o,t){s._resetPollServerMessagesInterval(),s._pollResponseMessages(),r.resolve(e,o,t)}).fail(function(e,s,o){r.reject(e,s,o)}),r},publishReceivedMessage:function(responseMessage){var controller=this.getService();Komodo.Services.log("[MessagingService.bus.publishReceivedMessage] : response message = "+responseMessage);var message=eval("("+responseMessage.json+")"),messageId=responseMessage.messageId,messageType=message.messageType,controllerProcessId=message.controllerProcessId;Komodo.Services.eventAggregator.publish(controllerProcessId,{message:message,messageType:messageType,target:"handlers",systemName:"shuttle"}),Komodo.Services.eventAggregator.publish(message.messageType,message),controller.getCommunicationService().deleteResource("responsemessages/"+messageId).done(function(){controller.getTraceService().writeInformation(controllerProcessId,"clarity.bus.message.receive","[clarity] : message received",{user:controller.getSecurityService().get("domainUserName"),dateResponseReceived:new Date}),Komodo.Services.info("[MessagingService.bus.publishReceivedMessage - ack complete] : messageId = '"+messageId+"'")}).fail(function(){Komodo.Services.warn("[MessagingService.bus.publishReceivedMessage - ack failed] : messageId = '"+messageId+"'")})},send:function(e,s){var r,o,t=s||{},i=this.getService(),n=$.Deferred();return i.getSecurityService().get("isAuthenticated")?(r={userId:i.getSecurityService().get("userId"),userName:i.getSecurityService().get("domainUserName"),correlationId:t.correlationId,controllerProcessId:t.controllerProcessId,messageType:t.messageType,message:JSON.stringify(e),headers:t.headers||[]},i.getTraceRepository().fetchAll().done(function(e){r.traceItems=$.map(e,function(e){return e.data})||[],r.traceItems.push({transactionId:s.processCorrelationId,eventName:"clarity.message.sent",message:"[clarity] : message sent",data:{user:i.getSecurityService().get("domainUserName"),dateRequestEnqueued:new Date}})}).fail(function(e){Komodo.Services.warn("MessagingService.bus.send [could not fetch all trace repository items]: error ='"+e+"'")}).always(function(){i.bus._post(r).done(function(s){s.ok?(Komodo.Services.debug("[MessagingService.bus.send - delivered]"),i.getTraceRepository().clear().fail(function(e){o="[FATAL ERROR - could not clear trace items] : Please contact support.  ERROR REPORTED: "+e,alert(o),n.reject(o)}).always(function(){n.resolve()})):(t.alertDeliveryFailure&&(o=i.getLocalizationService().value("locale.komodo:messaging.deliveryFailure"),alert(o),n.reject(o),Komodo.Services.error(s.exceptionMessage)),i.getEventAggregator().publish(e.controllerProcessId,{message:e,messageType:t.messageType,target:"failures",systemName:"shuttle"})),s.sessionTimeout&&(i.getSecurityService().logout(),i.getEventAggregator().publish(Komodo.EventNames.sessionExpired))}).fail(function(e,s,r){401===e.status?(i.getSecurityService().logout(),i.getEventAggregator().publish(Komodo.EventNames.sessionExpired)):alert(i.getLocalizationService().value("locale.komodo:messaging.deliveryFailure")),n.reject(r)})}),n):n}}),destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.connectionEstablished,this,this.processQueue),this.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedIn,this,this.processQueue),this.getEventAggregator().unsubscribe(Komodo.EventNames.processQueueRequested,this,this.processQueue),this._super()}}),Komodo.Services.busService=new Infrastructure.Core.BusService(Komodo.Services.communicationService,Komodo.Services.securityService,Komodo.Repositories.traceRepository,Komodo.Services.eventAggregator,Komodo.Services.localizationService,Komodo.Services.traceService,Komodo.EventNames,new Infrastructure.Core.Logger),Komodo.Services.messagingService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.MessagingService(KomodoConfiguration,Komodo.Services.securityService,Komodo.Services.eventAggregator,Komodo.Repositories.messageRepository,Komodo.Repositories.cacheRepository,Komodo.Repositories.traceRepository,Komodo.Services.localizationService,Komodo.Services.offlineService,Komodo.Services.encryptionService,Komodo.Services.traceService,Komodo.Services.communicationService,Komodo.EventNames,Komodo.Services.busService,new Infrastructure.Core.Logger):Komodo.Services.MessagingService.create();
Komodo.Controls.MessageBoxModel=Ember.Object.extend({title:null,message:null,identifier:null,buttons:null});
Komodo.Controls.MessageBoxView=Komodo.UI.View.extend({templateName:"MessageBoxView",id:void 0});
Komodo.Controls.MessageBoxYesButton=function(){this.text=kl.value("controls.messageBox.yes"),this.action="yes"};
Komodo.Controls.MessageBoxYesNoCancelButtons=[Komodo.Controls.MessageBoxYesButton,Komodo.Controls.MessageBoxNoButton,Komodo.Controls.MessageBoxCancelButton],Komodo.Controls.MessageBoxYesNoButtons=[Komodo.Controls.MessageBoxYesButton,Komodo.Controls.MessageBoxNoButton],Komodo.Controls.MessageBoxOkCancelButtons=[Komodo.Controls.MessageBoxOkButton,Komodo.Controls.MessageBoxCancelButton],Komodo.Controls.MessageBoxOkButtons=[Komodo.Controls.MessageBoxOkButton],Komodo.Controls.MessageBoxAcceptDeclineButtons=[Komodo.Controls.MessageBoxAcceptButton,Komodo.Controls.MessageBoxDeclineButton];
Komodo.Controls.MessageBoxController=Ember.Controller.extend(Komodo.Dependency,{data:void 0,buttonsView:void 0,target:void 0,response:void 0,popup:void 0,init:function(){this.target={},this._super(),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService})},getUIService:function(){return this.get("_uiService")},styleType:function(){var e=this.get("_styleType");return void 0!=e&&"warning"===e?"message-box-warning":void 0!=e&&"success"===e?"message-box-success":void 0!=e&&"danger"===e?"message-box-danger":"message-box-default"}.property("_styleType"),imageType:function(){var e=this.get("_styleType");return void 0!=e&&"warning"===e?"Content/Images/MessageBox/icon-alert.svg":void 0!=e&&"success"===e?"Content/Images/MessageBox/icon-success.svg":void 0!=e&&"danger"===e?"Content/Images/MessageBox/icon-error.svg":void 0}.property("_styleType"),borderType:function(){var e=this.get("_styleType");return void 0!=e&&"warning"===e?"1px solid #ffa902":void 0!=e&&"success"===e?"1px solid #0e7f23":void 0!=e&&"danger"===e?"1px solid #af1515":void 0}.property("_styleType"),_styleType:void 0,actions:{ok:function(e){var o=this;o.popup.close(),this.set("_styleType",void 0),o.response&&"function"==typeof o.response&&o.response.call(e,"ok")},cancel:function(e){var o=this;o.popup.close(),this.set("_styleType",void 0),o.response&&"function"==typeof o.response&&o.response.call(e,"cancel")},yes:function(e){var o=this;o.popup.close(),this.set("_styleType",void 0),o.response&&"function"==typeof o.response&&o.response.call(e,"yes")},no:function(e){var o=this;o.popup.close(),this.set("_styleType",void 0),o.response&&"function"==typeof o.response&&o.response.call(e,"no")},accept:function(e){var o=this;o.popup.close(),this.set("_styleType",void 0),o.response&&"function"==typeof o.response&&o.response.call(e,"accept")},decline:function(e){var o=this;o.popup.close(),this.set("_styleType",void 0),o.response&&"function"==typeof o.response&&o.response.call(e,"decline")}},show:function(e,o,s,t,n,i,r){var p=this;t||(t=this),r||(r=""),s?s=$.makeArray(s):(s=[],s.push(Komodo.Controls.MessageBoxOkButton)),this.set("data",Komodo.Controls.MessageBoxModel.create({title:e,message:o,identifier:r,buttons:s})),this.set("_styleType",i);var a=this.getUIService().showModalPopup(null,null,{context:this,view:Komodo.Controls.MessageBoxView,borderStyle:this.get("borderType"),id:n,canUserClose:!1}),c="";this.set("popup",a),s.forEach(function(e){if(!(e instanceof Function))throw e+" needs to be a function";e=new e,c=c+'{{#view Komodo.Controls.Button action="'+e.action+'" type="'+i+'"}}'+e.text+"{{/view}}\n",p[e.action]=function(){}}),this.set("buttonsView",Ember.View.extend({template:Ember.Handlebars.compile(c)}))}}),Komodo.Controls.MessageBoxController.reopenClass({show:function(e,o,s,t,n,i,r){var p=Komodo.Controls.MessageBoxController.create();return p.show(e,o,s,t,n,i,r),p}}),Ember.Handlebars.registerBoundHelper("expandLineBreaks",function(e){return new Ember.Handlebars.SafeString(e.replace(/\n/g,"<br>"))});
Komodo.UI.Validators.RequiredValidator=function(e,a,r){Komodo.UI.Validators.debug("RequiredValidator.call()");var t=Ember.A(),d=e[Object.keys(e)[0]];r=r||{},r.type=r.type||"string";var s=r.displayName,i=r.errorMessage||kl.value("validations.requiredDefaultErrorMessage",{displayName:s});if(void 0===d||null===d)t.addObject(i);else switch(r.type.toLowerCase()){case"number":(0===d.length||isNaN(d))&&t.addObject(i);break;case"string":0===d.length&&t.addObject(i);break;case"date":"string"==typeof d&&0===d.length&&t.addObject(i)}return t};
Komodo.UI.LimitValueToTypeStrategyFactory=function(){this.create=function(e){if(void 0==e.type||null==e.type)throw{name:"LimitValueToTypeStrategyFactoryException",message:"LimitValueToTypeStrategyFactory: options.type is a required parameter"};return"string"===e.type.toLowerCase()?new Komodo.UI.StringLimitValueToTypeStrategy(e):"number"===e.type.toLowerCase()?new Komodo.UI.NumberLimitValueToTypeStrategy(e):"decimal"===e.type.toLowerCase()?new Komodo.UI.DecimalLimitValueToTypeStrategy(e):void 0}};
Komodo.Models.DeclineDCCTermsAndConditions=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.DeviceSerialNumber=void 0,this._super()}});
Komodo.Controls.Control=Ember.Mixin.create(Komodo.Dependency,{_controlParentView:void 0,disable:!1,visible:!0,_displayStrategy:void 0,_isRestricted:!1,_deniedAction:void 0,attributeBindings:["disabled"],securityHandledByParentControl:!1,_isDisabled:function(){var e=this.get("disable");return e="false"!=e&&!1!==e,this.get("_isRestricted")||e},_komodoIsVisible:function(){var e=this.get("visible");return e="false"!=e&&!1!==e,this.get("_isRestricted")&&"hide"==this.get("_deniedAction").toLowerCase()&&(e=!1),e},disabled:function(){return this._isDisabled()}.property("_isRestricted","disable"),isVisible:function(){return this._komodoIsVisible()}.property("_isRestricted","visible"),init:function(){var e;this._super(),!0!==this.get("securityHandledByParentControl")&&(this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),e=this.getUIService().findKomodoView(this),this.set("_controlParentView",e),e&&e.addObserver("deniedControls",this,this._controlEvaluateSecurity))},_controlEvaluateSecurity:function(){var e=this,t=this.get("_controlParentView");t&&(this.get("_deniedAction")&&(e.set("_isRestricted",!1),"hide"==this.get("_deniedAction").toLowerCase()?this.set("visible",!0):this.set("disable",!0)),$.each(t.get("deniedControls"),function(){this.controlName==e.get("elementId")&&(e.set("_deniedAction",this.actionKey),e.set("_isRestricted",!0),"hide"==this.actionKey.toLowerCase()?e.set("visible",!1):e.set("disable",!1))}))},didInsertElement:function(){this._super(),this.addObserver("elementId",this,this._controlEvaluateSecurity),this._controlEvaluateSecurity()},willDestroyElement:function(){this.removeObserver("elementId",this,this._controlEvaluateSecurity);var e=this.get("_controlParentView");e&&e.removeObserver("deniedControls",this,this._controlEvaluateSecurity),this._super()},getUIService:function(){return this.get("_uiService")}});
Komodo.Controls.CoreValidation=Ember.View.extend(Komodo.Controls.Control,{classNames:["error-text"],tagName:"span",templateName:"CoreValidationView",validatorBinding:void 0,contentBinding:void 0,_observingValidator:void 0,init:function(){this._super(),this.labelChanged(),this.createObservers(),Komodo.Services.uiService.generateElementId(this)},_getValidator:function(){return this.validatorName?"":this.get("validator")},createObservers:function(){var e=this,t=this.get("validator");this.removeValidatorObservers(),t&&(Komodo.Controls.debug("CoreValidation.createObservers: properties:["+t.get("properties").toString()+"]"),t.get("properties").forEach(function(r){Ember.addObserver(t.get("model"),r,e,e.validate)}),e.validate(),this.set("_observingValidator",t),this.labelChanged())}.observes("validator"),removeValidatorObservers:function(){var e=this,t=this.get("_observingValidator");t&&(Komodo.Controls.debug("CoreValidation.removeValidatorObservers: properties:["+t.get("properties").toString()+"]"),t.get("properties").forEach(function(r){Ember.removeObserver(t.get("model"),r,e,e.validate)}))},willDestroy:function(){this.removeValidatorObservers()},validate:function(){this.get("validator").validate()},modelChanged:function(){this.createObservers()}.observes("validator.model","validator"),text:function(){return this.get("validator.errors")&&this.get("validator.errors").length>0?this.get("validator.errors")[0]:""}.property("validator.errors.@each"),hasValidationError:function(){return this.get("validator")&&this.get("validator.errors").length>0&&this.get("validator.errors")[0].length>0}.property("validator.errors.@each"),labelChanged:function(){var e=this.get("validator");e&&this.get("parentView.label")&&(e.options=e.options?e.options:{},e.options.displayName=this.get("parentView.label"),this.set("validator",e))}.observes("parentView.label"),hasRequiredValidator:function(){return this.get("validator.hasRequiredValidator")}.property("validator.functions")});
Komodo.Controls.DataGridValidationView=Komodo.Controls.CoreValidation.extend({init:function(){this._super()},classNameBindings:["canAddEditClass:edit"],canAddEditClass:function(){return this.get("_hasValidationError")&&!this.get("parentView.isNotEditing")}.property("parentView.isNotEditing","_hasValidationError")});
Komodo.Controls.DataGridSelectColumn=Komodo.Controls.DataGridColumn.extend({displayText:void 0,controlType:"Select",content:void 0,optionLabelPath:void 0,optionValuePath:void 0});
Komodo.Controls.DataGridRadioButtonColumn=Komodo.Controls.DataGridColumn.extend({displayText:void 0,controlType:"RadioButton",content:void 0});
Komodo.Controls.DataGridLinkColumn=Komodo.Controls.DataGridColumn.extend({displayText:void 0,controlType:"Link",urlTarget:void 0});
Komodo.Application.ModalPaneView=Ember.ContainerView.extend({tagName:"div",borderStyle:void 0,heading:void 0,elementId:"modalPaneView",bodyViewClassContext:void 0,bodyViewClass:void 0,canUserClose:!0,width:"auto",height:"auto",append:function(){var e=this,t=Ember.View.create({tagName:"div",templateName:"ModalPaneHeaderView"}),o=Ember.View.create({tagName:"div",classNames:"komodo-modal-content",templateName:"ModalPaneContentView",viewClass:e.get("bodyViewClass"),context:e.get("bodyViewClassContext")});e.pushObject(t),e.pushObject(o),this._super()},didInsertElement:function(){var e=this;$.modal($("#"+this.get("elementId")),{escClose:this.canUserClose,onShow:function(t){t.container.css({height:e.get("height"),width:e.get("width")}),void 0!=e.get("borderStyle")&&t.container.css({border:e.get("borderStyle")}),$.modal.setPosition(),$.modal.setPosition()},onClose:function(){e.close()}}),$.modal.setPosition(),this._super()},close:function(){this._triggerCallbackAndDestroy({},null)},actions:{close:function(){this._triggerCallbackAndDestroy({},null)}},_triggerCallbackAndDestroy:function(e,t){$.modal.close(),$("#"+this.get("elementId")).remove(),this.destroy(),this.closeCallback&&this.closeCallback(e,t)}}),Komodo.Application.ModalPaneView.reopenClass({popup:function(e){var t;return e||(e={}),t=Komodo.Application.__container__.lookup("view:ModalPane"),$.extend(t,e),t.append(),t}});
Komodo.Application.ModalPaneController=Ember.Controller.extend({_borderStyle:void 0,_modalPanel:void 0,hasPopup:function(){return void 0!==this.get("_modalPanel")},_closePopup:function(){if(this.hasPopup()){var o=this.get("_modalPanel");"object"==typeof o&&o.close()}},_resetModal:function(){if(this.hasPopup()){var o=this.get("_modalPanel");this.set("_modalPanel",void 0),this.set("_borderStyle",void 0),o.shouldStartAndStopController&&this.context&&this.context.stop&&this.context.get("_isStarted")&&this.context.stop()}},_popupOpened:function(o){this.set("_modalPanel",o)},popup:function(o,t,e){this._closePopup(),e=e||{},e.borderStyle&&this.set("_borderStyle",e.borderStyle);var l,n=e.context,s=e.view,r=e.id,i=e.closeCallback,a=e.canUserClose,d=n||Komodo.Application.__container__.lookup("controller:"+t),p=this;void 0==e.shouldStartAndStopController&&(e.shouldStartAndStopController=!0),void 0!==a&&null!==a||(a=!0),this.context=d,e.shouldStartAndStopController&&d&&"function"==typeof d.start&&(d.get("_isStarted")||d.start()),l=Komodo.Application.ModalPaneView.popup({heading:o,canUserClose:a,elementId:r,bodyViewClass:s||Komodo.Application.get(t.charAt(0).toUpperCase()+t.substr(1)+"View"),bodyViewClassContext:d,closeCallback:function(){p._resetModal(),i&&i()},shouldStartAndStopController:e.shouldStartAndStopController}),l.set("borderStyle",this.get("_borderStyle")),l.set("containerPrefix","modal"),this._popupOpened(l)},close:function(){this._closePopup()}});
Komodo.Controls.DataGridHelper=function(){this.displayEditPopup=function(o,i,t,e){if(void 0!==o.get(i)&&null!==o.get(i)&&"edit"==o.get(t)){var l=e.view,n=e.viewContext,d=e.title,p=e.useCaseName,u=o._gridEditPopup,r=function(){o.set(i,void 0),o._gridEditPopup=void 0};if(void 0!==u)return;return u=Komodo.Application.ModalPaneController.create(),void 0!==p&&null!==p?u.popup(d,p,{closeCallback:r}):u.popup(d,null,{context:n,closeCallback:r,view:l}),o._gridEditPopup=u,u}return null}};
Komodo.Models.ListOfCustomerDetail=Ember.Object.extend({init:function(){this.CustomerDetail=Komodo.Models.CustomerDetail.create(),this._super()}});
Komodo.Controls.DataGridCommandColumn=Komodo.Controls.DataGridColumn.extend({displayText:void 0,displayType:"button",controlType:"command",canEdit:!1});
Komodo.Models.FinancialTransaction=Ember.Object.extend({init:function(){this.CreationDate=void 0,this.ActualAmount=Komodo.Models.Price.create(),this.PeriodFrom=void 0,this.PeriodTo=void 0,this.InvoiceLineText=void 0,this.PaidForInvoice=void 0,this.TransactionType=void 0,this.TransactionSubType=void 0,this.ReversedTransaction=void 0,this.DebitOrCredit=void 0,this.MethodOfPayment=void 0,this.UID=void 0,this._super()}});
Komodo.Models.HardwareByCustomerIDRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this._super()}});
Komodo.Controls.DataGridTextFieldDisplayStrategy=function(t){this.displayControl=Komodo.Controls.DataGridLabel,this.editControl=Komodo.Controls.DataGridTextField,this.getDisplayValue=Komodo.Controls.DataGridDisplayStrategyValue,this.getDisplayContext=function(){return{text:t.get("displayValue")}},this.getEditContext=function(){return{}}};
Komodo.Models.HardwareCase=Ember.Object.extend({init:function(){this._super(),this.CustomerUID=void 0}});
Komodo.Models.InsureDecoder=Ember.Object.extend({init:function(){this.Country=void 0,this.PaymentDetail=Komodo.Models.PaymentDetail.create(),this.ChargePeriod=void 0,this.DecoderSerialNumber=void 0,this.ScheduleDate=void 0,this._super()}});
Komodo.Models.FinancialTransactionId=Ember.Object.extend({init:function(){this.Id=void 0,this.Comment=void 0,this._super()}});
Komodo.Models.ValuePair=Ember.Object.extend({init:function(){this.Key=void 0,this.Value=void 0,this._super()}});
Komodo.Models.ListOfFinancialTransaction=Ember.Object.extend({init:function(){this.FinancialTransactionId=[],this._super()}});
Komodo.Models.Product=Ember.Object.extend({init:function(){this.Details=Komodo.Models.ProductDetail.create(),this.BundleProducts=[],this._super()}});
Komodo.Models.QuotationLineItem=Ember.Object.extend({init:function(){this.Quantity=void 0,this.QuotedUnitPrice=Komodo.Models.Price.create(),this.Product=Komodo.Models.Product.create(),this.TotalPrice=Komodo.Models.Price.create(),this._super()}});
Komodo.Models.ListOfQuotationLineItem=Ember.Object.extend({init:function(){this.QuotationLineItem=[],this._super()}});
Komodo.Models.NotifyZeroValueDeviceSaleCreated=Ember.Object.extend({init:function(){this.Country=void 0,this.QuotationUID=void 0,this.ListOfQuotationLineItem=Komodo.Models.ListOfQuotationLineItem.create(),this.SupervisorUsername=void 0,this._super()}});
Komodo.Models.ListOfFTApprovalStatus=Ember.Object.extend({init:function(){this.FTApprovalStatus=[],this._super()}});
Komodo.Controls.DataGridSelectDisplayStrategy=function(t){this.displayControl=Komodo.Controls.DataGridLabel,this.editControl=Komodo.Controls.DataGridSelect,this.getDisplayValue=function(n){var o,e=t.content.optionValuePath.replace(/^content\.?/,""),a=t.content.optionLabelPath.replace(/^content\.?/,""),i=function(t,n){var o,e=n.split("."),a=t;for(o=0;o<e.length;o+=1)a=a[e[o]];return a},l=t.content.content.find(function(o){return"content"==t.content.optionValuePath?o==n:i(o,e)==n});return 0===a.length?o=l:void 0!==l&&(o=i(l,a)),o},this.getDisplayContext=function(){return{text:t.get("displayValue")}},this.getEditContext=function(){return{content:t.content.content,optionLabelPath:t.content.optionLabelPath,optionValuePath:t.content.optionValuePath}}};
Komodo.Models.Installation=Ember.Object.extend({init:function(){this._super(),this.UID=void 0,this.CustomerNumber=void 0,this.DishSerialNumber=void 0,this.LnbSerialNumber=void 0,this.DecoderSerialNumber=void 0,this.SmartCardSerialNumber=void 0,this.InstallationType=void 0,this.VoucherNumber=void 0,this.AccreditationNumber=void 0,this.QualificationNumber=void 0,this.Rating=void 0,this.SwitchSerialNumber=void 0,this.GPSLatitude=void 0,this.GPSLongitude=void 0,this.GPSAccuracy=void 0,this.GPSTimestamp=void 0,this.LNBType=void 0,this.Satellite=void 0,this.UserBandTuner1=void 0,this.UserBandTuner2=void 0,this.UserBandTuner3=void 0,this.TVLinkPower=void 0,this.ConnectivityStatus=void 0,this.ScanDetails=void 0,this.InstallationQuality=void 0,this.HorizontalHighBandQuality=void 0,this.VerticalHighBandQuality=void 0,this.HorizontalLowBandQuality=void 0,this.VerticalLowBandQuality=void 0}});
Komodo.Controls.DataGridRadioButtonDisplayStrategy=function(t){this.displayControl=Komodo.Controls.DataGridLabel,this.editControl=Komodo.Controls.DataGridRadioButton,this.getDisplayValue=function(t){return t},this.getDisplayContext=function(){return{text:t.get("displayValue")}},this.getEditContext=function(){return{}}};
Komodo.Controls.DataGridLinkDisplayStrategy=function(t){this.displayControl=Komodo.Controls.DataGridLink,this.editControl=Komodo.Controls.DataGridTextField,this.getDisplayValue=Komodo.Controls.DataGridDisplayStrategyValue,this.getDisplayContext=function(){var o=t.get("value");return{text:t.content.displayText||o,href:o,target:t.content.urlTarget}},this.getEditContext=function(){return{}}};
Komodo.Controls.DataGridCheckBoxDisplayStrategy=function(t){this.displayControl=Komodo.Controls.DataGridLabel,this.editControl=Komodo.Controls.DataGridCheckBox,this.getDisplayValue=function(t){return void 0!==t&&(t=!0===t?kl.value("controls.datagrid.booleanYes"):kl.value("controls.datagrid.booleanNo")),t},this.getDisplayContext=function(){return{text:t.get("displayValue")}},this.getEditContext=function(){return{}}};
Komodo.Controls.DataGridButtonDisplayStrategy=function(t){this.displayControl=Komodo.Controls.DataGridButton,this.editControl=void 0,this.getDisplayValue=Komodo.Controls.DataGridDisplayStrategyValue,this.getDisplayContext=function(){return{text:t.get("displayValue")||t.content.displayText||t.content.action,type:t.content.displayType,action:t.content.action}},this.getEditContext=function(){return{}}};
Komodo.Controls.DataGridTextField=Ember.TextField.extend(Komodo.Controls.DataGridControl,{classNames:["input-table"],controlPrefix:"txt"});
Komodo.Controls.DataGridRadioButton=Ember.View.extend(Komodo.Controls.DataGridControl,{tagName:"input",attributeBindings:["type","name","value","checked"],_nameBinding:"this.context.name",name:function(){return this._resolveDataGridElementId()+"-"+this._resolveDataGridControlElementId()}.property("_name"),type:"radio",checkedBinding:"parentView.value",controlPrefix:"radiobutton",init:function(){var t=this.get("parentView.parentView.content.__systemId");this._super(),t||(t=Komodo.Controls.DataGridRadioButton.getNextSystemId(),this.set("parentView.parentView.content.__systemId"+this.get("context.name"),t)),this.set("systemId",t)},click:function(){this.set("selection",this.get("systemId"));var t=this.get("systemId"),e=this.get("parentView.parentView.parentView.parentView.content"),n=this.get("context.name");e.forEach(function(e){var o=t==e["__systemId"+n];e.set?e.set(n,o):e[n]=o,Komodo.log(t+"="+e.selected+"-"+e.name+" -- "+n+":"+e[n])})},checked:function(){return this.get("value")==this.get("selection")}.property()}),Komodo.Controls.DataGridRadioButton.reopenClass({_systemIdCounter:0,getNextSystemId:function(){return this._systemIdCounter++}});
Komodo.Models.ListOfOperationalCommunicationFilterCriteria=Ember.Object.extend({init:function(){this.OperationalCommunicationFilterCriteria=[],this._super()}});
Komodo.Models.Parameter=Ember.Object.extend({init:function(){this.ParameterName=void 0,this.ParameterValue=void 0,this._super()}});
Komodo.Models.Attachment=Ember.Object.extend({init:function(){this.Type=void 0,this.FriendlyName=void 0,this.URI=void 0}});
Komodo.Models.QuotationsRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfQuotation=[],this.ListOfLead=[],this._super()}});
Komodo.Models.ListOfOperationalCommunicationSelectList=Ember.Object.extend({init:function(){this.OperationalCommunicationSelectList=[],this._super()}});
Komodo.Models.OperationalCommunicationTemplate=Ember.Object.extend({init:function(){this.TemplateUID=void 0,this.TemplateName=void 0,this.ApplicationName=void 0,this.Provider=void 0,this.BusinessUnit=void 0,this.Language=void 0,this.ChannelCategory=void 0,this.ChannelSubCategory=void 0,this.Country=void 0,this.TemplateBody=void 0,this.MessageUID=void 0,this.InteractionCategory=void 0,this.InteractionSubcategory=void 0,this.InteractionSuccessOutcome=void 0,this.InteractionFailureOutcome=void 0,this.InteractionType=void 0,this.InteractionStatus=void 0,this.ListOfOperationalCommunicationSelectList=Komodo.Models.ListOfOperationalCommunicationSelectList.create(),this.MediaOfCommunication=void 0,this.FileName=void 0,this.FilePrefix=void 0,this.FileLocation=void 0,this.Username=void 0,this.Password=void 0,this.NotificationToEmailGroup=void 0,this._super()}});
Komodo.Models.ListOfOperationalCommunicationTemplate=Ember.Object.extend({init:function(){this.OperationalCommunicationTemplate=[],this._super()}});
Komodo.Controls.DataGridCheckBox=Ember.Checkbox.extend(Komodo.Controls.DataGridControl,{classNames:["input-table"],controlPrefix:"chk",checkedBinding:"parentView.value",focusOut:function(){var o=this._super,e=this;Ember.run.later(function(){o.call(e)},100)}});
Komodo.Controls.ViewLocalization=Ember.Mixin.create({getLocalizedValue:function(e){if("string"===Ember.typeOf(e)&&"~"==e.charAt(0)&&"~"==e.charAt(e.length-1)&&e.length>2){var r=e.substr(1,e.length-2);return kl.value(r)}return e},_localizedPropertyChanged:function(e,r){var t=e.get(r),i=this.getLocalizedValue(t);t!==i&&e.set(r,i)},registerLocalizedProperties:function(e){this.set("_localizedProperties",e);var r=this;e.forEach(function(e){r.addObserver(e,r,r._localizedPropertyChanged),r._localizedPropertyChanged(r,e)})},willDestroyElement:function(){var e=this,r=this.get("_localizedProperties");r&&r.forEach(function(r){e.removeObserver(r,e,e._localizedPropertyChanged)}),this._super()}});
Komodo.Models.Context=Ember.Object.extend({init:function(){this.Value=void 0,this.ContextValueUri=void 0,this._super()}});
Komodo.Models.RDCheque=Ember.Object.extend({init:function(){this.Status=void 0,this.StatusReason=void 0,this.DisabledFrom=void 0,this.DisabledTo=void 0,this._super()}});
Komodo.Application.RecentCustomersRoute=Ember.Route.extend(Komodo.Dependency,{init:function(){this._super()},show:function(){$("#komodo-recent-customers-container").slideDown();var e=Komodo.Services.uiService.getController("recentCustomersList");e&&(this.render("recentCustomersList",{into:"recentCustomers",outlet:"customerList"}),Ember.run.next(this,function(){e.start()}))}});
Komodo.Models.DeviceStatus=Ember.Object.extend({init:function(){this.SerialNumber=void 0,this.ReasonID=void 0,this._super()}});
Komodo.Application.BusyIndicatorBlockingView=Komodo.UI.View.extend({templateName:"BusyIndicatorBlockingView",tagName:"div",classNames:["komodo-busy"]});
Komodo.Services.ThemeSwitcherService=Ember.Object.extend(Komodo.Dependency,{theme:void 0,init:function(){this._super(),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.getEventAggregator().subscribe(Komodo.EventNames.themeChanged,this,this.applyThemeChanges)},getCacheRepository:function(){return this.get("_cacheRepository")},getEventAggregator:function(){return this.get("_eventAggregator")},getSecurityService:function(){return this.get("_securityService")},setSavedTheme:function(e){var t=this;e&&this.getCacheRepository().fetch(e.substring(e.lastIndexOf("\\")+1)+"."+Komodo.CacheKeys.savedTheme).done(function(e){t.set("theme",e.data)}),this.getSecurityService().get("domainUserName")&&this.getCacheRepository().fetch(this.getSecurityService().get("domainUserName").substring(this.getSecurityService().get("domainUserName").lastIndexOf("\\")+1)+"."+Komodo.CacheKeys.savedTheme).done(function(e){t.set("theme",e.data)}),this.applyThemeChanges(this.get("theme"))},applyThemeChanges:function(e){e?(document.getElementById("theme").href="Content/komodo-"+e+".css",this.set("theme",e),this.getSecurityService().get("domainUserName")&&this.getCacheRepository().save(this.getSecurityService().get("domainUserName").substring(this.getSecurityService().get("domainUserName").lastIndexOf("\\")+1)+"."+Komodo.CacheKeys.savedTheme,e)):document.getElementById("theme").href="Content/komodo-default.css"},themeChangeObserver:function(){this.applyThemeChanges(this.get("theme"))}.observes("theme")}),Komodo.Services.themeSwitcherService=Komodo.Services.ThemeSwitcherService.create();
Komodo.Models.QueryItem=Ember.Object.extend({init:function(){this.Name=void 0,this.Language=void 0,this.QueryItemKey=void 0,this.QueryItemValue=void 0,this._super()}});
Komodo.Controls.TypeSupport=Ember.Mixin.create({typeName:null,classNameBindings:"typeClass",type:null,typeClass:Ember.computed(function(){var e=this.get("type"),t=this.get("typeName");return e?t+"-"+e:null}).property("type").cacheable()});
Komodo.Controls.ItemSelectionSupport=Ember.Mixin.create({selectionPath:"parentView.selection",valuePath:"parentView.value",selectedItemValuePath:"content",_setValue:function(){this.get("valuePath")&&Ember.set(this,this.get("valuePath"),this.get("selectedItemValuePath")?this.get(this.get("selectedItemValuePath")):this.get("content"))},_setSelection:function(){this.get("selectionPath")&&Ember.set(this,this.get("selectionPath"),this.get("content"))},click:function(t){this.get("disabled")||(this._setValue(),this._setSelection(),null!==t&&void 0!==t&&t.stopPropagation())}});
Komodo.Models.ProductFeature=Ember.Object.extend({init:function(){this.Value=void 0,this.Description=void 0,this._super()}});
Komodo.Models.RetrieveServicesForUpgradeDowngrade=Ember.Object.extend({init:function(){this.Country=void 0,this.ServiceUID=void 0,this._super()}});
Komodo.Models.ActivatePaymentPlanProduct=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerNumber=void 0,this.CreditApplicationId=void 0,this.DeviceSerialNumber=Komodo.Models.DeviceSerialNumber.create(),this.FinancialAccountNumber=void 0,this.PaymentPlanProductName=void 0,this._super()}}),Komodo.Models.DeviceSerialNumber=Ember.Object.extend({init:function(){this.DecoderSerialNumber=void 0,this.SmartCardSerialNumber=void 0,this._super()}});
Komodo.Models.SaveCampaignReply=Ember.Object.extend({init:function(){this.refNo=void 0,this.campaignName=void 0,this.campaignType=void 0,this.cType=void 0,this.excutionDate=void 0,this.status=void 0,this.response=void 0,this.desc=void 0,this.campaignId=void 0,this.Version=void 0,this.DistributionMedium=void 0,this.Country=void 0,this.CustomerUID=void 0,this.CampaignUID=void 0,this.CampaignReply=void 0,this._super()}});
Komodo.Models.ListOfSecondaryCustomer=Ember.Object.extend({init:function(){this.SecondaryCustomer=[],this._super()}});
Komodo.Models.SaveCustomerRelationships=Ember.Object.extend({init:function(){this.Country=void 0,this.PrimaryCustomerUID=void 0,this.ListOfSecondaryCustomer=Komodo.Models.ListOfSecondaryCustomer.create(),this._super()}});
Komodo.Controls.FieldView=Ember.Mixin.create({attributeBindings:["tabindex","disabled","id"],disabledBinding:"parentView.disabled",tabindexBinding:"parentView.tabindex",disableBinding:"parentView.disabled",securityHandledByParentControl:!0});
Komodo.Models.Document=Ember.Object.extend({init:function(){this.FileType=void 0,this.DocumentURL=void 0,this.ListOfDocumentMetaData=void 0,this._super()}});
Komodo.Models.SaveDocument=Ember.Object.extend({init:function(){this.ListOfDocument=void 0,this.Country=void 0,this._super()}});
Komodo.Models.SendDCCClaim=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.CaseUID=void 0,this.CommunicationType=void 0,this.Email=Komodo.Models.Email.create(),this.DispatchBranch=void 0,this._super()}});
Komodo.Models.SendOutboundNotification=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfOutboundNotification=[],this._super()}});
Komodo.Models.SendQuotation=Ember.Object.extend({init:function(){this.Country=void 0,this.QuotationUID=void 0,this.CommunicationType=void 0,this.CommunicationLanguage=void 0,this.CommunicationValue=void 0,this._super()}});
Komodo.Models.ServiceChanged=Ember.Object.extend({init:function(){this.Country=void 0,this.Hardware=Komodo.Models.Hardware.create(),this.ScheduleDate=void 0,this._super()}});
Komodo.Models.Recipient=Ember.Object.extend({init:function(){this.CommunicationType=void 0,this.Language=void 0,this.MessageUID=void 0,this.From=void 0,this.To=void 0,this.ScheduledDate=void 0,this.ExpiryDate=void 0,this.ListOfContext=void 0,this._super()}});
Komodo.Models.UpgradeDowngradeService=Ember.Object.extend({init:function(){this.ServiceUID=void 0,this.IsUpgrade=void 0,this._super()}});
Komodo.Models.AgreementUpdated=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.AccountUID=void 0,this.Agreement=Komodo.Models.Agreement.create(),this._super()}});
Komodo.UI.SearchProcessResponseService=Ember.Object.extend({_views:void 0,init:function(){this._super(),this.set("_views",Ember.A())},registerEventView:function(e,o,t){if(Komodo.guard.againstUndefined(e,"viewClass"),Komodo.guard.againstUndefined(o,"eventName"),t&&"object"!=Ember.typeOf(t))throw new Error("The 'options' argument must be an object.");t=t||{},this.get("_views").addObject({viewClass:e,eventName:o,options:t})},findEventView:function(e,o){Komodo.guard.againstUndefined(e,"eventName"),Komodo.guard.againstUndefined(o,"eventVersion");var t,n=e.toLowerCase(),s=o.toLowerCase();return this.get("_views").forEach(function(e){t||n==e.eventName.toLowerCase()&&(s==e.options.eventVersion?e.options.eventVersion.toLowerCase():"")&&(t=e)}),t||this.get("_views").forEach(function(e){t||n==e.eventName.toLowerCase()&&(t=e)}),t}}),Komodo.UI.searchProcessResponseService=Komodo.UI.SearchProcessResponseService.create();
Komodo.canonicalFacadeFactory=function(e,o){if(arguments.length<2)throw new Error("Komodo.canonicalFacadeFactory requires 2 arguments.");var r={},n=new Komodo.ObjectTreeFacade(e);return o.forEach(function(e){r[e]=function(o,r){return 1===arguments.length?n.get(e):(n.set(e,r),r)}.property()}),Ember.Object.extend(r).create()};
Komodo.Models.TemplateParameter=Ember.Object.extend({init:function(){this.Name=void 0,this.Value=void 0,this._super()}});
Komodo.Models.Agent=Ember.Object.extend({init:function(){this.DealerType=void 0,this.IsCreditLimitEnabled=void 0,this.IsCommissionable=void 0,this.CreditLimit=[],this.DStvCommissionRate=void 0,this.GoTvCommissionRate=void 0,this._super()}});
Komodo.Models.UpdateAgentDetail=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.AgentDetail=Komodo.Models.Agent.create(),this.AccountUID=void 0,this._super()}});
Komodo.Models.UpdateAgreement=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.AccountUID=void 0,this.Agreement=Komodo.Models.Agreement.create(),this._super()}});
Komodo.Repositories.cachedDataRepository=KomodoConfiguration.overrideEmber?new Infrastructure.Core.Repository("CachedData",new Infrastructure.Core.Logger):Komodo.Repositories.Repository.extend({name:"CachedData"}).create();
Komodo.Repositories.cachedDataStorageRepository=KomodoConfiguration.overrideEmber?new Infrastructure.Core.Repository("CachedDataStorage",new Infrastructure.Core.Logger):Komodo.Repositories.Repository.extend({name:"CachedDataStorage"}).create();
Komodo.Services.CachedDataService=Ember.Object.extend(Komodo.Dependency,{_cachedMetaData:Ember.A(),_selectedCountry:void 0,init:function(){this._super(),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_cachedDataRepository",{singleton:Komodo.Repositories.cachedDataRepository}),this.requiresDependency("_cachedDataStorageRepository",{singleton:Komodo.Repositories.cachedDataStorageRepository}),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_communicationService",{singleton:Komodo.Services.communicationService}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_offlineService",{singleton:Komodo.Services.offlineService}),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._updateCachedDataMeta),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._updateLoggedInCachedDataMeta),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedOut,this,this._resetCountryId),this.getEventAggregator().subscribe(Komodo.EventNames.cachedDataVersionChanged,this,this._versionChanged)},getCachedDataRepository:function(){return this.get("_cachedDataRepository")},getCachedDataStorageRepository:function(){return this.get("_cachedDataStorageRepository")},getCacheRepository:function(){return this.get("_cacheRepository")},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getLocalizationService:function(){return this.get("_localizationService")},getCommunicationService:function(){return this.get("_communicationService")},getSystemService:function(){return this.get("_systemService")},getEventAggregator:function(){return this.get("_eventAggregator")},getOfflineService:function(){return this.get("_offlineService")},_versionChanged:function(e){var t=this,o=$.Deferred(),a=!1,r=e.Payload;return this.getCachedDataRepository().fetchAll().done(function(e){e.forEach(function(e){e.data.cacheKey===r.cacheKey&&e.data.versionNumber!==r.versionNumber&&(a=!0,e.data.versionNumber=r.versionNumber,t.getCachedDataRepository().save(r.cacheKey,r).done(function(e){t.getCachedDataStorageRepository().remove(r.cacheKey).then(function(){o.resolve(e)})}).fail(function(e){o.reject(e)}))}),a||o.resolve()}).fail(function(e){o.reject(e)}),o},_getCacheDataMeta:function(){var e=this;Komodo.Services.log("CachedDataService._getCacheDataMeta()");var t=$.Deferred();return e.getCommunicationService().getResource("cacheddata",{async:!1}).done(function(o){e.set("_cachedMetaData",o),t.resolve(o)}).fail(function(e,o,a){t.reject(a)}),t},_fetchCacheList:function(e,t){var o=this,a="",r=$.Deferred();e.forEach(function(e){o.getCachedDataRepository().contains(e.cacheKey).done(function(t){t&&o.getCachedDataRepository().fetch(e.cacheKey).done(function(t){e.versionNumber!==t.data.versionNumber&&o.getCachedDataStorageRepository().remove(e.cacheKey)}).fail(function(t){a="CachedDataService._updateCachedDataMeta: failed to fetch current item: cacheKey = '"+e.cacheKey+" / versionNumber = '"+e.versionNumber+"' / error = '"+t+"'",Komodo.Services.error(a),r.reject(a)})}).fail(function(t){a="CachedDataService._updateCachedDataMeta: failed to check existence: cacheKey = '"+e.cacheKey+" / versionNumber = '"+e.versionNumber+"' / error = '"+t+"'",Komodo.Services.error(a),r.reject(a)})}),e.forEach(function(e){o.getCachedDataRepository().save(e.cacheKey,e).done(function(o){t(o),Komodo.Services.log("CachedDataService._updateCachedDataMeta: updated: cacheKey = '"+e.cacheKey+" / versionNumber = '"+e.versionNumber+"'")}).fail(function(t){a="CachedDataService._updateCachedDataMeta: failed: cacheKey = '"+e.cacheKey+" / versionNumber = '"+e.versionNumber+"' / error = '"+t+"'",Komodo.Services.error(a),r.reject(a)})})},_updateCachedDataMeta:function(){var e=this,t="",o=$.Deferred(),a=Ember.A();if(Komodo.Services.log("CachedDataService._updateCachedDataMeta"),this.getOfflineService().workingOffline())return o.resolve(a),o;var r=0,i=0,c=function(e){a.pushObject(e),(i+=1)===r&&(Komodo.Services.log("CachedDataService._updateCachedDataMeta: complete"),o.resolve(a))};return this._getCacheDataMeta().done(function(t){var o=t.cachedItems.filter(function(e){return e.domain.toLowerCase().match("global")});t.cachedItems.filter(function(e){return e.qualifier.toLowerCase().match("global")}).forEach(function(e){o.push(e)}),t.cachedItems.filter(function(e){return e.datasetName.toLowerCase().match("routedocumentationlink")}).forEach(function(e){o.push(e)}),r=o.length,e._fetchCacheList(o,c)}).fail(function(e){t="CachedDataService._updateCachedDataMeta: failed: error = '"+e+"'",Komodo.Services.error(t),o.reject(t)}),o},_updateLoggedInCachedDataMeta:function(){var e,t=this,o=$.Deferred(),a=Ember.A();Komodo.Services.log("CachedDataService._updateLoggedInCachedDataMeta");var r=0,i=0,c=function(e){a.pushObject(e),(i+=1)===r&&(Komodo.Services.log("CachedDataService._updateLoggedInCachedDataMeta: complete"),o.resolve(a))},n=this.get("_cachedMetaData");if(0!==n.length){var s=n.cachedItems,d="";Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(e){d=e.data.countryId}),d&&(s=n.cachedItems.filter(function(e){return e.domain.match(d)})),r=s.length,t._fetchCacheList(s,c)}else e="CachedDataService._updateCachedDataMeta: failed: error = cachedMetaData is empty '",Komodo.Services.error(e),o.reject(e);return o},_resetCountryId:function(){this.set("_countryId",void 0)},fetch:function(e,t){var o=this,a=t||{},r=$.Deferred(),i=a.qualifier?a.qualifier:this.getLocalizationService().getCurrentLanguage(),c=a.domain?a.domain:o.get("_countryId");return c?o.getFileData(c,i,e,r):o.getCacheRepository().fetch("selectedCountry").done(function(t){o.set("_countryId",t.data.countryId),o.getFileData(t.data.countryId,i,e,r)}),r},getFileData:function(e,t,o,a){var r=this,i=(e+"."+t+"."+o).toLowerCase();return r.getCachedDataRepository().fetch(i).done(function(i){r.fallbackLanguageHandler(e,t,i.data.versionNumber,o,a)}).fail(function(){return r.fallbackLanguageHandler(e,t,"-1",o,a)}),a},fallbackLanguageHandler:function(e,t,o,a,r){var i=this,c=this.getKomodoConfiguration().fallbackLanguage,n=r;return i.getSystemService().get("isMobile")?(i.serverCall(e,t,o,a).done(function(e){n.resolve(e)}).fail(function(e,t,o){n.reject("[CachedDataService.fetch.fallbackLanguageHandler - failed] : key = '"+a+"' / error = '"+o+"'")}),n):(i.localCall(e,t,o,a).done(function(e){n.resolve(e)}).fail(function(t){Komodo.Services.error("CachedDataService.fetch: failed: key = '"+(e+"."+c+"."+a).toLowerCase()+"' / error = '"+t+"'"),n.reject(t)}),n)},serverCall:function(e,t,o,a){var r=this,i=$.Deferred();return Komodo.Services.log("CachedDataService.fetch.serverCall: key = '"+a+"''"),r.getCommunicationService().getResource("cachedData/"+a+"?domain="+e+"&qualifier="+t+"&version="+o,{beforeSend:function(e){e.setRequestHeader("Accept","application/json")}}).done(function(e){i.resolve(e.data)}).fail(function(e,t,o){i.reject("[CachedDataService.fetch.serverCall - failed] : key = '"+a+"' / error = '"+o+"'")}),i},localCall:function(e,t,o,a){var r=this,i=$.Deferred(),c=(e+"."+t+"."+a).toLowerCase();return Komodo.Services.log("CachedDataService.fetch.localCall: key = '"+a+"''"),r.getCachedDataStorageRepository().fetch(c).done(function(e){i.resolve(e.data)}).fail(function(n){Komodo.Services.log("[CachedDataService.fetch.localCall - failed] : key = '"+a+"' / error = '"+n+"'"),r.serverCall(e,t,o,a).done(function(e){r.getCachedDataStorageRepository().save(c,e).then(function(){i.resolve(e)})}).fail(function(e,t,o){i.reject("[CachedDataService.fetch.serverCall - failed] : key = '"+a+"' / error = '"+o+"'")})}),i},fetchArray:function(e,t,o){var a=$.Deferred();return Komodo.guard.againstUndefined(e,"array"),this.fetch(t,o).done(function(t){e.clear(),$.each(t,function(t,o){e.addObject(o)}),a.resolve(t)}).fail(function(e){a.reject(e)}),a},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.applicationInitialized,this,this._updateCachedDataMeta),this.getEventAggregator().unsubscribe(Komodo.EventNames.cachedDataVersionChanged,this,this._versionChanged),this.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedOut,this,this._resetCountryId)}}),Komodo.Services.cachedDataService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.CachedDataService(KomodoConfiguration,Komodo.Repositories.cachedDataRepository,Komodo.Repositories.cacheRepository,Komodo.Repositories.cachedDataStorageRepository,Komodo.Services.localizationService,Komodo.Services.communicationService,Komodo.Services.systemService,Komodo.Services.eventAggregator,Komodo.Services.offlineService,Komodo.EventNames,Komodo.CacheKeys,new Infrastructure.Core.Logger):Komodo.Services.CachedDataService.create();
function GetClarityConstants(e,o){var t="";return Komodo.Services.cachedDataService.fetch(e,{domain:Komodo.Services.queryService.getSelectedCountryId(),qualifier:"global"}).done(function(e){e.forEach(function(e){e.key.toLowerCase()==o.toLowerCase()&&(t=e.value.split(","))})}).fail(function(){Komodo.log("[ERROR] : failed to retrieve data for"+e)}),t}
Komodo.Models.UpdateCase=Ember.Object.extend({init:function(){this.Country=void 0,this.Case=Komodo.Models.Case.create(),this._super()}});
Komodo.Models.UpdateCustomerProfileThreshold=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this._super()}});
Komodo.Models.UpdateFinancialAccountStatus=Ember.Object.extend({init:function(){this.Country=void 0,this.AccountUID=void 0,this.Status=void 0,this._super()}});
Komodo.Models.ChangeOperationalCommunicationStatus=Ember.Object.extend({init:function(){this.Country=void 0,this.MessageUID=void 0,this.Status=void 0,this.StatusReason=void 0,this.RejectionReason=void 0,this._super()}});
Komodo.Models.ValidateMultipleHardwarePairings=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfHardwarePairings=[],this._super()}});
Komodo.Application.SearchProcessResponseItemController=Ember.ObjectController.extend(Komodo.Dependency,{content:void 0,visible:!1,init:function(){this._super(),this.requiresDependency("_searchProcessResponseService")},getSearchProcessResponseService:function(){return this.get("_searchProcessResponseService")},hasResponseMessageObject:function(){return"object"==Ember.typeOf(this.get("content"))}.property("content"),buildTreeView:function(){var e=this.get("content"),t=function(e){var s,n="<ul class='expanded'>";for(s in e)"object"==Ember.typeOf(e[s])?n+=t(e[s]):"array"==Ember.typeOf(e[s])?e[s].forEach(function(e){n+=t(e)}):n+="<li><span class='search-result-name'>"+s+"</span> : <span class='search-result-value'>"+e[s]+"</span></li>";return n+"</ul>"};return this.get("hasResponseMessageObject")?t(e):e}.property("content"),viewClass:function(){var e,t,s;try{if(e=this.get("content.EventName"),t=this.get("content.EventMetaData.Event.Version"),e&&(s=this.getSearchProcessResponseService().findEventView(e,t)))return s.viewClass}catch(e){return}}.property("content"),actions:{toggleVisibility:function(){this.set("visible",!this.get("visible"))}}});
Komodo.Models.ClearMultipleDevicesErrorCode=Ember.Object.extend({init:function(){this.Country=void 0,this.AgreementUID=void 0,this.ListOfSerialNumber=[],this.ErrorReasonCode=0,this._super()}});
Komodo.Application.NavigationGroupView=Komodo.UI.View.extend({templateName:"NavigationGroupView",isActive:function(){var e=Komodo.Services.navigationService.get("activeGroup");return!(!this.content||!e||this.content.groupName!=e)}.property("Komodo.Services.navigationService.activeGroup"),isActiveItem:function(){return Komodo.Application.currentRouteName===this.get("content.routeName")}.property("Komodo.Application.currentRouteName","content.routeName")});
Komodo.Controls.KomodoButton=Ember.Mixin.create(Komodo.Controls.KomodoAction,Komodo.Controls.TypeSupport,Komodo.Controls.Control,{tagName:"button",classNames:["btn","btn-sm","btn-primary"],classNameBindings:["typeClass","sizeClass","disabled","visible"],content:null,typeClass:Ember.computed(function(){var o=this.get("type");return o?"btn-"+o:null}).property("type").cacheable(),sizeClass:Ember.computed(function(){var o=this.get("size");return o?"btn-"+o:null}).property("size").cacheable()});
Komodo.Controls.Button=Ember.View.extend(Komodo.Controls.KomodoButton,Komodo.Controls.Control,{isDirtyAware:!1,isValidAware:!1,attributeBindings:["tabindex","disabled","visible"],content:null,init:function(){this._super(),Komodo.Services.uiService.generateElementId(this)},disabled:function(){var i=!0,t=!0,e=this.get("context");return this.get("isDirtyAware")&&void 0!==e&&e&&(i=e.get("isModelDirty")),this.get("isValidAware")&&void 0!==e&&e&&(t=e.get("isModelValid")),this._isDisabled()||!i||!t}.property("_isRestricted","disable","context.isModelDirty","context.isModelValid")});
Komodo.Controls.LogoutButton=Ember.View.extend(Komodo.Controls.KomodoButton,{_isAuthenticated:void 0,init:function(){var t=this;Komodo.Services.securityService.addObserver("isAuthenticated",this,function(e){t.get("isDestroyed")||t.get("isDestroying")||t.set("_isAuthenticated",e)})},attributeBindings:["disabled","visible"],disabled:function(){return!Komodo.Services.securityService.get("isAuthenticated")}.property("_isAuthenticated")});
Komodo.Controls.CoreTextArea=Ember.TextArea.extend(Komodo.Controls.Control,{rows:4,classNameBindings:["validatorChanged"],attributeBindings:["tabindex","disabled","visible"],init:function(){this._super(),Komodo.Services.uiService.generateElementId(this)},validatorChanged:function(){var e=this.get("validator")?this.get("validator"):this.get("parentView.validator");if(e&&e.get("errors").length>0&&e.get("errors")[0].length>0)return"komodo-textfield-invalid"}.property("validator.errors.@each","parentView.validator.errors.@each")});
Komodo.Controls.CoreDatePicker=Ember.View.extend(Komodo.Dependency,{tagName:"span",templateName:"CoreDatePickerView",identifyAs:"date",attributeBindings:["tabindex","disabled","visible","disable","placeholder"],options:{minDate:void 0,maxDate:void 0},propertyReference:void 0,init:function(){this._super(),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService}),Komodo.Services.uiService.generateElementId(this),this.valueChanged(),this.setPlaceholder()},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getSystemService:function(){return this.get("_systemService")},_textFieldId:function(){return this.get("elementId")+"-value"}.property("elementId"),setPlaceholder:function(){this.placeholderVal=kl.value("locale.datepickerControl:placeholder")},placeholderVal:"",valueDisplay:"",valueChanged:function(){var e,t,i=this.get("value");0==Komodo.UI.Validators.DatePickerValidator({me:i},void 0,{}).length?i?("[object Date]"!=Object.prototype.toString.call(i)&&(t=i.split("/"),i=new Date(Date.UTC(t[2],t[1]-1,t[0])),this.set("value",i),this._getDatePicker().setDate(i),Komodo.Controls.debug("CoreDatePicker.valueChanged: date value:["+i.toString()+"]")),e=moment(i).format(this.getKomodoConfiguration().dateFormat)):e="":e=i,this.set("valueDisplay",e)}.observes("value"),valueDisplayChanged:function(){this.set("value",this.get("valueDisplay")),Komodo.Controls.debug("CoreDatePicker.valueDisplayChanged: string value:["+this.get("valueDisplay")+"]")}.observes("valueDisplay"),_getDatePicker:function(){return $("#"+this.get("elementId")).data("datepicker")},didInsertElement:function(){var e,t=this,i=this.get("parentView.validator")||this.get("parentView.content.validator"),a=$("#"+this.get("elementId")),o=$("#"+this.get("_textFieldId"));i&&this.set("options",i.options),e=this.get("options"),this._super(),a.datepicker.defaults.format=this.getKomodoConfiguration().dateFormat.toLowerCase(),t.getSystemService().get("isMobile")&&(o.attr("readonly","readonly"),o.blur()),a.datepicker({disableTouchKeyboard:!0,showOnFocus:!1,format:KomodoConfiguration.dateFormat.toLowerCase(),language:kl.getCurrentLanguage(),startDate:e.minDate,endDate:e.maxDate,autoclose:!1,forceParse:!0,keyboardNavigation:!1}).on("changeDate",function(e){a.data("datepicker").hide(),e.date&&t.set("value",e.date)}).on("show",function(){if(o.focus(),t.get("disabled"))a.data("datepicker").hide();else if(t.isDestroyed)return})},_minDateChanged:function(){if(!this._getDatePicker())return void Ember.run.scheduleOnce("afterRender",this,this._setMinDate);this._setMinDate()}.observes("options.minDate"),_maxDateChanged:function(){if(!this._getDatePicker())return void Ember.run.scheduleOnce("afterRender",this,this._setMaxDate);this._setMaxDate()}.observes("options.maxDate"),_setMinDate:function(){this._getDatePicker().setStartDate(this.get("options.minDate"))},_setMaxDate:function(){this._getDatePicker().setEndDate(this.get("options.maxDate"))},willDestroyElement:function(){var e=this._getDatePicker();e&&(e.element.removeData("datepicker"),e.picker.remove()),this._super()},validationFailed:function(){var e=this.get("validator")?this.get("validator"):this.get("parentView.validator");return e&&e.get("errors").length>0&&e.get("errors")[0].length>0?"komodo-textfield-invalid":""}.property("validator.errors.@each","parentView.validator.errors.@each")});
Komodo.Controls.DataGridDatePicker=Komodo.Controls.CoreDatePicker.extend(Komodo.Controls.DataGridControl,{classNames:["input-table","komodo-grid-edit"],controlPrefix:"dtp"});
Komodo.Controls.DataGridLabel=Ember.View.extend(Komodo.Controls.DataGridControl,{init:function(){this._super(),this.set("elementId",this._resolveDataGridElementId()+"-"+this._resolveDataGridControlElementId()+"-label-"+this.get("parentView.parentView.contentIndex"))},tagName:"label",classNames:["komodo-label"],templateName:"DataGridLabel",contentBinding:"columnContext"});
Komodo.Controls.Link=Ember.View.extend(Komodo.Controls.KomodoAction,Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{classNames:["ember-link"],templateName:"LinkView",tagName:"a",href:void 0,attributeBindings:["href","target","rel","tabindex","action","visible"],init:function(){this._super(),this.registerLocalizedProperties(["text"]),Komodo.Services.uiService.generateElementId(this)}});
Komodo.Controls.DataGridLink=Komodo.Controls.Link.extend(Komodo.Controls.DataGridControl,{classNames:["input-table"],controlPrefix:"lnk",hrefBinding:"columnContext.href",textBinding:"columnContext.text",targetBinding:"columnContext.target"});
Komodo.Controls.CoreSelect=Ember.Select.extend(Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{attributeBindings:["size","tabindex","disabled","visible"],classNameBindings:["validatorChanged"],multiple:!1,init:function(){this._super(),this.registerLocalizedProperties(["prompt"]),Komodo.Services.uiService.generateElementId(this)},validatorChanged:function(){var e=this.get("validator")?this.get("validator"):this.get("parentView.validator");if(e&&e.get("errors").length>0&&e.get("errors")[0].length>0)return"komodo-textfield-invalid"}.property("validator.errors.@each","parentView.validator.errors.@each")});
Komodo.Controls.DataGridSelect=Komodo.Controls.CoreSelect.extend(Komodo.Controls.DataGridControl,{classNames:["input-table","komodo-grid-edit"],controlPrefix:"drpd",contentBinding:"columnContext.content",optionValuePathBinding:"columnContext.optionValuePath",optionLabelPathBinding:"columnContext.optionLabelPath"});
Komodo.Controls.DataGridControlFactory=function(){this.create=function(o,a,t){var e;if(void 0!==o&&null!==o)switch(o.toLowerCase()){case"link":e=new Komodo.Controls.DataGridLinkDisplayStrategy(t);break;case"command":e=new Komodo.Controls.DataGridButtonDisplayStrategy(t);break;case"datepicker":e=new Komodo.Controls.DataGridDatePickerDisplayStrategy(t);break;case"checkbox":e=new Komodo.Controls.DataGridCheckBoxDisplayStrategy(t);break;case"textbox":e=new Komodo.Controls.DataGridTextFieldDisplayStrategy(t);break;case"select":e=new Komodo.Controls.DataGridSelectDisplayStrategy(t);break;case"radiobutton":e=new Komodo.Controls.DataGridRadioButtonDisplayStrategy(t)}else if(void 0!==a&&null!==a)switch(a.toLowerCase()){case"string":e=new Komodo.Controls.DataGridTextFieldDisplayStrategy(t);break;case"bool":case"boolean":e=new Komodo.Controls.DataGridCheckBoxDisplayStrategy(t);break;case"date":e=new Komodo.Controls.DataGridDatePickerDisplayStrategy(t)}return e||(e=new Komodo.Controls.DataGridTextFieldDisplayStrategy(t)),e}};
Komodo.Controls.DataGridButton=Ember.View.extend(Komodo.Dependency,Komodo.Controls.KomodoButton,Komodo.Controls.DataGridControl,{classNames:["btn, btn-xs"],attributeBindings:["href"],templateName:"DataGridLabel",controlPrefix:"btn",actionBinding:"columnContext.action",contentBinding:"columnContext",init:function(){"link"==this.columnContext.type.toLowerCase()&&(this.set("tagName","a"),this.set("href",void 0),this.set("classNames",["ember-link"])),this._super(),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService})},getUIService:function(){return this.get("_uiService")},didInsertElement:function(){var t=this;"link"==this.columnContext.type.toLowerCase()&&this.$().on({click:function(e){t.click(e)}})},click:function(t){var e=this.get("parentView.parentView.parentView.parentView"),n=this.getUIService().findKomodoView(this),o=this.get("parentView.parentView.parentView.content"),i=t.target.parentElement.parentElement.parentElement.rowIndex;n&&!0===n.get("isKomodoView")?this.set("target",n.get("controller")):this.set("target",Komodo.Application.Router.router.get("currentState")),Ember.run(function(){e.set("commandItemType","select"),e.set("commandItem",o[i-1])}),this._super(t)}});
Komodo.Controls.DataGridCell=Ember.View.extend({_isEditing:!1,_controlStrategy:void 0,validator:void 0,templateName:"DataGridCellView",_hasValidationError:function(){return this.get("error")&&this.get("error").length>0}.property("error.@each"),isNotEditing:function(){return!this.get("parentView._isEditing")&&!this.get("_isEditing")}.property("parentView._isEditing","_isEditing"),isLabelVisible:function(){return(this.get("isNotEditing")||!this.get("canEdit"))&&!this.content.isAlwaysEditing}.property("canEdit","isNotEditing","_isEditing","content.isAlwaysEditing"),isEditableControlVisible:function(){return this.notifyPropertyChange("value"),this.get("canEdit")&&!this.get("isNotEditing")||this.content.isAlwaysEditing}.property("canEdit","isNotEditing","_isEditing","content.isAlwaysEditing"),canEdit:function(){return this.content.canEdit&&this.get("parentView.parentView.canEdit")&&"custom"!==this.get("parentView.parentView.editMode").toLowerCase()}.property("content.canEdit","parentView.parentView.canEdit","parentView.parentView.editMode"),makeEditable:function(){this.set("_isEditing",!0)},makeNotEditable:function(){this.set("_isEditing",!1)},init:function(){var t,e,i,n,o=this.get("parentView.parentView.performsValidation"),r=new Komodo.Controls.DataGridControlFactory;if(this.content.name&&(t="parentView.content."+this.content.name,i=Ember.Binding.from(t).to("value"),i.connect(this),o&&this.get("content.validator"))){var a=this.get("content.validator"),s=a.get("options")?a.get("options"):{};s.type=s.type?s.type:this.content.type,s.displayName=this.content.title,s.name=this.get("parentView.parentView").elementId+this.content.name+this.get("parentView.contentIndex");var d=a.get("properties")?a.get("properties"):[];d.push(this.content.name),a=Komodo.UI.Validators.Validator.create({model:this.get("parentView.content"),options:s,functions:a.get("functions"),properties:d}),this.get("controller").registerValidator(this.get("parentView.parentView.parentView.content"),this.get("parentView.contentIndex")+"."+this.content.name,s),a.validate(),this.set("validator",a),n=Ember.Binding.from("validator.errors").to("error"),n.connect(this)}e=this.content.type,this._controlStrategy=r.create(this.content.controlType,e,this),this.set("displayControl",this._controlStrategy.displayControl),this.set("editControl",this._controlStrategy.editControl),this.addObserver("content.content.@each",this,"contentChanged"),this._super()},willDestroy:function(){this.removeObserver("content.content.@each",this,"contentChanged"),this.get("validator")&&this.get("controller").deregisterValidator(this.get("parentView.parentView").elementId+this.content.name+this.get("parentView.contentIndex"))},displayContext:function(){return this._controlStrategy.getDisplayContext()}.property("value"),editContext:function(){return this._controlStrategy.getEditContext()}.property(),contentChanged:function(){var t=this.get("value");this.set("value",""),this.set("value",t)},displayValue:function(){return this.get("validator")&&this.get("validator").validate(this.content.name,this.get("value")),this._controlStrategy.getDisplayValue(this.get("value"))}.property("value"),editControl:void 0,displayControl:void 0});
Komodo.Controls.DataGridRow=Ember.View.extend(Komodo.Controls.ItemSelectionSupport,{attributeBindings:["data-identifier","data-content-index"],classNameBindings:["isActive:active"],isActive:Ember.computed(function(){return Ember.get(this,this.selectionPath)===this.get("content")}).property("parentView.selection"),templateName:"DataGridRowView",editButtonElementId:function(){return this.get("parentView.parentView.elementId")+"_edit_action_"+this.contentIndex}.property(),deleteButtonElementId:function(){return this.get("parentView.parentView.elementId")+"_delete_action_"+this.contentIndex}.property(),closeButtonElementId:function(){return this.get("parentView.parentView.elementId")+"_close_action_"+this.contentIndex}.property(),_isEditing:!1,isEditing:function(){return this._isEditing}.property("_isEditing"),isNotEditing:function(){return!this._isEditing}.property("_isEditing"),_hasClickableElementBeenClicked:function(t){return"td"==t.nodeName.toLowerCase()||"div"==t.nodeName.toLowerCase()||"label"==t.nodeName.toLowerCase()},click:function(t){this.get("parentView.canSelect")&&!this.get("parentView.disabled")&&this._hasClickableElementBeenClicked(t.target||t.srcElement)&&this._super()},hasDataIdentifier:function(){return void 0!=this.get("parentView.parentView.dataIdentifierItemPath")}.property(),dataIdentifier:function(){return this.get("hasDataIdentifier")?this.get("content."+this.get("parentView.parentView.dataIdentifierItemPath")):void 0}.property(),dataContentIndex:function(){return this.contentIndex}.property(),actions:{edit:function(){this.set("parentView.parentView.commandItemType","edit"),this.set("parentView.parentView.commandItem",this.content),"custom"!==this.get("parentView.editMode").toLowerCase()&&this.set("_isEditing",!0)},closeEdit:function(){this.set("parentView.parentView.commandItem",void 0),this.set("_isEditing",!1)},removeItem:function(){this.get("parentView.parentView").removeItem(this.content)}}});
Komodo.Controls.DataGridContent=Ember.CollectionView.extend({tagName:"tbody",contentBinding:"parentView.gridData",columnsBinding:"parentView.columns",canDisplayActionsBinding:"parentView.canDisplayActions",canDeleteBinding:"parentView.canDelete",canEditBinding:"parentView.canEdit",canEditFullLineBinding:"parentView.canEditFullLine",performsValidationBinding:"parentView.performsValidation",canSelectBinding:"parentView.canSelect",disabledBinding:"parentView.disabled",selectionBinding:"parentView.selectedItem",editModeBinding:"parentView.editMode",itemViewClass:Komodo.Controls.DataGridRow});
Komodo.Controls.DataGridPagerController=Ember.Object.extend({_allPages:void 0,currentPage:1,pageSizeBinding:"controlToPage.pageSize",visiblePageCountBinding:"controlToPage.visiblePageCount",firstText:void 0,nextText:void 0,previousText:void 0,lastText:void 0,pages:function(){var e,t,s,i,a,n=this._allPages,r=this.visiblePageCount,o=this.get("_numberOfPages");return r>0&&o>=r?(e=n.slice(0,2),t=Math.round(r/2),s=this.currentPage-t,s<0&&(s=0),i=2+s,a=r+s+2,a>o+2&&(a=o+2,i=o-r+2),e=e.concat(n.slice(i,a)),e=e.concat(n.slice(n.length-2,n.length))):e=this._allPages,e}.property(),contentLengthBinding:"controlToPage.contentLength",contentBinding:"controlToPage.content",controlToPage:void 0,init:function(){this._super(),this.nextText=kl.value("controls.pager.next"),this.firstText=kl.value("controls.pager.first"),this.previousText=kl.value("controls.pager.previous"),this.lastText=kl.value("controls.pager.last"),this.set("_allPages",[]),this._generatePages()},_generatePages:function(){var e,t=this.currentPage,s=this.get("_numberOfPages");if(t>s&&0!=s&&t--,this._allPages.clear(),this.get("pageSize")>0&&this.get("contentLength")){for(this._allPages.pushObject(Ember.Object.create({display:this.firstText,isActive:!1,isDisabled:!0})),this._allPages.pushObject(Ember.Object.create({display:this.previousText,isActive:!1,isDisabled:!0})),e=1;e<=s;e+=1)this._allPages.pushObject(Ember.Object.create({display:e,isActive:1===e,isDisabled:!1}));this._allPages.pushObject(Ember.Object.create({display:this.nextText,isActive:!1,isDisabled:1==s})),this._allPages.pushObject(Ember.Object.create({display:this.lastText,isActive:!1,isDisabled:1==s}))}t>1&&this.pageTo(t)},_numberOfPages:function(){var e=Math.ceil(this.get("contentLength")/this.get("pageSize"));return this.get("currentPage")>e&&1==e&&(this.set("currentPage",this.get("currentPage")-1),this.pageTo(this.get("currentPage"))),e}.property("contentLength","pageSize"),pageTo:function(e){var t=this._allPages,s=this.get("_numberOfPages");"string"==typeof e&&(e.toLowerCase()==this.firstText.toLowerCase()?e=1:e.toLowerCase()==this.previousText.toLowerCase()?e=this.currentPage-1:e.toLowerCase()==this.nextText.toLowerCase()?e=this.currentPage+1:e.toLowerCase()==this.lastText.toLowerCase()&&(e=s)),e>0&&e<=s&&(this.set("currentPage",e),this.notifyPropertyChange("pages"),t.forEach(function(t){t.set("isActive",t.display===e),t.set("isDisabled",!1)}),1==e&&(t[0].set("isDisabled",!0),t[1].set("isDisabled",!0)),e==s&&(t[t.length-1].set("isDisabled",!0),t[t.length-2].set("isDisabled",!0)))},_pageSizeChanged:function(){this._generatePages()}.observes("pageSize"),_contentLengthChanged:function(){this._generatePages()}.observes("contentLength"),_contentChanged:function(){this._generatePages()}.observes("content"),getPagedContent:function(e){if(e){var t=(this.currentPage-1)*this.pageSize,s=this.currentPage*this.pageSize;return e.slice(t,s)}return null},canPagePrevious:function(){return this.currentPage>1}.property("currentPage"),canPageNext:function(){return this.currentPage<this.get("_numberOfPages")}.property("currentPage"),_resetPageNumber:function(){this.pageTo(1)}.observes("content")});
Komodo.Controls.FormView=Ember.View.extend(Ember.ViewTargetActionSupport,Komodo.Controls.Control,{tagName:"span",disabled:!1,didInsertElement:function(){this.$().attr({tabindex:1}),this.$().focus()},keyPress:function(t){if(!this.get("disabled")&&13==t.keyCode){if(!this.get("target")){var e=this.get("context");e&&this.set("target",e)}this.triggerAction.apply(this)}}});
Komodo.Controls.SplitButtonLinkView=Ember.CollectionView.extend({tagName:"ul",classNames:["dropdown-menu"],itemViewClass:Ember.View.extend(Ember.TargetActionSupport,{init:function(){var t;this._super(),t=this.get("content.elementId"),t?this.set("elementId",t):Komodo.Services.uiService.generateElementId(this)},actionBinding:"content.action",titleBinding:"content.title",templateName:"SplitButtonViewLinkView",actions:{performAction:function(){if(!this.get("target")){var t=this.get("context");t&&this.set("target",t)}if(this.triggerAction.apply(this),!1===this.bubbles)return!1}}})});
Komodo.Application.BusyIndicatorView=Komodo.UI.View.extend({templateName:"BusyIndicatorView",tagName:"div",classNames:["komodo-busy","komodo-nonblocking"]});
Komodo.Services.busyService=Ember.Object.extend(function(){var o,e=[],i=!1,n=Komodo.Application.BusyIndicatorBlockingView,t=function(){Komodo.Services.uiService.getRoute("application").disconnectOutlet({outlet:"busy",parentView:"application"}),i=!1},c=function(i){e.removeObject(i),i.blocking&&void 0!=o?o.close():t();var n=e.find(function(o){return!0===o.isBlocking});void 0!==n&&null!==n?r(n):e.length>0&&r(e[0])},r=function(e){var r={title:e.busyType},u=!1;if(e.blocking)void 0!==o&&null!==o||(o=Komodo.Services.uiService.showModalPopup(null,null,{id:"blockingBusyIndicator",context:r,view:n,canUserClose:!1,closeCallback:function(){o=void 0}}),t(),u=!0);else if(!1===i||void 0!==o&&null!==o){e.controller.set("busyIndicatorTitle",e.busyType);var s=Komodo.Services.uiService.getRoute("application");s.render("BusyIndicator",{outlet:"busy",into:"application",controller:e.controller}),i=!0,u=!0}!0===u&&e.timeout&&Ember.run.later(function(){c(e)},e.timeout)},u=function(o,e){var i=o;return e&&(i+="-"+e),i};return{start:function(o,i,n,t,c,s){var l,a=u(i,c);l={id:a,busyType:n,blocking:o,timeout:t,controller:s},e.push(l),r(l)},stop:function(o,i){var n=u(o,i),t=e.find(function(o){return o.id==n});t&&c(t)}}}()).create(),Komodo.Services.busyIndicatorTypes={Busy:void 0,Loading:void 0,Processing:void 0,Login:void 0},Komodo.Services.localizationService.registerStartCallback(function(){Komodo.Services.busyIndicatorTypes.Busy=kl.value("busyIndicator.typeBusy"),Komodo.Services.busyIndicatorTypes.Loading=kl.value("busyIndicator.typeLoading"),Komodo.Services.busyIndicatorTypes.Processing=kl.value("busyIndicator.typeProcessing"),Komodo.Services.busyIndicatorTypes.Login=kl.value("busyIndicator.typeLogin")});
Komodo.Application.LoginController=Komodo.UI.Controller.extend({_outstandingOfflineTasksStatus:"in-process",_selectedTheme:void 0,_content:[],selectedCountry:null,_defaultCountry:void 0,init:function(){this._super(),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService}),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_validationService",{singleton:Komodo.Services.validationService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_offlineService",{singleton:Komodo.Services.offlineService}),this.requiresDependency("_traceRepository",{singleton:Komodo.Repositories.traceRepository}),this.requiresDependency("_themeSwitcherService",{singleton:Komodo.Services.themeSwitcherService})},getBusyService:function(){return this.get("_busyService")},getThemeSwitcherService:function(){return this.get("_themeSwitcherService")},getCachedDataService:function(){return this.get("_cachedDataService")},getSystemService:function(){return this.get("_systemService")},getSecurityService:function(){return this.get("_securityService")},getCacheRepository:function(){return this.get("_cacheRepository")},getValidationService:function(){return this.get("_validationService")},getLocalizationService:function(){return this.get("_localizationService")},getOfflineService:function(){return this.get("_offlineService")},getTraceRepository:function(){return this.get("_traceRepository")},isLoggingIn:!1,isOptionsVisible:!1,isOptionsLinkVisible:function(){return!this.isOptionsVisible}.property("isOptionsVisible"),changeTheme:function(){this.getEventAggregator().publish(Komodo.EventNames.themeChanged,this.get("_selectedTheme"))}.observes("_selectedTheme"),isControlDisabled:function(){return this.get("isLoggingIn")}.property("isLoggingIn"),isUserNameDisabled:function(){return"login-any"!==this.get("_outstandingOfflineTasksStatus")||this.get("isLoggingIn")}.property("_outstandingOfflineTasksStatus","isLoggingIn"),isLoginDisabled:function(){return"in-process"===this.get("_outstandingOfflineTasksStatus")||this.get("isLoggingIn")||!this.get("isModelValid")}.property("isLoggingIn","isModelValid"),authenticate:function(){this.set("_redirectUrl",void 0),this.getSecurityService().get("isAuthenticated")||(this.set("_redirectUrl",window.location.href),this.getUIService().transitionTo("login"))},start:function(){this._super();var e=this;e.getCachedDataService().fetch("CountrySchema",{domain:"global"}).done(function(t){t&&t[0]&&(e.get("_content").clear(),$.each(t.sortBy("value"),function(t,i){e.get("_content").addObject(i)}))}).fail(function(){alert(e.getLocalizationService().value("locale.komodo:login.couldNotLoadCountries"))}),this.registerModel("data",{userName:void 0,password:void 0,loginCountry:void 0}),this._getOutstandingOfflineTasksStatus(),this.getCacheRepository().fetch(Komodo.CacheKeys.user).done(function(t){e.set("data.userName",t.data)}),this.getThemeSwitcherService().setSavedTheme(this.get("data.userName")),1===this.get("_content").length||void 0==this.get("data.userName")?this.set("_defaultCountry",this.get("_content")[0]):this.getCacheRepository().fetch(this.get("data.userName").substring(this.get("data.userName").lastIndexOf("\\")+1)+"."+Komodo.CacheKeys.defaultLoginCountry).done(function(t){for(var i=0;i<e.get("_content").length;i++)if(e.get("_content")[i].key===t.data.key)return void e.set("_defaultCountry",e.get("_content")[i])}).fail(function(){e.set("_defaultCountry",e.get("_content")[0])}),this.set("data.loginCountry",this.get("_defaultCountry")),this.registerValidator(this.get("data"),"userName",{isRequired:!0}),this.registerValidator(this.get("data"),"password",{isRequired:!0})},_getOutstandingOfflineTasksStatus:function(){var e=this;this.set("data.userName",e.getOfflineService().get("domainUserName")),this.getOfflineService().hasOutstandingOfflineTasks().done(function(t){Ember.run(function(){e.set("_outstandingOfflineTasksStatus",t?"login-restriced":"login-any")})}).fail(function(t){Ember.run(function(){Komodo.UI.error("[could not determine outstanding offline task status] : error = '"+t+"'"),Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.komodo:login.getOutstandingOfflineTasksStatusErrorTitle"),t,Komodo.Controls.MessageBoxOkButtons,void 0,void 0,"error")})})},isMobileDevice:function(){return this.getSystemService().get("isMobile")}.property(),actions:{changeTheme:function(e){this.getEventAggregator().publish(Komodo.EventNames.themeChanged,e.content)},login:function(){Komodo.Application.log("LoginController.login"),void 0==this.get("data.loginCountry")&&this.set("data.loginCountry",this.get("_content")[0]);var e=this,t=function(t){!1===t?(e.getBusyService().stop(e.get("processId"),"nonblocking"),e.set("isLoggingIn",!1)):(e.getBusyService().start(!1,e.get("processId"),Komodo.Services.busyIndicatorTypes.Login,void 0,"nonblocking",e),e.set("isLoggingIn",!0))};if(t(!0),this.getCacheRepository().save(Komodo.CacheKeys.user,e.get("data.userName"),0),void 0!==e.get("data.loginCountry")){var i=e.get("data.loginCountry.key"),o=e.get("data.loginCountry.value"),n=Ember.Object.create({countryId:i,countryDescription:o});e.getCacheRepository().save(Komodo.CacheKeys.selectedCountry,n,0),e.getCacheRepository().save(e.get("data.userName").substring(e.get("data.userName").lastIndexOf("\\")+1)+"."+Komodo.CacheKeys.defaultLoginCountry,{key:i,value:o},0)}this.getThemeSwitcherService().setSavedTheme(this.get("data.userName")),!1===this.getValidationService().validateModel(this,this.get("data"),this.get("validators"),void 0)?t(!1):e.getSecurityService().login(this.get("data.loginCountry.key"),this.get("data.userName"),this.get("data.password")).done(function(t){e.getTraceRepository().save(void 0,{transactionId:e.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"loginClicked",user:e.getSecurityService().get("domainUserName")}}).fail(function(e){Komodo.Services.error(e)}),e.set("data.password",null),e.getSystemService().isHostedLocally()&&!t.online?(window.location.href="/#/home",e.getEventAggregator().publish(Komodo.EventNames.restartApplication)):void 0==e.get("_redirectUrl")?e.getUIService().getController("application").redirectReturn("home"):window.location.href=e.get("_redirectUrl")}).fail(function(e){e&&alert(e)}).always(function(){t(!1)})},showOptions:function(){this.set("isOptionsVisible",!0)}}});
Komodo.NavigationTypes=Ember.Namespace.create({Normal:"normal",HomeTile:"hometile",HomeTileSubLink:"hometilesublink"}),Komodo.Services.navigationService=Ember.Object.extend(Komodo.Dependency,{_routes:[],_modules:[],hasActiveGroup:function(){return void 0!==this.get("_activeGroup")}.property("_activeGroup"),_activeGroup:void 0,activeGroup:function(){return this.get("_activeGroup")}.property("_activeGroup"),activateGroup:function(e){this.getCacheRepository().save(Komodo.CacheKeys.navigationActiveGroup,e,0),this.set("_activeGroup",e)},init:function(){this._super();var e=this;this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.getCacheRepository().fetch(Komodo.CacheKeys.navigationActiveGroup).done(function(t){e.set("_activeGroup",t.data)}).fail(function(){e.set("_activeGroup",void 0)}),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._refresh),this.getEventAggregator().one(Komodo.EventNames.applicationInitialized,this,this._refresh),this.getEventAggregator().subscribe(Komodo.EventNames.customTypeChanged,this,this.updateDisplayedLinks),this.getEventAggregator().subscribe(Komodo.EventNames.navigationGroupChanged,function(t){var o=e._modules.filterProperty("routeName",t);0!==o.length&&e.activateGroup(o[0].groupName)})},getEventAggregator:function(){return this.get("_eventAggregator")},getSecurityService:function(){return this.get("_securityService")},getCacheRepository:function(){return this.get("_cacheRepository")},getUIService:function(){return this.get("_uiService")},_canAddModule:function(){return this.getSecurityService().get("isAuthenticated")&&Komodo.Application.Router.router},_sortModules:function(e,t){return e.desiredLocation-t.desiredLocation},tiles:function(){var e=this,t=[];return void 0===this.get("_modules")?t:(this.get("_modules").forEach(function(o){"hometile"===o.type&&(o.homeTileLinks=e.gethomeTileLinks(o.groupName),o.allTileLinks=e.getAllLinks(o.groupName),e._canAccessModule.call(e,o)&&t.pushObject(o))}),t.sort(function(e,t){return e.desiredLocation-t.desiredLocation}))}.property("_modules.@each"),_canAccessModule:function(e){var t=this,o=!1;return!(!e.url&&!this.getSecurityService().canAccessRoute(e.routeName))||!!e.allTileLinks&&(e.allTileLinks.forEach(function(e){o||(o=!!e.url||t.getSecurityService().canAccessRoute(e.routeName))}),o)},gethomeTileLinks:function(e){if(void 0!=this.get("_modules"))return this.get("_modules").filterProperty("groupName",e).filterProperty("type","hometilesublink").sort(this._sortModules)},getAllLinks:function(e){if(void 0!=this.get("_modules"))return this.get("_modules").filterProperty("groupName",e).filter(function(e){return e.type===Komodo.NavigationTypes.HomeTileSubLink||e.type===Komodo.NavigationTypes.Normal}).sort(this._sortModules)},_refresh:function(){var e=this;this._modules.clear(),this._canAddModule()&&this._routes.forEach(function(t){e._addModule(t)})},_addModule:function(e){this._modules.pushObject({groupName:e.groupName,parentRoute:e.parentRoute||"",params:e.params,routeName:e.routeName,route:e.route,title:e.title,type:e.type,customType:e.customType,imageurl:e.imageurl,url:e.url,desiredLocation:e.desiredLocation,target:e.target,homeTileLinks:e.homeTileLinks,display:e.display,conditionalCallback:e.conditionalCallback})},register:function(e){if(void 0==e)throw new Error("The 'options' argument may not be undefined in call to the 'Komodo.Services.navigationTileService.register' method.");if(Komodo.Services.log("NavigationService.register: routeName:["+e.routeName+"], url:["+e.url+"]"),!e.groupName)throw new Error("Must specify a groupName for modules");if(!e.title)throw new Error("Must specify a title for modules");e.type||(e.type=Komodo.NavigationTypes.Normal);var t=void 0!==e.routeName;if(!t&&!e.url)throw new Error("Must specify either a route or a url for modules");if(e.desiredLocation&&"number"==typeof e.desiredLocation||(e.desiredLocation=0),e.type===Komodo.NavigationTypes.HomeTile&&!e.imageurl)throw new Error("Must specify an image url for a home tile");void 0!=e.display&&null!=e.display||(e.display=!0);var o;if(t&&void 0==(o=this.getUIService().getRoute(e.routeName)))throw new Error("There is no route defined for routeName '"+e.routeName+"'");var i={groupName:e.groupName.toLowerCase(),parentRoute:e.parentRoute||"",routeName:e.routeName,params:e.params,route:o,url:e.url,title:e.title,type:e.type,customType:e.customType,imageurl:e.imageurl,desiredLocation:e.desiredLocation,target:e.target,homeTileLinks:void 0,display:e.display,conditionalCallback:e.conditionalCallback};this._routes.push(i),this._canAddModule()&&this._addModule(i)},_findNavigationItem:function(e){var t,o=this;return e.url||this.getSecurityService().canAccessRoute(e.routeName)?e:(e.allTileLinks&&e.allTileLinks.forEach(function(e){t||(e.url||o.getSecurityService().canAccessRoute(e.routeName))&&(t=e)}),t)},updateDisplayedLinks:function(e){this.get("_modules").forEach(function(t){void 0!==t.customType&&(t.customType===e?t.display=!0:t.display=!1)}),this.set("_routes",this.get("_modules")),this.getEventAggregator().publish(Komodo.EventNames.routeAccessChanged)},transitionToItem:function(e){if(e.conditionalCallback){if(!1===e.conditionalCallback.call(void 0,e))return}var t=this._findNavigationItem(e);t&&(t.url?void 0!==t.target&&"_blank"===t.target?window.open(e.url,"_blank"):this.getUIService().transitionTo(t.url):(this.activateGroup(e.groupName),this.getUIService().transitionTo(t.parentRoute?"/"+t.parentRoute+"/"+t.routeName:t.routeName,t.params)))},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedIn,this,this.refresh),this.getEventAggregator().unsubscribe(Komodo.EventNames.customTypeChanged,this,this.updateDisplayedLinks),this._super()}}).create();
Komodo.UI.cacheDataService=Ember.Object.extend({init:function(){this._super()},getValueFromConstant:function(e,t){return Komodo.Services.ManageViewingService.getValueFromConstant(e,t)},getQuotationProducts:function(e,t,o,r,c,a,i){var s=this,n={},u=$.Deferred(),d=!1,l=!1,p=!1,C=!1;return Komodo.Services.featureToggleService.isEnabled("CreateQuotation","DoNotAllowDstvGotvSplit").done(function(e){d=e}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateQuotation","IsSubscriptionOnlyDStv").done(function(e){l=e}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateQuotation","IsSubscriptionOnlyGOtv").done(function(e){p=e}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateQuotation","isDualVAT").done(function(e){C=e}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),d&&(l||p)||Komodo.Services.cachedDataService.fetch("HardwareProductPriceDetail").done(function(e){var t=JSON.parse(e),o=1e3;t.H1.Product.length>0?$.each(t.H1.Product,function(e,t){void 0!==t.Details.Description&&null!==t.Details.Description&&""!==t.Details.Description&&(o=1*o+1,t.Details.Name=t.Details.Description,void 0!==t.Details.ICCModelId&&null!==t.Details.ICCModelId&&""!==t.Details.ICCModelId?t.Details.UID=t.Details.ICCModelId:t.Details.UID=o,void 0!==t.Details.Price.Value&&(t.Details.Price.Value=parseFloat(t.Details.Price.Value).toFixed(2),c.addObject(t)))}):void 0!==t.H1.Product.Details.Description&&null!==t.H1.Product.Details.Description&&""!==t.H1.Product.Details.Description&&(o=1*o+1,t.H1.Product.Details.Name=t.H1.Product.Details.Description,void 0!==t.H1.Product.Details.ICCModelId&&null!==t.H1.Product.Details.ICCModelId&&""!==t.H1.Product.Details.ICCModelId?t.H1.Product.Details.UID=t.H1.Product.Details.ICCModelId:t.H1.Product.Details.UID=o,void 0!==t.H1.Product.Details.Price.Value&&(t.H1.Product.Details.Price.Value=parseFloat(t.H1.Product.Details.Price.Value).toFixed(2),c.addObject(t.H1.Product)))}).fail(function(){Komodo.error("[ERROR] : could not retrieve HardwareProductPriceDetail")}),Komodo.Services.cachedDataService.fetch("ProductTypeAndCategoryDetail").done(function(c){s.set("principalProductCategory",[]),s.set("addOnProductCategory",[]),s.set("allInsuranceCategory",[]),s.set("allAccessServiceCategory",[]);var d=jQuery.parseJSON(c);$.each(d.UICategories.UICategory,function(e,t){switch(t.CanonicalValue){case s.getValueFromConstant("ProductsConstants","productsConstants.products.ADDON_CATEGORY"):s.set("addOnProductCategory",t.CommercialProductCategories.CommercialProductCategory);break;case s.getValueFromConstant("ProductsConstants","productsConstants.products.INSURANCE_CATEGORY"):s.set("allInsuranceCategory",t.CommercialProductCategories.CommercialProductCategory);break;case s.getValueFromConstant("ProductsConstants","productsConstants.products.ACCESS_CATEGORY"):s.set("allAccessServiceCategory",t.CommercialProductCategories.CommercialProductCategory);break;case s.getValueFromConstant("ProductsConstants","productsConstants.products.PRINCIPAL_CATEGORY"):s.set("principalProductCategory",t.CommercialProductCategories.CommercialProductCategory)}});var l;Komodo.Services.cachedDataService.fetch("ProductPriceHelperSet").done(function(e){l=jQuery.parseJSON(e)});var p="Residential"+s.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.DefaultCurrencyQualifier.QUALIFIER")+"ProductPriceDetail";Komodo.Services.cachedDataService.fetch(p).done(function(c){s.set("productPriceDetailsSet",[]);var d=jQuery.parseJSON(c),p=s.getValueFromConstant("ProductsConstants","productsConstants.products.TAX_TYPE"),P=s.getValueFromConstant("ProductsConstants","productsConstants.products.TAX_PERCENTAGE");$.each(d.Products.Product,function(e,t){if(void 0!==t.Details&&""!==t.Details){var o=t.Details.split(","),r=!1;if(!Ember.isEmpty($.grep(l.HelperSets.CommercialProducts.CommercialProduct,function(e){return e.SystemKey===o[7]}))&&$.grep(l.HelperSets.CommercialProducts.CommercialProduct,function(e){return e.SystemKey===o[7]})[0].CanonicalValue.toLowerCase().indexOf("lesotho")>-1&&(r=!0),i===o[5]||r){var c=Komodo.UI.Class.ProductDetails.create(),a=[],n={productDetails:c,prices:a,allowDevice:void 0,allowProduct:void 0};c.country=o[0],c.currencyID=o[1],c.customerClass=o[2],c.customerType=o[3],c.locationIndicator=o[4],c.marketSegment=o[5],c.productCategory=o[6],c.productID=o[7],void 0!==t.Prices&&""!==t.Prices&&$.each(t.Prices,function(e,t){t.indexOf(",")>-1&&(t=[t]),$.each(t,function(e,t){var o=Komodo.UI.Class.Price.create(),r=t.split(",");o.amount=parseFloat(r[0]).toFixed(2),o.discoundAmount=r[1],o.chargePeriod=r[3],o.finalAmount=parseFloat(r[0]).toFixed(2),o.noOfUnitFrom=r[4],o.noOfUnitTo=r[5],void 0!==r[6]&&""!==r[6]&&"0"!==r[6]?(o.taxType1.amount=r[6],o.taxType1.type=p,o.taxType1.percent=P):o.taxType1=void 0,void 0!==r[7]&&""!==r[7]&&"0"!==r[7]?(o.taxType2.amount=r[7],o.taxType2.type=p,o.taxType2.percent=P):o.taxType2=void 0,void 0!==r[8]&&""!==r[8]&&"0"!==r[8]?(o.taxType3.amount=r[8],o.taxType3.type=p,o.taxType3.percent=P):o.taxType3=void 0,void 0!==r[9]&&""!==r[9]&&(o.deviceModel=r[9]),o.stsId=r[10],a.addObject(o)});var o=!1;s.set("productPrices",[]),C?$.each(a,function(e,t){var o=$.grep(s.productPrices,function(e){return e.amount==t.amount});if(o.length>0&&o[0].amount===t.amount&&o[0].chargePeriod===t.chargePeriod)if(parseFloat(o[0].taxType1.amount)!==parseFloat(t.taxType1.amount)||o[0].noOfUnitFrom===t.noOfUnitFrom&&o[0].noOfUnitTo===t.noOfUnitTo){if(parseFloat(o[0].taxType1.amount)<parseFloat(t.taxType1.amount)){var r=s.get("productPrices").length;s.get("productPrices").splice(r-1,1),s.productPrices.addObject(t)}}else s.productPrices.addObject(t);else s.productPrices.addObject(t)}):s.productPrices=a,$.each(s.productPrices,function(e,t){"1"!==t.chargePeriod||"1"!==t.noOfUnitFrom||"2"!==t.noOfUnitTo||o?"1"!==t.chargePeriod||"0"!==t.noOfUnitFrom||"0"!==t.noOfUnitTo||o||(t.show=!0,o=!0):(t.show=!0,o=!0)})}),n.allowDevice=t.AllowDevice,n.allowProduct=t.AllowProduct,n.productDetails=c,n.prices=s.productPrices,s.productPriceDetailsSet.addObject(n)}}}),Komodo.Services.cachedDataService.fetch("ProductPriceHelperSet").done(function(c){s.set("productPriceHelperSet",[]);var i=jQuery.parseJSON(c);s.set("productPriceHelperSet",i.HelperSets.CommercialProducts.CommercialProduct),jQuery.isArray(i.HelperSets.Currencies.Currency)||(i.HelperSets.Currencies.Currency=[i.HelperSets.Currencies.Currency]),$.each(i.HelperSets.Currencies.Currency,function(e,t){a.addObject(t)}),$.each(s.productPriceDetailsSet,function(t,o){Ember.isEmpty($.grep(s.principalProductCategory,function(e){return e.SystemKey===o.productDetails.productCategory&&o.productDetails.productCategory!==s.getValueFromConstant("ProductsConstants","productsConstants.products.EXPLORA_PAYMENT_PLAN")}))||Ember.isEmpty($.grep(s.productPriceHelperSet,function(e){return e.SystemKey===o.productDetails.productID}))||e.addObject({details:{isShow:!0,UID:o.productDetails.productID,Type:"PRINCIPAL",Name:$.grep(s.productPriceHelperSet,function(e){return e.SystemKey===o.productDetails.productID})[0].CanonicalValue,prices:o.prices,CurrencyCode:o.productDetails.currencyID,productCategory:o.productDetails.productCategory},allowDevice:o.allowDevice})}),$.each(s.productPriceDetailsSet,function(e,o){Ember.isEmpty($.grep(s.addOnProductCategory,function(e){return e.SystemKey===o.productDetails.productCategory}))||Ember.isEmpty($.grep(s.productPriceHelperSet,function(e){return e.SystemKey===o.productDetails.productID}))||t.addObject({details:{isShow:!0,UID:o.productDetails.productID,Type:"ADDON",Name:$.grep(s.productPriceHelperSet,function(e){return e.SystemKey===o.productDetails.productID})[0].CanonicalValue,productCategory:o.productDetails.productCategory,prices:o.prices},allowProduct:o.allowProduct})}),s.allInsuranceCategory instanceof Array||(s.allInsuranceCategory=[s.allInsuranceCategory]),$.each(s.productPriceDetailsSet,function(e,t){$.each(s.allInsuranceCategory,function(e,r){r.SystemKey===t.productDetails.productCategory&&o.addObject(t)})}),$.each(s.productPriceHelperSet,function(e,t){$.each(o,function(e,o){t.SystemKey===o.productDetails.productID&&(o.productDetails.name=t.CanonicalValue)})}),s.allAccessServiceCategory instanceof Array||(s.allAccessServiceCategory=[s.allAccessServiceCategory]),$.each(s.productPriceDetailsSet,function(e,t){$.each(s.allAccessServiceCategory,function(e,o){o.SystemKey===t.productDetails.productCategory&&r.addObject(t)})}),$.each(s.productPriceHelperSet,function(e,t){$.each(r,function(e,o){t.SystemKey===o.productDetails.productID&&(o.productDetails.name=t.CanonicalValue)})}),u.resolve(n)}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductPriceHelperSet")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve Residential---ProductPriceDetail")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductTypeAndCategoryDetail")}),u},getHardwareCpc:function(){var e=$.Deferred(),t=this;return Komodo.Services.cachedDataService.fetch("ProductTypeAndCategoryDetail").done(function(o){t.set("allHardwareCpcs",[]);var r=jQuery.parseJSON(o);$.each(r.UICategories.UICategory,function(e,o){o.CanonicalValue===t.getValueFromConstant("ProductsConstants","productsConstants.products.HARDWARE_CATEGORY")&&$.each(o.CommercialProductCategories.CommercialProductCategory,function(e,o){t.allHardwareCpcs.push(o)})}),e.resolve()}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductPriceHelperSet")}),e},getProductTypesWithDetails:function(e,t,o,r,c,a,i,s,n){var u,d=this,l=$.Deferred();return Komodo.Services.cachedDataService.fetch("ProductTypeAndCategoryDetail").done(function(p){d.set("principalProductCategory",[]),d.set("addOnProductCategory",[]),d.set("allInsuranceCategory",[]),d.set("allAccessServiceCategory",[]),d.set("allHdAddOnCategory",[]),d.set("allHardwareCpcs",[]);var C=jQuery.parseJSON(p);$.each(C.UICategories.UICategory,function(e,t){t.CanonicalValue===d.getValueFromConstant("ProductsConstants","productsConstants.products.PRINCIPAL_CATEGORY")&&d.set("principalProductCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(C.UICategories.UICategory,function(e,t){t.CanonicalValue===d.getValueFromConstant("ProductsConstants","productsConstants.products.ADDON_CATEGORY")&&d.set("addOnProductCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(C.UICategories.UICategory,function(e,t){t.CanonicalValue===d.getValueFromConstant("ProductsConstants","productsConstants.products.INSURANCE_CATEGORY")&&d.set("allInsuranceCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(C.UICategories.UICategory,function(e,t){t.CanonicalValue===d.getValueFromConstant("ProductsConstants","productsConstants.products.ACCESS_CATEGORY")&&d.set("allAccessServiceCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(C.UICategories.UICategory,function(e,t){t.CanonicalValue===d.getValueFromConstant("ProductsConstants","productsConstants.products.HIGH_DEFINITION_ADDON")&&d.set("allHdAddOnCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(C.UICategories.UICategory,function(e,t){t.CanonicalValue===d.getValueFromConstant("ProductsConstants","productsConstants.products.HARDWARE_CATEGORY")&&$.each(t.CommercialProductCategories.CommercialProductCategory,function(e,t){d.allHardwareCpcs.push(t)})}),$.each(C.UICategories.UICategory,function(e,t){c.push(t)}),i===d.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.RESIDENTIAL_CUSTOMER_CANONICAL_CODE")?(u="Residential"+d.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.DefaultCurrencyQualifier.QUALIFIER")+"ProductPriceDetail",Komodo.Services.cachedDataService.fetch(u).done(function(c){d.set("productPriceDetailsSet",[]);var i=jQuery.parseJSON(c);$.each(i.Products.Product,function(e,t){if(void 0!==t.Details&&""!==t.Details){var o=t.Details.split(",");n===o[5]&&d.productPriceDetailsSet.addObject(d.productMapper(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],t.AllowDevice,t.AllowProduct,t.Prices))}}),d.getProductData(e,t,o,r,a),l.resolve()}).fail(function(){Komodo.error("[ERROR] : could not retrieve ResidentialNADProductPriceDetail")})):(u="Specialist"+d.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.DefaultCurrencyQualifier.QUALIFIER")+"ProductPriceDetail",Komodo.Services.cachedDataService.fetch(u).done(function(c){Komodo.Services.cachedDataService.fetch("ProductPriceHelperSet").done(function(e){d.set("productPriceHelperSet",[]),d.set("customerTypeSet",[]),d.set("customerClassSet",[]),d.set("productPriceDetailsSet",[]);var t=jQuery.parseJSON(e),o=jQuery.parseJSON(c);d.set("productPriceHelperSet",t.HelperSets.CommercialProducts.CommercialProduct),d.set("customerTypeSet",t.HelperSets.CustomerTypes),d.set("customerClassSet",t.HelperSets.CustomerClasses);var r=void 0,a=void 0;$.each(d.customerClassSet.CustomerClass,function(e,t){return t.CanonicalKey===i&&(r=t.SystemKey),void 0===r}),$.each(d.customerTypeSet.CustomerType,function(e,t){return t.CanonicalKey===s&&(a=t.SystemKey),void 0===a}),$.each(o.Products.Product,function(e,t){if(void 0!==t.Details&&""!==t.Details){var o=t.Details.split(",");n===o[5]&&r===o[2]&&a===o[3]&&d.productPriceDetailsSet.addObject(d.productMapper(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],t.AllowDevice,t.AllowProduct,t.Prices))}})}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductPriceHelperSet")}),d.getProductData(e,t,o,r,a),l.resolve()}).fail(function(){Komodo.error("[ERROR] : could not retrieve SpecialistNADProductPriceDetail")}))}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductTypeAndCategoryDetail")}),l},getProductData:function(e,t,o,r,c){var a=this;Komodo.Services.featureToggleService.isEnabled("AssociateProducts","isMDPDisabled").done(function(i){switch(i){case!0:case"true":case"TRUE":Komodo.Services.cachedDataService.fetch("MDPDetail").done(function(e){a.set("mdpProductSet",jQuery.parseJSON(e)),$.each(a.get("mdpProductSet.DependentProducts.DependentProduct"),function(e,t){$.each(a.get("productPriceDetailsSet"),function(e,o){o.product.details.productID===t.ProductId&&(o.product.allowProduct=t.AllowProduct)})})}).fail(function(){Komodo.error("[ERROR] : could not retrieve MDPDetail")})}Komodo.Services.cachedDataService.fetch("ProductPriceHelperSet").done(function(i){a.set("productPriceHelperSet",[]);var s=jQuery.parseJSON(i);a.set("productPriceHelperSet",s.HelperSets.CommercialProducts.CommercialProduct),a.populateProductDetails(a.principalProductCategory,a.productPriceDetailsSet,a.productPriceHelperSet,e),a.populateProductDetails(a.addOnProductCategory,a.productPriceDetailsSet,a.productPriceHelperSet,t),a.populateProductDetails(a.allInsuranceCategory,a.productPriceDetailsSet,a.productPriceHelperSet,o),a.populateProductDetails(a.allAccessServiceCategory,a.productPriceDetailsSet,a.productPriceHelperSet,r),a.populateProductDetails(a.allHdAddOnCategory,a.productPriceDetailsSet,a.productPriceHelperSet,c)}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductPriceHelperSet")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve feature toggle AssociateProducts.AllowHDAddOns")})},productMapper:function(e,t,o,r,c,a,i,s,n,u,d){var l=Komodo.UI.Class.ProductDetails.create(),p=Komodo.UI.Class.Product.create(),C=Komodo.UI.Class.Products.create(),P=[];return l.country=e,l.currencyID=t,l.customerClass=o,l.customerType=r,l.locationIndicator=c,l.marketSegment=a,l.productCategory=i,l.productID=s,void 0!==d&&""!==d?($.each(d,function(e,t){t.indexOf(",")>-1&&(t=[t]),$.each(t,function(e,t){var o=t.split(",");if(-1===$.inArray(o[3],l.chargePeriod)&&l.chargePeriod.push(o[3]),"1000"===o[3]&&0===$.grep(P,function(e){return e.stsId===o[10]}).length){var r=Komodo.UI.Class.Price.create();l.shortTermSubscriptionId=o[10],r.stsId=o[10],P.pushObject(r)}})}),l.chargePeriod.sort()):l.chargePeriod=void 0,p.set("details",l),p.set("allowDevice",n),p.set("allowProduct",u),p.set("price",P),C.set("product",p),C},populateProductDetails:function(e,t,o,r){e instanceof Array||(e=[e]),$.each(t,function(t,c){Ember.isEmpty($.grep(e,function(e){return e.SystemKey===c.product.details.productCategory}))||Ember.isEmpty($.grep(o,function(e){return e.SystemKey===c.product.details.productID}))||(c.product.details.name=$.grep(o,function(e){return e.SystemKey===c.product.details.productID})[0].CanonicalValue,c.isChecked=!1,c.disableMultipleAddOnProducts=!1,r.addObject(c))})},getProductPriceDatasetWithDetails:function(e,t,o,r,c,a,i,s,n){var u=this;Komodo.Services.cachedDataService.fetch("ProductTypeAndCategoryDetail").done(function(d){u.set("principalProductCategory",[]),u.set("addOnProductCategory",[]),u.set("allInsuranceCategory",[]),u.set("allAccessServiceCategory",[]);var l=jQuery.parseJSON(d);$.each(l.UICategories.UICategory,function(e,t){t.CanonicalValue===u.getValueFromConstant("ProductsConstants","productsConstants.products.PRINCIPAL_CATEGORY")&&u.set("principalProductCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(l.UICategories.UICategory,function(e,t){t.CanonicalValue===u.getValueFromConstant("ProductsConstants","productsConstants.products.ADDON_CATEGORY")&&u.set("addOnProductCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(l.UICategories.UICategory,function(e,t){t.CanonicalValue===u.getValueFromConstant("ProductsConstants","productsConstants.products.INSURANCE_CATEGORY")&&u.set("allInsuranceCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(l.UICategories.UICategory,function(e,t){t.CanonicalValue===u.getValueFromConstant("ProductsConstants","productsConstants.products.ACCESS_CATEGORY")&&u.set("allAccessServiceCategory",t.CommercialProductCategories.CommercialProductCategory)}),$.each(l.UICategories.UICategory,function(e,t){t.CanonicalValue===u.getValueFromConstant("ProductsConstants","productsConstants.products.HARDWARE_CATEGORY")&&$.each(t.CommercialProductCategories.CommercialProductCategory,function(e,t){s.push(t)})}),$.each(l.UICategories.UICategory,function(e,t){n.push(t)}),Komodo.Services.cachedDataService.fetch(e,{domain:t,qualifier:o}).done(function(e){u.set("productPriceDetail",[]);var t=jQuery.parseJSON(e);$.each($.makeArray(t.Products.Product),function(e,t){if(void 0!==t.Details&&""!==t.Details){var o=t.Details.split(","),r=Komodo.UI.Class.ProductDetails.create(),c=Komodo.UI.Class.Product.create(),a=Komodo.UI.Class.Products.create();r.country=o[0],r.currencyID=o[1],r.customerClass=o[2],r.customerType=o[3],r.locationIndicator=o[4],r.marketSegment=o[5],r.productCategory=o[6],r.productID=o[7],c.set("details",r),c.set("allowDevice",t.AllowDevice),c.set("allowProduct",t.AllowProduct),a.set("product",c),u.get("productPriceDetail").addObject(a)}}),Komodo.Services.cachedDataService.fetch("ProductPriceHelperSet").done(function(e){u.set("productPriceHelperSet",[]);var t=jQuery.parseJSON(e);u.set("productPriceHelperSet",t.HelperSets.CommercialProducts.CommercialProduct),u.populateProductDetails(u.principalProductCategory,u.productPriceDetail,u.productPriceHelperSet,r),u.populateProductDetails(u.addOnProductCategory,u.productPriceDetail,u.productPriceHelperSet,c),u.populateProductDetails(u.allInsuranceCategory,u.productPriceDetail,u.productPriceHelperSet,a),u.populateProductDetails(u.allAccessServiceCategory,u.productPriceDetail,u.productPriceHelperSet,i)}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductPriceHelperSet")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve "+e)})}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductTypeAndCategoryDetail")})},getProductCategoryAndProductsDataset:function(e,t,o,r,c){var a=this;Komodo.Services.cachedDataService.fetch("ProductTypeAndCategoryDetail").done(function(s){var n=jQuery.parseJSON(s),u=[];$.each(n.UICategories.UICategory,function(e,t){var o=[];o=t.CommercialProductCategories.CommercialProductCategory,u.push({productCategory:o,key:t.CanonicalValue,value:[]})}),$.each(n.UICategories.UICategory,function(e,t){c.push(t)}),Komodo.Services.cachedDataService.fetch(e,{domain:t,qualifier:o}).done(function(e){a.set("productPriceDetail",[]);var t=jQuery.parseJSON(e);$.each($.makeArray(t.Products.Product),function(e,t){if(void 0!==t.Details&&""!==t.Details){var o=t.Details.split(","),r=Komodo.UI.Class.ProductDetails.create(),c=Komodo.UI.Class.Product.create(),i=Komodo.UI.Class.Products.create();r.country=o[0],r.currencyID=o[1],r.customerClass=o[2],r.customerType=o[3],r.locationIndicator=o[4],r.marketSegment=o[5],r.productCategory=o[6],r.productID=o[7],c.set("details",r),c.set("allowDevice",t.AllowDevice),c.set("allowProduct",t.AllowProduct),i.set("product",c),a.get("productPriceDetail").addObject(i)}}),Komodo.Services.cachedDataService.fetch("ProductPriceHelperSet").done(function(e){var t=a.getValueFromConstant("ProductsConstants","productsConstants.products.HARDWARE_CATEGORY").toUpperCase();a.set("productPriceHelperSet",[]);var o=jQuery.parseJSON(e);for(a.set("productPriceHelperSet",o.HelperSets.CommercialProducts.CommercialProduct),$.each(u,function(e,o){o.key.toUpperCase()===t?$.each(o.productCategory,function(e,t){o.value.push(t)}):a.populateProductDetails(o.productCategory,a.productPriceDetail,a.productPriceHelperSet,o.value)}),i=0;i<u.length;i++)r.addObject(u[i])}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductPriceHelperSet")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve "+e)})}).fail(function(){Komodo.error("[ERROR] : could not retrieve ProductTypeAndCategoryDetail")})},getAddOnProductTypes:function(e,t){t.clear(),Komodo.Services.cachedDataService.fetch("ProductTypeAndCategoryDetail").done(function(o){var r=jQuery.parseJSON(o),c=[];if($.each(r.UICategories.UICategory,function(e,t){c.push(t.CanonicalValue.toUpperCase())}),!Ember.isEmpty(c)){var a=[],i=e.split(":");$.each(i,function(e,o){a=$.grep(c,function(e,t){return e.replace("-","").toUpperCase().indexOf(o)>=0}),Ember.isEmpty(a)||$.each(a,function(e,o){t.push(o)})})}})},getProductsForCategory:function(e,t,o){var r=[];if(!Ember.isEmpty(o))if(t){var c=[],a=e.split(":");$.each(a,function(e,t){c=$.grep(o,function(e,o){return e.key.replace("-","").toUpperCase().indexOf(t)>=0&&!Ember.isEmpty(e.value)}),Ember.isEmpty(c)||$.each(c,function(e,t){r.addObject(t)})})}else r=$.grep(o,function(t,o){return t.key.toUpperCase()===e});return r},populateProductsBasedOnLocation:function(e,t,o,r){r.clear(),$.each(o,function(o,c){void 0!==c&&null!==c&&void 0!==c.product&&null!==c.product&&void 0!==c.product.details&&null!==c.product.details&&c.product.details.customerType===e&&(c.product.details.locationIndicator.toUpperCase()===t.toUpperCase()||c.product.details.locationIndicator.toUpperCase().indexOf(t.toUpperCase())>-1)&&r.pushObject(c)})},populateAddOnsBasedOnProduct:function(e,t,o,r,c,a){a.clear(),$.each(c,function(c,i){if(void 0!==i&&null!==i&&void 0!==i.product&&null!==i.product&&void 0!==i.product.details&&null!==i.product.details&&i.product.details.customerType===e&&(i.product.details.locationIndicator.toUpperCase()===r.toUpperCase()||i.product.details.locationIndicator.toUpperCase().indexOf(r.toUpperCase())>-1)){var s=i&&i.product&&i.product.allowProduct?i.product.allowProduct.split(","):[],n=i&&i.product&&i.product.allowDevice?i.product.allowDevice.split(","):[],u=!0;if($.each($.makeArray(t),function(e,t){$.inArray(t.decoderModel,n)<0&&(u=!1)}),$.inArray(o,s)>=0&&!0===u&&i.product.details.name){var d=Komodo.Models.ProductModel.create();d.set("productID",i.product.details.productID),d.set("name",i.product.details.name),d.set("allowDevice",i.product.allowDevice),d.set("isSelected",!1),a.pushObject(d)}}})},isMobileDevice:function(e){var t=!0,o=this;return $.each(o.allHardwareCpcs,function(r,c){return c.CanonicalKey===e&&c.CanonicalValue===o.getValueFromConstant("ProductsConstants","productsConstants.products.MOBILE_HARDWARE")&&(t=!1),t}),!t},isDTTDevice:function(e){var t=!0,o=this;return $.each(o.allHardwareCpcs,function(r,c){return c.CanonicalKey===e&&c.CanonicalValue===o.getValueFromConstant("ProductsConstants","productsConstants.products.DTT_HARDWARE")&&(t=!1),t}),!t},isGotvDevice:function(e){var t=this,o=!1;return $.each(t.allHardwareCpcs,function(r,c){return c.CanonicalKey!==e||c.CanonicalValue!==t.getValueFromConstant("ProductsConstants","productsConstants.products.GOTV_HARDWARE")&&c.CanonicalValue!==t.getValueFromConstant("ProductsConstants","productsConstants.products.DTT_HARDWARE")||(o=!0,!1)}),o},getDeviceType:function(e){var t=this,o=void 0;return $.each(t.allHardwareCpcs,function(t,r){return r.CanonicalKey!==e||(o=r.CanonicalValue,!1)}),o},getDeviceCPCCanonicalKeyBySytemKey:function(e){var t=this,o=void 0;return $.each(t.allHardwareCpcs,function(t,r){return r.SystemKey!==e||(o=r.CanonicalKey,!1)}),o},allHardwareCpcs:[]}).create(),Komodo.UI.Class=Ember.Object.extend({init:function(){this._super()},ProductDetails:Ember.Object.extend({init:function(){this.country=void 0,this.currencyID=void 0,this.customerClass=void 0,this.customerType=void 0,this.locationIndicator=void 0,this.marketSegment=void 0,this.productCategory=void 0,this.productID=void 0,this.name=void 0,this.chargePeriod=[],this.shortTermSubscriptionId=void 0}}),Product:Ember.Object.extend({init:function(){this.details=Komodo.UI.Class.ProductDetails.create(),this.allowDevice=[],this.allowProduct=[],this.price=Komodo.UI.Class.Prices.create()}}),Products:Ember.Object.extend({init:function(){this.product=Komodo.UI.Class.Product.create()}}),Tax:Ember.Object.extend({init:function(){this.type=void 0,this.percent=void 0,this.amount=void 0}}),Price:Ember.Object.extend({init:function(){this.amount=void 0,this.discoundAmount=void 0,this.finalAmount=void 0,this.chargePeriod=void 0,this.noOfUnitFrom=void 0,this.noOfUnitTo=void 0,this.show=!1,this.taxType1=Komodo.UI.Class.Tax.create(),this.taxType2=Komodo.UI.Class.Tax.create(),this.taxType3=Komodo.UI.Class.Tax.create(),this.deviceModel=void 0,this.stsId=void 0}}),Prices:Ember.Object.extend({init:function(){this.price=[]}})}).create();
Komodo.Services.QueryService=Ember.Object.extend(Komodo.Dependency,{_selectedCountryId:void 0,_elevatedPrivilegeSessionToken:void 0,_config:void 0,init:function(){this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this.refreshUserData),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this.refreshUserData),_config=this.getKomodoConfiguration()},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getEventAggregator:function(){return this.get("_eventAggregator")},getSecurityService:function(){return this.get("_securityService")},getCacheRepository:function(){return this.get("_cacheRepository")},getJSONFromApiRoot:function(e,t){var o=t||{};return void 0==o.async&&(o.async=!0),o.cache||(o.cache=!1),$.ajax({url:this.getApiRootUrl(e)+e,dataType:"json",type:"GET",async:o.async,cache:o.cache})},putJSONApiRoot:function(e,t){var o=t||{},n=o.data||{};void 0==o.async&&(o.async=!0),o.cache||(o.cache=!1);var n=o.data;return $.ajax({url:this.getApiRootUrl(e)+e,type:"PUT",contentType:"application/json",data:JSON.stringify(n),async:o.async,cache:o.cache})},postJSONApiRoot:function(e,t){var o=t||{},n=o.data||{};void 0==o.async&&(o.async=!0),o.cache||(o.cache=!1);var n=o.data;return $.ajax({url:this.getApiRootUrl(e)+e,type:"POST",contentType:"application/json",data:JSON.stringify(n),async:o.async,cache:o.cache})},patchJSONApiRoot:function(e,t){var o=t||{};void 0==o.async&&(o.async=!0),o.cache||(o.cache=!1);var n=o.data||{};return $.ajax({url:this.getApiRootUrl(e)+e,type:"PATCH",contentType:"application/json",data:JSON.stringify(n),async:o.async,cache:o.cache})},getApiRootUrl:function(e){var t;if(Komodo.guard.againstUndefined(e,"baseUrl"),0==e.length)throw new Error("Komodo.Servics.QueryService.getAPIUrl: argument 'baseUrl' may not be empty.");return t=this.getKomodoConfiguration().apiRoot,(t+="/")+this.getSelectedCountryId()+"/"},getJSON:function(e,t){var o=t||{};return void 0==o.async&&(o.async=!0),o.cache||(o.cache=!1),$.ajax({url:this.getAPIUrl(e)+e,dataType:"json",type:"GET",async:o.async,cache:o.cache})},postJSON:function(e,t){var o=t||{};void 0==o.async&&(o.async=!0);var n=o.data||{};return $.ajax({url:this.getAPIUrl(e)+e,type:"POST",async:o.async,contentType:"application/json",data:JSON.stringify(n),beforeSend:o.beforeSend,timeout:o.timeout})},deleteJSON:function(e,t){var o=t||{};void 0==o.async&&(o.async=!0);var n=o.data||{};return $.ajax({url:this.getAPIUrl(e)+e,type:"DELETE",async:o.async,contentType:"application/json",data:JSON.stringify(n),beforeSend:o.beforeSend,timeout:o.timeout})},refreshUserData:function(){this.retrieveSelectedCountry()},retrieveSelectedCountry:function(){var e=this;this.getCacheRepository().fetch(Komodo.CacheKeys.selectedCountry).done(function(t){e.set("_selectedCountryId",t.data.countryId)})},getAPIUrl:function(e){var t;if(Komodo.guard.againstUndefined(e,"baseUrl"),0==e.length)throw new Error("Komodo.Servics.QueryService.getAPIUrl: argument 'baseUrl' may not be empty.");return t=this.getKomodoConfiguration().ibsApiUrl,-1==t.indexOf("/",t.length-1)&&(t+="/"),t+this.getSelectedCountryId()+("/"!=e[0]?"/":"")},getSelectedCountryId:function(){var e=this.get("_selectedCountryId");return Komodo.guard.againstUndefined(e,"_selectedCountryId"),e},elevatedPrivilegeBeforeSend:function(e){Komodo.Services.queryService.get("_elevatedPrivilegeSessionToken")&&(e.setRequestHeader("komodo-sessiontoken",Komodo.Services.queryService.get("_elevatedPrivilegeSessionToken")),_config.channelSplitCompatability&&e.setRequestHeader("countryisocode",Komodo.loggedInCountry||""),Komodo.Services.queryService.set("_elevatedPrivilegeSessionToken",void 0))}}),Komodo.Services.queryService=Komodo.Services.QueryService.create();
Komodo.UI.AuthenticatedRoute=Komodo.UI.Route.extend({activate:function(){if(this._super(),!this.getSecurityService().get("isAuthenticated"))return void this.getUIService().getController("login").authenticate()}});
Komodo.UI.OfflineRoute=Komodo.UI.Route.extend({init:function(){this._super(),this.requiresDependency("_offlineService",{singleton:Komodo.Services.offlineService})},getOfflineService:function(){return this.get("_offlineService")},activate:function(){if(this._super(),!this.getOfflineService().workingOffline()&&!this.getSecurityService().get("isAuthenticated"))return void this.getUIService().getController("login").authenticate()}});
Komodo.Services.PushNotificationService=Ember.Object.extend(Komodo.Dependency,{_messageType:void 0,_payload:void 0,init:function(){this._super(),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator})},setMessageType:function(e){this.set("_messageType",e)},setPayload:function(e){this.set("_payload",e)},publishNotificationEvent:function(){this.getEventAggregator().publish(this.get("_messageType"),this.get("_payload"))},getEventAggregator:function(){return this.get("_eventAggregator")}}),Komodo.Services.pushNotificationService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.PushNotificationService(KomodoConfiguration,Komodo.Services.eventAggregator):Komodo.Services.PushNotificationService.create();
Komodo.Application.LoginView=Komodo.UI.View.extend({templateName:"LoginView"});
Komodo.Application.RecentCustomersView=Komodo.UI.View.extend({templateName:"RecentCustomersView",init:function(){Ember.ENV.RAISE_ON_DEPRECATION=!0,this._super()},didInsertElement:function(){$("#komodo-recent-customers-container").hide(),$(document).on("click",function(e){var t=$("#komodo-recent-customers-container");t.is(e.target)||0!==t.has(e.target).length||$("#komodo-recent-customers-container").slideUp()}),this._super()}});
Komodo.Controls.DataGridPager=Ember.CollectionView.extend({tagName:"ul",classNames:["pagination"],disabledBinding:"parentView.disabled",page:function(e){this.get("parentView").showPage(e)},contentBinding:"parentView._pager.pages",itemViewClass:Ember.View.extend({classNameBindings:["content.isActive:active","content.isDisabled:disabled","disabled:disabled"],disabledBinding:"parentView.disabled",actions:{page:function(){this.get("parentView").page(this.get("content.display"))}},hrefElementId:function(){return this.get("parentView.parentView.elementId")+"_pager_"+this.get("contentIndex")}.property(),templateName:"DataGridPagerView"})});
Komodo.Controls.DataGrid=Komodo.Controls.DataGridView.extend(Ember.SortableMixin,Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{templateName:"DataGridView",attributeBindings:["tabindex","visible"],_pager:void 0,content:void 0,canSort:!1,title:void 0,pageSize:0,visiblePageCount:10,columns:void 0,footers:void 0,canDelete:!1,deleteText:void 0,canEdit:!1,editMode:"line",sortProperties:void 0,performsValidation:!0,canSelect:!1,selectedItem:void 0,showFooter:!1,commandItem:void 0,commandItemType:void 0,disabled:!1,_showFooter:function(){return this.showFooter}.property("showFooter"),_hasFooterData:function(){return void 0!=this.get("footers")}.property("footers"),_showPaging:function(){return this.get("contentLength")>this.get("pageSize")}.property("contentLength","pageSize"),_canSortGrid:function(){return this.canSort&&!this.get("disabled")}.property("canSort","disabled"),_commandItemChanged:function(){void 0!==this.get("commandItem")&&null!==this.get("commandItem")||this.set("commandItemType",void 0)}.observes("commandItem"),contentLength:function(){this.notifyPropertyChange("arrangedContent"),this.notifyPropertyChange("gridData");var t=this.get("content");return t?t.length:0}.property("content.@each"),columnCount:function(){var t=0;return this.columns&&(t+=this.columns.length),this.get("canDisplayActions")&&(t+=1),t}.property(),init:function(){if(this.set("viewKey","dg_"+this.get("parentView.elementId")),this._super(),this.registerLocalizedProperties(["title"]),void 0===this.deleteText&&(this.deleteText=kl.value("controls.datagrid.defaultDeleteText")),this.get("pageSize")>0){var t=Komodo.Controls.DataGridPagerController.create({controlToPage:this});this.set("_pager",t)}},showPage:function(t){this.get("_pager")&&(this.get("_pager").pageTo(t),this.notifyPropertyChange("gridData"))},gridData:function(){var t,e=this.get("arrangedContent");return e&&(t=Ember.A(e.copy()),this.get("pageSize")>0&&(t=this._pager.getPagedContent(t))),t}.property(),canDisplayActions:function(){return(this.get("canEdit")||this.get("canDelete"))&&!1===this.get("disabled")}.property("canDelete","canEdit","disabled"),canEditFullLine:function(){return this.get("canEdit")}.property("canEdit","editMode"),actions:{sort:function(t){var e,o,i=t.title,n=this.get("sortProperties"),r=n?n[0]:void 0;this.get("columns").forEach(function(t){t.set("isSortedAsc",!1),t.set("isSortedDesc",!1)}),$.each(this.get("columns"),function(){if(this.title==i)return e=this.name,o=this,!1}),o&&(r!=e?(this.set("sortAscending",!0),this.set("sortProperties",[e])):this.set("sortAscending",!this.get("sortAscending")),!0===this.get("sortAscending")?o.set("isSortedAsc",!0):o.set("isSortedDesc",!0)),this.notifyPropertyChange("gridData")}},removeItem:function(t){var e,o=this,i=function(e){var i=o.get("content"),n=i.indexOf(e);n>-1&&i.removeAt(n),o.set("commandItemType","delete"),o.set("commandItem",e),Ember.run.next(function(){o.set("commandItem",void 0)}),t===o.get("selectedItem")&&o.set("selectedItem",void 0)};void 0===this.get("deleteText")||null===this.get("deleteText")||0===this.get("deleteText").length?i(t):(e=Komodo.Controls.MessageBoxController.show(kl.value("controls.datagrid.deleteTitle"),this.get("deleteText"),Komodo.Controls.MessageBoxYesNoButtons,this,"delItem","alert"),e.response=function(e){"yes"==e&&i(t)})},gridContentView:Komodo.Controls.DataGridContent,gridPagerView:Komodo.Controls.DataGridPager});
Komodo.Application.DebugView=Komodo.UI.View.extend({templateName:"DebugView",init:function(){Ember.ENV.RAISE_ON_DEPRECATION=!0,this._super()},didInsertElement:function(){$("#komodo-debug-popup").hide(),this._super()}});
Komodo.Application.FailedMessagesView=Komodo.UI.View.extend({templateName:"FailedMessagesView",didInsertElement:function(){$("#komodo-debug-popup").hide(),this._super()}});
Komodo.UI.Validators.viewingPointsValidator=function(a,e,o){var n=Ember.A(),i=a[Object.keys(a)[0]];o=o||{};var t=o.displayName,l=o.maximumAllowedViewingPoints;l=parseInt(l,10)>0?l:-1;return void 0!==i&&null!==i&&""!==i&&(n=function(){var a=void 0;if(Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(e){a=e.data.countryId}),i&&e.viewingLocation){var o,m=e.viewingLocation.CanonicalValue?e.viewingLocation.CanonicalValue.toLowerCase():"default";o=Evaluate("Komodo.ManageViewingContants."+a)?Evaluate("Komodo.ManageViewingContants."+a+".Commercial."+m)&&Evaluate("Komodo.ManageViewingContants."+a+".Commercial."+m+".MIN_VIEWING_POINTS")?Evaluate("Komodo.ManageViewingContants."+a+".Commercial."+m+".MIN_VIEWING_POINTS"):Evaluate("Komodo.ManageViewingContants."+a+".Commercial.default.MIN_VIEWING_POINTS"):Evaluate("Komodo.ManageViewingContants.default.Commercial.default.MIN_VIEWING_POINTS"),parseInt(i,10)<parseInt(o,10)&&n.addObject(kl.value("locale.manageviewing:commercial.minValueDefaultErrorMessage",{displayName:t,minValue:o})),-1!==parseInt(l,10)&&parseInt(i,10)>parseInt(l,10)&&n.addObject(kl.value("locale.manageviewing:commercial.maxValueDefaultErrorMessage",{displayName:t,maxValue:l}))}return n}()),n};
Komodo.Application.PrerequisitesRoute=Komodo.UI.Route.extend(Komodo.Dependency,{useCaseName:"prerequisites",init:function(){this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService})},getUIService:function(){return this.get("_uiService")},getSystemService:function(){return this.get("_systemService")},activate:function(){this._super(),this.getSystemService().get("arePrerequisitesMissing")||this.getUIService().transitionTo("login")}}),Komodo.UI.Route.registerRoutes(function(){this.resource("prerequisites")});
Komodo.Application.PrerequisitesView=Komodo.UI.View.extend({viewKey:"PrerequisitesView"});
Komodo.Models.ListOfProduct=Ember.Object.extend({init:function(){this.Product=[],this._super()}});
Komodo.Models.HardwarePairing=Ember.Object.extend({init:function(){this.DecoderSerialNumber=void 0,this.SmartcardSerialNumber=void 0,this._super()}});
Komodo.Models.ValidateHardwarePairing=Ember.Object.extend({init:function(){this.Country=void 0,this.DecoderSerialNumber=void 0,this.SmartcardSerialNumber=void 0,this._super()}});
Komodo.Models.UpdateRDCheque=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.RDCheque=Komodo.Models.RDCheque.create(),this._super()}});
Komodo.Models.UpdateFinancialAccount=Ember.Object.extend({init:function(){this.Country=void 0,this.Account=Komodo.Models.Account.create(),this._super()}});
Komodo.Models.SetFTApprovalStatus=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfFTApprovalStatus=void 0,this._super()}});
Komodo.Models.ListOfUpgradeDowngradeServices=Ember.Object.extend({init:function(){this.UpgradeDowngradeService=[],this._super()}});
Komodo.Models.ServicesForUpgradeDowngradeRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfUpgradeDowngradeServices=Komodo.Models.ListOfUpgradeDowngradeServices.create(),this._super()}});
Komodo.Models.ReverseFinancialTransaction=Ember.Object.extend({init:function(){this.Country=void 0,this.FinancialTransactionUID=void 0,this.RequestedBy=void 0,this.Comments=void 0,this.Amount=void 0,this.PeriodFrom=void 0,this.PeriodTo=void 0,this.IsFullReversal=void 0,this.Language=void 0,this._super()}});
Komodo.Models.RetrieveProduct=Ember.Object.extend({init:function(){this.Country=void 0,this.Type=void 0,this.PostalCode=void 0}});
Komodo.Models.RetrieveLookup=Ember.Object.extend({init:function(){this.Country=void 0,this.QueryItem=[],this._super()}});
Komodo.Models.RetrieveHardwareIssuedAgainstQuote=Ember.Object.extend({init:function(){this.QuotationId=void 0,this.UserId=void 0,this.LocationId=void 0,this.CustomerId=void 0,this.Country=void 0,this._super()}});
Komodo.Models.RDChequeUpdated=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.RDCheque=Komodo.Models.RDCheque.create(),this._super()}});
Komodo.Models.CustomerAuthority=Ember.Object.extend({init:function(){this.AuthorityType=void 0,this.PersonalDetail=Komodo.Models.PersonalDetail.create(),this._super()}});
Komodo.Models.ListOfCustomerAuthority=Ember.Object.extend({init:function(){this.CustomerAuthority=[],this._super()}});
Komodo.Models.Consumer=Ember.Object.extend({init:function(){this.UID=void 0,this.RelationshipType=void 0,this.IsHouseholdMember=void 0,this.AllowedToTransact=void 0,this.ConsumerDetail=Komodo.Models.PersonalDetail.create(),this._super()}});
Komodo.Models.ListOfConsumer=Ember.Object.extend({init:function(){this.Consumer=[],this._super()}});
Komodo.Models.Establishement=Ember.Object.extend({init:function(){this.Type=void 0,this.Name=void 0,this.ListOfAddress=Komodo.Models.ListOfAddress.create(),this.ListOfConsumer=Komodo.Models.ListOfConsumer.create(),this.ListOfCustomerAuthority=Komodo.Models.ListOfCustomerAuthority.create(),this.ListOfViewingEnvironment=Komodo.Models.ListOfEmail.create(),this._super()}});
Komodo.Models.Quotation=Ember.Object.extend({init:function(){this.UID=void 0,this.CreateDate=void 0,this.ExpiryDate=void 0,this.ValidityIndicator=void 0,this.AffectedAgreementIdentifier=void 0,this.LeadUID=void 0,this.CustomerUID=void 0,this.TotalPrice=Komodo.Models.Price.create(),this.Status=void 0,this.TermOfPayment=void 0,this.StatusReason=void 0,this.FollowupFlag=void 0,this.ListOfQuotationLineItem=Komodo.Models.ListOfQuotationLineItem.create(),this.BusinessUnit=void 0,this.VATNumber=void 0,this.Category=void 0,this._super()}});
Komodo.Models.QuotationAccepted=Ember.Object.extend({init:function(){this.Country=void 0,this.LocationID=void 0,this.UserID=void 0,this.Quotation=Komodo.Models.Quotation.create(),this._super()}});
Komodo.Models.ListOfParameters=Ember.Object.extend({init:function(){this.Paramaters=[],this._super()}});
Komodo.Models.OperationalCommunicationTemplateCreated=Ember.Object.extend({init:function(){this.Country=void 0,this.OperationalCommunicationTemplate=Komodo.Models.OperationalCommunicationTemplate.create(),this._super()}});
Komodo.Models.OperationalCommunicationMessage=Ember.Object.extend({init:function(){this.MessageUID=void 0,this.Name=void 0,this.Category=void 0,this.Owner=void 0,this.Country=void 0,this.ExecutionCycle=void 0,this.Status=void 0,this.StatusReason=void 0,this.ActivationDate=void 0,this.RemoveFromExecution=void 0,this.CreateDate=void 0,this.ApprovalDate=void 0,this.RejectionDate=void 0,this.ApprovedBy=void 0,this.RejectionReason=void 0,this.Description=void 0,this.ListOfOperationalCommunicationFilterCriteria=Komodo.Models.ListOfOperationalCommunicationFilterCriteria.create(),this.ChannelUseFlag=void 0,this.TriggeringEntity=void 0,this.TriggeringCondition=void 0,this.MessageType=void 0,this.ExecutionType=void 0,this.ExecutionDate=void 0,this.CountOfSample=void 0,this.ReportToEmailGenerate=void 0,this._super()}});
Komodo.Models.OperationalCommunicationMessageCreated=Ember.Object.extend({init:function(){this.Country=void 0,this.OperationalCommunicationMessage=Komodo.Models.OperationalCommunicationMessage.create(),this._super()}});
Komodo.Models.NotifyHardwareMovement=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this.CustomerID=void 0,this.SalesOrderID=void 0,this.ReferenceID=void 0,this.SaleType=void 0,this.OrderType=void 0,this.NotificationType=void 0,this.Username=void 0,this.LocationID=void 0,this.ParcelNumber=void 0,this.InvoiceNumber=void 0,this.CreditNoteNumber=void 0,this.DeliveryNoteNumber=void 0,this._super()}});
Komodo.Models.HardwareRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this._super()}});
Komodo.Models.MPOSDeviceAssociated=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ListOfAccount=Komodo.Models.ListOfAccount.create(),this._super()}});
Komodo.Models.Lookup=Ember.Object.extend({init:function(){this.Name=void 0,this.Language=void 0,this.ListOfKeyValuePair=[],this._super()}});
Komodo.Models.LookupsRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfLookup=[],this._super()}});
Komodo.Models.HardwareRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this.CustomerUID=void 0,this._super()}});
Komodo.Models.GenerateSwapOrder=Ember.Object.extend({init:function(){this._super(),this.Hardware=Komodo.Models.Hardware.create(),this.OrderType=void 0,this.RepairReasonDescription=void 0,this.RepairCategoryDescription=void 0,this.CustomerID=void 0,this.Username=void 0,this.LocationID=void 0,this.Country=void 0,this.RepairReasonDescriptionCustomer=void 0,this.RepairCategoryDescriptionCustomer=void 0,this.VoidOverride=void 0,this.VoidOverrideComment=void 0,this.VoidOverrideUsername=void 0}});
Komodo.Models.FTApprovalRequestsRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.FTApprovalRequest=Komodo.Models.ListOfFTApprovalRequest.create(),this._super()}});
Komodo.Models.FTApprovalRequestsRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.FTApprovalRequest=Komodo.Models.ListOfFTApprovalRequest.create(),this._super()}});
Komodo.Models.FinancialAccountUpdated=Ember.Object.extend({init:function(){this.Country=void 0,this.Account=Komodo.Models.Account.create(),this._super()}});
Komodo.Models.FinancialAccountStatusUpdated=Ember.Object.extend({init:function(){this.Country=void 0,this.Account=Komodo.Models.Account.create(),this._super()}});
Komodo.Models.FinancialAccountsRetrieved=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.Accounts=Komodo.Models.ListOfAccount.create(),this._super()}});
Komodo.Models.DissociateMPOSDevice=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this._super()}});
Komodo.Models.CreateOperationalCommunicationTemplate=Ember.Object.extend({init:function(){this.Country=void 0,this.OperationalCommunicationTemplate=Komodo.Models.OperationalCommunicationTemplate.create(),this._super()}});
Komodo.Models.CreateOperationalCommunicationMessage=Ember.Object.extend({init:function(){this.Country=void 0,this.OperationalCommunicationMessage=Komodo.Models.OperationalCommunicationMessage.create(),this._super()}});
Komodo.Models.CreateFinancialAccount=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.Account=Komodo.Models.Account.create(),this._super()}});
Komodo.Models.CreateCampaign=Ember.Object.extend({init:function(){this.Country=void 0,this.Campaign=Komodo.Models.Campaign.create(),this._super()}});
Komodo.Models.CreateAgreement=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.Agreement=Komodo.Models.Agreement.create(),this._super()}});
Komodo.Models.CommercialProductsAdded=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ListOfAccount=Komodo.Models.ListOfAccount.create(),this._super()}});
Komodo.Models.ChangeServiceStatus=Ember.Object.extend({init:function(){this.Country=void 0,this.Devices=void 0,this._super()}});
Komodo.Models.ChangeCampaignStatus=Ember.Object.extend({init:function(){this.Campaign=Komodo.Models.Campaign.create(),this.Country=void 0,this._super()}});
Komodo.Models.CalculateSwapPrice=Ember.Object.extend({init:function(){this.Country=void 0,this.Hardware=Komodo.Models.Hardware.create(),this.CustomerID=void 0,this.RepairReasonDescription=void 0,this.RepairCategoryDescription=void 0,this.RepairServiceDescription=void 0,this.UserId=void 0,this.LocationId=void 0,this._super()}});
Komodo.Models.CalculateQuotationPrice=Ember.Object.extend({init:function(){this.Country=void 0,this.Quotation=Komodo.Models.Quotation.create(),this.LeadType=void 0,this._super()}});
Komodo.Models.AssociateMPOSDevice=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ListOfAccount=Komodo.Models.ListOfAccount.create(),this._super()}});
Komodo.Models.CreateOperationalCommunicationMessage=Ember.Object.extend({init:function(){this.Country=void 0,this.OperationalCommunicationMessage=Komodo.Models.OperationalCommunicationMessage.create(),this._super()}});
Komodo.Models.AddProducts=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ListOfAccount=Komodo.Models.ListOfAccount.create(),this._super()}});
Komodo.Models.AddCommercialProducts=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ListOfAccount=Komodo.Models.ListOfAccount.create(),this._super()}});
Komodo.Models.ListOfDeviceStatus=Ember.Object.extend({init:function(){this.DeviceStatus=[],this._super()}});
Komodo.Models.ListOfTemplateParameter=Ember.Object.extend({init:function(){this.TemplateParamater=[],this._super()}});
Komodo.Models.ListOfRecipients=Ember.Object.extend({init:function(){this.Recipient=[],this._super()}});
Komodo.Models.ListOfAttachment=Ember.Object.extend({init:function(){this.Attachment=[],this._super()}});
Komodo.Models.OutboundNotification=Ember.Object.extend({init:function(){this.BusinessEntity=void 0,this.BusinessUnit=void 0,this.Country=void 0,this.TemplateName=void 0,this.ListOfRecipient=[],this.ListOfAttachment=[],this.MessageData=void 0,this._super()}});
Komodo.Models.ListOfOutboundNotification=Ember.Object.extend({init:function(){this.OutboundNotification=[],this._super()}});
Komodo.Models.ListOfContext=Ember.Object.extend({init:function(){this.Context=[],this._super()}});
Komodo.Services.FeatureToggleService=Ember.Object.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService})},getCachedDataService:function(){return this.get("_cachedDataService")},getLocalizationService:function(){return this.get("_localizationService")},isEnabled:function(e,o){var r,a=this,i=$.Deferred(),t=(e+"."+o).toLowerCase();if(!e||!o)throw new Error("Komodo.Services.FeatureToggleService.isEnabled: Please specify both the 'feature' and the 'toggle' parameters");return this.getCachedDataService().fetch("FeatureToggles",{qualifier:"global"}).done(function(e){if(e.forEach(function(e){r||e.key.toLowerCase()==t&&(r=e)}),!r)return void i.resolve(!1);switch((r.value||"unknown").toLowerCase()){case"true":i.resolve(!0);break;case"false":i.resolve(!1);break;default:i.reject(a.getLocalizationService().value("locale.komodo:featureToggles.isEnabledError",{name:t,error:a.getLocalizationService().value("locale.komodo:featureToggles.unknownValue",{value:r.value})}))}}).fail(function(e){i.reject(a.getLocalizationService().value("locale.komodo:featureToggles.retrieveFailure",{error:e}))}),i}}),Komodo.Services.featureToggleService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.FeatureToggleService(KomodoConfiguration,Komodo.Services.cachedDataService,Komodo.Services.localizationService,new Infrastructure.Core.Logger):Komodo.Services.FeatureToggleService.create();
Komodo.UI.MaskInputs=Ember.Object.extend({init:function(){this._super()},canMask:function(e,n,r,t){return!(Ember.isBlank(e)||Ember.isBlank(n)||Ember.isBlank(r)||Ember.isBlank(t))&&(t>=0&&t<=r.length)},maskValues:function(e,n,r,t){if(this.canMask(e,n,r,t)){var s="",a="",i="";switch(n){case"1":if(r.length>4){s=r.slice(0,r.length-t),a=r.slice(r.length-t);for(var l=0;l<s.length;l++)i+=e;return r=i+a}return r;case"2":for(var c=0;c<r.length;c++)i+=e;return r=i;case"3":if(r.length>6){s=r.slice(0,t),a=r.slice(t);for(var u=0;u<a.length;u++)i+=e;return r=s+i}return r;default:return}}}}).create();
Komodo.Application.ErrorCodesView=Komodo.UI.View.extend({viewKey:"ErrorCodesView",templateName:"ErrorCodesView"});
Komodo.Controls.Calendar=Ember.View.extend(Komodo.Controls.Control,Komodo.Dependency,{tag:"div",classNames:["container"],isCalendarEditable:void 0,calendarEvents:void 0,init:function(){this._super(),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.getUiService().generateElementId(this)},getUiService:function(){return this.get("_uiService")},didInsertElement:function(){$("#"+this.get("elementId")).fullCalendar({header:{left:"prev,next today",center:"title",right:"month,basicWeek,basicDay"},editable:this.get("isCalendarEditable")||!1,eventLimit:!0,events:this.get("calendarEvents")})}});
Komodo.Models.CancelDecoderPaymentPlan=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerID=void 0,this.DPPHardware=void 0,this.SalesOrderID=void 0,this.FinancialAccount=void 0,this.DecoderPaymentPlanID=void 0,this._super()}});
Komodo.Controls.ActionView=Ember.View.extend(Komodo.Controls.Control,Komodo.Controls.KomodoAction,{content:void 0,init:function(){this._super(),Komodo.Services.uiService.getUniqueElementId(this,"action-view")}});
Komodo.Models.RemoveConsumer=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ListOfConsumer=Komodo.Models.ListOfConsumer.create(),this._super()}});
Komodo.Controls.LabelFieldView=Ember.View.extend(Komodo.Controls.Control,Komodo.Controls.ViewLocalization,{value:void 0,label:null,validator:null,property:void 0,tagName:"div",templateName:"LabelFieldView",attributeBindings:["visible"],_labelFieldViewElementId:void 0,init:function(){this._super(),this.registerLocalizedProperties(["label"]);var e=Komodo.Services.uiService.generateRawElementId(this);this.set("_labelFieldViewElementId",Komodo.Services.uiService.getUniqueElementId(this,e)),this.set("elementId",Komodo.Services.uiService.getUniqueElementId(this,e+"Container"))},LabelView:Komodo.UI.View.extend({tagName:"label",textBinding:Ember.Binding.oneWay("parentView.label"),templateName:"LabelFieldLabelView"}),FieldView:null,validationView:Komodo.Controls.CoreValidation.extend({validatorBinding:Ember.Binding.oneWay("parentView.validator"),init:function(){this._super(),this.set("elementId",this.get("parentView._labelFieldViewElementId")+"-validation")}}),hasRequiredValidator:function(){return this.get("validator.hasRequiredValidator")}.property("validator.functions"),isVisible:function(){return this.get("visible")}.property("visible")});
Komodo.Controls.Select=Komodo.Controls.LabelFieldView.extend({FieldView:Komodo.Controls.CoreSelect.extend(Komodo.Controls.FieldView,{init:function(){this._super(),this.set("elementId",this.get("parentView._labelFieldViewElementId"))},sizeBinding:"parentView.size",multipleBinding:"parentView.multiple",contentBinding:"parentView.content",optionLabelPathBinding:"parentView.optionLabelPath",optionValuePathBinding:"parentView.optionValuePath",selectionBinding:"parentView.selection",valueBinding:"parentView.value",promptBinding:"parentView.prompt"})});
Komodo.Models.UpdateConsumer=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ListOfConsumer=Komodo.Models.ListOfConsumer.create(),this._super()}});
Komodo.Models.RepairHardware=Ember.Object.extend({init:function(){this._super(),this.Country=void 0,this.CustomerID=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this.RepairReasonDescription=void 0,this.RepairCategoryDescription=void 0,this.RepairServiceDescription=void 0,this.Username=void 0,this.LocationID=void 0}});
Komodo.Models.UpdateDStvCustomer=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerDetail=Komodo.Models.CustomerDetail.create(),this.Account=void 0,this._super()}});
Komodo.Models.ChangeDeviceOwnership=Ember.Object.extend({init:function(){this._super(),this.Country=void 0,this.FromCustomerID=void 0,this.Username=void 0,this.ToCustomerID=void 0,this.Hardware=Komodo.Models.ListOfHardware.create(),this.Installation=Komodo.Models.Installation.create()}});
Komodo.Models.DelinkDeviceForChangeOwnership=Ember.Object.extend({init:function(){this._super(),this.Country=void 0,this.CustomerID=void 0,this.ToBeStatus=void 0,this.StatusChangeReason=void 0,this.Username=void 0,this.LocationID=void 0,this.Hardware=Komodo.Models.Hardware.create(),this.ScheduledCancellationDate=void 0,this.Case=Komodo.Models.HardwareCase.create()}});
Komodo.Controls.CoreTextLabel=Ember.View.extend(Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{tagName:"span",templateName:"CoreTextLabel",classNameBindings:["label"],attributeBindings:["tabindex","checked","id","disabled","visible"],init:function(){this._super(),this.registerLocalizedProperties(["text"]),Komodo.Services.uiService.generateElementId(this)}});
Komodo.Controls.LabelField=Komodo.Controls.LabelFieldView.extend({init:function(){this._super(),this.set("validationView",void 0)},FieldView:Komodo.Controls.CoreTextLabel.extend(Komodo.Controls.FieldView,{tagName:"label",classNameBindings:["label"],textBinding:"parentView.value",init:function(){this.set("elementId",this.get("parentView._labelFieldViewElementId")),this._super()}})});
Komodo.Controls.Label=Ember.View.extend(Komodo.Controls.TypeSupport,Komodo.Controls.Control,{classNames:"label",typeName:"label",contentBinding:null}),Komodo.Controls.Badge=Ember.View.extend(Komodo.Controls.TypeSupport,Komodo.Controls.Control,{classNames:"badge",typeName:"badge",content:null});
Komodo.Application.SearchProcessResponseView=Komodo.UI.View.extend({viewKey:"SearchProcessResponseView",displayDataChanged:function(){this.rerender()}.observes("context._displayData"),didInsertElement:function(){var e=this.get("context._term");$("#search-process-response-results .search-result-value").each(function(){$(this).html($(this).html().replace(new RegExp(e,"ig"),"<span class='search-highlight'>"+e+"</span>"))})}});
Komodo.Services.PermissionService=Ember.Object.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_communicationService",{singleton:Komodo.Services.communicationService})},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getCommunicationService:function(){return this.get("_communicationService")},_getJsonDeferred:function(e,o){var r=this,n=$.Deferred();return Ember.run(function(){r.getCommunicationService().getResource(e+(o?"/"+o:"")).done(function(e){Ember.run(function(){n.resolve(e)})}).fail(function(e,o,r){n.reject(r)})}),n},_postJsonDeferred:function(e,o,r){var n=$.Deferred();return this.getCommunicationService().postResource(e+(r?"/"+r:""),{data:o}).done(function(e){n.resolve(e)}).fail(function(e,o,r){n.reject(r,e)}),n},_deleteJsonDeferred:function(e,o,r){var n=$.Deferred();return this.getCommunicationService().deleteResource(e+(r?"/"+r:""),{data:o}).done(function(e){n.resolve(e)}).fail(function(e,o,r){n.reject(r)}),n},fetchAvailableRoles:function(){return this._getJsonDeferred("roles")},fetchAvailableRoleModules:function(e){return this._getJsonDeferred("rolemodule",e)},fetchAvailableRoutes:function(){return this._getJsonDeferred("routes")},fetchRoleRoutes:function(e){return this._getJsonDeferred("roleRoutes",e)},compareEnvironments:function(e,o){var r=this,n=$.Deferred();return Ember.run(function(){var t=Komodo.Services.uiService.getController("application").get("_selectedCountryId");r.getCommunicationService().getResource("/securitySlots?isoCode="+t+"&env1="+e+"&env2="+o).done(function(e){Ember.run(function(){n.resolve(e)})}).fail(function(e,o,r){n.reject(r,e)})}),n},promoteSecurity:function(e){return this._postJsonDeferred("securitySlots",e)},fetchAvailablePermissions:function(){return this._getJsonDeferred("permissions")},fetchAvailableModules:function(){return this._getJsonDeferred("modules")},fetchRolePermissions:function(e){return this._getJsonDeferred("rolePermissions",e)},applyRoleRoutes:function(e,o){return this._postJsonDeferred("roleroutes",o,e)},applyRoleModules:function(e){return this._postJsonDeferred("rolemodule",e)},applyRolePermissions:function(e,o){return this._postJsonDeferred("rolepermissions",o,e)},addRole:function(e){return this._postJsonDeferred("roles",e)},addPermission:function(e){return this._postJsonDeferred("permissions",e)},addModule:function(e){return this._postJsonDeferred("modules",e)},removePermission:function(e){return this._deleteJsonDeferred("permissions",e)},removeModule:function(e){return this._deleteJsonDeferred("modules",e)},addRoute:function(e,o,r){return this._postJsonDeferred("routes",{routeName:e,description:o,deniedAction:r})}}),Komodo.Services.permissionService=KomodoConfiguration.overrideEmber?new Infrastructure.Core.PermissionService(Komodo.Services.communicationService):Komodo.Services.PermissionService.create();
Komodo.Services.ClarityConstantService=Ember.Object.extend(Komodo.Dependency,{init:function(){this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService})},getCachedDataService:function(){return this.get("_cachedDataService")},getUIService:function(){return this.get("_uiService")},fetchConstantValue:function(e,t){var i=$.Deferred(),o="";return this.getCachedDataService().fetch(e,{domain:this.getUIService().getController("application").get("_selectedCountryId"),qualifier:"global"}).done(function(e){e.forEach(function(e){e.key.toLowerCase()==t.toLowerCase()&&(o=e.value.split(","))}),i.resolve(o)}).fail(function(e){Komodo.log("[CLARITY CONSTANT SERVICE ERROR] : failed to retrieve data for"+e),i.reject(e)}),i}}),Komodo.Services.clarityConstantService=Komodo.Services.ClarityConstantService.create();
Komodo.Models.DStvCustomerCreated=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerDetail=Komodo.Models.CustomerDetail.create(),this.Account=Komodo.Models.Account.create(),this._super()}});
Komodo.Models.VerifyPaymentDetail=Ember.Object.extend({init:function(){this.Country=void 0,this.FinancialAccountUID=void 0,this.PaymentDetail=Komodo.Models.PaymentDetail.create(),this._super()}});
Komodo.Application.IfEqualComponent=Ember.Component.extend({isEqual:function(){return alert(this.get("param1")+" === "+this.get("param2")),this.get("param1")!=this.get("param2")}.property("param1","param2")});
Komodo.Repositories.moduleRepository=KomodoConfiguration.overrideEmber?new Infrastructure.Core.Repository("Modules",new Infrastructure.Core.Logger):Komodo.Repositories.Repository.extend({name:"Modules"}).create();
Komodo.Application.RecentCustomersListView=Komodo.UI.View.extend({viewKey:"RecentCustomersListView"});
Komodo.Controls.CoreTextField=Ember.TextField.extend(Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{_attributeBindingProperty:void 0,tagName:"input",type:"text",classNameBindings:["validatorChanged"],attributeBindings:["type","value","size","pattern","name","tabindex","readonly","disabled","visible"],readonly:!1,init:function(){this._super(),void 0===this._attributeBindingProperty&&(this._attributeBindingProperty=this.get("valueBinding")),Komodo.Services.uiService.generateElementId(this)},keyDown:function(e){var t,i,o,r=this._attributeBindingProperty;46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||13==e.keyCode||65==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||void 0!==r&&null!==r&&(t=r._from,0===t.indexOf("bindingContext.")&&(".value"===t.substr(t.length-".value".length,".value".length)&&(t=t.substr(0,t.length-".value".length)),null!==(i=this.get(t))&&void 0!==i&&null!==(o=i.getLimitValueStrategy())&&void 0!==o&&!1===o.isKeyCodeAllowed(e)&&e.preventDefault()))},validatorChanged:function(){var e=this.get("validator")?this.get("validator"):this.get("parentView.validator");return e&&e.get("errors").length>0&&e.get("errors")[0].length>0?"komodo-textfield-invalid":void 0}.property("validator.errors.@each","parentView.validator.errors.@each"),bubbles:!1});
Komodo.Controls.TextField=Komodo.Controls.LabelFieldView.extend({FieldView:Komodo.Controls.CoreTextField.extend(Komodo.Controls.FieldView,{placeholderBinding:"parentView.placeholder",init:function(){this.set("_attributeBindingProperty",this.get("parentView.valueBinding")),this.get("parentView.type")||this.set("parentView.type","text"),this.set("elementId",this.get("parentView._labelFieldViewElementId")),this._super()},typeBinding:"parentView.type",valueBinding:"parentView.value",readonlyBinding:"parentView.readonly",maxlengthBinding:"parentView.maxlength"})});
Komodo.Controls.TablePager=Ember.View.extend(Komodo.Controls.Control,{identifyAs:"pager",tagName:"ul",classNames:["pagination"],templateName:"TablePagerView",itemsPerPage:10,tableId:void 0,currentPage:1,pageCount:0,visiblePageCount:10,content:void 0,pages:[],headerRows:1,didInsertElement:function(){this._super(),this.contentChanged()},currentPageChanged:function(){var e=this;this.get("pages")&&this.get("pages").forEach(function(t){t.set("isCurrent",!1),t.get("number")==e.get("currentPage")&&t.set("isCurrent",!0)})}.observes("currentPage"),contentChanged:function(){var e;if(this.get("content")){e=this.get("content").length,this.set("pageCount",Math.ceil(e/this.get("itemsPerPage"))),this.get("pages").clear();for(var t=1;t<=this.get("pageCount");t++)this.get("pages").addObject(Ember.Object.create({number:t,isCurrent:t==this.get("currentPage")}));for(;this.get("pageCount")>0&&this.get("pageCount")<this.get("currentPage");)this.set("currentPage",this.get("currentPage")-1);this.send("showPage",this.get("currentPage"))}}.observes("content.@each"),visiblePages:function(){var e,t,n,s,r,g=this.get("pages").length,a=this.get("visiblePageCount"),i=[];if(0==g)return i;a<3&&(a=3),s=Math.floor(a/2),e=this.get("currentPage")-s,t=this.get("currentPage")+s,e<1&&(r=Math.abs(e)+1,e+=r,t+=r),n=g,t>n&&(r=t-n,t-=r,e-=r),e<1&&(e=1);for(var o=e;o<=t;o++)i.addObject(this.get("pages")[o-1]);return i}.property("pages.@each","currentPage"),_contentReplaced:function(){this.send("showPage",1)}.observes("content"),showRecords:function(e,t){var n=this;Ember.run.next(function(){if(n.get("tableId"))for(var s=document.getElementById(n.get("tableId")).rows,r=1*n.get("headerRows");r<s.length;r++)s[r].style.display=r<e||r>t?"none":""})},isFirstPage:function(){return 1==this.get("currentPage")}.property("currentPage","pageCount"),isLastPage:function(){return this.get("currentPage")==this.get("pageCount")||0==this.get("pageCount")}.property("currentPage","pageCount"),actions:{showPage:function(e){this.set("currentPage",e);var t=(e-1)*(1*this.get("itemsPerPage"))+1*this.get("headerRows"),n=t+1*this.get("itemsPerPage")-1;this.showRecords(t,n)},previous:function(){this.get("currentPage")>1&&this.send("showPage",this.get("currentPage")-1)},next:function(){this.get("currentPage")<this.get("pageCount")&&this.send("showPage",1*this.get("currentPage")+1)},first:function(){this.get("currentPage")>1&&this.send("showPage",1)},last:function(){this.get("currentPage")<this.get("pageCount")&&this.send("showPage",this.get("pageCount"))}}});
Komodo.Models.Lead=Ember.Object.extend({init:function(){this.UID=void 0,this.CustomerUID=void 0,this.CompanyName=void 0,this.Type=void 0,this.Status=void 0,this.PersonalDetail=Komodo.Models.PersonalDetail.create(),this.ListOfPhoneNumber=Komodo.Models.ListOfPhoneNumber.create(),this.ListOfEmail=Komodo.Models.ListOfEmail.create(),this.ListOfAddress=Komodo.Models.ListOfAddress.create(),this.Language=void 0,this._super()}});
Komodo.Models.GenerateQuotation=Ember.Object.extend({init:function(){this.Country=void 0,this.Quotation=Komodo.Models.Quotation.create(),this.Lead=Komodo.Models.Lead.create(),this._super()}});
Komodo.Models.CommercialCustomerCreated=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerDetail=Komodo.Models.CustomerDetail.create(),this.Account=Komodo.Models.Account.create(),this._super()}});
Komodo.Application.PrerequisitesController=Komodo.UI.Controller.extend(Komodo.Dependency,{localServerRunning:void 0,localServerVersion:void 0,init:function(){this._super(),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService})},start:function(){var e=this;this._super(),jQuery.ajax({async:!1,type:"GET",cache:!1,url:this.getKomodoConfiguration().localStorageApiUrl}).done(function(o){e.set("localServerVersion",o.version),e.set("localServerRunning",!0)}).fail(function(){e.set("localServerRunning",!1)})},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getEventAggregator:function(){return this.get("_eventAggregator")},getLocalizationService:function(){return this.get("_localizationService")},localServerRequiredVersion:function(){return this.getKomodoConfiguration().localServerRequiredVersion}.property(),versionDetectedMessage:function(){return this.getLocalizationService().value("locale.komodo:prerequisites.nodejs.version",{localServerVersion:this.get("localServerVersion"),localServerRequiredVersion:this.get("localServerRequiredVersion")})}.property(),downloadUrl:function(){return this.getKomodoConfiguration().downloadUrls.nodejs.windows.installer}.property(),serverDownloadUrl:function(){return this.getKomodoConfiguration().downloadUrls.nodejs.server}.property(),actions:{goToLogin:function(){this.getEventAggregator().publish(Komodo.EventNames.restartApplication)}}});
Komodo.Application.ThemeSwitcherView=Komodo.UI.View.extend(Komodo.Controls.KomodoAction,Komodo.Controls.Control,{templateName:"ThemeSwitcherView",init:function(){this._super()}});
Komodo.Models.ImmediateDecoderSwapOrderGenerated=Ember.Object.extend({init:function(){this.ServiceOrderId=void 0,this.RepairServiceDescription=void 0,this.RepairReasonDescription=void 0,this.RepairCategoryDescription=void 0,this.UserId=void 0,this.LocationId=void 0,this.CustomerId=void 0,this.Country=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this._super()}});
Komodo.Models.IssueHardwareAgainstSalesOrder=Ember.Object.extend({init:function(){this._super(),this.SalesOrderID=void 0,this.Username=void 0,this.LocationID=void 0,this.CustomerID=void 0,this.Country=void 0,this.QuotationID=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create()}});
Komodo.Models.IssueHardwareAgainstServiceOrder=Ember.Object.extend({init:function(){this._super(),this.ServiceOrderID=void 0,this.Username=void 0,this.LocationID=void 0,this.CustomerID=void 0,this.Country=void 0,this.QuotationID=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this.ServiceOrderType=void 0}});
Komodo.Models.CreateCommercialCustomer=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerDetail=Komodo.Models.CustomerDetail.create(),this.Account=void 0,this.LeadUID=void 0,this.DuplicateCheck=void 0,this._super()}});
Komodo.Models.CreateConsumer=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerUID=void 0,this.ListOfConsumer=Komodo.Models.ListOfConsumer.create(),this._super()}});
Komodo.Application.ThemeSwitcherController=Komodo.UI.Controller.extend({init:function(){this._super(),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService})},getCacheRepository:function(){return this.get("_cacheRepository")},getSecurityService:function(){return this.get("_securityService")},actions:{changeTheme:function(e){document.getElementById("theme").href="Content/komodo-"+e.content+".css"}}});
Komodo.Models.CreateDStvCustomer=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerDetail=Komodo.Models.CustomerDetail.create(),this.Account=Komodo.Models.Account.create(),this.LeadUID=void 0,this._super()}});
Komodo.Application.UserRoleListView=Komodo.UI.View.extend({templateName:"UserRoleListView",tagName:"div",classNames:["modal-max-size"],_clarityRoles:void 0,_iccRoles:void 0,_crmRoles:void 0,init:function(){this.set("_clarityRoles",Komodo.Services.securityService.get("roles")),this.set("_iccRoles",Komodo.Services.securityService.get("iccRoles")),this.set("_crmRoles",Komodo.Services.securityService.get("crmRoles")),this._super()}});
Komodo.Application.GroupItemView=Ember.CollectionView.extend({tagName:"ul",classNames:["nav","nav-list"],itemViewClass:Ember.View.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService})},getSecurityService:function(){return this.get("_securityService")},classNameBindings:["isHidden","isDisabled"],moduleBinding:"content",titleBinding:"content.title",templateName:"GroupItemView",isActiveClass:function(){return Komodo.Application.currentRouteName===this.get("content.routeName")?"komodo-nav-active":""}.property("Komodo.Application.currentRouteName","content.routeName"),isActiveItem:function(){return Komodo.Application.currentRouteName===this.get("content.routeName")}.property("Komodo.Application.currentRouteName","content.routeName"),isDisabled:function(){return this._checkAccess("disable")?"disabled":""}.property(),isHidden:function(){return this.get("module").display?this._checkAccess("hide")?"komodo-hidden":"":"komodo-hidden"}.property(),_checkAccess:function(e){var t=this.get("module");return!t.url&&this.getSecurityService().routeAccessPermissionType(t.routeName).toLowerCase()==e}})});
Komodo.Models.NotifyHardwareRetailReturned=Ember.Object.extend({init:function(){this._super(),this.ReturnDate=void 0,this.Username=void 0,this.LocationId=void 0,this.Country=void 0,this.Reason=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create()}});
Komodo.UI.ExportFunctions=Ember.Object.extend({init:function(){this._super()},exportToExcelConvertor:function(t,e,r,n){var o="<html>";if(o+="<div>",o+="<table BORDER=1 >",o+="<tr>"+e+"</tr>",n){var a="<tr>";for(var i in t[0])a+="<td>",a+=i+"</td> ";o+=a+"</tr>"}for(var d=t.length,l=0;l<d;l++){var a="<tr>";for(var i in t[l])a+="<td>"+t[l][i]+"</td>";a+="</tr>",o+=a}if(o+="</table>",o+="</div>",""==(o+="</html>"))return void alert("Invalid data");r=void 0==r||""==r?"download":r.replace(/ /g,"_");var c="data:application/vnd.ms-excel,"+encodeURIComponent(o),v=document.createElement("a");v.href=c,v.style="visibility:hidden",v.download=r+"_"+this.formatDateForFileName(new Date)+".xls",document.body.appendChild(v),v.click(),document.body.removeChild(v)},convertDateTimeFromJavascriptDateforExport:function(t){function e(t){var e=t.toString();return e.length<2?"0"+e:e}var r=t.getFullYear(),n=e(t.getMonth()+1),o=e(t.getDate()),a=t.getHours(),i=t.getMinutes(),d=a>=12?"PM":"AM";return a%=12,a=a||12,i=i<10?"0"+i:i,seconds=e(t.getSeconds()),o+"-"+n+"-"+r+"&nbsp;"+a+":"+i+":"+seconds+"&nbsp;"+d},formatDateForFileName:function(t){var e="";if("0001-01-01T00:00:00"===t)return"";if(t){var r=new Date(t),n=r.getDate();n=n<10?"0"+n.toString():n.toString();var o=r.getMonth()+1;o=o<10?"0"+o.toString():o.toString();e=n+"-"+o+"-"+r.getFullYear()}return e}}).create();
Komodo.Models.SettleDecoderPaymentPlan=Ember.Object.extend({init:function(){this.Country=void 0,this.CustomerID=void 0,this.DPPHardware=void 0,this.SalesOrderID=void 0,this.FinancialAccount=void 0,this.DecoderPaymentPlanID=void 0,this._super()}});
Komodo.Controls.CoreRadioButton=Ember.View.extend(Komodo.Controls.Control,{tagName:"span",classNameBindings:["radio-inline"],templateName:"CoreRadioButton",attributeBindings:["type","name","value","checked","tabindex","disabled","visible","optionValue","optionLabel"],_radioButtonId:void 0,init:function(){this._super();var e=Komodo.Services.uiService.generateElementId(this,{setElementId:!1});this.set("elementId",e+"-span"),this.get("_radioButtonId")||this.set("_radioButtonId",e)},click:function(){this.set("value",this.get("optionValue"))},checked:function(){return this.get("optionValue")==this.get("value")}.property("value"),visible:!0,disabled:!1});
Komodo.UI.graceRules=Ember.Object.extend({init:function(){this._super()},checkGraceLimit:function(e,a){var t=this,r=t.getActiveRoleConfig(),i="locale.manageviewing:addGraceDays.";if(e.giveDays=parseInt(e.giveDays),e.maxDaysAllowed=t.getMaximumDays(),e.maxGraceOccurance=t.getGraceOccuranceLimit(),r)t.getHistory(e.customerNo,r.withinDays,function(n){var o=e.maxDaysAllowed-n.totalDays,s={daysLeft:o,graceAllowed:!1,error:"",timesGiven:n.timesGiven};if(n.totalDays>=e.maxDaysAllowed)return s.error=kl.value(i+"maxGraceGiven"),void a(s);if(!t.canRoleAssignGrace(r,n.roleTotals))return s.error=kl.value(i+"maxGracesGivenBySupervisor"),void a(s);if(n.totalDays+e.giveDays>e.maxDaysAllowed){var l=kl.value(i+"attemptToHigh");return l=l.replace("#giveDay#",e.giveDays),l=l.replace("#remainDay#",o),s.error=l,void a(s)}s={graceAllowed:!0},a(s)});else{var n={daysLeft:0,graceAllowed:!1,error:kl.value(i+"UserNotAllowedforGrace"),timesGiven:0};a(n)}},getHistory:function(e,a,t){var r=this,i=r.getHistoryParam(e,a);Komodo.Services.queryService.postJSON("/CustomerProfile/SerchGraceHistory",{data:i}).done(function(e){var a="object"!=typeof e?JSON.parse(e):e,i=r.getHistoryDone(a);t(i)}).error(function(e){Komodo.log("Grace Rules: SerchGraceHistory ajax call failed. Error: "+e)})},getHistoryDone:function(e){for(var a=0,t=e.length,r={},i=0;i<t;i++){var n=e[i];a+=n.NumberOfGraceDaysGiven;for(var o=0;o<n.ListOfRole.length;o++){var s=n.ListOfRole[o];r[s]=(r[s]||0)+1}}return{totalDays:a,timesGiven:t,roleTotals:r}},getHistoryParam:function(e,a){var t=this,r=GetClarityConstants("ManageViewingConstants","manageGraceDayConfiguration.searchFiltersConfiguration.searchFilters.customerNumber").toString()||"4",i=GetClarityConstants("ManageViewingConstants","manageGraceDayConfiguration.searchFiltersConfiguration.searchFilters.fromDate").toString()||"27",n=GetClarityConstants("ManageViewingConstants","manageGraceDayConfiguration.searchFiltersConfiguration.searchFilters.toDate").toString()||"28";return[{SearchFilterField:r,SearchValueField:e},{SearchFilterField:i,SearchValueField:t.getFromDate(a)},{SearchFilterField:n,SearchValueField:(new Date).toLocaleDateString("sv-SE")}]},getFromDate:function(e){var a=new Date;return a.setDate(a.getDate()-e),a=a.toLocaleDateString("sv-SE")},canRoleAssignGrace:function(e,a){var t=!0;return(a[e.name]||0)>=e.limit&&(t=!1),t},getRoleConfig:function(){for(var e=GetClarityConstants("ManageViewingConstants","manageGraceDayConfiguration.graceDayAllowedConfiguration.graceDayAllowed.AllowedRolesandLimits").toString(),a=e.split("/"),t=[],r=0;r<a.length;r++){var i=a[r].split(","),n={name:i[0],withinDays:i[1],limit:i[2]};t.push(n)}return t},cleanActiveRoles:function(){var e=Komodo.Services.securityService.roles,a=[];return e.forEach(function(e,t){var r=e.split("/");a[t]=r[r.length-1]}),a},getActiveRoleConfig:function(){for(var e=this,a=e.getRoleConfig(),t=e.cleanActiveRoles(),r=0;r<a.length;r++){var i=a[r];for(j=0;j<t.length;j++){var n=t[j];if(n.indexOf(i.name)>-1)return{name:n,withinDays:parseInt(i.withinDays),limit:parseInt(i.limit)}}}return null},getMaximumDays:function(){var e=GetClarityConstants("ManageViewingConstants","manageGraceDayConfiguration.maxGraceDayAllowedConfiguration.maxGraceDayAllowed.maxGraceDay").toString();return parseInt(e)},getGraceOccuranceLimit:function(){var e=GetClarityConstants("ManageViewingConstants","manageGraceDayConfiguration.maxGraceDayAllowedConfiguration.maxGraceDayAllowed.graceLimitCheck").toString();return parseInt(e)}}).create();
Komodo.Application.HomeTileLinkView=Ember.CollectionView.extend({tagName:"ul",classNames:["home-tile-link"],itemViewClass:Ember.View.extend({moduleBinding:"content",titleBinding:"content.title",templateName:"HomeTileLinkView",classNameBindings:["isHidden","isDisabled","homeTileLink"],homeTileLink:!0,isDisabled:function(){return this._checkAccess("disable")?"disabled":""}.property(),isHidden:function(){return this._checkAccess("hide")?"komodo-hidden":""}.property(),_checkAccess:function(e){var i=this.get("module");return!i.url&&Komodo.Services.securityService.routeAccessPermissionType(i.routeName).toLowerCase()==e},canAction:function(){var e=this.get("module");return!!e.url||"grant"==Komodo.Services.securityService.routeAccessPermissionType(e.routeName).toLowerCase()},click:function(e){e.stopPropagation()}})});
Komodo.Application.HomeView=Komodo.UI.View.extend({viewKey:"HomeView"});
Komodo.Application.HomeRoute=Komodo.UI.AuthenticatedRoute.extend({useCaseName:"home"});
Komodo.Models.SwapHardware=Ember.Object.extend({init:function(){this.ServiceOrderId=void 0,this.RepairServiceDescription=void 0,this.RepairReasonDescription=void 0,this.RepairCategoryDescription=void 0,this.UserId=void 0,this.LocationId=void 0,this.CustomerId=void 0,this.Country=void 0,this.ListOfHardware=Komodo.Models.ListOfHardware.create(),this._super()}});
Komodo.Models.TransferHardwareServices=Ember.Object.extend({init:function(){this._super(),this.ReferenceNumber=void 0,this.FromHardware=Komodo.Models.ListOfHardware.create(),this.ToHardware=Komodo.Models.ListOfHardware.create(),this.Services=Komodo.Models.ListOfService.create(),this.Username=void 0,this.LocationID=void 0,this.Country=void 0}});
Komodo.Application.RecentCustomersController=Ember.Controller.extend({init:function(){this._super()},actions:{hide:function(){$("#komodo-recent-customers-container").slideUp()}}});
Komodo.Controls.Pager=Ember.View.extend(Komodo.Controls.Control,{identifyAs:"pager",classNames:["pagination"],templateName:"PagerView",pages:void 0,mode:"content",itemsPerPage:10,currentPage:1,pageCount:0,visiblePageCount:10,contentLength:void 0,content:void 0,pageContent:void 0,pageSelectedAction:void 0,didInsertElement:function(){this._super(),this._generatePages()},init:function(){this._super(),this.set("pages",Ember.A())},currentPageChanged:function(){var e=this;this.get("pages").forEach(function(t){t.set("isCurrent",t.get("number")==e.get("currentPage"))})}.observes("currentPage"),_generatePages:function(){var e=this.get("content"),t=e?e.length:this.get("contentLength");if(!this.get("isContentPager")&&!this.get("isVirtualPager"))throw new Error("[Komodo.Controls.Pager] : Mode = '"+this.get("mode")+"' is not supported.");if(this.get("isContentPager")){if(!e)throw new Error("[Komodo.Controls.Pager] : The 'content' has not been specified.")}else if(!e&&void 0==t)throw new Error("[Komodo.Controls.Pager] : The 'contentLength' has not been specified.");this.set("pageCount",Math.floor(t/this.get("itemsPerPage"))+(t%this.get("itemsPerPage")>0?1:0)),this.get("pages").clear();for(var o=1;o<=this.get("pageCount");o++)this.get("pages").addObject(Ember.Object.create({number:o,isCurrent:o==this.get("currentPage")}));this.get("currentPage")>this.get("pageCount")&&this.get("pageCount")>0&&this.set("currentPage",this.get("pageCount")),this.send("showPage",this.get("currentPage"))}.observes("content.@each","contentLength"),visiblePages:function(){var e,t,o,n,r,s=this.get("pages").length,i=this.get("visiblePageCount"),g=[];if(0==s)return g;i<3&&(i=3),n=Math.floor(i/2),e=this.get("currentPage")-n,t=this.get("currentPage")+n,e<1&&(r=Math.abs(e)+1,e+=r,t+=r),o=s,t>o&&(r=t-o,t-=r,e-=r),e<1&&(e=1);for(var a=e;a<=t;a++)g.addObject(this.get("pages")[a-1]);return g}.property("pages.@each","currentPage"),_contentReplaced:function(){this.send("showPage",1)}.observes("content"),isFirstPage:function(){return 1==this.get("currentPage")}.property("currentPage","pageCount"),isLastPage:function(){return this.get("currentPage")==this.get("pageCount")||0==this.get("pageCount")}.property("currentPage","pageCount"),actions:{showPage:function(e){this.set("currentPage",e),this.get("isContentPager")?this._populatePageContent(e):this.get("isVirtualPager")&&this._sendPageSelectedAction(e)},previous:function(){this.get("currentPage")>1&&this.send("showPage",this.get("currentPage")-1)},next:function(){this.get("currentPage")<this.get("pageCount")&&this.send("showPage",1*this.get("currentPage")+1)},first:function(){this.get("currentPage")>1&&this.send("showPage",1)},last:function(){this.get("currentPage")<this.get("pageCount")&&this.send("showPage",this.get("pageCount"))}},_sendPageSelectedAction:function(e){var t,o=this.get("controller")||this.get("context"),n=this.get("pageSelectedAction");if(!o)throw new Error("[Komodo.Controls.Pager] : Could not find the controller for the pager control.");if(!o.send)throw new Error("[Komodo.Controls.Pager] : The controller for the pager control does not seem to be an Ember controller as it has no 'send' method.");if(!n)throw new Error("[Komodo.Controls.Pager] : The 'pageSelectedAction' attribute has not been set.");t=this.get("itemsPerPage"),o.send(n,{pageNumber:e,from:(e-1)*t,to:e*t,itemsPerPage:t})},_populatePageContent:function(e){var t=this.get("content"),o=this.get("pageContent");if(!t)return void Komodo.Controls.warn("[Komodo.Controls.Pager] : The 'content' has not been specified.");if(!o)throw new Error("[Komodo.Controls.Pager] : The 'pageContent' has not been specified.");if("array"!=Ember.typeOf(o))throw new Error("[Komodo.Controls.Pager] : The 'pageContent' has been specified but is not an array.");o.clear(),t.slice((e-1)*this.get("itemsPerPage"),e*this.get("itemsPerPage")).forEach(function(e){o.pushObject(e)})},isContentPager:function(){return this._isMode("content")}.property("mode"),isVirtualPager:function(){return this._isMode("virtual")}.property("mode"),_isMode:function(e){return e&&this.get("mode")&&this.get("mode").toLowerCase()==e.toLowerCase()},shouldDisplay:function(){return this.get("pageCount")>0}.property("pageCount")});
Komodo.Application.CollapsibleViewLinkView=Ember.CollectionView.extend(Komodo.Controls.Control,{classNames:["collapsible-view-links"],tagName:"ul",itemViewClass:Ember.View.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService})},getUIService:function(){return this.get("_uiService")},classNameBindings:["isHidden","isDisabled"],attributeBindings:["href","target","action"],hrefBinding:"content.href",titleBinding:"content.title",actionBinding:"content.action",targetBinding:"content.target",separatorTextBinding:"content.separatorText",templateName:"CollapsibleViewLinkView",defaultSeparatorTextBinding:"parentView.defaultSeparatorText",defaultSeparatorClassNamesBinding:"parentView.defaultSeparatorClassNames",defaultLinkClassNamesBinding:"parentView.defaultLinkClassNames",_separatorText:function(){return this.get("separatorText")||this.get("defaultSeparatorText")}.property(),separatorClassNames:function(){var e=this.get("content.separatorClassNames")||this.get("defaultSeparatorClassNames");return void 0!=e?Ember.isArray(e)?e.join(" "):e:""}.property("content.separatorClassNames","defaultSeparatorClassNames"),linkClassNames:function(){var e=this.get("content.linkClassNames")||this.get("defaultLinkClassNames");return void 0!=e?Ember.isArray(e)?e.join(" "):e:""}.property("content.linkClassNames","defaultLinkClassNames"),click:function(e){var t=this.get("content.action");if(e.stopPropagation(),this.get("content.disabled"))return!1;void 0!=t?this.get("controller").send(t):e.target.href&&e.target.href.indexOf("#")>0&&this.getUIService().transitionTo(e.target.href.substr(e.target.href.indexOf("#")+2))},isDisabled:function(){return this.get("content.disabled")?"disabled":""}.property("content.disabled"),isHidden:function(){return!1===this.get("content.visible")?"komodo-hidden":""}.property("content.visible")})});
Komodo.Models.ChangeHardwareStatus=Ember.Object.extend({init:function(){this._super(),this.Country=void 0,this.SerialNumber=void 0,this.LinkedSmartcard=void 0,this.CustomerID=void 0,this.ToBeStatus=void 0,this.StatusChangeReason=void 0,this.UserName=void 0,this.LocationId=void 0,this.Case=Komodo.Models.Case.create(),this.ListOfCaseData=Komodo.Models.ListOfCaseData.create(),this.ListOfHardware=Komodo.Models.ListOfHardware.create()}});
Komodo.Models.CreateAdHocDebitOrder=Ember.Object.extend({init:function(){this.Country=void 0,this.FinancialAccountUID=void 0,this.PaymentDetail=Komodo.Models.PaymentDetail.create(),this.Amount=void 0,this.AdHocDebitOrderRunDate=void 0,this._super()}});
Komodo.Models.CreateCreditApplication=Ember.Object.extend({init:function(){this.Country=void 0,this.ListOfHardware=void 0,this.CustomerDetail=Komodo.Models.CustomerDetail.create(),this.PaymentDetail=Komodo.Models.PaymentDetail.create(),this.NoOfDependents=void 0,this.YearsAtAddress=void 0,this._super()}});
Komodo.Models.CreateProductPaymentPlan=Ember.Object.extend({init:function(){this.Country=void 0,this.Hardware=Komodo.Models.Hardware.create(),this.AccountID=void 0,this.CustomerID=void 0,this.CreditApplicationID=void 0,this._super()}});
Komodo.Models.DeviceStatusChanged=Ember.Object.extend({init:function(){this.SerialNumber=void 0,this.ReasonID=void 0,this._super()}});
Komodo.Models.SetHardwareToStolen=Ember.Object.extend({init:function(){this._super(),this.Country=void 0,this.SerialNumber=void 0,this.LinkedSmartcard=void 0,this.CustomerID=void 0,this.ToBeStatus=void 0,this.StatusChangeReason=void 0,this.UserName=void 0,this.LocationId=void 0,this.Case=Komodo.Models.Case.create(),this.Hardware=Komodo.Models.Hardware.create()}});
Komodo.Application.RecentCustomersListController=Komodo.UI.Controller.extend({init:function(){this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.registerModel("recentCustomersListModel",Komodo.Models.RecentCustomersListModel),this._super()},start:function(){that=this,Komodo.Repositories.cacheRepository.fetch(Komodo.CacheKeys.selectedCountry).done(function(e){var t={domain:e.data.countryId,qualifier:Komodo.Services.localizationService.getCurrentLanguage()};Komodo.Services.cachedDataService.fetch("CountryISO").done(function(e){that.set("isoData",[]),that.set("isoData",e);var o=void 0;!that.isoData instanceof Array&&(that.isoData=[that.isoData]),that.isoData.forEach(function(e){t.domain===e.value&&(o=e.key)}),void 0!=o&&(that.country=o),that.getCacheRepository().fetch(Komodo.Services.securityService.get("domainUserName").substring(3)+that.country).done(function(e){var t=[];void 0!=e.data&&e.data.length>0&&$.each(e.data,function(e,o){o.value.toString().split(",").length>1?t.push({key:o.key,value:o.value.toString().split(",")[1]}):t.push({key:o.key,value:o.value.toString().split(",")[0]})});for(var o=0;o<e.data.length;o++)e.data[o].value=e.data[o].value.toString().split(",")[0];that.set("recentCustomersListModel.classArray",t),e.data.length>KomodoConfiguration.recentCustomerCount?(that.set("recentCustomersListModel.listData",e.data.slice(KomodoConfiguration.recentCustomerCount-1,e.data.length-1)),that.getCacheRepository().save(Komodo.Services.securityService.get("domainUserName").substring(3)+self.country,e.data.slice(KomodoConfiguration.recentCustomerCount-1,e.data.length-1))):that.set("recentCustomersListModel.listData",e.data)}).fail(function(){that.set("recentCustomersListModel.listData",[])})})}),this._super()},getCacheRepository:function(){return this.get("_cacheRepository")},actions:{loadCustomer:function(e){var t=this,o=e.get("content.key"),s=t.get("recentCustomersListModel.classArray"),a=void 0,r=Komodo.Models.SearchRequestForBaseSystem.create();r.set("searchEntity","Customer");var i=o;if(this.savetoRecentCustomer(e),""!=i){var n=o;r.set("uid",n)}for(var s=this.get("recentCustomersListModel.classArray"),c=0;c<s.length;c++)s[c].key==e.get("content.key")&&(a=s[c].value);var l=Komodo.Models.CustomerDetailsModel.create();l.set("customerNo",o),l.set("searchRequired",!0),l.set("customerClass",a),Komodo.Services.customerProfileService.setCustomerPersonalDetail&&(Komodo.Services.customerProfileService.setCustomerPersonalDetail(l),Komodo.Services.customerProfileService.setCustomerDataSource("recent-customers"));var u=Komodo.Services.uiService.getController("customerProfileContainer");u.checkResidentialCustomer(),u.getPotentialOffers(),"commercial"===a.toLowerCase()||"1"===a||"national deal"===a.toLowerCase()||"9"===a?(Komodo.Services.eventAggregator.publish("PublishCommercialSearchRequest",r,e.get("content.key")),Komodo.Services.eventAggregator.publish(Komodo.EventNames.customTypeChanged,"commercial")):"csi"===a.toLowerCase()||"4"===a?(Komodo.Services.eventAggregator.publish("PublishCsiSearchRequest",r,e.get("content.key")),Komodo.Services.eventAggregator.publish(Komodo.EventNames.customTypeChanged,"csi")):"dealer"==a.toLowerCase()||"6"==a?Komodo.Services.eventAggregator.publish("PublishDealerSearchRequest",r,e.get("content.key")):"specialist"==a.toLowerCase()||"3"==a?(Komodo.Services.eventAggregator.publish("PublishSpecialistSearchRequest",r,e.get("content.key")),Komodo.Services.eventAggregator.publish(Komodo.EventNames.customTypeChanged,"specialist")):(Komodo.Services.eventAggregator.publish("PublishCustomerSearchRequest",r,e.get("content.key")),"residential"!=a.toLowerCase()&&"2"!=a||Komodo.Services.eventAggregator.publish(Komodo.EventNames.customTypeChanged,"residential")),Komodo.Services.customerProfileService.setIsCustomerAuthorised(!1),KomodoConfiguration.AllowToVisibleNavigationPanel&&$("#sidebar").show(),$("#komodo-recent-customers-container").slideUp()}},savetoRecentCustomer:function(e){self=this;var t=e.get("content").value,o=e.get("content").key;self.set("selectedItem",t),self.set("selectedKey",o);var s=[];self.set("country",Komodo.Services.uiService.getController("application").get("_selectedCountryId"));var a={domain:self.country,qualifier:Komodo.Services.localizationService.getCurrentLanguage()};Komodo.Services.cachedDataService.fetch("CountryISO").done(function(e){self.set("isoData",[]),self.set("isoData",e);var t=void 0;!self.isoData instanceof Array&&(self.isoData=[self.isoData]),self.isoData.forEach(function(e){a.domain===e.value&&(t=e.key)}),void 0!=t&&(self.country=t);for(var o=self.get("recentCustomersListModel.classArray"),r=0;r<o.length;r++)o[r].key==self.get("selectedKey")&&(customerClass=o[r].value);s[0]={key:self.get("selectedKey"),value:self.get("selectedItem")+","+customerClass.toString()},self.getCacheRepository().fetch(Komodo.Services.securityService.get("domainUserName").substring(3)+self.country).done(function(e){for(var t=0;t<e.data.length;t++)if(s[0].key==e.data[t].key){e.data.splice(t,1);break}e.data.length>=KomodoConfiguration.recentCustomerCount&&e.data.splice(e.data.length-1,1),e.data.unshift(s[0]),self.getCacheRepository().save(Komodo.Services.securityService.get("domainUserName").substring(3)+self.country,e.data),self.set("recentCustomersListModel.listData",e.data)}).fail(function(e){e.indexOf("No data found for key")>0&&self.getCacheRepository().save(Komodo.Services.securityService.get("domainUserName").substring(3)+self.country,s)})})}});
Komodo.Services.StockService=Ember.Object.extend(Komodo.Dependency,{_messageTimeout:3e5,_locale:"",init:function(){this._locale="locale.manageStock:stockService.",this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService})},getQueryService:function(){return this.get("_queryService")},getCustomerProfileService:function(){return this.get("_customerProfileService")},getUIService:function(){return this.get("_uiService")},getLocalizationService:function(){return this.get("_localizationService")},getCustomerClassText:function(e,o){for(var r=0;r<o.length;r++)if(o[r].key==e)return o[r].value;return""},getStaticCDMData:function(e,o,r,t){Komodo.Services.cachedDataService.fetch(r,{domain:e,qualifier:o}).done(function(e){t.clear(),$.each(e,function(e,o){t.addObject(o)})}).fail(function(){Komodo.log("[ERROR] : could not retrieve static CDM data for "+r)})},getJSON:function(e){var o=$.Deferred();return this.getQueryService().getJSON("DeviceProcessing"+e).done(function(e){o.resolve(e)}).fail(function(e,r,t){o.reject(e,r,t)}),o},retrieveDeviceInfo:function(e){return Komodo.guard.againstUndefined(e,"deviceID"),this.getJSON("/GetDeviceInformation?deviceID="+e)},retrieveDeviceWarrantyDetails:function(e){return Komodo.guard.againstUndefined(e,"deviceID"),this.getJSON("/GetDeviceWarrantyDetails?deviceID="+e)},retrieveCustomerCOODocuments:function(e,o,r,t){try{var s=this;if(Komodo.Services.busyService.start(!0,o,Komodo.Services.busyIndicatorTypes.Busy,this._messageTimeout,"blocking",e),void 0==t)return;this.getQueryService().refreshUserData(),Komodo.Services.queryService.getJSON("ConfigurationQuery?customerID="+r,{async:!1}).done(function(e){Komodo.Services.busyService.stop(o,"blocking"),t(e)}).error(function(t){Komodo.Services.busyService.stop(o,"blocking");var i=JSON.stringify(t);s.messageRetrieveCaseDocumentsError(s.getMessageFromError(t),r,e),Komodo.log("retrieveCaseDocuments ajax call failed. Error: "+i)})}catch(e){throw e}},checkSpecialCharecter:function(e){for(var o="!`@#$%^&*()+=-[]\\';,./{}|\":<>?~_",r=0;r<e.length;r++)if(-1!==o.indexOf(e.charAt(r)))return!1;return!0},checkSpecialCharecterQuote:function(e){for(var o="!`@#$%^&*()+=[]\\';,./{}|\":<>?~_",r=0;r<e.length;r++)if(-1!==o.indexOf(e.charAt(r)))return!1;return!0},setCountryISO:function(e,o,r){try{e.set(o,Komodo.Services.uiService.getController("application").get("_selectedCountryId")),"function"==typeof r&&r&&r()}catch(e){this.handleException("setCountryISO",e,!0,!0)}},setCustomerID:function(e,o,r,t,s){var i=this;try{var a=this.guardAgainstNullValue(Komodo.Services.customerProfileService,"getCustomerPersonalDetail.customerNo");if(null==a){Komodo.Controls.MessageBoxController.show(kl.value(i._locale+"customerNotLoaded"),kl.value(i._locale+"customerRequired"),Komodo.Controls.MessageBoxOkButtons,this,"setCustomerIDFail","danger").response=function(o){"ok"===o&&e.transitionToRoute(t)}}else o.set(r,a),"function"==typeof s&&s&&s()}catch(e){this.handleException("setCustomerID",e,!0,!0)}},setToUpperCase:function(e,o){var r=this;try{if(!e.hasOwnProperty(o))throw kl.value(r._locale+"propertyModelDoesNotExist")+": "+o;var t=e.get(o);null!=t&&t.length>0&&e.set(o,t.toUpperCase().trim())}catch(e){this.handleException("setToUpperCase",e,!0,!0)}},loadSingleDevice:function(){try{var e=this.guardAgainstNullValue(Komodo.Services.customerProfileService,"getCustomerPersonalDetail.customerClass");return 1==e||9==e}catch(e){this.handleException("loadSingleDevice",e,!0,!0)}},retrieveHardware:function(e,o,r,t,s,i,a){var n=this;try{if(Komodo.Services.busyService.start(!0,o,Komodo.Services.busyIndicatorTypes.Busy,this._messageTimeout,"blocking",e),void 0==a)return;var c;this.getQueryService().refreshUserData(),c=s?"RetrieveHardware/ByDeviceSerialNumber?serialNumber="+s+"&customerID="+t:"RetrieveHardware?customerID="+t,this.getQueryService().getJSON(c).done(function(e){Komodo.Services.busyService.stop(o,"blocking"),a(e)}).error(function(r){if(Komodo.Services.busyService.stop(o,"blocking"),Komodo.log("RetrieveHardware Query API - Ajax call failed. Error: "+JSON.stringify(r)),i){Komodo.Controls.MessageBoxController.show(kl.value(n._locale+"retrieveHardware"),"<strong>"+kl.value(n._locale+"noDevicesReturned")+" '"+t+"'. </strong> "+kl.value(n._locale+"error")+": <i>"+n.handleQueryServiceException(r)+"</i>",Komodo.Controls.MessageBoxOkButtons,this,"retrieveHardwareError","danger").response=function(o){"ok"===o&&e.transitionToRoute("/manageViewing")}}})}catch(e){Komodo.Controls.MessageBoxController.show("Error","Error: "+e,Komodo.Controls.MessageBoxOkButtons,this,"retrieveHardwareError","danger")}},retrieveReturns:function(e,o,r,t,s){var i=this;try{if(Komodo.Services.busyService.start(!0,o,Komodo.Services.busyIndicatorTypes.Busy,this._messageTimeout,"blocking",e),void 0==s)return;this.getQueryService().refreshUserData(),this.getQueryService().getJSON("RetrieveHardware/Returns?id="+r+"&customerID="+t).done(function(e){Komodo.Services.busyService.stop(o,"blocking"),s(e)}).error(function(e){Komodo.Services.busyService.stop(o,"blocking"),Komodo.log("RetrieveHardware Query API - Ajax call failed. Error: "+JSON.stringify(e)),Komodo.Controls.MessageBoxController.show(kl.value(i._locale+"retrieveHardware"),"<strong>"+kl.value(i._locale+"noDevicesReturned")+" '"+t+"'. </strong> "+kl.value(i._locale+"error")+": <i>"+i.handleQueryServiceException(e)+"</i>",Komodo.Controls.MessageBoxOkButtons,this,"retrieveHardwareError","danger")})}catch(e){Komodo.Controls.MessageBoxController.show("Error","Error: "+e,Komodo.Controls.MessageBoxOkButtons,this,"retrieveReturnsError","danger")}},publishRequestOnBus:function(e,o,r,t,s){var i=this;try{Komodo.Services.busyService.start(!0,o,Komodo.Services.busyIndicatorTypes.Busy,this._messageTimeout,"blocking",e),Komodo.Services.customerProfileService.publishEvent(e,r,t,s).done(function(){Komodo.log("Event Message for '"+t+"' has published successfully.")}).fail(function(e){Komodo.Services.busyService.stop(o,"blocking"),Komodo.log("Event Message for '"+t+"' has failed."),Komodo.Controls.MessageBoxController.show(kl.value(i._locale+"eventMessageFor")+" '"+t+"' "+kl.value(i._locale+"hasFailed"),e,Komodo.Controls.MessageBoxOkButtons,this,"publishRequestOnBusError","danger")})}catch(e){Komodo.Services.busyService.stop(o,"blocking"),this.handleException("publishRequestOnBus",e,!0,!0)}},minTwoDigits:function(e){return(e<10?"0":"")+e},formatDateForDatePicker:function(e,o){try{if(e){var r=new Date(e);return r.setDate(r.getDate()+o),this.minTwoDigits(r.getDate())+"/"+this.minTwoDigits(r.getMonth()+1)+"/"+r.getFullYear()}}catch(o){return e}},formatDateForBus:function(e){try{if(void 0!=e&&""!=e){var o=new Date(e);return o.getFullYear()+"-"+this.minTwoDigits(o.getMonth()+1)+"-"+this.minTwoDigits(o.getDate())+"T00:00:00"}return""}catch(e){this.handleException("formatDateForBus",e,!0,!0)}},customerDocumentsModal:function(e,o,r,t,s){try{var i=Komodo.Application.CustomerDocumentsController.create();i.set("_isCustomerLoaded",!0),i.setModal(),i.setHardware(e,o,r),i.start(),!0===t&&i.overrideToResidential(),this.getUIService().showModalPopup("Customer Documents Upload","customerDocuments",{closeCallback:function(){!1===t&&s.retrieveCustomerCOODocuments()},view:Komodo.Application.CustomerDocumentsView,canUserClose:!0,context:i,shouldStartAndStopController:!0})}catch(e){this.handleException("customerDocumentsModal",e,!0,!0)}},guardAgainstNullObject:function(e,o){try{for(var r=o.split("."),t=0;t<r.length;t++){if(!(null!=e&&""!==e&&r[t]in e))return!1;switch(typeof e[r[t]]){case"function":e=e[r[t]]();break;case"object":e=e[r[t]];break;case"string":case"number":case"boolean":return r.length===t+1;default:return!1}}return!0}catch(e){this.handleException("guardAgainstNullObject",e,!0,!0)}},guardAgainstNullValue:function(e,o){try{for(var r=o.split("."),t=0;t<r.length;t++){if(!(null!=e&&""!==e&&r[t]in e))return null;switch(typeof e[r[t]]){case"function":e=e[r[t]]();break;case"object":e=e[r[t]];break;case"string":case"number":case"boolean":return r.length===t+1?e[r[t]]:null;default:return null}}return null}catch(e){this.handleException("guardAgainstNullValue",e,!0,!0)}},handleException:function(e,o,r,t){var s=this;try{var i=kl.value(s._locale+"errorInFunction")+" ["+e+"]. "+kl.value(s._locale+"exception")+": "+o+".";r&&(Komodo.log(i),null!=o&&null!=o.stack&&Komodo.log(o.stack)),t&&Komodo.Controls.MessageBoxController.show(kl.value(s._locale+"errorOccurred"),i,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}catch(e){Komodo.log(e)}},handleQueryServiceException:function(e){var o=this;try{Komodo.log("Ajax call failed. Error: "+e);var r=o.guardAgainstNullValue(e,"responseJSON.Message");return null!=r&&""!==r?e.responseJSON.Message:kl.value(o._locale+"errorOccurredLogs")}catch(o){return Komodo.log("Exception: "+o),e}},messageReceived:function(e){var o=this;try{this.messageHandle(e,kl.value(o._locale+"successfulMessageReceived"))}catch(e){this.handleException("messageReceived",e,!0,!0)}},messageDeliveryFailure:function(e){var o=this;try{this.messageHandle(e,kl.value(o._locale+"communicationFailure"))}catch(e){this.handleException("messageDeliveryFailure",e,!0,!0)}},messageFault:function(e){var o=this;try{this.messageHandle(e,kl.value(o._locale+"faultExceptionMessage"))}catch(e){this.handleException("messageFault",e,!0,!0)}},messageFailureMessageEventReceived:function(e,o){var r=this;try{Komodo.Services.busyService.stop(e,"blocking"),"CreateInteraction"!=o.ResponseMessage.Payload.OriginatedEventName?Komodo.Controls.MessageBoxController.show(o.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,o.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"):Komodo.Controls.MessageBoxController.show(o.ResponseMessage.Payload.ListOfErrorDetails.ErrorType,kl.value(r._locale+"problemCRM"),Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger")}catch(e){this.handleException("messageFailureMessageEventReceived",e,!0,!0)}},messageHandle:function(e,o,r){var t=this;try{Komodo.Services.busyService.stop(e,"blocking"),null!=o&&null!=o.payload&&null!=o.payload.Header?Komodo.Controls.MessageBoxController.show(kl.value(t._locale+"messageReceivedFailure"),r+kl.value(t._locale+"messageType")+" : '"+o.payload.Header.EventName+"', Process: '"+o.payload.Header.ProcessName+"'.",Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"):(Komodo.UI.error("[messageHandle.messageFault] : messageId = "+o.messageId),Komodo.Controls.MessageBoxController.show(kl.value(t._locale+"aProblemOccurred"),kl.value(t._locale+"messageEventFieldsNull")+o.messageId,Komodo.Controls.MessageBoxOkButtons,this,"id5446673","danger"))}catch(e){this.handleException("messageHandle",e,!0,!0)}},fillObjectFromCachedFileService:function(e,o,r,t){var s=this,i=$.Deferred();try{e.get(o).clear(),Komodo.Services.cachedDataService.fetch(r).done(function(r){parsed=JSON.parse(r),$.each(t,function(e,o){parsed=parsed[t[e]]}),$.each(parsed,function(r,t){e.get(o).addObject(t)}),i.resolve(r)}).fail(function(e){Komodo.Controls.MessageBoxController.show(kl.value(s._locale+"failedLoading"),"<strong>"+kl.value(s._locale+"failedLoading")+" '"+o+"'.</strong>",Komodo.Controls.MessageBoxOkButtons,this,"failedLoadingCached","danger"),i.reject(e)})}catch(e){this.handleException("fillObjectFromCachedFileService",e,!0,!0)}return i},fillObjectFromCachedFileServiceArray:function(e,o,r){var t=this,s=$.Deferred();try{e.get(o).clear(),Komodo.Services.cachedDataService.fetch(r).done(function(r){$.each(r,function(r,t){e.get(o).addObject(t)}),s.resolve(r)}).fail(function(e){Komodo.Controls.MessageBoxController.show(kl.value(t._locale+"failedLoading"),"<strong>"+kl.value(t._locale+"failedLoading")+" '"+r+"'.</strong>",Komodo.Controls.MessageBoxOkButtons,this,"failedLoadingCached","danger"),s.reject(e)})}catch(e){this.handleException("fillObjectFromCachedFileServiceArray",e,!0,!0)}return s},getKeyFromList:function(e,o,r,t,s){var i=this;try{var a=null;return $.each(e.get(o),function(e,o){var i=Ember.Object.create(o);if(i.get(r).toLowerCase()==s.toLowerCase())return a=i.get(t),!1}),Komodo.log(kl.value(i._locale+"noDataInFucnKeyFromList")+r),a}catch(e){this.handleException("getKeyFromList",e,!0,!0)}},restartController:function(e){try{e.startNewProcess(),e.start()}catch(e){this.handleException("restartController",e,!0,!0)}},showBusyIndicator:function(e){Komodo.Services.busyService.start(!0,e,Komodo.Services.busyIndicatorTypes.Busy,this._messageTimeout,"blocking",this)},hideBusyIndicator:function(e){Komodo.Services.busyService.stop(e,"blocking")}}),Komodo.Services.stockService=Komodo.Services.StockService.create();
Komodo.Services.FinancialAccountService=Ember.Object.extend(Komodo.Dependency,{init:function(){this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_stockService",{singleton:Komodo.Services.queryService})},getQueryService:function(){return this.get("_queryService")},getStockService:function(){return this.get("_stockService")},resultAccountMessage:{ResponseMessage:{Payload:{ListOfAccount:{Account:[]}}}},resultCustomerDetailMessage:{ResponseMessage:{Payload:{CustomerDetail:{},RdChequeDetail:{}}}},retrieveFinancialAccounts:function(e){var t=$.Deferred(),c=this;try{var o=c.resultAccountMessage;o.ResponseMessage.Payload.ListOfAccount.Account.clear(),c.getQueryService().getJSON("AccountProfile?id="+e,!0).done(function(e){o.ResponseMessage.Payload.ListOfAccount.Account.clear(),e&&e.Account.length&&0!=e.Account.length&&(e.Account.length>1?o.ResponseMessage.Payload.ListOfAccount.Account.addObjects(e.Account):o.ResponseMessage.Payload.ListOfAccount.Account.addObject(e.Account[0]),t.resolve(o))}).error(function(e){t.reject(JSON.stringify(e))})}catch(e){c.getStockService().handleException("retrieveFinancialAccounts",e,!0,!0)}return t},retrieveCustomer:function(e){var t=$.Deferred(),c=this;try{var o=c.resultCustomerDetailMessage;o.ResponseMessage.Payload.CustomerDetail=void 0,o.ResponseMessage.Payload.RdChequeDetail=void 0,Komodo.Services.queryService.getJSON("CustomerProfile?customerId="+e,!0).done(function(e){e&&e.CustomerDetail&&(o.ResponseMessage.Payload.CustomerDetail=e.CustomerDetail,o.ResponseMessage.Payload.RdChequeDetail=e.RdCheque,t.resolve(o))}).error(function(e){t.reject(JSON.stringify(e))})}catch(e){c.getStockService().handleException("retrieveCustomer",e,!0,!0)}return t}}),Komodo.Services.financialAccountService=Komodo.Services.FinancialAccountService.create();
Komodo.Services.QueryApiWrapper=Ember.Object.extend(Komodo.Dependency,{init:function(){this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_stockService",{singleton:Komodo.Services.stockService})},getQueryService:function(){return this.get("_queryService")},getStockService:function(){return this.get("_stockService")},retrieveQueryAPI:function(e,r,t){var i=this;try{if(i.getStockService().showBusyIndicator(e),null===t)return;i.getQueryService().refreshUserData(),i.getQueryService().getJSON(r).done(function(r){i.getStockService().hideBusyIndicator(e),t(r,null)}).error(function(r){i.getStockService().hideBusyIndicator(e),t(null,i.getStockService().handleQueryServiceException(r))})}catch(e){i.getStockService().handleException("retrieveQueryAPI",e,!0,!0)}},getPlant:function(e,r,t,i){var c=this;try{c.retrieveQueryAPI(e,"SwapMaterialAvailability/GetPlant?userName="+r+"&businessUnit="+t,i)}catch(e){c.getStockService().handleException("getPlant",e,!0,!0)}}}),Komodo.Services.queryApiWrapper=Komodo.Services.QueryApiWrapper.create();
Komodo.Application.NavigationView=Komodo.UI.View.extend(Komodo.Dependency,{viewKey:"NavigationView",templateName:"NavigationView",classNames:"nav nav-sidebar komodo-nav",init:function(){this._super(),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.getEventAggregator().subscribe(Komodo.EventNames.routeAccessChanged,this,this._renderNavigation)},getEventAggregator:function(){return this.get("_eventAggregator")},_renderNavigation:function(){this.rerender()},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.routeAccessChanged,this,this._renderNavigation),this._super()}});
Komodo.Application.SearchNavigationView=Komodo.UI.View.extend({templateName:"SearchNavigationView",viewKey:"SearchNavigationView"});
Komodo.Application.NavigationController=Komodo.UI.Controller.extend(Komodo.Dependency,{init:function(){this._super(),Komodo.Application.log("NavigationController.init"),this.set("processVersion","v0.1"),this.set("processName","Navigation"),this.requiresDependency("_navigationService",{singleton:Komodo.Services.navigationService})},getNavigationService:function(){return this.get("_navigationService")},actions:{activateGroup:function(i){this.getNavigationService().transitionToItem(i)}}});
Komodo.Application.HomeController=Komodo.UI.Controller.extend(Komodo.Dependency,{init:function(){this._super(),Komodo.Application.log("HomeController.init"),this.set("processVersion","v0.1"),this.set("processName","Home"),this.requiresDependency("_navigationService",{singleton:Komodo.Services.navigationService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_traceRepository",{singleton:Komodo.Repositories.traceRepository})},getNavigationService:function(){return this.get("_navigationService")},getSecurityService:function(){return this.get("_securityService")},getUIService:function(){return this.get("_uiService")},getTraceRepository:function(){return this.get("_traceRepository")},start:function(){this.getNavigationService().activateGroup(void 0),$(".row-offcanvas").removeClass("active"),this._super()},actions:{activateGroup:function(e){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"homeTileClicked",user:this.getSecurityService().get("domainUserName"),homeTile:e.groupName?e.groupName:e.get("context").groupName}}).fail(function(e){Komodo.Services.error(e)}),this.getNavigationService().transitionToItem(e.groupName?e:e.get("context"))}}});
Komodo.UI.connectionStatusController=Ember.Object.extend(Komodo.Dependency,{isOnline:"menu-container-offline",init:function(){this._super();var e=this;this.requiresDependency("_communicationService",{singleton:Komodo.Services.communicationService}),(this.getCommunicationService().get("_isOnline")||this.getCommunicationService().get("isOnline"))&&this.set("isOnline","menu-container"),Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.connectionEstablished,function(){e.set("isOnline","menu-container")}),Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.connectionLost,function(){e.set("isOnline","menu-container-offline")})},getCommunicationService:function(){return this.get("_communicationService")}}).create();
Komodo.Controls.TreeViewItemView=Ember.View.extend({templateName:"TreeViewItemView",selectionPath:"treeView.selectedItem",contentPath:void 0,isCollapsed:!0,actions:{expandCollapse:function(){this.set("isCollapsed",!this.isCollapsed)},selectItem:function(){var e;e=this.contentPath?this[this.contentPath]:this.get("content"),this.set(this.selectionPath,e)}},isVisible:function(){var e=!1;return this.get("parentView")!==this.treeView&&(e=this.get("parentView.isCollapsed")),!e}.property("parentView.isCollapsed"),itemId:function(){var e=this.get("treeView"),t=e.get("contentBinding"),i=t?t._from.replace("bindingContext.","").replace(/templateData\.keywords\.view\./g,"").replace(/\./g,"-"):"";return e.itemCount||(e.itemCount=0),i+="-"+e.itemCount,e.itemCount=e.itemCount+1,i}.property(),hrefId:function(){return"lnk"+this.get("itemId")}.property(),init:function(){var e,t,i,n,s,o,r=this.get("parentView");!0===r.isTreeView?this.treeView=r:this.treeView=this.get("parentView.treeView"),e=this.get("treeView.displayPath"),t=this.get("treeView.valuePath"),i=this.get("treeView.subItemsPath"),e&&(n=Ember.Binding.from("content."+e).to("title"),n.connect(this)),t&&(s=Ember.Binding.from("content."+t).to("value"),s.connect(this),this.contentPath="value"),i&&(o=Ember.Binding.from("content."+i).to("subItems"),o.connect(this)),this._super()},hasSubItems:function(){var e=this.get("subItems");return void 0!==e&&e.length>0}.property("subItems")});
Komodo.Controls.Tooltip=Ember.View.extend(Komodo.Controls.Control,Komodo.Controls.KomodoAction,Komodo.Controls.ViewLocalization,{classNames:"info-tooltip",tagName:"span",templateName:"Tooltip",text:void 0,_isVisible:!1,init:function(){this._super(),this.registerLocalizedProperties(["text"]),Komodo.Services.uiService.generateElementId(this)},didInsertElement:function(){$(".hover-text").css({display:"none"}),$(".hover-image").hover(function(){$(this).nextAll(".hover-text:first").toggle()})}});
Komodo.Controls.TextArea=Komodo.Controls.LabelFieldView.extend({FieldView:Komodo.Controls.CoreTextArea.extend(Komodo.Controls.FieldView,{placeholderBinding:"parentView.placeholder",init:function(){this.get("parentView.type")||this.set("parentView.type","text"),this.set("elementId",this.get("parentView._labelFieldViewElementId")),this._super()},valueBinding:"parentView.value",readonlyBinding:"parentView.readonly"})});
Komodo.Controls.CoreCheckbox=Ember.View.extend(Komodo.Controls.Control,{tagName:"span",attributeBindings:["tabindex","checked","id","disabled","visible","data-title"],classNameBindings:["checkbox-inline"],_checkBoxId:void 0,init:function(){this._super();var e=Komodo.Services.uiService.generateElementId(this,{setElementId:!1});this.set("elementId",e+"-span"),this.get("_checkBoxId")||this.set("_checkBoxId",e)},templateName:function(){return void 0!=this.get("appearance")&&"toggleButton"==this.get("appearance")?"CoreCheckBoxToggleView":void 0!=this.get("appearance")&&"switch"==this.get("appearance")?"CoreCheckBoxSwitchView":"CoreCheckBoxBaseView"}.property("appearance"),click:function(e){this.get("disabled")||!this.get("appearance")&&"checkbox"!=e.target.type||this.set("checked",!this.get("checked"))},checked:void 0,tabindex:void 0,appearance:void 0,dataTitle:void 0});
Komodo.Controls.Checkbox=Komodo.Controls.LabelFieldView.extend({FieldView:Komodo.Controls.CoreCheckbox.extend(Komodo.Controls.FieldView,{checkedBinding:"parentView.value",appearanceBinding:"parentView.appearance",dataTitleBinding:"parentView.label",init:function(){this.set("_checkBoxId",this.get("parentView._labelFieldViewElementId")),this._super()}})});
Komodo.Controls.RadioButtonItemView=Ember.View.extend(Komodo.Controls.Control,Komodo.Controls.ItemSelectionSupport,{templateName:"RadioButtonItemView",attributeBindings:["tabindex","visible","checked","disabled"],disabledBinding:"parentView.disabled",groupName:function(){return this.get("parentView.elementId")}.property(),itemId:function(){var e=this.get("parentView.valuePath");return this.get("parentView.elementId")+"-"+this.get("content."+e).replace(/\.| /g,"-")}.property(),init:function(){var e,t,i,n;e=this.get("parentView.displayPath")||"title",t=this.get("parentView.valuePath")||"value",i=Ember.Binding.from("content."+e).to("title"),i.connect(this),n="content"!=t.toLowerCase()?Ember.Binding.from("content."+t).to("value"):Ember.Binding.from("content").to("value"),n.connect(this),this.set("selectedItemValuePath","value"),this._super()},checked:function(){var e=this.get("value")===this.get(this.get("valuePath"));return e&&this._setSelection(),e}.property("parentView.value")});
Komodo.UI.contactFunctions=Ember.Object.extend({init:function(){this._super()},validatePhoneData:function(o){var t,e="",a=this,n=!1,r=!1,l=[],c=0,s=0,i=0;if($.each(o,function(o,t){t.countryCodeValidator.errors.length>0&&$.each(t.countryCodeValidator.errors,function(o,t){e+=t+"<br />",n=!0}),t.validator.errors.length>0&&$.each(t.validator.errors,function(o,t){e+=t+"<br />",n=!0}),n&&Komodo.Controls.MessageBoxController.show(kl.value("locale.Contact:contact"),kl.value("controller.invalidDataMessage")+"<br />"+e,Komodo.Controls.MessageBoxOkButtons,a,"id5446673","warning"),"1"===t.type&&(r=!0)}),!n){t=o.sort(function(o,t){return parseInt(o.countryCode+o.contactValue,10)>parseInt(t.countryCode+t.contactValue,10)?1:parseInt(o.countryCode+o.contactValue,10)<parseInt(t.countryCode+t.contactValue,10)?-1:0});for(var u=0;u<t.length-1;u++)t[u+1].countryCode+t[u+1].contactValue==t[u].countryCode+t[u].contactValue&&l.push(t[u].countryCode+"+"+t[u].contactValue);if(l.length>0)return Komodo.Controls.MessageBoxController.show(kl.value("locale.Contact:contact"),kl.value("locale.Contact:duplicatePhoneNo"),Komodo.Controls.MessageBoxOkButtons,a,"id5446673","warning"),!0;if(!r)return Komodo.Controls.MessageBoxController.show(kl.value("locale.Contact:contact"),kl.value("locale.Contact:provideMobileNo"),Komodo.Controls.MessageBoxOkButtons,a,"id5446673","warning"),!0;if(o.forEach(function(o){switch(o.type){case"1":c=1*c+1;break;case"2":i=1*i+1;break;case"3":s=1*s+1}}),c>4)return Komodo.Controls.MessageBoxController.show(kl.value("locale.Contact:contact"),kl.value("locale.Contact:maximumMobile"),Komodo.Controls.MessageBoxOkButtons,a,"id5446673","warning"),!0;if(i>4)return Komodo.Controls.MessageBoxController.show(kl.value("locale.Contact:contact"),kl.value("locale.Contact:maximumWork"),Komodo.Controls.MessageBoxOkButtons,a,"id5446673","warning"),!0;if(s>4)return Komodo.Controls.MessageBoxController.show(kl.value("locale.Contact:contact"),kl.value("locale.Contact:maximumHome"),Komodo.Controls.MessageBoxOkButtons,a,"id5446673","warning"),!0}return n},validateEmailData:function(o){var t,e="",a=this,n=!1,r=[];if($.each(o,function(o,t){if(t.validator.errors.length>0)return $.each(t.validator.errors,function(o,t){e+=t+"<br />",n=!0}),Komodo.Controls.MessageBoxController.show(kl.value("locale.Contact:contact"),kl.value("controller.invalidDataMessage")+"<br />"+e,Komodo.Controls.MessageBoxOkButtons,a,"id5446673","warning"),!1}),!n){for(var t=o.sort(function(o,t){if(!Ember.isEmpty(o.contactValue)&&!Ember.isEmpty(t.contactValue)){var e=o.contactValue.toLocaleLowerCase(),a=t.contactValue.toLocaleLowerCase();return e<a?-1:e>a?1:0}return 0}),l=0;l<t.length-1;l++)t[l+1].contactValue==t[l].contactValue&&r.push(t[l].contactValue);if(r.length>0)return Komodo.Controls.MessageBoxController.show(kl.value("locale.Contact:contact"),kl.value("locale.Contact:duplicateEmailAddress"),Komodo.Controls.MessageBoxOkButtons,a,"id5446673","warning"),!0}return n},getPhoneNumberCollection:function(o){var t=Komodo.Models.ListOfPhoneNumber.create();return o.forEach(function(o){var e=Komodo.Models.PhoneNumber.create();void 0!==o.countryCode&&void 0!==o.contactValue&&(e.set("Type",o.type),e.set("Code",$.trim(o.countryCode)),e.set("Number",o.contactValue.trim()),e.set("IsPrimary",o.isPrimary),!0===o.isPrimary?e.set("IsMarketingEnabled",!0):e.set("IsMarketingEnabled",!1),t.PhoneNumber.push(e))}),t},getEmailCollection:function(o){var t=Komodo.Models.ListOfEmail.create();return o.forEach(function(o){if(o.contactValue&&o.contactValue){var e=Komodo.Models.Email.create();e.set("Value",o.contactValue.trim()),e.set("IsPrimary",o.isPrimary),!0===o.isPrimary?e.set("IsMarketingEnabled",!0):e.set("IsMarketingEnabled",!1),t.Email.push(e)}}),t}}).create();
Komodo.Controls.TreeView=Ember.View.extend(Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{templateName:"TreeView",attributeBindings:["tabindex","disabled","visible"],isTreeView:!0,displayPath:void 0,valuePath:void 0,subItemsPath:void 0,selectedItem:void 0,init:function(){this._super(),Komodo.Services.uiService.generateElementId(this),this.registerLocalizedProperties(["title"])},click:function(e){e.stopPropagation()}});
Komodo.Controls.RichTextEditor=Ember.View.extend(Komodo.Controls.Control,Komodo.Dependency,Komodo.Controls.ViewLocalization,{tag:"div",templateName:"RichTextEditorView",defaultText:void 0,elementId:void 0,classNames:["container"],init:function(){this._super(),this.registerLocalizedProperties(["defaultText"]),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService})},getUiService:function(){return this.get("_uiService")},didInsertElement:function(){tinymce.init({selector:"#richTextEditorControl",toolbar:"insertfile undo redo underline | styleselect | bold italic | alignleft aligncenter | fontsizeselect | alignright alignjustify | bullist numlist outdent indent | link image | code",fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",menubar:!1,plugins:["image","code"],elementpath:!1})}});
Komodo.Controls.FileReader=Komodo.UI.View.extend(Ember.TargetActionSupport,Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{tagName:"div",templateName:"FileReaderView",attributeBindings:["multiple","disabled","visible"],contentType:void 0,fileNames:void 0,init:function(){this._super(),this.registerLocalizedProperties(["text"]),Komodo.Services.uiService.generateElementId(this,{prefix:"file"})},sendData:function(e){if(this.set("actionContextObject",e),!this.get("target")){var t=this.get("context");t&&this.set("target",t)}this.triggerAction.apply(this)},change:function(e){var t=this,i=/text.*/,o=function(e){t.sendData({name:this.file.name,type:this.file.type,content:e.target.result})},r=function(e){t.sendData({name:this.file.name,type:this.file.type,error:e.target.error})};this.set("fileNames",[""]);var a=e.target;if(a.files)for(var n=0;n<a.files.length;n++){if("text"==this.get("contentType")&&!a.files[n].type.match(i))return void t.sendData({name:a.files[n].name,type:a.files[n].type,error:new Error(kl.value("locale.komodo:fileType"))});var s=new FileReader;s.file=a.files[n],s.onload=o,s.onerror=r,"text"==this.get("contentType")||void 0==this.get("contentType")?s.readAsText(a.files[n]):s.readAsArrayBuffer(a.files[n]),this.get("fileNames").addObject(a.files[n].name)}}.observes("fileNames[]")});
Komodo.Controls.DatePicker=Komodo.Controls.LabelFieldView.extend({FieldView:Komodo.Controls.CoreDatePicker.extend(Komodo.Controls.FieldView,{valueBinding:"parentView.value",init:function(){this.set("elementId",this.get("parentView._labelFieldViewElementId")),this._super()},propertyReference:function(){return this.get("parentView")?this.get("parentView").get("property"):void 0}.property()})});
Komodo.Application.ErrorCodesRoute=Komodo.UI.RestrictedRoute.extend({useCaseName:"errorCodes",useCaseDisplayName:void 0,init:function(){this._super()}}),Komodo.UI.Route.registerRoutes(function(){this.resource("errorCodes"),Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.userLoggedOut,function(){var e=Komodo.Services.uiService.getController("ErrorCodes").get("errorCodesModel");Ember.set(e,"serialNumber","")})});
Komodo.UI.idFunctions=Ember.Object.extend({init:function(){this._super()},verifyIdNumber:function(e,r,i){var t=$.Deferred(),n="firstName="+e+"&lastName="+r,o="CustomerProfile/ValidateIDNumber/"+i+"?"+n;return Komodo.Services.queryService.getJSON(o,!1).done(function(e){t.resolve(e)}).error(function(e){t.reject(JSON.stringify(e))}).fail(function(e){t.reject(JSON.stringify(e))}),t}}).create();
Komodo.Application.LocalizationChangerView=Komodo.UI.View.extend({viewKey:"LocalizationChangerView",languages:[],selectedLanguage:void 0,disabled:!1,confirmationRequired:!1,init:function(){var e,t=this;this._super(),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),e=function(){t.set("selectedLanguage",t._getCurrentLanguage()),Ember.addObserver(t,"selectedLanguage",t,"selectedLanguageChanged")},this.getCachedDataService().fetch("Language",{domain:"global"}).done(function(a){a&&a[0]&&(0==t.get("languages").length&&$.each(a,function(e,a){t.get("languages").addObject(a)}),e())}).fail(function(){Komodo.error("Could not retrieve languages / Language / domain = global / qualifier = "+t.getLocalizationService().getCurrentLanguage())}),this.getUIService().generateElementId(this,{prefix:"lang"})},getCachedDataService:function(){return this.get("_cachedDataService")},getUIService:function(){return this.get("_uiService")},getLocalizationService:function(){return this.get("_localizationService")},getEventAggregator:function(){return this.get("_eventAggregator")},_getCurrentLanguage:function(){var e=this.getLocalizationService().getCurrentLanguage(),t=this.get("languages")||[],a=t.find(function(t){return t.key===e});if(a)return a.key},willDestroy:function(){Ember.removeObserver(this,"selectedLanguage",this,"selectedLanguageChanged")},selectedLanguageChanged:function(){var e=this,t=e.get("selectedLanguage"),a=this.getLocalizationService().getCurrentLanguage(),n=this.get("confirmationRequired"),i=kl.value("localization.headingMessage"),g=kl.value("localization.restartMessage");if(void 0!==t&&a!==t)if(n){var o=Komodo.Controls.MessageBoxController.show(i,g,Komodo.Controls.MessageBoxOkCancelButtons,this,"cldrpalert","warning");o.response=function(){"ok"==this.action?(e.getLocalizationService().changeLanguage(t),e.getEventAggregator().publish(Komodo.EventNames.restartApplication,"")):e.set("selectedLanguage",e._getCurrentLanguage())}}else e.getLocalizationService().changeLanguage(t),e.getEventAggregator().publish(Komodo.EventNames.restartApplication,"")}});
Komodo.UI.addressFunctions=Ember.Object.extend({_enableAddressOverRide:!1,init:function(){var e=this;Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),e._initializeData(),e._super()},_initializeData:function(){var e=this;Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableAddressOverRide").done(function(t){e.set("_enableAddressOverRide",t)}).fail(function(){Komodo.error("[ERROR] : could not retrieve feature toggle CustomerGlobal.EnableAddressOverRide")})},getAddress:function(e){var t=Komodo.Models.Address.create();return t.Type=e.addressType,Ember.empty(e.isPrimary)?t.IsPrimary=!1:t.IsPrimary=e.isPrimary,Ember.empty(e.unit)?t.HouseNumber="":t.HouseNumber=e.unit,Ember.empty(e.building)?t.BuildingName="":t.BuildingName=e.building.trim(),Ember.empty(e.streetNumber)||Ember.empty(e.streetName)?Ember.empty(e.streetNumber)?Ember.empty(e.streetName)?t.Street="":t.Street=e.streetName.trim():t.Street=e.streetNumber.trim():t.Street=e.streetNumber.trim()+" "+e.streetName.trim(),e.addressType===Komodo.CanonicalValues.AddressTypes.Postal&&(Ember.empty(e.boxType)||Ember.empty(e.privateBag)?Ember.empty(e.boxType)?Ember.empty(e.privateBag)?t.Street="":t.Street=e.privateBag.trim():t.Street=e.boxType.trim():Ember.empty(e.suite)?t.PostBoxNumber=e.boxType+" "+e.privateBag:t.PostBoxNumber=e.boxType+" "+e.privateBag+" "+e.suite),t.Suburb=e.suburb,t.City=e.city,t.Province=e.province,t.Country=e.country,t.PostCode=e.postalCode,t.Longitude=void 0,t.Latitude=void 0,t.BuildingNumber=void 0,t.IsMarketingEnabled=!1,this.get("_enableAddressOverRide")?t.IsVerified=!e.isAddressOverride:t.IsVerified=e.isAddressOverride,t.Floor=e.floor,t.LocationOnFloor=e.exactLocation,t},getAddressCollection:function(e){var t=this,s=Komodo.Models.ListOfAddress.create();return e.forEach(function(e){s.Address.push(t.getAddress(e))}),s},getAddressModel:function(e){var t=Komodo.Models.AddressModel.create();if(this.get("_enableAddressOverRide")?t.set("isAddressOverride",!e.isVerified):t.set("isAddressOverride",e.isVerified),t.set("addressTypeText",e.typeText),t.set("addressType",e.type),t.set("country",e.country),t.set("province",e.province),t.set("city",e.city),t.set("suburb",e.suburb),t.set("postalCode",e.postalCode),t.set("unit",e.unitNumber),t.set("building",e.buildingName),t.set("streetNumber",e.streetNumber),t.set("streetName",e.streetName),e.type===Komodo.CanonicalValues.AddressTypes.Postal&&(t.set("privateBag",e.suite),t.set("boxType",void 0),!Ember.isEmpty(e.suite))){var s;-1!==e.suite.replace(/\s/g,"").indexOf(Komodo.BoxTypes.PO_BOX.replace(/\s/g,""))?(s=e.suite.split(" "),t.set("privateBag",s[2]),t.set("boxType",Komodo.BoxTypes.PO_BOX)):-1!==e.suite.replace(/\s/g,"").indexOf(Komodo.BoxTypes.Suite_PrivateBag.replace(/\s/g,""))?(s=e.suite.split(" "),t.set("privateBag",s[4]),t.set("suite",s[5]),t.set("boxType",Komodo.BoxTypes.Suite_PrivateBag)):-1!==e.suite.indexOf(Komodo.BoxTypes.SUITE)?(s=e.suite.split(" "),t.set("privateBag",s[1]),t.set("boxType",Komodo.BoxTypes.SUITE)):-1!==e.suite.replace(/\s/g,"").indexOf(Komodo.BoxTypes.PRIVATE_BAG.replace(/\s/g,""))&&(s=e.suite.split(" "),t.set("privateBag",s[2]),t.set("boxType",Komodo.BoxTypes.PRIVATE_BAG))}return t.set("isPrimary",e.isPrimary),t.set("isPrimaryString",e.primaryText),t.set("isMarketingEnabled",!1),t.set("addressString",e.details),t.set("floor",e.floor),t.set("exactLocation",e.exactLocation),t},splitStreetNumberName:function(e){var t="",s="";if(e){var r=e.split(" ");t=r.length>1?r[0]:"",s=r.length>1?r.slice(1).join(" "):r[0],Ember.isEmpty(t)||/\d/.test(t)||(t="",s=e)}return{streetNumber:t.trim(),streetName:s.trim()}},payloadToAddressModel:function(e){var t=this,s=Komodo.Models.AddressModel.create();if(e.Type===Komodo.CanonicalValues.AddressTypes.Postal?s.set("addressTypeText",Komodo.AddressTypes.POSTAL):s.set("addressTypeText",Komodo.AddressTypes.PHYSICAL),s.set("addressType",e.Type),s.set("country",e.Country),s.set("province",e.Province),s.set("city",e.City),s.set("suburb",e.Suburb),s.set("postalCode",e.PostCode),s.set("unit",e.HouseNumber),s.set("building",e.BuildingName),!Ember.isEmpty(e.Street)){var r=this.splitStreetNumberName(e.Street);s.set("streetNumber",r.streetNumber),s.set("streetName",r.streetName)}if(e.Type===Komodo.CanonicalValues.AddressTypes.Postal&&(s.set("privateBag",e.PostBoxNumber),s.set("boxType",void 0),!Ember.isEmpty(e.PostBoxNumber)))if(-1!==e.PostBoxNumber.replace(/\s/g,"").indexOf(Komodo.BoxTypes.PO_BOX.replace(/\s/g,""))){var o=e.PostBoxNumber.split(" ");s.set("privateBag",o[2]),s.set("boxType",Komodo.BoxTypes.PO_BOX)}else if(-1!==e.PostBoxNumber.indexOf(Komodo.BoxTypes.SUITE)){var o=e.PostBoxNumber.split(" ");s.set("privateBag",o[1]),s.set("boxType",Komodo.BoxTypes.SUITE)}else if(-1!==e.PostBoxNumber.replace(/\s/g,"").indexOf(Komodo.BoxTypes.PRIVATE_BAG.replace(/\s/g,""))){var o=e.PostBoxNumber.split(" ");s.set("privateBag",o[2]),s.set("boxType",Komodo.BoxTypes.PRIVATE_BAG)}return s.set("isPrimary",e.IsPrimary),s.set("isMarketingEnabled",!1),s.set("addressString",t.concatStrings(s.get("unit"),s.get("building"),s.get("streetNumber"),s.get("streetName"),s.get("suburb"),s.get("city"),s.get("province"),s.get("country"),s.get("postalCode"),s.get("privateBag"),s.get("suite"),s.get("boxType"))),s.set("floor",e.floor),s.set("exactLocation",e.exactLocation),s},concatStrings:function(e,t,s,r,o,i,d,a,m,n,u){var p;return p=void 0===u||null===u||Ember.isEmpty(u)?"":u,p+=void 0===n||null===n||Ember.isEmpty(n)?"":" "+n+",",p+=void 0===e||null===e||Ember.isEmpty(e)?"":" "+e+",",p+=void 0===t||null===t||Ember.isEmpty(t)?"":" "+t+",",p+=void 0===s||null===s||Ember.isEmpty(s)?"":" "+s+",",p+=void 0===r||null===r||Ember.isEmpty(r)?"":" "+r+",",p+=void 0===o||null===o||Ember.isEmpty(o)?"":" "+o+",",p+=void 0===i||null===i||Ember.isEmpty(i)?"":" "+i+",",p+=void 0===d||null===d||Ember.isEmpty(d)?"":" "+d+",",p+=void 0===a||null===a||Ember.isEmpty(a)?"":" "+a+",",p+=void 0===m||null===m||Ember.isEmpty(m)?"":" "+m}}).create();
Komodo.Controls.CollapsibleView=Ember.ContainerView.extend(Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{headerTemplateName:"CollapsibleView",title:void 0,isCollapsed:!1,links:void 0,defaultSeparatorClassNames:[],defaultLinkClassNames:["collapsible-view-link","collapsible-view-link-arrow-right"],init:function(){var e=this;this.registerLocalizedProperties(["title"]),Komodo.Services.uiService.generateElementId(this);var t=Ember.View.extend(Komodo.Controls.ViewLocalization,{init:function(){this._super(),this.set("elementId","collapsible-view-title-"+this.get("parentView.elementId"))},templateName:e.get("headerTemplateName"),classNameBindings:["collapseClass"],parentView:e,titleBinding:Ember.Binding.oneWay("parentView.title"),actions:{toggleState:function(){var t=e.get("isCollapsed");e.set("isCollapsed",!t)}},_links:function(){return e.get("links")}.property("parent.links"),_defaultSeparatorClassNames:function(){return e.get("defaultSeparatorClassNames")}.property("parentView.defaultSeparatorClassNames"),_defaultLinkClassNames:function(){return e.get("defaultLinkClassNames")}.property("parentView.defaultLinkClassNames"),collapseClass:function(){return!0===this.get("parentView.isCollapsed")?"komodo-collapsible-view-closed":"komodo-collapsible-view-open"}.property("parentView.isCollapsed"),changeIconClass:function(){return!0===this.get("parentView.isCollapsed")?"komodo-collapsible-view-down":"komodo-collapsible-view-up"}.property("parentView.isCollapsed")}).create(),i=Ember.View.extend(Komodo.Controls.ViewLocalization,{init:function(){this._super(),this.set("elementId","collapsible-view-body-"+this.get("parentView.elementId"))},title:void 0,template:e.get("template"),classNames:["komodo-collapsible-view-body"],parentView:e,attributeBindings:["style"],style:function(){return!0===e.get("isCollapsed")?"display: none":"display: block"}.property(),toggleState:function(){var e=this.get("elementId");!0===this.get("parentView.isCollapsed")?$("#"+e).slideUp("fast"):$("#"+e).slideDown("fast")}.observes("parentView.isCollapsed")}).create();i.set("title",e.get("title")),e.get("childViews").push(t),e.get("childViews").push(i),e._super()}});
Komodo.Application.sessionExpiryController=Ember.Object.create({popup:function(){Komodo.Services.uiService.getController("application").set("isRedirecting",!0);var o=Komodo.Services.uiService.showModalPopup(kl.value("login.sessionExpiryTitle"),"Login",{canUserClose:!1});Komodo.Services.eventAggregator.one(Komodo.EventNames.userLoggedIn,function(){o.close()})}}),Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.sessionExpired,Komodo.Application.sessionExpiryController.popup);
Komodo.Controls.RadioButtonGroupOrientation={horizontal:"horizontal",vertical:"vertical"},Komodo.Controls.RadioButtonGroup=Komodo.Controls.LabelFieldView.extend(Komodo.Controls.Control,{FieldView:Ember.View.extend(Komodo.Controls.ViewLocalization,Komodo.Controls.FieldView,{templateName:"RadioButtonView",contentBinding:"parentView.content",displayPathBinding:"parentView.displayPath",valuePathBinding:"parentView.valuePath",valueBinding:"parentView.value",selectionBinding:"parentView.selection",init:function(){this._super(),this.set("elementId",this.get("parentView._labelFieldViewElementId"))}}),orientation:Komodo.Controls.RadioButtonGroupOrientation.horizontal,isHorizontal:function(){return this.get("orientation")==Komodo.Controls.RadioButtonGroupOrientation.horizontal}.property("orientation")});
Komodo.Application.DebugController=Ember.Controller.extend(Komodo.Dependency,{_debugWindowOpen:!1,_failedMessages:void 0,init:function(){this._super(),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.set("data",Komodo.Models.DebugModel.create()),this.set("logDataColumns",[Komodo.Controls.DataGridColumn.create({name:"time",title:kl.value("debug.time"),width:"120px"}),Komodo.Controls.DataGridColumn.create({name:"source",title:kl.value("debug.source"),width:"120px"}),Komodo.Controls.DataGridColumn.create({name:"message",title:kl.value("debug.message"),width:"800px"})]),this.set("_failedMessages",[]),Ember.addObserver(this.getSecurityService(),"isAuthenticated",this,function(){this.notifyPropertyChange("shouldShowDebug")})},getSecurityService:function(){return this.get("_securityService")},registerSubscriptions:function(){var e=this;Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.userLoggedOut,function(){e.send("hideDebug")}),Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.messageFaultReceived,function(t){e.messageFaultReceived.call(e,t)})},messageFaultReceived:function(e){this.get("_failedMessages").pushObject(e)},debugWindowOpened:function(){this.set("_debugWindowOpen",!0)},debugWindowClosed:function(){this.set("_debugWindowOpen",!1)},actions:{hideDebug:function(){$("#komodo-debug-popup").slideUp(),Komodo.Services.eventAggregator.unsubscribe("debugMessageLogged",this,this._debugMessageLogged),this.debugWindowClosed()},hideFailedMessages:function(){$("#komodo-debug-popup").slideUp(),this.debugWindowClosed()},clearLog:function(){var e=this.data.get("logData"),t=this.data.get("sourceFilters"),s=this.get("_searchedData"),i=this.get("_filteredData");e&&e.clear(),t&&t.clear(),s&&s.clear(),i&&i.clear()},search:function(){var e=this._filteredData,t=this.data.searchText;null!==t&&void 0!==t&&""!==t?(t=t.toLowerCase(),e=e.filter(function(e){return e.message.toLowerCase().indexOf(t)>-1}),this.set("_searchedData",e)):this.set("_searchedData",null)}},showDebug:function(){$("#komodo-debug-popup").slideDown(),Komodo.Services.eventAggregator.subscribe("debugMessageLogged",this,this._debugMessageLogged),this.debugWindowOpened()},showFailedMessages:function(){$("#komodo-debug-popup").slideDown(),this.debugWindowOpened()},logData:function(){return null!==this._searchedData&&void 0!==this._searchedData?this._searchedData:this._filteredData}.property("_filteredData","_searchedData"),logDataColumns:void 0,_searchedData:void 0,_filteredData:[],_selectedSourceFilterChanged:function(){var e,t=this;e=this.data.logData.filter(function(e){return t._meetsFilterCondition(e)}),this.set("_filteredData",e),void 0!==this._searchedData&&null!==this._searchedData&&this.search()}.observes("data.selectedSourceFilter"),_meetsFilterCondition:function(e){if(e){var t=this.data.selectedSourceFilter;if(null!==t&&void 0!==t)return e.source===t}return!0},_debugMessageLogged:function(e){var t=e.indexOf("-"),s=e.substr(0,t).trim(),i=e.substr(t+1).trim(),o=moment().format("YYYY-MM-DD HH:mm:ss");this.data.sourceFilters.contains(s)||this.data.sourceFilters.pushObject(s),this.data.logData.unshiftObject(Ember.Object.create({source:s,time:o,message:i})),this._meetsFilterCondition(this.data.logData[0])&&this._filteredData.unshiftObject(this.data.logData[0])},shouldShowDebug:function(){return this.getSecurityService().get("isAuthenticated")&&!this.get("_debugWindowOpen")&&Komodo.DEBUG}.property("_debugWindowOpen"),shouldShowFailedMessages:function(){return!this.get("_debugWindowOpen")&&this.get("_failedMessages").length>0}.property("_failedMessages.@each","_debugWindowOpen"),failedMessagesCount:function(){return this.get("_failedMessages").length}.property("_failedMessages.@each")});
Komodo.Application.SearchNavigationController=Komodo.UI.Controller.extend({siteSearchViewState:!1,isCustomerAvailable:!1,currentSelection:-1,scrolled:0,init:function(){this.registerModel("data",Komodo.Models.SearchNavigationModel),this.requiresDependency("_navigationService",{singleton:Komodo.Services.navigationService}),this._super()},start:function(){this._super()},actions:{hideContainer:function(){this.hideContainer()},hideSiteSearchText:function(){this.hideSiteSearchText()},routeSelected:function(e){this.routeSelected(e)}},getNavigationService:function(){return this.get("_navigationService")},getEventAggregator:function(){return this.get("_eventAggregator")},hideContainer:function(){$("#komodo-site-search-container").slideUp(),$("#komodo-site-search-container").scrollTop(0),$("#sitesearchtext").val(""),this.set("currentSelection",-1),this.set("scrolled",0)},hideSiteSearchText:function(){this.hideContainer(),this.set("siteSearchViewState",!1)},showSiteSearchText:function(){$("#sitesearchtext").focus()},searchTextChanged:function(){var e=this,t=[],o=[],i="",r="",n="",c="",a="",s="",l="",g="",h="";Komodo.Services.navigationService.get("_modules").forEach(function(e){"hometile"===e.type&&Komodo.Services.navigationService.get("_canAccessModule").call(Komodo.Services.navigationService,e)&&(t=t.concat(Komodo.Services.navigationService.getAllLinks(e.groupName)))}),t.forEach(function(t){(i=$.grep(Komodo.Services.securityService.get("routeAccess"),function(e){return e.routeName===t.routeName&&"GRANT"===e.permissionType}))&&i.length>0&&(s=t.title,l=Komodo.Services.uiService.getController("application").get("siteSearchText"),g=s.toLowerCase(),-1!==(h=g.indexOf(l.toLowerCase()))&&""!==l&&(r=e.getRegExToCreateSearchValue(),n=e.getTokenToHighlightSearchResult(),c=t.title.replace(r,n),a=Ember.Object.create({title:c.htmlSafe(),routeName:t.routeName,groupName:t.groupName,conditionalCallback:t.conditionalCallback}),o.push(a)))}),e.get("data").set("routes",o)},routeSelected:function(e){var t=this;if(t.set("helperFunction",Komodo.Services.ProductAndServiceMaintenanceHelper.create()),t.set("isCustomerAvailable",t.get("helperFunction").isCustomerIdIsAvailableToRetriveData()),!(t.get("isCustomerAvailable")||e.content.groupName!==Komodo.NavigationGroupNames.ManageCustomer&&e.content.groupName!==Komodo.NavigationGroupNames.ManageViewing&&e.content.groupName!==Komodo.NavigationGroupNames.ManageAccount))return void t.searchPopup();t.getNavigationService().transitionToItem(e.content),t.hideSiteSearchText()},navigate:function(e){var t=this,o=$("tr.highlightSelected td.searchLink div span[id^=siteSearchLink]");0===$("#siteSearchTable tr").size()&&t.set("currentSelection",-1),"up"===e&&-1!==t.get("currentSelection")?(0!==t.get("currentSelection")&&t.set("currentSelection",t.get("currentSelection")-1),o.position()&&o.position().top<60&&o.position().top>40&&t.get("scrolled")>0&&(t.set("scrolled",t.get("scrolled")-30),$("#komodo-site-search-container").scrollTop(t.get("scrolled")))):"down"===e&&(t.get("currentSelection")!==$("#siteSearchTable tr").size()-1&&t.set("currentSelection",t.get("currentSelection")+1),t.get("currentSelection")<$("#siteSearchTable tr").size()-1&&o.position()&&o.position().top>330&&o.position().top<380&&(t.set("scrolled",t.get("scrolled")+30),$("#komodo-site-search-container").scrollTop(t.get("scrolled")))),t.setSelected(t.get("currentSelection"))},setSelected:function(e){$("#siteSearchTable tr").removeClass("highlightSelected"),$("#siteSearchTable tr").eq(e).addClass("highlightSelected")},searchPopup:function(){Komodo.Services.uiService.showModalPopup(kl.value("locale.customerprofile.customerprofile:general.customerProfilePopup"),"searchPrompt",{closeCallback:function(){Komodo.Services.uiService.getController("searchPrompt").set("searchPromptModel.customerUID",void 0),Komodo.Services.uiService.transitionTo("home")},canUserClose:!0,shouldStartAndStopController:!1})},getRegExToCreateSearchValue:function(){return new RegExp("("+Komodo.Services.uiService.getController("application").get("siteSearchText")+")","gi")},getTokenToHighlightSearchResult:function(){return this.getPreTagForHighLightSearchResult()+"$1"+this.getPostTagForHighLightSearchResult()},getPreTagForHighLightSearchResult:function(){return"<span class= site-search-highlight>"},getPostTagForHighLightSearchResult:function(){return"</span>"},removeHtmlFromSearchFields:function(e){var t=new RegExp(this.getPreTagForHighLightSearchResult(),"g"),o=new RegExp(this.getPostTagForHighLightSearchResult(),"g");return e.replace(t,"").replace(o,"")}});
Komodo.Application.ApplicationController=Ember.Controller.extend(Komodo.Dependency,{needs:["debug","searchNavigation"],_selectedTheme:void 0,_offline:!1,_selectedCountryDescription:void 0,_selectedCountryId:void 0,_routes:void 0,_isAuthenticated:void 0,_session:void 0,_userRolesMismatch:void 0,restartValue:void 0,_transitionToPage:void 0,updateCurrentPath:function(){Komodo.Application.set("currentRouteName",this.get("currentPath"))}.observes("currentPath"),init:function(){var e=this;this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_navigationService",{singleton:Komodo.Services.navigationService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_messagingService",{singleton:Komodo.Services.messagingService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_offlineService",{singleton:Komodo.Services.offlineService}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService}),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_traceRepository",{singleton:Komodo.Repositories.traceRepository}),this.requiresDependency("_themeSwitcherService",{singleton:Komodo.Services.themeSwitcherService}),this.getThemeSwitcherService().setSavedTheme(this.getOfflineService().get("domainUserName"));var t=function(t){e.notifyPropertyChange("isHomePage"),this.set("_isAuthenticated",t)},i=function(e){this.set("_userRolesMismatch",e)};this.getNavigationService().addObserver("hasActiveGroup",this,t),this.getSecurityService().addObserver("isAuthenticated",this,t),this.getSecurityService().addObserver("userRolesMismatch",this,i),this.getEventAggregator().subscribe(Komodo.EventNames.restartApplication,this._restartApplication),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._configure),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._configure),this.getEventAggregator().subscribe(Komodo.EventNames.willTransitionToRoute,this,this.hideSettingsDropdown),this.getEventAggregator().subscribe(Komodo.EventNames.sessionChanged,this,this.sessionChanged),this.getMessagingService().resetInProcess(),this.get("controllers.debug").registerSubscriptions(),this.set("_offline",this.getOfflineService().workingOffline()),this.showSearchTextField(),this.getSecurityService().get("isAuthenticated")&&this._configure(),this.createEmberHelperFunctions()},sessionChanged:function(e){this.set("_session",e)},createEmberHelperFunctions:function(){var e=this;Ember.Handlebars.helper("loc",function(e,t){return t&&t.data&&t.data.properties&&0!=t.data.properties.length?new Handlebars.SafeString(i18n.t(t.data.properties[0])):"(could not get localisation key)"}),Ember.Handlebars.helper("date",function(t,i){if(i&&i.data&&i.data.properties&&0!=i.data.properties.length)return new Handlebars.SafeString(e.getSystemService().formattedDate(i))})},getSecurityService:function(){return this.get("_securityService")},getThemeSwitcherService:function(){return this.get("_themeSwitcherService")},getMessagingService:function(){return this.get("_messagingService")},getNavigationService:function(){return this.get("_navigationService")},getEventAggregator:function(){return this.get("_eventAggregator")},getUIService:function(){return this.get("_uiService")},getOfflineService:function(){return this.get("_offlineService")},getLocalizationService:function(){return this.get("_localizationService")},getTraceRepository:function(){return this.get("_traceRepository")},getSystemService:function(){return this.get("_systemService")},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getCacheRepository:function(){return this.get("_cacheRepository")},getCachedDataService:function(){return this.get("_cachedDataService")},loggedInUserName:function(){return this.get("_session")?this.get("_session").domainUserName:""}.property("_session"),lastVisitedUrl:void 0,busyIndicator:{isBusy:!1,process:void 0},version:function(){return this.getKomodoConfiguration().version}.property(),_restartApplication:function(e){Komodo.Application.log("ApplicationController._restartApplication");var t,i=e,o=!1,s=function(){document.location.reload(!0)};if("object"===Ember.typeOf(e)&&(i=e.message,o=e.isNotModal),void 0==i||0===i.length)return void s();o?(alert(i),s()):(t=Komodo.Controls.MessageBoxController.show(kl.value("locale.komodo:application"),i,Komodo.Controls.MessageBoxOkButtons,this,"pluginsmessge","warning"),t.response=function(){s()})},isMobileDevice:function(){return this.getSystemService().get("isMobile")}.property(),willDestroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.restartApplication,this,this._restartApplication)},redirectReturn:function(e){Komodo.Application.log("ApplicationController.redirectReturn: url:["+e+"]"),this.get("isRedirecting")&&(this.set("isRedirecting",!1),e=this.currentRouteName?this.currentRouteName:"home"),this.getUIService().transitionTo(e)},redirect:function(e,t){Komodo.Application.log("ApplicationController.redirect: redirectUrl:["+e+"]");var i,o,s=Komodo.Services.uiService.getRoute("application").router,r=s.get("location").get("location").hash.substr(1),n=this;this.set("lastVisitedUrl",r),i=function(r,a,c){s.removeObserver("url",i),c||(o=!0,t&&(o=t()),o&&n.getUIService().transitionTo(e))},s.addObserver("url",i)},searchButtonLinks:function(){var e=[];return e.addObject({title:kl.value("locale.komodo:shell.searchCustomer"),action:"searchCustomer"}),e.addObject({title:kl.value("locale.komodo:shell.searchQuote"),action:"searchQuote"}),e.addObject({title:kl.value("locale.komodo:shell.searchCase"),action:"searchCase"}),e.addObject({title:kl.value("locale.komodo:shell.searchDevice"),action:"searchDevice"}),e.addObject({title:kl.value("locale.komodo:shell.searchProcessResponse"),action:"searchProcessResponse"}),e}.property(),isHomePage:function(){return!this.getSecurityService().get("isAuthenticated")||!this.getNavigationService().get("hasActiveGroup")}.property(),_configure:function(){var e=this;this.getCacheRepository().fetch(Komodo.CacheKeys.selectedCountry).done(function(t){e.set("_selectedCountryDescription",t.data.countryDescription),e.set("_selectedCountryId",t.data.countryId)})},hideSettingsDropdown:function(){var e=$("#komodo-settings-dropdown");e.is(":visible")&&e.hide("slow")},loggedInCountry:function(){return this.get("_selectedCountryDescription")}.property("_selectedCountryDescription"),loggedInFlag:function(){return void 0===this.get("_selectedCountryDescription")?"Content/Images/Flags/blank.svg":"Content/Images/Flags/"+this.get("_selectedCountryId")+".svg"}.property("_selectedCountryDescription"),changeTheme:function(){this.getEventAggregator().publish(Komodo.EventNames.themeChanged,this.get("_selectedTheme"))}.observes("_selectedTheme"),actions:{settingsDropDown:function(){$("#komodo-settings-dropdown").slideToggle(),$(document).on("click",function(e){var t=$("#komodo-settings-dropdown"),i=$("#settingsImage");t.is(e.target)||0!==t.has(e.target).length||i.is(e.target)||0!==i.has(e.target).length||t.slideUp()})},toggleSideNav:function(){$("#sidebar").is(":visible")?$("#sidebar").hide("slow"):$("#sidebar").show("slow")},navigateHome:function(){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"homeIconClicked",user:this.getSecurityService().get("domainUserName"),fromRouteName:this.getUIService().getCurrentRouteName()}}).fail(function(e){Komodo.Services.error(e)}),this.getUIService().transitionTo("home"),$(".row-offcanvas").removeClass("active")},showSiteSearchTextField:function(){this.get("controllers.searchNavigation").showSiteSearchText()},toggleMenu:function(){$(".row-offcanvas").toggleClass("active")},search:function(){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"searchClicked",user:this.getSecurityService().get("domainUserName"),searchType:"general"}}).fail(function(e){Komodo.Services.error(e)}),this.getEventAggregator().publish(Komodo.EventNames.searchRequested,{searchTerm:this.get("searchText"),searchType:"general"})},searchCustomer:function(){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"searchClicked",user:this.getSecurityService().get("domainUserName"),searchType:"customer"}}).fail(function(e){Komodo.Services.error(e)}),this.getEventAggregator().publish(Komodo.EventNames.searchRequested,{searchTerm:this.get("searchText"),searchType:"customer"})},searchQuote:function(){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"searchClicked",user:this.getSecurityService().get("domainUserName"),searchType:"quote"}}).fail(function(e){Komodo.Services.error(e)}),this.getEventAggregator().publish(Komodo.EventNames.searchRequested,{searchTerm:this.get("searchText"),searchType:"quote"})},searchCase:function(){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"searchClicked",user:this.getSecurityService().get("domainUserName"),searchType:"caseDetails"}}).fail(function(e){Komodo.Services.error(e)}),this.getEventAggregator().publish(Komodo.EventNames.searchRequested,{searchTerm:this.get("searchText"),searchType:"caseDetails"})},searchAgent:function(){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"searchClicked",user:this.getSecurityService().get("domainUserName"),searchType:"agent"}}).fail(function(e){Komodo.Services.error(e)}),this.getEventAggregator().publish(Komodo.EventNames.searchRequested,{searchTerm:this.get("searchText"),searchType:"agent"})},searchDevice:function(){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"searchClicked",user:this.getSecurityService().get("domainUserName"),searchType:"device"}}).fail(function(e){Komodo.Services.error(e)}),this.getEventAggregator().publish(Komodo.EventNames.searchRequested,{searchTerm:this.get("searchText"),searchType:"device"})},searchProcessResponse:function(){this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"searchClicked",user:this.getSecurityService().get("domainUserName"),searchType:"processResponse"}}).fail(function(e){Komodo.Services.error(e)}),this.getEventAggregator().publish(Komodo.EventNames.searchRequested,{searchTerm:this.get("searchText"),searchType:"processResponse"})},workOffline:function(){var e=this;Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.komodo:offline.workOfflineConfirmationTitle"),this.getLocalizationService().value("locale.komodo:offline.workOfflineConfirmationMessage"),Komodo.Controls.MessageBoxOkCancelButtons).response=function(t){"ok"===t&&(e.getOfflineService().workOffline(e.getSecurityService().get("session")),e._restartApplication())}},workOnline:function(){var e=this;Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.komodo:offline.workOnlineConfirmationTitle"),this.getLocalizationService().value("locale.komodo:offline.workOnlineConfirmationMessage"),Komodo.Controls.MessageBoxOkCancelButtons).response=function(t){"ok"===t&&(e.getOfflineService().workOnline(),e._restartApplication())}},logout:function(){var e=this;$("#komodo-settings-dropdown").hide();var t=this.getSecurityService().get("domainUserName");this.getTraceRepository().save(void 0,{transactionId:this.get("processId"),eventName:"clarity.ui.click",message:"[clarity] : ui click",data:{uiEvent:"logoutClicked",user:this.getSecurityService().get("domainUserName")}}).fail(function(e){Komodo.Services.error(e)}),Komodo.Application.log("ApplicationController.logout"),this.getOfflineService().outstandingOfflineTasks().done(function(i){0===i.length?(e.getUIService().transitionTo("login"),Komodo.Services.securityService.logout().done(function(){e.set("_selectedCountryDescription",void 0),e.set("_selectedCountryId",void 0),alert(t+kl.value("locale.komodo:logout.successMessage"))}).fail(function(e){Komodo.Controls.MessageBoxController.show(kl.value("locale.komodo:logout.failureTitle"),e,Komodo.Controls.MessageBoxOkButtons,this,"logoutFailure","error")})):Komodo.Controls.MessageBoxController.show(kl.value("locale.komodo:logout.failureTitle"),i.join("<br/>"),Komodo.Controls.MessageBoxOkButtons,this,"logoutFailure","error")}).fail(function(e){Komodo.Controls.MessageBoxController.show(kl.value("locale.komodo:logout.failureTitle"),e,Komodo.Controls.MessageBoxOkButtons,this,"logoutFailure","error")})},showUserAccessWarning:function(){Komodo.Services.uiService.showModalPopup(kl.value("locale.komodo:shell.rolesMismatch"),void 0,{view:Komodo.Application.UserRoleListView,canUserClose:!0,context:this,shouldStartAndStopController:!1})}},searchTextChanged:function(){var e=this.get("controllers.searchNavigation"),t=Komodo.Services.uiService.getRoute("searchNavigation");if(null!==this.get("siteSearchText")&&""!==this.get("siteSearchText")&&this.get("siteSearchText").length>1){if(e.set("currentSelection",-1),e.set("scrolled",0),Komodo.Services.eventAggregator.publish("SearchNavigationEvent"),!e)return;e.searchTextChanged(),Ember.run.next(this,function(){t.showSiteSearchContainer()})}else e.hideContainer()}.observes("siteSearchText"),showSearchTextField:function(){var e=this,t=this.get("controllers.searchNavigation");$(document).on("click",function(e){var i=$("#komodo-site-search-container"),o=$("#sitesearchbutton"),s=$("#sitesearchtext");i.is(e.target)||0!==i.has(e.target).length||o.is(e.target)||s.is(e.target)||t.hideSiteSearchText()}),$(document).bind("keydown",function(i){if(i.ctrlKey&&81===i.keyCode&&"login"!==e.get("currentPath")&&(i.preventDefault(),t.showSiteSearchText()),$("#sitesearchtext").is(i.target))switch(i.keyCode){case 38:t.get("data").get("routes").length>0&&(i.preventDefault(),t.navigate("up"));break;case 40:t.get("data").get("routes").length>0&&(i.preventDefault(),t.navigate("down"));break;case 13:if(e.get("siteSearchText").length>1&&t.get("data").get("routes").length>0){var o=$("tr.highlightSelected td.searchLink div span[id^=siteSearchLink]").text(),s="",r=t.get("data").get("routes"),n="",a=0;r.forEach(function(){n=t.get("data").get("routes").get(a),s=t.removeHtmlFromSearchFields(n.title.toString()),o===s&&t.routeSelected({content:n}),a++})}break;case 27:t.hideSiteSearchText()}})},showBusyIndicator:function(e){this.set("busyIndicator.process",e),this.set("busyIndicator.isBusy",!0)},hideBusyIndicator:function(){this.set("busyIndicator.process",void 0),this.set("busyIndicator.isBusy",!1)},shouldShowFailedMessages:function(){return this.get("controllers.debug.shouldShowFailedMessages")}.property("controllers.debug.shouldShowFailedMessages"),failedMessagesCount:function(){return this.get("controllers.debug.failedMessagesCount")}.property("controllers.debug.failedMessagesCount"),canGoOffline:function(){return!this.get("_offline")&&this.getSystemService().isHostedLocally()}.property("_offline"),workingOffline:function(){return this.get("_offline")}.property("_offline"),workingOnlineAuthenticated:function(){return!this.get("_offline")&&this.getSecurityService().get("isAuthenticated")}.property("_isAuthenticated"),userRolesMismatched:function(){return this.get("_userRolesMismatch")}.property("_userRolesMismatch")}),Komodo.Application.ApplicationView=Ember.View.extend({templateName:"application"});
Komodo.UI.paymentDetailsFunctions=Ember.Object.extend({methodsOfPaymentCanonical:[],methodsOfPayment:[],debitOderDays:[],init:function(){var e=this;Komodo.Services.featureToggleService.isEnabled("EditPaymentDetails","RemovePaymentDay1").done(function(t){var a={domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()};Komodo.Services.cachedDataService.fetch("MethodOfPayment",a).done(function(o){e.get("methodsOfPaymentCanonical").clear(),$.each(o,function(t,a){e.get("methodsOfPaymentCanonical").addObject(a)}),Komodo.Services.cachedDataService.fetch("BankAccountType",a).done(function(o){e.get("methodsOfPayment").clear(),$.each(o,function(t,a){e.get("methodsOfPayment").addObject(a)}),Komodo.Services.cachedDataService.fetch("InvoiceDay",a).done(function(a){e.get("debitOderDays").clear(),a=a.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),$.each(a,function(a,o){"29"!==o.key&&("1"===o.key?t||e.get("debitOderDays").addObject(o):e.get("debitOderDays").addObject(o))})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for DebitOrderDay")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for MethodOfPayment")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for MethodOfPayment")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve debit order day from CDM")}),e._super()},validateData:function(e,t,a,o){var n="",r=a,d=!1;return $.each(t,function(t,a){var o="validators."+a;if(r.get(o).model===e){var c=o+".errors";r.get(c).length>0&&$.each(r.get(c),function(e,t){n+=t+"<br />",d=!0})}}),d&&Komodo.Controls.MessageBoxController.show(o,kl.value("controller.invalidDataMessage")+"<br />"+n,Komodo.Controls.MessageBoxOkButtons,r,"id5446673","warning"),d},getAccounts:function(e,t){var a=this,o=Komodo.Models.Account.create(),n=Komodo.canonicalFacadeFactory(o,["Type","UID","StartDate","EndDate","DunningLevel","Balance","TermOfPayment","Status","PaymentDetail"]),r=new Date;n.set("StartDate",r);var d=Komodo.Models.PaymentDetail.create();if(void 0!==e.debitOrderDay)d.set("DebitOrderDay",e.debitOrderDay);else if(t){var c=new Date,i=c.getDate();i="Day "+i;var m=$.grep(a.get("debitOderDays"),function(e){return e.value===i});m.length>0&&d.set("DebitOrderDay",m[0].key)}return e.paymentType!==Komodo.MOP.CASH&&void 0!==e.paymentType?(d.PayerPhoneNumber=Komodo.Models.PhoneNumber.create(),d.PayerEmail=Komodo.Models.Email.create(),void 0!==e.paymentType&&d.set("BankAccountType",$.grep(a.get("methodsOfPayment"),function(t){if(t.key===e.accountType)return t})[0].value),e.paymentType===Komodo.MOP.DEBIT_ORDER&&d.set("MethodOfPayment",$.grep(a.get("methodsOfPaymentCanonical"),function(e){if(e.value===d.BankAccountType)return e})[0].key),void 0!==e.accountNo&&d.set("AccountNumber",e.accountNo),null!==e.branchName&&null!==e.bank&&(d.set("BranchCode",e.branchName.BranchCode),d.set("BankName",e.bank.CanonicalKey),d.set("BranchName",e.branchName.CanonicalValue)),void 0!==e.debitOrderDay&&d.set("DebitOrderDay",e.debitOrderDay),void 0!==e.payerName&&d.set("PayerName",e.payerName),void 0!==e.payerID&&d.set("PayerIDNumber",e.payerID),void 0!==e.countryCode&&d.PayerPhoneNumber.set("Code",e.countryCode),void 0!==e.contactValue&&d.PayerPhoneNumber.set("Number",e.contactValue),void 0!==e.accountHolderEmailAddress&&d.PayerEmail.set("Value",e.accountHolderEmailAddress)):d.set("MethodOfPayment",Komodo.MOP.CASH),n.set("PaymentDetail",d),o},clearData:function(e){e.set("paymentType",Komodo.MOP.DEBIT_ORDER),e.set("debitOrderDay",void 0),e.set("accountNo",void 0),e.set("bank",void 0),e.set("branchName",void 0),e.set("payerName",void 0),e.set("payerID",void 0),e.set("payerIsCustomer",void 0)}}).create();
Komodo.Controls.SplitButton=Ember.View.extend(Ember.TargetActionSupport,Komodo.Controls.ViewLocalization,Komodo.Controls.Control,{templateName:"SplitButtonView",tagName:"span",title:void 0,links:void 0,init:function(){this._super(),Komodo.Services.uiService.generateElementId(this),this.registerLocalizedProperties(["title"])},actions:{performAction:function(){if(!this.get("target")){var t=this.get("context");t&&this.set("target",t)}if(this.triggerAction.apply(this),!1===this.bubbles)return!1}}});
Komodo.Application.ErrorCodesController=Komodo.UI.Controller.extend({localeError:"locale.errorcodes:errorCodes.",_selectBind:void 0,placeholder:"Smartcard/ Device Number",init:function(){this.set("errorCodes",[]),this.errorReasonText=void 0,this.registerModel("errorCodesModel",Komodo.Models.ErrorCodesModel),this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.placeholder=kl.value(this.localeError+"placeholder"),this._super(),this.processID=void 0},start:function(){this.set("_selectBind",this.get("errorCodes")[1]),this._super()},getErrorCodes:function(){this.set("country",Komodo.Services.uiService.getController("application").get("_selectedCountryId"));var e=this;return Komodo.Services.cachedDataService.fetch("ErrorReasonRelationship",{domain:e.country,qualifier:Komodo.Services.localizationService.getCurrentLanguage()}).done(function(r){e.get("errorCodes").clear();var o=JSON.parse(r);$.each(o.Errors.Error,function(r,o){e.get("errorCodes").addObject(o)})}).fail(function(){Komodo.log("could not retrieve errorCodes")}),e.get("errorCodes")}.property(),actions:{clearErrors:function(){this.getClearErrors()}},getClearErrors:function(){var e=this,r=(e.get("errorCodesModel").errorReasonCode,e.get("errorCodesModel").serialNumber,Komodo.Models.ClearDeviceErrorCode.create());return void 0==e.get("errorCodesModel").serialNumber?void Komodo.Controls.MessageBoxController.show(kl.value(this.localeError+"smartCardRequired"),kl.value(this.localeError+"enterSmartCardNumber"),null,this,"id123456","warning"):(void 0==e.get("errorCodesModel").errorReasonCode&&this.getDefaultErrorcode(),e.get("errorCodesModel").serialNumber.length>10||e.get("errorCodesModel").serialNumber.length<7?void Komodo.Controls.MessageBoxController.show(kl.value(this.localeError+"smartCardRequired"),kl.value(this.localeError+"minDigitsmartCardRequired"),null,this,"id123456","warning"):(r.ErrorReasonCode=e.get("errorCodesModel").errorReasonCode,r.SerialNumber=e.get("errorCodesModel").serialNumber,r.Country=this.getQueryService().getSelectedCountryId(),e.showBusyIndicator(),void Komodo.Services.queryService.getJSON("/Device/ValidateCSIcommand?smartcardDeviceNumber="+e.get("errorCodesModel").serialNumber+"&configurabletime="+KomodoConfiguration.CSICommandValidationInterval).done(function(o){if(1==o.length||2==o.length&&"true"==o[1])Komodo.Services.cachedDataService.fetch("ErrorReasonRelationship",{domain:e.country,qualifier:Komodo.Services.localizationService.getCurrentLanguage()}).done(function(o){var s=JSON.parse(o);processID=e.getNewProcessID(),$.each(s.Errors.Error,function(o,s){if(e.get("errorCodesModel").errorReasonCode==s.CanonicalKey)return r.ErrorReasonCode=s.CanonicalKey,void e.publishServiceCall("ClearDeviceErrorCode",r)})}).fail(function(){Komodo.log("could not retrieve ErrorReasonRelationship")});else{e.hideBusyIndicator();Komodo.Controls.MessageBoxController.show(kl.value(e.localeError+"errorCodeRequired"),kl.value(e.localeError+"retryMessage",{smartcarddevicenumber:r.SerialNumber,CommandDateTime:o[0]}),Komodo.Controls.MessageBoxOkButton,this,"id5446673","")}}).error(function(e){var r=JSON.stringify(e);Komodo.log("Notify get CSI log call failed. Error: "+r)})))},getQueryService:function(){return this.get("_queryService")},publishServiceCall:function(e,r){Komodo.Services.errorCodesService.publishEvent(this,r,e,"v1").done(function(){Komodo.log("Publish "+e+" Event : done"),Komodo.log("Publish ubiquitous test "+e)}).fail(function(r,o){Komodo.log("Publish "+e+" Event : failed. Error: "+r)})},getNewProcessID:function(){this.startNewProcess()},messageDeviceErrorCodeClearedReceived:function(){var e=this;e.hideBusyIndicator();Komodo.Controls.MessageBoxController.show(kl.value(this.localeError+"errorCodeCleared"),kl.value(this.localeError+"successMessage")+" "+e.get("errorCodesModel.errorReasonText")+" "+kl.value(this.localeError+"successfullyErrorCodeCleared")+" "+e.get("errorCodesModel").serialNumber+".",Komodo.Controls.MessageBoxOkButton,this,"id5446673","success")},errorSelected:function(){this.getErrorcode(),this.rolesAccesstoClearErrorcode()}.observes("errorCodesModel.errorReasonCode"),getErrorcode:function(){var e=this;if(e.set("errorCodesModel.errorReasonText",void 0),void 0==e.errorCodesModel.errorReasonCode&&e.errorCodes.length>0)e.set("errorCodesModel.errorReasonText",e.errorCodes[0].CanonicalValue);else for(var r=0;r<e.errorCodes.length;r++)e.errorCodesModel.errorReasonCode==e.errorCodes[r].CanonicalKey&&e.set("errorCodesModel.errorReasonText",e.errorCodes[r].CanonicalValue)},getDefaultErrorcode:function(){var e=this;e.errorCodes.length>0&&(e.set("errorCodesModel.errorReasonText",e.errorCodes[0].CanonicalValue),e.set("errorCodesModel.errorReasonCode",e.errorCodes[0].CanonicalKey))},smartCardSelected:function(){for(var e=this,r=e.get("errorCodesModel").serialNumber,o=0;o<r.length;o++){var s=r.charAt(o),t=s.charCodeAt(0);t>47&&t<58||t>64&&t<91||t>96&&t<123||e.set("errorCodesModel.serialNumber",r.slice(0,-1)),e.get("errorCodesModel").serialNumber.length>10&&e.set("errorCodesModel.serialNumber",r.slice(0,-1))}}.observes("errorCodesModel.serialNumber"),messageFailureMessageEventReceived:function(e){"CreateInteraction"!=e.ResponseMessage.Payload.OriginatedEventName&&Komodo.Controls.MessageBoxController.show(kl.value(this.localeError+"failureMessageTitle"),e.ResponseMessage.Payload.ListOfErrorDetails.ErrorDescription,Komodo.Controls.MessageBoxOkButton,this,"id5446674","danger"),this.hideBusyIndicator()},messageClearDeviceErrorCodeDeliveryFailure:function(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeError+"deliveryFailureTitle"),kl.value(this.localeError+"deliveryFailureMessage"),Komodo.Controls.MessageBoxOkButton,this,"id5446674","danger")},messageClearDeviceErrorCodeFault:function(e){Komodo.Controls.MessageBoxController.show(kl.value(this.localeError+"errorCodeFault"),kl.value(this.localeError+"errorCodeFaultMessage"),Komodo.Controls.MessageBoxOkButton,this,"id5446674","danger")},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,25e3,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},rolesAccesstoClearErrorcode:function(){for(var e=Komodo.Services.securityService.roles,r=0;r<e.length;r++)if(e[r].toString().indexOf("Clarity-ViewOnly")>0){document.getElementById("clearErrorCode").style.display="none";break}},stop:function(){this._super()}});
Komodo.Application.SearchProcessResponseController=Ember.Controller.extend(Komodo.Dependency,{_totalPages:0,_displayData:void 0,_totalHits:void 0,init:function(){this._super(),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService}),this.requiresDependency("_searchProcessResponseService",{singleton:Komodo.UI.searchProcessResponseService}),this.requiresDependency("_communicationService",{singleton:Komodo.Services.communicationService}),this.set("_size",this.getKomodoConfiguration().searchProcessResponse.defaultPageSize),this.set("_displayData",Ember.A())},getEventAggregator:function(){return this.get("_eventAggregator")},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getLocalizationService:function(){return this.get("_localizationService")},getUIService:function(){return this.get("_uiService")},getBusyService:function(){return this.get("_busyService")},getSearchProcessResponseService:function(){return this.get("_searchProcessResponseService")},getCommunicationService:function(){return this.get("_communicationService")},_wire:function(){var e=this;this.getEventAggregator().subscribe(Komodo.EventNames.searchRequested,function(o){"processresponse"==o.searchType.toLowerCase()&&e._performSearch(o.searchTerm,0).done(function(){e._displayResults.call(e)})})},_hasData:function(){return this.get("_totalHits")>0}.property("_totalHits"),_performSearch:function(e,o){var t,s=this,r=$.Deferred();return void 0==e||e.length<3?(t=this.getLocalizationService().value("locale.komodo:searchProcessResponse.invalidTerm"),Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.komodo:searchProcessResponse.title"),t,Komodo.Controls.MessageBoxOkButton,this,"invalid-search-term","warning"),r.reject(t),r):(this.set("_term",e),this.set("_page",o<0?0:o),this.getCommunicationService().getResource("processresponses?term="+e+"&from="+o*this.get("_size")+"&size="+this.get("_size")).done(function(e){var o,t=s.get("_displayData");s.getBusyService().stop(s.get("processId"),"blocking"),t.clear(),o=JSON.parse(e),o.hits.hits&&o.hits.hits.forEach(function(e){t.pushObject({hit:e,controller:Komodo.Application.SearchProcessResponseItemController.create({content:e._source.ResponseMessage,_searchProcessResponseService:s.getSearchProcessResponseService()})})}),s.set("_totalHits",o.hits.total),Komodo.Application.info("[SearchProcessResponseController._performSearch] : hits = "+o.hits.total),r.resolve()}).fail(function(e,o,t){s.getBusyService().stop(s.get("processId"),"blocking"),Komodo.Services.warn("[SearchProcessResponseController._performSearch - failed] : textStatus = '"+o+"' / errorThrown = '"+t+"'"),401==e.status&&s.getEventAggregator().publish(Komodo.EventNames.sessionExpired),r.reject(e,o,t)}),r)},_displayResults:function(){this.getUIService().showModalPopup(this.getLocalizationService().value("locale.komodo:searchProcessResponse.title"),void 0,{view:Komodo.Application.SearchProcessResponseView,context:this,canUserClose:!0})},actions:{nextPage:function(){var e=this;this._performSearch(this.get("_term"),this.get("_page")+1).done(function(){e.getEventAggregator().publish(Komodo.EventNames.searchProcessResponseDisplayChanged)})},previousPage:function(){var e=this;this._performSearch(this.get("_term"),this.get("_page")-1).done(function(){e.getEventAggregator().publish(Komodo.EventNames.searchProcessResponseDisplayChanged)})},pageSelected:function(e){var o=this;this._performSearch(this.get("_term"),e.pageNumber-1).done(function(){o.getEventAggregator().publish(Komodo.EventNames.searchProcessResponseDisplayChanged)})}}}),Komodo.Application.registerReadyCallback(function(){Komodo.Services.uiService.getController("searchProcessResponse")._wire()});
Komodo.Application.LoginRoute=Komodo.UI.Route.extend({init:function(){this._super(),this.set("useCaseName","login"),this.requiresDependency("_offlineService",{singleton:Komodo.Services.offlineService})},getOfflineService:function(){return this.get("_offlineService")},renderTemplate:function(e,o){var i,n=this,t=function(){Komodo.Services.eventAggregator.unsubscribe(Komodo.EventNames.userLoggedIn,s)},s=function(){i.close(),t()};n.get("_isModalOpen")||(i=Komodo.Services.uiService.showModalPopup("CLARITY","login",{closeCallback:function(){n.set("_isModalOpen",!1),Komodo.Services.securityService.get("isAuthenticated")||n.transitionTo("login"),t()},canUserClose:n.getOfflineService().workingOffline(),context:e}),n.set("_isModalOpen",!0),Komodo.Services.eventAggregator.subscribe(Komodo.EventNames.userLoggedIn,s))}});
Komodo.Application.IndexRoute=Ember.Route.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService})},getSecurityService:function(){return this.get("_securityService")},redirect:function(){this.getSecurityService().get("isAuthenticated")?this.transitionTo("home"):this.transitionTo("login")}}),Komodo.Application.UnknownRoute=Komodo.Application.IndexRoute.extend({}),Komodo.Application.ApplicationRoute=Ember.Route.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_uiService",{singleton:Komodo.Services.uiService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this.renderErrorCodes)},getUIService:function(){return this.get("_uiService")},getEventAggregator:function(){return this.get("_eventAggregator")},renderTemplate:function(e,t){this._super(e,t),this.renderNavigation(),this.renderErrorCodes(),$(".loader").fadeOut("slow")},renderNavigation:function(){this.render("navigation",{into:"application",outlet:"quicklinks"})},renderErrorCodes:function(){this.getUIService().getView("ErrorCodes")&&this.render("ErrorCodes",{into:"application",outlet:"clearErrors"})},showViewInOutlet:function(e,t,o){this.getUIService().getView(e)&&this.render(e,{into:"application",outlet:t,controller:o})},hideViewInOutlet:function(e,t){this.disconnectOutlet({outlet:t,view:e,parentView:"application"})},actions:{showCustomerDetails:function(){var e=$("#customer-details-banner");$("#shift-banner").hide("slow"),e.show("slow")},showShiftDetails:function(){var e=$("#customer-details-banner");$("#shift-banner").show("slow"),e.hide("slow")},showRecentCustomers:function(){var e=this.getUIService().getRoute("recentCustomers");if(!e)return void Komodo.error("The application doesn't contain a recentCustomers route");this.render("recentCustomers",{into:"application",outlet:"recentCustomers"}),Ember.run.next(this,function(){e.show()})},showFailedMessages:function(){if(Komodo.DEBUG){var e=this.getUIService().getController("debug");if(!e)return void Komodo.error("The application is running DEBUG mode but no Komodo.Application.DebugController is defined.");this.render("failedMessages",{into:"application",outlet:"debug",controller:"debug"}),Ember.run.next(this,function(){e.showFailedMessages()})}}},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.routeAccessChanged,this,this.renderNavigation),this._super()}});
Komodo.Services.ModuleService=Ember.Object.extend(Komodo.Dependency,{init:function(){this._super(),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_securityService",{singleton:Komodo.Services.securityService}),this.requiresDependency("_systemService",{singleton:Komodo.Services.systemService}),this.requiresDependency("_moduleRepository",{singleton:Komodo.Repositories.moduleRepository}),this.requiresDependency("_komodoConfiguration",{singleton:KomodoConfiguration}),this.requiresDependency("_offlineService",{singleton:Komodo.Services.offlineService}),this.requiresDependency("_communicationService",{singleton:Komodo.Services.communicationService}),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this.applyUserModules)},getEventAggregator:function(){return this.get("_eventAggregator")},getSystemService:function(){return this.get("_systemService")},getSecurityService:function(){return this.get("_securityService")},getModuleRepository:function(){return this.get("_moduleRepository")},getKomodoConfiguration:function(){return this.get("_komodoConfiguration")},getOfflineService:function(){return this.get("_offlineService")},getCommunicationService:function(){return this.get("_communicationService")},applyUserModules:function(){var e=this,o=$.Deferred(),t=0,i=0,r=function(){(i+=1)==t&&(Komodo.Services.log("[ModuleService.applyUserModules - complete]"),o.resolve())};return e.getModuleRepository().fetchAll().done(function(i){e.getModuleRepository().clear().done(function(){e.getCommunicationService().getResource("modules/"+e.getSecurityService().get("sessionToken")).done(function(n){if(void 0==n)return void o.reject("[ModuleService.applyUserModules] : No modules have been found.");t=n.length,n.forEach(function(o){e.getModuleRepository().save(o.name,{name:o.name,path:o.path,version:o.version,offline:o.offline||!1}).done(function(){Komodo.Services.log("ModuleService.applyUserModules: added: name ='"+o.name+"' / path = '"+o.path+"' / version = '"+o.version+"'"),r()}).fail(function(e){Komodo.Services.error("ModuleService.applyUserModules: failed: name ='"+o.name+"' / path = '"+o.path+"' / version = '"+o.version+"' / error = '"+e+"'"),r()})}),e._restartRequired(i,n)&&e.getEventAggregator().publish(Komodo.EventNames.restartApplication,kl.value("modules.restartMessage"))}).fail(function(e,t,i){o.reject(i)})}).fail(function(e){o.reject(e)})}).fail(function(e){o.reject(e)}),o},_restartRequired:function(e,o){var t,i;return e.length!=o.length||(t=!1,e.forEach(function(e){t||(i=!1,o.forEach(function(o){if(o.name==e.data.name&&(i=!0,o.path!=e.data.path||o.version!=e.data.version))return void(t=!0)}),i||(t=!0))}),t)},cachedScript:function(e,o){var t=$.Deferred();try{o=$.extend(o||{},{dataType:"script",cache:!Komodo.DEBUG,url:e}),jQuery.ajax(o).done(function(){t.resolve()}).fail(function(e,o,i){t.reject(i)})}catch(e){t.reject(e)}return t},loadModules:function(){Komodo.Services.log("[ModuleService.loadModules]");var e=$.Deferred(),o=0,t=0,i=this,r=function(){(t+=1)==o&&(Komodo.Services.log("[ModuleService.loadModules - complete]"),e.resolve())};return this.getModuleRepository().fetchAll().done(function(t){0===t.length&&e.resolve(),o=t.length,t.forEach(function(e){try{var o,t;!i.getOfflineService().workingOffline()||i.getOfflineService().workingOffline()&&e.data.offline&&i.getSystemService().isHostedLocally()?(o=e.data.path,t=i.getSystemService().getRootPathForApplication()+(0==o.indexOf("/")?o.substr(1):o)+"?version="+KomodoConfiguration.version+(Komodo.DEBUG?"&DEBUG"+(new Date).valueOf():""),i.cachedScript(t).done(function(){Komodo.Services.log("[ModuleService.loadModules - loaded] : name ='"+e.data.name+"' / path = '"+e.data.path+"' / version = '"+e.data.version+"'"),r()}).fail(function(o){Komodo.Services.error("[ModuleService.loadModules - failed] : name ='"+e.data.name+"' / path = '"+e.data.path+"' / version = '"+e.data.version+"' / error = '"+o+"'"),r()})):r()}catch(o){Komodo.Services.error("[ModuleService.loadModules - failed] : name ='"+e.data.name+"' / path = '"+e.data.path+"' / version = '"+e.data.version+"' / exception = '"+o+"'"),r()}})}).fail(function(o){e.reject(o)}),e},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedIn,this,this.applyUserModules),this._super()}}),Komodo.Services.moduleService=Komodo.Services.ModuleService.create();
Komodo.Controls.SupervisorAuthentication=Ember.View.extend(Komodo.Controls.Control,Komodo.UI.Validation,Komodo.Dependency,{templateName:"SupervisorAuthentication",model:Komodo.Models.SupervisorAuthenticationModel.create(),isAuthenticated:!1,disableOverrideAHV:!0,tabIndex:0,init:function(){this._super(),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_featureToggleService",{singleton:Komodo.Services.featureToggleService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this._initializeData(),this._registerValidation()},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this.clearAllData(),this._super()},_initializeData:function(){this.clearAllData()},_registerValidation:function(){var e=this;e.registerValidator(e.get("model"),"supervisorUsername",{type:"string",isRequired:!0,groups:["supervisorAuthentication"]}),e.registerValidator(e.get("model"),"passCode",{type:"string",isRequired:!0,groups:["supervisorAuthentication"]})},clearAllData:function(){var e=this;e._context.set("paymentDetails.disableAddDeleteDocuments",!1),e._context.set("paymentDetails.nonAHVCompliant",!1),e._context.set("paymentDetails.AHVError",""),e._context.set("paymentDetails.ahvCompliant",!1),e._context.set("paymentDetails.ahvOverride",!1),e._context.set("paymentDetails.disabeAHVRealtime",!1),e.set("model.supervisorUsername",""),e.set("model.passCode",""),e.set("model.acceptDocumentation",!1),e.set("isAuthenticated",!1),e.set("disableOverrideAHV",!0)},getCachedDataService:function(){return this.get("_cachedDataService")},getFeatureToggleService:function(){return this.get("_featureToggleService")},getQueryService:function(){return this.get("_queryService")},getEventAggregator:function(){return this.get("_eventAggregator")},allowSupervisorAuthenticationChanged:function(){var e=this;e.set("model.supervisorUsername",""),e.set("model.passCode",""),e.set("model.acceptDocumentation",!1),e.set("isAuthenticated",!1),e.set("disableOverrideAHV",!0)}.observes("_context.paymentDetails.allowSupervisorAuthentication"),acceptDocumentationChanged:function(){var e=this,t=e._context,o="";if(e.get("model.acceptDocumentation")){if(!Ember.isEmpty(t.get("customerDataModel.customerDocuments"))&&$.grep(t.get("customerDataModel.customerDocuments"),function(e){return Ember.isEmpty(e.documentType)}).length>0)o=!1===t.get("paymentDetails.payerIsCustomer")?kl.value("locale.customer:customerInformation.documentTypeBlankForPayerIsNotCustomer"):kl.value("locale.customer:customerInformation.documentTypeBlank");else if(t.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&t.get("paymentDetails.allowDocumentUploads")&&!Ember.isEmpty(t.fileUploader)&&0===t.fileUploader.files.length)o=!1===t.get("paymentDetails.payerIsCustomer")?kl.value("locale.customer:customerInformation.documentTypeBlankForPayerIsNotCustomer"):kl.value("locale.customer:customerInformation.documentTypeBlank");else if(!Ember.isEmpty(t.get("customerDataModel.customerDocuments"))&&t.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER&&t.get("paymentDetails.allowDocumentUploads")){var a="";$.grep(t.get("customerDataModel.customerDocuments"),function(e){return e.documentType===kl.value("locale.customer:customerInformation.copyofID")}).length>=1||(a+=","+kl.value("locale.customer:customerInformation.copyofID")),$.grep(t.get("customerDataModel.customerDocuments"),function(e){return e.documentType===kl.value("locale.customer:customerInformation.bankStatement")}).length>=1||(a+=","+kl.value("locale.customer:customerInformation.bankStatement")),!1===t.get("paymentDetails.payerIsCustomer")&&($.grep(t.get("customerDataModel.customerDocuments"),function(e){return e.documentType===kl.value("locale.customer:customerInformation.thirdPartyDeductionAuthorisationForm")}).length>=1||(a+=","+kl.value("locale.customer:customerInformation.thirdPartyDeductionAuthorisationForm"))),""!==a&&(o=kl.value("locale.customer:customerInformation.documentsAttachedMessage",{documentTypes:a.replace(/(^[,\s]+)|([,\s]+$)/g,"")}))}else $(t.get("customerDataModel.documentTypes")).each(function(e,o){$.grep(t.get("cukstomerDataModel.customerDocuments"),function(e){return e.documentType===o.value}).length>1&&(duplicateDocument=!0)}),duplicateDocument&&(o=kl.value("locale.customer:customerInformation.documentAlreadyAdded"));""!==o?(e.set("model.acceptDocumentation",!1),Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customer.useCaseTitle"),o,Komodo.Controls.MessageBoxOkButtons,t,"id5446673","danger")):(t.set("paymentDetails.disableAddDeleteDocuments",!0),e.set("disableOverrideAHV",!1))}}.observes("model.acceptDocumentation"),actions:{authenticate:function(){var e=this,t=e._context;if(e.canSubmitData(e.get("model"),kl.value("locale.customer:customer.useCaseTitle"),{group:"supervisorAuthentication",showInModal:!0})){var o=t.get("controllers.genericPayment"),a=Komodo.Services.securityService.get("domainUserName"),s=Komodo.Services.queryService.getSelectedCountryId();a!==e.get("model.supervisorUsername")?o.validateUserClaim(s,e.get("model.supervisorUsername"),e.get("model.passCode"),t.get("supervisorClaim")).done(function(t){Ember.isEmpty(t)?(e.clearAllData(),alert(kl.value("locale.onlinetill:customer.accessDenied"))):(e.set("isAuthenticated",!0),e._context.set("customerDataModel.supervisorUsername",e.get("model.supervisorUsername")))}):(e.clearAllData(),alert(kl.value("locale.onlinetill:customer.unauthoriseError")))}},clear:function(){var e=this;e.set("model.supervisorUsername",""),e.set("model.passCode",""),e.set("model.acceptDocumentation",!1),e.set("isAuthenticated",!1)},overrideAHV:function(){var e=this;e._context.set("paymentDetails.nonAHVCompliant",!1),e._context.set("paymentDetails.AHVError",""),e._context.set("paymentDetails.ahvCompliant",!1),e._context.set("paymentDetails.ahvOverride",!0),e._context.set("rejectAHV",!1),e._context.set("paymentDetails.allowSupervisorAuthentication",!1),e.set("model.supervisorUsername",""),e.set("model.passCode",""),e.set("model.acceptDocumentation",!1),e.set("isAuthenticated",!1),e.set("disableOverrideAHV",!0)},rejectAHV:function(){var e=this;e._context.set("paymentDetails.rejectAHV",!0),e.clearAllData(),e._context.get("customerDataModel.customerDocuments").clear(),e._context.get("fileUploader.files").clear()}}});
Komodo.Controls.Contact=Ember.View.extend(Komodo.Controls.Control,Komodo.UI.Validation,Komodo.Dependency,{templateName:"Contact",maximum_contact_per_type:4,tabIndex:0,phoneNumber:[],emailAddress:[],showContactControls:!1,isEmailRequired:!1,methodOfCommunication:!1,_mobileCount:0,_homephoneCount:0,_workPhoneCount:0,_dialingCode:void 0,_mobileCode:[],init:function(){this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_featureToggleService",{singleton:Komodo.Services.featureToggleService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_customerService",{singleton:Komodo.Services.CustomerService}),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this._initializeData(),this._super()},getValueFromConstant:function(e,t){return this.getCustomerService().getValueFromConstant(e,t)},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this._clearAll(),this._super()},getCachedDataService:function(){return this.get("_cachedDataService")},getCustomerService:function(){return this.get("_customerService")},getFeatureToggleService:function(){return this.get("_featureToggleService")},getQueryService:function(){return this.get("_queryService")},getEventAggregator:function(){return this.get("_eventAggregator")},getCacheRepository:function(){return this.get("_cacheRepository")},getLocalizationService:function(){return this.get("_localizationService")},_initializeData:function(){var e=this;e.set("contactDetailType",[]),e.set("faxAllowed",!1),e.getCacheRepository().fetch(Komodo.CacheKeys.selectedCountry).done(function(t){e.getCachedDataService().fetch("CountryDetail").done(function(o){parsed=JSON.parse(o),e.get("_mobileCode").clear(),$.each(parsed.Countries.Country,function(t,o){e.get("_mobileCode").addObject(o)}),e._dialingCode=$.grep(e.get("_mobileCode"),function(e){return e.CanonicalValue.indexOf(t.data.countryDescription)>=0})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for CountryDetail")})}),e.set("faxAllowed",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.FAXALLOWED")),e.getCachedDataService().fetch("ContactDetailType").done(function(t){$.each(t,function(t,o){"4"!==o.key?e.contactDetailType.addObject(o):"4"===o.key&&e.get("faxAllowed")&&e.contactDetailType.addObject(o)})}).fail(function(){Komodo.log("[ERROR] : could not retrieve ContactDetailType from CDM")}),e.get("phoneNumber").length<1&&e._addPhoneNumber(),e.get("emailAddress").length<1&&e._addEmail(),e._updateTabIndexes()},actions:{addPhoneNumber:function(){this._addPhoneNumber()},removePhoneNumber:function(e){var t=this;t.set("phoneNumber",$.grep(t.get("phoneNumber"),function(t){return t.Id!==e.content.Id})),0===$.grep(t.get("phoneNumber"),function(e){return!0===e.isPrimary}).length&&t.get("phoneNumber")[0].set("isPrimary",!0)},addEmail:function(){this._addEmail()},removeEmail:function(e){var t=this;t.set("emailAddress",$.grep(t.get("emailAddress"),function(t){return t.Id!==e.content.Id}));var o=!1;t.get("emailAddress").length>1?(t.get("emailAddress").forEach(function(e){e.set("isRemovable",!0),!0===e.isPrimary&&(o=!0)}),!1===o&&t.get("emailAddress")[0].set("isPrimary",!0)):void 0!==t.get("emailAddress")[0]&&(t.get("emailAddress")[0].set("isRemovable",!1),t.get("emailAddress")[0].set("isPrimary",!0))}},_addPhoneNumber:function(){var e=this,t=!0;if($.each(e.get("phoneNumber"),function(o,a){if(Ember.isEmpty(a.contactValue)||Ember.isEmpty(a.countryCode)||Ember.isEmpty(a.type)||a.validator.errors.length>0)return Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.Contact:contact"),e.getLocalizationService().value("locale.Contact:phoneMissing"),[Komodo.Controls.MessageBoxOkButton],void 0,"OK","warning"),void(t=!1)}),t&&!e._checkContactCount()){var o=e._getNewPhoneNumber();if(e.get("_mobileCount")<e.get("maximum_contact_per_type"))o.set("type","1");else if(e.get("_workPhoneCount")<e.get("maximum_contact_per_type"))o.set("type","2");else{if(!(e.get("_homephoneCount")<e.get("maximum_contact_per_type")))return void Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.Contact:contact"),e.getLocalizationService().value("locale.Contact:maximumContacts"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning");o.set("type","3")}e.get("phoneNumber").length<1?o.set("Id",e.get("phoneNumber").length+1):o.set("Id",e.get("phoneNumber")[e.get("phoneNumber").length-1].Id+1);$.grep(e.get("phoneNumber"),function(e){return!0===e.isPrimary}).length<1?o.set("isPrimary",!0):o.set("isPrimary",!1),void 0!==e.get("_dialingCode")&&(o.set("countryCode",e.get("_dialingCode")[0].DialingCode),e.get("phoneNumber").length<1?e.get("phoneNumber").addObject(o):e._validatePhoneDetails(o)&&e.get("phoneNumber").addObject(o))}},_checkContactCount:function(){var e=this;return!!e._showMessage(e.get("_mobileCount"),"Mobile")||(!!e._showMessage(e.get("_homephoneCount"),"Home")||!!e._showMessage(e.get("_workPhoneCount"),"Work"))},_showMessage:function(e,t){var o=this;return e>o.get("maximum_contact_per_type")&&(Komodo.Controls.MessageBoxController.show(o.getLocalizationService().value("locale.Contact:contact"),o.getLocalizationService().value("locale.Contact:maximum"+t),Komodo.Controls.MessageBoxOkButtons,o,"id5446673","warning"),!0)},_getNewPhoneNumber:function(){var e=this,t=Komodo.Models.ContactPhoneNumber.create(),o="phoneNumberValidator"+(e.get("phoneNumber").length+1),a="countryCodeValidator"+(e.get("phoneNumber").length+1);return e.registerValidator(t,"countryCode",{type:"number",isRequired:!0,displayName:e.getLocalizationService().value("locale.Contact:countryCode"),minLength:2,maxLength:4,functions:Komodo.UI.Validators.numericValidator,name:a}),e.registerValidator(t,"contactValue",{type:"number",isRequired:!0,displayName:e.getLocalizationService().value("locale.Contact:phoneNumber"),minLength:7,maxLength:10,functions:Komodo.UI.Validators.numericValidator,name:o}),t.set("validator",e.validators[o]),t.set("countryCodeValidator",e.validators[a]),t.set("contactDetailType",e.contactDetailType),t},_addEmail:function(){var e=this,t=!0,o=e._getNewEmail();if(4===e.get("emailAddress").length)return void Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.Contact:contact"),e.getLocalizationService().value("locale.Contact:maximumEmail"),Komodo.Controls.MessageBoxOkButtons,e,"id5446673","warning");if($.each(e.get("emailAddress"),function(o,a){if(Ember.isEmpty(a.contactValue)||a.validator.errors.length>0)return Komodo.Controls.MessageBoxController.show(e.getLocalizationService().value("locale.Contact:contact"),e.getLocalizationService().value("locale.Contact:emailMissing"),[Komodo.Controls.MessageBoxOkButton],void 0,"OK","warning"),void(t=!1)}),t){e.get("emailAddress").length<1?o.set("Id",e.get("emailAddress").length+1):o.set("Id",e.get("emailAddress")[e.get("emailAddress").length-1].Id+1);$.grep(e.get("emailAddress"),function(e){return!0===e.isPrimary}).length<1?o.set("isPrimary",!0):o.set("isPrimary",!1),e.get("emailAddress").length<1?e.get("emailAddress").addObject(o):e._validateEmailDetails(o)&&e.get("emailAddress").addObject(o)}},_getNewEmail:function(){var e=this,t=Komodo.Models.ContactEmailAddress.create(),o="emailValidator"+(e.get("emailAddress").length+1);return e.get("isEmailRequired")?e.registerValidator(t,"contactValue",{type:"string",isRequired:!0,displayName:e.getLocalizationService().value("locale.Contact:email"),minLength:6,maxLength:254,regExPattern:Komodo.UI.Validators.RegExPatterns.Email,name:o}):e.registerValidator(t,"contactValue",{type:"string",isRequired:!1,displayName:e.getLocalizationService().value("locale.Contact:email"),minLength:6,maxLength:254,regExPattern:Komodo.UI.Validators.RegExPatterns.Email,name:o}),t.set("validator",e.validators[o]),t},_validatePhoneDetails:function(e){return!(Ember.isEmpty(e)||Ember.isEmpty(e.Id)||Ember.isEmpty(e.type)||Ember.isEmpty(e.countryCode)||Ember.isEmpty(e.isPrimary))},_validateEmailDetails:function(e){return!(Ember.isEmpty(e)||Ember.isEmpty(e.Id)||Ember.isEmpty(e.isPrimary))},_clearAll:function(){var e=this;e.set("phoneNumber",[]),e.set("emailAddress",[]),e.set("_mobileCount",0),e.set("_homephoneCount",0),e.set("_workPhoneCount",0),e.set("_dialingCode",void 0),e.set("_mobileCode",[])},phoneNumberChanged:function(){var e=this;e.get("phoneNumber").length>1?e.get("phoneNumber").forEach(function(e){e.set("isRemovable",!0)}):e.get("phoneNumber").forEach(function(e){e.set("isRemovable",!1)})}.observes("phoneNumber.length"),emailAddressChanged:function(){var e=this;e.get("emailAddress").length>1?e.get("emailAddress").forEach(function(e){e.set("isRemovable",!0)}):e.get("emailAddress").forEach(function(e){e.set("isRemovable",!1)})}.observes("emailAddress.length"),_countContactType:function(){var e=this;e.set("_mobileCount",0),e.set("_homephoneCount",0),e.set("_workPhoneCount",0),e.get("phoneNumber").forEach(function(t){switch(t.type){case"1":e.set("_mobileCount",1*e.get("_mobileCount")+1);break;case"2":e.set("_workPhoneCount",1*e.get("_workPhoneCount")+1);break;case"3":e.set("_homephoneCount",1*e.get("_homephoneCount")+1)}}),e._checkContactCount()}.observes("phoneNumber.length","phoneNumber.@each.type"),_mobileNumberObserverForValidation:function(){for(var e=this,t=0;t<e.get("phoneNumber").length;t++){var o=e.get("phoneNumber")[t].contactValue;void 0!=e.get("phoneNumber")[t].contactValue&&0==o.charAt(0)&&(o=o.replace(/^0+/,""),e.get("phoneNumber")[t].set("contactValue",o))}}.observes("phoneNumber.@each.contactValue"),_countryCodeObserverForValidation:function(){for(var e=this,t=0;t<e.get("phoneNumber").length;t++)e.registerValidator(e.get("phoneNumber")[t],"contactValue",{type:"number",isRequired:!0,displayName:e.getLocalizationService().value("locale.Contact:phoneNumber"),minLength:7,maxLength:e.get("phoneNumber")[t].countryCode===Komodo.CountryCode.LesothoCountryCode?11:10,functions:Komodo.UI.Validators.numericValidator,name:"phoneNumberValidator"+(e.get("phoneNumber").length+1)}),e.get("phoneNumber")[t].set("validator",e.validators["phoneNumberValidator"+(e.get("phoneNumber").length+1)])}.observes("phoneNumber.@each.countryCode"),_updateTabIndexes:function(){var e=this,t=e.get("tabIndex"),o=0;$.each(e.get("phoneNumber"),function(a,i){i.set("tabindexType",t+8*o),i.set("tabindexCountryCode",t+(8*o+1)),i.set("tabindexPhoneNumber",t+(8*o+2)),i.set("tabindexPhoneIsPrimary",t+(8*o+3)),i.set("tabindexRemovePhoneLink",t+(8*o+4));var n=e.get("emailAddress")[o];void 0!==n&&(n.set("tabindexEmail",e.get("tabIndex")+(8*o+5)),n.set("tabindexEmailIsPrimary",e.get("tabIndex")+(8*o+6)),n.set("tabindexRemoveEmailLink",e.get("tabIndex")+(8*o+7))),o++})}.observes("phoneNumber.length","emailAddress.length"),_methodOfCommunicationEmail:function(){var e=this;if(!e.get("isEmailRequired")){var t=e.get("emailAddress")[0],o="emailValidator"+e.get("emailAddress").length;e.get("methodOfCommunication")?e.registerValidator(t,"contactValue",{type:"string",isRequired:!0,displayName:e.getLocalizationService().value("locale.Contact:email"),minLength:6,maxLength:254,regExPattern:Komodo.UI.Validators.RegExPatterns.Email,name:o}):e.registerValidator(t,"contactValue",{type:"string",isRequired:!1,displayName:e.getLocalizationService().value("locale.Contact:email"),minLength:6,maxLength:254,regExPattern:Komodo.UI.Validators.RegExPatterns.Email,name:o}),t.set("validator",e.validators[o])}}.observes("methodOfCommunication"),_showContactControlChanged:function(){alert("hello")}.observes("showContactControls"),_emailRequired:function(){var e=this;e.get("emailAddress").clear(),$.each(e.validators,function(t,o){0==t.indexOf("emailValidator")&&e.deregisterValidator(t)}),e._addEmail()}.observes("isEmailRequired")});
Komodo.Controls.Address=Ember.View.extend(Komodo.Controls.Control,Komodo.UI.Validation,Komodo.Dependency,{templateName:"Address",tabIndex:0,addressList:[],address:Komodo.Models.AddressModel.create(),numberOfPhysicalAddress:1,numberOfPostalAddress:1,numberOfDeliveryAddress:1,floor:!1,multipleAddress:!0,showControls:!1,showDelivery:!1,showAddressControls:!1,_addressTypes:void 0,_countries:void 0,_provinces:void 0,_cities:void 0,_suburbs:void 0,_addressString:void 0,_enableAddressOverride:!1,_showSameAsPhysical:!1,_showSameAsDelivery:!1,_postalSameAsPhysical:!1,_isEditAddress:!1,_timer:0,_placeHolder:void 0,_boxType:void 0,_showOverrideCheckbox:void 0,_disableOverrideAddress:!0,_disableAddressString:!1,isEditingAddress:!1,_boxTypes:[],suitePlaceHolder:void 0,bagPlaceHolder:void 0,_isShowSuitePrivateBag:!0,_suitePrivateBag:void 0,init:function(){this._super(),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_featureToggleService",{singleton:Komodo.Services.featureToggleService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this._initializeData(),this._registerValidation()},destroy:function(){var e=this;e.getEventAggregator().unsubscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),e.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),e._clearAddress(),e.set("_enableAddressOverride",!1),e.set("_disableOverrideAddress",!0),Object.keys(e.get("address")).forEach(function(s){e.deregisterValidator(s+"Validator")}),e.set("address",Komodo.Models.AddressModel.create()),e.set("addressList",[]),e.set("_boxTypes",[]),e._super()},didInsertElement:function(){var e=this;e.get("addressList").length>0&&$("#addressPanel").hide(),e.showOverrideCheckboxChanged()},_initializeData:function(){var e,s=this,t=Ember.A(),r=Ember.A();s.set("_boxTypes",[s.getLocalizationService().value("locale.addressControl:poBox"),s.getLocalizationService().value("locale.addressControl:suite"),s.getLocalizationService().value("locale.addressControl:bag")]),s.set("suitePlaceHolder",s.getLocalizationService().value("locale.addressControl:suite")),s.set("bagPlaceHolder",s.getLocalizationService().value("locale.addressControl:bag")),s.set("_addressTypes",t),s.set("_provinces",r),s.getCachedDataService().fetch("AddressType").done(function(e){t.clear(),e.sort(function(e,s){return e.key<s.key?1:e.key>s.key?-1:0}).forEach(function(e){s.get("showDelivery")?t.pushObject({title:e.value,value:e.key}):e.key!==Komodo.CanonicalValues.AddressTypes.Delivery&&t.pushObject({title:e.value,value:e.key})}),s.set("_placeHolder",s.getLocalizationService().value("locale.addressControl:streetFormat")),s.get("showDelivery")?s.set("address.addressType",Komodo.CanonicalValues.AddressTypes.Delivery):s.set("address.addressType",Komodo.CanonicalValues.AddressTypes.Physical)}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for AddressType")}),s.getCachedDataService().fetch("Location").done(function(t){e=JSON.parse(t),s.set("_countries",$.makeArray(e.Countries.Country)),s.getFeatureToggleService().isEnabled("Address","EnableAddressOverRide").done(function(t){s.set("_showOverrideCheckbox",t),s.set("_disableOverrideAddress",t),s.getFeatureToggleService().isEnabled("CustomerGlobal","EnableAddressOverRide").done(function(t){Ember.run(function(){s.set("_enableAddressOverride",t),s.getCacheRepository().fetch(Komodo.CacheKeys.selectedCountry).done(function(r){switch($.each($.makeArray(e.Countries.Country),function(e,t){t.CanonicalKey===r.data.countryId&&void 0!==t.Provinces&&s.set("_provinces",t.Provinces.Province)}),t){case!1:s.set("address.country",r.data.countryId),s.set("_disableOverrideAddress",!0),s.set("address.isAddressOverride",!0)}(!s.get("multipleAddress")||s.get("addressList").length>0)&&s.set("showControls",!0)}).fail(function(){Komodo.error("[ERROR] : could not retrieve logged in country")})})}).fail(function(){Komodo.error("[ERROR] : could not retrieve  FeatureToggle data for EnableAddressOverRide")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve  FeatureToggle data for EnableAddressOverRide")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for Location")}),s.set("_suitePrivateBag",s.getLocalizationService().value("locale.addressControl:suitePrivateBag")),s.getFeatureToggleService().isEnabled("Address","ShowSuitePrivateBag").done(function(e){e&&!s._boxTypes.contains(s.get("_suitePrivateBag"))&&s._boxTypes.pushObject(s.get("_suitePrivateBag"))}).fail(function(){Komodo.error("[ERROR] : could not retrieve  FeatureToggle data for ShowSuitePrivateBag")})},_registerValidation:function(){var e=this,s=e.getLocalizationService().value("locale.addressControl:addressTypeTextPostal"),t=e.getLocalizationService().value("locale.addressControl:addressTypeTextPhysical"),r=e.getLocalizationService().value("locale.addressControl:addressTypeTextDelivery");e.registerValidator(e.get("address"),"country",{type:"string",isRequired:!0,groups:[s,t,r]}),e.registerValidator(e.get("address"),"province",{type:"string",isRequired:!0,groups:[s,t,r]}),e.get("_enableAddressOverride")?(e.registerValidator(e.get("address"),"city",{type:"string",minLength:1,maxLength:40,isRequired:!0,groups:[s,t,r],functions:Komodo.UI.Validators.addressLineItemValidator}),e.registerValidator(e.get("address"),"suburb",{type:"string",minLength:1,maxLength:40,isRequired:!0,groups:[s,t,r],functions:Komodo.UI.Validators.addressLineItemValidator}),e.registerValidator(e.get("address"),"postalCode",{type:"string",minLength:4,maxLength:6,isRequired:!0,groups:[s,t,r],functions:Komodo.UI.Validators.numericValidator})):(e.registerValidator(e.get("address"),"city",{type:"string",isRequired:!0,groups:[s,t,r]}),e.registerValidator(e.get("address"),"suburb",{type:"string",isRequired:!0,groups:[s,t,r]}),e.registerValidator(e.get("address"),"postalCode",{type:"string",minLength:4,maxLength:7,isRequired:!0,groups:[s,t,r],functions:Komodo.UI.Validators.alphanumericValidator})),e.registerValidator(e.get("address"),"unit",{type:"string",minLength:1,maxLength:10,functions:Komodo.UI.Validators.addressLineItemValidator,groups:[t,r]}),e.registerValidator(e.get("address"),"privateBag",{type:"string",minLength:1,maxLength:10,functions:Komodo.UI.Validators.alphanumericValidator,groups:[s],displayName:e.getLocalizationService().value("locale.addressControl:privateBag")}),e.registerValidator(e.get("address"),"suite",{type:"string",minLength:1,maxLength:10,functions:Komodo.UI.Validators.alphanumericValidator,groups:[s],displayName:e.getLocalizationService().value("locale.addressControl:privateBag")}),e.get("address").addressType==Komodo.CanonicalValues.AddressTypes.Delivery?(e.registerValidator(e.get("address"),"streetNumber",{type:"string",minLength:1,maxLength:10,isRequired:!0,functions:Komodo.UI.Validators.addressLineItemValidator,groups:[r]}),e.registerValidator(e.get("address"),"building",{type:"string",minLength:2,maxLength:40,functions:Komodo.UI.Validators.addressLineItemValidator,groups:[r]}),e.registerValidator(e.get("address"),"suburb",{type:"string",minLength:1,isRequired:!0,maxLength:40,groups:[r]})):(e.registerValidator(e.get("address"),"streetNumber",{type:"string",minLength:1,maxLength:10,functions:Komodo.UI.Validators.addressLineItemValidator,groups:[t]}),e.registerValidator(e.get("address"),"building",{type:"string",minLength:2,maxLength:50,functions:Komodo.UI.Validators.addressLineItemValidator,groups:[t]})),e.registerValidator(e.get("address"),"streetName",{type:"string",minLength:2,maxLength:50,functions:Komodo.UI.Validators.addressLineItemValidator,groups:[t,r]})},getCachedDataService:function(){return this.get("_cachedDataService")},getFeatureToggleService:function(){return this.get("_featureToggleService")},getQueryService:function(){return this.get("_queryService")},getEventAggregator:function(){return this.get("_eventAggregator")},getCacheRepository:function(){return this.get("_cacheRepository")},getLocalizationService:function(){return this.get("_localizationService")},_onSuccess:function(e){var s=this,t=[];s.set("cityCollection",[]),s.set("postCodeCollection",[]),s.set("suburbCollection",[]),s.set("addressCollection",[]),$.each(e.StreetSearchResponseList,function(e,r){var d=void 0;-1===$.inArray(r.Ci,s.get("cityCollection"))&&s.get("cityCollection").push(r.Ci),-1===$.inArray(r.Po,s.get("postCodeCollection"))&&s.get("postCodeCollection").push(r.Po),s.get("address.isAddressOverride")?0===$.grep(s.get("suburbCollection"),function(e){return e.label===r.S}).length&&s.get("suburbCollection").pushObject({value:r.Po,label:r.S}):(s.get("_showOverrideCheckbox")?-1===$.inArray(r.S,s.get("suburbCollection"))&&s.get("suburbCollection").push(r.S):0===$.grep(s.get("suburbCollection"),function(e){return e.label===r.S}).length&&s.get("suburbCollection").pushObject({value:r.Po,label:r.S}),r.Sn&&s.get("_isPhysicalAddress")?d=r.Sn:r.Po&&(d=r.Po),r.S?d=d+" "+r.S:r.S&&(d=r.S),r.Ci&&(d=d+" "+r.Ci),r.P&&(d=d+" "+r.P),r.C&&(d=d+" "+r.C),!s.get("_isPhysicalAddress")||-1!==$.inArray(d,t)||Ember.isEmpty(r.Sn)||Ember.isEmpty(r.S)||Ember.isEmpty(r.Ci)||Ember.isEmpty(r.P)||Ember.isEmpty(r.Po)||Ember.isEmpty(r.C)?s.get("_isPhysicalAddress")||-1!==$.inArray(d,t)||Ember.isEmpty(r.S)||Ember.isEmpty(r.Ci)||Ember.isEmpty(r.P)||Ember.isEmpty(r.Po)||Ember.isEmpty(r.C)||(t.push(d),s.get("addressCollection").pushObject({addressItem:r,label:d,value:e.addressString})):(t.push(d),s.get("addressCollection").pushObject({addressItem:r,label:d,value:e.addressString})))}),$("#city-1").typeahead({}),$("#streetName-1").typeahead({}),$("#postalCode-1").typeahead({}),$("#suburb-1").typeahead({displayField:"label",scrollBar:!0,onSelect:function(e){var t=$.grep(s.get("suburbCollection"),function(s){if(s.label===e.text)return s});t.length>0&&s.get("address").set("postalCode",t[0].value)}}),$("#addressString-1").typeahead({displayField:"label",scrollBar:!0,minLength:4,onSelect:function(e){var t,r,d=$.grep(s.get("addressCollection"),function(s){if(s.label===e.text)return s});if(d.length>0)switch(void 0!==d[0].addressItem.C&&(t=$.grep(s.get("_countries"),function(e){if(d[0].addressItem.C.toUpperCase()===e.CanonicalValue.toUpperCase())return e}),s.set("address.country",t[0].CanonicalKey),s.set("_provinces",t[0].Provinces.Province)),void 0!==d[0].addressItem.P&&(r=$.grep(s.get("_provinces"),function(e){if(d[0].addressItem.P.toUpperCase()===e.CanonicalValue.toUpperCase())return e}),s.set("address.province",r[0].CanonicalKey)),s.set("address.city",d[0].addressItem.Ci),s.set("address.suburb",d[0].addressItem.S),s.set("address.postalCode",d[0].addressItem.Po),s.get("_isPhysicalAddress")){case!0:s.set("address.streetName",d[0].addressItem.Sn)}}}),$("#addressString-1").data("typeahead").source=s.get("addressCollection"),$("#city-1").data("typeahead").source=s.get("cityCollection"),$("#postalCode-1").data("typeahead").source=s.get("postCodeCollection"),$("#suburb-1").data("typeahead").source=s.get("suburbCollection")},_getAddressTypeText:function(){switch(this.get("address.addressType")){case Komodo.CanonicalValues.AddressTypes.Physical:return this.getLocalizationService().value("locale.addressControl:addressTypeTextPhysical");case Komodo.CanonicalValues.AddressTypes.Postal:return this.getLocalizationService().value("locale.addressControl:addressTypeTextPostal");case Komodo.CanonicalValues.AddressTypes.Delivery:return this.getLocalizationService().value("locale.addressControl:addressTypeTextDelivery");default:return""}},_checkNumberOfaddresses:function(e){var s=!0,t=this.getLocalizationService().value("locale.addressControl:maximumAddress");switch(t=t.replace("__addressType__",this._getAddressTypeText().charAt(0).toUpperCase()+this._getAddressTypeText().slice(1)),e){case Komodo.CanonicalValues.AddressTypes.Physical:this.countNumberOfAddresses(Komodo.CanonicalValues.AddressTypes.Physical)>=this.get("numberOfPhysicalAddress")&&(t=t.replace("__addressCount__",this.get("numberOfPhysicalAddress")),Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.addressControl:title"),t,Komodo.Controls.MessageBoxOkButtons,this,"id123456","warning"),s=!1);break;case Komodo.CanonicalValues.AddressTypes.Postal:this.countNumberOfAddresses(Komodo.CanonicalValues.AddressTypes.Postal)>=this.get("numberOfPostalAddress")&&(t=t.replace("__addressCount__",this.get("numberOfPostalAddress")),Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.addressControl:title"),t,Komodo.Controls.MessageBoxOkButtons,this,"id123456","warning"),s=!1);break;case Komodo.CanonicalValues.AddressTypes.Delivery:this.countNumberOfAddresses(Komodo.CanonicalValues.AddressTypes.Delivery)>=this.get("numberOfDeliveryAddress")&&(t=t.replace("__addressCount__",this.get("numberOfDeliveryAddress")),Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.addressControl:title"),t,Komodo.Controls.MessageBoxOkButtons,this,"id123456","warning"),s=!1);break;case"both":this.countNumberOfAddresses(Komodo.CanonicalValues.AddressTypes.Postal)>=this.get("numberOfPostalAddress")&&this.countNumberOfAddresses(Komodo.CanonicalValues.AddressTypes.Physical)>=this.get("numberOfPhysicalAddress")&&(this.get("showDelivery")?this.countNumberOfAddresses(Komodo.CanonicalValues.AddressTypes.Delivery)>=this.get("numberOfDeliveryAddress")&&(Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.addressControl:title"),this.getLocalizationService().value("locale.addressControl:maximumAll"),Komodo.Controls.MessageBoxOkButtons,this,"id123456","warning"),s=!1):(Komodo.Controls.MessageBoxController.show(this.getLocalizationService().value("locale.addressControl:title"),this.getLocalizationService().value("locale.addressControl:maximumAll"),Komodo.Controls.MessageBoxOkButtons,this,"id123456","warning"),s=!1))}return s},countNumberOfAddresses:function(e){var s=[];return s=$.grep(this.get("addressList"),function(s){if(s.addressType===e)return s}),s.length},showOverrideCheckboxChanged:function(){this.get("_showOverrideCheckbox")?$("#hideCheckBox").show():$("#hideCheckBox").hide()}.observes("_showOverrideCheckbox"),setAddress:function(e){var s=this,t=!1;s.set("address.addressType",e.addressType),s.set("address.country",e.country);var r=[];switch(r=$.grep(s.get("_countries"),function(s){if(s.CanonicalKey===e.country)return s}),void 0!=r[0]&&s.set("_provinces",$.makeArray(r[0].Provinces.Province)),Ember.isEmpty(e.province)||(s.set("address.province",e.province),s.get("_enableAddressOverride")||(Ember.isEmpty($.grep(s.get("_provinces"),function(s){if(!Ember.isEmpty(e.province)&&e.province===s.CanonicalKey)return s}))||s.set("_cities",$.makeArray($.grep(s.get("_provinces"),function(s){if(!Ember.isEmpty(e.province)&&e.province===s.CanonicalKey)return s})[0].Cities.City)),Ember.isEmpty(s.get("_cities"))||Ember.isEmpty($.grep(s.get("_cities"),function(s){if(!Ember.isEmpty(e.city)&&e.city.toUpperCase()===s.CanonicalValue.toUpperCase())return s}))||s.set("_suburbs",$.makeArray($.grep(s.get("_cities"),function(s){if(!Ember.isEmpty(e.city)&&e.city.toUpperCase()===s.CanonicalValue.toUpperCase())return s})[0].Suburbs.Suburb)),t=!1,Ember.isEmpty(s.get("_cities"))||$.each(s.get("_cities"),function(s,r){return!(!Ember.isEmpty(e.city)&&r.CanonicalValue.toUpperCase()===e.city.toUpperCase())||(e.set("city",r.CanonicalValue),t=!0,!1)}),t||e.set("city",void 0),t=!1,Ember.isEmpty(s.get("_suburbs"))||$.each(s.get("_suburbs"),function(s,r){return!(!Ember.isEmpty(e.suburb)&&r.CanonicalValue.toUpperCase()===e.suburb.toUpperCase())||(e.set("suburb",r.CanonicalValue),t=!0,!1)}),t||e.set("suburb",void 0))),s.set("address.city",e.city),s.get("floor")&&(s.set("address.floor",e.floor),s.set("address.exactLocation",e.exactLocation)),s.set("address.suburb",e.suburb),s.set("address.postalCode",e.postalCode),e.addressType){case Komodo.CanonicalValues.AddressTypes.Physical:case Komodo.CanonicalValues.AddressTypes.Delivery:s.set("address.unit",e.unit),s.set("address.building",e.building),s.set("address.streetNumber",e.streetNumber),s.set("address.streetName",e.streetName);break;case Komodo.CanonicalValues.AddressTypes.Postal:s.set("address.boxType",e.boxType),s.set("address.privateBag",e.privateBag),s.set("address.suite",e.suite),s.get("address.boxType")===s.get("_suitePrivateBag")?s.set("_isShowSuitePrivateBag",!0):s.set("_isShowSuitePrivateBag",!1)}s.get("_enableAddressOverride")?s.set("address.isAddressOverride",e.isAddressOverride):s.set("address.isAddressOverride",!0)},actions:{addAddress:function(){var e=this;e.canSubmitData(e.get("address"),e.getLocalizationService().value("locale.addressControl:address"),{group:e._getAddressTypeText(),showInModal:!0})&&e._checkNumberOfaddresses(e.get("address.addressType"))&&($("#addressPanel").hide(),e._addAddressToGrid(),e.set("showAddressControls",!1),e.set("isEditingAddress",!1),e._clearAddress())},showAddressPanel:function(){var e=this;e._checkNumberOfaddresses("both")&&(e.set("showControls",!0),e.set("isEditingAddress",!1),e.set("showAddressControls",!0),$("#addressPanel").show(),e._clearControls())},deleteAddress:function(e){var s=this;Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.addressControl:delete"),s.getLocalizationService().value("locale.addressControl:deleteMessage"),Komodo.Controls.MessageBoxYesNoButtons,s,"id123456","warning").response=function(t){"yes"===t&&s.get("addressList").removeObject(e.get("content"))}},editAddress:function(e){var s=this;if(s.get("isEditingAddress"))Komodo.Controls.MessageBoxController.show(s.getLocalizationService().value("locale.addressControl:editAddress"),s.getLocalizationService().value("locale.addressControl:editAddressMessage"),Komodo.Controls.MessageBoxOkButtons,s,"id123456","warning");else{var t=e.get("content");s.set("showControls",!0),s.set("showAddressControls",!0),$("#addressPanel").show(),s.set("_isEditAddress",!0),s.get("addressList").removeObject(e.get("content")),s.set("isEditingAddress",!0),s.setAddress(t),s.set("_isEditAddress",!1)}}},disableOverrideAddressChanged:function(){var e=this;e.set("_disableAddressString",!1),e.get("address.isAddressOverride")||e.get("_isEditAddress")||e._clearControls(),e.get("address.isAddressOverride")&&!e.get("_isEditAddress")&&e.get("address.city")&&e.get("address.suburb")&&e.set("_disableLocation",!1),e.get("_showOverrideCheckbox")&&e.get("address.isAddressOverride")&&e.set("_disableAddressString",!0),e.set("_addressString",void 0),e.get("_showOverrideCheckbox")&&e.set("_disableOverrideAddress",!e.get("address.isAddressOverride"))}.observes("address.isAddressOverride"),showSuitePrivateBag:function(){var e=this;e.get("address.boxType")===e.get("_suitePrivateBag")?e.set("_isShowSuitePrivateBag",!0):(e.set("_isShowSuitePrivateBag",!1),e.set("address.suite","")),e.privateBagSuiteValueChanged()}.observes("address.boxType"),privateBagSuiteValueChanged:function(){var e=this;e.get("address.boxType")===e.get("_suitePrivateBag")?Ember.isEmpty(e.get("address.privateBag"))&&!Ember.isEmpty(e.get("address.suite"))||!Ember.isEmpty(e.get("address.privateBag"))&&Ember.isEmpty(e.get("address.suite"))?(e.removeDependentProperty("privateBagValidator"),e.removeDependentProperty("suiteValidator"),e.createDependentProperty("privateBagValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.alphanumericValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]),e.createDependentProperty("suiteValidator",[Komodo.UI.Validators.RequiredValidator,Komodo.UI.Validators.alphanumericValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator])):(e.removeDependentProperty("privateBagValidator"),e.removeDependentProperty("suiteValidator"),e.createDependentProperty("privateBagValidator",[Komodo.UI.Validators.alphanumericValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]),e.createDependentProperty("suiteValidator",[Komodo.UI.Validators.alphanumericValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator])):(e.removeDependentProperty("privateBagValidator"),e.removeDependentProperty("suiteValidator"),e.createDependentProperty("privateBagValidator",[Komodo.UI.Validators.alphanumericValidator,Komodo.UI.Validators.MinLengthValidator,Komodo.UI.Validators.MaxLengthValidator]))}.observes("address.privateBag","address.suite"),createDependentProperty:function(e,s){var t=this;s.forEach(function(s){void 0!==t.get("validators."+e)&&t.get("validators."+e).functions.addObject(s)}),void 0!==t.get("validators."+e)&&t.get("validators."+e).validate()},removeDependentProperty:function(e){var s=this;void 0!==s.get("validators."+e)&&(s.get("validators."+e).functions.clear(),s.get("validators."+e).validate())},_clearAddress:function(){var e=this;e.set("address.addressType",Komodo.CanonicalValues.AddressTypes.Physical),e.get("_enableAddressOverride")&&e.set("address.isAddressOverride",!1),e._clearFlags(),e._clearControls()},_clearFlags:function(){var e=this;e.set("_postalSameAsPhysical",!1),e.set("_showSameAsPhysical",!1),e.set("showAddressControls",!1)},_clearControls:function(){var e=this;e.get("_enableAddressOverride")&&e.set("address.country",void 0),e.set("_addressString",void 0),e.set("address.addressString",void 0),e.set("address.province",void 0),e.set("address.city",void 0),e.set("address.suburb",void 0),e.set("address.postalCode",void 0),e.set("address.unit",void 0),e.set("address.building",void 0),e.set("address.streetNumber",void 0),e.set("address.privateBag",void 0),e.set("address.streetName",void 0),e.get("floor")&&(e.set("address.floor",void 0),e.set("address.exactLocation",void 0))},_addAddressToGrid:function(){var e=this,s=Komodo.Models.AddressModel.create(),t="";if(e.get("_isPhysicalAddress")){switch(e.get("address.unit")){case"":case void 0:case null:break;default:s.set("unit",e.get("address.unit")),t+=e.get("address.unit").trim()+", "}switch(e.get("address.building")){case"":case void 0:case null:break;default:s.set("building",e.get("address.building")),t+=e.get("address.building").trim()+", "}switch(e.get("address.streetNumber")){case"":case void 0:case null:break;default:s.set("streetNumber",e.get("address.streetNumber")),t+=e.get("address.streetNumber").trim()+", "}switch(e.get("address.streetName")){case"":case void 0:case null:break;default:s.set("streetName",e.get("address.streetName")),t+=e.get("address.streetName").trim()+", "}e.set("address.privateBag",void 0)}else{switch(e.get("address.privateBag")){case"":case void 0:case null:break;default:s.set("privateBag",e.get("address.privateBag")),s.set("suite",e.get("address.suite")),s.set("boxType",e.get("address.boxType")),Ember.empty(e.get("address.suite"))?t+=e.get("address.boxType")+" "+e.get("address.privateBag").trim()+", ":t+=e.get("address.boxType")+" "+e.get("address.privateBag").trim()+" "+e.get("address.suite").trim()+", "}e.set("address.unit",void 0),e.set("address.building",void 0),e.set("address.streetNumber",void 0),e.set("address.streetName",void 0)}switch(e.get("address.suburb")){case"":case void 0:case null:break;default:s.set("suburb",e.get("address.suburb")),t+=e.get("address.suburb")+", "}switch(e.get("address.city")){case"":case void 0:case null:break;default:s.set("city",e.get("address.city")),t+=e.get("address.city")+", "}s.set("country",e.get("_selectedCountry").CanonicalKey),t+=e.get("_selectedProvince").CanonicalValue+", ",s.set("province",e.get("_selectedProvince").CanonicalKey),t+=e.get("_selectedCountry").CanonicalValue+", ",s.set("postalCode",e.get("address.postalCode")),t+=e.get("address.postalCode"),e.get("floor")&&(s.set("floor",e.get("address.floor")),s.set("exactLocation",e.get("address.exactLocation"))),void 0!==e.get("address")&&(s.set("addressType",e.get("address.addressType")),e.get("address").set("addressTypeText",e._getAddressTypeText().charAt(0).toUpperCase()+e._getAddressTypeText().slice(1)),e.get("address").set("isPrimary",e.get("_isPhysicalAddressCheckBox")),e.get("address").set("isPrimaryString",!0===e.get("_isPhysicalAddressCheckBox")?kl.value("locale.customerprofile.customerprofile:labels.yes"):kl.value("locale.customerprofile.customerprofile:labels.no")),e.get("address").set("addressString",t),s.set("addressTypeText",e.get("address.addressTypeText")),s.set("isPrimary",e.get("address.isPrimary")),s.set("isPrimaryString",e.get("address.isPrimaryString")),s.set("isAddressOverride",e.get("address.isAddressOverride")),s.set("addressString",e.get("address.addressString"))),s.set("isMarketingEnabled",e.get("address.isMarketingEnabled")),e.get("addressList")&&e.get("addressList").pushObject(s)},_getTabIndex:function(e){return(this.get("tabIndex")||0)+e},_isPhysicalAddress:function(){return this._showSameAsPhysicalCheckBox(),this.get("address.addressType")===Komodo.CanonicalValues.AddressTypes.Physical||this.get("address.addressType")===Komodo.CanonicalValues.AddressTypes.Delivery}.property("address.addressType"),_isPhysicalAddressCheckBox:function(){return this._showSameAsPhysicalCheckBox(),this.get("address.addressType")===Komodo.CanonicalValues.AddressTypes.Physical}.property("address.addressType"),_isPostalAddress:function(){return this._showSameAsPhysicalCheckBox(),this.get("address.addressType")===Komodo.CanonicalValues.AddressTypes.Postal}.property("address.addressType"),_addressTypeChanged:function(){var e=this;switch(e.set("_addressString",void 0),this.get("multipleAddress")&&e._clearControls(),e.get("address.addressType")){case Komodo.CanonicalValues.AddressTypes.Postal:e.set("_placeHolder",e.getLocalizationService().value("locale.addressControl:postFormat"));break;case Komodo.CanonicalValues.AddressTypes.Delivery:e.registerValidator(e.get("address"),"streetNumber",{type:"string",minLength:1,maxLength:10,isRequired:!0,functions:Komodo.UI.Validators.addressLineItemValidator,groups:["delivery"]}),e.registerValidator(e.get("address"),"building",{type:"string",minLength:2,maxLength:40,functions:Komodo.UI.Validators.addressLineItemValidator,groups:["delivery"]}),e.registerValidator(e.get("address"),"suburb",{type:"string",minLength:1,isRequired:!0,maxLength:40,groups:["delivery"]});break;case Komodo.CanonicalValues.AddressTypes.Physical:e.registerValidator(e.get("address"),"streetNumber",{type:"string",minLength:1,maxLength:10,functions:Komodo.UI.Validators.addressLineItemValidator,groups:["physical"]}),e.registerValidator(e.get("address"),"building",{type:"string",minLength:2,maxLength:50,functions:Komodo.UI.Validators.addressLineItemValidator,groups:["physical"]});break;default:e.set("_placeHolder",e.getLocalizationService().value("locale.addressControl:streetFormat"))}}.observes("address.addressType"),_countryChanged:function(){var e=this;if(e.get("address.isAddressOverride")&&!e.get("_isEditAddress")||!e.get("_showOverrideCheckbox")&&!e.get("_isEditAddress")){var s=[];s=$.grep(e.get("_countries"),function(s){if(e.get("address.country")==s.CanonicalKey)return s}),void 0!=s[0]&&e.set("_provinces",$.makeArray(s[0].Provinces.Province)),e.set("_selectedProvince",void 0),e.set("address.province",void 0),e.set("address.city",void 0),e.set("address.suburb",void 0),e.set("address.postalCode",void 0)}}.observes("address.country"),_provinceChanged:function(){var e=this;e.set("_disableLocation",!0),(e.get("address.isAddressOverride")&&!e.get("_isEditAddress")||!e.get("_showOverrideCheckbox")&&!e.get("_isEditAddress"))&&(e.set("_selectedCity",void 0),e.set("address.city",void 0),e.set("address.suburb",void 0),e.set("address.postalCode",void 0),e.get("multipleAddress")&&e.get("_selectedProvince.Cities.City")?e.set("_cities",$.makeArray(e.get("_selectedProvince.Cities.City"))):e.get("multipleAddress")||!e.get("address.province")||e.get("_enableAddressOverride")?null!==e.get("address.province")&&void 0!==e.get("address.province")||e.set("_cities",null):e.set("_cities",$.makeArray($.grep(e.get("_provinces"),function(s){if(e.get("address.province")===s.CanonicalKey)return s})[0].Cities.City))),!Ember.isEmpty(e.get("address.province"))&&e.get("_enableAddressOverride")&&!e.get("_disableOverrideAddress")&&e.get("address.isAddressOverride")?e.set("_disableLocation",!1):Ember.isEmpty(e.get("address.province"))||!e.get("_enableAddressOverride")||e.get("_disableOverrideAddress")||e.get("_showOverrideCheckbox")||e.set("_disableLocation",!1)}.observes("address.province","_provinces"),_cityChanged:function(){var e=this;(e.get("address.isAddressOverride")&&!e.get("_isEditAddress")||!e.get("_showOverrideCheckbox")&&!e.get("_isEditAddress"))&&(e.set("_selectedSuburb",void 0),e.set("address.suburb",void 0),e.set("address.postalCode",void 0),e.get("multipleAddress")&&e.get("_selectedCity.Suburbs.Suburb")?e.set("_suburbs",$.makeArray(e.get("_selectedCity.Suburbs.Suburb"))):e.get("multipleAddress")||!e.get("address.city")||e.get("_enableAddressOverride")?null!==e.get("address.city")&&void 0!==e.get("address.city")||e.set("_suburbs",null):e.set("_suburbs",$.makeArray($.grep(e.get("_cities"),function(s){if(e.get("address.city").toUpperCase()===s.CanonicalValue.toUpperCase())return s})[0].Suburbs.Suburb)),e.get("_enableAddressOverride")&&void 0!==e.get("address.city")&&e.get("address.city").length>1&&e._getAddressData("city="+e.get("address.city").trim()+"&countryname="+e.get("_selectedCountry.CanonicalValue")+"&province="+e.get("_selectedProvince.CanonicalValue")))}.observes("address.city","_cities"),_suburbChanged:function(){var e=this;(e.get("address.isAddressOverride")&&!e.get("_isEditAddress")||!e.get("_showOverrideCheckbox")&&!e.get("_isEditAddress"))&&(e.get("_enableAddressOverride")||e.set("address.postalCode",e.get("_selectedSuburb.PostalCode")))}.observes("address.suburb","_suburbs"),_getAddressData:function(e){var s=this;clearInterval(s.get("_timer")),s.set("_timer",setTimeout(function(){var t="/Address/Get?"+e;s.getQueryService().getJSON(t,!1).done(function(e){s._onSuccess(e)}).error(function(e){Komodo.log(e)}).fail(function(e){Komodo.log(e)})},100))},_addressStringChanged:function(){var e=this,s=void 0;switch(!Ember.isEmpty(e.get("_addressString"))){case!0:if(e.get("_addressString").length>2){if(e.get("_isPhysicalAddress"))s="streetName="+e.get("_addressString").trim();else{var t=e.get("_addressString").trim().split(" ");s="postCode="+t[0]+"&suburb="+t[1]}e._getAddressData(s)}}}.observes("_addressString"),_showSameAsPhysicalCheckBox:function(){var e=this,s=[];return e.get("addressList")&&(s=$.grep(e.get("addressList"),function(s){if(s.addressType===Komodo.CanonicalValues.AddressTypes.Physical&&e.get("address.addressType")===Komodo.CanonicalValues.AddressTypes.Postal)return s})),s.length>0?e.set("_showSameAsPhysical",!0):e.set("_showSameAsPhysical",!1)}.observes("addressList.length"),_postalSameAsPhysicalChecked:function(){var e=this,s=Ember.A();if(e.get("_postalSameAsPhysical")){if(s=$.grep(e.get("addressList"),function(e){if(e.addressType===Komodo.CanonicalValues.AddressTypes.Physical)return e}),s.length>0&&e._checkNumberOfaddresses(e.get("address.addressType"))){var t=$.extend(!0,{},s[0]);t.addressType=Komodo.CanonicalValues.AddressTypes.Postal,t.addressTypeText=e._getAddressTypeText().charAt(0).toUpperCase()+e._getAddressTypeText().slice(1),t.isPrimary=!1,t.isPrimaryString=e.getLocalizationService().value("locale.addressControl:no"),e.get("addressList").pushObject(t),$("#addressPanel").hide(),e.set("showAddressControls",!1),
e._clearAddress()}e.set("isEditingAddress",!1),e._clearAddress()}}.observes("_postalSameAsPhysical"),_deliverySameAsPhysicalChecked:function(){var e=this,s=Ember.A();if(e.get("_postalSameAsPhysical")){if(s=$.grep(e.get("addressList"),function(e){return e.addressType,Komodo.CanonicalValues.AddressTypes.Physical,e}),s.length>0&&e._checkNumberOfaddresses(e.get("address.addressType"))){var t=$.extend(!0,{},s[0]);t.addressType=Komodo.CanonicalValues.AddressTypes.Postal,t.addressTypeText=e._getAddressTypeText().charAt(0).toUpperCase()+e._getAddressTypeText().slice(1),t.isPrimary=!1,t.isPrimaryString=e.getLocalizationService().value("locale.addressControl:no"),e.get("addressList").pushObject(t),$("#addressPanel").hide(),e.set("showAddressControls",!1),e._clearAddress()}e._clearAddress()}}.observes("_deliverySameAsPhysical"),_floorValidators:function(){var e=this;e.get("floor")?(e.registerValidator(e.get("address"),"exactLocation",{type:"string",isRequired:!0,minLength:2,maxLength:50,groups:["physical"],functions:Komodo.UI.Validators.addressLineItemValidator}),e.registerValidator(e.get("address"),"floor",{type:"number",isRequired:!0,minLength:1,maxLength:3,groups:["physical"],functions:Komodo.UI.Validators.floorValidator})):(e.deregisterValidator("exactLocationValidator"),e.deregisterValidator("floorValidator"))}.observes("floor"),_showTable:function(){return this.get("addressList").length>0}.property("addressList.@each"),_tabindexAddLink:function(){return this._getTabIndex(0)}.property("tabIndex"),_tabindexEditLink:function(){return this._getTabIndex(1)}.property("tabIndex"),_tabindexDeleteLink:function(){return this._getTabIndex(2)}.property("tabIndex"),_tabindexAddressString:function(){return this._getTabIndex(3)}.property("tabIndex"),_tabindexOverRideCheck:function(){return this._getTabIndex(4)}.property("tabIndex"),_tabindexAddressType:function(){return this._getTabIndex(5)}.property("tabIndex"),_tabindexShowSameAsPhysical:function(){return this._getTabIndex(6)}.property("tabIndex"),_tabindexCountry:function(){return this._getTabIndex(7)}.property("tabIndex"),_tabindexProvince:function(){return this._getTabIndex(8)}.property("tabIndex"),_tabindexCity:function(){return this._getTabIndex(9)}.property("tabIndex"),_tabindexSuburb:function(){return this._getTabIndex(10)}.property("tabIndex"),_tabindexPostalCode:function(){return this._getTabIndex(11)}.property("tabIndex"),_tabindexUnit:function(){return this._getTabIndex(12)}.property("tabIndex"),_tabindexPrivateBag:function(){return this._getTabIndex(12)}.property("tabIndex"),_tabindexBuilding:function(){return this._getTabIndex(13)}.property("tabIndex"),_tabindexStreetNumber:function(){return this._getTabIndex(14)}.property("tabIndex"),_tabindexStreetName:function(){return this._getTabIndex(15)}.property("tabIndex"),_tabindexFloor:function(){return this._getTabIndex(16)}.property("tabIndex"),_tabindexExactLocation:function(){return this._getTabIndex(17)}.property("tabIndex"),_tabindexAddAddressButton:function(){return this._getTabIndex(18)}.property("tabIndex")});
Komodo.Services.localizationService.registerStartCallback(function(){$.fn.datepicker.dates[kl.getCurrentLanguage()]={days:kl.value("controls.datepicker.days").split("\n"),daysShort:kl.value("controls.datepicker.daysShort").split("\n"),daysMin:kl.value("controls.datepicker.daysMin").split("\n"),months:kl.value("controls.datepicker.months").split("\n"),monthsShort:kl.value("controls.datepicker.monthsShort").split("\n"),today:kl.value("controls.datepicker.today"),clear:kl.value("controls.datepicker.clear")}});
Komodo.UI.Validators.RSA_IDValidator=function(t,e,r){var a=Ember.A(),n=t[Object.keys(t)[0]];r=r||{},r.type=r.type||"string";var i,s,d,o=r.displayName,m=r.errorMessage||o+" is not valid";if(void 0!==n&&null!==n&&""!==n){var u=function(){return n.length>5&&(s=new moment(n.substr(0,6),"YYMMDD"),s.format("YYMMDD")!=n.substr(0,6))?r.invalidDate||"The first 6 digits must be a date of the form yymmdd":new RegExp("^\\d{13}$").test(n)?(d=parseInt(n[10],10),1!=d&&0!==d?r.invalid11thDigit||"The 11th digit must be a 0 or a 1":""):r.invalidLength||o+" must contain 13 numbers"}();""!=u&&a.addObject(u),0===a.length&&(i=parseInt(n[n.length-1],10),function(){var t,e,r,a,i=-1;try{for(t=0,a=0;a<6;a+=1)t+=Number(n[2*a]);for(e=0,a=0;a<6;a+=1)e=10*e+Number(n[2*a+1]);e*=2,r=0;do{r+=parseInt(e%10,10),e=parseInt(e/10,10)}while(e>0);r+=t,i=10-parseInt(r%10,10),10==i&&(i=0)}catch(t){}return i}()!=i&&a.addObject(m))}return a};
Komodo.Controls.PaymentDetails=Ember.View.extend(Komodo.Controls.Control,Komodo.UI.Validation,Komodo.Dependency,{templateName:"PaymentDetails",tabIndex:0,paymentDetails:void 0,disableMOP:!1,disableDebitOrderDay:!1,disableCustomerPaymentDetails:!1,defaultDayShow:!1,startIPDayWithOne:!1,disableSubmitButton:!0,debitOrderAllowed:!0,_bankBranches:[],_hideFinInfo:!0,_banks:[],_accountTypes:[],_paymentTypeList:[],_debitOderDays:[],_debitOderDayOne:[],_debitOrderDaylabel:void 0,_debitOderDayAll:[],_debitOrderAllowed:!1,_enableRealtimeAHVProcess:!1,init:function(){this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_featureToggleService",{singleton:Komodo.Services.featureToggleService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_customerService",{singleton:Komodo.Services.CustomerService}),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this._initializeData(),this._registerValidation(),this.setDebitOrderDays(),this.setStartIPDayWithOne(),this.featureToggleForAddDoc(),this.enambleCustomerNotAccHolderCheckbox(),this._super()},getValueFromConstant:function(e,t){return this.getCustomerService().getValueFromConstant(e,t)},destroy:function(){this.getEventAggregator().unsubscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this.clearAllData(),this._super()},getCachedDataService:function(){return this.get("_cachedDataService")},getCustomerService:function(){return this.get("_customerService")},getFeatureToggleService:function(){return this.get("_featureToggleService")},getQueryService:function(){return this.get("_queryService")},getEventAggregator:function(){return this.get("_eventAggregator")},getCacheRepository:function(){return this.get("_cacheRepository")},getLocalizationService:function(){return this.get("_localizationService")},_initializeData:function(){var e=this;e.get("_paymentTypeList").clear(),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableRealtimeAHVProcess").done(function(t){e.set("_enableRealtimeAHVProcess",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),Komodo.Services.featureToggleService.isEnabled("CreateCustomer","IsDebitOrderAllowed").done(function(t){e.set("_debitOrderAllowed",t),e.get("_debitOrderAllowed")?(e.get("_paymentTypeList").pushObject({value:e.getLocalizationService().value("locale.customer:methodOfPayment.DEBITORDER.value"),title:e.getLocalizationService().value("locale.customer:methodOfPayment.DEBITORDER.title")}),e.get("_paymentTypeList").pushObject({value:e.getLocalizationService().value("locale.customer:methodOfPayment.CASH.value"),title:e.getLocalizationService().value("locale.customer:methodOfPayment.CASH.title")}),e.set("paymentDetails.paymentType",Komodo.MOP.DEBIT_ORDER),e.set("_debitOrderDaylabel",e.getLocalizationService().value("locale.customer:customerInformation.debitOrderDay"))):(e.set("_hideFinInfo",!1),e.get("_paymentTypeList").pushObject({value:e.getLocalizationService().value("locale.customer:methodOfPayment.CASH.value"),title:e.getLocalizationService().value("locale.customer:methodOfPayment.CASH.title")}),e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("_debitOrderDaylabel",e.getLocalizationService().value("locale.customer:customerInformation.paymentDay")),e.set("debitOrderAllowed",!1))}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)}),e.set("paymentDetails.enableCustNotAccHolder",!1);var t={domain:Komodo.Services.uiService.getController("application").get("_selectedCountryId"),qualifier:Komodo.Services.localizationService.getCurrentLanguage()};Komodo.Services.featureToggleService.isEnabled("EditPaymentDetails","RemovePaymentDay1").done(function(a){Komodo.Services.cachedDataService.fetch("InvoiceDay",t).done(function(t){e.get("_debitOderDayAll").clear(),e.get("_debitOderDayOne").clear(),t=t.sort(function(e,t){return parseInt(e.key,10)>parseInt(t.key,10)?1:parseInt(e.key,10)<parseInt(t.key,10)?-1:0}),$.each(t,function(t,o){"29"!==o.key&&("1"===o.key?(e.get("_debitOderDayOne").addObject(o),a||e.get("_debitOderDayAll").addObject(o)):e.get("_debitOderDayAll").addObject(o))})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for DebitOrderDay")}),e.getCachedDataService().fetch("BankDetail",t).done(function(a){var o=JSON.parse(a);e.get("_banks").clear(),e.set("_banks",$.makeArray(o.Banks.Bank)),Komodo.Services.cachedDataService.fetch("BankAccountType",t).done(function(t){e.get("_accountTypes").clear(),e.set("_accountTypes",t)}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for MethodOfPayment")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for BankDetail")})}).fail(function(){Komodo.error("[ERROR] : could not retrieve debit order day from CDM")})},actions:{verifyBankingDetails:function(){var e=this;Komodo.UI.paymentDetailsFunctions.validateData(e.get("paymentDetails"),Object.keys(e.get("validators")),e,kl.value("locale.customer:customer.useCaseTitle"))||(e.showBusyIndicator(),e._verifyBankingDetails())}},_registerValidation:function(){var e=this;e.get("paymentDetails.paymentType")===Komodo.MOP.CASH?(e.registerValidator(e.get("paymentDetails"),"debitOrderDay",{type:"string",isRequired:!0}),e.set("paymentDayPrompt",e.getLocalizationService().value("locale.customer:customerInformation.paymentDayPrompt")),e.createDependentProperty("debitOrderDayValidator",[Komodo.UI.Validators.RequiredValidator])):(e.registerValidator(e.get("paymentDetails"),"payerIsCustomer",{type:"bool",displayName:e.getLocalizationService().value("locale.customer:customerInformation.payerIsCustomer")}),e.registerValidator(e.get("paymentDetails"),"payerName",{type:"string",isRequired:!0,minLength:3,maxLength:101,functions:Komodo.UI.Validators.firstNameAndLastNameValidator}),e.setIDValidation(),e.registerValidator(e.get("paymentDetails"),"bank",{type:"string",isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"accountType",{type:"string",isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"accountNo",{type:"string",isRequired:!0,minLength:5,maxLength:34,functions:Komodo.UI.Validators.numericValidator}),e.registerValidator(e.get("paymentDetails"),"branchName",{type:"string",isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"debitOrderDay",{type:"string",isRequired:!0}),e.get("_enableRealtimeAHVProcess")&&(e.registerValidator(e.get("paymentDetails"),"accountHolderEmailAddress",{type:"string",isRequired:!0,minLength:6,maxLength:254,regExPattern:Komodo.UI.Validators.RegExPatterns.Email}),e.registerValidator(e.get("paymentDetails"),"contactValue",{type:"number",isRequired:!0,displayName:e.getLocalizationService().value("locale.Contact:phoneNumber"),minLength:9,maxLength:14,functions:Komodo.UI.Validators.numericValidator})))},createDependentProperty:function(e,t){var a=this;t.forEach(function(t){void 0!==a.get("validators."+e)&&a.get("validators."+e).functions.addObject(t)}),void 0!==a.get("validators."+e)&&a.get("validators."+e).validate()},removeDependentProperty:function(e){var t=this;if(void 0!==t.get("validators."+e)&&void 0!==t.get("validators."+e)){t.get("validators."+e).functions.clear();try{t.get("validators."+e).validate()}catch(e){Komodo.error("[ERROR] : "+e.message)}}},clearAllData:function(){var e=this;e.set("_bankBranches",[]),e.set("_banks",[]),e.set("_accountTypes",[]),e.get("_paymentTypeList").clear(),e.set("_debitOderDays",[]),e.set("_context.customerDataModel.payerIsCustomer",void 0),e.set("paymentDetails.payerIsCustomer",void 0),e.set("paymentDetails.payerName",void 0),e.set("paymentDetails.payerID",void 0),e.set("paymentDetails.bank",void 0),e.set("paymentDetails.accountType",void 0),e.set("paymentDetails.accountNo",void 0),e.set("paymentDetails.branchName",void 0),e.set("paymentDetails.debitOrderDay",void 0),e.set("paymentDetails.paymentType",void 0),e.set("paymentDetails.accountHolderEmailAddress",void 0),e.set("paymentDetails.identificationType",void 0),e.set("paymentDetails.contactType",void 0),e.set("paymentDetails.contactValue",void 0),e.set("paymentDetails.countryCode",void 0)},featureToggleForAddDoc:function(){var e=this;Komodo.Services.featureToggleService.isEnabled("PaymentDetails","allowDocumentUploads").done(function(t){e.set("_uploadDocuments",t)}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)})},enambleCustomerNotAccHolderCheckbox:function(){var e=this;Komodo.Services.uiService.getController("application").get("_selectedCountryId")===e.getValueFromConstant("ProductsConstants","productsConstants.products.SOUTH_AFRICA")&&Komodo.Services.featureToggleService.isEnabled("PaymentDetails","allowDocumentUploads").done(function(t){switch(t){case!0:e.set("paymentDetails.enableCustNotAccHolder",!0),e.set("disableCustomerPaymentDetails",!0),e.set("paymentDetails.disableAccountHolderEmailAddress",!0);break;default:e.set("paymentDetails.enableCustNotAccHolder",!1)}}).fail(function(e){Komodo.Services.log("Error while checking feature toggle. Error Details:"+e)})},showpaymentOption:function(){var e=this;if(e.removeDependentProperty("payerNameValidator"),e.removeDependentProperty("branchNameValidator"),e.removeDependentProperty("accountNoValidator"),e.removeDependentProperty("bankValidator"),e.removeDependentProperty("accountTypeValidator"),e.removeDependentProperty("payerIDValidator"),e.removeDependentProperty("debitOrderDayValidator"),e.removeDependentProperty("accountHolderEmailAddressValidator"),e.removeDependentProperty("contactValueValidator"),e.removeDependentProperty("disableCustomerPaymentDetails"),e._context.get("customerDataModel.hideAdditionalInformationFinance"))switch(!1===e.get("debitOrderAllowed")&&e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.get("paymentDetails.paymentType")){case void 0:case null:case"":break;case Komodo.MOP.CASH:e.set("_hideFinInfo",!1),e.set("_debitOrderDaylabel",e.getLocalizationService().value("locale.customer:customerInformation.paymentDay")),e.set("paymentDayPrompt",e.getLocalizationService().value("locale.customer:customerInformation.paymentDayPrompt")),e.createDependentProperty("debitOrderDayValidator",[Komodo.UI.Validators.RequiredValidator]),e.set("paymentDetails.methodOfPayment",Komodo.MOP.CASH),e.set("paymentDetails.paymentType",Komodo.MOP.CASH),e.set("paymentDetails.accountType",void 0),e.set("_context.customerDataModel.payerIsCustomer",void 0);break;case Komodo.MOP.DEBIT_ORDER:e.set("_hideFinInfo",!0),e.set("_debitOrderDaylabel",e.getLocalizationService().value("locale.customer:customerInformation.debitOrderDay")),e.set("paymentDayPrompt",e.getLocalizationService().value("locale.customer:customerInformation.debitOrderDayPrompt")),e.registerValidator(e.get("paymentDetails"),"accountType",{type:"string",isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"debitOrderDay",{type:"string",isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"payerName",{type:"string",minLength:3,maxLength:101,functions:Komodo.UI.Validators.firstNameAndLastNameValidator,isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"accountNo",{type:"string",minLength:5,maxLength:34,functions:Komodo.UI.Validators.numericValidator,isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"bank",{type:"string",isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"branchName",{type:"string",isRequired:!0}),e.registerValidator(e.get("paymentDetails"),"accountHolderEmailAddress",{type:"string",isRequired:!0,minLength:6,maxLength:254,regExPattern:Komodo.UI.Validators.RegExPatterns.Email}),e.registerValidator(e.get("paymentDetails"),"contactValue",{type:"number",isRequired:!0,displayName:e.getLocalizationService().value("locale.Contact:phoneNumber"),minLength:9,maxLength:14,functions:Komodo.UI.Validators.numericValidator}),e.setIDValidation(),e.set("_context.customerDataModel.payerIsCustomer",!0),e.set("paymentDetails.payerIsCustomer",!0),e.set("paymentDetails.methodOfPayment",Komodo.MOP.DEBIT_ORDER),e.set("paymentDetails.accountType",void 0)}e.checkAHVRules()}.observes("paymentDetails.paymentType"),bankChanged:function(){var e=this;e.set("_bankBranches",[]),e.set("paymentDetails.branchName",void 0),e.set("paymentDetails.ahvRealtime",!1),e.get("paymentDetails.bank")&&($.each(e.get("_banks"),function(t,a){a.CanonicalKey===e.get("paymentDetails.bank").CanonicalKey&&a.Branches&&a.Branches.Branch&&($.isArray(a.Branches.Branch)?$.each(a.Branches.Branch,function(t,a){e.get("_bankBranches").addObject(a)}):e.get("_bankBranches").addObject(a.Branches.Branch))}),e.get("paymentDetails.payerIsCustomer")&&e.get("paymentDetails.bank")&&"1"==e.get("paymentDetails.bank").AHVSupported&&e.get("paymentDetails.identificationType")==Komodo.CanonicalValues.IdentificationType.ID&&e.set("paymentDetails.ahvRealtime",!0)),e.checkAHVRules()}.observes("paymentDetails.bank"),setPayerIsNotCustomerDependencies:function(){var e=this;e.set("disableCustomerPaymentDetails",e.get("paymentDetails.payerIsCustomer")),e.set("paymentDetails.disableAccountHolderEmailAddress",e.get("paymentDetails.payerIsCustomer")),e.get("paymentDetails.payerIsCustomer")?(Ember.isEmpty(e._context.get("customerDataModel.firstName"))||Ember.isEmpty(e._context.get("customerDataModel.lastName"))?e.set("paymentDetails.payerName",void 0):e.set("paymentDetails.payerName",e._context.get("customerDataModel.firstName")+" "+e._context.get("customerDataModel.lastName")),Ember.isEmpty(e._context.get("identification.value"))?Ember.isEmpty(e._context.get("customerDataModel.identityDetailValue"))?e.set("paymentDetails.payerID",void 0!==e._context.get("customerDataModel.idValue")?e._context.get("customerDataModel.idValue"):""):e.set("paymentDetails.payerID",void 0!==e._context.get("customerDataModel.identityDetailValue")?e._context.get("customerDataModel.identityDetailValue"):""):e.set("paymentDetails.payerID",void 0!==e._context.get("identification.value")?e._context.get("identification.value"):""),Ember.isEmpty(e._context.get("customerDataModel.accountHoldercontactValue"))||e.set("paymentDetails.contactValue",e._context.get("customerDataModel.accountHoldercontactValue")),Ember.isEmpty(e._context.get("customerDataModel.accountHolderEmailAddress"))||(e.set("paymentDetails.accountHolderEmailAddress",e._context.get("customerDataModel.accountHolderEmailAddress")),e.set("paymentDetails.disableAccountHolderEmailAddress",!0)),Ember.isEmpty(e.get("paymentDetails.accountHolderEmailAddress"))&&e.set("paymentDetails.disableAccountHolderEmailAddress",!1)):(e.set("paymentDetails.payerName",""),e.set("paymentDetails.payerID",""),e.set("paymentDetails.contactValue",void 0),e.set("paymentDetails.accountHolderEmailAddress",void 0),e.set("paymentDetails.disableAccountHolderEmailAddress",!1)),e.removeDependentProperty("payerIDValidator"),e.setIDValidation()}.observes("paymentDetails.payerIsCustomer"),setDebitOrderDays:function(){var e=this;Ember.isEmpty(e.get("defaultDayShow"))||e.get("defaultDayShow")!==e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEETHIRDPARTY_IP_DAY")?Ember.isEmpty(e.get("defaultDayShow"))||!1===e.get("defaultDayShow")?e.set("_debitOderDays",e.get("_debitOderDayAll")):(e.set("_debitOderDays",e.get("_debitOderDayAll")),e.set("paymentDetails.debitOrderDay",e.get("defaultDayShow"))):(e.set("_debitOderDays",e.get("_debitOderDayOne")),e.set("paymentDetails.debitOrderDay",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerTypesConstants.EMPLOYEETHIRDPARTY_IP_DAY")))}.observes("defaultDayShow"),setStartIPDayWithOne:function(){var e=this,t=[];!0===e.get("startIPDayWithOne")&&(t=e.get("_debitOderDayOne"),Ember.isEmpty($.grep(e.get("_debitOderDayAll"),function(t){return t.key===e.get("_debitOderDayOne")[0].key})[0])?(t=e.get("_debitOderDayOne"),t.addObjects(e.get("_debitOderDayAll")),e.set("_debitOderDays",t)):e.set("_debitOderDays",e.get("_debitOderDayAll")))}.observes("startIPDayWithOne"),idTypeChanged:function(){var e=this;e.setIDValidation(),e.get("_context.identification.idType")===Komodo.CanonicalValues.IdentificationType.ID&&e.get("paymentDetails.payerIsCustomer")&&e.get("paymentDetails.bank")&&"1"==e.get("paymentDetails.bank").AHVSupported?e.set("paymentDetails.ahvRealtime",!0):e.set("paymentDetails.ahvRealtime",!1),!1!==e._context.get("customerDataModel.isIdentificationNumberRequire")||null!==e.get("paymentDetails.idType")&&void 0!==e.get("paymentDetails.idType")?e.set("paymentDetails.isIdentificationValueDisable",!1):(e.removeDependentProperty("payerIDValidator"),e.set("paymentDetails.isIdentificationValueDisable",!0))}.observes("_context.identification.idType","_context.customerDataModel.identityDetailType"),setIDValidation:function(){var e=this,t=void 0;Ember.isEmpty(e._context.get("identification.idType"))?Ember.isEmpty(e._context.get("customerDataModel.identityDetailType"))||(t=e._context.get("customerDataModel.identityDetailType")):t=e._context.get("identification.idType"),e.removeDependentProperty("payerIDValidator");var a=[];switch(t){case Komodo.CanonicalValues.IdentificationType.ID:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX")),a=Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")||Komodo.Services.queryService.getSelectedCountryId()===e.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.Refugee:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MAX")),a=[Komodo.UI.Validators.alphanumericValidator];break;case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MAX")),a=[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.NRC:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX")),a=[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.Passport:default:e.set("identificationMinLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MIN")),e.set("identificationMaxLength",e.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MAX")),a=[Komodo.UI.Validators.alphanumericValidator]}e.get("paymentDetails.paymentType")!==Komodo.MOP.CASH&&e.registerValidator(e.get("paymentDetails"),"payerID",{type:"string",minLength:e.get("identificationMinLength"),maxLength:e.get("identificationMaxLength"),functions:a,isRequired:!0}),e.checkAHVRules()},checkAHVRules:function(){var e=this;if(e.set("paymentDetails.allowDocumentUploads",!1),e.set("paymentDetails.allowSupervisorAuthentication",!1),e.get("paymentDetails.paymentType")===Komodo.MOP.DEBIT_ORDER){var t=void 0;if(Ember.isEmpty(e._context.get("identification.idType"))?Ember.isEmpty(e._context.get("customerDataModel.identityDetailType"))||(t=e._context.get("customerDataModel.identityDetailType")):t=e._context.get("identification.idType"),e.get("_enableRealtimeAHVProcess")){if(!Ember.isEmpty(e.get("paymentDetails.bank"))&&"1"!==e.get("paymentDetails.bank").AHVSupported)return e.set("paymentDetails.allowDocumentUploads",!0),e.set("paymentDetails.allowSupervisorAuthentication",!0),!1;if(!Ember.isEmpty(t))switch(t){case Komodo.CanonicalValues.IdentificationType.Refugee:case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:case Komodo.CanonicalValues.IdentificationType.Passport:return e.set("paymentDetails.allowDocumentUploads",!0),e.set("paymentDetails.allowSupervisorAuthentication",!0),!1}}return!(e.get("_uploadDocuments")&&!e.get("paymentDetails.payerIsCustomer"))||(e.set("paymentDetails.allowDocumentUploads",!0),e.set("paymentDetails.allowSupervisorAuthentication",!0),!1)}},showBusyIndicator:function(){Komodo.Services.busyService.start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,12e5,"blocking",this)},hideBusyIndicator:function(){Komodo.Services.busyService.stop(this.get("processId"),"blocking")},_verifyBankingDetails:function(){var e,t,a=this,o=void 0;$.each(a.get("_accountTypes"),function(t,o){o.key===a.get("paymentDetails.accountType")&&(e=o.value)}),Ember.isEmpty(a._context.get("customerDataModel.firstName"))||Ember.isEmpty(a._context.get("customerDataModel.lastName"))?Ember.isEmpty(a._context.get("customerDataModel.firstName"))&&!Ember.isEmpty(a._context.get("customerDataModel.lastName"))?(t=a._context.get("customerDataModel.lastName").substring(0,1),o=a._context.get("customerDataModel.lastName")):!Ember.isEmpty(a._context.get("customerDataModel.firstName"))&&Ember.isEmpty(a._context.get("customerDataModel.lastName"))&&(t=a._context.get("customerDataModel.firstName").substring(0,1)):(t=a._context.get("customerDataModel.firstName").substring(0,1)+a._context.get("customerDataModel.lastName").substring(0,1),o=a._context.get("customerDataModel.lastName")),a.set("paymentDetails.nonAHVCompliant",!1),a.set("paymentDetails.AHVError",""),a.set("paymentDetails.ahvCompliant",!1),a.set("paymentDetails.ahvOverride",!1),Komodo.Services.queryService.getJSONFromApiRoot("/Verified-Bank-Details?bankAccountNumber="+a.get("paymentDetails.accountNo")+"&bankBranchCode="+a.get("paymentDetails.branchName").BranchCode+"&bankAccountType="+e+"&idNumber="+a.get("paymentDetails.payerID")+"&bankName="+a.get("paymentDetails.bank").CanonicalValue+"&initials="+t+"&surname="+o).done(function(e){if(a.hideBusyIndicator(),e&&e.ahvStatus)switch(e.ahvStatus.toLowerCase()){case Komodo.AHVOverride.Non_Compliant:a.set("paymentDetails.nonAHVCompliant",!0),a.set("paymentDetails.disabeAHVRealtime",!0),a.set("paymentDetails.allowDocumentUploads",!0),a.set("paymentDetails.allowSupervisorAuthentication",!0),e.reason&&(Komodo.Controls.MessageBoxController.show(kl.value("locale.customer:customerInformation.reasonVerifyBankingDetails"),e.reason,Komodo.Controls.MessageBoxOkButton,this,"id5446676","warning"),a.set("paymentDetails.AHVError","Reason: "+e.reason));break;case Komodo.AHVOverride.Compliant:a.set("paymentDetails.ahvCompliant",!0),a.set("paymentDetails.disabeAHVRealtime",!0),a.set("paymentDetails.allowDocumentUploads",!1),a.set("paymentDetails.allowSupervisorAuthentication",!1);break;default:a.set("paymentDetails.nonAHVCompliant",!1),a.set("paymentDetails.ahvCompliant",!1),a.set("paymentDetails.ahvOverride",!1)}}).error(function(e,t,o){a.set("paymentDetails.nonAHVCompliant",!0),a.hideBusyIndicator(),e.responseJSON?a.set("paymentDetails.AHVError","Reason: "+e.responseJSON.detail==void 0?e.responseJSON.MessageDetail:e.responseJSON.detail):a.set("paymentDetails.AHVError",kl.value("locale.customer:customerInformation.ahvUnknownFailure"))})}});
Komodo.Controls.SupportingDocuments=Ember.View.extend(Komodo.Controls.Control,Komodo.UI.Validation,Komodo.Dependency,{templateName:"SupportingDocuments",tabIndex:0,showSerialNumber:!1,init:function(){this._super(),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_featureToggleService",{singleton:Komodo.Services.featureToggleService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this._initializeData()},destroy:function(){},supportingdocuments:Komodo.Models.SupportingDocumentsModel.create(),didInsertElement:function(){this._super();var e=this.get("context"),t=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:"pickfiles",url:KomodoConfiguration.ibsApiUrl+e.get("country")+"/uploaddownload/upload",headers:{"komodo-sessiontoken":Komodo.Services.securityService.get("sessionToken")},filters:{max_file_size:Komodo.UploadConfiguration.MAX_FILE_SIZE,mime_types:[{title:Komodo.UploadConfiguration.IMAGE_FILE_TYPE,extensions:Komodo.UploadConfiguration.IMAGE_FILE_EXTENSION},{title:Komodo.UploadConfiguration.DOCUMENT_FILE_TYPE,extensions:Komodo.UploadConfiguration.DOCUMENT_FILE_EXTENSION}]},init:{PostInit:function(){$("input:file").parent().width(0).height(0).css("visibility","hidden"),$("#filelist > tbody").html("")},FilesAdded:function(e,t){var o=this.customerDocumentController,n=this.customerDocumentController.get("customerDataModel");plupload.each(t,function(t){var a=!1;if($(n.customerDocuments).each(function(e,o){o.get("documentName")===t.name&&(a=!0)}),a)e.removeFile(t);else{var r=Komodo.Models.CreateCustomerNamespace.CustomerDocumentModel.create();r.set("documentName",t.name),r.set("documentSize",plupload.formatSize(t.size)),r.set("uploadPercentage",""),r.set("documentTypes",n.documentTypes),r.set("documentType",void 0),r.set("documentSerialNumbers",o.get("documentSerialNumbers")),r.set("documentSerialNumber",void 0),r.set("uploadStatus","QUEUED"),n.get("customerDocuments").pushObject(r)}})},UploadProgress:function(e,t){!1===e.uploadCanceled&&e.changeFileStatus(this.customerDocumentController.get("customerDataModel"),t)},FileUploaded:function(e,t,o){var n=JSON.parse(o.response)[0];e.changeFileStatus(this.customerDocumentController.get("customerDataModel"),t,n)},Error:function(e,t){Komodo.log(t.response),e.uploadCanceled=!0,e.changeFileStatus(this.customerDocumentController.get("customerDataModel"),t.file)},BeforeUpload:function(e,t){if(!1===e.uploadCanceled){var o=this.customerDocumentController,n=o.get("customerId");e.settings.url=KomodoConfiguration.ibsApiUrl+o.get("country")+"/uploaddownload/upload?customerNumber="+n+"&documentType=";var a=this.customerDocumentController.get("customerDataModel");!1===e.uploadCanceled&&$(a.customerDocuments).each(function(o,n){if(n.get("documentName")===t.name){var a="";"change of ownership letter"===n.get("documentType").toLowerCase()&&(a="&serialNumber="+n.get("documentSerialNumber")),e.settings.url=e.settings.url+n.get("documentType")+a}})}else e.stop()},UploadComplete:function(e,t){e.uploadCanceled=!1;var o=this.customerDocumentController,n=Komodo.Models.SaveDocument.create(),a=Komodo.canonicalFacadeFactory(n,["ListOfDocument"]),r=o.get("customerId"),i=this.customerDocumentController.get("customerDataModel"),s=[];$(i.customerDocuments).each(function(e,t){var o=Komodo.Models.Document.create();o.set("FileType",t.get("documentType")),o.set("DocumentURL",t.get("documentUrl"));var n=[],a=Komodo.Models.DocumentMetaData.create();a.set("DocumentMetaDataValueUri","CustomerId"),a.set("Value",r),n.pushObject(a);var i=Komodo.Models.DocumentMetaData.create();i.set("DocumentMetaDataValueUri","DocumentType"),i.set("Value",t.get("documentType")),n.pushObject(i);var c=Komodo.Models.DocumentMetaData.create();c.set("DocumentMetaDataValueUri","DocumentSerial"),c.set("Value",r),n.pushObject(c),o.set("ListOfDocumentMetaData",n),s.pushObject(o)}),n.set("Country",o.get("loggedInCountryId")),a.set("ListOfDocument",s),Komodo.Services.CustomerService.publishCustomerEvent(o,n,"SaveCustomerDocumentEvent","v2",!1),o.customerCreatedredirect()}}});t.customerDocumentController=e,e.set("fileUploader",t),t.uploadCanceled=!1,t.changeFileStatus=this.fileUploadStatus,t.init()},fileUploadStatus:function(e,t,o){$(e.customerDocuments).each(function(e,n){n.get("documentName")===t.name&&(n.set("uploadPercentage",t.percent+" %"),2===t.status?n.set("uploadStatus","UPLOADING"):4===t.status?(n.set("uploadStatus","FAILED"),n.set("uploadPercentage","0 %")):5===t.status&&(n.set("uploadStatus","DONE"),n.set("documentUrl",o)))})},_initializeData:function(){var e=this,t=e._context.customerDataModel;e.getCachedDataService().fetch("DocumentType").done(function(e){t.documentTypes.clear(),$.each(e,function(e,o){t.documentTypes.pushObject(o)})}).fail(function(){Komodo.error("[ERROR] : could not retrieve hierarchical CDM data for documentTypes")})},getCachedDataService:function(){return this.get("_cachedDataService")},getFeatureToggleService:function(){return this.get("_featureToggleService")},getQueryService:function(){return this.get("_queryService")},getEventAggregator:function(){return this.get("_eventAggregator")},dataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),a=new Uint8Array(n),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return new Blob([n],{type:o})},actions:{viewDocument:function(e){var t=this,o=-1,n="";if(t._context.fileUploader){var n=e._parentView._childViews[0].text,a=t._context.get("customerDataModel");if($(a.customerDocuments).each(function(e,t){t.documentName===n&&(o=e)}),o>-1){var r=new FileReader;r.onload=function(e){saveAs(t.dataURItoBlob(e.target.result),n)},r.readAsDataURL(t._context.fileUploader.files[o].getNative())}}},removeDocument:function(e){var t=this,o=-1,n="";if(t._context.fileUploader){var a=e._parentView._childViews[0].text,r=t._context.get("customerDataModel");$(r.customerDocuments).each(function(e,t){t.documentName===a&&(o=e,n=t.documentName)}),o>-1&&(r.customerDocuments.removeAt(o),t._context.fileUploader.files.removeAt(o))}}}});
Komodo.Controls.Identification=Ember.View.extend(Komodo.Controls.Control,Komodo.UI.Validation,Komodo.Dependency,{templateName:"Identification",identification:Komodo.Models.IdentificationModel.create(),tabIndex:0,firstName:void 0,lastName:void 0,firstNameValidator:void 0,lastNameValidatror:void 0,_idSpecificValidation:!1,_countries:[],_idType:[],init:function(){if(this._super(),this.requiresDependency("_cachedDataService",{singleton:Komodo.Services.cachedDataService}),this.requiresDependency("_eventAggregator",{singleton:Komodo.Services.eventAggregator}),this.requiresDependency("_featureToggleService",{singleton:Komodo.Services.featureToggleService}),this.requiresDependency("_cacheRepository",{singleton:Komodo.Repositories.cacheRepository}),this.requiresDependency("_queryService",{singleton:Komodo.Services.queryService}),this.requiresDependency("_localizationService",{singleton:Komodo.Services.localizationService}),this.requiresDependency("_busyService",{singleton:Komodo.Services.busyService}),this.requiresDependency("_customerService",{singleton:Komodo.Services.CustomerService}),this.getEventAggregator().subscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),this.getEventAggregator().subscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),this._initializeData(),this.get("identification.disable")){var t=this;Object.keys(t.get("identification")).forEach(function(e){t.deregisterValidator(e+"Validator")})}else this._registerValidation()},getValueFromConstant:function(t,e){return this.getCustomerService().getValueFromConstant(t,e)},destroy:function(){var t=this;t.getEventAggregator().unsubscribe(Komodo.EventNames.applicationInitialized,this,this._initializeData),t.getEventAggregator().unsubscribe(Komodo.EventNames.userLoggedIn,this,this._initializeData),Object.keys(t.get("identification")).forEach(function(e){t.deregisterValidator(e+"Validator")}),t._super()},didInsertElement:function(){},_initializeData:function(){var t=this;t.getCachedDataService().fetch("CountryOfOrigin").done(function(e){t.get("_countries").clear(),e.forEach(function(e){t.get("_countries").pushObject({CanonicalValue:e.value,CanonicalKey:e.key})})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for CountryOfOrigin")}),t.getCachedDataService().fetch("IDType").done(function(e){t.get("_idType").clear(),e.forEach(function(e){t.get("_idType").pushObject({CanonicalValue:e.value,CanonicalKey:e.key})})}).fail(function(){Komodo.error("[ERROR] : could not retrieve static CDM data for IDType")}),Komodo.Services.featureToggleService.isEnabled("CustomerGlobal","EnableIdVerification").done(function(e){t.set("_idSpecificValidation",e)}).fail(function(t){Komodo.Services.log("Error while checking feature toggle. Error Details:"+t)})},_registerValidation:function(){var t=this;t.registerValidator(t.get("identification"),"idType",{type:"string",isRequired:!0,groups:["2","1"]}),t.registerValidator(t.get("identification"),"countryOrigin",{type:"string"}),t.registerValidator(t.get("identification"),"expiryDate",{type:"date"}),t._setValidationforID()},getCachedDataService:function(){return this.get("_cachedDataService")},getCustomerService:function(){return this.get("_customerService")},getFeatureToggleService:function(){return this.get("_featureToggleService")},getBusyService:function(){return this.get("_busyService")},getQueryService:function(){return this.get("_queryService")},getEventAggregator:function(){return this.get("_eventAggregator")},getCacheRepository:function(){return this.get("_cacheRepository")},getLocalizationService:function(){return this.get("_localizationService")},_verifyIdNumber:function(){var t=this;t.get("identification.isValidated")||(t.getBusyService().start(!0,this.get("processId"),Komodo.Services.busyIndicatorTypes.Busy,12e5,"blocking",t),Komodo.UI.idFunctions.verifyIdNumber(t.get("firstName"),t.get("lastName"),t.get("identification.value")).done(function(e){t._onSuccess(e),t.set("identification.isValidated",e)}).fail(function(e){t._onFailure(e),Komodo.log(e)}))},_onSuccess:function(t){var e=this;e.getBusyService().stop(e.get("processId"),"blocking"),t||Komodo.Controls.MessageBoxController.show(kl.value("locale.identificationControl:value"),kl.value("locale.identificationControl:invalidId"),Komodo.Controls.MessageBoxOkButtons,e,"id54465673","danger")},_onFailure:function(t){var e=this;e.getBusyService().stop(e.get("processId"),"blocking"),Komodo.Controls.MessageBoxController.show(kl.value("locale.identificationControl:value"),t.responseText,Komodo.Controls.MessageBoxOkButtons,e,"id54465673","danger")},_setValidationforID:function(){var t=this;t._removeDependentProperty("valueValidator");var e,o,i=kl.value("locale.identificationControl:value"),a=[];switch(t.get("identification.idType")){case Komodo.CanonicalValues.IdentificationType.ID:if(e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.IDNUMBERMAX"),a=Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator],t.get("_idSpecificValidation"))switch(t.get("identification.addressCountry")){case"zaf":case void 0:a=[Komodo.UI.Validators.SAIdValidator];break;case"lso":e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MAX"),a=[Komodo.UI.Validators.numericValidator]}break;case Komodo.CanonicalValues.IdentificationType.Passport:e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.PASSPORT_MAX"),t.registerValidator(t.get("identification"),"countryOrigin",{type:"string",isRequired:!0,groups:["2"]}),t.registerValidator(t.get("identification"),"expiryDate",{type:"date",groups:["2"],minDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),isRequired:!0}),a=Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters]:Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?[Komodo.UI.Validators.numericValidator]:[Komodo.UI.Validators.alphanumericValidator];break;case Komodo.CanonicalValues.IdentificationType.Refugee:e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.REFUGEE_ID_MAX"),t.registerValidator(t.get("identification"),"countryOrigin",{type:"string",isRequired:!0,groups:["2"]}),t.registerValidator(t.get("identification"),"expiryDate",{type:"date",groups:["2"],minDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),isRequired:!0}),a=[Komodo.UI.Validators.alphanumericValidator];break;case Komodo.CanonicalValues.IdentificationType.DrivingLicence:e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.DRIVERS_LICENSE_MAX"),Komodo.Services.queryService.getSelectedCountryId()!==t.getValueFromConstant("ProductsConstants","productsConstants.products.NIGERIA")&&Komodo.Services.queryService.getSelectedCountryId()!==t.getValueFromConstant("ProductsConstants","productsConstants.products.GHANA")&&Komodo.Services.queryService.getSelectedCountryId()!==t.getValueFromConstant("ProductsConstants","productsConstants.products.ZIMBABWE")||t.registerValidator(t.get("identification"),"expiryDate",{type:"date",groups:["2"],minDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),isRequired:!0}),a=Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.UGANDA")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.BOTSWANA")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?[Komodo.UI.Validators.numericValidator]:Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters]:[Komodo.UI.Validators.alphanumericValidator];break;case Komodo.CanonicalValues.IdentificationType.VotersId:e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.VOTER_ID_MAX"),a=Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")?[Komodo.UI.Validators.alphanumericValidator]:[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.NationalId:e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_ID_MAX"),a=Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.NIGERIA")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.GHANA")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.ZIMBABWE")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MOZAMBIQUE")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.UGANDA")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MALAWI")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.BOTSWANA")||Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.MAURITIUS")?[Komodo.UI.Validators.alphanumericValidator]:Komodo.Services.queryService.getSelectedCountryId()===t.getValueFromConstant("ProductsConstants","productsConstants.products.ETHIOPIA")?[Komodo.UI.Validators.alphanumericValidatorWithSpecialCharacters]:[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.LSO_ID_MAX"),a=[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.NRC:e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NRC_MAX"),a=[Komodo.UI.Validators.numericValidator];break;case Komodo.CanonicalValues.IdentificationType.NationalInsuranceId:e=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_INSURANCE_ID_MIN"),o=t.getValueFromConstant("CustomerTypesConstants","customerTypesConstants.CustomerValidationsConstants.NATIONAL_INSURANCE_ID_MAX"),a=[Komodo.UI.Validators.alphanumericValidator]}t.registerValidator(t.get("identification"),"value",{type:"string",groups:["1","2"],isRequired:!0,displayName:i,minLength:e,maxLength:o,functions:a}),t.get("validators.valueValidator").validate(),!1!==t.get("identification.isIdentificationNumberRequire")||null!==t.get("identification.idType")&&void 0!==t.get("identification.idType")?t.set("identification.isIdentificationValueDisable",!1):(t._removeDependentProperty("idTypeValidator"),t._removeDependentProperty("valueValidator"),t.set("identification.isIdentificationValueDisable",!0))},_removeDependentProperty:function(t){var e=this;void 0!==e.get("validators."+t)&&void 0!==e.get("validators."+t)&&(e.get("validators."+t).functions.clear(),e.get("validators."+t).validate())},_countryAddressChanged:function(){var t=this;t.get("_idSpecificValidation")&&(t._setValidationforID(),t._validateId(),t.get("validators.valueValidator").validate())}.observes("identification.addressCountry"),_validateValue:function(){var t=this;t.get("_idSpecificValidation")?t.get("identification.idType")===Komodo.CanonicalValues.IdentificationType.ID&&!Ember.isEmpty(t.get("validators.valueValidator"))&&t.get("validators.valueValidator.errors.length")>0&&t.set("identification.isValidated",!1):t.set("identification.isValidated",!0)}.observes("validators.valueValidator.errors.@each"),_getValidationGroup:function(){switch(this.get("identification.idType")){case Komodo.CanonicalValues.IdentificationType.Passport:return Komodo.CanonicalValues.IdentificationType.Passport;case Komodo.CanonicalValues.IdentificationType.Refugee:return Komodo.CanonicalValues.IdentificationType.Refugee;case Komodo.CanonicalValues.IdentificationType.NRC:return Komodo.CanonicalValues.IdentificationType.NRC;default:return Komodo.CanonicalValues.IdentificationType.ID}},_typeChange:function(){var t=this;switch(t.set("identification.value",void 0),t.set("identification.countryOrigin",void 0),t.set("identification.expiryDate",void 0),t._removeDependentProperty("countryOriginValidator"),t._removeDependentProperty("expiryDateValidator"),t._removeDependentProperty("valueValidator"),t.get("identification.idType")){case Komodo.CanonicalValues.IdentificationType.Passport:!1===t.get("identification.isIdentificationNumberRequire")&&t.set("identification.isIdentificationValueDisable",!1);case Komodo.CanonicalValues.IdentificationType.Refugee:t.set("identification.isValidated",!0),t.set("identification.isPassport",!0),t.set("identification.isDriverLicense",!1),t.set("identification.isLSOIdentityNumber",!1),t._setValidationforID();break;case Komodo.CanonicalValues.IdentificationType.ID:t.set("identification.isPassport",!1),t.set("identification.isDriverLicense",!1),t.set("identification.isLSOIdentityNumber",!1),t._setValidationforID(),t._validateId(),!1===t.get("identification.isIdentificationNumberRequire")&&t.set("identification.isIdentificationValueDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.LesothoIdentityNumber:t.set("identification.isPassport",!1),t.set("identification.isDriverLicense",!1),t.set("identification.isLSOIdentityNumber",!0),t.set("identification.isValidated",!0),t._setValidationforID();break;case Komodo.CanonicalValues.IdentificationType.NRC:t.set("identification.isValidated",!0),t.set("identification.isDriverLicense",!1),t.set("identification.isPassport",!1),t.set("identification.isLSOIdentityNumber",!1),t._setValidationforID(),t.get("identification.isIdentificationNumberRequire")||t.set("identification.isIdentificationValueDisable",!1);break;case Komodo.CanonicalValues.IdentificationType.DrivingLicence:t.set("identification.isPassport",!1),t.set("identification.isDriverLicense",!0),t.set("identification.isLSOIdentityNumber",!1),t.set("identification.isValidated",!0),t._setValidationforID();break;case Komodo.CanonicalValues.IdentificationType.VotersId:case Komodo.CanonicalValues.IdentificationType.NationalId:case Komodo.CanonicalValues.IdentificationType.NationalInsuranceId:t.set("identification.isPassport",!1),t.set("identification.isDriverLicense",!1),t.set("identification.isLSOIdentityNumber",!1),t.set("identification.isValidated",!0),t._setValidationforID();break;default:t.set("identification.isValidated",!0),t.set("identification.isDriverLicense",!1),!1===t.get("identification.isIdentificationNumberRequire")&&t.set("identification.isIdentificationValueDisable",!0),t.set("identification.isPassport",!1)}}.observes("identification.idType"),_idValueChanged:function(){var t=this;t.identification.idType===Komodo.CanonicalValues.IdentificationType.ID&&(t._validateId(),t.get("validators.valueValidator").validate(),t.get("validators."+t.get("firstNameValidator")).validate(),t.get("validators."+t.get("lastNameValidator")).validate(),0===t.get("validators.valueValidator.errors.length")&&0===t.get("validators."+t.get("firstNameValidator")+".errors.length")&&t.get("validators."+t.get("lastNameValidator")+".errors.length"))}.observes("identification.value"),_validateId:function(){var t=this;switch(t.get("_idSpecificValidation")&&t.get("identification.addressCountry"),t.set("identification.isValidated",!0),t.get("identification.oldValue")){case null:case void 0:case"":break;default:if(t.get("identification.value")===t.get("identification.oldValue")&&t.get("identification.idType")===t.get("identification.oldType")&&t.get("firstName")===t.get("identification.oldFname")&&t.get("lastName")===t.get("identification.oldLname")){t.set("identification.isValidated",!0);break}}},_getTabIndex:function(t){return(this.get("tabIndex")||0)+t},_tabindexType:function(){return this._getTabIndex(1)}.property("tabIndex"),_tabindexValue:function(){return this._getTabIndex(2)}.property("tabIndex"),_tabindexCountry:function(){return this._getTabIndex(3)}.property("tabIndex"),_tabindexDate:function(){return this._getTabIndex(4)}.property("tabIndex"),_tabindexValidate:function(){return this._getTabIndex(5)}.property("tabIndex")});
if(window.ENV={HELPER_PARAM_LOOKUPS:!0},Komodo.log("CORS Support: "+$.support.cors),!$.support.cors)throw"This application requires a browser with CORS support.";Komodo.Application.reopen({ready:function(){Komodo.Application.routeBuilder&&Komodo.Application.Router.map(function(){Komodo.Application.routeBuilder.apply(this),this.route("unknown",{path:"*path"})}),Komodo.Application.get("_readyCallbacks").forEach(function(o){o.call()})}}),Komodo.startApplication=function(){Komodo.Services.localizationService.start().done(function(){Komodo.Application.advanceReadiness(),Komodo.Services.eventAggregator.publish(Komodo.EventNames.applicationInitialized)})},Komodo.Services.moduleService.loadModules().fail(function(){Komodo.Application.error("[FAILED] : Komodo.Services.moduleService.loadModules")}).always(function(){Komodo.startApplication()});
//# sourceMappingURL=../maps/komodo.min.js.map
